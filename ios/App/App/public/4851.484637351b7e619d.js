"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(w,f,i)=>{i.r(f),i.d(f,{HomePageModule:()=>H});var b=i(4755),h=i(5030),a=i(9972),d=i(96),c=i(5861),e=i(2223),C=i(6118),P=i(83),g=i(5789),m=i(2720),x=i(5089);const A=[{path:"",component:(()=>{class o{constructor(t,n,r,l,s,p,y,v){this.router=t,this.loginService=n,this.deviceMotion=r,this.vibration=l,this.flashlight=s,this.screenOrientation=p,this.modalCtrl=y,this.alertController=v,this.fondoColor="green",this.imgCandado="../../assets/images/candadoCerrado.png",this.encedido=!1,this.x=".",this.y=".",this.z=".",this.timeSpam="-",this.isLeft=!1,this.isRight=!1,this.isVertial=!1,this.isHorizontal=!0}activarAlarma(){var t=this;return(0,c.Z)(function*(){var r;t.encedido=!t.encedido,t.encedido?(t.imgCandado="../../assets/images/candadoAbierto.png",t.fondoColor="danger",t.start()):yield(yield t.alertController.create({header:"Ingrese su contrase\xf1a",inputs:[{name:"password",type:"password",placeholder:"Contrase\xf1a"}],buttons:[{text:"Cancelar",handler:(r=(0,c.Z)(function*(){t.encedido=!0}),function(){return r.apply(this,arguments)})},{text:"Confirmar",handler:function(){var r=(0,c.Z)(function*(l){t.confirmarPassword(l.password)});return function(s){return r.apply(this,arguments)}}()}],cssClass:"my-custom-class",backdropDismiss:!1})).present()})()}confirmarPassword(t){var n=this;return(0,c.Z)(function*(){if("123456"===t)n.subscription&&(n.imgCandado="../../assets/images/candadoCerrado.png",n.fondoColor="green",n.subscription.unsubscribe());else{const l=yield n.alertController.create({header:"Contrase\xf1a incorrecta",message:"La alarma seguir\xe1 activada.",buttons:["Aceptar"],cssClass:"my-custom-class",backdropDismiss:!1});n.flashlight.switchOn(),n.playAudio("dios.m4a"),n.vibration.vibrate(5e3),setTimeout(()=>n.flashlight.switchOff(),5e3),setTimeout(()=>n.playAudio("dios.m4a"),5e3),yield l.present()}})()}logout(){this.loginService.signOut().then(()=>{this.router.navigate(["/login"])})}start(){var t=this;return(0,c.Z)(function*(){t.subscription=t.deviceMotion.watchAcceleration({frequency:200}).subscribe(function(){var l=(0,c.Z)(function*(s){s.x>=2&&!t.isLeft&&(t.isLeft=!0,t.isRight=!1,t.playAudio("hurtando.m4a")),s.x<=-2&&!t.isRight&&(t.isRight=!0,t.isLeft=!1,t.playAudio("epa.m4a")),s.y>8&&s.z<2&&!t.isVertial&&(yield t.flashlight.available())&&(t.isVertial=!0,t.isHorizontal=!1,t.flashlight.switchOn(),t.playAudio("dejalo.m4a"),setTimeout(()=>t.flashlight.switchOff(),5e3)),s.y<2&&s.z>8&&!t.isHorizontal&&(t.isHorizontal=!0,t.isVertial=!1,t.vibration.vibrate(5e3),t.playAudio("dios.m4a"))});return function(s){return l.apply(this,arguments)}}())})()}lockOrientation(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT)}playAudio(t){var n=this;return(0,c.Z)(function*(){yield n.delay(3e3),new Audio("../../assets/audio/"+t).play()})()}delay(t){return(0,c.Z)(function*(){return new Promise(n=>setTimeout(n,t))})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.F0),e.Y36(C.e),e.Y36(P.S),e.Y36(g.w),e.Y36(m.y),e.Y36(x.E),e.Y36(a.IN),e.Y36(a.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:8,vars:4,consts:[[3,"translucent"],["horizontal","start","slot","start"],[3,"click"],["name","power-outline"],[3,"fullscreen"],["expand","full","shape","round",1,"full-screen-button",3,"color","click"],[1,"boton-imagen",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-fab",1)(3,"ion-fab-button",2),e.NdJ("click",function(){return n.logout()}),e._UZ(4,"ion-icon",3),e.qZA()()()(),e.TgZ(5,"ion-content",4)(6,"ion-button",5),e.NdJ("click",function(){return n.activarAlarma()}),e._UZ(7,"ion-img",6),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(5),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("color",n.fondoColor),e.xp6(1),e.Q6J("src",n.imgCandado))},dependencies:[a.YG,a.W2,a.IJ,a.W4,a.Gu,a.gu,a.Xz,a.sr],styles:['@charset "UTF-8";.full-screen-button[_ngcontent-%COMP%]{padding:2rem;width:100%;height:95vh;display:flex;align-items:center;justify-content:center}.boton-imagen[_ngcontent-%COMP%]{max-width:80%;max-height:80%}ion-icon[_ngcontent-%COMP%]{color:#000}ion-content[_ngcontent-%COMP%]{--background:rgb(28, 196, 28);--ion-content-background: #fff;--ion-content-padding: 0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;transform:rotate(0);transform-origin:center center;position:fixed;top:0;left:0}ion-toolbar[_ngcontent-%COMP%]{--background: url(rojo.7733a5f0f0a752bc.jpg);color:#f0f8ff}.fab-image[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain}@media (min-width: 768px){.full-screen-button[_ngcontent-%COMP%]{height:85vh}.boton-imagen[_ngcontent-%COMP%]{max-width:130px;max-height:130px}}']}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(A),d.Bz]}),o})(),H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[m.y,g.w],imports:[b.ez,h.u5,a.Pc,O,h.UX]}),o})()}}]);