(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(ln,ut,L)=>{"use strict";L.d(ut,{nm:()=>Wr});var y=L(3324),be=(L(2223),L(3692),L(259),L(5861)),we=L(6881),de=L(4859),De=L(2090),$e=L(1877);const U=new Map,Ce={activated:!1,tokenObservers:[]},Ue={initialized:!1,enabled:!1};function ve(W){return U.get(W)||Object.assign({},Ce)}function qe(){return Ue}const bt="https://content-firebaseappcheck.googleapis.com/v1",vt="exchangeDebugToken",it={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rt{constructor(ee,_e,ae,G,oe){if(this.operation=ee,this.retryPolicy=_e,this.getWaitDuration=ae,this.lowerBound=G,this.upperBound=oe,this.pending=null,this.nextErrorWaitInterval=G,G>oe)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ee){var _e=this;return(0,be.Z)(function*(){_e.stop();try{_e.pending=new De.BH,yield function ft(W){return new Promise(ee=>{setTimeout(ee,W)})}(_e.getNextRun(ee)),_e.pending.resolve(),yield _e.pending.promise,_e.pending=new De.BH,yield _e.operation(),_e.pending.resolve(),yield _e.pending.promise,_e.process(!0).catch(()=>{})}catch(ae){_e.retryPolicy(ae)?_e.process(!1).catch(()=>{}):_e.stop()}})()}getNextRun(ee){if(ee)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_e}}}const Ze=new De.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(W){if(!ve(W).activated)throw Ze.create("use-before-activation",{appName:W.name})}function yt(W,ee){return ce.apply(this,arguments)}function ce(){return(ce=(0,be.Z)(function*({url:W,body:ee},_e){const ae={"Content-Type":"application/json"},G=_e.getImmediate({optional:!0});if(G){const dn=yield G.getHeartbeatsHeader();dn&&(ae["X-Firebase-Client"]=dn)}const oe={method:"POST",body:JSON.stringify(ee),headers:ae};let Be,Xe;try{Be=yield fetch(W,oe)}catch(dn){throw Ze.create("fetch-network-error",{originalErrorMessage:null==dn?void 0:dn.message})}if(200!==Be.status)throw Ze.create("fetch-status-error",{httpStatus:Be.status});try{Xe=yield Be.json()}catch(dn){throw Ze.create("fetch-parse-error",{originalErrorMessage:null==dn?void 0:dn.message})}const dt=Xe.ttl.match(/^([\d.]+)(s)$/);if(!dt||!dt[2]||isNaN(Number(dt[1])))throw Ze.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xe.ttl}`});const xt=1e3*Number(dt[1]),on=Date.now();return{token:Xe.token,expireTimeMillis:on+xt,issuedAtTimeMillis:on}})).apply(this,arguments)}function We(W,ee){const{projectId:_e,appId:ae,apiKey:G}=W.options;return{url:`${bt}/projects/${_e}/apps/${ae}:${vt}?key=${G}`,body:{debug_token:ee}}}const ke="firebase-app-check-database",Fe=1,He="firebase-app-check-store";let ct=null;function Jt(){return(Jt=(0,be.Z)(function*(W,ee){const ae=(yield function Tt(){return ct||(ct=new Promise((W,ee)=>{try{const _e=indexedDB.open(ke,Fe);_e.onsuccess=ae=>{W(ae.target.result)},_e.onerror=ae=>{var G;ee(Ze.create("storage-open",{originalErrorMessage:null===(G=ae.target.error)||void 0===G?void 0:G.message}))},_e.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(He,{keyPath:"compositeKey"})}}catch(_e){ee(Ze.create("storage-open",{originalErrorMessage:null==_e?void 0:_e.message}))}}),ct)}()).transaction(He,"readwrite"),oe=ae.objectStore(He).put({compositeKey:W,value:ee});return new Promise((Be,Xe)=>{oe.onsuccess=dt=>{Be()},ae.onerror=dt=>{var xt;Xe(Ze.create("storage-set",{originalErrorMessage:null===(xt=dt.target.error)||void 0===xt?void 0:xt.message}))}})})).apply(this,arguments)}const Nt=new $e.Yd("@firebase/app-check");function rr(W,ee){return(0,De.hl)()?function sn(W,ee){return function Ot(W,ee){return Jt.apply(this,arguments)}(function En(W){return`${W.options.appId}-${W.name}`}(W),ee)}(W,ee).catch(_e=>{Nt.warn(`Failed to write token to IndexedDB. Error: ${_e}`)}):Promise.resolve()}function nn(){return qe().enabled}function Lr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,be.Z)(function*(){const W=qe();if(W.enabled&&W.token)return W.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tr={error:"UNKNOWN_ERROR"};function Ar(W){return De.US.encodeString(JSON.stringify(W),!1)}function Sn(W){return vn.apply(this,arguments)}function vn(){return(vn=(0,be.Z)(function*(W,ee=!1){const _e=W.app;St(_e);const ae=ve(_e);let oe,G=ae.token;if(G&&!Pn(G)&&(ae.token=void 0,G=void 0),!G){const dt=yield ae.cachedTokenPromise;dt&&(Pn(dt)?G=dt:yield rr(_e,void 0))}if(!ee&&G&&Pn(G))return{token:G.token};let Xe,Be=!1;if(nn()){ae.exchangeTokenPromise||(ae.exchangeTokenPromise=yt(We(_e,yield Lr()),W.heartbeatServiceProvider).finally(()=>{ae.exchangeTokenPromise=void 0}),Be=!0);const dt=yield ae.exchangeTokenPromise;return yield rr(_e,dt),ae.token=dt,{token:dt.token}}try{ae.exchangeTokenPromise||(ae.exchangeTokenPromise=ae.provider.getToken().finally(()=>{ae.exchangeTokenPromise=void 0}),Be=!0),G=yield ve(_e).exchangeTokenPromise}catch(dt){"appCheck/throttled"===dt.code?Nt.warn(dt.message):Nt.error(dt),oe=dt}return G?oe?Xe=Pn(G)?{token:G.token,internalError:oe}:Jr(oe):(Xe={token:G.token},ae.token=G,yield rr(_e,G)):Xe=Jr(oe),Be&&function Kn(W,ee){const _e=ve(W).tokenObservers;for(const ae of _e)try{"EXTERNAL"===ae.type&&null!=ee.error?ae.error(ee.error):ae.next(ee)}catch{}}(_e,Xe),Xe})).apply(this,arguments)}function Vn(W){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,be.Z)(function*(W){const ee=W.app;St(ee);const{provider:_e}=ve(ee);if(nn()){const ae=yield Lr(),{token:G}=yield yt(We(ee,ae),W.heartbeatServiceProvider);return{token:G}}{const{token:ae}=yield _e.getToken();return{token:ae}}})).apply(this,arguments)}function ur(W,ee){const _e=ve(W),ae=_e.tokenObservers.filter(G=>G.next!==ee);0===ae.length&&_e.tokenRefresher&&_e.tokenRefresher.isRunning()&&_e.tokenRefresher.stop(),_e.tokenObservers=ae}function Nr(W){const{app:ee}=W,_e=ve(ee);let ae=_e.tokenRefresher;ae||(ae=function br(W){const{app:ee}=W;return new rt((0,be.Z)(function*(){let ae;if(ae=ve(ee).token?yield Sn(W,!0):yield Sn(W),ae.error)throw ae.error;if(ae.internalError)throw ae.internalError}),()=>!0,()=>{const _e=ve(ee);if(_e.token){let ae=_e.token.issuedAtTimeMillis+.5*(_e.token.expireTimeMillis-_e.token.issuedAtTimeMillis)+3e5;return ae=Math.min(ae,_e.token.expireTimeMillis-3e5),Math.max(0,ae-Date.now())}return 0},it.RETRIAL_MIN_WAIT,it.RETRIAL_MAX_WAIT)}(W),_e.tokenRefresher=ae),!ae.isRunning()&&_e.isTokenAutoRefreshEnabled&&ae.start()}function Pn(W){return W.expireTimeMillis-Date.now()>0}function Jr(W){return{token:Ar(Tr),error:W}}class Hn{constructor(ee,_e){this.app=ee,this.heartbeatServiceProvider=_e}_delete(){const{tokenObservers:ee}=ve(this.app);for(const _e of ee)ur(this.app,_e.next);return Promise.resolve()}}const _n="app-check-internal";!function kn(){(0,we._registerComponent)(new de.wA("app-check",W=>function jt(W,ee){return new Hn(W,ee)}(W.getProvider("app").getImmediate(),W.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((W,ee,_e)=>{W.getProvider(_n).initialize()})),(0,we._registerComponent)(new de.wA(_n,W=>function fe(W){return{getToken:ee=>Sn(W,ee),getLimitedUseToken:()=>Vn(W),addTokenListener:ee=>function vr(W,ee,_e,ae){const{app:G}=W,oe=ve(G);if(oe.tokenObservers=[...oe.tokenObservers,{next:_e,error:ae,type:ee}],oe.token&&Pn(oe.token)){const Xe=oe.token;Promise.resolve().then(()=>{_e({token:Xe.token}),Nr(W)}).catch(()=>{})}oe.cachedTokenPromise.then(()=>Nr(W))}(W,"INTERNAL",ee),removeTokenListener:ee=>ur(W.app,ee)}}(W.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.8.0")}();class Wr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(ln,ut,L)=>{"use strict";L.d(ut,{Ot:()=>me,ZF:()=>Me,hX:()=>ve,z6:()=>be});var y=L(259),g=L(2223),ie=L(3324);class me{constructor(rt){return rt}}class be{constructor(){return(0,y.C6)()}}const De=new g.OlP("angularfire2._apps"),$e={provide:me,useFactory:function de(Ge){return Ge&&1===Ge.length?Ge[0]:new me((0,y.Mq)())},deps:[[new g.FiY,De]]},U={provide:be,deps:[[new g.FiY,De]]};function Ce(Ge){return(rt,ft)=>{const _t=rt.runOutsideAngular(()=>Ge(ft));return new me(_t)}}let Ue=(()=>{class Ge{constructor(ft){(0,y.KN)("angularfire",ie.q4.full,"core"),(0,y.KN)("angularfire",ie.q4.full,"app"),(0,y.KN)("angular",g.q4F.full,ft.toString())}}return Ge.\u0275fac=function(ft){return new(ft||Ge)(g.LFG(g.Lbi))},Ge.\u0275mod=g.oAB({type:Ge}),Ge.\u0275inj=g.cJS({providers:[$e,U]}),Ge})();function ve(Ge,...rt){return{ngModule:Ue,providers:[{provide:De,useFactory:Ce(Ge),multi:!0,deps:[g.R0b,g.zs3,ie.HU,...rt]}]}}const Me=(0,ie.u3)(y.ZF,!0)},3385:(ln,ut,L)=>{"use strict";L.d(ut,{zQ:()=>pt,ww:()=>yt,rT:()=>Ze,f7:()=>St,L6:()=>ft,_Q:()=>_t,lh:()=>xe,Qv:()=>rt,nw:()=>tt});var y=L(2223),g=L(7579),ie=L(9646),me=L(9751),be=L(8996),we=L(6451),de=L(5363),De=L(3900),$e=L(4004),U=L(3151),Ce=L(590),Ue=L(576);function ve(ce,Pe){return(0,Ue.m)(Pe)?(0,De.w)(()=>ce,Pe):(0,De.w)(()=>ce)}var Ve=L(9468),qe=L(9300),bt=L(3324),Me=L(2011),Ee=L(4755),vt=L(2313),it=L(9260);const rt=new y.OlP("angularfire2.auth.use-emulator"),ft=new y.OlP("angularfire2.auth.settings"),_t=new y.OlP("angularfire2.auth.tenant-id"),Ze=new y.OlP("angularfire2.auth.langugage-code"),xe=new y.OlP("angularfire2.auth.use-device-language"),St=new y.OlP("angularfire.auth.persistence"),tt=(ce,Pe,je,We,ke,Fe,He,mt)=>(0,Me.cc)(`${ce.name}.auth`,"AngularFireAuth",ce.name,()=>{const ct=Pe.runOutsideAngular(()=>ce.auth());if(je&&ct.useEmulator(...je),We&&(ct.tenantId=We),ct.languageCode=ke,Fe&&ct.useDeviceLanguage(),He)for(const[Tt,Pt]of Object.entries(He))ct.settings[Tt]=Pt;return mt&&ct.setPersistence(mt),ct},[je,We,ke,Fe,He,mt]);let pt=(()=>{class ce{constructor(je,We,ke,Fe,He,mt,ct,Tt,Pt,sn,At,et){const Ot=new g.x,Jt=(0,ie.of)(void 0).pipe((0,de.Q)(He.outsideAngular),(0,De.w)(()=>Fe.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,$e.U)(()=>(0,Me.on)(je,Fe,We)),(0,$e.U)(fn=>tt(fn,Fe,mt,Tt,Pt,sn,ct,At)),(0,U.d)({bufferSize:1,refCount:!1}));if((0,Ee.PM)(ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ie.of)(null);else{Jt.pipe((0,Ce.P)()).subscribe();const Tn=Jt.pipe((0,De.w)(In=>In.getRedirectResult().then(Bt=>Bt,()=>null)),bt.iC,(0,U.d)({bufferSize:1,refCount:!1})),En=Jt.pipe((0,De.w)(In=>new me.y(Bt=>({unsubscribe:Fe.runOutsideAngular(()=>In.onAuthStateChanged(rr=>Bt.next(rr),rr=>Bt.error(rr),()=>Bt.complete()))})))),Nt=Jt.pipe((0,De.w)(In=>new me.y(Bt=>({unsubscribe:Fe.runOutsideAngular(()=>In.onIdTokenChanged(rr=>Bt.next(rr),rr=>Bt.error(rr),()=>Bt.complete()))}))));this.authState=Tn.pipe(ve(En),(0,Ve.R)(He.outsideAngular),(0,de.Q)(He.insideAngular)),this.user=Tn.pipe(ve(Nt),(0,Ve.R)(He.outsideAngular),(0,de.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,De.w)(In=>In?(0,be.D)(In.getIdToken()):(0,ie.of)(null))),this.idTokenResult=this.user.pipe((0,De.w)(In=>In?(0,be.D)(In.getIdTokenResult()):(0,ie.of)(null))),this.credential=(0,we.T)(Tn,Ot,this.authState.pipe((0,qe.h)(In=>!In))).pipe((0,$e.U)(In=>null!=In&&In.user?In:null),(0,Ve.R)(He.outsideAngular),(0,de.Q)(He.insideAngular))}return(0,Me.pX)(this,Jt,Fe,{spy:{apply:(fn,Tn,En)=>{(fn.startsWith("signIn")||fn.startsWith("createUser"))&&En.then(Nt=>Ot.next(Nt))}}})}}return ce.\u0275fac=function(je){return new(je||ce)(y.LFG(Me.Dh),y.LFG(Me.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(bt.HU),y.LFG(rt,8),y.LFG(ft,8),y.LFG(_t,8),y.LFG(Ze,8),y.LFG(xe,8),y.LFG(St,8),y.LFG(vt.nm,8))},ce.\u0275prov=y.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})(),yt=(()=>{class ce{constructor(){it.Z.registerVersion("angularfire",bt.q4.full,"auth-compat")}}return ce.\u0275fac=function(je){return new(je||ce)},ce.\u0275mod=y.oAB({type:ce}),ce.\u0275inj=y.cJS({providers:[pt]}),ce})()},1085:(ln,ut,L)=>{"use strict";L.d(ut,{ST:()=>Jr,yb:()=>Hn});var y=L(2223),g=L(4986),ie=L(9751),me=L(8996),be=L(9646),we=L(3324),de=L(8675),De=L(1520),$e=L(4004),U=L(5026),Ce=L(1884),Ue=L(9300),ve=L(2011),Ve=L(4755),bt=(L(9568),L(3942)),Me=L(2810),Ee=L(2090),vt=L(4859);function rt(jt,fe){if(void 0===fe)return{merge:!1};if(void 0!==fe.mergeFields&&void 0!==fe.merge)throw new Me.WA("invalid-argument",`Invalid options passed to function ${jt}(): You cannot specify both "merge" and "mergeFields".`);return fe}function ft(){if(typeof Uint8Array>"u")throw new Me.WA("unimplemented","Uint8Arrays are not available in this environment.")}function _t(){if(!(0,Me.Me)())throw new Me.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ze{constructor(fe){this._delegate=fe}static fromBase64String(fe){return _t(),new Ze(Me.Jj.fromBase64String(fe))}static fromUint8Array(fe){return ft(),new Ze(Me.Jj.fromUint8Array(fe))}toBase64(){return _t(),this._delegate.toBase64()}toUint8Array(){return ft(),this._delegate.toUint8Array()}isEqual(fe){return this._delegate.isEqual(fe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xe(jt){return function St(jt,fe){if("object"!=typeof jt||null===jt)return!1;const ze=jt;for(const Mt of fe)if(Mt in ze&&"function"==typeof ze[Mt])return!0;return!1}(jt,["next","error","complete"])}class tt{enableIndexedDbPersistence(fe,ze){return(0,Me.ST)(fe._delegate,{forceOwnership:ze})}enableMultiTabIndexedDbPersistence(fe){return(0,Me.fH)(fe._delegate)}clearIndexedDbPersistence(fe){return(0,Me.Fc)(fe._delegate)}}class pt{constructor(fe,ze,Mt){this._delegate=ze,this._persistenceProvider=Mt,this.INTERNAL={delete:()=>this.terminate()},fe instanceof Me.l7||(this._appCompat=fe)}get _databaseId(){return this._delegate._databaseId}settings(fe){const ze=this._delegate._getSettings();!fe.merge&&ze.host!==fe.host&&(0,Me.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),fe.merge&&delete(fe=Object.assign(Object.assign({},ze),fe)).merge,this._delegate._setSettings(fe)}useEmulator(fe,ze,Mt={}){(0,Me.at)(this._delegate,fe,ze,Mt)}enableNetwork(){return(0,Me.Ix)(this._delegate)}disableNetwork(){return(0,Me.TF)(this._delegate)}enablePersistence(fe){let ze=!1,Mt=!1;return fe&&(ze=!!fe.synchronizeTabs,Mt=!!fe.experimentalForceOwningTab,(0,Me.Wi)("synchronizeTabs",ze,"experimentalForceOwningTab",Mt)),ze?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Mt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Me.Mx)(this._delegate)}onSnapshotsInSync(fe){return(0,Me.sc)(this._delegate,fe)}get app(){if(!this._appCompat)throw new Me.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(fe){try{return new et(this,(0,Me.hJ)(this._delegate,fe))}catch(ze){throw Fe(ze,"collection()","Firestore.collection()")}}doc(fe){try{return new ke(this,(0,Me.JU)(this._delegate,fe))}catch(ze){throw Fe(ze,"doc()","Firestore.doc()")}}collectionGroup(fe){try{return new Pt(this,(0,Me.B$)(this._delegate,fe))}catch(ze){throw Fe(ze,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(fe){return(0,Me.i3)(this._delegate,ze=>fe(new Pe(this,ze)))}batch(){return(0,Me.qY)(this._delegate),new je(new Me.PU(this._delegate,fe=>(0,Me.GL)(this._delegate,fe)))}loadBundle(fe){return(0,Me.Pb)(this._delegate,fe)}namedQuery(fe){return(0,Me.L$)(this._delegate,fe).then(ze=>ze?new Pt(this,ze):null)}}class yt extends Me.u7{constructor(fe){super(),this.firestore=fe}convertBytes(fe){return new Ze(new Me.Jj(fe))}convertReference(fe){const ze=this.convertDocumentKey(fe,this.firestore._databaseId);return ke.forKey(ze,this.firestore,null)}}class Pe{constructor(fe,ze){this._firestore=fe,this._delegate=ze,this._userDataWriter=new yt(fe)}get(fe){const ze=Ot(fe);return this._delegate.get(ze).then(Mt=>new ct(this._firestore,new Me.xU(this._firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,ze.converter)))}set(fe,ze,Mt){const an=Ot(fe);return Mt?(rt("Transaction.set",Mt),this._delegate.set(an,ze,Mt)):this._delegate.set(an,ze),this}update(fe,ze,Mt,...an){const mn=Ot(fe);return 2===arguments.length?this._delegate.update(mn,ze):this._delegate.update(mn,ze,Mt,...an),this}delete(fe){const ze=Ot(fe);return this._delegate.delete(ze),this}}class je{constructor(fe){this._delegate=fe}set(fe,ze,Mt){const an=Ot(fe);return Mt?(rt("WriteBatch.set",Mt),this._delegate.set(an,ze,Mt)):this._delegate.set(an,ze),this}update(fe,ze,Mt,...an){const mn=Ot(fe);return 2===arguments.length?this._delegate.update(mn,ze):this._delegate.update(mn,ze,Mt,...an),this}delete(fe){const ze=Ot(fe);return this._delegate.delete(ze),this}commit(){return this._delegate.commit()}}class We{constructor(fe,ze,Mt){this._firestore=fe,this._userDataWriter=ze,this._delegate=Mt}fromFirestore(fe,ze){const Mt=new Me.$q(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,null);return this._delegate.fromFirestore(new Tt(this._firestore,Mt),null!=ze?ze:{})}toFirestore(fe,ze){return ze?this._delegate.toFirestore(fe,ze):this._delegate.toFirestore(fe)}static getInstance(fe,ze){const Mt=We.INSTANCES;let an=Mt.get(fe);an||(an=new WeakMap,Mt.set(fe,an));let mn=an.get(ze);return mn||(mn=new We(fe,new yt(fe),ze),an.set(ze,mn)),mn}}We.INSTANCES=new WeakMap;class ke{constructor(fe,ze){this.firestore=fe,this._delegate=ze,this._userDataWriter=new yt(fe)}static forPath(fe,ze,Mt){if(fe.length%2!=0)throw new Me.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${fe.canonicalString()} has ${fe.length}`);return new ke(ze,new Me.my(ze._delegate,Mt,new Me.Ky(fe)))}static forKey(fe,ze,Mt){return new ke(ze,new Me.my(ze._delegate,Mt,fe))}get id(){return this._delegate.id}get parent(){return new et(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(fe){try{return new et(this.firestore,(0,Me.hJ)(this._delegate,fe))}catch(ze){throw Fe(ze,"collection()","DocumentReference.collection()")}}isEqual(fe){return(fe=(0,Ee.m9)(fe))instanceof Me.my&&(0,Me.Eo)(this._delegate,fe)}set(fe,ze){ze=rt("DocumentReference.set",ze);try{return ze?(0,Me.pl)(this._delegate,fe,ze):(0,Me.pl)(this._delegate,fe)}catch(Mt){throw Fe(Mt,"setDoc()","DocumentReference.set()")}}update(fe,ze,...Mt){try{return 1===arguments.length?(0,Me.r7)(this._delegate,fe):(0,Me.r7)(this._delegate,fe,ze,...Mt)}catch(an){throw Fe(an,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Me.oe)(this._delegate)}onSnapshot(...fe){const ze=He(fe),Mt=mt(fe,an=>new ct(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,an._key,an._document,an.metadata,this._delegate.converter)));return(0,Me.cf)(this._delegate,ze,Mt)}get(fe){let ze;return ze="cache"===(null==fe?void 0:fe.source)?(0,Me.kl)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Me.Xk)(this._delegate):(0,Me.QT)(this._delegate),ze.then(Mt=>new ct(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,this._delegate.converter)))}withConverter(fe){return new ke(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}function Fe(jt,fe,ze){return jt.message=jt.message.replace(fe,ze),jt}function He(jt){for(const fe of jt)if("object"==typeof fe&&!xe(fe))return fe;return{}}function mt(jt,fe){var ze,Mt;let an;return an=xe(jt[0])?jt[0]:xe(jt[1])?jt[1]:"function"==typeof jt[0]?{next:jt[0],error:jt[1],complete:jt[2]}:{next:jt[1],error:jt[2],complete:jt[3]},{next:mn=>{an.next&&an.next(fe(mn))},error:null===(ze=an.error)||void 0===ze?void 0:ze.bind(an),complete:null===(Mt=an.complete)||void 0===Mt?void 0:Mt.bind(an)}}class ct{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get ref(){return new ke(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(fe){return this._delegate.data(fe)}get(fe,ze){return this._delegate.get(fe,ze)}isEqual(fe){return(0,Me.qK)(this._delegate,fe._delegate)}}class Tt extends ct{data(fe){const ze=this._delegate.data(fe);return(0,Me.K9)(void 0!==ze,"Document in a QueryDocumentSnapshot should exist"),ze}}class Pt{constructor(fe,ze){this.firestore=fe,this._delegate=ze,this._userDataWriter=new yt(fe)}where(fe,ze,Mt){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.ar)(fe,ze,Mt)))}catch(an){throw Fe(an,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(fe,ze){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Xo)(fe,ze)))}catch(Mt){throw Fe(Mt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.b9)(fe)))}catch(ze){throw Fe(ze,"limit()","Query.limit()")}}limitToLast(fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.vh)(fe)))}catch(ze){throw Fe(ze,"limitToLast()","Query.limitToLast()")}}startAt(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.e0)(...fe)))}catch(ze){throw Fe(ze,"startAt()","Query.startAt()")}}startAfter(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.TQ)(...fe)))}catch(ze){throw Fe(ze,"startAfter()","Query.startAfter()")}}endBefore(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Lx)(...fe)))}catch(ze){throw Fe(ze,"endBefore()","Query.endBefore()")}}endAt(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Wu)(...fe)))}catch(ze){throw Fe(ze,"endAt()","Query.endAt()")}}isEqual(fe){return(0,Me.iE)(this._delegate,fe._delegate)}get(fe){let ze;return ze="cache"===(null==fe?void 0:fe.source)?(0,Me.UQ)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Me.zN)(this._delegate):(0,Me.PL)(this._delegate),ze.then(Mt=>new At(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,Mt._snapshot)))}onSnapshot(...fe){const ze=He(fe),Mt=mt(fe,an=>new At(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,an._snapshot)));return(0,Me.cf)(this._delegate,ze,Mt)}withConverter(fe){return new Pt(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}class sn{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get type(){return this._delegate.type}get doc(){return new Tt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class At{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get query(){return new Pt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(fe=>new Tt(this._firestore,fe))}docChanges(fe){return this._delegate.docChanges(fe).map(ze=>new sn(this._firestore,ze))}forEach(fe,ze){this._delegate.forEach(Mt=>{fe.call(ze,new Tt(this._firestore,Mt))})}isEqual(fe){return(0,Me.qK)(this._delegate,fe._delegate)}}class et extends Pt{constructor(fe,ze){super(fe,ze),this.firestore=fe,this._delegate=ze}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const fe=this._delegate.parent;return fe?new ke(this.firestore,fe):null}doc(fe){try{return new ke(this.firestore,void 0===fe?(0,Me.JU)(this._delegate):(0,Me.JU)(this._delegate,fe))}catch(ze){throw Fe(ze,"doc()","CollectionReference.doc()")}}add(fe){return(0,Me.ET)(this._delegate,fe).then(ze=>new ke(this.firestore,ze))}isEqual(fe){return(0,Me.Eo)(this._delegate,fe._delegate)}withConverter(fe){return new et(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}function Ot(jt){return(0,Me.Cf)(jt,Me.my)}class Jt{constructor(...fe){this._delegate=new Me.Lz(...fe)}static documentId(){return new Jt(Me.Xb.keyField().canonicalString())}isEqual(fe){return(fe=(0,Ee.m9)(fe))instanceof Me.Lz&&this._delegate._internalPath.isEqual(fe._internalPath)}}class fn{constructor(fe){this._delegate=fe}static serverTimestamp(){const fe=(0,Me.Bt)();return fe._methodName="FieldValue.serverTimestamp",new fn(fe)}static delete(){const fe=(0,Me.AK)();return fe._methodName="FieldValue.delete",new fn(fe)}static arrayUnion(...fe){const ze=(0,Me.vr)(...fe);return ze._methodName="FieldValue.arrayUnion",new fn(ze)}static arrayRemove(...fe){const ze=(0,Me.Ab)(...fe);return ze._methodName="FieldValue.arrayRemove",new fn(ze)}static increment(fe){const ze=(0,Me.nP)(fe);return ze._methodName="FieldValue.increment",new fn(ze)}isEqual(fe){return this._delegate.isEqual(fe._delegate)}}const Tn={Firestore:pt,GeoPoint:Me.F8,Timestamp:Me.EK,Blob:Ze,Transaction:Pe,WriteBatch:je,DocumentReference:ke,DocumentSnapshot:ct,Query:Pt,QueryDocumentSnapshot:Tt,QuerySnapshot:At,CollectionReference:et,FieldPath:Jt,FieldValue:fn,setLogLevel:function ce(jt){(0,Me.Ub)(jt)},CACHE_SIZE_UNLIMITED:Me.IX};!function Nt(jt){(function En(jt,fe){jt.INTERNAL.registerComponent(new vt.wA("firestore-compat",ze=>{const Mt=ze.getProvider("app-compat").getImmediate(),an=ze.getProvider("firestore").getImmediate();return fe(Mt,an)},"PUBLIC").setServiceProps(Object.assign({},Tn)))})(jt,(fe,ze)=>new pt(fe,ze,new tt)),jt.registerVersion("@firebase/firestore-compat","0.3.10")}(bt.Z);var In=L(3385),Bt=L(2313),rr=L(9260);function pr(jt,fe){return function hr(jt,fe=g.z){return new ie.y(ze=>{let Mt;return null!=fe?fe.schedule(()=>{Mt=jt.onSnapshot({includeMetadataChanges:!0},ze)}):Mt=jt.onSnapshot({includeMetadataChanges:!0},ze),()=>{null!=Mt&&Mt()}})}(jt,fe)}function Lr(jt,fe){return pr(jt,fe).pipe((0,$e.U)(ze=>({payload:ze,type:"query"})))}function ir(jt,fe){return Lr(jt,fe).pipe((0,de.O)(void 0),(0,De.G)(),(0,$e.U)(([ze,Mt])=>{const an=Mt.payload.docChanges(),mn=an.map(fr=>({type:fr.type,payload:fr}));return ze&&JSON.stringify(ze.payload.metadata)!==JSON.stringify(Mt.payload.metadata)&&Mt.payload.docs.forEach((fr,Fn)=>{const gr=an.find(he=>he.doc.ref.isEqual(fr.ref)),Je=null==ze?void 0:ze.payload.docs.find(he=>he.ref.isEqual(fr.ref));gr&&JSON.stringify(gr.doc.metadata)===JSON.stringify(fr.metadata)||!gr&&Je&&JSON.stringify(Je.metadata)===JSON.stringify(fr.metadata)||mn.push({type:"modified",payload:{oldIndex:Fn,newIndex:Fn,type:"modified",doc:fr}})}),mn}))}function nr(jt,fe,ze){return ir(jt,ze).pipe((0,U.R)((Mt,an)=>function Tr(jt,fe,ze){return fe.forEach(Mt=>{ze.indexOf(Mt.type)>-1&&(jt=function Sn(jt,fe){switch(fe.type){case"added":if(!jt[fe.newIndex]||!jt[fe.newIndex].doc.ref.isEqual(fe.doc.ref))return Ar(jt,fe.newIndex,0,fe);break;case"modified":if(null==jt[fe.oldIndex]||jt[fe.oldIndex].doc.ref.isEqual(fe.doc.ref)){if(fe.oldIndex!==fe.newIndex){const ze=jt.slice();return ze.splice(fe.oldIndex,1),ze.splice(fe.newIndex,0,fe),ze}return Ar(jt,fe.newIndex,1,fe)}break;case"removed":if(jt[fe.oldIndex]&&jt[fe.oldIndex].doc.ref.isEqual(fe.doc.ref))return Ar(jt,fe.oldIndex,1)}return jt}(jt,Mt))}),jt}(Mt,an.map(mn=>mn.payload),fe),[]),(0,Ce.x)(),(0,$e.U)(Mt=>Mt.map(an=>({type:an.type,payload:an}))))}function Ar(jt,fe,ze,...Mt){const an=jt.slice();return an.splice(fe,ze,...Mt),an}function vn(jt){return(!jt||0===jt.length)&&(jt=["added","removed","modified"]),jt}class Vn{constructor(fe,ze,Mt){this.ref=fe,this.query=ze,this.afs=Mt}stateChanges(fe){let ze=ir(this.query,this.afs.schedulers.outsideAngular);return fe&&fe.length>0&&(ze=ze.pipe((0,$e.U)(Mt=>Mt.filter(an=>fe.indexOf(an.type)>-1)))),ze.pipe((0,de.O)(void 0),(0,De.G)(),(0,Ue.h)(([Mt,an])=>an.length>0||!Mt),(0,$e.U)(([Mt,an])=>an),we.iC)}auditTrail(fe){return this.stateChanges(fe).pipe((0,U.R)((ze,Mt)=>[...ze,...Mt],[]))}snapshotChanges(fe){const ze=vn(fe);return nr(this.query,ze,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(fe={}){return Lr(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(ze=>ze.payload.docs.map(Mt=>fe.idField?Object.assign(Object.assign({},Mt.data()),{[fe.idField]:Mt.id}):Mt.data())),we.iC)}get(fe){return(0,me.D)(this.query.get(fe)).pipe(we.iC)}add(fe){return this.ref.add(fe)}doc(fe){return new Cr(this.ref.doc(fe),this.afs)}}class Cr{constructor(fe,ze){this.ref=fe,this.afs=ze}set(fe,ze){return this.ref.set(fe,ze)}update(fe){return this.ref.update(fe)}delete(){return this.ref.delete()}collection(fe,ze){const Mt=this.ref.collection(fe),{ref:an,query:mn}=Pn(Mt,ze);return new Vn(an,mn,this.afs)}snapshotChanges(){return function nn(jt,fe){return pr(jt,fe).pipe((0,de.O)(void 0),(0,De.G)(),(0,$e.U)(([ze,Mt])=>Mt.exists?null!=ze&&ze.exists?{payload:Mt,type:"modified"}:{payload:Mt,type:"added"}:{payload:Mt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(fe={}){return this.snapshotChanges().pipe((0,$e.U)(({payload:ze})=>fe.idField?Object.assign(Object.assign({},ze.data()),{[fe.idField]:ze.id}):ze.data()))}get(fe){return(0,me.D)(this.ref.get(fe)).pipe(we.iC)}}class vr{constructor(fe,ze){this.query=fe,this.afs=ze}stateChanges(fe){return fe&&0!==fe.length?ir(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(ze=>ze.filter(Mt=>fe.indexOf(Mt.type)>-1)),(0,Ue.h)(ze=>ze.length>0),we.iC):ir(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(fe){return this.stateChanges(fe).pipe((0,U.R)((ze,Mt)=>[...ze,...Mt],[]))}snapshotChanges(fe){const ze=vn(fe);return nr(this.query,ze,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(fe={}){return Lr(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(Mt=>Mt.payload.docs.map(an=>fe.idField?Object.assign({[fe.idField]:an.id},an.data()):an.data())),we.iC)}get(fe){return(0,me.D)(this.query.get(fe)).pipe(we.iC)}}const ur=new y.OlP("angularfire2.enableFirestorePersistence"),Nr=new y.OlP("angularfire2.firestore.persistenceSettings"),br=new y.OlP("angularfire2.firestore.settings"),Kn=new y.OlP("angularfire2.firestore.use-emulator");function Pn(jt,fe=(ze=>ze)){return{query:fe(jt),ref:jt}}let Jr=(()=>{class jt{constructor(ze,Mt,an,mn,fr,Fn,gr,Je,he,K,z,q,Oe,st,Le,ht,It){this.schedulers=gr;const zt=(0,ve.on)(ze,Fn,Mt),Ht=he;K&&(0,In.nw)(zt,Fn,z,Oe,st,Le,q,ht),[this.firestore,this.persistenceEnabled$]=(0,ve.cc)(`${zt.name}.firestore`,"AngularFirestore",zt.name,()=>{const rn=Fn.runOutsideAngular(()=>zt.firestore());if(mn&&rn.settings(mn),Ht&&rn.useEmulator(...Ht),an&&!(0,Ve.PM)(fr)){const un=()=>{try{return(0,me.D)(rn.enablePersistence(Je||void 0).then(()=>!0,()=>!1))}catch(Wn){return typeof console<"u"&&console.warn(Wn),(0,be.of)(!1)}};return[rn,Fn.runOutsideAngular(un)]}return[rn,(0,be.of)(!1)]},[mn,Ht,an])}collection(ze,Mt){let an;an="string"==typeof ze?this.firestore.collection(ze):ze;const{ref:mn,query:fr}=Pn(an,Mt),Fn=this.schedulers.ngZone.run(()=>mn);return new Vn(Fn,fr,this)}collectionGroup(ze,Mt){const an=Mt||(fr=>fr),mn=this.firestore.collectionGroup(ze);return new vr(an(mn),this)}doc(ze){let Mt;Mt="string"==typeof ze?this.firestore.doc(ze):ze;const an=this.schedulers.ngZone.run(()=>Mt);return new Cr(an,this)}createId(){return this.firestore.collection("_").doc().id}}return jt.\u0275fac=function(ze){return new(ze||jt)(y.LFG(ve.Dh),y.LFG(ve.xv,8),y.LFG(ur,8),y.LFG(br,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(we.HU),y.LFG(Nr,8),y.LFG(Kn,8),y.LFG(In.zQ,8),y.LFG(In.Qv,8),y.LFG(In.L6,8),y.LFG(In._Q,8),y.LFG(In.rT,8),y.LFG(In.lh,8),y.LFG(In.f7,8),y.LFG(Bt.nm,8))},jt.\u0275prov=y.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"any"}),jt})(),Hn=(()=>{class jt{constructor(){rr.Z.registerVersion("angularfire",we.q4.full,"fst-compat")}static enablePersistence(ze){return{ngModule:jt,providers:[{provide:ur,useValue:!0},{provide:Nr,useValue:ze}]}}}return jt.\u0275fac=function(ze){return new(ze||jt)},jt.\u0275mod=y.oAB({type:jt}),jt.\u0275inj=y.cJS({providers:[Jr]}),jt})()},2011:(ln,ut,L)=>{"use strict";L.d(ut,{Dh:()=>De,GT:()=>we,Ot:()=>de,cc:()=>Ve,hO:()=>ve,on:()=>U,pX:()=>be,xv:()=>$e});var y=L(2223),g=L(9260),ie=L(3324);ln=L.hmd(ln);const me=["ngOnDestroy"],be=(Ee,vt,it,Ge={})=>new Proxy(Ee,{get:(rt,ft)=>it.runOutsideAngular(()=>{var _t;if(Ee[ft])return!(null===(_t=null==Ge?void 0:Ge.spy)||void 0===_t)&&_t.get&&Ge.spy.get(ft,Ee[ft]),Ee[ft];if(me.indexOf(ft)>-1)return()=>{};const Ze=vt.toPromise().then(xe=>{const St=xe&&xe[ft];return"function"==typeof St?St.bind(xe):St&&St.then?St.then(tt=>it.run(()=>tt)):it.run(()=>St)});return new Proxy(()=>{},{get:(xe,St)=>Ze[St],apply:(xe,St,tt)=>Ze.then(pt=>{var yt;const ce=pt&&pt(...tt);return!(null===(yt=null==Ge?void 0:Ge.spy)||void 0===yt)&&yt.apply&&Ge.spy.apply(ft,tt,ce),ce})})})}),we=(Ee,vt)=>{vt.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ge=>{Object.defineProperty(Ee.prototype,Ge,Object.getOwnPropertyDescriptor(it.prototype||it,Ge))})})};class de{constructor(vt){return vt}}const De=new y.OlP("angularfire2.app.options"),$e=new y.OlP("angularfire2.app.name");function U(Ee,vt,it){const rt="object"==typeof it&&it||{};rt.name=rt.name||"string"==typeof it&&it||"[DEFAULT]";const _t=g.Z.apps.filter(Ze=>Ze&&Ze.name===rt.name)[0]||vt.runOutsideAngular(()=>g.Z.initializeApp(Ee,rt));try{JSON.stringify(Ee)!==JSON.stringify(_t.options)&&Ce("error",`${_t.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(_t)}const Ce=(Ee,...vt)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ee](...vt)},Ue={provide:de,useFactory:U,deps:[De,y.R0b,[new y.FiY,$e]]};let ve=(()=>{class Ee{constructor(it){g.Z.registerVersion("angularfire",ie.q4.full,"core"),g.Z.registerVersion("angularfire",ie.q4.full,"app-compat"),g.Z.registerVersion("angular",y.q4F.full,it.toString())}static initializeApp(it,Ge){return{ngModule:Ee,providers:[{provide:De,useValue:it},{provide:$e,useValue:Ge}]}}}return Ee.\u0275fac=function(it){return new(it||Ee)(y.LFG(y.Lbi))},Ee.\u0275mod=y.oAB({type:Ee}),Ee.\u0275inj=y.cJS({providers:[Ue]}),Ee})();function Ve(Ee,vt,it,Ge,rt){const[,ft,_t]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===Ee)||[];if(ft)return function qe(Ee,vt){try{return Ee.toString()===vt.toString()}catch{return Ee===vt}}(rt,_t)||(Me("error",`${vt} was already initialized on the ${it} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:rt,was:_t})),ft;{const Ze=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Ze,rt]),Ze}}const bt=!!ln.hot,Me=(Ee,...vt)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ee](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(ln,ut,L)=>{"use strict";L.d(ut,{q4:()=>ys,iC:()=>Ws,fc:()=>ls,HU:()=>mr,vb:()=>Re,JM:()=>Q,nk:()=>T,u3:()=>j});var y=L(2223),g=L(259),ie=L(5861),me=L(6881),be=L(2090),we=L(4859),de=L(1877);L(4727);const $e="@firebase/remote-config",U="0.4.4",Ve=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class We{constructor(N,pe,ot,$t){this.client=N,this.storage=pe,this.storageCache=ot,this.logger=$t}isCachedDataFresh(N,pe){if(!pe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ot=Date.now()-pe,$t=ot<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ot}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${$t}.`),$t}fetch(N){var pe=this;return(0,ie.Z)(function*(){const[ot,$t]=yield Promise.all([pe.storage.getLastSuccessfulFetchTimestampMillis(),pe.storage.getLastSuccessfulFetchResponse()]);if($t&&pe.isCachedDataFresh(N.cacheMaxAgeMillis,ot))return $t;N.eTag=$t&&$t.eTag;const Zt=yield pe.client.fetch(N),pn=[pe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Zt.status&&pn.push(pe.storage.setLastSuccessfulFetchResponse(Zt)),yield Promise.all(pn),Zt})()}}function ke(C=navigator){return C.languages&&C.languages[0]||C.language}class Fe{constructor(N,pe,ot,$t,Zt,pn){this.firebaseInstallations=N,this.sdkVersion=pe,this.namespace=ot,this.projectId=$t,this.apiKey=Zt,this.appId=pn}fetch(N){var pe=this;return(0,ie.Z)(function*(){const[ot,$t]=yield Promise.all([pe.firebaseInstallations.getId(),pe.firebaseInstallations.getToken()]),pn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${pe.projectId}/namespaces/${pe.namespace}:fetch?key=${pe.apiKey}`,jr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Mr={sdk_version:pe.sdkVersion,app_instance_id:ot,app_instance_id_token:$t,app_id:pe.appId,language_code:ke()},wr={method:"POST",headers:jr,body:JSON.stringify(Mr)},Qr=fetch(pn,wr),Rr=new Promise((Mi,Hi)=>{N.signal.addEventListener(()=>{const ll=new Error("The operation was aborted.");ll.name="AbortError",Hi(ll)})});let Js;try{yield Promise.race([Qr,Rr]),Js=yield Qr}catch(Mi){let Hi="fetch-client-network";throw"AbortError"===(null==Mi?void 0:Mi.name)&&(Hi="fetch-timeout"),Ve.create(Hi,{originalErrorMessage:null==Mi?void 0:Mi.message})}let As=Js.status;const Es=Js.headers.get("ETag")||void 0;let so,oa;if(200===Js.status){let Mi;try{Mi=yield Js.json()}catch(Hi){throw Ve.create("fetch-client-parse",{originalErrorMessage:null==Hi?void 0:Hi.message})}so=Mi.entries,oa=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===oa?As=500:"NO_CHANGE"===oa?As=304:("NO_TEMPLATE"===oa||"EMPTY_CONFIG"===oa)&&(so={}),304!==As&&200!==As)throw Ve.create("fetch-status",{httpStatus:As});return{status:As,eTag:Es,config:so}})()}}class ct{constructor(N,pe){this.client=N,this.storage=pe}fetch(N){var pe=this;return(0,ie.Z)(function*(){const ot=(yield pe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return pe.attemptFetch(N,ot)})()}attemptFetch(N,{throttleEndTimeMillis:pe,backoffCount:ot}){var $t=this;return(0,ie.Z)(function*(){yield function He(C,N){return new Promise((pe,ot)=>{const $t=Math.max(N-Date.now(),0),Zt=setTimeout(pe,$t);C.addEventListener(()=>{clearTimeout(Zt),ot(Ve.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,pe);try{const Zt=yield $t.client.fetch(N);return yield $t.storage.deleteThrottleMetadata(),Zt}catch(Zt){if(!function mt(C){if(!(C instanceof be.ZR&&C.customData))return!1;const N=Number(C.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Zt))throw Zt;const pn={throttleEndTimeMillis:Date.now()+(0,be.$s)(ot),backoffCount:ot+1};return yield $t.storage.setThrottleMetadata(pn),$t.attemptFetch(N,pn)}})()}}class sn{constructor(N,pe,ot,$t,Zt){this.app=N,this._client=pe,this._storageCache=ot,this._storage=$t,this._logger=Zt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(C,N){const pe=C.target.error||void 0;return Ve.create(N,{originalErrorMessage:pe&&(null==pe?void 0:pe.message)})}const et="app_namespace_store";class Tn{constructor(N,pe,ot,$t=function fn(){return new Promise((C,N)=>{try{const pe=indexedDB.open("firebase_remote_config",1);pe.onerror=ot=>{N(At(ot,"storage-open"))},pe.onsuccess=ot=>{C(ot.target.result)},pe.onupgradeneeded=ot=>{0===ot.oldVersion&&ot.target.result.createObjectStore(et,{keyPath:"compositeKey"})}}catch(pe){N(Ve.create("storage-open",{originalErrorMessage:null==pe?void 0:pe.message}))}})}()){this.appId=N,this.appName=pe,this.namespace=ot,this.openDbPromise=$t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var pe=this;return(0,ie.Z)(function*(){const ot=yield pe.openDbPromise;return new Promise(($t,Zt)=>{const jr=ot.transaction([et],"readonly").objectStore(et),Mr=pe.createCompositeKey(N);try{const wr=jr.get(Mr);wr.onerror=Qr=>{Zt(At(Qr,"storage-get"))},wr.onsuccess=Qr=>{const Rr=Qr.target.result;$t(Rr?Rr.value:void 0)}}catch(wr){Zt(Ve.create("storage-get",{originalErrorMessage:null==wr?void 0:wr.message}))}})})()}set(N,pe){var ot=this;return(0,ie.Z)(function*(){const $t=yield ot.openDbPromise;return new Promise((Zt,pn)=>{const Mr=$t.transaction([et],"readwrite").objectStore(et),wr=ot.createCompositeKey(N);try{const Qr=Mr.put({compositeKey:wr,value:pe});Qr.onerror=Rr=>{pn(At(Rr,"storage-set"))},Qr.onsuccess=()=>{Zt()}}catch(Qr){pn(Ve.create("storage-set",{originalErrorMessage:null==Qr?void 0:Qr.message}))}})})()}delete(N){var pe=this;return(0,ie.Z)(function*(){const ot=yield pe.openDbPromise;return new Promise(($t,Zt)=>{const jr=ot.transaction([et],"readwrite").objectStore(et),Mr=pe.createCompositeKey(N);try{const wr=jr.delete(Mr);wr.onerror=Qr=>{Zt(At(Qr,"storage-delete"))},wr.onsuccess=()=>{$t()}}catch(wr){Zt(Ve.create("storage-delete",{originalErrorMessage:null==wr?void 0:wr.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class En{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,ie.Z)(function*(){const pe=N.storage.getLastFetchStatus(),ot=N.storage.getLastSuccessfulFetchTimestampMillis(),$t=N.storage.getActiveConfig(),Zt=yield pe;Zt&&(N.lastFetchStatus=Zt);const pn=yield ot;pn&&(N.lastSuccessfulFetchTimestampMillis=pn);const jr=yield $t;jr&&(N.activeConfig=jr)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function rr(){return hr.apply(this,arguments)}function hr(){return(hr=(0,ie.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function Nt(){(0,me._registerComponent)(new we.wA("remote-config",function C(N,{instanceIdentifier:pe}){const ot=N.getProvider("app").getImmediate(),$t=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ve.create("registration-window");if(!(0,be.hl)())throw Ve.create("indexed-db-unavailable");const{projectId:Zt,apiKey:pn,appId:jr}=ot.options;if(!Zt)throw Ve.create("registration-project-id");if(!pn)throw Ve.create("registration-api-key");if(!jr)throw Ve.create("registration-app-id");const Mr=new Tn(jr,ot.name,pe=pe||"firebase"),wr=new En(Mr),Qr=new de.Yd($e);Qr.logLevel=de.in.ERROR;const Rr=new Fe($t,me.SDK_VERSION,pe,Zt,pn,jr),Js=new ct(Rr,Mr),As=new We(Js,Mr,wr,Qr),Es=new sn(ot,As,wr,Mr,Qr);return function _t(C){const N=(0,be.m9)(C);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Es),Es},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)($e,U),(0,me.registerVersion)($e,U,"esm2017")}();const pr=(C,N)=>N.some(pe=>C instanceof pe);let nn,Lr;const Tr=new WeakMap,Ar=new WeakMap,Sn=new WeakMap,vn=new WeakMap,Vn=new WeakMap;let ur={get(C,N,pe){if(C instanceof IDBTransaction){if("done"===N)return Ar.get(C);if("objectStoreNames"===N)return C.objectStoreNames||Sn.get(C);if("store"===N)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Pn(C[N])},set:(C,N,pe)=>(C[N]=pe,!0),has:(C,N)=>C instanceof IDBTransaction&&("done"===N||"store"===N)||N in C};function Kn(C){return"function"==typeof C?function br(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nr(){return Lr||(Lr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...N){return C.apply(Jr(this),N),Pn(Tr.get(this))}:function(...N){return Pn(C.apply(Jr(this),N))}:function(N,...pe){const ot=C.call(Jr(this),N,...pe);return Sn.set(ot,N.sort?N.sort():[N]),Pn(ot)}}(C):(C instanceof IDBTransaction&&function vr(C){if(Ar.has(C))return;const N=new Promise((pe,ot)=>{const $t=()=>{C.removeEventListener("complete",Zt),C.removeEventListener("error",pn),C.removeEventListener("abort",pn)},Zt=()=>{pe(),$t()},pn=()=>{ot(C.error||new DOMException("AbortError","AbortError")),$t()};C.addEventListener("complete",Zt),C.addEventListener("error",pn),C.addEventListener("abort",pn)});Ar.set(C,N)}(C),pr(C,function ir(){return nn||(nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,ur):C)}function Pn(C){if(C instanceof IDBRequest)return function Cr(C){const N=new Promise((pe,ot)=>{const $t=()=>{C.removeEventListener("success",Zt),C.removeEventListener("error",pn)},Zt=()=>{pe(Pn(C.result)),$t()},pn=()=>{ot(C.error),$t()};C.addEventListener("success",Zt),C.addEventListener("error",pn)});return N.then(pe=>{pe instanceof IDBCursor&&Tr.set(pe,C)}).catch(()=>{}),Vn.set(N,C),N}(C);if(vn.has(C))return vn.get(C);const N=Kn(C);return N!==C&&(vn.set(C,N),Vn.set(N,C)),N}const Jr=C=>Vn.get(C);function Hn(C,N,{blocked:pe,upgrade:ot,blocking:$t,terminated:Zt}={}){const pn=indexedDB.open(C,N),jr=Pn(pn);return ot&&pn.addEventListener("upgradeneeded",Mr=>{ot(Pn(pn.result),Mr.oldVersion,Mr.newVersion,Pn(pn.transaction))}),pe&&pn.addEventListener("blocked",()=>pe()),jr.then(Mr=>{Zt&&Mr.addEventListener("close",()=>Zt()),$t&&Mr.addEventListener("versionchange",()=>$t())}).catch(()=>{}),jr}function jt(C,{blocked:N}={}){const pe=indexedDB.deleteDatabase(C);return N&&pe.addEventListener("blocked",()=>N()),Pn(pe).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],Mt=new Map;function an(C,N){if(!(C instanceof IDBDatabase)||N in C||"string"!=typeof N)return;if(Mt.get(N))return Mt.get(N);const pe=N.replace(/FromIndex$/,""),ot=N!==pe,$t=ze.includes(pe);if(!(pe in(ot?IDBIndex:IDBObjectStore).prototype)||!$t&&!fe.includes(pe))return;const Zt=function(){var pn=(0,ie.Z)(function*(jr,...Mr){const wr=this.transaction(jr,$t?"readwrite":"readonly");let Qr=wr.store;return ot&&(Qr=Qr.index(Mr.shift())),(yield Promise.all([Qr[pe](...Mr),$t&&wr.done]))[0]});return function(Mr){return pn.apply(this,arguments)}}();return Mt.set(N,Zt),Zt}!function Nr(C){ur=C(ur)}(C=>({...C,get:(N,pe,ot)=>an(N,pe)||C.get(N,pe,ot),has:(N,pe)=>!!an(N,pe)||C.has(N,pe)}));const mn="/firebase-messaging-sw.js",fr="/firebase-cloud-messaging-push-scope",Fn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gr="https://fcmregistrations.googleapis.com/v1",Je="google.c.a.c_id",he="google.c.a.c_l",K="google.c.a.ts";var Oe=(()=>((Oe=Oe||{}).PUSH_RECEIVED="push-received",Oe.NOTIFICATION_CLICKED="notification-clicked",Oe))();function st(C){const N=new Uint8Array(C);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Le(C){const pe=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ot=atob(pe),$t=new Uint8Array(ot.length);for(let Zt=0;Zt<ot.length;++Zt)$t[Zt]=ot.charCodeAt(Zt);return $t}const ht="fcm_token_details_db",It=5,zt="fcm_token_object_Store";function rn(){return rn=(0,ie.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Zt=>Zt.name).includes(ht))return null;let N=null;return(yield Hn(ht,It,{upgrade:(ot=(0,ie.Z)(function*($t,Zt,pn,jr){var Mr;if(Zt<2||!$t.objectStoreNames.contains(zt))return;const wr=jr.objectStore(zt),Qr=yield wr.index("fcmSenderId").get(C);if(yield wr.clear(),Qr)if(2===Zt){const Rr=Qr;if(!Rr.auth||!Rr.p256dh||!Rr.endpoint)return;N={token:Rr.fcmToken,createTime:null!==(Mr=Rr.createTime)&&void 0!==Mr?Mr:Date.now(),subscriptionOptions:{auth:Rr.auth,p256dh:Rr.p256dh,endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:"string"==typeof Rr.vapidKey?Rr.vapidKey:st(Rr.vapidKey)}}}else if(3===Zt){const Rr=Qr;N={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:st(Rr.auth),p256dh:st(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:st(Rr.vapidKey)}}}else if(4===Zt){const Rr=Qr;N={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:st(Rr.auth),p256dh:st(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:st(Rr.vapidKey)}}}}),function(Zt,pn,jr,Mr){return ot.apply(this,arguments)})})).close(),yield jt(ht),yield jt("fcm_vapid_details_db"),yield jt("undefined"),function un(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:N}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var ot}),rn.apply(this,arguments)}const Wn="firebase-messaging-database",zn=1,Dt="firebase-messaging-store";let wt=null;function Wt(){return wt||(wt=Hn(Wn,zn,{upgrade:(C,N)=>{0===N&&C.createObjectStore(Dt)}})),wt}function _n(C){return kn.apply(this,arguments)}function kn(){return kn=(0,ie.Z)(function*(C){const N=or(C),ot=yield(yield Wt()).transaction(Dt).objectStore(Dt).get(N);if(ot)return ot;{const $t=yield function Ht(C){return rn.apply(this,arguments)}(C.appConfig.senderId);if($t)return yield Xn(C,$t),$t}}),kn.apply(this,arguments)}function Xn(C,N){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ie.Z)(function*(C,N){const pe=or(C),$t=(yield Wt()).transaction(Dt,"readwrite");return yield $t.objectStore(Dt).put(N,pe),yield $t.done,N})).apply(this,arguments)}function _r(){return(_r=(0,ie.Z)(function*(C){const N=or(C),ot=(yield Wt()).transaction(Dt,"readwrite");yield ot.objectStore(Dt).delete(N),yield ot.done})).apply(this,arguments)}function or({appConfig:C}){return C.appId}const fi=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yi(C,N){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,ie.Z)(function*(C,N){const pe=yield Cs(C),ot=ps(N),$t={method:"POST",headers:pe,body:JSON.stringify(ot)};let Zt;try{Zt=yield(yield fetch(ti(C.appConfig),$t)).json()}catch(pn){throw fi.create("token-subscribe-failed",{errorInfo:null==pn?void 0:pn.toString()})}if(Zt.error)throw fi.create("token-subscribe-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw fi.create("token-subscribe-no-token");return Zt.token})).apply(this,arguments)}function ns(){return(ns=(0,ie.Z)(function*(C,N){const pe=yield Cs(C),ot=ps(N.subscriptionOptions),$t={method:"PATCH",headers:pe,body:JSON.stringify(ot)};let Zt;try{Zt=yield(yield fetch(`${ti(C.appConfig)}/${N.token}`,$t)).json()}catch(pn){throw fi.create("token-update-failed",{errorInfo:null==pn?void 0:pn.toString()})}if(Zt.error)throw fi.create("token-update-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw fi.create("token-update-no-token");return Zt.token})).apply(this,arguments)}function js(C,N){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,ie.Z)(function*(C,N){const ot={method:"DELETE",headers:yield Cs(C)};try{const Zt=yield(yield fetch(`${ti(C.appConfig)}/${N}`,ot)).json();if(Zt.error)throw fi.create("token-unsubscribe-failed",{errorInfo:Zt.error.message})}catch($t){throw fi.create("token-unsubscribe-failed",{errorInfo:null==$t?void 0:$t.toString()})}})).apply(this,arguments)}function ti({projectId:C}){return`${gr}/projects/${C}/registrations`}function Cs(C){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,ie.Z)(function*({appConfig:C,installations:N}){const pe=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${pe}`})})).apply(this,arguments)}function ps({p256dh:C,auth:N,endpoint:pe,vapidKey:ot}){const $t={web:{endpoint:pe,auth:N,p256dh:C}};return ot!==Fn&&($t.web.applicationPubKey=ot),$t}const Zs=6048e5;function ee(){return ee=(0,ie.Z)(function*(C){const N=yield function dt(C,N){return xt.apply(this,arguments)}(C.swRegistration,C.vapidKey),pe={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:N.endpoint,auth:st(N.getKey("auth")),p256dh:st(N.getKey("p256dh"))},ot=yield _n(C.firebaseDependencies);if(ot){if(function on(C,N){return N.vapidKey===C.vapidKey&&N.endpoint===C.endpoint&&N.auth===C.auth&&N.p256dh===C.p256dh}(ot.subscriptionOptions,pe))return Date.now()>=ot.createTime+Zs?function G(C,N){return oe.apply(this,arguments)}(C,{token:ot.token,createTime:Date.now(),subscriptionOptions:pe}):ot.token;try{yield js(C.firebaseDependencies,ot.token)}catch($t){console.warn($t)}return Be(C.firebaseDependencies,pe)}return Be(C.firebaseDependencies,pe)}),ee.apply(this,arguments)}function ae(){return ae=(0,ie.Z)(function*(C){const N=yield _n(C.firebaseDependencies);N&&(yield js(C.firebaseDependencies,N.token),yield function Wr(C){return _r.apply(this,arguments)}(C.firebaseDependencies));const pe=yield C.swRegistration.pushManager.getSubscription();return!pe||pe.unsubscribe()}),ae.apply(this,arguments)}function oe(){return oe=(0,ie.Z)(function*(C,N){try{const pe=yield function vi(C,N){return ns.apply(this,arguments)}(C.firebaseDependencies,N),ot=Object.assign(Object.assign({},N),{token:pe,createTime:Date.now()});return yield Xn(C.firebaseDependencies,ot),pe}catch(pe){throw yield function _e(C){return ae.apply(this,arguments)}(C),pe}}),oe.apply(this,arguments)}function Be(C,N){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,ie.Z)(function*(C,N){const ot={token:yield yi(C,N),createTime:Date.now(),subscriptionOptions:N};return yield Xn(C,ot),ot.token})).apply(this,arguments)}function xt(){return(xt=(0,ie.Z)(function*(C,N){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Le(N)})})).apply(this,arguments)}function dn(C){const N={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Un(C,N){if(!N.notification)return;C.notification={};const pe=N.notification.title;pe&&(C.notification.title=pe);const ot=N.notification.body;ot&&(C.notification.body=ot);const $t=N.notification.image;$t&&(C.notification.image=$t);const Zt=N.notification.icon;Zt&&(C.notification.icon=Zt)}(N,C),function ar(C,N){N.data&&(C.data=N.data)}(N,C),function pi(C,N){var pe,ot,$t,Zt,pn;if(!(N.fcmOptions||null!==(pe=N.notification)&&void 0!==pe&&pe.click_action))return;C.fcmOptions={};const jr=null!==($t=null===(ot=N.fcmOptions)||void 0===ot?void 0:ot.link)&&void 0!==$t?$t:null===(Zt=N.notification)||void 0===Zt?void 0:Zt.click_action;jr&&(C.fcmOptions.link=jr);const Mr=null===(pn=N.fcmOptions)||void 0===pn?void 0:pn.analytics_label;Mr&&(C.fcmOptions.analyticsLabel=Mr)}(N,C),N}function Fi(C,N){const pe=[];for(let ot=0;ot<C.length;ot++)pe.push(C.charAt(ot)),ot<N.length&&pe.push(N.charAt(ot));return pe.join("")}function Cn(C){return fi.create("missing-app-config-values",{valueName:C})}Fi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Er{constructor(N,pe,ot){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $t=function Hr(C){if(!C||!C.options)throw Cn("App Configuration Object");if(!C.name)throw Cn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:pe}=C;for(const ot of N)if(!pe[ot])throw Cn(ot);return{appName:C.name,projectId:pe.projectId,apiKey:pe.apiKey,appId:pe.appId,senderId:pe.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:$t,installations:pe,analyticsProvider:ot}}_delete(){return Promise.resolve()}}function Ni(){return(Ni=(0,ie.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(mn,{scope:fr}),C.swRegistration.update().catch(()=>{})}catch(N){throw fi.create("failed-service-worker-registration",{browserErrorMessage:null==N?void 0:N.message})}})).apply(this,arguments)}function gi(){return(gi=(0,ie.Z)(function*(C,N){if(!N&&!C.swRegistration&&(yield function Kr(C){return Ni.apply(this,arguments)}(C)),N||!C.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");C.swRegistration=N}})).apply(this,arguments)}function Ur(){return(Ur=(0,ie.Z)(function*(C,N){N?C.vapidKey=N:C.vapidKey||(C.vapidKey=Fn)})).apply(this,arguments)}function bs(){return bs=(0,ie.Z)(function*(C,N){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield function rs(C,N){return Ur.apply(this,arguments)}(C,null==N?void 0:N.vapidKey),yield function Mo(C,N){return gi.apply(this,arguments)}(C,null==N?void 0:N.serviceWorkerRegistration),function W(C){return ee.apply(this,arguments)}(C)}),bs.apply(this,arguments)}function Qs(){return(Qs=(0,ie.Z)(function*(C,N,pe){const ot=function Fs(C){switch(C){case Oe.NOTIFICATION_CLICKED:return"notification_open";case Oe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ot,{message_id:pe[Je],message_name:pe[he],message_time:pe[K],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Si(){return Si=(0,ie.Z)(function*(C,N){const pe=N.data;if(!pe.isFirebaseMessaging)return;C.onMessageHandler&&pe.messageType===Oe.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(dn(pe)):C.onMessageHandler.next(dn(pe)));const ot=pe.data;(function Oi(C){return"object"==typeof C&&!!C&&Je in C})(ot)&&"1"===ot["google.c.a.e"]&&(yield function An(C,N,pe){return Qs.apply(this,arguments)}(C,pe.messageType,ot))}),Si.apply(this,arguments)}const Ss="@firebase/messaging",Ls=C=>{const N=new Er(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",pe=>function Wi(C,N){return Si.apply(this,arguments)}(N,pe)),N},Ro=C=>{const N=C.getProvider("messaging").getImmediate();return{getToken:ot=>function is(C,N){return bs.apply(this,arguments)}(N,ot)}};function gs(){return es.apply(this,arguments)}function es(){return(es=(0,ie.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _o(){(0,me._registerComponent)(new we.wA("messaging",Ls,"PUBLIC")),(0,me._registerComponent)(new we.wA("messaging-internal",Ro,"PRIVATE")),(0,me.registerVersion)(Ss,"0.12.4"),(0,me.registerVersion)(Ss,"0.12.4","esm2017")}();var Hs=L(5132),Bs=L(4408),ga=L(7565);const ji=new class ss extends ga.v{}(class mi extends Bs.o{constructor(N,pe){super(N,pe),this.scheduler=N,this.work=pe}schedule(N,pe=0){return pe>0?super.schedule(N,pe):(this.delay=pe,this.state=N,this.scheduler.flush(this),this)}execute(N,pe){return pe>0||this.closed?super.execute(N,pe):this._execute(N,pe)}requestAsyncId(N,pe,ot=0){return null!=ot&&ot>0||null==ot&&this.delay>0?super.requestAsyncId(N,pe,ot):(N.flush(this),0)}});var os=L(4986),as=L(9751),Xs=L(8505),Ki=L(5363),jo=L(9468);const ys=new y.GfV("7.6.1"),zs="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",Ti="__angularfire_symbol__remoteConfigIsSupportedValue",Gs="__angularfire_symbol__remoteConfigIsSupported",vs="__angularfire_symbol__messagingIsSupportedValue",Ai="__angularfire_symbol__messagingIsSupported";globalThis[Ho]||(globalThis[Ho]=(0,Hs.Gb)().then(C=>globalThis[zs]=C).catch(()=>globalThis[zs]=!1)),globalThis[Ai]||(globalThis[Ai]=gs().then(C=>globalThis[vs]=C).catch(()=>globalThis[vs]=!1)),globalThis[Gs]||(globalThis[Gs]=rr().then(C=>globalThis[Ti]=C).catch(()=>globalThis[Ti]=!1));const T={async:()=>globalThis[Ho],sync:()=>{const C=globalThis[zs];if(void 0===C)throw new Error((C=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${C} in the constructor, first ensure that ${C} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${C})\`.`)("Analytics"));return C}};function Q(C,N,pe){if(N){if(1===N.length)return N[0];const Zt=N.filter(pn=>pn.app===pe);if(1===Zt.length)return Zt[0]}return pe.container.getProvider(C).getImmediate({optional:!0})}const Re=(C,N)=>{const pe=N?[N]:(0,g.C6)(),ot=[];return pe.forEach($t=>{$t.container.getProvider(C).instances.forEach(pn=>{ot.includes(pn)||ot.push(pn)})}),ot};function qt(){}class Nn{constructor(N,pe=ji){this.zone=N,this.delegate=pe}now(){return this.delegate.now()}schedule(N,pe,ot){const $t=this.zone;return this.delegate.schedule(function(pn){$t.runGuarded(()=>{N.apply(this,[pn])})},pe,ot)}}class er{constructor(N){this.zone=N,this.task=null}call(N,pe){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qt,{},qt,qt)),pe.pipe((0,Xs.b)({next:ot,complete:ot,error:ot})).subscribe(N).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mr=(()=>{class C{constructor(pe){this.ngZone=pe,this.outsideAngular=pe.runOutsideAngular(()=>new Nn(Zone.current)),this.insideAngular=pe.run(()=>new Nn(Zone.current,os.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(pe){return new(pe||C)(y.LFG(y.R0b))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Dr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ts(C){return Dr().ngZone.run(()=>C())}function ls(C){return C.pipe((0,Ki.Q)(Dr().outsideAngular))}function Ws(C){return Dr(),function xo(C){return function(pe){return(pe=pe.lift(new er(C.ngZone))).pipe((0,jo.R)(C.outsideAngular),(0,Ki.Q)(C.insideAngular))}}(Dr())(C)}const Z=(C,N)=>function(){const ot=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Ts(()=>C.apply(void 0,ot))},j=(C,N)=>function(){let pe;const ot=arguments;for(let Zt=0;Zt<arguments.length;Zt++)"function"==typeof ot[Zt]&&(N&&(pe||(pe=Ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qt,{},qt,qt)))),ot[Zt]=Z(ot[Zt],pe));const $t=function qi(C){return Dr().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ot));if(!N){if($t instanceof as.y){const Zt=Dr();return $t.pipe((0,jo.R)(Zt.outsideAngular),(0,Ki.Q)(Zt.insideAngular))}return Ts(()=>$t)}return $t instanceof as.y?$t.pipe(Ws):$t instanceof Promise?Ts(()=>new Promise((Zt,pn)=>$t.then(jr=>Ts(()=>Zt(jr)),jr=>Ts(()=>pn(jr))))):"function"==typeof $t&&pe?function(){return setTimeout(()=>{pe&&"scheduled"===pe.state&&pe.invoke()},10),$t.apply(this,arguments)}:Ts(()=>$t)}},1389:(ln,ut,L)=>{"use strict";L.d(ut,{$:()=>Dr,A:()=>Ce,D:()=>Ve,I:()=>Zs,J:()=>G,L:()=>Wi,N:()=>Fn,P:()=>pd,Q:()=>ms,R:()=>Ae,U:()=>mi,V:()=>ga,W:()=>ss,X:()=>Bs,Y:()=>as,Z:()=>Xs,_:()=>Ho,a:()=>Rl,a0:()=>Ts,a1:()=>_s,a2:()=>j,a3:()=>Zt,a4:()=>jr,a5:()=>wr,a6:()=>Rr,a7:()=>As,a8:()=>so,a9:()=>Mi,aA:()=>xe,aB:()=>ju,aC:()=>mn,aD:()=>gr,aE:()=>ea,aF:()=>dh,aG:()=>tr,aH:()=>ti,aL:()=>Mc,aO:()=>Xo,aa:()=>Hi,ab:()=>eo,ac:()=>ul,ad:()=>_i,ae:()=>Sc,af:()=>za,ai:()=>Tc,aj:()=>oo,ak:()=>$s,an:()=>sa,ao:()=>Al,aq:()=>ts,ar:()=>Mn,as:()=>tt,at:()=>It,au:()=>st,av:()=>Ge,aw:()=>bd,ax:()=>Ja,ay:()=>zt,az:()=>rt,b:()=>Ml,c:()=>Oc,d:()=>ch,e:()=>uh,f:()=>Ms,g:()=>Oo,h:()=>wf,i:()=>to,j:()=>su,k:()=>Vi,l:()=>lr,m:()=>bf,o:()=>ph,p:()=>De,r:()=>Bi,s:()=>tn,u:()=>pl});var y=L(5861),g=L(2090),ie=L(6881),me=L(655),be=L(1877),we=L(4859);const De={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bt=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new be.Yd("@firebase/auth");function it(R,..._){Ee.logLevel<=be.in.ERROR&&Ee.error(`Auth (${ie.SDK_VERSION}): ${R}`,..._)}function Ge(R,..._){throw Ze(R,..._)}function rt(R,..._){return Ze(R,..._)}function ft(R,_,I){const P=Object.assign(Object.assign({},qe()),{[_]:I});return new g.LL("auth","Firebase",P).create(_,{appName:R.name})}function _t(R,_,I){if(!(_ instanceof I))throw I.name!==_.constructor.name&&Ge(R,"argument-error"),ft(R,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(R,..._){if("string"!=typeof R){const I=_[0],P=[..._.slice(1)];return P[0]&&(P[0].appName=R.name),R._errorFactory.create(I,...P)}return bt.create(R,..._)}function xe(R,_,...I){if(!R)throw Ze(_,...I)}function St(R){const _="INTERNAL ASSERTION FAILED: "+R;throw it(_),new Error(_)}function tt(R,_){R||St(_)}function pt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function yt(){return"http:"===ce()||"https:"===ce()}function ce(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class We{constructor(_,I){this.shortDelay=_,this.longDelay=I,tt(I>_,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ke(R,_){tt(R.emulator,"Emulator should always be set here");const{url:I}=R.emulator;return _?`${I}${_.startsWith("/")?_.slice(1):_}`:I}class Fe{static initialize(_,I,P){this.fetchImpl=_,I&&(this.headersImpl=I),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mt=new We(3e4,6e4);function ct(R,_){return R.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:R.tenantId}):_}function Tt(R,_,I,P){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,y.Z)(function*(R,_,I,P,le={}){return sn(R,le,(0,y.Z)(function*(){let Te={},Ct={};P&&("GET"===_?Ct=P:Te={body:JSON.stringify(P)});const Gt=(0,g.xO)(Object.assign({key:R.config.apiKey},Ct)).slice(1),Dn=yield R._getAdditionalHeaders();return Dn["Content-Type"]="application/json",R.languageCode&&(Dn["X-Firebase-Locale"]=R.languageCode),Fe.fetch()(Jt(R,R.config.apiHost,I,Gt),Object.assign({method:_,headers:Dn,referrerPolicy:"no-referrer"},Te))}))})).apply(this,arguments)}function sn(R,_,I){return At.apply(this,arguments)}function At(){return(At=(0,y.Z)(function*(R,_,I){R._canInitEmulator=!1;const P=Object.assign(Object.assign({},He),_);try{const le=new fn(R),Te=yield Promise.race([I(),le.promise]);le.clearNetworkTimeout();const Ct=yield Te.json();if("needConfirmation"in Ct)throw Tn(R,"account-exists-with-different-credential",Ct);if(Te.ok&&!("errorMessage"in Ct))return Ct;{const Gt=Te.ok?Ct.errorMessage:Ct.error.message,[Dn,$n]=Gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Dn)throw Tn(R,"credential-already-in-use",Ct);if("EMAIL_EXISTS"===Dn)throw Tn(R,"email-already-in-use",Ct);if("USER_DISABLED"===Dn)throw Tn(R,"user-disabled",Ct);const cr=P[Dn]||Dn.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw ft(R,cr,$n);Ge(R,cr)}}catch(le){if(le instanceof g.ZR)throw le;Ge(R,"network-request-failed",{message:String(le)})}})).apply(this,arguments)}function et(R,_,I,P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(R,_,I,P,le={}){const Te=yield Tt(R,_,I,P,le);return"mfaPendingCredential"in Te&&Ge(R,"multi-factor-auth-required",{_serverResponse:Te}),Te})).apply(this,arguments)}function Jt(R,_,I,P){const le=`${_}${I}?${P}`;return R.config.emulator?ke(R.config,le):`${R.config.apiScheme}://${le}`}class fn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((I,P)=>{this.timer=setTimeout(()=>P(rt(this.auth,"network-request-failed")),mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(R,_,I){const P={appName:R.name};I.email&&(P.email=I.email),I.phoneNumber&&(P.phoneNumber=I.phoneNumber);const le=rt(R,_,P);return le.customData._tokenResponse=I,le}function Nt(){return(Nt=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Bt(){return(Bt=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function hr(){return(hr=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function pr(R){if(R)try{const _=new Date(Number(R));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ir(){return(ir=(0,y.Z)(function*(R,_=!1){const I=(0,g.m9)(R),P=yield I.getIdToken(_),le=Tr(P);xe(le&&le.exp&&le.auth_time&&le.iat,I.auth,"internal-error");const Te="object"==typeof le.firebase?le.firebase:void 0,Ct=null==Te?void 0:Te.sign_in_provider;return{claims:le,token:P,authTime:pr(nr(le.auth_time)),issuedAtTime:pr(nr(le.iat)),expirationTime:pr(nr(le.exp)),signInProvider:Ct||null,signInSecondFactor:(null==Te?void 0:Te.sign_in_second_factor)||null}})).apply(this,arguments)}function nr(R){return 1e3*Number(R)}function Tr(R){const[_,I,P]=R.split(".");if(void 0===_||void 0===I||void 0===P)return it("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,g.tV)(I);return le?JSON.parse(le):(it("Failed to decode base64 JWT payload"),null)}catch(le){return it("Caught error parsing JWT payload as JSON",null==le?void 0:le.toString()),null}}function Sn(R,_){return vn.apply(this,arguments)}function vn(){return(vn=(0,y.Z)(function*(R,_,I=!1){if(I)return _;try{return yield _}catch(P){throw P instanceof g.ZR&&function Vn({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}(P)&&R.auth.currentUser===R&&(yield R.auth.signOut()),P}})).apply(this,arguments)}class Cr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var I;if(_){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const le=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(_=!1){var I=this;if(!this.isRunning)return;const P=this.getInterval(_);this.timerId=setTimeout((0,y.Z)(function*(){yield I.iteration()}),P)}iteration(){var _=this;return(0,y.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null==I?void 0:I.code)&&_.schedule(!0))}_.schedule()})()}}class vr{constructor(_,I){this.createdAt=_,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(R){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,y.Z)(function*(R){var _;const I=R.auth,P=yield R.getIdToken(),le=yield Sn(R,function rr(R,_){return hr.apply(this,arguments)}(I,{idToken:P}));xe(null==le?void 0:le.users.length,I,"internal-error");const Te=le.users[0];R._notifyReloadListener(Te);const Ct=null!==(_=Te.providerUserInfo)&&void 0!==_&&_.length?function Jr(R){return R.map(_=>{var{providerId:I}=_,P=(0,me._T)(_,["providerId"]);return{providerId:I,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}(Te.providerUserInfo):[],Gt=function Pn(R,_){return[...R.filter(P=>!_.some(le=>le.providerId===P.providerId)),..._]}(R.providerData,Ct),cr=!!R.isAnonymous&&!(R.email&&Te.passwordHash||null!=Gt&&Gt.length),si={uid:Te.localId,displayName:Te.displayName||null,photoURL:Te.photoUrl||null,email:Te.email||null,emailVerified:Te.emailVerified||!1,phoneNumber:Te.phoneNumber||null,tenantId:Te.tenantId||null,providerData:Gt,metadata:new vr(Te.createdAt,Te.lastLoginAt),isAnonymous:cr};Object.assign(R,si)}),Nr.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(R){const _=(0,g.m9)(R);yield ur(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function jt(){return(jt=(0,y.Z)(function*(R,_){const I=yield sn(R,{},(0,y.Z)(function*(){const P=(0,g.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:le,apiKey:Te}=R.config,Ct=Jt(R,le,"/v1/token",`key=${Te}`),Gt=yield R._getAdditionalHeaders();return Gt["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(Ct,{method:"POST",headers:Gt,body:P})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){xe(_.idToken,"internal-error"),xe(typeof _.idToken<"u","internal-error"),xe(typeof _.refreshToken<"u","internal-error");const I="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Ar(R){const _=Tr(R);return xe(_,"internal-error"),xe(typeof _.exp<"u","internal-error"),xe(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,I)}getToken(_,I=!1){var P=this;return(0,y.Z)(function*(){return xe(!P.accessToken||P.refreshToken,_,"user-token-expired"),I||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(_,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,I){var P=this;return(0,y.Z)(function*(){const{accessToken:le,refreshToken:Te,expiresIn:Ct}=yield function Hn(R,_){return jt.apply(this,arguments)}(_,I);P.updateTokensAndExpiration(le,Te,Number(Ct))})()}updateTokensAndExpiration(_,I,P){this.refreshToken=I||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(_,I){const{refreshToken:P,accessToken:le,expirationTime:Te}=I,Ct=new fe;return P&&(xe("string"==typeof P,"internal-error",{appName:_}),Ct.refreshToken=P),le&&(xe("string"==typeof le,"internal-error",{appName:_}),Ct.accessToken=le),Te&&(xe("number"==typeof Te,"internal-error",{appName:_}),Ct.expirationTime=Te),Ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new fe,this.toJSON())}_performRefresh(){return St("not implemented")}}function ze(R,_){xe("string"==typeof R||typeof R>"u","internal-error",{appName:_})}class Mt{constructor(_){var{uid:I,auth:P,stsTokenManager:le}=_,Te=(0,me._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=P,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=Te.displayName||null,this.email=Te.email||null,this.emailVerified=Te.emailVerified||!1,this.phoneNumber=Te.phoneNumber||null,this.photoURL=Te.photoURL||null,this.isAnonymous=Te.isAnonymous||!1,this.tenantId=Te.tenantId||null,this.providerData=Te.providerData?[...Te.providerData]:[],this.metadata=new vr(Te.createdAt||void 0,Te.lastLoginAt||void 0)}getIdToken(_){var I=this;return(0,y.Z)(function*(){const P=yield Sn(I,I.stsTokenManager.getToken(I.auth,_));return xe(P,I.auth,"internal-error"),I.accessToken!==P&&(I.accessToken=P,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),P})()}getIdTokenResult(_){return function Lr(R){return ir.apply(this,arguments)}(this,_)}reload(){return function br(R){return Kn.apply(this,arguments)}(this)}_assign(_){this!==_&&(xe(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(I=>Object.assign({},I)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const I=new Mt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(_){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,I=!1){var P=this;return(0,y.Z)(function*(){let le=!1;_.idToken&&_.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(_),le=!0),I&&(yield ur(P)),yield P.auth._persistUserIfCurrent(P),le&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var _=this;return(0,y.Z)(function*(){const I=yield _.getIdToken();return yield Sn(_,function En(R,_){return Nt.apply(this,arguments)}(_.auth,{idToken:I})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,I){var P,le,Te,Ct,Gt,Dn,$n,cr;const si=null!==(P=I.displayName)&&void 0!==P?P:void 0,ua=null!==(le=I.email)&&void 0!==le?le:void 0,No=null!==(Te=I.phoneNumber)&&void 0!==Te?Te:void 0,gh=null!==(Ct=I.photoURL)&&void 0!==Ct?Ct:void 0,Io=null!==(Gt=I.tenantId)&&void 0!==Gt?Gt:void 0,Xu=null!==(Dn=I._redirectEventId)&&void 0!==Dn?Dn:void 0,cu=null!==($n=I.createdAt)&&void 0!==$n?$n:void 0,mh=null!==(cr=I.lastLoginAt)&&void 0!==cr?cr:void 0,{uid:wa,emailVerified:Ia,isAnonymous:du,providerData:Sf,stsTokenManager:Fp}=I;xe(wa&&Fp,_,"internal-error");const Yr=fe.fromJSON(this.name,Fp);xe("string"==typeof wa,_,"internal-error"),ze(si,_.name),ze(ua,_.name),xe("boolean"==typeof Ia,_,"internal-error"),xe("boolean"==typeof du,_,"internal-error"),ze(No,_.name),ze(gh,_.name),ze(Io,_.name),ze(Xu,_.name),ze(cu,_.name),ze(mh,_.name);const Td=new Mt({uid:wa,auth:_,email:ua,emailVerified:Ia,displayName:si,isAnonymous:du,photoURL:gh,phoneNumber:No,tenantId:Io,stsTokenManager:Yr,createdAt:cu,lastLoginAt:mh});return Sf&&Array.isArray(Sf)&&(Td.providerData=Sf.map(yh=>Object.assign({},yh))),Xu&&(Td._redirectEventId=Xu),Td}static _fromIdTokenResponse(_,I,P=!1){return(0,y.Z)(function*(){const le=new fe;le.updateFromServerResponse(I);const Te=new Mt({uid:I.localId,auth:_,stsTokenManager:le,isAnonymous:P});return yield ur(Te),Te})()}}const an=new Map;function mn(R){tt(R instanceof Function,"Expected a class definition");let _=an.get(R);return _?(tt(_ instanceof R,"Instance stored in cache mismatched with class"),_):(_=new R,an.set(R,_),_)}const Fn=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(I,P){var le=this;return(0,y.Z)(function*(){le.storage[I]=P})()}_get(I){var P=this;return(0,y.Z)(function*(){const le=P.storage[I];return void 0===le?null:le})()}_remove(I){var P=this;return(0,y.Z)(function*(){delete P.storage[I]})()}_addListener(I,P){}_removeListener(I,P){}}return R.type="NONE",R})();function gr(R,_,I){return`firebase:${R}:${_}:${I}`}class Je{constructor(_,I,P){this.persistence=_,this.auth=I,this.userKey=P;const{config:le,name:Te}=this.auth;this.fullUserKey=gr(this.userKey,le.apiKey,Te),this.fullPersistenceKey=gr("persistence",le.apiKey,Te),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,y.Z)(function*(){const I=yield _.persistence._get(_.fullUserKey);return I?Mt._fromJSON(_.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var I=this;return(0,y.Z)(function*(){if(I.persistence===_)return;const P=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=_,P?I.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,I,P="authUser"){return(0,y.Z)(function*(){if(!I.length)return new Je(mn(Fn),_,P);const le=(yield Promise.all(I.map(function(){var $n=(0,y.Z)(function*(cr){if(yield cr._isAvailable())return cr});return function(cr){return $n.apply(this,arguments)}}()))).filter($n=>$n);let Te=le[0]||mn(Fn);const Ct=gr(P,_.config.apiKey,_.name);let Gt=null;for(const $n of I)try{const cr=yield $n._get(Ct);if(cr){const si=Mt._fromJSON(_,cr);$n!==Te&&(Gt=si),Te=$n;break}}catch{}const Dn=le.filter($n=>$n._shouldAllowMigration);return Te._shouldAllowMigration&&Dn.length?(Te=Dn[0],Gt&&(yield Te._set(Ct,Gt.toJSON())),yield Promise.all(I.map(function(){var $n=(0,y.Z)(function*(cr){if(cr!==Te)try{yield cr._remove(Ct)}catch{}});return function(cr){return $n.apply(this,arguments)}}())),new Je(Te,_,P)):new Je(Te,_,P)})()}}function he(R){const _=R.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Oe(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(K(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Le(_))return"Blackberry";if(ht(_))return"Webos";if(z(_))return"Safari";if((_.includes("chrome/")||q(_))&&!_.includes("edge/"))return"Chrome";if(st(_))return"Android";{const P=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==P?void 0:P.length))return P[1]}return"Other"}function K(R=(0,g.z$)()){return/firefox\//i.test(R)}function z(R=(0,g.z$)()){const _=R.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function q(R=(0,g.z$)()){return/crios\//i.test(R)}function Oe(R=(0,g.z$)()){return/iemobile/i.test(R)}function st(R=(0,g.z$)()){return/android/i.test(R)}function Le(R=(0,g.z$)()){return/blackberry/i.test(R)}function ht(R=(0,g.z$)()){return/webos/i.test(R)}function It(R=(0,g.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function zt(R=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function un(R=(0,g.z$)()){return It(R)||st(R)||ht(R)||Le(R)||/windows phone/i.test(R)||Oe(R)}function zn(R,_=[]){let I;switch(R){case"Browser":I=he((0,g.z$)());break;case"Worker":I=`${he((0,g.z$)())}-${R}`;break;default:I=R}const P=_.length?_.join(","):"FirebaseCore-web";return`${I}/JsCore/${ie.SDK_VERSION}/${P}`}function wt(){return(wt=(0,y.Z)(function*(R){return(yield Tt(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wt(R,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,y.Z)(function*(R,_){return Tt(R,"GET","/v2/recaptchaConfig",ct(R,_))})).apply(this,arguments)}function kn(R){return void 0!==R&&void 0!==R.getResponse}function Xn(R){return void 0!==R&&void 0!==R.enterprise}class Jn{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function _r(R){return new Promise((_,I)=>{const P=document.createElement("script");P.setAttribute("src",R),P.onload=_,P.onerror=le=>{const Te=rt("internal-error");Te.customData=le,I(Te)},P.type="text/javascript",P.charset="UTF-8",function Wr(){var R,_;return null!==(_=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==_?_:document}().appendChild(P)})}function or(R){return`__${R}${Math.floor(1e6*Math.random())}`}class Ds{constructor(_){this.type="recaptcha-enterprise",this.auth=ti(_)}verify(_="verify",I=!1){var P=this;return(0,y.Z)(function*(){function Te(){return Te=(0,y.Z)(function*(Gt){if(!I){if(null==Gt.tenantId&&null!=Gt._agentRecaptchaConfig)return Gt._agentRecaptchaConfig.siteKey;if(null!=Gt.tenantId&&void 0!==Gt._tenantRecaptchaConfigs[Gt.tenantId])return Gt._tenantRecaptchaConfigs[Gt.tenantId].siteKey}return new Promise(function(){var Dn=(0,y.Z)(function*($n,cr){Wt(Gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(si=>{if(void 0!==si.recaptchaKey){const ua=new Jn(si);return null==Gt.tenantId?Gt._agentRecaptchaConfig=ua:Gt._tenantRecaptchaConfigs[Gt.tenantId]=ua,$n(ua.siteKey)}cr(new Error("recaptcha Enterprise site key undefined"))}).catch(si=>{cr(si)})});return function($n,cr){return Dn.apply(this,arguments)}}())}),Te.apply(this,arguments)}function Ct(Gt,Dn,$n){const cr=window.grecaptcha;Xn(cr)?cr.enterprise.ready(()=>{cr.enterprise.execute(Gt,{action:_}).then(si=>{Dn(si)}).catch(()=>{Dn("NO_RECAPTCHA")})}):$n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Gt,Dn)=>{(function le(Gt){return Te.apply(this,arguments)})(P.auth).then($n=>{if(!I&&Xn(window.grecaptcha))Ct($n,Gt,Dn);else{if(typeof window>"u")return void Dn(new Error("RecaptchaVerifier is only supported in browser"));_r("https://www.google.com/recaptcha/enterprise.js?render="+$n).then(()=>{Ct($n,Gt,Dn)}).catch(cr=>{Dn(cr)})}}).catch($n=>{Dn($n)})})})()}}function vi(R,_,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(R,_,I,P=!1){const le=new Ds(R);let Te;try{Te=yield le.verify(I)}catch{Te=yield le.verify(I,!0)}const Ct=Object.assign({},_);return Object.assign(Ct,P?{captchaResp:Te}:{captchaResponse:Te}),Object.assign(Ct,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ct,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ct})).apply(this,arguments)}class js{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,I){const P=Te=>new Promise((Ct,Gt)=>{try{Ct(_(Te))}catch(Dn){Gt(Dn)}});P.onAbort=I,this.queue.push(P);const le=this.queue.length-1;return()=>{this.queue[le]=()=>Promise.resolve()}}runMiddleware(_){var I=this;return(0,y.Z)(function*(){if(I.auth.currentUser===_)return;const P=[];try{for(const le of I.queue)yield le(_),le.onAbort&&P.push(le.onAbort)}catch(le){P.reverse();for(const Te of P)try{Te()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null==le?void 0:le.message})}})()}}class Pi{constructor(_,I,P,le){this.app=_,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=P,this.config=le,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cs(this),this.idTokenSubscription=new Cs(this),this.beforeStateQueue=new js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=le.sdkClientVersion}_initializeWithPersistence(_,I){var P=this;return I&&(this._popupRedirectResolver=mn(I)),this._initializationPromise=this.queue((0,y.Z)(function*(){var le,Te;if(!P._deleted&&(P.persistenceManager=yield Je.create(P,_),!P._deleted)){if(null!==(le=P._popupRedirectResolver)&&void 0!==le&&le._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(I),P.lastNotifiedUid=(null===(Te=P.currentUser)||void 0===Te?void 0:Te.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,y.Z)(function*(){if(_._deleted)return;const I=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||I){if(_.currentUser&&I&&_.currentUser.uid===I.uid)return _._currentUser._assign(I),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(I,!0)}})()}initializeCurrentUser(_){var I=this;return(0,y.Z)(function*(){var P;const le=yield I.assertedPersistence.getCurrentUser();let Te=le,Ct=!1;if(_&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Gt=null===(P=I.redirectUser)||void 0===P?void 0:P._redirectEventId,Dn=null==Te?void 0:Te._redirectEventId,$n=yield I.tryRedirectSignIn(_);(!Gt||Gt===Dn)&&null!=$n&&$n.user&&(Te=$n.user,Ct=!0)}if(!Te)return I.directlySetCurrentUser(null);if(!Te._redirectEventId){if(Ct)try{yield I.beforeStateQueue.runMiddleware(Te)}catch(Gt){Te=le,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Gt))}return Te?I.reloadAndSetCurrentUserOrClear(Te):I.directlySetCurrentUser(null)}return xe(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===Te._redirectEventId?I.directlySetCurrentUser(Te):I.reloadAndSetCurrentUserOrClear(Te)})()}tryRedirectSignIn(_){var I=this;return(0,y.Z)(function*(){let P=null;try{P=yield I._popupRedirectResolver._completeRedirectFn(I,_,!0)}catch{yield I._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(_){var I=this;return(0,y.Z)(function*(){try{yield ur(_)}catch(P){if("auth/network-request-failed"!==(null==P?void 0:P.code))return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var _=this;return(0,y.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var I=this;return(0,y.Z)(function*(){const P=_?(0,g.m9)(_):null;return P&&xe(P.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(P&&P._clone(I))})()}_updateCurrentUser(_,I=!1){var P=this;return(0,y.Z)(function*(){if(!P._deleted)return _&&xe(P.tenantId===_.tenantId,P,"tenant-id-mismatch"),I||(yield P.beforeStateQueue.runMiddleware(_)),P.queue((0,y.Z)(function*(){yield P.directlySetCurrentUser(_),P.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,y.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var I=this;return this.queue((0,y.Z)(function*(){yield I.assertedPersistence.setPersistence(mn(_))}))}initializeRecaptchaConfig(){var _=this;return(0,y.Z)(function*(){const I=yield Wt(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),P=new Jn(I);null==_.tenantId?_._agentRecaptchaConfig=P:_._tenantRecaptchaConfigs[_.tenantId]=P,P.emailPasswordEnabled&&new Ds(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new g.LL("auth","Firebase",_())}onAuthStateChanged(_,I,P){return this.registerStateListener(this.authStateSubscription,_,I,P)}beforeAuthStateChanged(_,I){return this.beforeStateQueue.pushCallback(_,I)}onIdTokenChanged(_,I,P){return this.registerStateListener(this.idTokenSubscription,_,I,P)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,I){var P=this;return(0,y.Z)(function*(){const le=yield P.getOrInitRedirectPersistenceManager(I);return null===_?le.removeCurrentUser():le.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var I=this;return(0,y.Z)(function*(){if(!I.redirectPersistenceManager){const P=_&&mn(_)||I._popupRedirectResolver;xe(P,I,"argument-error"),I.redirectPersistenceManager=yield Je.create(I,[mn(P._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(_){var I=this;return(0,y.Z)(function*(){var P,le;return I._isInitialized&&(yield I.queue((0,y.Z)(function*(){}))),(null===(P=I._currentUser)||void 0===P?void 0:P._redirectEventId)===_?I._currentUser:(null===(le=I.redirectUser)||void 0===le?void 0:le._redirectEventId)===_?I.redirectUser:null})()}_persistUserIfCurrent(_){var I=this;return(0,y.Z)(function*(){if(_===I.currentUser)return I.queue((0,y.Z)(function*(){return I.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(I=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,I,P,le){if(this._deleted)return()=>{};const Te="function"==typeof I?I:I.next.bind(I),Ct=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(Ct,this,"internal-error"),Ct.then(()=>Te(this.currentUser)),"function"==typeof I?_.addObserver(I,P,le):_.addObserver(I)}directlySetCurrentUser(_){var I=this;return(0,y.Z)(function*(){I.currentUser&&I.currentUser!==_&&I._currentUser._stopProactiveRefresh(),_&&I.isProactiveRefreshEnabled&&_._startProactiveRefresh(),I.currentUser=_,_?yield I.assertedPersistence.setCurrentUser(_):yield I.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,y.Z)(function*(){var I;const P={"X-Client-Version":_.clientVersion};_.app.options.appId&&(P["X-Firebase-gmpid"]=_.app.options.appId);const le=yield null===(I=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();le&&(P["X-Firebase-Client"]=le);const Te=yield _._getAppCheckToken();return Te&&(P["X-Firebase-AppCheck"]=Te),P})()}_getAppCheckToken(){var _=this;return(0,y.Z)(function*(){var I;const P=yield null===(I=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return null!=P&&P.error&&function vt(R,..._){Ee.logLevel<=be.in.WARN&&Ee.warn(`Auth (${ie.SDK_VERSION}): ${R}`,..._)}(`Error while retrieving App Check token: ${P.error}`),null==P?void 0:P.token})()}}function ti(R){return(0,g.m9)(R)}class Cs{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,g.ne)(I=>this.observer=I)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zs(R,_,I){const P=ti(R);xe(P._canInitEmulator,P,"emulator-config-failed"),xe(/^https?:\/\//.test(_),P,"invalid-emulator-scheme");const le=!(null==I||!I.disableWarnings),Te=W(_),{host:Ct,port:Gt}=function ee(R){const _=W(R),I=/(\/\/)?([^?#/]+)/.exec(R.substr(_.length));if(!I)return{host:"",port:null};const P=I[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(P);if(le){const Te=le[1];return{host:Te,port:_e(P.substr(Te.length+1))}}{const[Te,Ct]=P.split(":");return{host:Te,port:_e(Ct)}}}(_);P.config.emulator={url:`${Te}//${Ct}${null===Gt?"":`:${Gt}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:Ct,port:Gt,protocol:Te.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function ae(){function R(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function W(R){const _=R.indexOf(":");return _<0?"":R.substr(0,_+1)}function _e(R){if(!R)return null;const _=Number(R);return isNaN(_)?null:_}class G{constructor(_,I){this.providerId=_,this.signInMethod=I}toJSON(){return St("not implemented")}_getIdTokenResponse(_){return St("not implemented")}_linkToIdToken(_,I){return St("not implemented")}_getReauthenticationResolver(_){return St("not implemented")}}function oe(R,_){return Be.apply(this,arguments)}function Be(){return(Be=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:resetPassword",ct(R,_))})).apply(this,arguments)}function Xe(R,_){return dt.apply(this,arguments)}function dt(){return(dt=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function on(){return(on=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",ct(R,_))})).apply(this,arguments)}function dn(R,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithPassword",ct(R,_))})).apply(this,arguments)}function ar(R,_){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:sendOobCode",ct(R,_))})).apply(this,arguments)}function Fi(){return(Fi=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function Hr(R,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function Er(R,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function rs(){return(rs=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithEmailLink",ct(R,_))})).apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithEmailLink",ct(R,_))})).apply(this,arguments)}class bs extends G{constructor(_,I,P,le=null){super("password",P),this._email=_,this._password=I,this._tenantId=le}static _fromEmailAndPassword(_,I){return new bs(_,I,"password")}static _fromEmailAndCode(_,I,P=null){return new bs(_,I,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_;if(null!=I&&I.email&&null!=I&&I.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(_){var I=this;return(0,y.Z)(function*(){var P;switch(I.signInMethod){case"password":const le={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=_._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Te=yield vi(_,le,"signInWithPassword");return dn(_,Te)}return dn(_,le).catch(function(){var Te=(0,y.Z)(function*(Ct){if("auth/missing-recaptcha-token"===Ct.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Gt=yield vi(_,le,"signInWithPassword");return dn(_,Gt)}return Promise.reject(Ct)});return function(Ct){return Te.apply(this,arguments)}}());case"emailLink":return function gi(R,_){return rs.apply(this,arguments)}(_,{email:I._email,oobCode:I._password});default:Ge(_,"internal-error")}})()}_linkToIdToken(_,I){var P=this;return(0,y.Z)(function*(){switch(P.signInMethod){case"password":return Xe(_,{idToken:I,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function Ur(R,_){return is.apply(this,arguments)}(_,{idToken:I,email:P._email,oobCode:P._password});default:Ge(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function An(R,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithIdp",ct(R,_))})).apply(this,arguments)}class Wi extends G{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const I=new Wi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(I.idToken=_.idToken),_.accessToken&&(I.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(I.nonce=_.nonce),_.pendingToken&&(I.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(I.accessToken=_.oauthToken,I.secret=_.oauthTokenSecret):Ge("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:P,signInMethod:le}=I,Te=(0,me._T)(I,["providerId","signInMethod"]);if(!P||!le)return null;const Ct=new Wi(P,le);return Ct.idToken=Te.idToken||void 0,Ct.accessToken=Te.accessToken||void 0,Ct.secret=Te.secret,Ct.nonce=Te.nonce,Ct.pendingToken=Te.pendingToken||null,Ct}_getIdTokenResponse(_){return An(_,this.buildRequest())}_linkToIdToken(_,I){const P=this.buildRequest();return P.idToken=I,An(_,P)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,An(_,I)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),_.postBody=(0,g.xO)(I)}return _}}function Ss(){return(Ss=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:sendVerificationCode",ct(R,_))})).apply(this,arguments)}function Ls(){return(Ls=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithPhoneNumber",ct(R,_))})).apply(this,arguments)}function _o(){return(_o=(0,y.Z)(function*(R,_){const I=yield et(R,"POST","/v1/accounts:signInWithPhoneNumber",ct(R,_));if(I.temporaryProof)throw Tn(R,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const gs={USER_NOT_FOUND:"user-not-found"};function Uo(){return(Uo=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithPhoneNumber",ct(R,Object.assign(Object.assign({},_),{operation:"REAUTH"})),gs)})).apply(this,arguments)}class Ui extends G{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,I){return new Ui({verificationId:_,verificationCode:I})}static _fromTokenResponse(_,I){return new Ui({phoneNumber:_,temporaryProof:I})}_getIdTokenResponse(_){return function vo(R,_){return Ls.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,I){return function Ro(R,_){return _o.apply(this,arguments)}(_,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function es(R,_){return Uo.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:I,verificationId:P,verificationCode:le}=this.params;return _&&I?{temporaryProof:_,phoneNumber:I}:{sessionInfo:P,code:le}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:I,verificationCode:P,phoneNumber:le,temporaryProof:Te}=_;return P||I||le||Te?new Ui({verificationId:I,verificationCode:P,phoneNumber:le,temporaryProof:Te}):null}}class Eo{constructor(_){var I,P,le,Te,Ct,Gt;const Dn=(0,g.zd)((0,g.pd)(_)),$n=null!==(I=Dn.apiKey)&&void 0!==I?I:null,cr=null!==(P=Dn.oobCode)&&void 0!==P?P:null,si=function Br(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=Dn.mode)&&void 0!==le?le:null);xe($n&&cr&&si,"argument-error"),this.apiKey=$n,this.operation=si,this.code=cr,this.continueUrl=null!==(Te=Dn.continueUrl)&&void 0!==Te?Te:null,this.languageCode=null!==(Ct=Dn.languageCode)&&void 0!==Ct?Ct:null,this.tenantId=null!==(Gt=Dn.tenantId)&&void 0!==Gt?Gt:null}static parseLink(_){const I=function Qo(R){const _=(0,g.zd)((0,g.pd)(R)).link,I=_?(0,g.zd)((0,g.pd)(_)).deep_link_id:null,P=(0,g.zd)((0,g.pd)(R)).deep_link_id;return(P?(0,g.zd)((0,g.pd)(P)).link:null)||P||I||_||R}(_);try{return new Eo(I)}catch{return null}}}let ms=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(I,P){return bs._fromEmailAndPassword(I,P)}static credentialWithLink(I,P){const le=Eo.parseLink(P);return xe(le,"argument-error"),bs._fromEmailAndCode(I,le.code,le.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class di{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Hs extends di{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Bs extends Hs{static credentialFromJSON(_){const I="string"==typeof _?JSON.parse(_):_;return xe("providerId"in I&&"signInMethod"in I,"argument-error"),Wi._fromParams(I)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return xe(_.idToken||_.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Bs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Bs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:P,oauthTokenSecret:le,pendingToken:Te,nonce:Ct,providerId:Gt}=_;if(!P&&!le&&!I&&!Te||!Gt)return null;try{return new Bs(Gt)._credential({idToken:I,accessToken:P,nonce:Ct,pendingToken:Te})}catch{return null}}}let mi=(()=>{class R extends Hs{constructor(){super("facebook.com")}static credential(I){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),ga=(()=>{class R extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(I,P){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:P})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:P,oauthAccessToken:le}=I;if(!P&&!le)return null;try{return R.credential(P,le)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),ss=(()=>{class R extends Hs{constructor(){super("github.com")}static credential(I){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class Xo extends G{constructor(_,I){super(_,_),this.pendingToken=I}_getIdTokenResponse(_){return An(_,this.buildRequest())}_linkToIdToken(_,I){const P=this.buildRequest();return P.idToken=I,An(_,P)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,An(_,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:P,signInMethod:le,pendingToken:Te}=I;return P&&le&&Te&&P===le?new Xo(P,Te):null}static _create(_,I){return new Xo(_,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class as extends di{constructor(_){xe(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return as.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return as.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const I=Xo.fromJSON(_);return xe(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:I,providerId:P}=_;if(!I||!P)return null;try{return Xo._create(P,I)}catch{return null}}}let Xs=(()=>{class R extends Hs{constructor(){super("twitter.com")}static credential(I,P){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:P})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:P,oauthTokenSecret:le}=I;if(!P||!le)return null;try{return R.credential(P,le)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function Ki(R,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signUp",ct(R,_))})).apply(this,arguments)}class ys{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,I,P,le=!1){return(0,y.Z)(function*(){const Te=yield Mt._fromIdTokenResponse(_,P,le),Ct=zs(P);return new ys({user:Te,providerId:Ct,_tokenResponse:P,operationType:I})})()}static _forOperation(_,I,P){return(0,y.Z)(function*(){yield _._updateTokensIfNecessary(P,!0);const le=zs(P);return new ys({user:_,providerId:le,_tokenResponse:P,operationType:I})})()}}function zs(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function Ho(R){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(R){var _;const I=ti(R);if(yield I._initializationPromise,null!==(_=I.currentUser)&&void 0!==_&&_.isAnonymous)return new ys({user:I.currentUser,providerId:null,operationType:"signIn"});const P=yield Ki(I,{returnSecureToken:!0}),le=yield ys._fromIdTokenResponse(I,"signIn",P,!0);return yield I._updateCurrentUser(le.user),le})).apply(this,arguments)}class Gs extends g.ZR{constructor(_,I,P,le){var Te;super(I.code,I.message),this.operationType=P,this.user=le,Object.setPrototypeOf(this,Gs.prototype),this.customData={appName:_.name,tenantId:null!==(Te=_.tenantId)&&void 0!==Te?Te:void 0,_serverResponse:I.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(_,I,P,le){return new Gs(_,I,P,le)}}function vs(R,_,I,P){return("reauthenticate"===_?I._getReauthenticationResolver(R):I._getIdTokenResponse(R)).catch(Te=>{throw"auth/multi-factor-auth-required"===Te.code?Gs._fromErrorAndOperation(R,Te,_,P):Te})}function Ai(R){return new Set(R.map(({providerId:_})=>_).filter(_=>!!_))}function sa(R,_){return S.apply(this,arguments)}function S(){return S=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R);yield Q(!0,I,_);const{providerUserInfo:P}=yield function In(R,_){return Bt.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[_]}),le=Ai(P||[]);return I.providerData=I.providerData.filter(Te=>le.has(Te.providerId)),le.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),S.apply(this,arguments)}function ne(R,_){return T.apply(this,arguments)}function T(){return(T=(0,y.Z)(function*(R,_,I=!1){const P=yield Sn(R,_._linkToIdToken(R.auth,yield R.getIdToken()),I);return ys._forOperation(R,"link",P)})).apply(this,arguments)}function Q(R,_,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,y.Z)(function*(R,_,I){yield ur(_);const le=!1===R?"provider-already-linked":"no-such-provider";xe(Ai(_.providerData).has(I)===R,_.auth,le)})).apply(this,arguments)}function qt(R,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,y.Z)(function*(R,_,I=!1){const{auth:P}=R,le="reauthenticate";try{const Te=yield Sn(R,vs(P,le,_,R),I);xe(Te.idToken,P,"internal-error");const Ct=Tr(Te.idToken);xe(Ct,P,"internal-error");const{sub:Gt}=Ct;return xe(R.uid===Gt,P,"user-mismatch"),ys._forOperation(R,le,Te)}catch(Te){throw"auth/user-not-found"===(null==Te?void 0:Te.code)&&Ge(P,"user-mismatch"),Te}})).apply(this,arguments)}function er(R,_){return mr.apply(this,arguments)}function mr(){return(mr=(0,y.Z)(function*(R,_,I=!1){const P="signIn",le=yield vs(R,P,_),Te=yield ys._fromIdTokenResponse(R,P,le);return I||(yield R._updateCurrentUser(Te.user)),Te})).apply(this,arguments)}function Dr(R,_){return qi.apply(this,arguments)}function qi(){return(qi=(0,y.Z)(function*(R,_){return er(ti(R),_)})).apply(this,arguments)}function Ts(R,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R);return yield Q(!1,I,_.providerId),ne(I,_)})).apply(this,arguments)}function _s(R,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(R,_){return qt((0,g.m9)(R),_)})).apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithCustomToken",ct(R,_))})).apply(this,arguments)}function j(R,_){return C.apply(this,arguments)}function C(){return C=(0,y.Z)(function*(R,_){const I=ti(R),P=yield function xo(R,_){return Z.apply(this,arguments)}(I,{token:_,returnSecureToken:!0}),le=yield ys._fromIdTokenResponse(I,"signIn",P);return yield I._updateCurrentUser(le.user),le}),C.apply(this,arguments)}class N{constructor(_,I){this.factorId=_,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(_,I){return"phoneInfo"in I?pe._fromServerResponse(_,I):"totpInfo"in I?ot._fromServerResponse(_,I):Ge(_,"internal-error")}}class pe extends N{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,I){return new pe(I)}}class ot extends N{constructor(_){super("totp",_)}static _fromServerResponse(_,I){return new ot(I)}}function $t(R,_,I){var P;xe((null===(P=I.url)||void 0===P?void 0:P.length)>0,R,"invalid-continue-uri"),xe(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),_.continueUrl=I.url,_.dynamicLinkDomain=I.dynamicLinkDomain,_.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(xe(I.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),_.iOSBundleId=I.iOS.bundleId),I.android&&(xe(I.android.packageName.length>0,R,"missing-android-pkg-name"),_.androidInstallApp=I.android.installApp,_.androidMinimumVersionCode=I.android.minimumVersion,_.androidPackageName=I.android.packageName)}function Zt(R,_,I){return pn.apply(this,arguments)}function pn(){return pn=(0,y.Z)(function*(R,_,I){var P;const le=ti(R),Te={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=le._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Ct=yield vi(le,Te,"getOobCode",!0);I&&$t(le,Ct,I),yield Hr(le,Ct)}else I&&$t(le,Te,I),yield Hr(le,Te).catch(function(){var Ct=(0,y.Z)(function*(Gt){if("auth/missing-recaptcha-token"!==Gt.code)return Promise.reject(Gt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Dn=yield vi(le,Te,"getOobCode",!0);I&&$t(le,Dn,I),yield Hr(le,Dn)}});return function(Gt){return Ct.apply(this,arguments)}}())}),pn.apply(this,arguments)}function jr(R,_,I){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,y.Z)(function*(R,_,I){yield oe((0,g.m9)(R),{oobCode:_,newPassword:I})})).apply(this,arguments)}function wr(R,_){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,y.Z)(function*(R,_){yield function xt(R,_){return on.apply(this,arguments)}((0,g.m9)(R),{oobCode:_})}),Qr.apply(this,arguments)}function Rr(R,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R),P=yield oe(I,{oobCode:_}),le=P.requestType;switch(xe(le,I,"internal-error"),le){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(P.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(P.mfaInfo,I,"internal-error");default:xe(P.email,I,"internal-error")}let Te=null;return P.mfaInfo&&(Te=N._fromServerResponse(ti(I),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:Te},operation:le}})).apply(this,arguments)}function As(R,_){return Es.apply(this,arguments)}function Es(){return(Es=(0,y.Z)(function*(R,_){const{data:I}=yield Rr((0,g.m9)(R),_);return I.email})).apply(this,arguments)}function so(R,_,I){return oa.apply(this,arguments)}function oa(){return oa=(0,y.Z)(function*(R,_,I){var P;const le=ti(R),Te={returnSecureToken:!0,email:_,password:I,clientType:"CLIENT_TYPE_WEB"};let Ct;if(null!==(P=le._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const $n=yield vi(le,Te,"signUpPassword");Ct=Ki(le,$n)}else Ct=Ki(le,Te).catch(function(){var $n=(0,y.Z)(function*(cr){if("auth/missing-recaptcha-token"===cr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const si=yield vi(le,Te,"signUpPassword");return Ki(le,si)}return Promise.reject(cr)});return function(cr){return $n.apply(this,arguments)}}());const Gt=yield Ct.catch($n=>Promise.reject($n)),Dn=yield ys._fromIdTokenResponse(le,"signIn",Gt);return yield le._updateCurrentUser(Dn.user),Dn}),oa.apply(this,arguments)}function Mi(R,_,I){return Dr((0,g.m9)(R),ms.credential(_,I))}function Hi(R,_,I){return ll.apply(this,arguments)}function ll(){return ll=(0,y.Z)(function*(R,_,I){var P;const le=ti(R),Te={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function Ct(Gt,Dn){xe(Dn.handleCodeInApp,le,"argument-error"),Dn&&$t(le,Gt,Dn)}if(null!==(P=le._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Gt=yield vi(le,Te,"getOobCode",!0);Ct(Gt,I),yield Er(le,Gt)}else Ct(Te,I),yield Er(le,Te).catch(function(){var Gt=(0,y.Z)(function*(Dn){if("auth/missing-recaptcha-token"!==Dn.code)return Promise.reject(Dn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $n=yield vi(le,Te,"getOobCode",!0);Ct($n,I),yield Er(le,$n)}});return function(Dn){return Gt.apply(this,arguments)}}())}),ll.apply(this,arguments)}function eo(R,_){const I=Eo.parseLink(_);return"EMAIL_SIGNIN"===(null==I?void 0:I.operation)}function ul(R,_,I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R),le=ms.credentialWithLink(_,I||pt());return xe(le._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Dr(P,le)})).apply(this,arguments)}function cl(){return(cl=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:createAuthUri",ct(R,_))})).apply(this,arguments)}function _i(R,_){return ku.apply(this,arguments)}function ku(){return ku=(0,y.Z)(function*(R,_){const P={identifier:_,continueUri:yt()?pt():"http://localhost"},{signinMethods:le}=yield function aa(R,_){return cl.apply(this,arguments)}((0,g.m9)(R),P);return le||[]}),ku.apply(this,arguments)}function Sc(R,_){return zo.apply(this,arguments)}function zo(){return zo=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R),le={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};_&&$t(I.auth,le,_);const{email:Te}=yield function Oi(R,_){return Fi.apply(this,arguments)}(I.auth,le);Te!==R.email&&(yield R.reload())}),zo.apply(this,arguments)}function za(R,_,I){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R),Te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:_};I&&$t(P.auth,Te,I);const{email:Ct}=yield function Ni(R,_){return Mo.apply(this,arguments)}(P.auth,Te);Ct!==R.email&&(yield R.reload())}),Aa.apply(this,arguments)}function dl(){return(dl=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Tc(R,_){return us.apply(this,arguments)}function us(){return us=(0,y.Z)(function*(R,{displayName:_,photoURL:I}){if(void 0===_&&void 0===I)return;const P=(0,g.m9)(R),Te={idToken:yield P.getIdToken(),displayName:_,photoUrl:I,returnSecureToken:!0},Ct=yield Sn(P,function ma(R,_){return dl.apply(this,arguments)}(P.auth,Te));P.displayName=Ct.displayName||null,P.photoURL=Ct.photoUrl||null;const Gt=P.providerData.find(({providerId:Dn})=>"password"===Dn);Gt&&(Gt.displayName=P.displayName,Gt.photoURL=P.photoURL),yield P._updateTokensIfNecessary(Ct)}),us.apply(this,arguments)}function oo(R,_){return Ci((0,g.m9)(R),_,null)}function $s(R,_){return Ci((0,g.m9)(R),null,_)}function Ci(R,_,I){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,y.Z)(function*(R,_,I){const{auth:P}=R,Te={idToken:yield R.getIdToken(),returnSecureToken:!0};_&&(Te.email=_),I&&(Te.password=I);const Ct=yield Sn(R,Xe(P,Te));yield R._updateTokensIfNecessary(Ct,!0)})).apply(this,arguments)}class cs{constructor(_,I,P={}){this.isNewUser=_,this.providerId=I,this.profile=P}}class Fu extends cs{constructor(_,I,P,le){super(_,I,P),this.username=le}}class Ga extends cs{constructor(_,I){super(_,"facebook.com",I)}}class Wa extends Fu{constructor(_,I){super(_,"github.com",I,"string"==typeof(null==I?void 0:I.login)?null==I?void 0:I.login:null)}}class Po extends cs{constructor(_,I){super(_,"google.com",I)}}class Lu extends Fu{constructor(_,I,P){super(_,"twitter.com",I,P)}}function Al(R){const{user:_,_tokenResponse:I}=R;return _.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function ya(R){var _,I;if(!R)return null;const{providerId:P}=R,le=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Te=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!P&&null!=R&&R.idToken){const Ct=null===(I=null===(_=Tr(R.idToken))||void 0===_?void 0:_.firebase)||void 0===I?void 0:I.sign_in_provider;if(Ct)return new cs(Te,"anonymous"!==Ct&&"custom"!==Ct?Ct:null)}if(!P)return null;switch(P){case"facebook.com":return new Ga(Te,le);case"github.com":return new Wa(Te,le);case"google.com":return new Po(Te,le);case"twitter.com":return new Lu(Te,le,R.screenName||null);case"custom":case"anonymous":return new cs(Te,null);default:return new cs(Te,P,le)}}(I)}class xr{constructor(_,I,P){this.type=_,this.credential=I,this.auth=P}static _fromIdtoken(_,I){return new xr("enroll",_,I)}static _fromMfaPendingCredential(_){return new xr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var I,P;if(null!=_&&_.multiFactorSession){if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.pendingCredential)return xr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(P=_.multiFactorSession)&&void 0!==P&&P.idToken)return xr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class kr{constructor(_,I,P){this.session=_,this.hints=I,this.signInResolver=P}static _fromError(_,I){const P=ti(_),le=I.customData._serverResponse,Te=(le.mfaInfo||[]).map(Gt=>N._fromServerResponse(P,Gt));xe(le.mfaPendingCredential,P,"internal-error");const Ct=xr._fromMfaPendingCredential(le.mfaPendingCredential);return new kr(Ct,Te,function(){var Gt=(0,y.Z)(function*(Dn){const $n=yield Dn._process(P,Ct);delete le.mfaInfo,delete le.mfaPendingCredential;const cr=Object.assign(Object.assign({},le),{idToken:$n.idToken,refreshToken:$n.refreshToken});switch(I.operationType){case"signIn":const si=yield ys._fromIdTokenResponse(P,I.operationType,cr);return yield P._updateCurrentUser(si.user),si;case"reauthenticate":return xe(I.user,P,"internal-error"),ys._forOperation(I.user,I.operationType,cr);default:Ge(P,"internal-error")}});return function(Dn){return Gt.apply(this,arguments)}}())}resolveSignIn(_){var I=this;return(0,y.Z)(function*(){return I.signInResolver(_)})()}}function ts(R,_){var I;const P=(0,g.m9)(R),le=_;return xe(_.customData.operationType,P,"argument-error"),xe(null===(I=le.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,P,"argument-error"),kr._fromError(P,le)}class Gn{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(P=>N._fromServerResponse(_.auth,P)))})}static _fromUser(_){return new Gn(_)}getSession(){var _=this;return(0,y.Z)(function*(){return xr._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,I){var P=this;return(0,y.Z)(function*(){const le=_,Te=yield P.getSession(),Ct=yield Sn(P.user,le._process(P.user.auth,Te,I));return yield P.user._updateTokensIfNecessary(Ct),P.user.reload()})()}unenroll(_){var I=this;return(0,y.Z)(function*(){const P="string"==typeof _?_:_.uid,le=yield I.user.getIdToken();try{const Te=yield Sn(I.user,function Ln(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(R,_))}(I.user.auth,{idToken:le,mfaEnrollmentId:P}));I.enrolledFactors=I.enrolledFactors.filter(({uid:Ct})=>Ct!==P),yield I.user._updateTokensIfNecessary(Te),yield I.user.reload()}catch(Te){throw Te}})()}}const va=new WeakMap;function Mn(R){const _=(0,g.m9)(R);return va.has(_)||va.set(_,Gn._fromUser(_)),va.get(_)}const Qe="__sak";class Vt{constructor(_,I){this.storageRetriever=_,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Qe,"1"),this.storage.removeItem(Qe),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,I){return this.storage.setItem(_,JSON.stringify(I)),Promise.resolve()}_get(_){const I=this.storage.getItem(_);return Promise.resolve(I?JSON.parse(I):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ml=(()=>{class R extends Vt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,P)=>this.onStorageEvent(I,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ks(){const R=(0,g.z$)();return z(R)||It(R)}()&&function Wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=un(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const P of Object.keys(this.listeners)){const le=this.storage.getItem(P),Te=this.localCache[P];le!==Te&&I(P,Te,le)}}onStorageEvent(I,P=!1){if(!I.key)return void this.forAllChangedKeys((Gt,Dn,$n)=>{this.notifyListeners(Gt,$n)});const le=I.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Gt=this.storage.getItem(le);if(I.newValue!==Gt)null!==I.newValue?this.storage.setItem(le,I.newValue):this.storage.removeItem(le);else if(this.localCache[le]===I.newValue&&!P)return}const Te=()=>{const Gt=this.storage.getItem(le);!P&&this.localCache[le]===Gt||this.notifyListeners(le,Gt)},Ct=this.storage.getItem(le);!function rn(){return(0,g.w1)()&&10===document.documentMode}()||Ct===I.newValue||I.newValue===I.oldValue?Te():setTimeout(Te,10)}notifyListeners(I,P){this.localCache[I]=P;const le=this.listeners[I];if(le)for(const Te of Array.from(le))Te(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,P,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:P,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,P){var le=()=>super._set,Te=this;return(0,y.Z)(function*(){yield le().call(Te,I,P),Te.localCache[I]=JSON.stringify(P)})()}_get(I){var P=()=>super._get,le=this;return(0,y.Z)(function*(){const Te=yield P().call(le,I);return le.localCache[I]=JSON.stringify(Te),Te})()}_remove(I){var P=()=>super._remove,le=this;return(0,y.Z)(function*(){yield P().call(le,I),delete le.localCache[I]})()}}return R.type="LOCAL",R})(),Rl=(()=>{class R extends Vt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,P){}_removeListener(I,P){}}return R.type="SESSION",R})();let Ac=(()=>{class R{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const P=this.receivers.find(Te=>Te.isListeningto(I));if(P)return P;const le=new R(I);return this.receivers.push(le),le}isListeningto(I){return this.eventTarget===I}handleEvent(I){var P=this;return(0,y.Z)(function*(){const le=I,{eventId:Te,eventType:Ct,data:Gt}=le.data,Dn=P.handlersMap[Ct];if(null==Dn||!Dn.size)return;le.ports[0].postMessage({status:"ack",eventId:Te,eventType:Ct});const $n=Array.from(Dn).map(function(){var si=(0,y.Z)(function*(ua){return ua(le.origin,Gt)});return function(ua){return si.apply(this,arguments)}}()),cr=yield function qa(R){return Promise.all(R.map(function(){var _=(0,y.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(P){return{fulfilled:!1,reason:P}}});return function(I){return _.apply(this,arguments)}}()))}($n);le.ports[0].postMessage({status:"done",eventId:Te,eventType:Ct,response:cr})})()}_subscribe(I,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(P)}_unsubscribe(I,P){this.handlersMap[I]&&P&&this.handlersMap[I].delete(P),(!P||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function Mc(R="",_=10){let I="";for(let P=0;P<_;P++)I+=Math.floor(10*Math.random());return R+I}class vf{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,I,P=50){var le=this;return(0,y.Z)(function*(){const Te=typeof MessageChannel<"u"?new MessageChannel:null;if(!Te)throw new Error("connection_unavailable");let Ct,Gt;return new Promise((Dn,$n)=>{const cr=Mc("",20);Te.port1.start();const si=setTimeout(()=>{$n(new Error("unsupported_event"))},P);Gt={messageChannel:Te,onMessage(ua){const No=ua;if(No.data.eventId===cr)switch(No.data.status){case"ack":clearTimeout(si),Ct=setTimeout(()=>{$n(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ct),Dn(No.data.response);break;default:clearTimeout(si),clearTimeout(Ct),$n(new Error("invalid_response"))}}},le.handlers.add(Gt),Te.port1.addEventListener("message",Gt.onMessage),le.target.postMessage({eventType:_,eventId:cr,data:I},[Te.port2])}).finally(()=>{Gt&&le.removeMessageHandler(Gt)})})()}}function ai(){return window}function _a(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function Ei(){return(Ei=(0,y.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ri="firebaseLocalStorageDb",zi="firebaseLocalStorage",On="fbase_key";class hl{constructor(_){this.request=_}toPromise(){return new Promise((_,I)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Ma(R,_){return R.transaction([zi],_?"readwrite":"readonly").objectStore(zi)}function xc(){const R=indexedDB.open(ri,1);return new Promise((_,I)=>{R.addEventListener("error",()=>{I(R.error)}),R.addEventListener("upgradeneeded",()=>{const P=R.result;try{P.createObjectStore(zi,{keyPath:On})}catch(le){I(le)}}),R.addEventListener("success",(0,y.Z)(function*(){const P=R.result;P.objectStoreNames.contains(zi)?_(P):(P.close(),yield function fl(){const R=indexedDB.deleteDatabase(ri);return new hl(R).toPromise()}(),_(yield xc()))}))})}function Ya(R,_,I){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,y.Z)(function*(R,_,I){const P=Ma(R,!0).put({[On]:_,value:I});return new hl(P).toPromise()})).apply(this,arguments)}function wi(){return(wi=(0,y.Z)(function*(R,_){const I=Ma(R,!1).get(_),P=yield new hl(I).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function li(R,_){const I=Ma(R,!0).delete(_);return new hl(I).toPromise()}const to=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,y.Z)(function*(){return I.db||(I.db=yield xc()),I.db})()}_withRetries(I){var P=this;return(0,y.Z)(function*(){let le=0;for(;;)try{const Te=yield P._openDb();return yield I(Te)}catch(Te){if(le++>3)throw Te;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,y.Z)(function*(){return _a()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,y.Z)(function*(){I.receiver=Ac._getInstance(function Pl(){return _a()?self:null}()),I.receiver._subscribe("keyChanged",function(){var P=(0,y.Z)(function*(le,Te){return{keyProcessed:(yield I._poll()).includes(Te.key)}});return function(le,Te){return P.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var P=(0,y.Z)(function*(le,Te){return["keyChanged"]});return function(le,Te){return P.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,y.Z)(function*(){var P,le;if(I.activeServiceWorker=yield function xl(){return Ei.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new vf(I.activeServiceWorker);const Te=yield I.sender._send("ping",{},800);Te&&null!==(P=Te[0])&&void 0!==P&&P.fulfilled&&null!==(le=Te[0])&&void 0!==le&&le.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var P=this;return(0,y.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function dr(){var R;return(null===(R=null==navigator?void 0:navigator.serviceWorker)||void 0===R?void 0:R.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:I},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const I=yield xc();return yield Ya(I,Qe,"1"),yield li(I,Qe),!0}catch{}return!1})()}_withPendingWrite(I){var P=this;return(0,y.Z)(function*(){P.pendingWrites++;try{yield I()}finally{P.pendingWrites--}})()}_set(I,P){var le=this;return(0,y.Z)(function*(){return le._withPendingWrite((0,y.Z)(function*(){return yield le._withRetries(Te=>Ya(Te,I,P)),le.localCache[I]=P,le.notifyServiceWorker(I)}))})()}_get(I){var P=this;return(0,y.Z)(function*(){const le=yield P._withRetries(Te=>function Ol(R,_){return wi.apply(this,arguments)}(Te,I));return P.localCache[I]=le,le})()}_remove(I){var P=this;return(0,y.Z)(function*(){return P._withPendingWrite((0,y.Z)(function*(){return yield P._withRetries(le=>li(le,I)),delete P.localCache[I],P.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,y.Z)(function*(){const P=yield I._withRetries(Ct=>{const Gt=Ma(Ct,!1).getAll();return new hl(Gt).toPromise()});if(!P)return[];if(0!==I.pendingWrites)return[];const le=[],Te=new Set;for(const{fbase_key:Ct,value:Gt}of P)Te.add(Ct),JSON.stringify(I.localCache[Ct])!==JSON.stringify(Gt)&&(I.notifyListeners(Ct,Gt),le.push(Ct));for(const Ct of Object.keys(I.localCache))I.localCache[Ct]&&!Te.has(Ct)&&(I.notifyListeners(Ct,null),le.push(Ct));return le})()}notifyListeners(I,P){this.localCache[I]=P;const le=this.listeners[I];if(le)for(const Te of Array.from(le))Te(P)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})(),ao=1e12;class Bu{constructor(_){this.auth=_,this.counter=ao,this._widgets=new Map}render(_,I){const P=this.counter;return this._widgets.set(P,new xa(_,this.auth.name,I||{})),this.counter++,P}reset(_){var I;const P=_||ao;null===(I=this._widgets.get(P))||void 0===I||I.delete(),this._widgets.delete(P)}getResponse(_){var I;return(null===(I=this._widgets.get(_||ao))||void 0===I?void 0:I.getResponse())||""}execute(_){var I=this;return(0,y.Z)(function*(){var P;return null===(P=I._widgets.get(_||ao))||void 0===P||P.execute(),""})()}}class xa{constructor(_,I,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof _?document.getElementById(_):_;xe(le,"argument-error",{appName:I}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wo(R){const _=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<R;P++)_.push(I.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":I}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fo=or("rcb"),_f=new We(3e4,6e4);class M{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=ai().grecaptcha)||void 0===_||!_.render)}load(_,I=""){return xe(function O(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(I),_,"argument-error"),this.shouldResolveImmediately(I)&&kn(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((P,le)=>{const Te=ai().setTimeout(()=>{le(rt(_,"network-request-failed"))},_f.get());ai()[Fo]=()=>{ai().clearTimeout(Te),delete ai()[Fo];const Gt=ai().grecaptcha;if(!Gt||!kn(Gt))return void le(rt(_,"internal-error"));const Dn=Gt.render;Gt.render=($n,cr)=>{const si=Dn($n,cr);return this.counter++,si},this.hostLanguage=I,P(Gt)},_r(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Fo,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(Te),le(rt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var I;return!(null===(I=ai().grecaptcha)||void 0===I||!I.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class D{load(_){return(0,y.Z)(function*(){return new Bu(_)})()}clearedOneInstance(){}}const F="recaptcha",te={theme:"light",type:"image"};class Ae{constructor(_,I=Object.assign({},te),P){this.parameters=I,this.type=F,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ti(P),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof _?document.getElementById(_):_;xe(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new D:new M,this.validateStartingState()}verify(){var _=this;return(0,y.Z)(function*(){_.assertNotDestroyed();const I=yield _.render(),P=_.getAssertedRecaptcha();return P.getResponse(I)||new Promise(Te=>{const Ct=Gt=>{Gt&&(_.tokenChangeListeners.delete(Ct),Te(Gt))};_.tokenChangeListeners.add(Ct),_.isInvisible&&P.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return I=>{if(this.tokenChangeListeners.forEach(P=>P(I)),"function"==typeof _)_(I);else if("string"==typeof _){const P=ai()[_];"function"==typeof P&&P(I)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,y.Z)(function*(){if(yield _.init(),!_.widgetId){let I=_.container;if(!_.isInvisible){const P=document.createElement("div");I.appendChild(P),I=P}_.widgetId=_.getAssertedRecaptcha().render(I,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,y.Z)(function*(){xe(yt()&&!_a(),_.auth,"internal-error"),yield function Ie(){let R=null;return new Promise(_=>{"complete"!==document.readyState?(R=()=>_(),window.addEventListener("load",R)):_()}).catch(_=>{throw R&&window.removeEventListener("load",R),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const I=yield function Dt(R){return wt.apply(this,arguments)}(_.auth);xe(I,_.auth,"internal-error"),_.parameters.sitekey=I})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gt{constructor(_,I){this.verificationId=_,this.onConfirmation=I}confirm(_){const I=Ui._fromVerification(this.verificationId,_);return this.onConfirmation(I)}}function tn(R,_,I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*(R,_,I){const P=ti(R),le=yield Jo(P,_,(0,g.m9)(I));return new gt(le,Te=>Dr(P,Te))})).apply(this,arguments)}function lr(R,_,I){return gn.apply(this,arguments)}function gn(){return(gn=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);yield Q(!1,P,"phone");const le=yield Jo(P.auth,_,(0,g.m9)(I));return new gt(le,Te=>Ts(P,Te))})).apply(this,arguments)}function Bi(R,_,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R),le=yield Jo(P.auth,_,(0,g.m9)(I));return new gt(le,Te=>_s(P,Te))})).apply(this,arguments)}function Jo(R,_,I){return no.apply(this,arguments)}function no(){return no=(0,y.Z)(function*(R,_,I){var P;const le=yield I.verify();try{let Te;if(xe("string"==typeof le,R,"argument-error"),xe(I.type===F,R,"argument-error"),Te="string"==typeof _?{phoneNumber:_}:_,"session"in Te){const Ct=Te.session;if("phoneNumber"in Te)return xe("enroll"===Ct.type,R,"internal-error"),(yield function Qt(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:start",ct(R,_))}(R,{idToken:Ct.credential,phoneEnrollmentInfo:{phoneNumber:Te.phoneNumber,recaptchaToken:le}})).phoneSessionInfo.sessionInfo;{xe("signin"===Ct.type,R,"internal-error");const Gt=(null===(P=Te.multiFactorHint)||void 0===P?void 0:P.uid)||Te.multiFactorUid;return xe(Gt,R,"missing-multi-factor-info"),(yield function Go(R,_){return Tt(R,"POST","/v2/accounts/mfaSignIn:start",ct(R,_))}(R,{mfaPendingCredential:Ct.credential,mfaEnrollmentId:Gt,phoneSignInInfo:{recaptchaToken:le}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ct}=yield function Si(R,_){return Ss.apply(this,arguments)}(R,{phoneNumber:Te.phoneNumber,recaptchaToken:le});return Ct}}finally{I._reset()}}),no.apply(this,arguments)}function pl(R,_){return uo.apply(this,arguments)}function uo(){return(uo=(0,y.Z)(function*(R,_){yield ne((0,g.m9)(R),_)})).apply(this,arguments)}let pd=(()=>{class R{constructor(I){this.providerId=R.PROVIDER_ID,this.auth=ti(I)}verifyPhoneNumber(I,P){return Jo(this.auth,I,(0,g.m9)(P))}static credential(I,P){return Ui._fromVerification(I,P)}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:P,temporaryProof:le}=I;return P&&le?Ui._fromTokenResponse(P,le):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function hs(R,_){return _?mn(_):(xe(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class Vu extends G{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return An(_,this._buildIdpRequest())}_linkToIdToken(_,I){return An(_,this._buildIdpRequest(I))}_getReauthenticationResolver(_){return An(_,this._buildIdpRequest())}_buildIdpRequest(_){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(I.idToken=_),I}}function Za(R){return er(R.auth,new Vu(R),R.bypassAuthState)}function Pp(R){const{auth:_,user:I}=R;return xe(I,_,"internal-error"),qt(I,new Vu(R),R.bypassAuthState)}function Op(R){return gd.apply(this,arguments)}function gd(){return(gd=(0,y.Z)(function*(R){const{auth:_,user:I}=R;return xe(I,_,"internal-error"),ne(I,new Vu(R),R.bypassAuthState)})).apply(this,arguments)}class Ef{constructor(_,I,P,le,Te=!1){this.auth=_,this.resolver=P,this.user=le,this.bypassAuthState=Te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var _=this;return new Promise(function(){var I=(0,y.Z)(function*(P,le){_.pendingPromise={resolve:P,reject:le};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Te){_.reject(Te)}});return function(P,le){return I.apply(this,arguments)}}())}onAuthEvent(_){var I=this;return(0,y.Z)(function*(){const{urlResponse:P,sessionId:le,postBody:Te,tenantId:Ct,error:Gt,type:Dn}=_;if(Gt)return void I.reject(Gt);const $n={auth:I.auth,requestUri:P,sessionId:le,tenantId:Ct||void 0,postBody:Te||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Dn)($n))}catch(cr){I.reject(cr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Za;case"linkViaPopup":case"linkViaRedirect":return Op;case"reauthViaPopup":case"reauthViaRedirect":return Pp;default:Ge(this.auth,"internal-error")}}resolve(_){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qa=new We(2e3,1e4);function Oc(R,_,I){return iu.apply(this,arguments)}function iu(){return(iu=(0,y.Z)(function*(R,_,I){const P=ti(R);_t(R,_,di);const le=hs(P,I);return new Gi(P,"signInViaPopup",_,le).executeNotNull()})).apply(this,arguments)}function uh(R,_,I){return md.apply(this,arguments)}function md(){return(md=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di);const le=hs(P.auth,I);return new Gi(P.auth,"reauthViaPopup",_,le,P).executeNotNull()})).apply(this,arguments)}function ch(R,_,I){return yd.apply(this,arguments)}function yd(){return(yd=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di);const le=hs(P.auth,I);return new Gi(P.auth,"linkViaPopup",_,le,P).executeNotNull()})).apply(this,arguments)}let Gi=(()=>{class R extends Ef{constructor(I,P,le,Te,Ct){super(I,P,Te,Ct),this.provider=le,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var I=this;return(0,y.Z)(function*(){const P=yield I.execute();return xe(P,I.auth,"internal-error"),P})()}onExecution(){var I=this;return(0,y.Z)(function*(){tt(1===I.filter.length,"Popup operations only handle one event");const P=Mc();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],P),I.authWindow.associatedEvent=P,I.resolver._originValidation(I.auth).catch(le=>{I.reject(le)}),I.resolver._isIframeWebStorageSupported(I.auth,le=>{le||I.reject(rt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const I=()=>{var P,le;this.pollId=null!==(le=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==le&&le.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,Qa.get())};I()}}return R.currentPopupAction=null,R})();const wo="pendingRedirect",Uu=new Map;class Pa extends Ef{constructor(_,I,P=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,P),this.eventId=null}execute(){var _=()=>super.execute,I=this;return(0,y.Z)(function*(){let P=Uu.get(I.auth._key());if(!P){try{const Te=(yield function vd(R,_){return Ri.apply(this,arguments)}(I.resolver,I.auth))?yield _().call(I):null;P=()=>Promise.resolve(Te)}catch(le){P=()=>Promise.reject(le)}Uu.set(I.auth._key(),P)}return I.bypassAuthState||Uu.set(I.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(_){var I=()=>super.onAuthEvent,P=this;return(0,y.Z)(function*(){if("signInViaRedirect"===_.type)return I().call(P,_);if("unknown"!==_.type){if(_.eventId){const le=yield P.auth._redirectUserForId(_.eventId);if(le)return P.user=le,I().call(P,_);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Ri(){return(Ri=(0,y.Z)(function*(R,_){const I=co(_),P=Oa(R);if(!(yield P._isAvailable()))return!1;const le="true"===(yield P._get(I));return yield P._remove(I),le})).apply(this,arguments)}function Lo(R,_){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,y.Z)(function*(R,_){return Oa(R)._set(co(_),"true")})).apply(this,arguments)}function tr(){Uu.clear()}function dh(R,_){Uu.set(R._key(),_)}function Oa(R){return mn(R._redirectPersistence)}function co(R){return gr(wo,R.config.apiKey,R.name)}function Ms(R,_,I){return function hh(R,_,I){return Vs.apply(this,arguments)}(R,_,I)}function Vs(){return(Vs=(0,y.Z)(function*(R,_,I){const P=ti(R);_t(R,_,di),yield P._initializationPromise;const le=hs(P,I);return yield Lo(le,P),le._openRedirect(P,_,"signInViaRedirect")})).apply(this,arguments)}function wf(R,_,I){return function gl(R,_,I){return $i.apply(this,arguments)}(R,_,I)}function $i(){return($i=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di),yield P.auth._initializationPromise;const le=hs(P.auth,I);yield Lo(le,P.auth);const Te=yield _d(P);return le._openRedirect(P.auth,_,"reauthViaRedirect",Te)})).apply(this,arguments)}function Oo(R,_,I){return function Ea(R,_,I){return Xa.apply(this,arguments)}(R,_,I)}function Xa(){return(Xa=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di),yield P.auth._initializationPromise;const le=hs(P.auth,I);yield Q(!1,P,_.providerId),yield Lo(le,P.auth);const Te=yield _d(P);return le._openRedirect(P.auth,_,"linkViaRedirect",Te)})).apply(this,arguments)}function su(R,_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,y.Z)(function*(R,_){return yield ti(R)._initializationPromise,ea(R,_,!1)})).apply(this,arguments)}function ea(R,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,y.Z)(function*(R,_,I=!1){const P=ti(R),le=hs(P,_),Ct=yield new Pa(P,le,I).execute();return Ct&&!I&&(delete Ct.user._redirectEventId,yield P._persistUserIfCurrent(Ct.user),yield P._setRedirectUser(null,_)),Ct})).apply(this,arguments)}function _d(R){return kl.apply(this,arguments)}function kl(){return(kl=(0,y.Z)(function*(R){const _=Mc(`${R.uid}:::`);return R._redirectEventId=_,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),_})).apply(this,arguments)}class ju{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let I=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(_,P)&&(I=!0,this.sendToConsumer(_,P),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ed(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fh(R);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=_,I=!0)),I}sendToConsumer(_,I){var P;if(_.error&&!fh(_)){const le=(null===(P=_.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";I.onError(rt(this.auth,le))}else I.onAuthEvent(_)}isEventForConsumer(_,I){const P=null===I.eventId||!!_.eventId&&_.eventId===I.eventId;return I.filter.includes(_.type)&&P}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ou(_))}saveEventToCache(_){this.cachedEventUids.add(ou(_)),this.lastProcessedEventTime=Date.now()}}function ou(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(_=>_).join("-")}function fh({type:R,error:_}){return"unknown"===R&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Ja(R){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,y.Z)(function*(R,_={}){return Tt(R,"GET","/v1/projects",_)})).apply(this,arguments)}const Hu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rs=/^https?/;function el(){return(el=(0,y.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:_}=yield Ja(R);for(const I of _)try{if(zu(I))return}catch{}Ge(R,"unauthorized-domain")})).apply(this,arguments)}function zu(R){const _=pt(),{protocol:I,hostname:P}=new URL(_);if(R.startsWith("chrome-extension://")){const Ct=new URL(R);return""===Ct.hostname&&""===P?"chrome-extension:"===I&&R.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===I&&Ct.hostname===P}if(!Rs.test(I))return!1;if(Hu.test(R))return P===R;const le=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(P)}const Bo=new We(3e4,6e4);function ka(){const R=ai().___jsl;if(null!=R&&R.H)for(const _ of Object.keys(R.H))if(R.H[_].r=R.H[_].r||[],R.H[_].L=R.H[_].L||[],R.H[_].r=[...R.H[_].L],R.CP)for(let I=0;I<R.CP.length;I++)R.CP[I]=null}let Gu=null;const Np=new We(5e3,15e3),dm="__/auth/iframe",$o="emulator/auth/iframe",ho={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(R){const _=R.config;xe(_.authDomain,R,"auth-domain-config-required");const I=_.emulator?ke(_,$o):`https://${R.config.authDomain}/${dm}`,P={apiKey:_.apiKey,appName:R.name,v:ie.SDK_VERSION},le=ii.get(R.config.apiHost);le&&(P.eid=le);const Te=R._getFrameworks();return Te.length&&(P.fw=Te.join(",")),`${I}?${(0,g.xO)(P).slice(1)}`}function Fc(){return Fc=(0,y.Z)(function*(R){const _=yield function kc(R){return Gu=Gu||function If(R){return new Promise((_,I)=>{var P,le,Te;function Ct(){ka(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{ka(),I(rt(R,"network-request-failed"))},timeout:Bo.get()})}if(null!==(le=null===(P=ai().gapi)||void 0===P?void 0:P.iframes)&&void 0!==le&&le.Iframe)_(gapi.iframes.getContext());else{if(null===(Te=ai().gapi)||void 0===Te||!Te.load){const Gt=or("iframefcb");return ai()[Gt]=()=>{gapi.load?Ct():I(rt(R,"network-request-failed"))},_r(`https://apis.google.com/js/api.js?onload=${Gt}`).catch(Dn=>I(Dn))}Ct()}}).catch(_=>{throw Gu=null,_})}(R),Gu}(R),I=ai().gapi;return xe(I,R,"internal-error"),_.open({where:document.body,url:Fa(R),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ho,dontclear:!0},P=>new Promise(function(){var le=(0,y.Z)(function*(Te,Ct){yield P.restyle({setHideOnLeave:!1});const Gt=rt(R,"network-request-failed"),Dn=ai().setTimeout(()=>{Ct(Gt)},Np.get());function $n(){ai().clearTimeout(Dn),Te(P)}P.ping($n).then($n,()=>{Ct(Gt)})});return function(Te,Ct){return le.apply(this,arguments)}}()))}),Fc.apply(this,arguments)}const tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qu{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cd="__/auth/handler",Lc="emulator/auth/handler",Bl=encodeURIComponent("fac");function bd(R,_,I,P,le,Te){return ml.apply(this,arguments)}function ml(){return(ml=(0,y.Z)(function*(R,_,I,P,le,Te){xe(R.config.authDomain,R,"auth-domain-config-required"),xe(R.config.apiKey,R,"invalid-api-key");const Ct={apiKey:R.config.apiKey,appName:R.name,authType:I,redirectUrl:P,v:ie.SDK_VERSION,eventId:le};if(_ instanceof di){_.setDefaultLanguage(R.languageCode),Ct.providerId=_.providerId||"",(0,g.xb)(_.getCustomParameters())||(Ct.customParameters=JSON.stringify(_.getCustomParameters()));for(const[cr,si]of Object.entries(Te||{}))Ct[cr]=si}if(_ instanceof Hs){const cr=_.getScopes().filter(si=>""!==si);cr.length>0&&(Ct.scopes=cr.join(","))}R.tenantId&&(Ct.tid=R.tenantId);const Gt=Ct;for(const cr of Object.keys(Gt))void 0===Gt[cr]&&delete Gt[cr];const Dn=yield R._getAppCheckToken(),$n=Dn?`#${Bl}=${encodeURIComponent(Dn)}`:"";return`${function Zu({config:R}){return R.emulator?ke(R,Lc):`https://${R.authDomain}/${Cd}`}(R)}?${(0,g.xO)(Gt).slice(1)}${$n}`})).apply(this,arguments)}const Bc="webStorageSupport",Vi=class Cf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rl,this._completeRedirectFn=ea,this._overrideRedirectResult=dh}_openPopup(_,I,P,le){var Te=this;return(0,y.Z)(function*(){var Ct;tt(null===(Ct=Te.eventManagers[_._key()])||void 0===Ct?void 0:Ct.manager,"_initialize() not called before _openPopup()");const Gt=yield bd(_,I,P,pt(),le);return function Yu(R,_,I,P=500,le=600){const Te=Math.max((window.screen.availHeight-le)/2,0).toString(),Ct=Math.max((window.screen.availWidth-P)/2,0).toString();let Gt="";const Dn=Object.assign(Object.assign({},tl),{width:P.toString(),height:le.toString(),top:Te,left:Ct}),$n=(0,g.z$)().toLowerCase();I&&(Gt=q($n)?"_blank":I),K($n)&&(_=_||"http://localhost",Dn.scrollbars="yes");const cr=Object.entries(Dn).reduce((ua,[No,gh])=>`${ua}${No}=${gh},`,"");if(function Ht(R=(0,g.z$)()){var _;return It(R)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}($n)&&"_self"!==Gt)return function Id(R,_){const I=document.createElement("a");I.href=R,I.target=_;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(P)}(_||"",Gt),new qu(null);const si=window.open(_||"",Gt,cr);xe(si,R,"popup-blocked");try{si.focus()}catch{}return new qu(si)}(_,Gt,Mc())})()}_openRedirect(_,I,P,le){var Te=this;return(0,y.Z)(function*(){return yield Te._originValidation(_),function sr(R){ai().location.href=R}(yield bd(_,I,P,pt(),le)),new Promise(()=>{})})()}_initialize(_){const I=_._key();if(this.eventManagers[I]){const{manager:le,promise:Te}=this.eventManagers[I];return le?Promise.resolve(le):(tt(Te,"If manager is not set, promise should be"),Te)}const P=this.initAndGetManager(_);return this.eventManagers[I]={promise:P},P.catch(()=>{delete this.eventManagers[I]}),P}initAndGetManager(_){var I=this;return(0,y.Z)(function*(){const P=yield function Ll(R){return Fc.apply(this,arguments)}(_),le=new ju(_);return P.register("authEvent",Te=>(xe(null==Te?void 0:Te.authEvent,_,"invalid-auth-event"),{status:le.onEvent(Te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[_._key()]={manager:le},I.iframes[_._key()]=P,le})()}_isIframeWebStorageSupported(_,I){this.iframes[_._key()].send(Bc,{type:Bc},le=>{var Te;const Ct=null===(Te=null==le?void 0:le[0])||void 0===Te?void 0:Te[Bc];void 0!==Ct&&I(!!Ct),Ge(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function wd(R){return el.apply(this,arguments)}(_)),this.originValidationPromises[I]}get _shouldInitProactively(){return un()||z()||It()}};class La{constructor(_){this.factorId=_}_process(_,I,P){switch(I.type){case"enroll":return this._finalizeEnroll(_,I.credential,P);case"signin":return this._finalizeSignIn(_,I.credential);default:return St("unexpected MultiFactorSessionType")}}}class au extends La{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new au(_)}_finalizeEnroll(_,I,P){return function Gr(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:finalize",ct(R,_))}(_,{idToken:I,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,I){return function Li(R,_){return Tt(R,"POST","/v2/accounts/mfaSignIn:finalize",ct(R,_))}(_,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bf=(()=>{class R{constructor(){}static assertion(I){return au._fromCredential(I)}}return R.FACTOR_ID="phone",R})();var la="@firebase/auth";class lu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var I=this;return(0,y.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const I=this.auth.onIdTokenChanged(P=>{_((null==P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,I),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const I=this.internalListeners.get(_);I&&(this.internalListeners.delete(_),I(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sd=(0,g.Pz)("authIdTokenMaxAge")||300;let uu=null;const kp=R=>function(){var _=(0,y.Z)(function*(I){const P=I&&(yield I.getIdTokenResult()),le=P&&((new Date).getTime()-Date.parse(P.issuedAtTime))/1e3;if(le&&le>Sd)return;const Te=null==P?void 0:P.token;uu!==Te&&(uu=Te,yield fetch(R,{method:Te?"POST":"DELETE",headers:Te?{Authorization:`Bearer ${Te}`}:{}}))});return function(I){return _.apply(this,arguments)}}();function ph(R=(0,ie.getApp)()){const _=(0,ie._getProvider)(R,"auth");if(_.isInitialized())return _.getImmediate();const I=function Ji(R,_){const I=(0,ie._getProvider)(R,"auth");if(I.isInitialized()){const le=I.getImmediate(),Te=I.getOptions();if((0,g.vZ)(Te,null!=_?_:{}))return le;Ge(le,"already-initialized")}return I.initialize({options:_})}(R,{popupRedirectResolver:Vi,persistence:[to,Ml,Rl]}),P=(0,g.Pz)("authTokenSyncURL");if(P){const Te=kp(P);(function ye(R,_,I){(0,g.m9)(R).beforeAuthStateChanged(_,I)})(I,Te,()=>Te(I.currentUser)),function H(R,_,I,P){(0,g.m9)(R).onIdTokenChanged(_,I,P)}(I,Ct=>Te(Ct))}const le=(0,g.q4)("auth");return le&&Zs(I,`http://${le}`),I}!function Dd(R){(0,ie._registerComponent)(new we.wA("auth",(_,{options:I})=>{const P=_.getProvider("app").getImmediate(),le=_.getProvider("heartbeat"),Te=_.getProvider("app-check-internal"),{apiKey:Ct,authDomain:Gt}=P.options;xe(Ct&&!Ct.includes(":"),"invalid-api-key",{appName:P.name});const Dn={apiKey:Ct,authDomain:Gt,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(R)},$n=new Pi(P,le,Te,Dn);return function ps(R,_){const I=(null==_?void 0:_.persistence)||[],P=(Array.isArray(I)?I:[I]).map(mn);null!=_&&_.errorMap&&R._updateErrorMap(_.errorMap),R._initializeWithPersistence(P,null==_?void 0:_.popupRedirectResolver)}($n,I),$n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,I,P)=>{_.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new we.wA("auth-internal",_=>{const I=ti(_.getProvider("auth").getImmediate());return new lu(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(la,"0.23.2",function Df(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,ie.registerVersion)(la,"0.23.2","esm2017")}("Browser")},2810:(ln,ut,L)=>{"use strict";L.d(ut,{u7:()=>Qg,Jj:()=>od,IX:()=>vy,my:()=>Os,xU:()=>yc,Lz:()=>Ru,WA:()=>Vt,F8:()=>Pu,$q:()=>Ua,W:()=>Yl,EK:()=>Ei,PU:()=>x0,l7:()=>ea,Ky:()=>On,Xb:()=>zi,Cf:()=>oi,K9:()=>va,Me:()=>hh,yq:()=>ws,Wi:()=>jg,ET:()=>a_,Ab:()=>O0,vr:()=>Fy,Fc:()=>Hg,hJ:()=>Zd,B$:()=>af,at:()=>po,oe:()=>w0,AK:()=>sl,TF:()=>lf,JU:()=>So,ST:()=>Yv,fH:()=>Kl,Ix:()=>bE,Wu:()=>g0,Lx:()=>i_,qY:()=>io,GL:()=>rh,QT:()=>v0,kl:()=>nh,Xk:()=>Oy,PL:()=>_0,UQ:()=>tm,zN:()=>Ny,ad:()=>Ey,nP:()=>N0,b9:()=>t_,vh:()=>n_,Pb:()=>l0,L$:()=>u0,cf:()=>I0,sc:()=>Yo,Xo:()=>Ay,IO:()=>Ty,iE:()=>id,Eo:()=>pc,i3:()=>Dl,Bt:()=>P0,pl:()=>AE,Ub:()=>ts,qK:()=>y0,TQ:()=>p0,e0:()=>r_,r7:()=>E0,Mx:()=>CE,ar:()=>h0});var De,y=L(5861),g=L(6881),ie=L(4859),me=L(1877),be=L(2090),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={},$e=$e||{},U=we||self;function Ce(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Ue(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Ve="closure_uid_"+(1e9*Math.random()>>>0),qe=0;function bt(s,e,t){return s.call.apply(s.bind,arguments)}function Me(s,e,t){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function Ee(s,e,t){return(Ee=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:Me).apply(null,arguments)}function vt(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function it(s,e){function t(){}t.prototype=e.prototype,s.$=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.ac=function(l,h,m){for(var E=Array(arguments.length-2),k=2;k<arguments.length;k++)E[k-2]=arguments[k];return e.prototype[h].apply(l,E)}}function Ge(){this.s=this.s,this.o=this.o}Ge.prototype.s=!1,Ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ve(s){Object.prototype.hasOwnProperty.call(s,Ve)&&s[Ve]||(s[Ve]=++qe)}(this)},Ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ft=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function _t(s){const e=s.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=s[l];return t}return[]}function Ze(s,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(Ce(l)){const h=s.length||0,m=l.length||0;s.length=h+m;for(let E=0;E<m;E++)s[h+E]=l[E]}else s.push(l)}}function xe(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{U.addEventListener("test",()=>{},e),U.removeEventListener("test",()=>{},e)}catch{}return s}();function tt(s){return/^[\s\xa0]*$/.test(s)}function pt(){var s=U.navigator;return s&&(s=s.userAgent)?s:""}function yt(s){return-1!=pt().indexOf(s)}function ce(s){return ce[" "](s),s}ce[" "]=function(){};var Tt,s,je=yt("Opera"),We=yt("Trident")||yt("MSIE"),ke=yt("Edge"),Fe=ke||We,He=yt("Gecko")&&!(-1!=pt().toLowerCase().indexOf("webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),mt=-1!=pt().toLowerCase().indexOf("webkit")&&!yt("Edge");function ct(){var s=U.document;return s?s.documentMode:void 0}e:{var Pt="",sn=(s=pt(),He?/rv:([^\);]+)(\)|;)/.exec(s):ke?/Edge\/([\d\.]+)/.exec(s):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):mt?/WebKit\/(\S+)/.exec(s):je?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(sn&&(Pt=sn?sn[1]:""),We){var At=ct();if(null!=At&&At>parseFloat(Pt)){Tt=String(At);break e}}Tt=Pt}var Jt=U.document&&We&&(ct()||parseInt(Tt,10))||void 0;function fn(s,e){if(xe.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(He){e:{try{ce(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Tn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&fn.$.h.call(this)}}it(fn,xe);var Tn={2:"touch",3:"pen",4:"mouse"};fn.prototype.h=function(){fn.$.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var En="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function In(s,e,t,l,h){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.la=h,this.key=++Nt,this.fa=this.ia=!1}function Bt(s){s.fa=!0,s.listener=null,s.proxy=null,s.src=null,s.la=null}function rr(s,e,t){for(const l in s)e.call(t,s[l],l,s)}function pr(s){const e={};for(const t in s)e[t]=s[t];return e}const nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(s,e){let t,l;for(let h=1;h<arguments.length;h++){for(t in l=arguments[h],l)s[t]=l[t];for(let m=0;m<nn.length;m++)t=nn[m],Object.prototype.hasOwnProperty.call(l,t)&&(s[t]=l[t])}}function ir(s){this.src=s,this.g={},this.h=0}function nr(s,e){var t=e.type;if(t in s.g){var m,l=s.g[t],h=ft(l,e);(m=0<=h)&&Array.prototype.splice.call(l,h,1),m&&(Bt(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function Tr(s,e,t,l){for(var h=0;h<s.length;++h){var m=s[h];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==l)return h}return-1}ir.prototype.add=function(s,e,t,l,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var E=Tr(s,e,l,h);return-1<E?(e=s[E],t||(e.ia=!1)):((e=new In(e,this.src,m,!!l,h)).ia=t,s.push(e)),e};var Ar="closure_lm_"+(1e6*Math.random()|0),Sn={};function vn(s,e,t,l,h){if(l&&l.once)return vr(s,e,t,l,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)vn(s,e[m],t,l,h);return null}return t=Hn(t),s&&s[En]?s.O(e,t,Ue(l)?!!l.capture:!!l,h):Vn(s,e,t,!1,l,h)}function Vn(s,e,t,l,h,m){if(!e)throw Error("Invalid event type");var E=Ue(h)?!!h.capture:!!h,k=Pn(s);if(k||(s[Ar]=k=new ir(s)),(t=k.add(e,t,l,E,m)).proxy)return t;if(l=function Cr(){const e=Kn;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=l,l.src=s,l.listener=t,s.addEventListener)St||(h=E),void 0===h&&(h=!1),s.addEventListener(e.toString(),l,h);else if(s.attachEvent)s.attachEvent(br(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return t}function vr(s,e,t,l,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)vr(s,e[m],t,l,h);return null}return t=Hn(t),s&&s[En]?s.P(e,t,Ue(l)?!!l.capture:!!l,h):Vn(s,e,t,!0,l,h)}function ur(s,e,t,l,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)ur(s,e[m],t,l,h);else l=Ue(l)?!!l.capture:!!l,t=Hn(t),s&&s[En]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=Tr(m=s.g[e],t,l,h))&&(Bt(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=Pn(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Tr(e,t,l,h)),(t=-1<s?e[s]:null)&&Nr(t))}function Nr(s){if("number"!=typeof s&&s&&!s.fa){var e=s.src;if(e&&e[En])nr(e.i,s);else{var t=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(t,l,s.capture):e.detachEvent?e.detachEvent(br(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=Pn(e))?(nr(t,s),0==t.h&&(t.src=null,e[Ar]=null)):Bt(s)}}}function br(s){return s in Sn?Sn[s]:Sn[s]="on"+s}function Kn(s,e){if(s.fa)s=!0;else{e=new fn(e,this);var t=s.listener,l=s.la||s.src;s.ia&&Nr(s),s=t.call(l,e)}return s}function Pn(s){return(s=s[Ar])instanceof ir?s:null}var Jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(s){return"function"==typeof s?s:(s[Jr]||(s[Jr]=function(e){return s.handleEvent(e)}),s[Jr])}function jt(){Ge.call(this),this.i=new ir(this),this.S=this,this.J=null}function fe(s,e){var t,l=s.J;if(l)for(t=[];l;l=l.J)t.push(l);if(s=s.S,l=e.type||e,"string"==typeof e)e=new xe(e,s);else if(e instanceof xe)e.target=e.target||s;else{var h=e;Lr(e=new xe(l,s),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var E=e.g=t[m];h=ze(E,l,!0,e)&&h}if(h=ze(E=e.g=s,l,!0,e)&&h,h=ze(E,l,!1,e)&&h,t)for(m=0;m<t.length;m++)h=ze(E=e.g=t[m],l,!1,e)&&h}function ze(s,e,t,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var E=e[m];if(E&&!E.fa&&E.capture==t){var k=E.listener,Y=E.la||E.src;E.ia&&nr(s.i,E),h=!1!==k.call(Y,l)&&h}}return h&&!l.defaultPrevented}it(jt,Ge),jt.prototype[En]=!0,jt.prototype.removeEventListener=function(s,e,t,l){ur(this,s,e,t,l)},jt.prototype.N=function(){if(jt.$.N.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],l=0;l<t.length;l++)Bt(t[l]);delete s.g[e],s.h--}}this.J=null},jt.prototype.O=function(s,e,t,l){return this.i.add(String(s),e,!1,t,l)},jt.prototype.P=function(s,e,t,l){return this.i.add(String(s),e,!0,t,l)};var Mt=U.JSON.stringify;function mn(){var s=q;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Fn=new class an{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gr,s=>s.reset());class gr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Je(s){var e=1;s=s.split(":");const t=[];for(;0<e&&s.length;)t.push(s.shift()),e--;return s.length&&t.push(s.join(":")),t}function he(s){U.setTimeout(()=>{throw s},0)}let K,z=!1,q=new class fr{constructor(){this.h=this.g=null}add(e,t){const l=Fn.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}},Oe=()=>{const s=U.Promise.resolve(void 0);K=()=>{s.then(st)}};var st=()=>{for(var s;s=mn();){try{s.h.call(s.g)}catch(t){he(t)}var e=Fn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}z=!1};function Le(s,e){jt.call(this),this.h=s||1,this.g=e||U,this.j=Ee(this.qb,this),this.l=Date.now()}function ht(s){s.ga=!1,s.T&&(s.g.clearTimeout(s.T),s.T=null)}function It(s,e,t){if("function"==typeof s)t&&(s=Ee(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Ee(s.handleEvent,s)}return 2147483647<Number(e)?-1:U.setTimeout(s,e||0)}function zt(s){s.g=It(()=>{s.g=null,s.i&&(s.i=!1,zt(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}it(Le,jt),(De=Le.prototype).ga=!1,De.T=null,De.qb=function(){if(this.ga){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-s):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fe(this,"tick"),this.ga&&(ht(this),this.start()))}},De.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},De.N=function(){Le.$.N.call(this),ht(this),delete this.g};class Ht extends Ge{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(s){Ge.call(this),this.h=s,this.g={}}it(rn,Ge);var un=[];function Wn(s,e,t,l){Array.isArray(t)||(t&&(un[0]=t.toString()),t=un);for(var h=0;h<t.length;h++){var m=vn(e,t[h],l||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function zn(s){rr(s.g,function(e,t){this.g.hasOwnProperty(t)&&Nr(e)},s),s.g={}}function Dt(){this.g=!0}function _n(s,e,t,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xn(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var l=t[s];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var E=1;E<h.length;E++)h[E]=""}}}return Mt(t)}catch{return e}}(s,t)+(l?" "+l:"")})}rn.prototype.N=function(){rn.$.N.call(this),zn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dt.prototype.Ea=function(){this.g=!1},Dt.prototype.info=function(){};var Jn={},Wr=null;function _r(){return Wr=Wr||new jt}function or(s){xe.call(this,Jn.Ta,s)}function Zn(s){const e=_r();fe(e,new or(e))}function fi(s,e){xe.call(this,Jn.STAT_EVENT,s),this.stat=e}function yi(s){const e=_r();fe(e,new fi(e,s))}function Ds(s,e){xe.call(this,Jn.Ua,s),this.size=e}function vi(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){s()},e)}Jn.Ta="serverreachability",it(or,xe),Jn.STAT_EVENT="statevent",it(fi,xe),Jn.Ua="timingevent",it(Ds,xe);var ns={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},js={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pi(){}function Cs(){}Pi.prototype.h=null;var W,Ji={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ps(){xe.call(this,"d")}function Zs(){xe.call(this,"c")}function ee(){}function _e(s,e,t,l){this.l=s,this.j=e,this.m=t,this.W=l||1,this.U=new rn(this),this.P=G,this.V=new Le(s=Fe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}it(ps,xe),it(Zs,xe),it(ee,Pi),ee.prototype.g=function(){return new XMLHttpRequest},ee.prototype.i=function(){return{}},W=new ee;var G=45e3,oe={},Be={};function Xe(s,e,t){s.L=1,s.v=Qs(rs(e)),s.s=t,s.S=!0,dt(s,null)}function dt(s,e){s.G=Date.now(),Un(s),s.A=rs(s.v);var t=s.A,l=s.W;Array.isArray(l)||(l=[String(l)]),Br(t.i,"t",l),s.C=0,t=s.l.J,s.h=new ae,s.g=so(s.l,t?e:null,!s.s),0<s.O&&(s.M=new Ht(Ee(s.Pa,s,s.g),s.O)),Wn(s.U,s.g,"readystatechange",s.nb),e=s.I?pr(s.I):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ha(s.A,s.u,s.s,e)):(s.u="GET",s.g.ha(s.A,s.u,null,e)),Zn(),function wt(s,e,t,l,h,m){s.info(function(){if(s.g)if(m)for(var E="",k=m.split("&"),Y=0;Y<k.length;Y++){var se=k[Y].split("=");if(1<se.length){var Se=se[0];se=se[1];var nt=Se.split("_");E=2<=nt.length&&"type"==nt[1]?E+(Se+"=")+se+"&":E+(Se+"=redacted&")}}else E=null;else E=m;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+t+"\n"+E})}(s.j,s.u,s.A,s.m,s.W,s.s)}function xt(s){return!!s.g&&"GET"==s.u&&2!=s.L&&s.l.Ha}function on(s,e,t){let h,l=!0;for(;!s.J&&s.C<t.length;){if(h=dn(s,t),h==Be){4==e&&(s.o=4,yi(14),l=!1),_n(s.j,s.m,null,"[Incomplete Response]");break}if(h==oe){s.o=4,yi(15),_n(s.j,s.m,t,"[Invalid Chunk]"),l=!1;break}_n(s.j,s.m,h,null),Hr(s,h)}xt(s)&&h!=Be&&h!=oe&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,yi(16),l=!1),s.i=s.i&&l,l?0<t.length&&!s.ba&&(s.ba=!0,(e=s.l).g==s&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),jr(e),e.M=!0,yi(11))):(_n(s.j,s.m,t,"[Invalid Chunked Response]"),Fi(s),Oi(s))}function dn(s,e){var t=s.C,l=e.indexOf("\n",t);return-1==l?Be:(t=Number(e.substring(t,l)),isNaN(t)?oe:(l+=1)+t>e.length?Be:(e=e.slice(l,l+t),s.C=l+t,e))}function Un(s){s.Y=Date.now()+s.P,ar(s,s.P)}function ar(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=vi(Ee(s.lb,s),e)}function pi(s){s.B&&(U.clearTimeout(s.B),s.B=null)}function Oi(s){0==s.l.H||s.J||Qr(s.l,s)}function Fi(s){pi(s);var e=s.M;e&&"function"==typeof e.sa&&e.sa(),s.M=null,ht(s.V),zn(s.U),s.g&&(e=s.g,s.g=null,e.abort(),e.sa())}function Hr(s,e){try{var t=s.l;if(0!=t.H&&(t.g==s||mi(t.i,s)))if(!s.K&&mi(t.i,s)&&3==t.H){try{var l=t.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<s.G))break e;wr(t),Z(t)}pn(t),yi(18)}}else t.Fa=h[1],0<t.Fa-t.V&&37500>h[2]&&t.G&&0==t.A&&!t.v&&(t.v=vi(Ee(t.ib,t),6e3));if(1>=Bs(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Js(t,11)}else if((s.K||t.g==s)&&wr(t),!tt(e))for(h=t.Ja.g.parse(e),e=0;e<h.length;e++){let se=h[e];if(t.V=se[0],se=se[1],2==t.H)if("c"==se[0]){t.K=se[1],t.pa=se[2];const Se=se[3];null!=Se&&(t.ra=Se,t.l.info("VER="+t.ra));const nt=se[4];null!=nt&&(t.Ga=nt,t.l.info("SVER="+t.Ga));const kt=se[5];null!=kt&&"number"==typeof kt&&0<kt&&(t.L=l=1.5*kt,t.l.info("backChannelRequestTimeoutMs_="+l)),l=t;const Xt=s.g;if(Xt){const wn=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wn){var m=l.i;m.g||-1==wn.indexOf("spdy")&&-1==wn.indexOf("quic")&&-1==wn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(ga(m,m.h),m.h=null))}if(l.F){const jn=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;jn&&(l.Da=jn,An(l.I,l.F,jn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-s.G,t.l.info("Handshake RTT: "+t.S+"ms"));var E=s;if((l=t).wa=Es(l,l.J?l.pa:null,l.Y),E.K){ss(l.i,E);var k=E,Y=l.L;Y&&k.setTimeout(Y),k.B&&(pi(k),Un(k)),l.g=E}else Zt(l);0<t.j.length&&C(t)}else"stop"!=se[0]&&"close"!=se[0]||Js(t,7);else 3==t.H&&("stop"==se[0]||"close"==se[0]?"stop"==se[0]?Js(t,7):xo(t):"noop"!=se[0]&&t.h&&t.h.Aa(se),t.A=0)}Zn()}catch{}}function Kr(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Ce(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function Er(s){if(s.ta&&"function"==typeof s.ta)return s.ta();if(!s.Z||"function"!=typeof s.Z){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Ce(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const l in s)e[t++]=l;return e}}}(s),l=function Cn(s){if(s.Z&&"function"==typeof s.Z)return s.Z();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Ce(s)){for(var e=[],t=s.length,l=0;l<t;l++)e.push(s[l]);return e}for(l in e=[],t=0,s)e[t++]=s[l];return e}(s),h=l.length,m=0;m<h;m++)e.call(void 0,l[m],t&&t[m],s)}(De=_e.prototype).setTimeout=function(s){this.P=s},De.nb=function(s){s=s.target;const e=this.M;e&&3==mr(s)?e.l():this.Pa(s)},De.Pa=function(s){try{if(s==this.g)e:{const Se=mr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Se)&&(3!=Se||Fe||this.g&&(this.h.h||this.g.ja()||Dr(this.g)))){this.J||4!=Se||7==e||Zn(),pi(this);var t=this.g.da();this.ca=t;t:if(xt(this)){var l=Dr(this.g);s="";var h=l.length,m=4==mr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),Oi(this);var E="";break t}this.h.i=new U.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:m&&e==h-1});l.splice(0,h),this.h.g+=s,this.C=0,E=this.h.g}else E=this.g.ja();if(this.i=200==t,function Wt(s,e,t,l,h,m,E){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+E})}(this.j,this.u,this.A,this.m,this.W,Se,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(k)){var se=k;break t}}se=null}if(!(t=se)){this.i=!1,this.o=3,yi(12),Fi(this),Oi(this);break e}_n(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,t)}this.S?(on(this,Se,E),Fe&&this.i&&3==Se&&(Wn(this.U,this.V,"tick",this.mb),this.V.start())):(_n(this.j,this.m,E,null),Hr(this,E)),4==Se&&Fi(this),this.i&&!this.J&&(4==Se?Qr(this.l,this):(this.i=!1,Un(this)))}else(function qi(s){const e={};s=(s.g&&2<=mr(s)&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<s.length;l++){if(tt(s[l]))continue;var t=Je(s[l]);const h=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[h]||[];e[h]=m,m.push(t)}!function hr(s,e){for(const t in s)e.call(void 0,s[t],t,s)}(e,function(l){return l.join(", ")})})(this.g),400==t&&0<E.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),Fi(this),Oi(this)}}}catch{}},De.mb=function(){if(this.g){var s=mr(this.g),e=this.g.ja();this.C<e.length&&(pi(this),on(this,s,e),this.i&&4!=s&&Un(this))}},De.cancel=function(){this.J=!0,Fi(this)},De.lb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function kn(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Zn(),yi(17)),Fi(this),this.o=2,Oi(this)):ar(this,this.Y-s)};var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof gi){this.h=s.h,Ur(this,s.j),this.s=s.s,this.g=s.g,is(this,s.m),this.l=s.l;var e=s.i,t=new gs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),bs(this,t),this.o=s.o}else s&&(e=String(s).match(Ni))?(this.h=!1,Ur(this,e[1]||"",!0),this.s=Fs(e[2]||""),this.g=Fs(e[3]||"",!0),is(this,e[4]),this.l=Fs(e[5]||"",!0),bs(this,e[6]||"",!0),this.o=Fs(e[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}function rs(s){return new gi(s)}function Ur(s,e,t){s.j=t?Fs(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function is(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function bs(s,e,t){e instanceof gs?(s.i=e,function Eo(s,e){e&&!s.j&&(es(s),s.i=null,s.g.forEach(function(t,l){var h=l.toLowerCase();l!=h&&(Uo(this,l),Br(this,h,t))},s)),s.j=e}(s.i,s.h)):(t||(e=Wi(e,Ro)),s.i=new gs(e,s.h))}function An(s,e,t){s.i.set(e,t)}function Qs(s){return An(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Fs(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Wi(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,Si),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Si(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}gi.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Wi(e,Ss,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Wi(e,Ss,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(Wi(t,"/"==t.charAt(0)?Ls:vo,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",Wi(t,_o)),s.join("")};var Ss=/[#\/\?@]/g,vo=/[#\?:]/g,Ls=/[#\?]/g,Ro=/[#\?@]/g,_o=/#/g;function gs(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function es(s){s.g||(s.g=new Map,s.h=0,s.i&&function Mo(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var l=s[t].indexOf("="),h=null;if(0<=l){var m=s[t].substring(0,l);h=s[t].substring(l+1)}else m=s[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Uo(s,e){es(s),e=Qo(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Ui(s,e){return es(s),e=Qo(s,e),s.g.has(e)}function Br(s,e,t){Uo(s,e),0<t.length&&(s.i=null,s.g.set(Qo(s,e),_t(t)),s.h+=t.length)}function Qo(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function ms(s){this.l=s||di,s=U.PerformanceNavigationTiming?0<(s=U.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().ec),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(De=gs.prototype).add=function(s,e){es(this),this.i=null,s=Qo(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},De.forEach=function(s,e){es(this),this.g.forEach(function(t,l){t.forEach(function(h){s.call(e,h,l,this)},this)},this)},De.ta=function(){es(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const h=s[l];for(let m=0;m<h.length;m++)t.push(e[l])}return t},De.Z=function(s){es(this);let e=[];if("string"==typeof s)Ui(this,s)&&(e=e.concat(this.g.get(Qo(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},De.set=function(s,e){return es(this),this.i=null,Ui(this,s=Qo(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},De.get=function(s,e){return s&&0<(s=this.Z(s)).length?String(s[0]):e},De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const m=encodeURIComponent(String(l)),E=this.Z(l);for(l=0;l<E.length;l++){var h=m;""!==E[l]&&(h+="="+encodeURIComponent(String(E[l]))),s.push(h)}}return this.i=s.join("&")};var di=10;function Hs(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Bs(s){return s.h?1:s.g?s.g.size:0}function mi(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function ga(s,e){s.g?s.g.add(e):s.h=e}function ss(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function ji(s){if(null!=s.h)return s.i.concat(s.h.F);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.F);return e}return _t(s.i)}ms.prototype.cancel=function(){if(this.i=ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}};var Xo=class{stringify(s){return U.JSON.stringify(s,void 0)}parse(s){return U.JSON.parse(s,void 0)}};function os(){this.g=new Xo}function as(s,e,t){const l=t||"";try{Kr(s,function(h,m){let E=h;Ue(h)&&(E=Mt(h)),e.push(l+m+"="+encodeURIComponent(E))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function Ki(s,e,t,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch{}}function jo(s){this.l=s.fc||null,this.j=s.ob||!1}function ys(s,e){jt.call(this),this.F=s,this.u=e,this.m=void 0,this.readyState=zs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(jo,Pi),jo.prototype.g=function(){return new ys(this.l,this.j)},jo.prototype.i=function(s){return function(){return s}}({}),it(ys,jt);var zs=0;function Ho(s){s.j.read().then(s.Xa.bind(s)).catch(s.ka.bind(s))}function Ti(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Gs(s)}function Gs(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(De=ys.prototype).open=function(s,e){if(this.readyState!=zs)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Gs(this)},De.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ti(this)),this.readyState=zs},De.$a=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ho(this)}else s.text().then(this.Za.bind(this),this.ka.bind(this))},De.Xa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Ti(this):Gs(this),3==this.readyState&&Ho(this)}},De.Za=function(s){this.g&&(this.response=this.responseText=s,Ti(this))},De.Ya=function(s){this.g&&(this.response=s,Ti(this))},De.ka=function(){this.g&&Ti(this)},De.setRequestHeader=function(s,e){this.v.append(s,e)},De.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},De.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var vs=U.JSON.parse;function Ai(s){jt.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sa,this.L=this.M=!1}it(Ai,jt);var sa="",S=/^https?$/i,ne=["POST","PUT"];function Q(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Re(s),Nn(s)}function Re(s){s.F||(s.F=!0,fe(s,"complete"),fe(s,"error"))}function qt(s){if(s.h&&typeof $e<"u"&&(!s.C[1]||4!=mr(s)||2!=s.da()))if(s.v&&4==mr(s))It(s.La,0,s);else if(fe(s,"readystatechange"),4==mr(s)){s.h=!1;try{const E=s.da();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===E){var h=String(s.I).match(Ni)[1]||null;!h&&U.self&&U.self.location&&(h=U.self.location.protocol.slice(0,-1)),l=!S.test(h?h.toLowerCase():"")}t=l}if(t)fe(s,"complete"),fe(s,"success");else{s.m=6;try{var m=2<mr(s)?s.g.statusText:""}catch{m=""}s.j=m+" ["+s.da()+"]",Re(s)}}finally{Nn(s)}}}function Nn(s,e){if(s.g){er(s);const t=s.g,l=s.C[0]?()=>{}:null;s.g=null,s.C=null,e||fe(s,"ready");try{t.onreadystatechange=l}catch{}}}function er(s){s.g&&s.L&&(s.g.ontimeout=null),s.A&&(U.clearTimeout(s.A),s.A=null)}function mr(s){return s.g?s.g.readyState:0}function Dr(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.K){case sa:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(s){let e="";return rr(s,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function ls(s,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=Ts(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):An(s,e,t))}function _s(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Ws(s){this.Ga=0,this.j=[],this.l=new Dt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_s("failFast",!1,s),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_s("baseRetryDelayMs",5e3,s),this.hb=_s("retryDelaySeedMs",1e4,s),this.eb=_s("forwardChannelMaxRetries",2,s),this.xa=_s("forwardChannelRequestTimeoutMs",2e4,s),this.va=s&&s.xmlHttpFactory||void 0,this.Ha=s&&s.dc||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.i=new ms(s&&s.concurrentRequestLimit),this.Ja=new os,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=s&&s.bc||!1,s&&s.Ea&&this.l.Ea(),s&&s.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&s&&s.detectBufferingProxy||!1,this.qa=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.qa=s.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xo(s){if(j(s),3==s.H){var e=s.W++,t=rs(s.I);if(An(t,"SID",s.K),An(t,"RID",e),An(t,"TYPE","terminate"),ot(s,t),(e=new _e(s,s.l,e)).L=2,e.v=Qs(rs(t)),t=!1,U.navigator&&U.navigator.sendBeacon)try{t=U.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&U.Image&&((new Image).src=e.v,t=!0),t||(e.g=so(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Un(e)}As(s)}function Z(s){s.g&&(jr(s),s.g.cancel(),s.g=null)}function j(s){Z(s),s.u&&(U.clearTimeout(s.u),s.u=null),wr(s),s.i.cancel(),s.m&&("number"==typeof s.m&&U.clearTimeout(s.m),s.m=null)}function C(s){if(!Hs(s.i)&&!s.m){s.m=!0;var e=s.Na;K||Oe(),z||(K(),z=!0),q.add(e,s),s.C=0}}function pe(s,e){var t;t=e?e.m:s.W++;const l=rs(s.I);An(l,"SID",s.K),An(l,"RID",t),An(l,"AID",s.V),ot(s,l),s.o&&s.s&&ls(l,s.o,s.s),t=new _e(s,s.l,t,s.C+1),null===s.o&&(t.I=s.s),e&&(s.j=e.F.concat(s.j)),e=$t(s,t,1e3),t.setTimeout(Math.round(.5*s.xa)+Math.round(.5*s.xa*Math.random())),ga(s.i,t),Xe(t,l,e)}function ot(s,e){s.na&&rr(s.na,function(t,l){An(e,l,t)}),s.h&&Kr({},function(t,l){An(e,l,t)})}function $t(s,e,t){t=Math.min(s.j.length,t);var l=s.h?Ee(s.h.Va,s.h,s):null;e:{var h=s.j;let m=-1;for(;;){const E=["count="+t];-1==m?0<t?(m=h[0].g,E.push("ofs="+m)):m=0:E.push("ofs="+m);let k=!0;for(let Y=0;Y<t;Y++){let se=h[Y].g;const Se=h[Y].map;if(se-=m,0>se)m=Math.max(0,h[Y].g-100),k=!1;else try{as(Se,E,"req"+se+"_")}catch{l&&l(Se)}}if(k){l=E.join("&");break e}}}return s=s.j.splice(0,t),e.F=s,l}function Zt(s){if(!s.g&&!s.u){s.ba=1;var e=s.Ma;K||Oe(),z||(K(),z=!0),q.add(e,s),s.A=0}}function pn(s){return!(s.g||s.u||3<=s.A||(s.ba++,s.u=vi(Ee(s.Ma,s),Rr(s,s.A)),s.A++,0))}function jr(s){null!=s.B&&(U.clearTimeout(s.B),s.B=null)}function Mr(s){s.g=new _e(s,s.l,"rpc",s.ba),null===s.o&&(s.g.I=s.s),s.g.O=0;var e=rs(s.wa);An(e,"RID","rpc"),An(e,"SID",s.K),An(e,"AID",s.V),An(e,"CI",s.G?"0":"1"),!s.G&&s.qa&&An(e,"TO",s.qa),An(e,"TYPE","xmlhttp"),ot(s,e),s.o&&s.s&&ls(e,s.o,s.s),s.L&&s.g.setTimeout(s.L);var t=s.g;s=s.pa,t.L=1,t.v=Qs(rs(e)),t.s=null,t.S=!0,dt(t,s)}function wr(s){null!=s.v&&(U.clearTimeout(s.v),s.v=null)}function Qr(s,e){var t=null;if(s.g==e){wr(s),jr(s),s.g=null;var l=2}else{if(!mi(s.i,e))return;t=e.F,ss(s.i,e),l=1}if(0!=s.H)if(e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.G;var h=s.C;fe(l=_r(),new Ds(l,t)),C(s)}else Zt(s);else if(3==(h=e.o)||0==h&&0<e.ca||!(1==l&&function N(s,e){return!(Bs(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.j=e.F.concat(s.j),0):1==s.H||2==s.H||s.C>=(s.cb?0:s.eb)||(s.m=vi(Ee(s.Na,s,e),Rr(s,s.C)),s.C++,0)))}(s,e)||2==l&&pn(s)))switch(t&&0<t.length&&(e=s.i,e.i=e.i.concat(t)),h){case 1:Js(s,5);break;case 4:Js(s,10);break;case 3:Js(s,6);break;default:Js(s,2)}}function Rr(s,e){let t=s.ab+Math.floor(Math.random()*s.hb);return s.isActive()||(t*=2),t*e}function Js(s,e){if(s.l.info("Error code "+e),2==e){var t=null;s.h&&(t=null);var l=Ee(s.pb,s);t||(t=new gi("//www.google.com/images/cleardot.gif"),U.location&&"http"==U.location.protocol||Ur(t,"https"),Qs(t)),function Xs(s,e){const t=new Dt;if(U.Image){const l=new Image;l.onload=vt(Ki,t,l,"TestLoadImage: loaded",!0,e),l.onerror=vt(Ki,t,l,"TestLoadImage: error",!1,e),l.onabort=vt(Ki,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=vt(Ki,t,l,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(t.toString(),l)}else yi(2);s.H=0,s.h&&s.h.za(e),As(s),j(s)}function As(s){if(s.H=0,s.ma=[],s.h){const e=ji(s.i);(0!=e.length||0!=s.j.length)&&(Ze(s.ma,e),Ze(s.ma,s.j),s.i.i.length=0,_t(s.j),s.j.length=0),s.h.ya()}}function Es(s,e,t){var l=t instanceof gi?rs(t):new gi(t);if(""!=l.g)e&&(l.g=e+"."+l.g),is(l,l.m);else{var h=U.location;l=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new gi(null);l&&Ur(m,l),e&&(m.g=e),h&&is(m,h),t&&(m.l=t),l=m}return e=s.Da,(t=s.F)&&e&&An(l,t,e),An(l,"VER",s.ra),ot(s,l),l}function so(s,e,t){if(e&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ai(t&&s.Ha&&!s.va?new jo({ob:!0}):s.va)).Oa(s.J),e}function oa(){}function Mi(){if(We&&!(10<=Number(Jt)))throw Error("Environmental error: no available transport.")}function Hi(s,e){jt.call(this),this.g=new Ws(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(s?s["X-WebChannel-Client-Profile"]=e.Ca:s={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=s,(s=e&&e.cc)&&!tt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tt(e)&&(this.g.F=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new ul(this)}function ll(s){ps.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function eo(){Zs.call(this),this.status=1}function ul(s){this.g=s}function aa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cl(s,e,t){t||(t=0);var l=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)l[h]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(h=0;16>h;++h)l[h]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=s.g[3],E=(e=s.g[0])+(m^(t=s.g[1])&((h=s.g[2])^m))+l[0]+3614090360&4294967295;E=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=t+(E<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[1]+3905402710&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[2]+606105819&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[3]+3250441966&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[4]+4118548399&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[5]+1200080426&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[6]+2821735955&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[7]+4249261313&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[8]+1770035416&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[9]+2336552879&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[10]+4294925233&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[11]+2304563134&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[12]+1804603682&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[13]+4254626195&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[14]+2792965006&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[15]+1236535329&4294967295)<<22&4294967295|E>>>10))+((E=e+(h^m&(t^h))+l[1]+4129170786&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[6]+3225465664&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[11]+643717713&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[0]+3921069994&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[5]+3593408605&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[10]+38016083&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[15]+3634488961&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[4]+3889429448&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[9]+568446438&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[14]+3275163606&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[3]+4107603335&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[8]+1163531501&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[13]+2850285829&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[2]+4243563512&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[7]+1735328473&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[12]+2368359562&4294967295)<<20&4294967295|E>>>12))+((E=e+(t^h^m)+l[5]+4294588738&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[8]+2272392833&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[11]+1839030562&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[14]+4259657740&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[1]+2763975236&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[4]+1272893353&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[7]+4139469664&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[10]+3200236656&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[13]+681279174&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[0]+3936430074&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[3]+3572445317&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[6]+76029189&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[9]+3654602809&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[12]+3873151461&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[15]+530742520&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[2]+3299628645&4294967295)<<23&4294967295|E>>>9))+((E=e+(h^(t|~m))+l[0]+4096336452&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[7]+1126891415&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[14]+2878612391&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[5]+4237533241&4294967295)<<21&4294967295|E>>>11))+((E=e+(h^(t|~m))+l[12]+1700485571&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[3]+2399980690&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[10]+4293915773&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[1]+2240044497&4294967295)<<21&4294967295|E>>>11))+((E=e+(h^(t|~m))+l[8]+1873313359&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[15]+4264355552&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[6]+2734768916&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[13]+1309151649&4294967295)<<21&4294967295|E>>>11))+((m=(e=t+((E=e+(h^(t|~m))+l[4]+4149444226&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[11]+3174756917&4294967295)<<10&4294967295|E>>>22))^((h=m+((E=h+(e^(m|~t))+l[2]+718787259&4294967295)<<15&4294967295|E>>>17))|~e))+l[9]+3951481745&4294967295,s.g[0]=s.g[0]+e&4294967295,s.g[1]=s.g[1]+(h+(E<<21&4294967295|E>>>11))&4294967295,s.g[2]=s.g[2]+h&4294967295,s.g[3]=s.g[3]+m&4294967295}function _i(s,e){this.h=e;for(var t=[],l=!0,h=s.length-1;0<=h;h--){var m=0|s[h];l&&m==e||(t[h]=m,l=!1)}this.g=t}(De=Ai.prototype).Oa=function(s){this.M=s},De.ha=function(s,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+s);e=e?e.toUpperCase():"GET",this.I=s,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():W.g(),this.C=function ti(s){return s.h||(s.h=s.i())}(this.u?this.u:W),this.g.onreadystatechange=Ee(this.La,this);try{this.G=!0,this.g.open(e,String(s),!0),this.G=!1}catch(m){return void Q(this,m)}if(s=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var h in l)t.set(h,l[h]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const m of l.keys())t.set(m,l.get(m))}l=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=U.FormData&&s instanceof U.FormData,!(0<=ft(ne,e))||l||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,E]of t)this.g.setRequestHeader(m,E);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{er(this),0<this.B&&((this.L=function T(s){return We&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.ua,this)):this.A=It(this.ua,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){Q(this,m)}},De.ua=function(){typeof $e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fe(this,"timeout"),this.abort(8))},De.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,fe(this,"complete"),fe(this,"abort"),Nn(this))},De.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),Ai.$.N.call(this)},De.La=function(){this.s||(this.G||this.v||this.l?qt(this):this.kb())},De.kb=function(){qt(this)},De.isActive=function(){return!!this.g},De.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},De.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},De.Wa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),vs(e)}},De.Ia=function(){return this.m},De.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(De=Ws.prototype).ra=8,De.H=1,De.Na=function(s){if(this.m)if(this.m=null,1==this.H){if(!s){this.W=Math.floor(1e5*Math.random()),s=this.W++;const h=new _e(this,this.l,s);let m=this.s;if(this.U&&(m?(m=pr(m),Lr(m,this.U)):m=this.U),null!==this.o||this.O||(h.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var l=this.j[t];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$t(this,h,e),An(t=rs(this.I),"RID",s),An(t,"CVER",22),this.F&&An(t,"X-HTTP-Session-Id",this.F),ot(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(Ts(m)))+"&"+e:this.o&&ls(t,this.o,m)),ga(this.i,h),this.bb&&An(t,"TYPE","init"),this.P?(An(t,"$req",e),An(t,"SID","null"),h.aa=!0,Xe(h,t,null)):Xe(h,t,e),this.H=2}}else 3==this.H&&(s?pe(this,s):0==this.j.length||Hs(this.i)||pe(this))},De.Ma=function(){if(this.u=null,Mr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var s=2*this.S;this.l.info("BP detection timer enabled: "+s),this.B=vi(Ee(this.jb,this),s)}},De.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),Z(this),Mr(this))},De.ib=function(){null!=this.v&&(this.v=null,Z(this),pn(this),yi(19))},De.pb=function(s){s?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))},De.isActive=function(){return!!this.h&&this.h.isActive(this)},(De=oa.prototype).Ba=function(){},De.Aa=function(){},De.za=function(){},De.ya=function(){},De.isActive=function(){return!0},De.Va=function(){},Mi.prototype.g=function(s,e){return new Hi(s,e)},it(Hi,jt),Hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var s=this.g,e=this.l,t=this.h||void 0;yi(0),s.Y=e,s.na=t||{},s.G=s.aa,s.I=Es(s,null,s.Y),C(s)},Hi.prototype.close=function(){xo(this.g)},Hi.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=Mt(s),s=t);e.j.push(new class{constructor(s,e){this.g=s,this.map=e}}(e.fb++,s)),3==e.H&&C(e)},Hi.prototype.N=function(){this.g.h=null,delete this.j,xo(this.g),delete this.g,Hi.$.N.call(this)},it(ll,ps),it(eo,Zs),it(ul,oa),ul.prototype.Ba=function(){fe(this.g,"a")},ul.prototype.Aa=function(s){fe(this.g,new ll(s))},ul.prototype.za=function(s){fe(this.g,new eo)},ul.prototype.ya=function(){fe(this.g,"b")},it(aa,function Ha(){this.blockSize=-1}),aa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},aa.prototype.j=function(s,e){void 0===e&&(e=s.length);for(var t=e-this.blockSize,l=this.m,h=this.h,m=0;m<e;){if(0==h)for(;m<=t;)cl(this,s,m),m+=this.blockSize;if("string"==typeof s){for(;m<e;)if(l[h++]=s.charCodeAt(m++),h==this.blockSize){cl(this,l),h=0;break}}else for(;m<e;)if(l[h++]=s[m++],h==this.blockSize){cl(this,l),h=0;break}}this.h=h,this.i+=e},aa.prototype.l=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var e=1;e<s.length-8;++e)s[e]=0;var t=8*this.i;for(e=s.length-8;e<s.length;++e)s[e]=255&t,t/=256;for(this.j(s),s=Array(16),e=t=0;4>e;++e)for(var l=0;32>l;l+=8)s[t++]=this.g[e]>>>l&255;return s};var ku={};function Sc(s){return-128<=s&&128>s?function Pe(s,e){var t=ku;return Object.prototype.hasOwnProperty.call(t,s)?t[s]:t[s]=e(s)}(s,function(e){return new _i([0|e],0>e?-1:0)}):new _i([0|s],0>s?-1:0)}function zo(s){if(isNaN(s)||!isFinite(s))return ma;if(0>s)return $s(zo(-s));for(var e=[],t=1,l=0;s>=t;l++)e[l]=s/t|0,t*=Aa;return new _i(e,0)}var Aa=4294967296,ma=Sc(0),dl=Sc(1),Tc=Sc(16777216);function us(s){if(0!=s.h)return!1;for(var e=0;e<s.g.length;e++)if(0!=s.g[e])return!1;return!0}function oo(s){return-1==s.h}function $s(s){for(var e=s.g.length,t=[],l=0;l<e;l++)t[l]=~s.g[l];return new _i(t,~s.h).add(dl)}function Ci(s,e){return s.add($s(e))}function Tl(s,e){for(;(65535&s[e])!=s[e];)s[e+1]+=s[e]>>>16,s[e]&=65535,e++}function ya(s,e){this.g=s,this.h=e}function cs(s,e){if(us(e))throw Error("division by zero");if(us(s))return new ya(ma,ma);if(oo(s))return e=cs($s(s),e),new ya($s(e.g),$s(e.h));if(oo(e))return e=cs(s,$s(e)),new ya($s(e.g),e.h);if(30<s.g.length){if(oo(s)||oo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=dl,l=e;0>=l.X(s);)t=Fu(t),l=Fu(l);var h=Ga(t,1),m=Ga(l,1);for(l=Ga(l,2),t=Ga(t,2);!us(l);){var E=m.add(l);0>=E.X(s)&&(h=h.add(t),m=E),l=Ga(l,1),t=Ga(t,1)}return e=Ci(s,h.R(e)),new ya(h,e)}for(h=ma;0<=s.X(e);){for(t=Math.max(1,Math.floor(s.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,l-48),E=(m=zo(t)).R(e);oo(E)||0<E.X(s);)E=(m=zo(t-=l)).R(e);us(m)&&(m=dl),h=h.add(m),s=Ci(s,E)}return new ya(h,s)}function Fu(s){for(var e=s.g.length+1,t=[],l=0;l<e;l++)t[l]=s.D(l)<<1|s.D(l-1)>>>31;return new _i(t,s.h)}function Ga(s,e){var t=e>>5;e%=32;for(var l=s.g.length-t,h=[],m=0;m<l;m++)h[m]=0<e?s.D(m+t)>>>e|s.D(m+t+1)<<32-e:s.D(m+t);return new _i(h,s.h)}(De=_i.prototype).ea=function(){if(oo(this))return-$s(this).ea();for(var s=0,e=1,t=0;t<this.g.length;t++){var l=this.D(t);s+=(0<=l?l:Aa+l)*e,e*=Aa}return s},De.toString=function(s){if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if(us(this))return"0";if(oo(this))return"-"+$s(this).toString(s);for(var e=zo(Math.pow(s,6)),t=this,l="";;){var h=cs(t,e).g,m=((0<(t=Ci(t,h.R(e))).g.length?t.g[0]:t.h)>>>0).toString(s);if(us(t=h))return m+l;for(;6>m.length;)m="0"+m;l=m+l}},De.D=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h},De.X=function(s){return oo(s=Ci(this,s))?-1:us(s)?0:1},De.abs=function(){return oo(this)?$s(this):this},De.add=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0,h=0;h<=e;h++){var m=l+(65535&this.D(h))+(65535&s.D(h)),E=(m>>>16)+(this.D(h)>>>16)+(s.D(h)>>>16);l=E>>>16,t[h]=(E&=65535)<<16|(m&=65535)}return new _i(t,-2147483648&t[t.length-1]?-1:0)},De.R=function(s){if(us(this)||us(s))return ma;if(oo(this))return oo(s)?$s(this).R($s(s)):$s($s(this).R(s));if(oo(s))return $s(this.R($s(s)));if(0>this.X(Tc)&&0>s.X(Tc))return zo(this.ea()*s.ea());for(var e=this.g.length+s.g.length,t=[],l=0;l<2*e;l++)t[l]=0;for(l=0;l<this.g.length;l++)for(var h=0;h<s.g.length;h++){var m=this.D(l)>>>16,E=65535&this.D(l),k=s.D(h)>>>16,Y=65535&s.D(h);t[2*l+2*h]+=E*Y,Tl(t,2*l+2*h),t[2*l+2*h+1]+=m*Y,Tl(t,2*l+2*h+1),t[2*l+2*h+1]+=E*k,Tl(t,2*l+2*h+1),t[2*l+2*h+2]+=m*k,Tl(t,2*l+2*h+2)}for(l=0;l<e;l++)t[l]=t[2*l+1]<<16|t[2*l];for(l=e;l<2*e;l++)t[l]=0;return new _i(t,0)},De.gb=function(s){return cs(this,s).h},De.and=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)&s.D(l);return new _i(t,this.h&s.h)},De.or=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)|s.D(l);return new _i(t,this.h|s.h)},De.xor=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)^s.D(l);return new _i(t,this.h^s.h)},Mi.prototype.createWebChannel=Mi.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,js.COMPLETE="complete",Cs.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",jt.prototype.listen=jt.prototype.O,Ai.prototype.listenOnce=Ai.prototype.P,Ai.prototype.getLastError=Ai.prototype.Sa,Ai.prototype.getLastErrorCode=Ai.prototype.Ia,Ai.prototype.getStatus=Ai.prototype.da,Ai.prototype.getResponseJson=Ai.prototype.Wa,Ai.prototype.getResponseText=Ai.prototype.ja,Ai.prototype.send=Ai.prototype.ha,Ai.prototype.setWithCredentials=Ai.prototype.Oa,aa.prototype.digest=aa.prototype.l,aa.prototype.reset=aa.prototype.reset,aa.prototype.update=aa.prototype.j,_i.prototype.add=_i.prototype.add,_i.prototype.multiply=_i.prototype.R,_i.prototype.modulo=_i.prototype.gb,_i.prototype.compare=_i.prototype.X,_i.prototype.toNumber=_i.prototype.ea,_i.prototype.toString=_i.prototype.toString,_i.prototype.getBits=_i.prototype.D,_i.fromNumber=zo,_i.fromString=function za(s,e){if(0==s.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==s.charAt(0))return $s(za(s.substring(1),e));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=zo(Math.pow(e,8)),l=ma,h=0;h<s.length;h+=8){var m=Math.min(8,s.length-h),E=parseInt(s.substring(h,h+m),e);8>m?(m=zo(Math.pow(e,m)),l=l.R(m).add(zo(E))):l=(l=l.R(t)).add(zo(E))}return l};var Wa=de.createWebChannelTransport=function(){return new Mi},Po=de.getStatEventTarget=function(){return _r()},Lu=de.ErrorCode=ns,Al=de.EventType=js,V=de.Event=Jn,re=de.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},H=de.FetchXmlHttpFactory=jo,ye=de.WebChannel=Cs,Ke=de.XhrIo=Ai,Ut=de.Md5=aa,Yt=de.Integer=_i;const Qn="@firebase/firestore";class yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let zr="9.22.1";const xr=new me.Yd("@firebase/firestore");function kr(){return xr.logLevel}function ts(s){xr.setLogLevel(s)}function Qt(s,...e){if(xr.logLevel<=me.in.DEBUG){const t=e.map(ds);xr.debug(`Firestore (${zr}): ${s}`,...t)}}function Gr(s,...e){if(xr.logLevel<=me.in.ERROR){const t=e.map(ds);xr.error(`Firestore (${zr}): ${s}`,...t)}}function ws(s,...e){if(xr.logLevel<=me.in.WARN){const t=e.map(ds);xr.warn(`Firestore (${zr}): ${s}`,...t)}}function ds(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function Ln(s="Unexpected state"){const e=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: `+s;throw Gr(e),new Error(e)}function Gn(s,e){s||Ln()}function va(s,e){s||Ln()}function Mn(s,e){return s}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ru{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Is{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class fd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ml{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let h=this.i;const m=se=>this.i!==h?(h=this.i,t(se)):Promise.resolve();let E=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Ks,e.enqueueRetryable(()=>m(this.currentUser))};const k=()=>{const se=E;e.enqueueRetryable((0,y.Z)(function*(){yield se.promise,yield m(l.currentUser)}))},Y=se=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=se,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(se=>Y(se)),setTimeout(()=>{if(!this.auth){const se=this.t.getImmediate({optional:!0});se?Y(se):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Ks)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Gn("string"==typeof l.accessToken),new ru(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gn(null===e||"string"==typeof e),new yn(e)}}class Ka{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Rl{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new Ka(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ac{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const l=m=>{null!=m.error&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.T;return this.T=m.token,Qt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>l(m))};const h=m=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gn("string"==typeof t.token),this.T=t.token,new qa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vf(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<s;l++)t[l]=Math.floor(256*Math.random());return t}class ai{static A(){const t=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=vf(40);for(let m=0;m<h.length;++m)l.length<20&&h[m]<t&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return l}}function sr(s,e){return s<e?-1:s>e?1:0}function _a(s,e,t){return s.length===e.length&&s.every((l,h)=>t(l,e[h]))}function xl(s){return s+"\0"}class Ei{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ei.fromMillis(Date.now())}static fromDate(e){return Ei.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new Ei(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sr(this.nanoseconds,e.nanoseconds):sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dr(e)}static min(){return new dr(new Ei(0,0))}static max(){return new dr(new Ei(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pl{constructor(e,t,l){void 0===t?t=0:t>e.length&&Ln(),void 0===l?l=e.length-t:l>e.length-t&&Ln(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===Pl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let h=0;h<l;h++){const m=e.get(h),E=t.get(h);if(m<E)return-1;if(m>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ri extends Pl{construct(e,t,l){return new ri(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new Vt(Qe.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(h=>h.length>0))}return new ri(t)}static emptyPath(){return new ri([])}}const Rc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends Pl{construct(e,t,l){return new zi(e,t,l)}static isValidIdentifier(e){return Rc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zi(["__name__"])}static fromServerFormat(e){const t=[];let l="",h=0;const m=()=>{if(0===l.length)throw new Vt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let E=!1;for(;h<e.length;){const k=e[h];if("\\"===k){if(h+1===e.length)throw new Vt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[h+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new Vt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=Y,h+=2}else"`"===k?(E=!E,h++):"."!==k||E?(l+=k,h++):(m(),h++)}if(m(),E)throw new Vt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(t)}static emptyPath(){return new zi([])}}class On{constructor(e){this.path=e}static fromPath(e){return new On(ri.fromString(e))}static fromName(e){return new On(ri.fromString(e).popFirst(5))}static empty(){return new On(ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ri.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ri.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new On(new ri(e.slice()))}}class hl{constructor(e,t,l,h){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=h}}function Ma(s){return s.fields.find(e=>2===e.kind)}function fl(s){return s.fields.filter(e=>2!==e.kind)}hl.UNKNOWN_ID=-1;class Ya{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ol{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ol(0,Ir.min())}}function wi(s,e){const t=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,h=dr.fromTimestamp(1e9===l?new Ei(t+1,0):new Ei(t,l));return new Ir(h,On.empty(),e)}function li(s){return new Ir(s.readTime,s.key,-1)}class Ir{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new Ir(dr.min(),On.empty(),-1)}static max(){return new Ir(dr.max(),On.empty(),-1)}}function Ra(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=On.comparator(s.documentKey,e.documentKey),0!==t?t:sr(s.largestBatchId,e.largestBatchId))}const Yi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class to{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Go(s){return Li.apply(this,arguments)}function Li(){return Li=(0,y.Z)(function*(s){if(s.code!==Qe.FAILED_PRECONDITION||s.message!==Yi)throw s;Qt("LocalStore","Unexpectedly lost primary lease")}),Li.apply(this,arguments)}class Lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Lt((l,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(l,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(l,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Lt?t:Lt.resolve(t)}catch(t){return Lt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Lt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Lt.reject(t)}static resolve(e){return new Lt((t,l)=>{t(e)})}static reject(e){return new Lt((t,l)=>{l(e)})}static waitFor(e){return new Lt((t,l)=>{let h=0,m=0,E=!1;e.forEach(k=>{++h,k.next(()=>{++m,E&&m===h&&t()},Y=>l(Y))}),E=!0,m===h&&t()})}static or(e){let t=Lt.resolve(!1);for(const l of e)t=t.next(h=>h?Lt.resolve(h):l());return t}static forEach(e,t){const l=[];return e.forEach((h,m)=>{l.push(t.call(this,h,m))}),this.waitFor(l)}static mapArray(e,t){return new Lt((l,h)=>{const m=e.length,E=new Array(m);let k=0;for(let Y=0;Y<m;Y++){const se=Y;t(e[se]).next(Se=>{E[se]=Se,++k,k===m&&l(E)},Se=>h(Se))}})}static doWhile(e,t){return new Lt((l,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):l()};m()})}}class Zi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ks,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Bu(e,t.error)):this.v.resolve()},this.transaction.onerror=l=>{const h=$u(l.target.error);this.v.reject(new Bu(e,h))}}static open(e,t,l,h){try{return new Zi(t,e.transaction(h,l))}catch(m){throw new Bu(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Wo(t)}}class Sr{constructor(e,t,l){this.name=e,this.version=t,this.V=l,12.2===Sr.S((0,be.z$)())&&Gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qt("SimpleDb","Removing database:",e),Fo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.hl)())return!1;if(Sr.C())return!0;const e=(0,be.z$)(),t=Sr.S(e),l=0<t&&t<10,h=Sr.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(e){var t=this;return(0,y.Z)(function*(){return t.db||(Qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=E=>{l(E.target.result)},m.onblocked=()=>{h(new Bu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const k=E.target.error;h("VersionError"===k.name?new Vt(Qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new Vt(Qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new Bu(e,k))},m.onupgradeneeded=E=>{Qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.V.O(E.target.result,m.transaction,E.oldVersion,t.version).next(()=>{Qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=l=>t.F(l)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,h){var m=this;return(0,y.Z)(function*(){const E="readonly"===t;let k=0;for(;;){++k;try{m.db=yield m.$(e);const Y=Zi.open(m.db,e,E?"readonly":"readwrite",l),se=h(Y).next(Se=>(Y.P(),Se)).catch(Se=>(Y.abort(Se),Lt.reject(Se))).toPromise();return se.catch(()=>{}),yield Y.R,se}catch(Y){const se=Y,Se="FirebaseError"!==se.name&&k<3;if(Qt("SimpleDb","Transaction failed with error:",se.message,"Retrying:",Se),m.close(),!Se)return Promise.reject(se)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ao{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Fo(this.L.delete())}}class Bu extends Vt{constructor(e,t){super(Qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xa(s){return"IndexedDbTransactionError"===s.name}class Wo{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(Qt("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Fo(l)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),Fo(this.store.add(e))}get(e){return Fo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),Fo(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),Fo(this.store.count())}j(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),m=[];return this.W(h,(E,k)=>{m.push(k)}).next(()=>m)}{const h=this.store.getAll(l.range);return new Lt((m,E)=>{h.onerror=k=>{E(k.target.error)},h.onsuccess=k=>{m(k.target.result)}})}}H(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new Lt((h,m)=>{l.onerror=E=>{m(E.target.error)},l.onsuccess=E=>{h(E.target.result)}})}J(e,t){Qt("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.Y=!1;const h=this.cursor(l);return this.W(h,(m,E,k)=>k.delete())}X(e,t){let l;t?l=e:(l={},t=e);const h=this.cursor(l);return this.W(h,t)}Z(e){const t=this.cursor({});return new Lt((l,h)=>{t.onerror=m=>{const E=$u(m.target.error);h(E)},t.onsuccess=m=>{const E=m.target.result;E?e(E.primaryKey,E.value).next(k=>{k?E.continue():l()}):l()}})}W(e,t){const l=[];return new Lt((h,m)=>{e.onerror=E=>{m(E.target.error)},e.onsuccess=E=>{const k=E.target.result;if(!k)return void h();const Y=new ao(k),se=t(k.primaryKey,k.value,Y);if(se instanceof Lt){const Se=se.catch(nt=>(Y.done(),Lt.reject(nt)));l.push(Se)}Y.isDone?h():null===Y.K?k.continue():k.continue(Y.K)}}).next(()=>Lt.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fo(s){return new Lt((e,t)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const h=$u(l.target.error);t(h)}})}let _f=!1;function $u(s){const e=Sr.S((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const l=new Vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _f||(_f=!0,setTimeout(()=>{throw l},0)),l}}return s}class M{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.Z)(function*(){t.task=null;try{Qt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(l){xa(l)?Qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield Go(l)}yield t.et(6e4)}))}}class O{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.st(l,e))})()}st(e,t){const l=new Set;let h=t,m=!0;return Lt.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!l.has(E))return Qt("IndexBackiller",`Processing collection: ${E}`),this.it(e,E,h).next(k=>{h-=k,l.add(E)});m=!1})).next(()=>t-h)}it(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,l).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.rt(h,m)).next(k=>(Qt("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>E.size)}))}rt(e,t){let l=e;return t.changes.forEach((h,m)=>{const E=li(m);Ra(E,l)>0&&(l=E)}),new Ir(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}let D=(()=>{class s{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>l.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return s.ct=-1,s})();function F(s){return null==s}function te(s){return 0===s&&1/s==-1/0}function Ae(s){return"number"==typeof s&&Number.isInteger(s)&&!te(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Ie(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=tn(e)),e=gt(s.get(t),e);return tn(e)}function gt(s,e){let t=e;const l=s.length;for(let h=0;h<l;h++){const m=s.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function tn(s){return s+"\x01\x01"}function Rn(s){const e=s.length;if(Gn(e>=2),2===e)return Gn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),ri.emptyPath();const t=e-2,l=[];let h="";for(let m=0;m<e;){const E=s.indexOf("\x01",m);switch((E<0||E>t)&&Ln(),s.charAt(E+1)){case"\x01":const k=s.substring(m,E);let Y;0===h.length?Y=k:(h+=k,Y=h,h=""),l.push(Y);break;case"\x10":h+=s.substring(m,E),h+="\0";break;case"\x11":h+=s.substring(m,E+1);break;default:Ln()}m=E+2}return new ri(l)}const lr=["userId","batchId"];function gn(s,e){return[s,Ie(e)]}function Bi(s,e,t){return[s,Ie(e),t]}const lo={},Jo=["prefixPath","collectionGroup","readTime","documentId"],no=["prefixPath","collectionGroup","documentId"],pl=["collectionGroup","readTime","prefixPath","documentId"],uo=["canonicalId","targetId"],pd=["targetId","path"],hs=["path","targetId"],Vu=["collectionId","parent"],Za=["indexId","uid"],Pp=["uid","sequenceNumber"],Op=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gd=["indexId","uid","orderedDocumentKey"],Ef=["userId","collectionPath","documentId"],Qa=["userId","collectionPath","largestBatchId"],Oc=["userId","collectionGroup","largestBatchId"],iu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uh=[...iu,"documentOverlays"],md=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ch=md,yd=[...ch,"indexConfiguration","indexState","indexEntries"];class Gi extends to{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function wo(s,e){const t=Mn(s);return Sr.M(t.ht,e)}function Uu(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Pa(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function vd(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ri{constructor(e,t){this.comparator=e,this.root=t||Qi.EMPTY}insert(e,t){return new Ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return t+l.left.size;h<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}}class Lo{constructor(e,t,l,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?l(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,t,l,h,m){this.key=e,this.value=t,this.color=null!=l?l:Qi.RED,this.left=null!=h?h:Qi.EMPTY,this.right=null!=m?m:Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,h,m){return new Qi(null!=e?e:this.key,null!=t?t:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let h=this;const m=l(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,l),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Qi.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ln();const e=this.left.check();if(e!==this.right.check())throw Ln();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1,Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ln()}get value(){throw Ln()}get color(){throw Ln()}get left(){throw Ln()}get right(){throw Ln()}copy(s,e,t,l,h){return this}insert(s,e,t){return new Qi(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dh(this.data.getIterator())}getIteratorFrom(e){return new dh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class dh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oa(s){return s.hasNext()?s.getNext():void 0}class co{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new co([])}unionWith(e){let t=new tr(zi.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class Ms extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function hh(){return typeof atob<"u"}class Vs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ms("Invalid base64 string: "+h):h}}(e);return new Vs(t)}static fromUint8Array(e){const t=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(e);return new Vs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vs.EMPTY_BYTE_STRING=new Vs("");const wf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(s){if(Gn(!!s),"string"==typeof s){let e=0;const t=wf.exec(s);if(Gn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:$i(s.seconds),nanos:$i(s.nanos)}}function $i(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Oo(s){return"string"==typeof s?Vs.fromBase64String(s):Vs.fromUint8Array(s)}function Ea(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xa(s){const e=s.mapValue.fields.__previous_value__;return Ea(e)?Xa(e):e}function su(s){const e=gl(s.mapValue.fields.__local_write_time__.timestampValue);return new Ei(e.seconds,e.nanos)}class Nl{constructor(e,t,l,h,m,E,k,Y,se){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=k,this.longPollingOptions=Y,this.useFetchStreams=se}}class ea{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}const Na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_d={nullValue:"NULL_VALUE"};function kl(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ea(s)?4:If(s)?9007199254740991:10:Ln()}function Fl(s,e){if(s===e)return!0;const t=kl(s);if(t!==kl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return su(s).isEqual(su(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=gl(l.timestampValue),E=gl(h.timestampValue);return m.seconds===E.seconds&&m.nanos===E.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,Oo(s.bytesValue).isEqual(Oo(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,h){return $i(l.geoPointValue.latitude)===$i(h.geoPointValue.latitude)&&$i(l.geoPointValue.longitude)===$i(h.geoPointValue.longitude)}(s,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return $i(l.integerValue)===$i(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=$i(l.doubleValue),E=$i(h.doubleValue);return m===E?te(m)===te(E):isNaN(m)&&isNaN(E)}return!1}(s,e);case 9:return _a(s.arrayValue.values||[],e.arrayValue.values||[],Fl);case 10:return function(l,h){const m=l.mapValue.fields||{},E=h.mapValue.fields||{};if(Uu(m)!==Uu(E))return!1;for(const k in m)if(m.hasOwnProperty(k)&&(void 0===E[k]||!Fl(m[k],E[k])))return!1;return!0}(s,e);default:return Ln()}var h}function ju(s,e){return void 0!==(s.values||[]).find(t=>Fl(t,e))}function ou(s,e){if(s===e)return 0;const t=kl(s),l=kl(e);if(t!==l)return sr(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return sr(s.booleanValue,e.booleanValue);case 2:return function(h,m){const E=$i(h.integerValue||h.doubleValue),k=$i(m.integerValue||m.doubleValue);return E<k?-1:E>k?1:E===k?0:isNaN(E)?isNaN(k)?0:-1:1}(s,e);case 3:return fh(s.timestampValue,e.timestampValue);case 4:return fh(su(s),su(e));case 5:return sr(s.stringValue,e.stringValue);case 6:return function(h,m){const E=Oo(h),k=Oo(m);return E.compareTo(k)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const E=h.split("/"),k=m.split("/");for(let Y=0;Y<E.length&&Y<k.length;Y++){const se=sr(E[Y],k[Y]);if(0!==se)return se}return sr(E.length,k.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const E=sr($i(h.latitude),$i(m.latitude));return 0!==E?E:sr($i(h.longitude),$i(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const E=h.values||[],k=m.values||[];for(let Y=0;Y<E.length&&Y<k.length;++Y){const se=ou(E[Y],k[Y]);if(se)return se}return sr(E.length,k.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===Na.mapValue&&m===Na.mapValue)return 0;if(h===Na.mapValue)return 1;if(m===Na.mapValue)return-1;const E=h.fields||{},k=Object.keys(E),Y=m.fields||{},se=Object.keys(Y);k.sort(),se.sort();for(let Se=0;Se<k.length&&Se<se.length;++Se){const nt=sr(k[Se],se[Se]);if(0!==nt)return nt;const kt=ou(E[k[Se]],Y[se[Se]]);if(0!==kt)return kt}return sr(k.length,se.length)}(s.mapValue,e.mapValue);default:throw Ln()}}function fh(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return sr(s,e);const t=gl(s),l=gl(e),h=sr(t.seconds,l.seconds);return 0!==h?h:sr(t.nanos,l.nanos)}function Ed(s){return Ja(s)}function Ja(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const h=gl(l);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Oo(s.bytesValue).toBase64():"referenceValue"in s?On.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let h="[",m=!0;for(const E of l.values||[])m?m=!1:h+=",",h+=Ja(E);return h+"]"}(s.arrayValue):"mapValue"in s?function(l){const h=Object.keys(l.fields||{}).sort();let m="{",E=!0;for(const k of h)E?E=!1:m+=",",m+=`${k}:${Ja(l.fields[k])}`;return m+"}"}(s.mapValue):Ln();var e}function Hu(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Rs(s){return!!s&&"integerValue"in s}function wd(s){return!!s&&"arrayValue"in s}function el(s){return!!s&&"nullValue"in s}function zu(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bo(s){return!!s&&"mapValue"in s}function ka(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Pa(s.mapValue.fields,(t,l)=>e.mapValue.fields[t]=ka(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ka(s.arrayValue.values[t]);return e}return Object.assign({},s)}function If(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gu(s){return"nullValue"in s?_d:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Hu(ea.empty(),On.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Ln()}function kc(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Hu(ea.empty(),On.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Na:Ln()}function Np(s,e){const t=ou(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function dm(s,e){const t=ou(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class $o{constructor(e){this.value=e}static empty(){return new $o({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!Bo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(t)}setAll(e){let t=zi.emptyPath(),l={},h=[];e.forEach((E,k)=>{if(!t.isImmediateParentOf(k)){const Y=this.getFieldsMap(t);this.applyChanges(Y,l,h),l={},h=[],t=k.popLast()}E?l[k.lastSegment()]=ka(E):h.push(k.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,l,h)}delete(e){const t=this.field(e.popLast());Bo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=t.mapValue.fields[e.get(l)];Bo(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,l){Pa(t,(h,m)=>e[h]=m);for(const h of l)delete e[h]}clone(){return new $o(ka(this.value))}}function ho(s){const e=[];return Pa(s.fields,(t,l)=>{const h=new zi([t]);if(Bo(l)){const m=ho(l.mapValue).fields;if(0===m.length)e.push(h);else for(const E of m)e.push(h.child(E))}else e.push(h)}),new co(e)}class ii{constructor(e,t,l,h,m,E,k){this.key=e,this.documentType=t,this.version=l,this.readTime=h,this.createTime=m,this.data=E,this.documentState=k}static newInvalidDocument(e){return new ii(e,0,dr.min(),dr.min(),dr.min(),$o.empty(),0)}static newFoundDocument(e,t,l,h){return new ii(e,1,t,dr.min(),l,h,0)}static newNoDocument(e,t){return new ii(e,2,t,dr.min(),dr.min(),$o.empty(),0)}static newUnknownDocument(e,t){return new ii(e,3,t,dr.min(),dr.min(),$o.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$o.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(e,t){this.position=e,this.inclusive=t}}function Ll(s,e,t){let l=0;for(let h=0;h<s.position.length;h++){const m=e[h],E=s.position[h];if(l=m.field.isKeyField()?On.comparator(On.fromName(E.referenceValue),t.key):ou(E,t.data.field(m.field)),"desc"===m.dir&&(l*=-1),0!==l)break}return l}function Fc(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Fl(s.position[t],e.position[t]))return!1;return!0}class tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wu(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Ku{}class qr extends Ku{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new Zu(e,t,l):"array-contains"===t?new La(e,l):"in"===t?new au(e,l):"not-in"===t?new bf(e,l):"array-contains-any"===t?new $c(e,l):new qr(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new Bc(e,l):new Cf(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ou(t,this.value)):null!==t&&kl(this.value)===kl(t)&&this.matchesComparison(ou(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xi extends Ku{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Xi(e,t)}matches(e){return qu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function qu(s){return"and"===s.op}function Yu(s){return"or"===s.op}function Id(s){return Cd(s)&&qu(s)}function Cd(s){for(const e of s.filters)if(e instanceof Xi)return!1;return!0}function Lc(s){if(s instanceof qr)return s.field.canonicalString()+s.op.toString()+Ed(s.value);if(Id(s))return s.filters.map(e=>Lc(e)).join(",");{const e=s.filters.map(t=>Lc(t)).join(",");return`${s.op}(${e})`}}function Bl(s,e){return s instanceof qr?(t=s,(l=e)instanceof qr&&t.op===l.op&&t.field.isEqual(l.field)&&Fl(t.value,l.value)):s instanceof Xi?function(t,l){return l instanceof Xi&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((h,m,E)=>h&&Bl(m,l.filters[E]),!0)}(s,e):void Ln();var t,l}function bd(s,e){const t=s.filters.concat(e);return Xi.create(t,s.op)}function ml(s){return s instanceof qr?`${(e=s).field.canonicalString()} ${e.op} ${Ed(e.value)}`:s instanceof Xi?function(e){return e.op.toString()+" {"+e.getFilters().map(ml).join(" ,")+"}"}(s):"Filter";var e}class Zu extends qr{constructor(e,t,l){super(e,t,l),this.key=On.fromName(l.referenceValue)}matches(e){const t=On.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bc extends qr{constructor(e,t){super(e,"in",t),this.keys=Vi(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cf extends qr{constructor(e,t){super(e,"not-in",t),this.keys=Vi(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vi(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>On.fromName(l.referenceValue))}class La extends qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wd(t)&&ju(t.arrayValue,this.value)}}class au extends qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ju(this.value.arrayValue,t)}}class bf extends qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ju(this.value.arrayValue,t)}}class $c extends qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>ju(this.value.arrayValue,l))}}class $l{constructor(e,t=null,l=[],h=[],m=null,E=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=E,this.endAt=k,this.dt=null}}function yl(s,e=null,t=[],l=[],h=null,m=null,E=null){return new $l(s,e,t,l,h,m,E)}function vl(s){const e=Mn(s);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>Lc(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),F(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Ed(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Ed(l)).join(",")),e.dt=t}return e.dt}function la(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!Wu(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!Bl(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fc(s.startAt,e.startAt)&&Fc(s.endAt,e.endAt)}function Qu(s){return On.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function lu(s,e){return s.filters.filter(t=>t instanceof qr&&t.field.isEqual(e))}function Df(s,e,t){let l=_d,h=!0;for(const m of lu(s,e)){let E=_d,k=!0;switch(m.op){case"<":case"<=":E=Gu(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,k=!1;break;case"!=":case"not-in":E=_d}Np({value:l,inclusive:h},{value:E,inclusive:k})<0&&(l=E,h=k)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const E=t.position[m];Np({value:l,inclusive:h},{value:E,inclusive:t.inclusive})<0&&(l=E,h=t.inclusive);break}return{value:l,inclusive:h}}function Dd(s,e,t){let l=Na,h=!0;for(const m of lu(s,e)){let E=Na,k=!0;switch(m.op){case">=":case">":E=kc(m.value),k=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,k=!1;break;case"!=":case"not-in":E=Na}dm({value:l,inclusive:h},{value:E,inclusive:k})>0&&(l=E,h=k)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const E=t.position[m];dm({value:l,inclusive:h},{value:E,inclusive:t.inclusive})>0&&(l=E,h=t.inclusive);break}return{value:l,inclusive:h}}class Vl{constructor(e,t=null,l=[],h=[],m=null,E="F",k=null,Y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=E,this.startAt=k,this.endAt=Y,this.wt=null,this._t=null}}function Sd(s,e,t,l,h,m,E,k){return new Vl(s,e,t,l,h,m,E,k)}function uu(s){return new Vl(s)}function kp(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function ph(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function R(s){for(const e of s.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _(s){return null!==s.collectionGroup}function I(s){const e=Mn(s);if(null===e.wt){e.wt=[];const t=R(e),l=ph(e);if(null!==t&&null===l)t.isKeyField()||e.wt.push(new tl(t)),e.wt.push(new tl(zi.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new tl(zi.keyField(),m))}}}return e.wt}function P(s){const e=Mn(s);if(!e._t)if("F"===e.limitType)e._t=yl(e.path,e.collectionGroup,I(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of I(e))t.push(new tl(m.field,"desc"===m.dir?"asc":"desc"));const l=e.endAt?new Fa(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Fa(e.startAt.position,e.startAt.inclusive):null;e._t=yl(e.path,e.collectionGroup,t,e.filters,e.limit,l,h)}return e._t}function le(s,e){e.getFirstInequalityField(),R(s);const t=s.filters.concat([e]);return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Te(s,e,t){return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Ct(s,e){return la(P(s),P(e))&&s.limitType===e.limitType}function Gt(s){return`${vl(P(s))}|lt:${s.limitType}`}function Dn(s){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>ml(l)).join(", ")}]`),F(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>Ed(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>Ed(l)).join(",")),`Target(${t})`}(P(s))}; limitType=${s.limitType})`}function $n(s,e){return e.isFoundDocument()&&function(t,l){const h=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):On.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(s,e)&&function(t,l){for(const h of I(t))if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(s,e)&&function(t,l){for(const h of t.filters)if(!h.matches(l))return!1;return!0}(s,e)&&(l=e,!((t=s).startAt&&!function(h,m,E){const k=Ll(h,m,E);return h.inclusive?k<=0:k<0}(t.startAt,I(t),l)||t.endAt&&!function(h,m,E){const k=Ll(h,m,E);return h.inclusive?k>=0:k>0}(t.endAt,I(t),l)));var t,l}function cr(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function si(s){return(e,t)=>{let l=!1;for(const h of I(s)){const m=ua(h,e,t);if(0!==m)return m;l=l||h.field.isKeyField()}return 0}}function ua(s,e,t){const l=s.field.isKeyField()?On.comparator(e.key,t.key):function(h,m,E){const k=m.data.field(h),Y=E.data.field(h);return null!==k&&null!==Y?ou(k,Y):Ln()}(s.field,e,t);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Ln()}}class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[h,m]of l)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[t]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(t,l)=>{for(const[h,m]of l)e(h,m)})}isEmpty(){return vd(this.inner)}size(){return this.innerSize}}const gh=new Ri(On.comparator);function Io(){return gh}const Xu=new Ri(On.comparator);function cu(...s){let e=Xu;for(const t of s)e=e.insert(t.key,t);return e}function mh(s){let e=Xu;return s.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function wa(){return du()}function Ia(){return du()}function du(){return new No(s=>s.toString(),(s,e)=>s.isEqual(e))}const Sf=new Ri(On.comparator),Fp=new tr(On.comparator);function Yr(...s){let e=Fp;for(const t of s)e=e.add(t);return e}const Td=new tr(sr);function yh(){return Td}function Tf(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:te(e)?"-0":e}}function Lp(s){return{integerValue:""+s}}function Bp(s,e){return Ae(e)?Lp(e):Tf(s,e)}class $p{constructor(){this._=void 0}}function Jy(s,e,t){return s instanceof Ad?function(l,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Ea(h)&&(h=Xa(h)),h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):s instanceof Ju?ta(s,e):s instanceof Ul?hm(s,e):function(l,h){const m=Vp(l,h),E=fm(m)+fm(l.gt);return Rs(m)&&Rs(l.gt)?Lp(E):Tf(l.serializer,E)}(s,e)}function ca(s,e,t){return s instanceof Ju?ta(s,e):s instanceof Ul?hm(s,e):t}function Vp(s,e){return s instanceof Md?Rs(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class Ad extends $p{}class Ju extends $p{constructor(e){super(),this.elements=e}}function ta(s,e){const t=pm(e);for(const l of s.elements)t.some(h=>Fl(h,l))||t.push(l);return{arrayValue:{values:t}}}class Ul extends $p{constructor(e){super(),this.elements=e}}function hm(s,e){let t=pm(e);for(const l of s.elements)t=t.filter(h=>!Fl(h,l));return{arrayValue:{values:t}}}class Md extends $p{constructor(e,t){super(),this.serializer=e,this.gt=t}}function fm(s){return $i(s.integerValue||s.doubleValue)}function pm(s){return wd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class vh{constructor(e,t){this.field=e,this.transform=t}}class x_{constructor(e,t){this.version=e,this.transformResults=t}}class xs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Af{}function Up(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new fu(s.key,xs.none()):new _h(s.key,s.data,xs.none());{const t=s.data,l=$o.empty();let h=new tr(zi.comparator);for(let m of e.fields)if(!h.has(m)){let E=t.field(m);null===E&&m.length>1&&(m=m.popLast(),E=t.field(m)),null===E?l.delete(m):l.set(m,E),h=h.add(m)}return new jl(s.key,l,new co(h.toArray()),xs.none())}}function mm(s,e,t){s instanceof _h?function(l,h,m){const E=l.value.clone(),k=hu(l.fieldTransforms,h,m.transformResults);E.setAll(k),h.convertToFoundDocument(m.version,E).setHasCommittedMutations()}(s,e,t):s instanceof jl?function(l,h,m){if(!Rd(l.precondition,h))return void h.convertToUnknownDocument(m.version);const E=hu(l.fieldTransforms,h,m.transformResults),k=h.data;k.setAll(Rf(l)),k.setAll(E),h.convertToFoundDocument(m.version,k).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mf(s,e,t,l){return s instanceof _h?function(h,m,E,k){if(!Rd(h.precondition,m))return E;const Y=h.value.clone(),se=Vc(h.fieldTransforms,k,m);return Y.setAll(se),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null}(s,e,t,l):s instanceof jl?function(h,m,E,k){if(!Rd(h.precondition,m))return E;const Y=Vc(h.fieldTransforms,k,m),se=m.data;return se.setAll(Rf(h)),se.setAll(Y),m.convertToFoundDocument(m.version,se).setHasLocalMutations(),null===E?null:E.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Se=>Se.field))}(s,e,t,l):(E=t,Rd(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):E);var m,E}function xd(s,e){let t=null;for(const l of s.fieldTransforms){const h=e.data.field(l.field),m=Vp(l.transform,h||null);null!=m&&(null===t&&(t=$o.empty()),t.set(l.field,m))}return t||null}function ym(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===l||t&&l&&_a(t,l,(h,m)=>function gm(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(t=s.transform)instanceof Ju&&l instanceof Ju||t instanceof Ul&&l instanceof Ul?_a(t.elements,l.elements,Fl):t instanceof Md&&l instanceof Md?Fl(t.gt,l.gt):t instanceof Ad&&l instanceof Ad);var t,l}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,l}class _h extends Af{constructor(e,t,l,h=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class jl extends Af{constructor(e,t,l,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Rf(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=s.data.field(t);e.set(t,l)}}),e}function hu(s,e,t){const l=new Map;Gn(s.length===t.length);for(let h=0;h<t.length;h++){const m=s[h],E=m.transform,k=e.data.field(m.field);l.set(m.field,ca(E,k,t[h]))}return l}function Vc(s,e,t){const l=new Map;for(const h of s){const m=h.transform,E=t.data.field(h.field);l.set(h.field,Jy(m,E,e))}return l}class fu extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hl extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uc{constructor(e,t,l,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&mm(m,e,l[h])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=Mf(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=Mf(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=Ia();return this.mutations.forEach(h=>{const m=e.get(h.key),E=m.overlayedDocument;let k=this.applyToLocalView(E,m.mutatedFields);k=t.has(h.key)?null:k;const Y=Up(E,k);null!==Y&&l.set(h.key,Y),E.isValidDocument()||E.convertToNoDocument(dr.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yr())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(t,l)=>ym(t,l))&&_a(this.baseMutations,e.baseMutations,(t,l)=>ym(t,l))}}class ec{constructor(e,t,l,h){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=h}static from(e,t,l){Gn(e.mutations.length===l.length);let h=Sf;const m=e.mutations;for(let E=0;E<m.length;E++)h=h.insert(m[E].key,l[E].version);return new ec(e,t,l,h)}}class vm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class O_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Co,bi;function ev(s){switch(s){default:return Ln();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0}}function pu(s){if(void 0===s)return Gr("GRPC error has no .code"),Qe.UNKNOWN;switch(s){case Co.OK:return Qe.OK;case Co.CANCELLED:return Qe.CANCELLED;case Co.UNKNOWN:return Qe.UNKNOWN;case Co.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Co.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Co.INTERNAL:return Qe.INTERNAL;case Co.UNAVAILABLE:return Qe.UNAVAILABLE;case Co.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Co.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Co.NOT_FOUND:return Qe.NOT_FOUND;case Co.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Co.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Co.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Co.ABORTED:return Qe.ABORTED;case Co.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Co.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Co.DATA_LOSS:return Qe.DATA_LOSS;default:return Ln()}}(bi=Co||(Co={}))[bi.OK=0]="OK",bi[bi.CANCELLED=1]="CANCELLED",bi[bi.UNKNOWN=2]="UNKNOWN",bi[bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bi[bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bi[bi.NOT_FOUND=5]="NOT_FOUND",bi[bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",bi[bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",bi[bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",bi[bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bi[bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bi[bi.ABORTED=10]="ABORTED",bi[bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",bi[bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",bi[bi.INTERNAL=13]="INTERNAL",bi[bi.UNAVAILABLE=14]="UNAVAILABLE",bi[bi.DATA_LOSS=15]="DATA_LOSS";class tc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xf}static getOrCreateInstance(){return null===xf&&(xf=new tc),xf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let xf=null;function jp(){return new TextEncoder}const N_=new Yt([4294967295,4294967295],0);function Pf(s){const e=jp().encode(s),t=new Ut;return t.update(e),new Uint8Array(t.digest())}function Of(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Yt([t,l],0),new Yt([h,m],0)]}class Hp{constructor(e,t,l){if(this.bitmap=e,this.padding=t,this.hashCount=l,t<0||t>=8)throw new nl(`Invalid padding: ${t}`);if(l<0)throw new nl(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new nl(`Invalid hash count: ${l}`);if(0===e.length&&0!==t)throw new nl(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yt.fromNumber(this.It)}Et(e,t,l){let h=e.add(t.multiply(Yt.fromNumber(l)));return 1===h.compare(N_)&&(h=new Yt([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Pf(e),[l,h]=Of(t);for(let m=0;m<this.hashCount;m++){const E=this.Et(l,h,m);if(!this.At(E))return!1}return!0}static create(e,t,l){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),E=new Hp(m,h,t);return l.forEach(k=>E.insert(k)),E}insert(e){if(0===this.It)return;const t=Pf(e),[l,h]=Of(t);for(let m=0;m<this.hashCount;m++){const E=this.Et(l,h,m);this.Rt(E)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nc{constructor(e,t,l,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const h=new Map;return h.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new nc(dr.min(),h,new Ri(sr),Io(),Yr())}}class Eh{constructor(e,t,l,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new Eh(l,t,Yr(),Yr(),Yr())}}class rc{constructor(e,t,l,h){this.Pt=e,this.removedTargetIds=t,this.key=l,this.bt=h}}class tv{constructor(e,t){this.targetId=e,this.Vt=t}}class wh{constructor(e,t,l=Vs.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=h}}class _m{constructor(){this.St=0,this.Dt=Nf(),this.Ct=Vs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Yr(),t=Yr(),l=Yr();return this.Dt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:l=l.add(h);break;default:Ln()}}),new Eh(this.Ct,this.xt,e,t,l)}Ft(){this.Nt=!1,this.Dt=Nf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ih{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Io(),this.zt=Ch(),this.Wt=new Ri(sr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const l=this.Zt(t);switch(e.state){case 0:this.te(t)&&l.$t(e.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(e.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(t);break;case 3:this.te(t)&&(l.Kt(),l.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),l.$t(e.resumeToken));break;default:Ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((l,h)=>{this.te(h)&&t(h)})}ne(e){var t;const l=e.targetId,h=e.Vt.count,m=this.se(l);if(m){const E=m.target;if(Qu(E))if(0===h){const k=new On(E.path);this.Yt(l,k,ii.newNoDocument(k,dr.min()))}else Gn(1===h);else{const k=this.ie(l);if(k!==h){const Y=this.re(e,k);0!==Y&&(this.ee(l),this.Wt=this.Wt.insert(l,2===Y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=tc.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(se,Se,nt){var kt,Xt,wn,jn,qn,ei;const xi={localCacheCount:Se,existenceFilterCount:nt.count},ui=nt.unchangedNames;return ui&&(xi.bloomFilter={applied:0===se,hashCount:null!==(kt=null==ui?void 0:ui.hashCount)&&void 0!==kt?kt:0,bitmapLength:null!==(jn=null===(wn=null===(Xt=null==ui?void 0:ui.bits)||void 0===Xt?void 0:Xt.bitmap)||void 0===wn?void 0:wn.length)&&void 0!==jn?jn:0,padding:null!==(ei=null===(qn=null==ui?void 0:ui.bits)||void 0===qn?void 0:qn.padding)&&void 0!==ei?ei:0}),xi}(Y,k,e.Vt))}}}}re(e,t){const{unchangedNames:l,count:h}=e.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:m="",padding:E=0},hashCount:k=0}=l;let Y,se;try{Y=Oo(m).toUint8Array()}catch(Se){if(Se instanceof Ms)return ws("Decoding the base64 bloom filter in existence filter failed ("+Se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Se}try{se=new Hp(Y,E,k)}catch(Se){return ws(Se instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",Se),1}return 0===se.It?1:h!==t-this.oe(e.targetId,se)?2:0}oe(e,t){const l=this.Gt.getRemoteKeysForTarget(e);let h=0;return l.forEach(m=>{const E=this.Gt.ue(),k=`projects/${E.projectId}/databases/${E.database}/documents/${m.path.canonicalString()}`;t.vt(k)||(this.Yt(e,m,null),h++)}),h}ce(e){const t=new Map;this.Qt.forEach((m,E)=>{const k=this.se(E);if(k){if(m.current&&Qu(k.target)){const Y=new On(k.target.path);null!==this.jt.get(Y)||this.ae(E,Y)||this.Yt(E,Y,ii.newNoDocument(Y,e))}m.Mt&&(t.set(E,m.Ot()),m.Ft())}});let l=Yr();this.zt.forEach((m,E)=>{let k=!0;E.forEachWhile(Y=>{const se=this.se(Y);return!se||"TargetPurposeLimboResolution"===se.purpose||(k=!1,!1)}),k&&(l=l.add(m))}),this.jt.forEach((m,E)=>E.setReadTime(e));const h=new nc(e,t,this.Wt,this.jt,l);return this.jt=Io(),this.zt=Ch(),this.Wt=new Ri(sr),h}Jt(e,t){if(!this.te(e))return;const l=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,l),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,l){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,t)?h.Bt(t,1):h.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),l&&(this.jt=this.jt.insert(t,l))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new _m,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new tr(sr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Qt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _m),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Ch(){return new Ri(On.comparator)}function Nf(){return new Ri(On.comparator)}const kf={asc:"ASCENDING",desc:"DESCENDING"},zp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gp={and:"AND",or:"OR"};class ic{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wp(s,e){return s.useProto3Json||F(e)?e:{value:e}}function jc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ff(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Kp(s,e){return jc(s,e.toTimestamp())}function Us(s){return Gn(!!s),dr.fromTimestamp(function(e){const t=gl(e);return new Ei(t.seconds,t.nanos)}(s))}function Pd(s,e){return(t=s,new ri(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Em(s){const e=ri.fromString(s);return Gn(Th(e)),e}function bh(s,e){return Pd(s.databaseId,e.path)}function gu(s,e){const t=Em(e);if(t.get(1)!==s.databaseId.projectId)throw new Vt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Vt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new On(Lf(t))}function qp(s,e){return Pd(s.databaseId,e)}function Yp(s){const e=Em(s);return 4===e.length?ri.emptyPath():Lf(e)}function Hc(s){return new ri(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Lf(s){return Gn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function zc(s,e,t){return{name:bh(s,e),fields:t.value.mapValue.fields}}function mu(s,e,t){const l=gu(s,e.name),h=Us(e.updateTime),m=e.createTime?Us(e.createTime):dr.min(),E=new $o({mapValue:{fields:e.fields}}),k=ii.newFoundDocument(l,h,m,E);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function Bf(s,e){let t;if(e instanceof _h)t={update:zc(s,e.key,e.value)};else if(e instanceof fu)t={delete:bh(s,e.key)};else if(e instanceof jl)t={update:zc(s,e.key,e.data),updateMask:vu(e.fieldMask)};else{if(!(e instanceof Hl))return Ln();t={verify:bh(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(h,m){const E=m.transform;if(E instanceof Ad)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Ju)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Ul)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Md)return{fieldPath:m.field.canonicalString(),increment:E.gt};throw Ln()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Kp(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Ln()),t;var h}function $f(s,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?xs.updateTime(Us(h.updateTime)):void 0!==h.exists?xs.exists(h.exists):xs.none():xs.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(m,E){let k=null;"setToServerValue"in E?(Gn("REQUEST_TIME"===E.setToServerValue),k=new Ad):"appendMissingElements"in E?k=new Ju(E.appendMissingElements.values||[]):"removeAllFromArray"in E?k=new Ul(E.removeAllFromArray.values||[]):"increment"in E?k=new Md(m,E.increment):Ln();const Y=zi.fromServerFormat(E.fieldPath);return new vh(Y,k)}(s,h)):[];var h;if(e.update){const h=gu(s,e.update.name),m=new $o({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new co((e.updateMask.fieldPaths||[]).map(se=>zi.fromServerFormat(se)));return new jl(h,m,E,t,l)}return new _h(h,m,t,l)}if(e.delete){const h=gu(s,e.delete);return new fu(h,t)}if(e.verify){const h=gu(s,e.verify);return new Hl(h,t)}return Ln()}function Zp(s,e){return{documents:[qp(s,e.path)]}}function Od(s,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=qp(s,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qp(s,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(Y){if(0!==Y.length)return Sh(Xi.create(Y,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const m=function(Y){if(0!==Y.length)return Y.map(se=>{return{field:yu((Se=se).field),direction:iv(Se.dir)};var Se})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const E=Wp(s,e.limit);var k,Y;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),t}function Wc(s){let e=Yp(s.parent);const t=s.structuredQuery,l=t.from?t.from.length:0;let h=null;if(l>0){Gn(1===l);const Se=t.from[0];Se.allDescendants?h=Se.collectionId:e=e.child(Se.collectionId)}let m=[];t.where&&(m=function(Se){const nt=Xp(Se);return nt instanceof Xi&&Id(nt)?nt.getFilters():[nt]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(Se=>{return new tl(Dh((nt=Se).field),function(kt){switch(kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nt.direction));var nt}));let k=null;t.limit&&(k=function(Se){let nt;return nt="object"==typeof Se?Se.value:Se,F(nt)?null:nt}(t.limit));let Y=null;var Se;t.startAt&&(Y=new Fa((Se=t.startAt).values||[],!!Se.before));let se=null;return t.endAt&&(se=function(Se){return new Fa(Se.values||[],!Se.before)}(t.endAt)),Sd(e,h,E,m,k,"F",Y,se)}function Xp(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dh(e.unaryFilter.field);return qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=Dh(e.unaryFilter.field);return qr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Dh(e.unaryFilter.field);return qr.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Dh(e.unaryFilter.field);return qr.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Ln()}}(s):void 0!==s.fieldFilter?qr.create(Dh((e=s).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return Xi.create(e.compositeFilter.filters.map(t=>Xp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ln()}}(e.compositeFilter.op))}(s):Ln();var e}function iv(s){return kf[s]}function Jp(s){return zp[s]}function Vf(s){return Gp[s]}function yu(s){return{fieldPath:s.canonicalString()}}function Dh(s){return zi.fromServerFormat(s.fieldPath)}function Sh(s){return s instanceof qr?function(e){if("=="===e.op){if(zu(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NAN"}};if(el(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zu(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NAN"}};if(el(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(e.field),op:Jp(e.op),value:e.value}}}(s):s instanceof Xi?function(e){const t=e.getFilters().map(l=>Sh(l));return 1===t.length?t[0]:{compositeFilter:{op:Vf(e.op),filters:t}}}(s):Ln()}function vu(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Th(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class sc{constructor(e,t,l,h,m=dr.min(),E=dr.min(),k=Vs.EMPTY_BYTE_STRING,Y=null){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=k,this.expectedCount=Y}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _u{constructor(e){this.fe=e}}function Ah(s,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:bh(h=s.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:jc(h,m.version.toTimestamp()),createTime:jc(h,m.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:Mh(e.version)};else{if(!e.isUnknownDocument())return Ln();l.unknownDocument={path:t.path.toArray(),version:Mh(e.version)}}var h,m;return l}function kd(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Mh(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function na(s){const e=new Ei(s.seconds,s.nanoseconds);return dr.fromTimestamp(e)}function Fd(s,e){const t=(e.baseMutations||[]).map(m=>$f(s.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const l=e.mutations.map(m=>$f(s.fe,m)),h=Ei.fromMillis(e.localWriteTimeMs);return new Uc(e.batchId,h,t,l)}function eg(s){const e=na(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?na(s.lastLimboFreeSnapshotVersion):dr.min();let l;var h;return void 0!==s.query.documents?(Gn(1===(h=s.query).documents.length),l=P(uu(Yp(h.documents[0])))):l=P(Wc(s.query)),new sc(l,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,Vs.fromBase64String(s.resumeToken))}function Rh(s,e){const t=Mh(e.snapshotVersion),l=Mh(e.lastLimboFreeSnapshotVersion);let h;h=Qu(e.target)?Zp(s.fe,e.target):Od(s.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vl(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function tg(s){const e=Wc({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Te(e,e.limit,"L"):e}function Ca(s,e){return new vm(e.largestBatchId,$f(s.fe,e.overlayMutation))}function wm(s,e){const t=e.path.lastSegment();return[s,Ie(e.path.popLast()),t]}function sv(s,e,t,l){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:Mh(l.readTime),documentKey:Ie(l.documentKey.path),largestBatchId:l.largestBatchId}}class ng{getBundleMetadata(e,t){return Eu(e).get(t).next(l=>{if(l)return{id:(h=l).bundleId,createTime:na(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return Eu(e).put({bundleId:(l=t).id,createTime:Mh(Us(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return xh(e).get(t).next(l=>{if(l)return{name:(h=l).name,query:tg(h.bundledQuery),readTime:na(h.readTime)};var h})}saveNamedQuery(e,t){return xh(e).put({name:(l=t).name,readTime:Mh(Us(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Eu(s){return wo(s,"bundles")}function xh(s){return wo(s,"namedQueries")}class Uf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Uf(e,t.uid||"")}getOverlay(e,t){return Ld(e).get(wm(this.userId,t)).next(l=>l?Ca(this.serializer,l):null)}getOverlays(e,t){const l=wa();return Lt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){const h=[];return l.forEach((m,E)=>{const k=new vm(t,E);h.push(this.we(e,k))}),Lt.waitFor(h)}removeOverlaysForBatchId(e,t,l){const h=new Set;t.forEach(E=>h.add(Ie(E.getCollectionPath())));const m=[];return h.forEach(E=>{const k=IDBKeyRange.bound([this.userId,E,l],[this.userId,E,l+1],!1,!0);m.push(Ld(e).J("collectionPathOverlayIndex",k))}),Lt.waitFor(m)}getOverlaysForCollection(e,t,l){const h=wa(),m=Ie(t),E=IDBKeyRange.bound([this.userId,m,l],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Ld(e).j("collectionPathOverlayIndex",E).next(k=>{for(const Y of k){const se=Ca(this.serializer,Y);h.set(se.getKey(),se)}return h})}getOverlaysForCollectionGroup(e,t,l,h){const m=wa();let E;const k=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ld(e).X({index:"collectionGroupOverlayIndex",range:k},(Y,se,Se)=>{const nt=Ca(this.serializer,se);m.size()<h||nt.largestBatchId===E?(m.set(nt.getKey(),nt),E=nt.largestBatchId):Se.done()}).next(()=>m)}we(e,t){return Ld(e).put(function(l,h,m){const[E,k,Y]=wm(h,m.mutation.key);return{userId:h,collectionPath:k,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Bf(l.fe,m.mutation)}}(this.serializer,this.userId,t))}}function Ld(s){return wo(s,"documentOverlays")}class _l{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe($i(e.integerValue));else if("doubleValue"in e){const l=$i(e.doubleValue);isNaN(l)?this.ye(t,13):(this.ye(t,15),te(l)?t.pe(0):t.pe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ye(t,20),"string"==typeof l?t.Ie(l):(t.Ie(`${l.seconds||""}`),t.pe(l.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Oo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ye(t,45),t.pe(l.latitude||0),t.pe(l.longitude||0)}else"mapValue"in e?If(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const l=e.fields||{};this.ye(t,55);for(const h of Object.keys(l))this.Te(h,t),this.me(l[h],t)}Pe(e,t){const l=e.values||[];this.ye(t,50);for(const h of l)this.me(h,t)}ve(e,t){this.ye(t,37),On.fromName(e).path.forEach(l=>{this.ye(t,60),this.be(l,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function k_(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function ov(s){const e=64-function(t){let l=0;for(let h=0;h<8;++h){const m=k_(255&t[h]);if(l+=m,8!==m)break}return l}(s);return Math.ceil(e/8)}_l.Ve=new _l;class pE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.De(l.value),l=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Ne(l.value),l=t.next();this.ke()}Me(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.De(l);else if(l<2048)this.De(960|l>>>6),this.De(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.De(480|l>>>12),this.De(128|63&l>>>6),this.De(128|63&l);else{const h=t.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Ne(l);else if(l<2048)this.Ne(960|l>>>6),this.Ne(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l);else{const h=t.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const t=this.Fe(e),l=ov(t);this.Be(1+l),this.buffer[this.position++]=255&l;for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Le(e){const t=this.Fe(e),l=ov(t);this.Be(1+l),this.buffer[this.position++]=~(255&l);for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let h=1;h<t.length;++h)t[h]^=l?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class jf{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ph{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class rg{constructor(){this.je=new pE,this.ze=new jf(this.je),this.We=new Ph(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Kc{constructor(e,t,l,h){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=h}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new Kc(this.indexId,this.documentKey,this.arrayValue,l)}}function oc(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=av(s.arrayValue,e.arrayValue),0!==t?t:(t=av(s.directionalValue,e.directionalValue),0!==t?t:On.comparator(s.documentKey,e.documentKey)))}function av(s,e){for(let t=0;t<s.length&&t<e.length;++t){const l=s[t]-e[t];if(0!==l)return l}return s.length-e.length}class F_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const l=t;l.isInequality()?this.Ze=l:this.Xe.push(l)}}tn(e){Gn(e.collectionGroup===this.collectionId);const t=Ma(e);if(void 0!==t&&!this.en(t))return!1;const l=fl(e);let h=0,m=0;for(;h<l.length&&this.en(l[h]);++h);if(h===l.length)return!0;if(void 0!==this.Ze){const E=l[h];if(!this.nn(this.Ze,E)||!this.sn(this.Ye[m++],E))return!1;++h}for(;h<l.length;++h)if(m>=this.Ye.length||!this.sn(this.Ye[m++],l[h]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Im(s){var e,t;if(Gn(s instanceof qr||s instanceof Xi),s instanceof qr){if(s instanceof au){const h=(null===(t=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>qr.create(s.field,"==",m)))||[];return Xi.create(h,"or")}return s}const l=s.filters.map(h=>Im(h));return Xi.create(l,s.op)}function L_(s){if(0===s.getFilters().length)return[];const e=Nh(Im(s));return Gn(sg(e)),ig(e)||Oh(e)?[e]:e.getFilters()}function ig(s){return s instanceof qr}function Oh(s){return s instanceof Xi&&Id(s)}function sg(s){return ig(s)||Oh(s)||function(e){if(e instanceof Xi&&Yu(e)){for(const t of e.getFilters())if(!ig(t)&&!Oh(t))return!1;return!0}return!1}(s)}function Nh(s){if(Gn(s instanceof qr||s instanceof Xi),s instanceof qr)return s;if(1===s.filters.length)return Nh(s.filters[0]);const e=s.filters.map(l=>Nh(l));let t=Xi.create(e,s.op);return t=zl(t),sg(t)?t:(Gn(t instanceof Xi),Gn(qu(t)),Gn(t.filters.length>1),t.filters.reduce((l,h)=>Cm(l,h)))}function Cm(s,e){let t;return Gn(s instanceof qr||s instanceof Xi),Gn(e instanceof qr||e instanceof Xi),t=s instanceof qr?e instanceof qr?Xi.create([s,e],"and"):Ps(s,e):e instanceof qr?Ps(e,s):function(l,h){if(Gn(l.filters.length>0&&h.filters.length>0),qu(l)&&qu(h))return bd(l,h.getFilters());const m=Yu(l)?l:h,E=Yu(l)?h:l,k=m.filters.map(Y=>Cm(Y,E));return Xi.create(k,"or")}(s,e),zl(t)}function Ps(s,e){if(qu(e))return bd(e,s.getFilters());{const t=e.filters.map(l=>Cm(s,l));return Xi.create(t,"or")}}function zl(s){if(Gn(s instanceof qr||s instanceof Xi),s instanceof qr)return s;const e=s.getFilters();if(1===e.length)return zl(e[0]);if(Cd(s))return s;const t=e.map(h=>zl(h)),l=[];return t.forEach(h=>{h instanceof qr?l.push(h):h instanceof Xi&&(h.op===s.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:Xi.create(l,s.op)}class B_{constructor(){this.rn=new kh}addToCollectionParentIndex(e,t){return this.rn.add(t),Lt.resolve()}getCollectionParents(e,t){return Lt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Lt.resolve()}deleteFieldIndex(e,t){return Lt.resolve()}getDocumentsMatchingTarget(e,t){return Lt.resolve(null)}getIndexType(e,t){return Lt.resolve(0)}getFieldIndexes(e,t){return Lt.resolve([])}getNextCollectionGroupToUpdate(e){return Lt.resolve(null)}getMinOffset(e,t){return Lt.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return Lt.resolve(Ir.min())}updateCollectionGroup(e,t,l){return Lt.resolve()}updateIndexEntries(e,t){return Lt.resolve()}}class kh{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t]||new tr(ri.comparator),m=!h.has(l);return this.index[t]=h.add(l),m}has(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t];return h&&h.has(l)}getEntries(e){return(this.index[e]||new tr(ri.comparator)).toArray()}}const qc=new Uint8Array(0);class $_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new kh,this.un=new No(l=>vl(l),(l,h)=>la(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const l=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:l,parent:Ie(h)};return Bd(e).put(m)}return Lt.resolve()}getCollectionParents(e,t){const l=[],h=IDBKeyRange.bound([t,""],[xl(t),""],!1,!0);return Bd(e).j(h).next(m=>{for(const E of m){if(E.collectionId!==t)break;l.push(Rn(E.parent))}return l})}addFieldIndex(e,t){const l=zf(e),h={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var E;delete h.indexId;const m=l.add(h);if(t.indexState){const E=$d(e);return m.next(k=>{E.put(sv(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const l=zf(e),h=$d(e),m=Hf(e);return l.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=Hf(e);let h=!0;const m=new Map;return Lt.forEach(this.cn(t),E=>this.an(e,E).next(k=>{h&&(h=!!k),m.set(E,k)})).next(()=>{if(h){let E=Yr();const k=[];return Lt.forEach(m,(Y,se)=>{var Se;Qt("IndexedDbIndexManager",`Using index ${Se=Y,`id=${Se.indexId}|cg=${Se.collectionGroup}|f=${Se.fields.map(ui=>`${ui.fieldPath}:${ui.kind}`).join(",")}`} to execute ${vl(t)}`);const nt=function(ui,ko){const Ao=Ma(ko);if(void 0===Ao)return null;for(const ks of lu(ui,Ao.fieldPath))switch(ks.op){case"array-contains-any":return ks.value.arrayValue.values||[];case"array-contains":return[ks.value]}return null}(se,Y),kt=function(ui,ko){const Ao=new Map;for(const ks of fl(ko))for(const Sa of lu(ui,ks.fieldPath))switch(Sa.op){case"==":case"in":Ao.set(ks.fieldPath.canonicalString(),Sa.value);break;case"not-in":case"!=":return Ao.set(ks.fieldPath.canonicalString(),Sa.value),Array.from(Ao.values())}return null}(se,Y),Xt=function(ui,ko){const Ao=[];let ks=!0;for(const Sa of fl(ko)){const ih=0===Sa.kind?Df(ui,Sa.fieldPath,ui.startAt):Dd(ui,Sa.fieldPath,ui.startAt);Ao.push(ih.value),ks&&(ks=ih.inclusive)}return new Fa(Ao,ks)}(se,Y),wn=function(ui,ko){const Ao=[];let ks=!0;for(const Sa of fl(ko)){const ih=0===Sa.kind?Dd(ui,Sa.fieldPath,ui.endAt):Df(ui,Sa.fieldPath,ui.endAt);Ao.push(ih.value),ks&&(ks=ih.inclusive)}return new Fa(Ao,ks)}(se,Y),jn=this.hn(Y,se,Xt),qn=this.hn(Y,se,wn),ei=this.ln(Y,se,kt),xi=this.fn(Y.indexId,nt,jn,Xt.inclusive,qn,wn.inclusive,ei);return Lt.forEach(xi,ui=>l.H(ui,t.limit).next(ko=>{ko.forEach(Ao=>{const ks=On.fromSegments(Ao.documentKey);E.has(ks)||(E=E.add(ks),k.push(ks))})}))}).next(()=>k)}return Lt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:L_(Xi.create(e.filters,"and")).map(l=>yl(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,l,h,m,E,k){const Y=(null!=t?t.length:1)*Math.max(l.length,m.length),se=Y/(null!=t?t.length:1),Se=[];for(let nt=0;nt<Y;++nt){const kt=t?this.dn(t[nt/se]):qc,Xt=this.wn(e,kt,l[nt%se],h),wn=this._n(e,kt,m[nt%se],E),jn=k.map(qn=>this.wn(e,kt,qn,!0));Se.push(...this.createRange(Xt,wn,jn))}return Se}wn(e,t,l,h){const m=new Kc(e,On.empty(),t,l);return h?m:m.Je()}_n(e,t,l,h){const m=new Kc(e,On.empty(),t,l);return h?m.Je():m}an(e,t){const l=new F_(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let E=null;for(const k of m)l.tn(k)&&(!E||k.fields.length>E.fields.length)&&(E=k);return E})}getIndexType(e,t){let l=2;const h=this.cn(t);return Lt.forEach(h,m=>this.an(e,m).next(E=>{E?0!==l&&E.fields.length<function(k){let Y=new tr(zi.comparator),se=!1;for(const Se of k.filters)for(const nt of Se.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?se=!0:Y=Y.add(nt.field));for(const Se of k.orderBy)Se.field.isKeyField()||(Y=Y.add(Se.field));return Y.size+(se?1:0)}(m)&&(l=1):l=0})).next(()=>null!==t.limit&&h.length>1&&2===l?1:l)}mn(e,t){const l=new rg;for(const h of fl(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const E=l.He(h.kind);_l.Ve._e(m,E)}return l.Qe()}dn(e){const t=new rg;return _l.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const l=new rg;return _l.Ve._e(Hu(this.databaseId,t),l.He(function(h){const m=fl(h);return 0===m.length?0:m[m.length-1].kind}(e))),l.Qe()}ln(e,t,l){if(null===l)return[];let h=[];h.push(new rg);let m=0;for(const E of fl(e)){const k=l[m++];for(const Y of h)if(this.yn(t,E.fieldPath)&&wd(k))h=this.pn(h,E,k);else{const se=Y.He(E.kind);_l.Ve._e(k,se)}}return this.In(h)}hn(e,t,l){return this.ln(e,t,l.position)}In(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].Qe();return t}pn(e,t,l){const h=[...e],m=[];for(const E of l.arrayValue.values||[])for(const k of h){const Y=new rg;Y.seed(k.Qe()),_l.Ve._e(E,Y.He(t.kind)),m.push(Y)}return m}yn(e,t){return!!e.filters.find(l=>l instanceof qr&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=zf(e),h=$d(e);return(t?l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.j()).next(m=>{const E=[];return Lt.forEach(m,k=>h.get([k.indexId,this.uid]).next(Y=>{E.push(function(se,Se){const nt=Se?new Ol(Se.sequenceNumber,new Ir(na(Se.readTime),new On(Rn(Se.documentKey)),Se.largestBatchId)):Ol.empty(),kt=se.fields.map(([Xt,wn])=>new Ya(zi.fromServerFormat(Xt),wn));return new hl(se.indexId,se.collectionGroup,kt,nt)}(k,Y))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,h)=>{const m=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:sr(l.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const h=zf(e),m=$d(e);return this.Tn(e).next(E=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>Lt.forEach(k,Y=>m.put(sv(Y.indexId,this.user,E,l)))))}updateIndexEntries(e,t){const l=new Map;return Lt.forEach(t,(h,m)=>{const E=l.get(h.collectionGroup);return(E?Lt.resolve(E):this.getFieldIndexes(e,h.collectionGroup)).next(k=>(l.set(h.collectionGroup,k),Lt.forEach(k,Y=>this.En(e,h,Y).next(se=>{const Se=this.An(m,Y);return se.isEqual(Se)?Lt.resolve():this.vn(e,m,Y,se,Se)}))))})}Rn(e,t,l,h){return Hf(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(l,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,l,h){return Hf(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(l,t.key),t.key.path.toArray()])}En(e,t,l){const h=Hf(e);let m=new tr(oc);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.gn(l,t)])},(E,k)=>{m=m.add(new Kc(l.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>m)}An(e,t){let l=new tr(oc);const h=this.mn(t,e);if(null==h)return l;const m=Ma(t);if(null!=m){const E=e.data.field(m.fieldPath);if(wd(E))for(const k of E.arrayValue.values||[])l=l.add(new Kc(t.indexId,e.key,this.dn(k),h))}else l=l.add(new Kc(t.indexId,e.key,qc,h));return l}vn(e,t,l,h,m){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(k,Y,se,Se,nt){const kt=k.getIterator(),Xt=Y.getIterator();let wn=Oa(kt),jn=Oa(Xt);for(;wn||jn;){let qn=!1,ei=!1;if(wn&&jn){const xi=se(wn,jn);xi<0?ei=!0:xi>0&&(qn=!0)}else null!=wn?ei=!0:qn=!0;qn?(Se(jn),jn=Oa(Xt)):ei?(nt(wn),wn=Oa(kt)):(wn=Oa(kt),jn=Oa(Xt))}}(h,m,oc,k=>{E.push(this.Rn(e,t,l,k))},k=>{E.push(this.Pn(e,t,l,k))}),Lt.waitFor(E)}Tn(e){let t=1;return $d(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((E,k)=>oc(E,k)).filter((E,k,Y)=>!k||0!==oc(E,Y[k-1]));const h=[];h.push(e);for(const E of l){const k=oc(E,e),Y=oc(E,t);if(0===k)h[0]=e.Je();else if(k>0&&Y<0)h.push(E),h.push(E.Je());else if(Y>0)break}h.push(t);const m=[];for(let E=0;E<h.length;E+=2){if(this.bn(h[E],h[E+1]))return[];m.push(IDBKeyRange.bound([h[E].indexId,this.uid,h[E].arrayValue,h[E].directionalValue,qc,[]],[h[E+1].indexId,this.uid,h[E+1].arrayValue,h[E+1].directionalValue,qc,[]]))}return m}bn(e,t){return oc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lv)}getMinOffset(e,t){return Lt.mapArray(this.cn(t),l=>this.an(e,l).next(h=>h||Ln())).next(lv)}}function Bd(s){return wo(s,"collectionParents")}function Hf(s){return wo(s,"indexEntries")}function zf(s){return wo(s,"indexConfiguration")}function $d(s){return wo(s,"indexState")}function lv(s){Gn(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<s.length;l++){const h=s[l].indexState.offset;Ra(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}const og={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fo{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ki(s,e,t){const l=s.store("mutations"),h=s.store("documentMutations"),m=[],E=IDBKeyRange.only(t.batchId);let k=0;const Y=l.X({range:E},(Se,nt,kt)=>(k++,kt.delete()));m.push(Y.next(()=>{Gn(1===k)}));const se=[];for(const Se of t.mutations){const nt=Bi(e,Se.key.path,t.batchId);m.push(h.delete(nt)),se.push(Se.key)}return Lt.waitFor(m).next(()=>se)}function Yc(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Ln();e=s.noDocument}return JSON.stringify(e).length}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class Gf{constructor(e,t,l,h){this.userId=e,this.serializer=t,this.indexManager=l,this.referenceDelegate=h,this.Vn={}}static de(e,t,l,h){Gn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Gf(m,t,l,h)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).X({index:"userMutationsIndex",range:l},(h,m,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,l,h){const m=Zc(e),E=ac(e);return E.add({}).next(k=>{Gn("number"==typeof k);const Y=new Uc(k,t,l,h),se=function(kt,Xt,wn){const jn=wn.baseMutations.map(ei=>Bf(kt.fe,ei)),qn=wn.mutations.map(ei=>Bf(kt.fe,ei));return{userId:Xt,batchId:wn.batchId,localWriteTimeMs:wn.localWriteTime.toMillis(),baseMutations:jn,mutations:qn}}(this.serializer,this.userId,Y),Se=[];let nt=new tr((kt,Xt)=>sr(kt.canonicalString(),Xt.canonicalString()));for(const kt of h){const Xt=Bi(this.userId,kt.key.path,k);nt=nt.add(kt.key.path.popLast()),Se.push(E.put(se)),Se.push(m.put(Xt,lo))}return nt.forEach(kt=>{Se.push(this.indexManager.addToCollectionParentIndex(e,kt))}),e.addOnCommittedListener(()=>{this.Vn[k]=Y.keys()}),Lt.waitFor(Se).next(()=>Y)})}lookupMutationBatch(e,t){return ac(e).get(t).next(l=>l?(Gn(l.userId===this.userId),Fd(this.serializer,l)):null)}Sn(e,t){return this.Vn[t]?Lt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const h=l.keys();return this.Vn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,h=IDBKeyRange.lowerBound([this.userId,l]);let m=null;return ac(e).X({index:"userMutationsIndex",range:h},(E,k,Y)=>{k.userId===this.userId&&(Gn(k.batchId>=l),m=Fd(this.serializer,k)),Y.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return ac(e).X({index:"userMutationsIndex",range:t,reverse:!0},(h,m,E)=>{l=m.batchId,E.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ac(e).j("userMutationsIndex",t).next(l=>l.map(h=>Fd(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=gn(this.userId,t.path),h=IDBKeyRange.lowerBound(l),m=[];return Zc(e).X({range:h},(E,k,Y)=>{const[se,Se,nt]=E,kt=Rn(Se);if(se===this.userId&&t.path.isEqual(kt))return ac(e).get(nt).next(Xt=>{if(!Xt)throw Ln();Gn(Xt.userId===this.userId),m.push(Fd(this.serializer,Xt))});Y.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new tr(sr);const h=[];return t.forEach(m=>{const E=gn(this.userId,m.path),k=IDBKeyRange.lowerBound(E),Y=Zc(e).X({range:k},(se,Se,nt)=>{const[kt,Xt,wn]=se,jn=Rn(Xt);kt===this.userId&&m.path.isEqual(jn)?l=l.add(wn):nt.done()});h.push(Y)}),Lt.waitFor(h).next(()=>this.Dn(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1,m=gn(this.userId,l),E=IDBKeyRange.lowerBound(m);let k=new tr(sr);return Zc(e).X({range:E},(Y,se,Se)=>{const[nt,kt,Xt]=Y,wn=Rn(kt);nt===this.userId&&l.isPrefixOf(wn)?wn.length===h&&(k=k.add(Xt)):Se.done()}).next(()=>this.Dn(e,k))}Dn(e,t){const l=[],h=[];return t.forEach(m=>{h.push(ac(e).get(m).next(E=>{if(null===E)throw Ln();Gn(E.userId===this.userId),l.push(Fd(this.serializer,E))}))}),Lt.waitFor(h).next(()=>l)}removeMutationBatch(e,t){return ki(e.ht,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Lt.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Lt.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return Zc(e).X({range:l},(m,E,k)=>{if(m[0]===this.userId){const Y=Rn(m[1]);h.push(Y)}else k.done()}).next(()=>{Gn(0===h.length)})})}containsKey(e,t){return Wf(e,this.userId,t)}xn(e){return uv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wf(s,e,t){const l=gn(e,t.path),h=l[1],m=IDBKeyRange.lowerBound(l);let E=!1;return Zc(s).X({range:m,Y:!0},(k,Y,se)=>{const[Se,nt,kt]=k;Se===e&&nt===h&&(E=!0),se.done()}).next(()=>E)}function ac(s){return wo(s,"mutations")}function Zc(s){return wo(s,"documentMutations")}function uv(s){return wo(s,"mutationQueues")}class lc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lc(0)}static Mn(){return new lc(-1)}}class bm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const l=new lc(t.highestTargetId);return t.highestTargetId=l.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>dr.fromTimestamp(new Ei(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.$n(e).next(h=>(h.highestListenSequenceNumber=t,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.On(e,h)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(l=>(l.targetCount+=1,this.Bn(t,l),this.On(e,l))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wu(e).delete(t.targetId)).next(()=>this.$n(e)).next(l=>(Gn(l.targetCount>0),l.targetCount-=1,this.On(e,l)))}removeTargets(e,t,l){let h=0;const m=[];return wu(e).X((E,k)=>{const Y=eg(k);Y.sequenceNumber<=t&&null===l.get(Y.targetId)&&(h++,m.push(this.removeTargetData(e,Y)))}).next(()=>Lt.waitFor(m)).next(()=>h)}forEachTarget(e,t){return wu(e).X((l,h)=>{const m=eg(h);t(m)})}$n(e){return cv(e).get("targetGlobalKey").next(t=>(Gn(null!==t),t))}On(e,t){return cv(e).put("targetGlobalKey",t)}Fn(e,t){return wu(e).put(Rh(this.serializer,t))}Bn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const l=vl(t),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let m=null;return wu(e).X({range:h,index:"queryTargetsIndex"},(E,k,Y)=>{const se=eg(k);la(t,se.target)&&(m=se,Y.done())}).next(()=>m)}addMatchingKeys(e,t,l){const h=[],m=ro(e);return t.forEach(E=>{const k=Ie(E.path);h.push(m.put({targetId:l,path:k})),h.push(this.referenceDelegate.addReference(e,l,E))}),Lt.waitFor(h)}removeMatchingKeys(e,t,l){const h=ro(e);return Lt.forEach(t,m=>{const E=Ie(m.path);return Lt.waitFor([h.delete([l,E]),this.referenceDelegate.removeReference(e,l,m)])})}removeMatchingKeysForTargetId(e,t){const l=ro(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),h=ro(e);let m=Yr();return h.X({range:l,Y:!0},(E,k,Y)=>{const se=Rn(E[1]),Se=new On(se);m=m.add(Se)}).next(()=>m)}containsKey(e,t){const l=Ie(t.path),h=IDBKeyRange.bound([l],[xl(l)],!1,!0);let m=0;return ro(e).X({index:"documentTargetsIndex",Y:!0,range:h},([E,k],Y,se)=>{0!==E&&(m++,se.done())}).next(()=>m>0)}le(e,t){return wu(e).get(t).next(l=>l?eg(l):null)}}function wu(s){return wo(s,"targets")}function cv(s){return wo(s,"targetGlobal")}function ro(s){return wo(s,"targetDocuments")}function Kf([s,e],[t,l]){const h=sr(s,t);return 0===h?sr(e,l):h}class Iu{constructor(e){this.Ln=e,this.buffer=new tr(Kf),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();Kf(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fh{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){xa(l)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Go(l)}yield t.Qn(3e5)}))}}class rl{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return Lt.resolve(D.ct);const l=new Iu(t);return this.jn.forEachTarget(e,h=>l.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>l.Kn(h))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.jn.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Lt.resolve(og)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),og):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let l,h,m,E,k,Y,se;const Se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(nt=>(nt>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${nt}`),h=this.params.maximumSequenceNumbersToCollect):h=nt,E=Date.now(),this.nthSequenceNumber(e,h))).next(nt=>(l=nt,k=Date.now(),this.removeTargets(e,l,t))).next(nt=>(m=nt,Y=Date.now(),this.removeOrphanedDocuments(e,l))).next(nt=>(se=Date.now(),kr()<=me.in.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Se}ms\n\tDetermined least recently used ${h} in `+(k-E)+`ms\n\tRemoved ${m} targets in `+(Y-k)+`ms\n\tRemoved ${nt} documents in `+(se-Y)+`ms\nTotal Duration: ${se-Se}ms`),Lt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:nt})))}}class dv{constructor(e,t){this.db=e,this.garbageCollector=function Ba(s,e){return new rl(s,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(h=>l+h))}Jn(e){let t=0;return this.Wn(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(l,h)=>t(h))}addReference(e,t,l){return Vd(e,l)}removeReference(e,t,l){return Vd(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return Vd(e,t)}Xn(e,t){return function(l,h){let m=!1;return uv(l).Z(E=>Wf(l,E,h).next(k=>(k&&(m=!0),Lt.resolve(!k)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Yn(e,(E,k)=>{if(k<=t){const Y=this.Xn(e,E).next(se=>{if(!se)return m++,l.getEntry(e,E).next(()=>(l.removeEntry(E,dr.min()),ro(e).delete([0,Ie(E.path)])))});h.push(Y)}}).next(()=>Lt.waitFor(h)).next(()=>l.apply(e)).next(()=>m)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return Vd(e,t)}Yn(e,t){const l=ro(e);let h,m=D.ct;return l.X({index:"documentTargetsIndex"},([E,k],{path:Y,sequenceNumber:se})=>{0===E?(m!==D.ct&&t(new On(Rn(h)),m),m=se,h=Y):m=D.ct}).next(()=>{m!==D.ct&&t(new On(Rn(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vd(s,e){return ro(s).put((l=s.currentSequenceNumber,{targetId:0,path:Ie(e.path),sequenceNumber:l}));var l}class Gl{constructor(){this.changes=new No(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?Lt.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return uc(e).put(l)}removeEntry(e,t,l){return uc(e).delete(function(h,m){const E=h.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],kd(m),E[E.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Zn(e,l)))}getEntry(e,t){let l=ii.newInvalidDocument(t);return uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(t))},(h,m)=>{l=this.ts(t,m)}).next(()=>l)}es(e,t){let l={size:0,document:ii.newInvalidDocument(t)};return uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(t))},(h,m)=>{l={document:this.ts(t,m),size:Yc(m)}}).next(()=>l)}getEntries(e,t){let l=Io();return this.ns(e,t,(h,m)=>{const E=this.ts(h,m);l=l.insert(h,E)}).next(()=>l)}ss(e,t){let l=Io(),h=new Ri(On.comparator);return this.ns(e,t,(m,E)=>{const k=this.ts(m,E);l=l.insert(m,k),h=h.insert(m,Yc(E))}).next(()=>({documents:l,rs:h}))}ns(e,t,l){if(t.isEmpty())return Lt.resolve();let h=new tr(fv);t.forEach(Y=>h=h.add(Y));const m=IDBKeyRange.bound(Ud(h.first()),Ud(h.last())),E=h.getIterator();let k=E.getNext();return uc(e).X({index:"documentKeyIndex",range:m},(Y,se,Se)=>{const nt=On.fromSegments([...se.prefixPath,se.collectionGroup,se.documentId]);for(;k&&fv(k,nt)<0;)l(k,null),k=E.getNext();k&&k.isEqual(nt)&&(l(k,se),k=E.hasNext()?E.getNext():null),k?Se.G(Ud(k)):Se.done()}).next(()=>{for(;k;)l(k,null),k=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,t,l,h){const m=t.path,E=[m.popLast().toArray(),m.lastSegment(),kd(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],k=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uc(e).j(IDBKeyRange.bound(E,k,!0)).next(Y=>{let se=Io();for(const Se of Y){const nt=this.ts(On.fromSegments(Se.prefixPath.concat(Se.collectionGroup,Se.documentId)),Se);nt.isFoundDocument()&&($n(t,nt)||h.has(nt.key))&&(se=se.insert(nt.key,nt))}return se})}getAllFromCollectionGroup(e,t,l,h){let m=Io();const E=hv(t,l),k=hv(t,Ir.max());return uc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,k,!0)},(Y,se,Se)=>{const nt=this.ts(On.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);m=m.insert(nt.key,nt),m.size===h&&Se.done()}).next(()=>m)}newChangeBuffer(e){return new lg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Cu(e).get("remoteDocumentGlobalKey").next(t=>(Gn(!!t),t))}Zn(e,t){return Cu(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const l=function Nd(s,e){let t;if(e.document)t=mu(s.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=On.fromSegments(e.noDocument.path),h=na(e.noDocument.readTime);t=ii.newNoDocument(l,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ln();{const l=On.fromSegments(e.unknownDocument.path),h=na(e.unknownDocument.version);t=ii.newUnknownDocument(l,h)}}return e.readTime&&t.setReadTime(function(l){const h=new Ei(l[0],l[1]);return dr.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!l.isNoDocument()||!l.version.isEqual(dr.min()))return l}return ii.newInvalidDocument(e)}}function ag(s){return new gE(s)}class lg extends Gl{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new No(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const t=[];let l=0,h=new tr((m,E)=>sr(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const k=this.us.get(m);if(t.push(this.os.removeEntry(e,m,k.readTime)),E.isValidDocument()){const Y=Ah(this.os.serializer,E);h=h.add(m.path.popLast());const se=Yc(Y);l+=se-k.size,t.push(this.os.addEntry(e,m,Y))}else if(l-=k.size,this.trackRemovals){const Y=Ah(this.os.serializer,E.convertToNoDocument(dr.min()));t.push(this.os.addEntry(e,m,Y))}}),h.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,l)),Lt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(l=>(this.us.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:l,rs:h})=>(h.forEach((m,E)=>{this.us.set(m,{size:E,readTime:l.get(m).readTime})}),l))}}function Cu(s){return wo(s,"remoteDocumentGlobal")}function uc(s){return wo(s,"remoteDocumentsV14")}function Ud(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hv(s,e){const t=e.documentKey.path.toArray();return[s,kd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fv(s,e){const t=s.path.toArray(),l=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<l.length-2;++m)if(h=sr(t[m],l[m]),h)return h;return h=sr(t.length,l.length),h||(h=sr(t[t.length-2],l[l.length-2]),h||sr(t[t.length-1],l[l.length-1]))}class Lh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bu{constructor(e,t,l,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==l&&Mf(l.mutation,h,co.empty(),Ei.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,Yr()).next(()=>l))}getLocalViewOfDocuments(e,t,l=Yr()){const h=wa();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,l).next(m=>{let E=cu();return m.forEach((k,Y)=>{E=E.insert(k,Y.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const l=wa();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,Yr()))}populateOverlays(e,t,l){const h=[];return l.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((E,k)=>{t.set(E,k)})})}computeViews(e,t,l,h){let m=Io();const E=du(),k=du();return t.forEach((Y,se)=>{const Se=l.get(se.key);h.has(se.key)&&(void 0===Se||Se.mutation instanceof jl)?m=m.insert(se.key,se):void 0!==Se?(E.set(se.key,Se.mutation.getFieldMask()),Mf(Se.mutation,se,Se.mutation.getFieldMask(),Ei.now())):E.set(se.key,co.empty())}),this.recalculateAndSaveOverlays(e,m).next(Y=>(Y.forEach((se,Se)=>E.set(se,Se)),t.forEach((se,Se)=>{var nt;return k.set(se,new Lh(Se,null!==(nt=E.get(se))&&void 0!==nt?nt:null))}),k))}recalculateAndSaveOverlays(e,t){const l=du();let h=new Ri((E,k)=>E-k),m=Yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const k of E)k.keys().forEach(Y=>{const se=t.get(Y);if(null===se)return;let Se=l.get(Y)||co.empty();Se=k.applyToLocalView(se,Se),l.set(Y,Se);const nt=(h.get(k.batchId)||Yr()).add(Y);h=h.insert(k.batchId,nt)})}).next(()=>{const E=[],k=h.getReverseIterator();for(;k.hasNext();){const Y=k.getNext(),se=Y.key,Se=Y.value,nt=Ia();Se.forEach(kt=>{if(!m.has(kt)){const Xt=Up(t.get(kt),l.get(kt));null!==Xt&&nt.set(kt,Xt),m=m.add(kt)}}),E.push(this.documentOverlayCache.saveOverlays(e,se,nt))}return Lt.waitFor(E)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return On.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var h}getNextDocuments(e,t,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,h).next(m=>{const E=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,h-m.size):Lt.resolve(wa());let k=-1,Y=m;return E.next(se=>Lt.forEach(se,(Se,nt)=>(k<nt.largestBatchId&&(k=nt.largestBatchId),m.get(Se)?Lt.resolve():this.remoteDocumentCache.getEntry(e,Se).next(kt=>{Y=Y.insert(Se,kt)}))).next(()=>this.populateOverlays(e,se,m)).next(()=>this.computeViews(e,Y,se,Yr())).next(Se=>({batchId:k,changes:mh(Se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new On(t)).next(l=>{let h=cu();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const h=t.collectionGroup;let m=cu();return this.indexManager.getCollectionParents(e,h).next(E=>Lt.forEach(E,k=>{const Y=(se=t,Se=k.child(h),new Vl(Se,null,se.explicitOrderBy.slice(),se.filters.slice(),se.limit,se.limitType,se.startAt,se.endAt));var se,Se;return this.getDocumentsMatchingCollectionQuery(e,Y,l).next(se=>{se.forEach((Se,nt)=>{m=m.insert(Se,nt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,h))).next(m=>{h.forEach((k,Y)=>{const se=Y.getKey();null===m.get(se)&&(m=m.insert(se,ii.newInvalidDocument(se)))});let E=cu();return m.forEach((k,Y)=>{const se=h.get(k);void 0!==se&&Mf(se.mutation,Y,co.empty(),Ei.now()),$n(t,Y)&&(E=E.insert(k,Y))}),E})}}class qf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Lt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var l;return this.cs.set(t.id,{id:(l=t).id,version:l.version,createTime:Us(l.createTime)}),Lt.resolve()}getNamedQuery(e,t){return Lt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(l=t).name,query:tg(l.bundledQuery),readTime:Us(l.readTime)}),Lt.resolve();var l}}class Dm{constructor(){this.overlays=new Ri(On.comparator),this.ls=new Map}getOverlay(e,t){return Lt.resolve(this.overlays.get(t))}getOverlays(e,t){const l=wa();return Lt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((h,m)=>{this.we(e,t,m)}),Lt.resolve()}removeOverlaysForBatchId(e,t,l){const h=this.ls.get(l);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(l)),Lt.resolve()}getOverlaysForCollection(e,t,l){const h=wa(),m=t.length+1,E=new On(t.child("")),k=this.overlays.getIteratorFrom(E);for(;k.hasNext();){const Y=k.getNext().value,se=Y.getKey();if(!t.isPrefixOf(se.path))break;se.path.length===m&&Y.largestBatchId>l&&h.set(Y.getKey(),Y)}return Lt.resolve(h)}getOverlaysForCollectionGroup(e,t,l,h){let m=new Ri((se,Se)=>se-Se);const E=this.overlays.getIterator();for(;E.hasNext();){const se=E.getNext().value;if(se.getKey().getCollectionGroup()===t&&se.largestBatchId>l){let Se=m.get(se.largestBatchId);null===Se&&(Se=wa(),m=m.insert(se.largestBatchId,Se)),Se.set(se.getKey(),se)}}const k=wa(),Y=m.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((se,Se)=>k.set(se,Se)),!(k.size()>=h)););return Lt.resolve(k)}we(e,t,l){const h=this.overlays.get(l.key);if(null!==h){const E=this.ls.get(h.largestBatchId).delete(l.key);this.ls.set(h.largestBatchId,E)}this.overlays=this.overlays.insert(l.key,new vm(t,l));let m=this.ls.get(t);void 0===m&&(m=Yr(),this.ls.set(t,m)),this.ls.set(t,m.add(l.key))}}class ug{constructor(){this.fs=new tr(bo.ds),this.ws=new tr(bo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const l=new bo(e,t);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.ys(new bo(e,t))}ps(e,t){e.forEach(l=>this.removeReference(l,t))}Is(e){const t=new On(new ri([])),l=new bo(t,e),h=new bo(t,e+1),m=[];return this.ws.forEachInRange([l,h],E=>{this.ys(E),m.push(E.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new On(new ri([])),l=new bo(t,e),h=new bo(t,e+1);let m=Yr();return this.ws.forEachInRange([l,h],E=>{m=m.add(E.key)}),m}containsKey(e){const t=new bo(e,0),l=this.fs.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class bo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return On.comparator(e.key,t.key)||sr(e.As,t.As)}static _s(e,t){return sr(e.As,t.As)||On.comparator(e.key,t.key)}}class Sm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new tr(bo.ds)}checkEmpty(e){return Lt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,h){const m=this.vs;this.vs++;const E=new Uc(m,t,l,h);this.mutationQueue.push(E);for(const k of h)this.Rs=this.Rs.add(new bo(k.key,m)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Lt.resolve(E)}lookupMutationBatch(e,t){return Lt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.bs(t+1),m=h<0?0:h;return Lt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Lt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new bo(t,0),h=new bo(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([l,h],E=>{const k=this.Ps(E.As);m.push(k)}),Lt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new tr(sr);return t.forEach(h=>{const m=new bo(h,0),E=new bo(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,E],k=>{l=l.add(k.As)})}),Lt.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1;let m=l;On.isDocumentKey(m)||(m=m.child(""));const E=new bo(new On(m),0);let k=new tr(sr);return this.Rs.forEachWhile(Y=>{const se=Y.key.path;return!!l.isPrefixOf(se)&&(se.length===h&&(k=k.add(Y.As)),!0)},E),Lt.resolve(this.Vs(k))}Vs(e){const t=[];return e.forEach(l=>{const h=this.Ps(l);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){Gn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return Lt.forEach(t.mutations,h=>{const m=new bo(h.key,t.batchId);return l=l.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=l})}Cn(e){}containsKey(e,t){const l=new bo(t,0),h=this.Rs.firstAfterOrEqual(l);return Lt.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Lt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pv{constructor(e){this.Ds=e,this.docs=new Ri(On.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,h=this.docs.get(l),m=h?h.size:0,E=this.Ds(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return Lt.resolve(l?l.document.mutableCopy():ii.newInvalidDocument(t))}getEntries(e,t){let l=Io();return t.forEach(h=>{const m=this.docs.get(h);l=l.insert(h,m?m.document.mutableCopy():ii.newInvalidDocument(h))}),Lt.resolve(l)}getDocumentsMatchingQuery(e,t,l,h){let m=Io();const E=t.path,k=new On(E.child("")),Y=this.docs.getIteratorFrom(k);for(;Y.hasNext();){const{key:se,value:{document:Se}}=Y.getNext();if(!E.isPrefixOf(se.path))break;se.path.length>E.length+1||Ra(li(Se),l)<=0||(h.has(Se.key)||$n(t,Se))&&(m=m.insert(Se.key,Se.mutableCopy()))}return Lt.resolve(m)}getAllFromCollectionGroup(e,t,l,h){Ln()}Cs(e,t){return Lt.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new Tm(this)}getSize(e){return Lt.resolve(this.size)}}class Tm extends Gl{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?t.push(this.os.addEntry(e,h)):this.os.removeEntry(l)}),Lt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class El{constructor(e){this.persistence=e,this.xs=new No(t=>vl(t),la),this.lastRemoteSnapshotVersion=dr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ug,this.targetCount=0,this.Ms=lc.kn()}forEachTarget(e,t){return this.xs.forEach((l,h)=>t(h)),Lt.resolve()}getLastRemoteSnapshotVersion(e){return Lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Lt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.Ns&&(this.Ns=t),Lt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Lt.resolve()}updateTargetData(e,t){return this.Fn(t),Lt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Lt.resolve()}removeTargets(e,t,l){let h=0;const m=[];return this.xs.forEach((E,k)=>{k.sequenceNumber<=t&&null===l.get(k.targetId)&&(this.xs.delete(E),m.push(this.removeMatchingKeysForTargetId(e,k.targetId)),h++)}),Lt.waitFor(m).next(()=>h)}getTargetCount(e){return Lt.resolve(this.targetCount)}getTargetData(e,t){const l=this.xs.get(t)||null;return Lt.resolve(l)}addMatchingKeys(e,t,l){return this.ks.gs(t,l),Lt.resolve()}removeMatchingKeys(e,t,l){this.ks.ps(t,l);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(E=>{m.push(h.markPotentiallyOrphaned(e,E))}),Lt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Lt.resolve()}getMatchingKeysForTargetId(e,t){const l=this.ks.Es(t);return Lt.resolve(l)}containsKey(e,t){return Lt.resolve(this.ks.containsKey(t))}}class Am{constructor(e,t){this.$s={},this.overlays={},this.Os=new D(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new El(this),this.indexManager=new B_,this.remoteDocumentCache=new pv(l=>this.referenceDelegate.Ls(l)),this.serializer=new _u(t),this.qs=new qf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.$s[e.toKey()];return l||(l=new Sm(t,this.referenceDelegate),this.$s[e.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,l){Qt("MemoryPersistence","Starting transaction:",e);const h=new V_(this.Os.next());return this.referenceDelegate.Us(),l(h).next(m=>this.referenceDelegate.Ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Gs(e,t){return Lt.or(Object.values(this.$s).map(l=>()=>l.containsKey(e,t)))}}class V_ extends to{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Qs=new ug,this.js=null}static zs(e){return new cg(e)}get Ws(){if(this.js)return this.js;throw Ln()}addReference(e,t,l){return this.Qs.addReference(l,t),this.Ws.delete(l.toString()),Lt.resolve()}removeReference(e,t,l){return this.Qs.removeReference(l,t),this.Ws.add(l.toString()),Lt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Lt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(h=>this.Ws.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Ws.add(m.toString()))}).next(()=>l.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lt.forEach(this.Ws,l=>{const h=On.fromPath(l);return this.Hs(e,h).next(m=>{m||t.removeEntry(h,dr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(l=>{l?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Lt.or([()=>Lt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class U_{constructor(e){this.serializer=e}O(e,t,l,h){const m=new Zi("createOrUpgrade",t);var k;l<1&&h>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lr,{unique:!0}),k.createObjectStore("documentMutations"),gv(e),function(k){k.createObjectStore("remoteDocuments")}(e));let E=Lt.resolve();return l<3&&h>=3&&(0!==l&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),gv(e)),E=E.next(()=>function(k){const Y=k.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dr.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",se)}(m))),l<4&&h>=4&&(0!==l&&(E=E.next(()=>function(k,Y){return Y.store("mutations").j().next(se=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lr,{unique:!0});const Se=Y.store("mutations"),nt=se.map(kt=>Se.put(kt));return Lt.waitFor(nt)})}(e,m))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(E=E.next(()=>this.Ys(m))),l<6&&h>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),l<7&&h>=7&&(E=E.next(()=>this.Zs(m))),l<8&&h>=8&&(E=E.next(()=>this.ti(e,m))),l<9&&h>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(E=E.next(()=>this.ei(m))),l<11&&h>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(E=E.next(()=>{!function(k){const Y=k.createObjectStore("documentOverlays",{keyPath:Ef});Y.createIndex("collectionPathOverlayIndex",Qa,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Oc,{unique:!1})}(e)})),l<13&&h>=13&&(E=E.next(()=>function(k){const Y=k.createObjectStore("remoteDocumentsV14",{keyPath:Jo});Y.createIndex("documentKeyIndex",no),Y.createIndex("collectionGroupIndex",pl)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(E=E.next(()=>this.si(e,m))),l<15&&h>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Za}).createIndex("sequenceNumberIndex",Pp,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Op}).createIndex("documentKeyIndex",gd,{unique:!1})}(e))),E}Xs(e){let t=0;return e.store("remoteDocuments").X((l,h)=>{t+=Yc(h)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Ys(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.j().next(h=>Lt.forEach(h,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",E).next(k=>Lt.forEach(k,Y=>{Gn(Y.userId===m.userId);const se=Fd(this.serializer,Y);return ki(e,m.userId,se).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return l.X((E,k)=>{const Y=new ri(E),se=[0,Ie(Y)];m.push(t.get(se).next(Se=>Se?Lt.resolve():t.put({targetId:0,path:Ie(Y),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Lt.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Vu});const l=t.store("collectionParents"),h=new kh,m=E=>{if(h.add(E)){const k=E.lastSegment(),Y=E.popLast();return l.put({collectionId:k,parent:Ie(Y)})}};return t.store("remoteDocuments").X({Y:!0},(E,k)=>{const Y=new ri(E);return m(Y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([E,k,Y],se)=>{const Se=Rn(k);return m(Se.popLast())}))}ei(e){const t=e.store("targets");return t.X((l,h)=>{const m=eg(h),E=Rh(this.serializer,m);return t.put(E)})}ni(e,t){const l=t.store("remoteDocuments"),h=[];return l.X((m,E)=>{const k=t.store("remoteDocumentsV14"),Y=(se=E,se.document?new On(ri.fromString(se.document.name).popFirst(5)):se.noDocument?On.fromSegments(se.noDocument.path):se.unknownDocument?On.fromSegments(se.unknownDocument.path):Ln()).path.toArray();var se;const Se={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};h.push(k.put(Se))}).next(()=>Lt.waitFor(h))}si(e,t){const l=t.store("mutations"),h=ag(this.serializer),m=new Am(cg.zs,this.serializer.fe);return l.j().next(E=>{const k=new Map;return E.forEach(Y=>{var se;let Se=null!==(se=k.get(Y.userId))&&void 0!==se?se:Yr();Fd(this.serializer,Y).keys().forEach(nt=>Se=Se.add(nt)),k.set(Y.userId,Se)}),Lt.forEach(k,(Y,se)=>{const Se=new yn(se),nt=Uf.de(this.serializer,Se),kt=m.getIndexManager(Se),Xt=Gf.de(Se,this.serializer,kt,m.referenceDelegate);return new bu(h,Xt,nt,kt).recalculateAndSaveOverlaysForDocumentKeys(new Gi(t,D.ct),Y).next()})})}}function gv(s){s.createObjectStore("targetDocuments",{keyPath:pd}).createIndex("documentTargetsIndex",hs,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uo,{unique:!0}),s.createObjectStore("targetGlobal")}const mv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yv{constructor(e,t,l,h,m,E,k,Y,se,Se,nt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.ii=m,this.window=E,this.document=k,this.ri=se,this.oi=Se,this.ui=nt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=kt=>Promise.resolve(),!yv.D())throw new Vt(Qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dv(this,h),this.di=t+"main",this.serializer=new _u(Y),this.wi=new Sr(this.di,this.ui,new U_(this.serializer)),this.Bs=new bm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ag(this.serializer),this.qs=new ng,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Se&&Gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vt(Qe.FAILED_PRECONDITION,mv);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new D(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var l=(0,y.Z)(function*(h){if(t.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,y.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,y.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(xa(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Qc(e).get("owner").next(t=>Lt.resolve(this.Ri(t)))}Pi(e){return hg(e).delete(this.clientId)}bi(){var e=this;return(0,y.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=wo(l,"clientMetadata");return h.j().next(m=>{const E=e.Si(m,18e5),k=m.filter(Y=>-1===E.indexOf(Y));return Lt.forEach(k,Y=>h.delete(Y.clientId)).next(()=>k)})}).catch(()=>[]);if(e._i)for(const l of t)e._i.removeItem(e.Di(l.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Lt.resolve(!0):Qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Vt(Qe.FAILED_PRECONDITION,mv);return!1}}return!(!this.networkEnabled||!this.inForeground)||hg(e).j().next(l=>void 0===this.Si(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,y.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new Gi(t,D.ct);return e.Ai(l).next(()=>e.Pi(l))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(l=>this.Vi(l.updateTimeMs,t)&&!this.Ci(l.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>hg(e).j().next(t=>this.Si(t,18e5).map(l=>l.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Gf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Uf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,l){Qt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(E=this.ui)?yd:14===E?ch:13===E?md:12===E?uh:11===E?iu:void Ln();var E;let k;return this.wi.runTransaction(e,h,m,Y=>(k=new Gi(Y,this.Os?this.Os.next():D.ct),"readwrite-primary"===t?this.Ti(k).next(se=>!!se||this.Ei(k)).next(se=>{if(!se)throw Gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Vt(Qe.FAILED_PRECONDITION,Yi);return l(k)}).next(se=>this.vi(k).next(()=>se)):this.Oi(k).next(()=>l(k)))).then(Y=>(k.raiseOnCommittedEvent(),Y))}Oi(e){return Qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Vt(Qe.FAILED_PRECONDITION,mv)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qc(e).put("owner",t)}static D(){return Sr.D()}Ai(e){const t=Qc(e);return t.get("owner").next(l=>this.Ri(l)?(Qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Lt.resolve())}Vi(e,t){const l=Date.now();return!(e<l-t||e>l&&(Gr(`Detected an update time that is in the future: ${e} > ${l}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,be.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const l=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Qt("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Gr("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Gr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qc(s){return wo(s,"owner")}function hg(s){return wo(s,"clientMetadata")}function Yf(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Zf{constructor(e,t,l,h){this.targetId=e,this.fromCache=t,this.Fi=l,this.Bi=h}static Li(e,t){let l=Yr(),h=Yr();for(const m of t.docChanges)switch(m.type){case 0:l=l.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Zf(e,t.fromCache,l,h)}}class Bh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,l,h){return this.Ki(e,t).next(m=>m||this.Gi(e,t,h,l)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(kp(t))return Lt.resolve(null);let l=P(t);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=Te(t,null,"F"),l=P(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(m=>{const E=Yr(...m);return this.Ui.getDocuments(e,E).next(k=>this.indexManager.getMinOffset(e,l).next(Y=>{const se=this.ji(t,k);return this.zi(t,se,E,Y.readTime)?this.Ki(e,Te(t,null,"F")):this.Wi(e,se,t,Y)}))})))}Gi(e,t,l,h){return kp(t)||h.isEqual(dr.min())?this.Qi(e,t):this.Ui.getDocuments(e,l).next(m=>{const E=this.ji(t,m);return this.zi(t,E,l,h)?this.Qi(e,t):(kr()<=me.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Dn(t)),this.Wi(e,E,t,wi(h,-1)))})}ji(e,t){let l=new tr(si(e));return t.forEach((h,m)=>{$n(e,m)&&(l=l.add(m))}),l}zi(e,t,l,h){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Qi(e,t){return kr()<=me.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Dn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ir.min())}Wi(e,t,l,h){return this.Ui.getDocumentsMatchingQuery(e,l,h).next(m=>(t.forEach(E=>{m=m.insert(E.key,E)}),m))}}class fg{constructor(e,t,l,h){this.persistence=e,this.Hi=t,this.serializer=h,this.Ji=new Ri(sr),this.Yi=new No(m=>vl(m),la),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(l)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bu(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Qf(s,e,t,l){return new fg(s,e,t,l)}function jd(s,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,y.Z)(function*(s,e){const t=Mn(s);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let h;return t.mutationQueue.getAllMutationBatches(l).next(m=>(h=m,t.tr(e),t.mutationQueue.getAllMutationBatches(l))).next(m=>{const E=[],k=[];let Y=Yr();for(const se of h){E.push(se.batchId);for(const Se of se.mutations)Y=Y.add(Se.key)}for(const se of m){k.push(se.batchId);for(const Se of se.mutations)Y=Y.add(Se.key)}return t.localDocuments.getDocuments(l,Y).next(se=>({er:se,removedBatchIds:E,addedBatchIds:k}))})})}),Hd.apply(this,arguments)}function Mm(s){const e=Mn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function $h(s,e,t){let l=Yr(),h=Yr();return t.forEach(m=>l=l.add(m)),e.getEntries(s,l).next(m=>{let E=Io();return t.forEach((k,Y)=>{const se=m.get(k);Y.isFoundDocument()!==se.isFoundDocument()&&(h=h.add(k)),Y.isNoDocument()&&Y.version.isEqual(dr.min())?(e.removeEntry(k,Y.readTime),E=E.insert(k,Y)):!se.isValidDocument()||Y.version.compareTo(se.version)>0||0===Y.version.compareTo(se.version)&&se.hasPendingWrites?(e.addEntry(Y),E=E.insert(k,Y)):Qt("LocalStore","Ignoring outdated watch update for ",k,". Current version:",se.version," Watch version:",Y.version)}),{nr:E,sr:h}})}function mE(s,e){const t=Mn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Ko(s,e){const t=Mn(s);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return t.Bs.getTargetData(l,e).next(m=>m?(h=m,Lt.resolve(h)):t.Bs.allocateTargetId(l).next(E=>(h=new sc(e,E,"TargetPurposeListen",l.currentSequenceNumber),t.Bs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=t.Ji.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(l.targetId,l),t.Yi.set(e,l.targetId)),l})}function Xc(s,e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,y.Z)(function*(s,e,t){const l=Mn(s),h=l.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",m,E=>l.persistence.referenceDelegate.removeTarget(E,h)))}catch(E){if(!xa(E))throw E;Qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}l.Ji=l.Ji.remove(e),l.Yi.delete(h.target)}),Vh.apply(this,arguments)}function Jf(s,e,t){const l=Mn(s);let h=dr.min(),m=Yr();return l.persistence.runTransaction("Execute query","readonly",E=>function(k,Y,se){const Se=Mn(k),nt=Se.Yi.get(se);return void 0!==nt?Lt.resolve(Se.Ji.get(nt)):Se.Bs.getTargetData(Y,se)}(l,E,P(e)).next(k=>{if(k)return h=k.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(E,k.targetId).next(Y=>{m=Y})}).next(()=>l.Hi.getDocumentsMatchingQuery(E,e,t?h:dr.min(),t?m:Yr())).next(k=>(Rm(l,cr(e),k),{documents:k,ir:m})))}function vv(s,e){const t=Mn(s),l=Mn(t.Bs),h=t.Ji.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>l.le(m,e).next(E=>E?E.target:null))}function gg(s,e){const t=Mn(s),l=t.Xi.get(e)||dr.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Zi.getAllFromCollectionGroup(h,e,wi(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Rm(t,e,h),h))}function Rm(s,e,t){let l=s.Xi.get(e)||dr.min();t.forEach((h,m)=>{m.readTime.compareTo(l)>0&&(l=m.readTime)}),s.Xi.set(e,l)}function xm(){return xm=(0,y.Z)(function*(s,e,t,l){const h=Mn(s);let m=Yr(),E=Io();for(const se of t){const Se=e.rr(se.metadata.name);se.document&&(m=m.add(Se));const nt=e.ur(se);nt.setReadTime(e.cr(se.metadata.readTime)),E=E.insert(Se,nt)}const k=h.Zi.newChangeBuffer({trackRemovals:!0}),Y=yield Ko(h,(se=l,P(uu(ri.fromString(`__bundle__/docs/${se}`)))));var se;return h.persistence.runTransaction("Apply bundle documents","readwrite",se=>$h(se,k,E).next(Se=>(k.apply(se),Se)).next(Se=>h.Bs.removeMatchingKeysForTargetId(se,Y.targetId).next(()=>h.Bs.addMatchingKeys(se,m,Y.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(se,Se.nr,Se.sr)).next(()=>Se.nr)))}),xm.apply(this,arguments)}function yE(s,e){return mg.apply(this,arguments)}function mg(){return mg=(0,y.Z)(function*(s,e,t=Yr()){const l=yield Ko(s,P(tg(e.bundledQuery))),h=Mn(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const E=Us(e.readTime);if(l.snapshotVersion.compareTo(E)>=0)return h.qs.saveNamedQuery(m,e);const k=l.withResumeToken(Vs.EMPTY_BYTE_STRING,E);return h.Ji=h.Ji.insert(k.targetId,k),h.Bs.updateTargetData(m,k).next(()=>h.Bs.removeMatchingKeysForTargetId(m,l.targetId)).next(()=>h.Bs.addMatchingKeys(m,t,l.targetId)).next(()=>h.qs.saveNamedQuery(m,e))})}),mg.apply(this,arguments)}function yg(s,e){return`firestore_clients_${s}_${e}`}function vg(s,e,t){let l=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function _v(s,e){return`firestore_targets_${s}_${e}`}class Uh{constructor(e,t,l,h){this.user=e,this.batchId=t,this.state=l,this.error=h}static ar(e,t,l){const h=JSON.parse(l);let m,E="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return E&&h.error&&(E="string"==typeof h.error.message&&"string"==typeof h.error.code,E&&(m=new Vt(h.error.code,h.error.message))),E?new Uh(e,t,h.state,m):(Gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zd{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static ar(e,t){const l=JSON.parse(t);let h,m="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new Vt(l.error.code,l.error.message))),m?new zd(e,l.state,h):(Gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const l=JSON.parse(t);let h="object"==typeof l&&l.activeTargetIds instanceof Array,m=yh();for(let E=0;h&&E<l.activeTargetIds.length;++E)h=Ae(l.activeTargetIds[E]),m=m.add(l.activeTargetIds[E]);return h?new Gd(e,m):(Gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Pm{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Pm(t.clientId,t.onlineState):(Gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _g{constructor(){this.activeTargetIds=yh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Om{constructor(e,t,l,h,m){this.window=e,this.ii=t,this.persistenceKey=l,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ri(sr),this.started=!1,this.yr=[];const E=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=yg(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new _g),this.Tr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.Z)(function*(){const t=yield e.syncEngine.$i();for(const h of t){if(h===e.wr)continue;const m=e.getItem(yg(e.persistenceKey,h));if(m){const E=Gd.ar(h,m);E&&(e.gr=e.gr.insert(E.clientId,E))}}e.Pr();const l=e.storage.getItem(e.vr);if(l){const h=e.br(l);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((l,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,l){this.Dr(e,t,l),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(_v(this.persistenceKey,e));if(l){const h=zd.ar(e,l);h&&(t=h.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_v(this.persistenceKey,e))}updateQueryState(e,t,l){this.kr(e,t,l)}handleUserChange(e,t,l){t.forEach(h=>{this.Cr(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qt("SharedClientState","READ",e,t),t}setItem(e,t){Qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const l=e;if(l.storageArea===this.storage){if(Qt("SharedClientState","EVENT",l.key,l.newValue),l.key===this.pr)return void Gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,y.Z)(function*(){if(t.started){if(null!==l.key)if(t.Tr.test(l.key)){if(null==l.newValue){const h=t.Or(l.key);return t.Fr(h,null)}{const h=t.Br(l.key,l.newValue);if(h)return t.Fr(h.clientId,h)}}else if(t.Er.test(l.key)){if(null!==l.newValue){const h=t.Lr(l.key,l.newValue);if(h)return t.qr(h)}}else if(t.Ar.test(l.key)){if(null!==l.newValue){const h=t.Ur(l.key,l.newValue);if(h)return t.Kr(h)}}else if(l.key===t.vr){if(null!==l.newValue){const h=t.br(l.newValue);if(h)return t.Vr(h)}}else if(l.key===t.Ir){const h=function(m){let E=D.ct;if(null!=m)try{const k=JSON.parse(m);Gn("number"==typeof k),E=k}catch(k){Gr("SharedClientState","Failed to read sequence number from WebStorage",k)}return E}(l.newValue);h!==D.ct&&t.sequenceNumberHandler(h)}else if(l.key===t.Rr){const h=t.Gr(l.newValue);yield Promise.all(h.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(l)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,l){const h=new Uh(this.currentUser,e,t,l),m=vg(this.persistenceKey,this.currentUser,e);this.setItem(m,h.hr())}Cr(e){const t=vg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,l){const h=_v(this.persistenceKey,e),m=new zd(e,t,l);this.setItem(h,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const l=this.Or(e);return Gd.ar(l,t)}Lr(e,t){const l=this.Er.exec(e),h=Number(l[1]);return Uh.ar(new yn(void 0!==l[2]?l[2]:null),h,t)}Ur(e,t){const l=this.Ar.exec(e),h=Number(l[1]);return zd.ar(h,t)}br(e){return Pm.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const l=t?this.gr.insert(e,t):this.gr.remove(e),h=this.Sr(this.gr),m=this.Sr(l),E=[],k=[];return m.forEach(Y=>{h.has(Y)||E.push(Y)}),h.forEach(Y=>{m.has(Y)||k.push(Y)}),this.syncEngine.Wr(E,k).then(()=>{this.gr=l})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=yh();return e.forEach((l,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class Nm{constructor(){this.Hr=new _g,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,l){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _g,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vE{Yr(e){}shutdown(){}}class Ev{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jc=null;function wv(){return null===Jc?Jc=268435456+Math.round(2147483648*Math.random()):Jc++,"0x"+Jc.toString(16)}const ep={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const da="WebChannelConnection";class Iv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,l,h,m){const E=wv(),k=this.To(e,t);Qt("RestConnection",`Sending RPC '${e}' ${E}:`,k,l);const Y={};return this.Eo(Y,h,m),this.Ao(e,k,Y,l).then(se=>(Qt("RestConnection",`Received RPC '${e}' ${E}: `,se),se),se=>{throw ws("RestConnection",`RPC '${e}' ${E} failed with error: `,se,"url: ",k,"request:",l),se})}vo(e,t,l,h,m,E){return this.Io(e,t,l,h,m)}Eo(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+zr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),l&&l.headers.forEach((h,m)=>e[m]=h)}To(e,t){return`${this.mo}/v1/${t}:${ep[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,l,h){const m=wv();return new Promise((E,k)=>{const Y=new Ke;Y.setWithCredentials(!0),Y.listenOnce(Al.COMPLETE,()=>{try{switch(Y.getLastErrorCode()){case Lu.NO_ERROR:const Se=Y.getResponseJson();Qt(da,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Se)),E(Se);break;case Lu.TIMEOUT:Qt(da,`RPC '${e}' ${m} timed out`),k(new Vt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const nt=Y.getStatus();if(Qt(da,`RPC '${e}' ${m} failed with status:`,nt,"response text:",Y.getResponseText()),nt>0){let kt=Y.getResponseJson();Array.isArray(kt)&&(kt=kt[0]);const Xt=null==kt?void 0:kt.error;if(Xt&&Xt.status&&Xt.message){const wn=function(jn){const qn=jn.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(qn)>=0?qn:Qe.UNKNOWN}(Xt.status);k(new Vt(wn,Xt.message))}else k(new Vt(Qe.UNKNOWN,"Server responded with status "+Y.getStatus()))}else k(new Vt(Qe.UNAVAILABLE,"Connection failed."));break;default:Ln()}}finally{Qt(da,`RPC '${e}' ${m} completed.`)}});const se=JSON.stringify(h);Qt(da,`RPC '${e}' ${m} sending request:`,h),Y.send(t,"POST",se,l,15)})}Ro(e,t,l){const h=wv(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=Wa(),k=Po(),Y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},se=this.longPollingOptions.timeoutSeconds;void 0!==se&&(Y.longPollingTimeout=Math.round(1e3*se)),this.useFetchStreams&&(Y.xmlHttpFactory=new H({})),this.Eo(Y.initMessageHeaders,t,l),Y.encodeInitMessageHeaders=!0;const Se=m.join("");Qt(da,`Creating RPC '${e}' stream ${h}: ${Se}`,Y);const nt=E.createWebChannel(Se,Y);let kt=!1,Xt=!1;const wn=new tp({ro:qn=>{Xt?Qt(da,`Not sending because RPC '${e}' stream ${h} is closed:`,qn):(kt||(Qt(da,`Opening RPC '${e}' stream ${h} transport.`),nt.open(),kt=!0),Qt(da,`RPC '${e}' stream ${h} sending:`,qn),nt.send(qn))},oo:()=>nt.close()}),jn=(qn,ei,xi)=>{qn.listen(ei,ui=>{try{xi(ui)}catch(ko){setTimeout(()=>{throw ko},0)}})};return jn(nt,ye.EventType.OPEN,()=>{Xt||Qt(da,`RPC '${e}' stream ${h} transport opened.`)}),jn(nt,ye.EventType.CLOSE,()=>{Xt||(Xt=!0,Qt(da,`RPC '${e}' stream ${h} transport closed`),wn.wo())}),jn(nt,ye.EventType.ERROR,qn=>{Xt||(Xt=!0,ws(da,`RPC '${e}' stream ${h} transport errored:`,qn),wn.wo(new Vt(Qe.UNAVAILABLE,"The operation could not be completed")))}),jn(nt,ye.EventType.MESSAGE,qn=>{var ei;if(!Xt){const xi=qn.data[0];Gn(!!xi);const ko=xi.error||(null===(ei=xi[0])||void 0===ei?void 0:ei.error);if(ko){Qt(da,`RPC '${e}' stream ${h} received error:`,ko);const Ao=ko.status;let ks=function(ih){const u_=Co[ih];if(void 0!==u_)return pu(u_)}(Ao),Sa=ko.message;void 0===ks&&(ks=Qe.INTERNAL,Sa="Unknown error status: "+Ao+" with message "+ko.message),Xt=!0,wn.wo(new Vt(ks,Sa)),nt.close()}else Qt(da,`RPC '${e}' stream ${h} received:`,xi),wn._o(xi)}}),jn(k,V.STAT_EVENT,qn=>{qn.stat===re.PROXY?Qt(da,`RPC '${e}' stream ${h} detected buffering proxy`):qn.stat===re.NOPROXY&&Qt(da,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{wn.fo()},0),wn}}function km(){return typeof window<"u"?window:null}function Eg(){return typeof document<"u"?document:null}function np(s){return new ic(s,!0)}class wg{constructor(e,t,l=1e3,h=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=l,this.bo=h,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),h=Math.max(0,t-l);h>0&&Qt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Fm{constructor(e,t,l,h,m,E,k,Y){this.ii=e,this.$o=l,this.Oo=h,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=k,this.listener=Y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,y.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,y.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var l=this;return(0,y.Z)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==e?l.qo.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):t&&t.code===Qe.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Fo===t&&this.Zo(l,h)},l=>{e(()=>{const h=new Vt(Qe.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(h)})})}Zo(e,t){const l=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{l(()=>this.tu(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,y.Z)(function*(){e.state=0,e.start()}))}tu(e){return Qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Du extends Fm{constructor(e,t,l,h,m,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,h,E),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function nv(s,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Ln(),h=e.targetChange.targetIds||[],m=function(Y,se){return Y.useProto3Json?(Gn(void 0===se||"string"==typeof se),Vs.fromBase64String(se||"")):(Gn(void 0===se||se instanceof Uint8Array),Vs.fromUint8Array(se||new Uint8Array))}(s,e.targetChange.resumeToken),E=e.targetChange.cause,k=E&&function(Y){const se=void 0===Y.code?Qe.UNKNOWN:pu(Y.code);return new Vt(se,Y.message||"")}(E);t=new wh(l,h,m,k||null)}else if("documentChange"in e){const l=e.documentChange,h=gu(s,l.document.name),m=Us(l.document.updateTime),E=l.document.createTime?Us(l.document.createTime):dr.min(),k=new $o({mapValue:{fields:l.document.fields}}),Y=ii.newFoundDocument(h,m,E,k);t=new rc(l.targetIds||[],l.removedTargetIds||[],Y.key,Y)}else if("documentDelete"in e){const l=e.documentDelete,h=gu(s,l.document),m=l.readTime?Us(l.readTime):dr.min(),E=ii.newNoDocument(h,m);t=new rc([],l.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const l=e.documentRemove,h=gu(s,l.document);t=new rc([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ln();{const l=e.filter,{count:h=0,unchangedNames:m}=l,E=new O_(h,m);t=new tv(l.targetId,E)}}var Y;return t}(this.serializer,e),l=function(h){if(!("targetChange"in h))return dr.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?dr.min():m.readTime?Us(m.readTime):dr.min()}(e);return this.listener.nu(t,l)}su(e){const t={};t.database=Hc(this.serializer),t.addTarget=function(h,m){let E;const k=m.target;if(E=Qu(k)?{documents:Zp(h,k)}:{query:Od(h,k)},E.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){E.resumeToken=Ff(h,m.resumeToken);const Y=Wp(h,m.expectedCount);null!==Y&&(E.expectedCount=Y)}else if(m.snapshotVersion.compareTo(dr.min())>0){E.readTime=jc(h,m.snapshotVersion.toTimestamp());const Y=Wp(h,m.expectedCount);null!==Y&&(E.expectedCount=Y)}return E}(this.serializer,e);const l=function Qp(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Wo(t)}iu(e){const t={};t.database=Hc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Do extends Fm{constructor(e,t,l,h,m,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,h,E),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function rv(s,e){return s&&s.length>0?(Gn(void 0!==e),s.map(t=>function(l,h){let m=Us(l.updateTime?l.updateTime:h);return m.isEqual(dr.min())&&(m=Us(h)),new x_(m,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=Us(e.commitTime);return this.listener.cu(l,t)}return Gn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>Bf(this.serializer,l))};this.Wo(t)}}class $a extends class{}{constructor(e,t,l,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new Vt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Io(e,t,l,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Vt(Qe.UNKNOWN,h.toString())})}vo(e,t,l,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.vo(e,t,l,m,E,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Vt(Qe.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class jh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gr(t),this.mu=!1):Qt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hh{constructor(e,t,l,h,m){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(k=>{l.enqueueAndForget((0,y.Z)(function*(){var Y;dc(E)&&(Qt("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,y.Z)(function*(se){const Se=Mn(se);Se.vu.add(4),yield cc(Se),Se.bu.set("Unknown"),Se.vu.delete(4),yield zh(Se)}),function(se){return Y.apply(this,arguments)})(E))}))}),this.bu=new jh(l,h)}}function zh(s){return Su.apply(this,arguments)}function Su(){return Su=(0,y.Z)(function*(s){if(dc(s))for(const e of s.Ru)yield e(!0)}),Su.apply(this,arguments)}function cc(s){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,y.Z)(function*(s){for(const e of s.Ru)yield e(!1)}),Cg.apply(this,arguments)}function Gh(s,e){const t=Mn(s);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Bm(t)?Wd(t):ed(t).Ko()&&bg(t,e))}function Wh(s,e){const t=Mn(s),l=ed(t);t.Au.delete(e),l.Ko()&&Lm(t,e),0===t.Au.size&&(l.Ko()?l.jo():dc(t)&&t.bu.set("Unknown"))}function bg(s,e){if(s.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dr.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ed(s).su(e)}function Lm(s,e){s.Vu.qt(e),ed(s).iu(e)}function Wd(s){s.Vu=new Ih({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),le:e=>s.Au.get(e)||null,ue:()=>s.datastore.serializer.databaseId}),ed(s).start(),s.bu.gu()}function Bm(s){return dc(s)&&!ed(s).Uo()&&s.Au.size>0}function dc(s){return 0===Mn(s).vu.size}function $m(s){s.Vu=void 0}function Kh(s){return wl.apply(this,arguments)}function wl(){return wl=(0,y.Z)(function*(s){s.Au.forEach((e,t)=>{bg(s,e)})}),wl.apply(this,arguments)}function H_(s,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,y.Z)(function*(s,e){$m(s),Bm(s)?(s.bu.Iu(e),Wd(s)):s.bu.set("Unknown")}),Dg.apply(this,arguments)}function _E(s,e,t){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,y.Z)(function*(s,e,t){if(s.bu.set("Online"),e instanceof wh&&2===e.state&&e.cause)try{yield(l=(0,y.Z)(function*(h,m){const E=m.cause;for(const k of m.targetIds)h.Au.has(k)&&(yield h.remoteSyncer.rejectListen(k,E),h.Au.delete(k),h.Vu.removeTarget(k))}),function(h,m){return l.apply(this,arguments)})(s,e)}catch(l){Qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield ip(s,l)}else if(e instanceof rc?s.Vu.Ht(e):e instanceof tv?s.Vu.ne(e):s.Vu.Xt(e),!t.isEqual(dr.min()))try{const l=yield Mm(s.localStore);t.compareTo(l)>=0&&(yield function(h,m){const E=h.Vu.ce(m);return E.targetChanges.forEach((k,Y)=>{if(k.resumeToken.approximateByteSize()>0){const se=h.Au.get(Y);se&&h.Au.set(Y,se.withResumeToken(k.resumeToken,m))}}),E.targetMismatches.forEach((k,Y)=>{const se=h.Au.get(k);if(!se)return;h.Au.set(k,se.withResumeToken(Vs.EMPTY_BYTE_STRING,se.snapshotVersion)),Lm(h,k);const Se=new sc(se.target,k,Y,se.sequenceNumber);bg(h,Se)}),h.remoteSyncer.applyRemoteEvent(E)}(s,t))}catch(l){Qt("RemoteStore","Failed to raise snapshot:",l),yield ip(s,l)}var l}),Cv.apply(this,arguments)}function ip(s,e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,y.Z)(function*(s,e,t){if(!xa(e))throw e;s.vu.add(1),yield cc(s),s.bu.set("Offline"),t||(t=()=>Mm(s.localStore)),s.asyncQueue.enqueueRetryable((0,y.Z)(function*(){Qt("RemoteStore","Retrying IndexedDB access"),yield t(),s.vu.delete(1),yield zh(s)}))}),Vm.apply(this,arguments)}function Um(s,e){return e().catch(t=>ip(s,t,e))}function Tu(s){return sp.apply(this,arguments)}function sp(){return sp=(0,y.Z)(function*(s){const e=Mn(s),t=hc(e);let l=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bv(e);)try{const h=yield mE(e.localStore,l);if(null===h){0===e.Eu.length&&t.jo();break}l=h.batchId,Dv(e,h)}catch(h){yield ip(e,h)}Zr(e)&&jm(e)}),sp.apply(this,arguments)}function bv(s){return dc(s)&&s.Eu.length<10}function Dv(s,e){s.Eu.push(e);const t=hc(s);t.Ko()&&t.ou&&t.uu(e.mutations)}function Zr(s){return dc(s)&&!hc(s).Uo()&&s.Eu.length>0}function jm(s){hc(s).start()}function Sv(s){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,y.Z)(function*(s){hc(s).hu()}),Tv.apply(this,arguments)}function z_(s){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,y.Z)(function*(s){const e=hc(s);for(const t of s.Eu)e.uu(t.mutations)}),Sg.apply(this,arguments)}function G_(s,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,y.Z)(function*(s,e,t){const l=s.Eu.shift(),h=ec.from(l,e,t);yield Um(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield Tu(s)}),Tg.apply(this,arguments)}function Av(s,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,y.Z)(function*(s,e){var t;e&&hc(s).ou&&(yield(t=(0,y.Z)(function*(l,h){if(ev(m=h.code)&&m!==Qe.ABORTED){const E=l.Eu.shift();hc(l).Qo(),yield Um(l,()=>l.remoteSyncer.rejectFailedWrite(E.batchId,h)),yield Tu(l)}var m}),function(l,h){return t.apply(this,arguments)})(s,e)),Zr(s)&&jm(s)}),Hm.apply(this,arguments)}function zm(s,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,y.Z)(function*(s,e){const t=Mn(s);t.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const l=dc(t);t.vu.add(3),yield cc(t),l&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zh(t)}),Gm.apply(this,arguments)}function Wm(s,e){return op.apply(this,arguments)}function op(){return op=(0,y.Z)(function*(s,e){const t=Mn(s);e?(t.vu.delete(2),yield zh(t)):e||(t.vu.add(2),yield cc(t),t.bu.set("Unknown"))}),op.apply(this,arguments)}function ed(s){return s.Su||(s.Su=function(e,t,l){const h=Mn(e);return h.fu(),new Du(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:Kh.bind(null,s),ao:H_.bind(null,s),nu:_E.bind(null,s)}),s.Ru.push(function(){var e=(0,y.Z)(function*(t){t?(s.Su.Qo(),Bm(s)?Wd(s):s.bu.set("Unknown")):(yield s.Su.stop(),$m(s))});return function(t){return e.apply(this,arguments)}}())),s.Su}function hc(s){return s.Du||(s.Du=function(e,t,l){const h=Mn(e);return h.fu(),new Do(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:Sv.bind(null,s),ao:Av.bind(null,s),au:z_.bind(null,s),cu:G_.bind(null,s)}),s.Ru.push(function(){var e=(0,y.Z)(function*(t){t?(s.Du.Qo(),yield Tu(s)):(yield s.Du.stop(),s.Eu.length>0&&(Qt("RemoteStore",`Stopping write stream with ${s.Eu.length} pending writes`),s.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Du}class fc{constructor(e,t,l,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=h,this.removalCallback=m,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,l,h,m){const E=Date.now()+l,k=new fc(e,t,E,h,m);return k.start(l),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(s,e){if(Gr("AsyncQueue",`${e}: ${s}`),xa(s))return new Vt(Qe.UNAVAILABLE,`${e}: ${s}`);throw s}class qh{constructor(e){this.comparator=e?(t,l)=>e(t,l)||On.comparator(t.key,l.key):(t,l)=>On.comparator(t.key,l.key),this.keyedMap=cu(),this.sortedSet=new Ri(this.comparator)}static emptySet(e){return new qh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new qh;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class W_{constructor(){this.Cu=new Ri(On.comparator)}track(e){const t=e.doc.key,l=this.Cu.get(t);l?0!==e.type&&3===l.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==l.type?this.Cu=this.Cu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Cu=this.Cu.remove(t):1===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,l)=>{e.push(l)}),e}}class td{constructor(e,t,l,h,m,E,k,Y,se){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=k,this.excludesMetadataChanges=Y,this.hasCachedResults=se}static fromInitialDocuments(e,t,l,h,m){const E=[];return t.forEach(k=>{E.push({type:0,doc:k})}),new td(e,t,qh.emptySet(t),E,l,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ct(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==l[h].type||!t[h].doc.isEqual(l[h].doc))return!1;return!0}}class ap{constructor(){this.Nu=void 0,this.listeners=[]}}class Mv{constructor(){this.queries=new No(e=>Gt(e),Ct),this.onlineState="Unknown",this.ku=new Set}}function Yh(s,e){return Km.apply(this,arguments)}function Km(){return Km=(0,y.Z)(function*(s,e){const t=Mn(s),l=e.query;let h=!1,m=t.queries.get(l);if(m||(h=!0,m=new ap),h)try{m.Nu=yield t.onListen(l)}catch(E){const k=Au(E,`Initialization of query '${Dn(e.query)}' failed`);return void e.onError(k)}t.queries.set(l,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&lp(t)}),Km.apply(this,arguments)}function Ag(s,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,y.Z)(function*(s,e){const t=Mn(s),l=e.query;let h=!1;const m=t.queries.get(l);if(m){const E=m.listeners.indexOf(e);E>=0&&(m.listeners.splice(E,1),h=0===m.listeners.length)}if(h)return t.queries.delete(l),t.onUnlisten(l)}),Mg.apply(this,arguments)}function qm(s,e){const t=Mn(s);let l=!1;for(const h of e){const E=t.queries.get(h.query);if(E){for(const k of E.listeners)k.$u(h)&&(l=!0);E.Nu=h}}l&&lp(t)}function Rv(s,e,t){const l=Mn(s),h=l.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);l.queries.delete(e)}function lp(s){s.ku.forEach(e=>{e.next()})}class Ym{constructor(e,t,l){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new td(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class K_{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Zm{constructor(e){this.serializer=e}rr(e){return gu(this.serializer,e)}ur(e){return e.metadata.exists?mu(this.serializer,e.document,!1):ii.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Us(e)}}class xv{constructor(e,t,l){this.ju=e,this.localStore=t,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Rg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const l=ri.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,l=new Zm(this.serializer);for(const h of e)if(h.metadata.queries){const m=l.rr(h.metadata.name);for(const E of h.metadata.queries){const k=(t.get(E)||Yr()).add(m);t.set(E,k)}}return t}complete(){var e=this;return(0,y.Z)(function*(){const t=yield function j_(s,e,t,l){return xm.apply(this,arguments)}(e.localStore,new Zm(e.serializer),e.documents,e.ju.id),l=e.Wu(e.documents);for(const h of e.queries)yield yE(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Rg(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Pv{constructor(e){this.key=e}}class Ov{constructor(e){this.key=e}}class Zh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Yr(),this.mutatedKeys=Yr(),this.tc=si(e),this.ec=new qh(this.tc)}get nc(){return this.Yu}sc(e,t){const l=t?t.ic:new W_,h=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,E=h,k=!1;const Y="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,se="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Se,nt)=>{const kt=h.get(Se),Xt=$n(this.query,nt)?nt:null,wn=!!kt&&this.mutatedKeys.has(kt.key),jn=!!Xt&&(Xt.hasLocalMutations||this.mutatedKeys.has(Xt.key)&&Xt.hasCommittedMutations);let qn=!1;kt&&Xt?kt.data.isEqual(Xt.data)?wn!==jn&&(l.track({type:3,doc:Xt}),qn=!0):this.rc(kt,Xt)||(l.track({type:2,doc:Xt}),qn=!0,(Y&&this.tc(Xt,Y)>0||se&&this.tc(Xt,se)<0)&&(k=!0)):!kt&&Xt?(l.track({type:0,doc:Xt}),qn=!0):kt&&!Xt&&(l.track({type:1,doc:kt}),qn=!0,(Y||se)&&(k=!0)),qn&&(Xt?(E=E.add(Xt),m=jn?m.add(Se):m.delete(Se)):(E=E.delete(Se),m=m.delete(Se)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Se="F"===this.query.limitType?E.last():E.first();E=E.delete(Se.key),m=m.delete(Se.key),l.track({type:1,doc:Se})}return{ec:E,ic:l,zi:k,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((se,Se)=>function(nt,kt){const Xt=wn=>{switch(wn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ln()}};return Xt(nt)-Xt(kt)}(se.type,Se.type)||this.tc(se.doc,Se.doc)),this.oc(l);const E=t?this.uc():[],k=0===this.Zu.size&&this.current?1:0,Y=k!==this.Xu;return this.Xu=k,0!==m.length||Y?{snapshot:new td(this.query,e.ec,h,m,e.mutatedKeys,0===k,Y,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:E}:{cc:E}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new W_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Yr(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const t=[];return e.forEach(l=>{this.Zu.has(l)||t.push(new Ov(l))}),this.Zu.forEach(l=>{e.has(l)||t.push(new Pv(l))}),t}hc(e){this.Yu=e.ir,this.Zu=Yr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return td.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Qm{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class q_{constructor(e){this.key=e,this.fc=!1}}class Y_{constructor(e,t,l,h,m,E){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.dc={},this.wc=new No(k=>Gt(k),Ct),this._c=new Map,this.mc=new Set,this.gc=new Ri(On.comparator),this.yc=new Map,this.Ic=new ug,this.Tc={},this.Ec=new Map,this.Ac=lc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Z_(s,e){return ba.apply(this,arguments)}function ba(){return ba=(0,y.Z)(function*(s,e){const t=Vv(s);let l,h;const m=t.wc.get(e);if(m)l=m.targetId,t.sharedClientState.addLocalQueryTarget(l),h=m.view.lc();else{const E=yield Ko(t.localStore,P(e)),k=t.sharedClientState.addLocalQueryTarget(E.targetId);l=E.targetId,h=yield up(t,e,l,"current"===k,E.resumeToken),t.isPrimaryClient&&Gh(t.remoteStore,E)}return h}),ba.apply(this,arguments)}function up(s,e,t,l,h){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,y.Z)(function*(s,e,t,l,h){s.Rc=(nt,kt,Xt)=>{return(wn=(0,y.Z)(function*(jn,qn,ei,xi){let ui=qn.view.sc(ei);ui.zi&&(ui=yield Jf(jn.localStore,qn.query,!1).then(({documents:ks})=>qn.view.sc(ks,ui)));const ko=xi&&xi.targetChanges.get(qn.targetId),Ao=qn.view.applyChanges(ui,jn.isPrimaryClient,ko);return Og(jn,qn.targetId,Ao.cc),Ao.snapshot}),function(jn,qn,ei,xi){return wn.apply(this,arguments)})(s,nt,kt,Xt);var wn};const m=yield Jf(s.localStore,e,!0),E=new Zh(e,m.ir),k=E.sc(m.documents),Y=Eh.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==s.onlineState,h),se=E.applyChanges(k,s.isPrimaryClient,Y);Og(s,t,se.cc);const Se=new Qm(e,t,E);return s.wc.set(e,Se),s._c.has(t)?s._c.get(t).push(e):s._c.set(t,[e]),se.snapshot}),Xm.apply(this,arguments)}function EE(s,e){return xg.apply(this,arguments)}function xg(){return xg=(0,y.Z)(function*(s,e){const t=Mn(s),l=t.wc.get(e),h=t._c.get(l.targetId);if(h.length>1)return t._c.set(l.targetId,h.filter(m=>!Ct(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Xc(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),Wh(t.remoteStore,l.targetId),Qh(t,l.targetId)}).catch(Go))):(Qh(t,l.targetId),yield Xc(t.localStore,l.targetId,!0))}),xg.apply(this,arguments)}function Jm(){return Jm=(0,y.Z)(function*(s,e,t){const l=Lg(s);try{const h=yield function(m,E){const k=Mn(m),Y=Ei.now(),se=E.reduce((kt,Xt)=>kt.add(Xt.key),Yr());let Se,nt;return k.persistence.runTransaction("Locally write mutations","readwrite",kt=>{let Xt=Io(),wn=Yr();return k.Zi.getEntries(kt,se).next(jn=>{Xt=jn,Xt.forEach((qn,ei)=>{ei.isValidDocument()||(wn=wn.add(qn))})}).next(()=>k.localDocuments.getOverlayedDocuments(kt,Xt)).next(jn=>{Se=jn;const qn=[];for(const ei of E){const xi=xd(ei,Se.get(ei.key).overlayedDocument);null!=xi&&qn.push(new jl(ei.key,xi,ho(xi.value.mapValue),xs.exists(!0)))}return k.mutationQueue.addMutationBatch(kt,Y,qn,E)}).next(jn=>{nt=jn;const qn=jn.applyToLocalDocumentSet(Se,wn);return k.documentOverlayCache.saveOverlays(kt,jn.batchId,qn)})}).then(()=>({batchId:nt.batchId,changes:mh(Se)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(m,E,k){let Y=m.Tc[m.currentUser.toKey()];Y||(Y=new Ri(sr)),Y=Y.insert(E,k),m.Tc[m.currentUser.toKey()]=Y}(l,h.batchId,t),yield ha(l,h.changes),yield Tu(l.remoteStore)}catch(h){const m=Au(h,"Failed to persist write");t.reject(m)}}),Jm.apply(this,arguments)}function Nv(s,e){return kv.apply(this,arguments)}function kv(){return kv=(0,y.Z)(function*(s,e){const t=Mn(s);try{const l=yield function pg(s,e){const t=Mn(s),l=e.snapshotVersion;let h=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=t.Zi.newChangeBuffer({trackRemovals:!0});h=t.Ji;const k=[];e.targetChanges.forEach((Se,nt)=>{const kt=h.get(nt);if(!kt)return;k.push(t.Bs.removeMatchingKeys(m,Se.removedDocuments,nt).next(()=>t.Bs.addMatchingKeys(m,Se.addedDocuments,nt)));let Xt=kt.withSequenceNumber(m.currentSequenceNumber);var wn,jn,qn;null!==e.targetMismatches.get(nt)?Xt=Xt.withResumeToken(Vs.EMPTY_BYTE_STRING,dr.min()).withLastLimboFreeSnapshotVersion(dr.min()):Se.resumeToken.approximateByteSize()>0&&(Xt=Xt.withResumeToken(Se.resumeToken,l)),h=h.insert(nt,Xt),jn=Xt,qn=Se,(0===(wn=kt).resumeToken.approximateByteSize()||jn.snapshotVersion.toMicroseconds()-wn.snapshotVersion.toMicroseconds()>=3e8||qn.addedDocuments.size+qn.modifiedDocuments.size+qn.removedDocuments.size>0)&&k.push(t.Bs.updateTargetData(m,Xt))});let Y=Io(),se=Yr();if(e.documentUpdates.forEach(Se=>{e.resolvedLimboDocuments.has(Se)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(m,Se))}),k.push($h(m,E,e.documentUpdates).next(Se=>{Y=Se.nr,se=Se.sr})),!l.isEqual(dr.min())){const Se=t.Bs.getLastRemoteSnapshotVersion(m).next(nt=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,l));k.push(Se)}return Lt.waitFor(k).next(()=>E.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,Y,se)).next(()=>Y)}).then(m=>(t.Ji=h,m))}(t.localStore,e);e.targetChanges.forEach((h,m)=>{const E=t.yc.get(m);E&&(Gn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?E.fc=!0:h.modifiedDocuments.size>0?Gn(E.fc):h.removedDocuments.size>0&&(Gn(E.fc),E.fc=!1))}),yield ha(t,l,e)}catch(l){yield Go(l)}}),kv.apply(this,arguments)}function Fv(s,e,t){const l=Mn(s);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const h=[];l.wc.forEach((m,E)=>{const k=E.view.Mu(e);k.snapshot&&h.push(k.snapshot)}),function(m,E){const k=Mn(m);k.onlineState=E;let Y=!1;k.queries.forEach((se,Se)=>{for(const nt of Se.listeners)nt.Mu(E)&&(Y=!0)}),Y&&lp(k)}(l.eventManager,e),h.length&&l.dc.nu(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Q_(s,e,t){return Lv.apply(this,arguments)}function Lv(){return Lv=(0,y.Z)(function*(s,e,t){const l=Mn(s);l.sharedClientState.updateQueryState(e,"rejected",t);const h=l.yc.get(e),m=h&&h.key;if(m){let E=new Ri(On.comparator);E=E.insert(m,ii.newNoDocument(m,dr.min()));const k=Yr().add(m),Y=new nc(dr.min(),new Map,new Ri(sr),E,k);yield Nv(l,Y),l.gc=l.gc.remove(m),l.yc.delete(e),Ng(l)}else yield Xc(l.localStore,e,!1).then(()=>Qh(l,e,t)).catch(Go)}),Lv.apply(this,arguments)}function ey(s,e){return ty.apply(this,arguments)}function ty(){return ty=(0,y.Z)(function*(s,e){const t=Mn(s),l=e.batch.batchId;try{const h=yield function Xf(s,e){const t=Mn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(E,k,Y,se){const Se=Y.batch,nt=Se.keys();let kt=Lt.resolve();return nt.forEach(Xt=>{kt=kt.next(()=>se.getEntry(k,Xt)).next(wn=>{const jn=Y.docVersions.get(Xt);Gn(null!==jn),wn.version.compareTo(jn)<0&&(Se.applyToRemoteDocument(wn,Y),wn.isValidDocument()&&(wn.setReadTime(Y.commitVersion),se.addEntry(wn)))})}),kt.next(()=>E.mutationQueue.removeMutationBatch(k,Se))}(t,l,e,m).next(()=>m.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(E){let k=Yr();for(let Y=0;Y<E.mutationResults.length;++Y)E.mutationResults[Y].transformResults.length>0&&(k=k.add(E.batch.mutations[Y].key));return k}(e))).next(()=>t.localDocuments.getDocuments(l,h))})}(t.localStore,e);cp(t,l,null),Il(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield ha(t,h)}catch(h){yield Go(h)}}),ty.apply(this,arguments)}function X_(s,e,t){return ny.apply(this,arguments)}function ny(){return ny=(0,y.Z)(function*(s,e,t){const l=Mn(s);try{const h=yield function(m,E){const k=Mn(m);return k.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let se;return k.mutationQueue.lookupMutationBatch(Y,E).next(Se=>(Gn(null!==Se),se=Se.keys(),k.mutationQueue.removeMutationBatch(Y,Se))).next(()=>k.mutationQueue.performConsistencyCheck(Y)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(Y,se,E)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,se)).next(()=>k.localDocuments.getDocuments(Y,se))})}(l.localStore,e);cp(l,e,t),Il(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield ha(l,h)}catch(h){yield Go(h)}}),ny.apply(this,arguments)}function ry(){return ry=(0,y.Z)(function*(s,e){const t=Mn(s);dc(t.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(m){const E=Mn(m);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>E.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===l)return void e.resolve();const h=t.Ec.get(l)||[];h.push(e),t.Ec.set(l,h)}catch(l){const h=Au(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),ry.apply(this,arguments)}function Il(s,e){(s.Ec.get(e)||[]).forEach(t=>{t.resolve()}),s.Ec.delete(e)}function cp(s,e,t){const l=Mn(s);let h=l.Tc[l.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),l.Tc[l.currentUser.toKey()]=h}}function Qh(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s._c.get(e))s.wc.delete(l),t&&s.dc.Pc(l,t);s._c.delete(e),s.isPrimaryClient&&s.Ic.Is(e).forEach(l=>{s.Ic.containsKey(l)||iy(s,l)})}function iy(s,e){s.mc.delete(e.path.canonicalString());const t=s.gc.get(e);null!==t&&(Wh(s.remoteStore,t),s.gc=s.gc.remove(e),s.yc.delete(t),Ng(s))}function Og(s,e,t){for(const l of t)l instanceof Pv?(s.Ic.addReference(l.key,e),dp(s,l)):l instanceof Ov?(Qt("SyncEngine","Document no longer in limbo: "+l.key),s.Ic.removeReference(l.key,e),s.Ic.containsKey(l.key)||iy(s,l.key)):Ln()}function dp(s,e){const t=e.key,l=t.path.canonicalString();s.gc.get(t)||s.mc.has(l)||(Qt("SyncEngine","New document in limbo: "+t),s.mc.add(l),Ng(s))}function Ng(s){for(;s.mc.size>0&&s.gc.size<s.maxConcurrentLimboResolutions;){const e=s.mc.values().next().value;s.mc.delete(e);const t=new On(ri.fromString(e)),l=s.Ac.next();s.yc.set(l,new q_(t)),s.gc=s.gc.insert(t,l),Gh(s.remoteStore,new sc(P(uu(t.path)),l,"TargetPurposeLimboResolution",D.ct))}}function ha(s,e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,y.Z)(function*(s,e,t){const l=Mn(s),h=[],m=[],E=[];var k;l.wc.isEmpty()||(l.wc.forEach((k,Y)=>{E.push(l.Rc(Y,e,t).then(se=>{if((se||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(Y.targetId,null!=se&&se.fromCache?"not-current":"current"),se){h.push(se);const Se=Zf.Li(Y.targetId,se);m.push(Se)}}))}),yield Promise.all(E),l.dc.nu(h),yield(k=(0,y.Z)(function*(Y,se){const Se=Mn(Y);try{yield Se.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>Lt.forEach(se,kt=>Lt.forEach(kt.Fi,Xt=>Se.persistence.referenceDelegate.addReference(nt,kt.targetId,Xt)).next(()=>Lt.forEach(kt.Bi,Xt=>Se.persistence.referenceDelegate.removeReference(nt,kt.targetId,Xt)))))}catch(nt){if(!xa(nt))throw nt;Qt("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of se){const kt=nt.targetId;if(!nt.fromCache){const Xt=Se.Ji.get(kt),jn=Xt.withLastLimboFreeSnapshotVersion(Xt.snapshotVersion);Se.Ji=Se.Ji.insert(kt,jn)}}}),function(Y,se){return k.apply(this,arguments)})(l.localStore,m))}),Xh.apply(this,arguments)}function wE(s,e){return kg.apply(this,arguments)}function kg(){return kg=(0,y.Z)(function*(s,e){const t=Mn(s);if(!t.currentUser.isEqual(e)){Qt("SyncEngine","User change. New user:",e.toKey());const l=yield jd(t.localStore,e);t.currentUser=e,(h=t).Ec.forEach(E=>{E.forEach(k=>{k.reject(new Vt(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield ha(t,l.er)}var h}),kg.apply(this,arguments)}function Bv(s,e){const t=Mn(s),l=t.yc.get(e);if(l&&l.fc)return Yr().add(l.key);{let h=Yr();const m=t._c.get(e);if(!m)return h;for(const E of m){const k=t.wc.get(E);h=h.unionWith(k.view.nc)}return h}}function sy(s,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,y.Z)(function*(s,e){const t=Mn(s),l=yield Jf(t.localStore,e.query,!0),h=e.view.hc(l);return t.isPrimaryClient&&Og(t,e.targetId,h.cc),h}),Kd.apply(this,arguments)}function oy(s,e){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,y.Z)(function*(s,e){const t=Mn(s);return gg(t.localStore,e).then(l=>ha(t,l))}),Cl.apply(this,arguments)}function $v(s,e,t,l){return ay.apply(this,arguments)}function ay(){return ay=(0,y.Z)(function*(s,e,t,l){const h=Mn(s),m=yield function(E,k){const Y=Mn(E),se=Mn(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Se=>se.Sn(Se,k).next(nt=>nt?Y.localDocuments.getDocuments(Se,nt):Lt.resolve(null)))}(h.localStore,e);var k;null!==m?("pending"===t?yield Tu(h.remoteStore):"acknowledged"===t||"rejected"===t?(cp(h,e,l||null),Il(h,e),k=e,Mn(Mn(h.localStore).mutationQueue).Cn(k)):Ln(),yield ha(h,m)):Qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),ay.apply(this,arguments)}function uy(){return uy=(0,y.Z)(function*(s,e){const t=Mn(s);if(Vv(t),Lg(t),!0===e&&!0!==t.vc){const l=t.sharedClientState.getAllActiveQueryTargets(),h=yield qs(t,l.toArray());t.vc=!0,yield Wm(t.remoteStore,!0);for(const m of h)Gh(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const l=[];let h=Promise.resolve();t._c.forEach((m,E)=>{t.sharedClientState.isLocalQueryTarget(E)?l.push(E):h=h.then(()=>(Qh(t,E),Xc(t.localStore,E,!0))),Wh(t.remoteStore,E)}),yield h,yield qs(t,l),function(m){const E=Mn(m);E.yc.forEach((k,Y)=>{Wh(E.remoteStore,Y)}),E.Ic.Ts(),E.yc=new Map,E.gc=new Ri(On.comparator)}(t),t.vc=!1,yield Wm(t.remoteStore,!1)}}),uy.apply(this,arguments)}function qs(s,e,t){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,y.Z)(function*(s,e,t){const l=Mn(s),h=[],m=[];for(const E of e){let k;const Y=l._c.get(E);if(Y&&0!==Y.length){k=yield Ko(l.localStore,P(Y[0]));for(const se of Y){const Se=l.wc.get(se),nt=yield sy(l,Se);nt.snapshot&&m.push(nt.snapshot)}}else{const se=yield vv(l.localStore,E);k=yield Ko(l.localStore,se),yield up(l,cy(se),E,!1,k.resumeToken)}h.push(k)}return l.dc.nu(m),h}),Pr.apply(this,arguments)}function cy(s){return Sd(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Fg(s){const e=Mn(s);return Mn(Mn(e.localStore).persistence).$i()}function e0(s,e,t,l){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,y.Z)(function*(s,e,t,l){const h=Mn(s);if(h.vc)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const m=h._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const E=yield gg(h.localStore,cr(m[0])),k=nc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vs.EMPTY_BYTE_STRING);yield ha(h,E,k);break}case"rejected":yield Xc(h.localStore,e,!0),Qh(h,e,l);break;default:Ln()}}),Jh.apply(this,arguments)}function hp(s,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,y.Z)(function*(s,e,t){const l=Vv(s);if(l.vc){for(const h of e){if(l._c.has(h)){Qt("SyncEngine","Adding an already active target "+h);continue}const m=yield vv(l.localStore,h),E=yield Ko(l.localStore,m);yield up(l,cy(m),E.targetId,!1,E.resumeToken),Gh(l.remoteStore,E)}for(const h of t)l._c.has(h)&&(yield Xc(l.localStore,h,!1).then(()=>{Wh(l.remoteStore,h),Qh(l,h)}).catch(Go))}}),ef.apply(this,arguments)}function Vv(s){const e=Mn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q_.bind(null,e),e.dc.nu=qm.bind(null,e.eventManager),e.dc.Pc=Rv.bind(null,e.eventManager),e}function Lg(s){const e=Mn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ey.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X_.bind(null,e),e}class pp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,y.Z)(function*(){t.serializer=np(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Qf(this.persistence,new Bh,e.initialUser,this.serializer)}createPersistence(e){return new Am(cg.zs,this.serializer)}createSharedClientState(e){return new Nm}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dy extends pp{constructor(e,t,l){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,y.Z)(function*(){yield t().call(l,e),yield l.Vc.initialize(l,e),yield Lg(l.Vc.syncEngine),yield Tu(l.Vc.remoteStore),yield l.persistence.Ii(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Qf(this.persistence,new Bh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Fh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const l=new O(t,this.persistence);return new M(e.asyncQueue,l)}createPersistence(e){const t=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new yv(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,km(),Eg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Nm}}class gp extends dy{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,y.Z)(function*(){yield t().call(l,e);const h=l.Vc.syncEngine;l.sharedClientState instanceof Om&&(l.sharedClientState.syncEngine={jr:$v.bind(null,h),zr:e0.bind(null,h),Wr:hp.bind(null,h),$i:Fg.bind(null,h),Qr:oy.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.Ii(function(){var m=(0,y.Z)(function*(E){yield function ly(s,e){return uy.apply(this,arguments)}(l.Vc.syncEngine,E),l.gcScheduler&&(E&&!l.gcScheduler.started?l.gcScheduler.start():E||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(E&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():E||l.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=km();if(!Om.D(t))throw new Vt(Qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Om(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class tf{initialize(e,t){var l=this;return(0,y.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>Fv(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=wE.bind(null,l.syncEngine),yield Wm(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Mv}createDatastore(e){const t=np(e.databaseInfo.databaseId),l=new Iv(e.databaseInfo);return new $a(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,h=e.asyncQueue,m=k=>Fv(this.syncEngine,k,0),E=Ev.D()?new Ev:new vE,new Hh(t,l,h,m,E);var t,l,h,m,E}createSyncEngine(e,t){return function(l,h,m,E,k,Y,se){const Se=new Y_(l,h,m,E,k,Y);return se&&(Se.vc=!0),Se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,y.Z)(function*(t){const l=Mn(t);Qt("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield cc(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nf(s,e=10240){let t=0;return{read:()=>(0,y.Z)(function*(){if(t<s.byteLength){const l={value:s.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,y.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class qd{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ks,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(l=>{l&&l.Qu()?this.metadata.resolve(l.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.Gu)}`))},l=>this.metadata.reject(l))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,y.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,y.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,y.Z)(function*(){const t=yield e.kc();if(null===t)return null;const l=e.xc.decode(t),h=Number(l);isNaN(h)&&e.Mc(`length string (${l}) is not valid number`);const m=yield e.$c(h);return new K_(JSON.parse(m),t.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,y.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}$c(e){var t=this;return(0,y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const l=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,y.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class hy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Vt(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,y.Z)(function*(m,E){const k=Mn(m),Y=Hc(k.serializer)+"/documents",se={documents:E.map(Xt=>bh(k.serializer,Xt))},Se=yield k.vo("BatchGetDocuments",Y,se,E.length),nt=new Map;Se.forEach(Xt=>{const wn=function Gc(s,e){return"found"in e?function(t,l){Gn(!!l.found);const h=gu(t,l.found.name),m=Us(l.found.updateTime),E=l.found.createTime?Us(l.found.createTime):dr.min(),k=new $o({mapValue:{fields:l.found.fields}});return ii.newFoundDocument(h,m,E,k)}(s,e):"missing"in e?function(t,l){Gn(!!l.missing),Gn(!!l.readTime);const h=gu(t,l.missing),m=Us(l.readTime);return ii.newNoDocument(h,m)}(s,e):Ln()}(k.serializer,Xt);nt.set(wn.key.toString(),wn)});const kt=[];return E.forEach(Xt=>{const wn=nt.get(Xt.toString());Gn(!!wn),kt.push(wn)}),kt}),function(m,E){return h.apply(this,arguments)})(t.datastore,e);var h;return l.forEach(h=>t.recordVersion(h)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new fu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,h)=>{const m=On.fromPath(h);e.mutations.push(new Hl(m,e.precondition(m)))}),yield(l=(0,y.Z)(function*(h,m){const E=Mn(h),k=Hc(E.serializer)+"/documents",Y={writes:m.map(se=>Bf(E.serializer,se))};yield E.Io("Commit",k,Y)}),function(h,m){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ln();t=dr.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new Vt(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dr.min())?xs.exists(!1):xs.updateTime(t):xs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dr.min()))throw new Vt(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xs.updateTime(t)}return xs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Uv{constructor(e,t,l,h,m){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=h,this.deferred=m,this.Bc=l.maxAttempts,this.qo=new wg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,y.Z)(function*(){const t=new hy(e.datastore),l=e.qc(t);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Uc(m)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const t=this.updateFunction(e);return!F(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ev(t)}return!1}}class mp{constructor(e,t,l,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=h,this.user=yn.UNAUTHENTICATED,this.clientId=ai.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var E=(0,y.Z)(function*(k){Qt("FirestoreClient","Received user=",k.uid),yield m.authCredentialListener(k),m.user=k});return function(k){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(l,E=>(Qt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const h=Au(l,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function bl(s,e){return qo.apply(this,arguments)}function qo(){return qo=(0,y.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let l=t.initialUser;s.setCredentialChangeListener(function(){var h=(0,y.Z)(function*(m){l.isEqual(m)||(yield jd(e.localStore,m),l=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),qo.apply(this,arguments)}function jv(s,e){return fy.apply(this,arguments)}function fy(){return fy=(0,y.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield py(s);Qt("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(t,l),s.setCredentialChangeListener(h=>zm(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>zm(e.remoteStore,m)),s._onlineComponents=e}),fy.apply(this,arguments)}function Hv(s){return"FirebaseError"===s.name?s.code===Qe.FAILED_PRECONDITION||s.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function py(s){return gy.apply(this,arguments)}function gy(){return gy=(0,y.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Qt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bl(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Hv(t))throw t;ws("Error using user provided cache. Falling back to memory cache: "+t),yield bl(s,new pp)}}else Qt("FirestoreClient","Using default OfflineComponentProvider"),yield bl(s,new pp);return s._offlineComponents}),gy.apply(this,arguments)}function $g(s){return rf.apply(this,arguments)}function rf(){return rf=(0,y.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Qt("FirestoreClient","Using user provided OnlineComponentProvider"),yield jv(s,s._uninitializedComponentsProvider._online)):(Qt("FirestoreClient","Using default OnlineComponentProvider"),yield jv(s,new tf))),s._onlineComponents}),rf.apply(this,arguments)}function my(s){return py(s).then(e=>e.persistence)}function Yd(s){return py(s).then(e=>e.localStore)}function sf(s){return $g(s).then(e=>e.remoteStore)}function Wl(s){return $g(s).then(e=>e.syncEngine)}function Vo(s){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,y.Z)(function*(s){const e=yield $g(s),t=e.eventManager;return t.onListen=Z_.bind(null,e.syncEngine),t.onUnlisten=EE.bind(null,e.syncEngine),t}),Vg.apply(this,arguments)}function zv(s,e,t={}){const l=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,m,E,k,Y){const se=new Bg({next:nt=>{m.enqueueAndForget(()=>Ag(h,Se));const kt=nt.docs.has(E);!kt&&nt.fromCache?Y.reject(new Vt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):kt&&nt.fromCache&&k&&"server"===k.source?Y.reject(new Vt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(nt)},error:nt=>Y.reject(nt)}),Se=new Ym(uu(E.path),se,{includeMetadataChanges:!0,Ku:!0});return Yh(h,Se)}(yield Vo(s),s.asyncQueue,e,t,l)})),l.promise}function yy(s,e,t={}){const l=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,m,E,k,Y){const se=new Bg({next:nt=>{m.enqueueAndForget(()=>Ag(h,Se)),nt.fromCache&&"server"===k.source?Y.reject(new Vt(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(nt)},error:nt=>Y.reject(nt)}),Se=new Ym(E,se,{includeMetadataChanges:!0,Ku:!0});return Yh(h,Se)}(yield Vo(s),s.asyncQueue,e,t,l)})),l.promise}function a0(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const ra=new Map;function vp(s,e,t){if(!t)throw new Vt(Qe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function jg(s,e,t,l){if(!0===e&&!0===l)throw new Vt(Qe.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function _p(s){if(!On.isDocumentKey(s))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Kv(s){if(On.isDocumentKey(s))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Va(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":Ln()}function oi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Vt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Va(s);throw new Vt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function ia(s,e){if(e<=0)throw new Vt(Qe.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class nd{constructor(e){var t,l;if(void 0===e.host){if(void 0!==e.ssl)throw new Vt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=a0(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Vt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Vt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Vt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,l,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Is;switch(t.type){case"firstParty":return new Rl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Vt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ra.get(e);t&&(Qt("ComponentProvider","Removing Datastore"),ra.delete(e),t.terminate())}(this),Promise.resolve()}}function po(s,e,t,l={}){var h;const m=(s=oi(s,rd))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&ws("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),l.mockUserToken){let E,k;if("string"==typeof l.mockUserToken)E=l.mockUserToken,k=yn.MOCK_USER;else{E=(0,be.Sg)(l.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const Y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!Y)throw new Vt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new yn(Y)}s._authCredentials=new fd(new ru(E,k))}}class Os{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Os(this.firestore,e,this._key)}}class go{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Da extends go{constructor(e,t,l){super(e,t,uu(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Os(this.firestore,null,new On(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Zd(s,e,...t){if(s=(0,be.m9)(s),vp("collection","path",e),s instanceof rd){const l=ri.fromString(e,...t);return Kv(l),new Da(s,null,l)}{if(!(s instanceof Os||s instanceof Da))throw new Vt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ri.fromString(e,...t));return Kv(l),new Da(s.firestore,null,l)}}function af(s,e){if(s=oi(s,rd),vp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vt(Qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(s,null,(t=e,new Vl(ri.emptyPath(),t)));var t}function So(s,e,...t){if(s=(0,be.m9)(s),1===arguments.length&&(e=ai.A()),vp("doc","path",e),s instanceof rd){const l=ri.fromString(e,...t);return _p(l),new Os(s,null,new On(l))}{if(!(s instanceof Os||s instanceof Da))throw new Vt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ri.fromString(e,...t));return _p(l),new Os(s.firestore,s instanceof Da?s.converter:null,new On(l))}}function pc(s,e){return s=(0,be.m9)(s),e=(0,be.m9)(e),(s instanceof Os||s instanceof Da)&&(e instanceof Os||e instanceof Da)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function id(s,e){return s=(0,be.m9)(s),e=(0,be.m9)(e),s instanceof go&&e instanceof go&&s.firestore===e.firestore&&Ct(s._query,e._query)&&s.converter===e.converter}class Mu{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wg(this,"async_queue_retry"),this.Xc=()=>{const t=Eg();t&&Qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Eg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Eg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ks;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,y.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!xa(t))throw t;Qt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(l=>{throw this.Wc=l,this.Hc=!1,Gr("INTERNAL UNHANDLED ERROR: ",function(m){let E=m.message||"";return m.stack&&(E=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),E}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=t,t}enqueueAfterDelay(e,t,l){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const h=fc.createAndSchedule(this,e,t,l,m=>this.na(m));return this.zc.push(h),h}Zc(){this.Wc&&Ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,y.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function sd(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(s)}class qv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ks,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const vy=-1;class Ns extends rd{constructor(e,t,l,h){super(e,t,l,h),this.type="firestore",this._queue=new Mu,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wy(this),this._firestoreClient.terminate()}}function Ey(s,e){const t="object"==typeof s?s:(0,g.getApp)(),l="string"==typeof s?s:e||"(default)",h=(0,g._getProvider)(t,"firestore").getImmediate({identifier:l});if(!h._initialized){const m=(0,be.P0)("firestore");m&&po(h,...m)}return h}function io(s){return s._firestoreClient||wy(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function wy(s){var e,t,l;const h=s._freezeSettings(),m=(k=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Nl(s._databaseId,k,s._persistenceKey,(se=h).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,a0(se.experimentalLongPollingOptions),se.useFetchStreams));var k,se;s._firestoreClient=new mp(s._authCredentials,s._appCheckCredentials,s._queue,m),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(l=h.cache)&&void 0!==l&&l._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function Yv(s,e){Zv(s=oi(s,Ns));const t=io(s);if(t._uninitializedComponentsProvider)throw new Vt(Qe.FAILED_PRECONDITION,"SDK cache is already specified.");ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=s._freezeSettings(),h=new tf;return il(t,h,new dy(h,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Kl(s){Zv(s=oi(s,Ns));const e=io(s);if(e._uninitializedComponentsProvider)throw new Vt(Qe.FAILED_PRECONDITION,"SDK cache is already specified.");ws("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings(),l=new tf;return il(e,l,new gp(l,t.cacheSizeBytes))}function il(s,e,t){const l=new Ks;return s.asyncQueue.enqueue((0,y.Z)(function*(){try{yield bl(s,t),yield jv(s,e),l.resolve()}catch(h){const m=h;if(!Hv(m))throw m;ws("Error enabling indexeddb cache. Falling back to memory cache: "+m),l.reject(m)}})).then(()=>l.promise)}function Hg(s){if(s._initialized&&!s._terminated)throw new Vt(Qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ks;return s._queue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{yield(t=(0,y.Z)(function*(l){if(!Sr.D())return Promise.resolve();const h=l+"main";yield Sr.delete(h)}),function(l){return t.apply(this,arguments)})(Yf(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function CE(s){return function(e){const t=new Ks;return e.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function J_(s,e){return ry.apply(this,arguments)}(yield Wl(e),t)})),t.promise}(io(s=oi(s,Ns)))}function bE(s){return function n0(s){return s.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield my(s),t=yield sf(s);return e.setNetworkEnabled(!0),function(l){const h=Mn(l);return h.vu.delete(0),zh(h)}(t)}))}(io(s=oi(s,Ns)))}function lf(s){return function Ug(s){return s.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield my(s),t=yield sf(s);return e.setNetworkEnabled(!1),(l=(0,y.Z)(function*(h){const m=Mn(h);m.vu.add(0),yield cc(m),m.bu.set("Offline")}),function(h){return l.apply(this,arguments)})(t);var l}))}(io(s=oi(s,Ns)))}function l0(s,e){const t=io(s=oi(s,Ns)),l=new qv;return function o0(s,e,t,l){const h=function(m,E){let k;return k="string"==typeof m?jp().encode(m):m,Y=function(Y,se){if(Y instanceof Uint8Array)return nf(Y,void 0);if(Y instanceof ArrayBuffer)return nf(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new qd(Y,E);var Y}(t,np(e));s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){!function fp(s,e,t){const l=Mn(s);var h;(h=(0,y.Z)(function*(m,E,k){try{const Y=yield E.getMetadata();if(yield function(kt,Xt){const wn=Mn(kt),jn=Us(Xt.createTime);return wn.persistence.runTransaction("hasNewerBundle","readonly",qn=>wn.qs.getBundleMetadata(qn,Xt.id)).then(qn=>!!qn&&qn.createTime.compareTo(jn)>=0)}(m.localStore,Y))return yield E.close(),k._completeWith({taskState:"Success",documentsLoaded:(kt=Y).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);k._updateProgress(Rg(Y));const se=new xv(Y,m.localStore,E.serializer);let Se=yield E.bc();for(;Se;){const kt=yield se.zu(Se);kt&&k._updateProgress(kt),Se=yield E.bc()}const nt=yield se.complete();return yield ha(m,nt.Ju,void 0),yield function(kt,Xt){const wn=Mn(kt);return wn.persistence.runTransaction("Save bundle","readwrite",jn=>wn.qs.saveBundleMetadata(jn,Xt))}(m.localStore,Y),k._completeWith(nt.progress),Promise.resolve(nt.Hu)}catch(Y){return ws("SyncEngine",`Loading bundle failed with ${Y}`),k._failWith(Y),Promise.resolve(new Set)}var kt}),function(m,E,k){return h.apply(this,arguments)})(l,e,t).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield Wl(s),h,l)}))}(t,s._databaseId,e,l),l}function u0(s,e){return function IE(s,e){return s.asyncQueue.enqueue((0,y.Z)(function*(){return function(t,l){const h=Mn(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.qs.getNamedQuery(m,l))}(yield Yd(s),e)}))}(io(s=oi(s,Ns)),e).then(t=>t?new go(s,null,t.query):null)}function Zv(s){if(s._initialized||s._terminated)throw new Vt(Qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new od(Vs.fromBase64String(e))}catch(t){throw new Vt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new od(Vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Vt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xu{constructor(e){this._methodName=e}}class Pu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sr(this._lat,e._lat)||sr(this._long,e._long)}}const Gg=/^__.*__$/;class Ip{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new _h(e,this.data,t,this.fieldTransforms)}}class Iy{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cy(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ln()}}class ad{constructor(e,t,l,h,m,E){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.fa(e),h}da(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Yg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Cy(this.ca)&&Gg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class d0{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||np(e)}ya(e,t,l,h=!1){return new ad({ca:e,methodName:t,ga:l,path:zi.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function To(s){const e=s._freezeSettings(),t=np(s._databaseId);return new d0(s._databaseId,!!e.ignoreUndefinedProperties,t)}function uf(s,e,t,l,h,m={}){const E=s.ya(m.merge||m.mergeFields?2:0,e,t,h);Kg("Data must be an object, but it was:",E,l);const k=Dy(l,E);let Y,se;if(m.merge)Y=new co(E.fieldMask),se=E.fieldTransforms;else if(m.mergeFields){const Se=[];for(const nt of m.mergeFields){const kt=cf(e,nt,t);if(!E.contains(kt))throw new Vt(Qe.INVALID_ARGUMENT,`Field '${kt}' is specified in your field mask but missing from your input data.`);Xv(Se,kt)||Se.push(kt)}Y=new co(Se),se=E.fieldTransforms.filter(nt=>Y.covers(nt.field))}else Y=null,se=E.fieldTransforms;return new Ip(new $o(k),Y,se)}class Cp extends xu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}function gc(s,e,t){return new ad({ca:3,ga:e.settings.ga,methodName:s._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qd extends xu{_toFieldTransform(e){return new vh(e.path,new Ad)}isEqual(e){return e instanceof Qd}}class Wg extends xu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gc(this,e,!0),l=this.pa.map(m=>ld(m,t)),h=new Ju(l);return new vh(e.path,h)}isEqual(e){return this===e}}class DE extends xu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=gc(this,e,!0),l=this.pa.map(m=>ld(m,t)),h=new Ul(l);return new vh(e.path,h)}isEqual(e){return this===e}}class ql extends xu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Md(e.serializer,Bp(e.serializer,this.Ia));return new vh(e.path,t)}isEqual(e){return this===e}}function by(s,e,t,l){const h=s.ya(1,e,t);Kg("Data must be an object, but it was:",h,l);const m=[],E=$o.empty();Pa(l,(Y,se)=>{const Se=qg(e,Y,t);se=(0,be.m9)(se);const nt=h.da(Se);if(se instanceof Cp)m.push(Se);else{const kt=ld(se,nt);null!=kt&&(m.push(Se),E.set(Se,kt))}});const k=new co(m);return new Iy(E,k,h.fieldTransforms)}function bp(s,e,t,l,h,m){const E=s.ya(1,e,t),k=[cf(e,l,t)],Y=[h];if(m.length%2!=0)throw new Vt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let kt=0;kt<m.length;kt+=2)k.push(cf(e,m[kt])),Y.push(m[kt+1]);const se=[],Se=$o.empty();for(let kt=k.length-1;kt>=0;--kt)if(!Xv(se,k[kt])){const Xt=k[kt];let wn=Y[kt];wn=(0,be.m9)(wn);const jn=E.da(Xt);if(wn instanceof Cp)se.push(Xt);else{const qn=ld(wn,jn);null!=qn&&(se.push(Xt),Se.set(Xt,qn))}}const nt=new co(se);return new Iy(Se,nt,E.fieldTransforms)}function Qv(s,e,t,l=!1){return ld(t,s.ya(l?4:3,e))}function ld(s,e){if(ud(s=(0,be.m9)(s)))return Kg("Unsupported field value:",e,s),Dy(s,e);if(s instanceof xu)return function(t,l){if(!Cy(l.ca))throw l._a(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,l){const h=[];let m=0;for(const E of t){let k=ld(E,l.wa(m));null==k&&(k={nullValue:"NULL_VALUE"}),h.push(k),m++}return{arrayValue:{values:h}}}(s,e)}return function(t,l){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bp(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Ei.fromDate(t);return{timestampValue:jc(l.serializer,h)}}if(t instanceof Ei){const h=new Ei(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:jc(l.serializer,h)}}if(t instanceof Pu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof od)return{bytesValue:Ff(l.serializer,t._byteString)};if(t instanceof Os){const h=l.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw l._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Pd(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l._a(`Unsupported field value: ${Va(t)}`)}(s,e)}function Dy(s,e){const t={};return vd(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(s,(l,h)=>{const m=ld(h,e.ha(l));null!=m&&(t[l]=m)}),{mapValue:{fields:t}}}function ud(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Ei||s instanceof Pu||s instanceof od||s instanceof Os||s instanceof xu)}function Kg(s,e,t){if(!ud(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Va(t);throw e._a("an object"===l?s+" a custom object":s+" "+l)}var l}function cf(s,e,t){if((e=(0,be.m9)(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return qg(s,e);throw Yg("Field path arguments must be of type string or ",s,!1,void 0,t)}const Sy=new RegExp("[~\\*/\\[\\]]");function qg(s,e,t){if(e.search(Sy)>=0)throw Yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Ru(...e.split("."))._internalPath}catch{throw Yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Yg(s,e,t,l,h){const m=l&&!l.isEmpty(),E=void 0!==h;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let Y="";return(m||E)&&(Y+=" (found",m&&(Y+=` in field ${l}`),E&&(Y+=` in document ${h}`),Y+=")"),new Vt(Qe.INVALID_ARGUMENT,k+s+Y)}function Xv(s,e){return s.some(t=>t.isEqual(e))}class Xd{constructor(e,t,l,h,m){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dp extends Xd{data(){return super.data()}}function Jd(s,e){return"string"==typeof e?qg(s,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function Jv(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Vt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class cd extends df{}function Ty(s,e,...t){let l=[];e instanceof df&&l.push(e),l=l.concat(t),function(h){const m=h.filter(k=>k instanceof hf).length,E=h.filter(k=>k instanceof eh).length;if(m>1||m>0&&E>0)throw new Vt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)s=h._apply(s);return s}class eh extends cd{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new eh(e,t,l)}_apply(e){const t=this._parse(e);return Py(e._query,t),new go(e.firestore,e.converter,le(e._query,t))}_parse(e){const t=To(e.firestore);return function(h,m,E,k,Y,se,Se){let nt;if(Y.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new Vt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){xy(Se,se);const kt=[];for(const Xt of Se)kt.push(Ry(k,h,Xt));nt={arrayValue:{values:kt}}}else nt=Ry(k,h,Se)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||xy(Se,se),nt=Qv(E,"where",Se,"in"===se||"not-in"===se);return qr.create(Y,se,nt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function h0(s,e,t){const l=e,h=Jd("where",s);return eh._create(h,l,t)}class hf extends df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hf(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:Xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,h){let m=l;const E=h.getFlattenedFilters();for(const k of E)Py(m,k),m=le(m,k)}(e._query,t),new go(e.firestore,e.converter,le(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ff extends cd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ff(e,t)}_apply(e){const t=function(l,h,m){if(null!==l.startAt)throw new Vt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Vt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new tl(h,m);return function(k,Y){if(null===ph(k)){const se=R(k);null!==se&&s_(0,se,Y.field)}}(l,E),E}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(l,h){const m=l.explicitOrderBy.concat([h]);return new Vl(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function Ay(s,e="asc"){const t=e,l=Jd("orderBy",s);return ff._create(l,t)}class th extends cd{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new th(e,t,l)}_apply(e){return new go(e.firestore,e.converter,Te(e._query,this._limit,this._limitType))}}function t_(s){return ia("limit",s),th._create("limit",s,"F")}function n_(s){return ia("limitToLast",s),th._create("limitToLast",s,"L")}class pf extends cd{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new pf(e,t,l)}_apply(e){const t=My(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(h=t,new Vl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}function r_(...s){return pf._create("startAt",s,!0)}function p0(...s){return pf._create("startAfter",s,!1)}class Sp extends cd{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new Sp(e,t,l)}_apply(e){const t=My(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(h=t,new Vl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function i_(...s){return Sp._create("endBefore",s,!1)}function g0(...s){return Sp._create("endAt",s,!0)}function My(s,e,t,l){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof Xd)return function(h,m,E,k,Y){if(!k)throw new Vt(Qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const se=[];for(const Se of I(h))if(Se.field.isKeyField())se.push(Hu(m,k.key));else{const nt=k.data.field(Se.field);if(Ea(nt))throw new Vt(Qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const kt=Se.field.canonicalString();throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${kt}' (used as the orderBy) does not exist.`)}se.push(nt)}return new Fa(se,Y)}(s._query,s.firestore._databaseId,e,t[0]._document,l);{const h=To(s.firestore);return function(m,E,k,Y,se,Se){const nt=m.explicitOrderBy;if(se.length>nt.length)throw new Vt(Qe.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const kt=[];for(let Xt=0;Xt<se.length;Xt++){const wn=se[Xt];if(nt[Xt].field.isKeyField()){if("string"!=typeof wn)throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof wn}`);if(!_(m)&&-1!==wn.indexOf("/"))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${wn}' contains a slash.`);const jn=m.path.child(ri.fromString(wn));if(!On.isDocumentKey(jn))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${jn}' is not because it contains an odd number of segments.`);const qn=new On(jn);kt.push(Hu(E,qn))}else{const jn=Qv(k,Y,wn);kt.push(jn)}}return new Fa(kt,Se)}(s._query,s.firestore._databaseId,h,e,t,l)}}function Ry(s,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new Vt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_(e)&&-1!==t.indexOf("/"))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(ri.fromString(t));if(!On.isDocumentKey(l))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return Hu(s,new On(l))}if(t instanceof Os)return Hu(s,t._key);throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Va(t)}.`)}function xy(s,e){if(!Array.isArray(s)||0===s.length)throw new Vt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Py(s,e){if(e.isInequality()){const l=R(s),h=e.field;if(null!==l&&!l.isEqual(h))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${h.toString()}'`);const m=ph(s);null!==m&&s_(0,h,m)}const t=function(l,h){for(const m of l)for(const E of m.getFlattenedFilters())if(h.indexOf(E.op)>=0)return E.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Vt(Qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function s_(s,e,t){if(!t.isEqual(e))throw new Vt(Qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Qg{convertValue(e,t="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const l={};return Pa(e,(h,m)=>{l[h]=this.convertValue(m,t)}),l}convertGeoPoint(e){return new Pu($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=Xa(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const t=gl(e);return new Ei(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=ri.fromString(e);Gn(Th(l));const h=new ea(l.get(1),l.get(3)),m=new On(l.popFirst(5));return h.isEqual(t)||Gr(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Xg(s,e,t){let l;return l=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,l}class Jg extends Qg{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}class mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yc extends Xd{constructor(e,t,l,h,m,E){super(e,t,l,h,E),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(Jd("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class Ua extends yc{data(e={}){return super.data(e)}}class Yl{constructor(e,t,l,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new mc(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new Ua(this._firestore,this._userDataWriter,l.key,l,new mc(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(E=>({type:"added",doc:new Ua(l._firestore,l._userDataWriter,E.doc.key,E.doc,new mc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(E=>h||3!==E.type).map(E=>{const k=new Ua(l._firestore,l._userDataWriter,E.doc.key,E.doc,new mc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter);let Y=-1,se=-1;return 0!==E.type&&(Y=m.indexOf(E.doc.key),m=m.delete(E.doc.key)),1!==E.type&&(m=m.add(E.doc),se=m.indexOf(E.doc.key)),{type:vc(E.type),doc:k,oldIndex:Y,newIndex:se}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vc(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ln()}}function y0(s,e){return s instanceof yc&&e instanceof yc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Yl&&e instanceof Yl&&s._firestore===e._firestore&&id(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function v0(s){s=oi(s,Os);const e=oi(s.firestore,Ns);return zv(io(e),s._key).then(t=>ky(e,s,t))}class Ou extends Qg{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}function nh(s){s=oi(s,Os);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return function r0(s,e){const t=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(l=(0,y.Z)(function*(h,m,E){try{const k=yield function(Y,se){const Se=Mn(Y);return Se.persistence.runTransaction("read document","readonly",nt=>Se.localDocuments.getDocument(nt,se))}(h,m);k.isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new Vt(Qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const Y=Au(k,`Failed to get document '${m} from cache`);E.reject(Y)}}),function(h,m,E){return l.apply(this,arguments)})(yield Yd(s),e,t);var l})),t.promise}(t,s._key).then(h=>new yc(e,l,s._key,h,new mc(null!==h&&h.hasLocalMutations,!0),s.converter))}function Oy(s){s=oi(s,Os);const e=oi(s.firestore,Ns);return zv(io(e),s._key,{source:"server"}).then(t=>ky(e,s,t))}function _0(s){s=oi(s,go);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return Jv(s._query),yy(t,s._query).then(h=>new Yl(e,l,s,h))}function tm(s){s=oi(s,go);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return function s0(s,e){const t=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(l=(0,y.Z)(function*(h,m,E){try{const k=yield Jf(h,m,!0),Y=new Zh(m,k.ir),se=Y.sc(k.documents),Se=Y.applyChanges(se,!1);E.resolve(Se.snapshot)}catch(k){const Y=Au(k,`Failed to execute query '${m} against cache`);E.reject(Y)}}),function(h,m,E){return l.apply(this,arguments)})(yield Yd(s),e,t);var l})),t.promise}(t,s._query).then(h=>new Yl(e,l,s,h))}function Ny(s){s=oi(s,go);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return yy(t,s._query,{source:"server"}).then(h=>new Yl(e,l,s,h))}function AE(s,e,t){s=oi(s,Os);const l=oi(s.firestore,Ns),h=Xg(s.converter,e,t);return rh(l,[uf(To(l),"setDoc",s._key,h,null!==s.converter,t).toMutation(s._key,xs.none())])}function E0(s,e,t,...l){s=oi(s,Os);const h=oi(s.firestore,Ns),m=To(h);let E;return E="string"==typeof(e=(0,be.m9)(e))||e instanceof Ru?bp(m,"updateDoc",s._key,e,t,l):by(m,"updateDoc",s._key,e),rh(h,[E.toMutation(s._key,xs.exists(!0))])}function w0(s){return rh(oi(s.firestore,Ns),[new fu(s._key,xs.none())])}function a_(s,e){const t=oi(s.firestore,Ns),l=So(s),h=Xg(s.converter,e);return rh(t,[uf(To(s.firestore),"addDoc",l._key,h,null!==s.converter,{}).toMutation(l._key,xs.exists(!1))]).then(()=>l)}function I0(s,...e){var t,l,h;s=(0,be.m9)(s);let m={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||sd(e[E])||(m=e[E],E++);const k={includeMetadataChanges:m.includeMetadataChanges};if(sd(e[E])){const nt=e[E];e[E]=null===(t=nt.next)||void 0===t?void 0:t.bind(nt),e[E+1]=null===(l=nt.error)||void 0===l?void 0:l.bind(nt),e[E+2]=null===(h=nt.complete)||void 0===h?void 0:h.bind(nt)}let Y,se,Se;if(s instanceof Os)se=oi(s.firestore,Ns),Se=uu(s._key.path),Y={next:nt=>{e[E]&&e[E](ky(se,s,nt))},error:e[E+1],complete:e[E+2]};else{const nt=oi(s,go);se=oi(nt.firestore,Ns),Se=nt._query;const kt=new Ou(se);Y={next:Xt=>{e[E]&&e[E](new Yl(se,kt,nt,Xt))},error:e[E+1],complete:e[E+2]},Jv(s._query)}return function(nt,kt,Xt,wn){const jn=new Bg(wn),qn=new Ym(kt,jn,Xt);return nt.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Yh(yield Vo(nt),qn)})),()=>{jn.Dc(),nt.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Ag(yield Vo(nt),qn)}))}}(io(se),Se,k,Y)}function Yo(s,e){return function Gv(s,e){const t=new Bg(e);return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return l=yield Vo(s),h=t,Mn(l).ku.add(h),void h.next();var l,h})),()=>{t.Dc(),s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return l=yield Vo(s),h=t,void Mn(l).ku.delete(h);var l,h}))}}(io(s=oi(s,Ns)),sd(e)?e:{next:e})}function rh(s,e){return function(t,l){const h=new Ks;return t.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Pg(s,e,t){return Jm.apply(this,arguments)}(yield Wl(t),l,h)})),h.promise}(io(s),e)}function ky(s,e,t){const l=t.docs.get(e._key),h=new Ou(s);return new yc(s,h,e._key,l,new mc(t.hasPendingWrites,t.fromCache),e.converter)}const Ec={maxAttempts:5};class x0{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=To(e)}set(e,t,l){this._verifyNotCommitted();const h=wc(e,this._firestore),m=Xg(h.converter,t,l),E=uf(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,l);return this._mutations.push(E.toMutation(h._key,xs.none())),this}update(e,t,l,...h){this._verifyNotCommitted();const m=wc(e,this._firestore);let E;return E="string"==typeof(t=(0,be.m9)(t))||t instanceof Ru?bp(this._dataReader,"WriteBatch.update",m._key,t,l,h):by(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(E.toMutation(m._key,xs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wc(e,this._firestore);return this._mutations=this._mutations.concat(new fu(t._key,xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(Qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wc(s,e){if((s=(0,be.m9)(s)).firestore!==e)throw new Vt(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class ja extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=To(e)}get(e){const t=wc(e,this._firestore),l=new Jg(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Ln();const m=h[0];if(m.isFoundDocument())return new Xd(this._firestore,l,m.key,m,t.converter);if(m.isNoDocument())return new Xd(this._firestore,l,t._key,null,t.converter);throw Ln()})}set(e,t,l){const h=wc(e,this._firestore),m=Xg(h.converter,t,l),E=uf(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,l);return this._transaction.set(h._key,E),this}update(e,t,l,...h){const m=wc(e,this._firestore);let E;return E="string"==typeof(t=(0,be.m9)(t))||t instanceof Ru?bp(this._dataReader,"Transaction.update",m._key,t,l,h):by(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,E),this}delete(e){const t=wc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wc(e,this._firestore),l=new Ou(this._firestore);return super.get(e).then(h=>new yc(this._firestore,l,t._key,h._document,new mc(!1,!1),t.converter))}}function Dl(s,e,t){s=oi(s,Ns);const l=Object.assign(Object.assign({},Ec),t);return function(h){if(h.maxAttempts<1)throw new Vt(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(h,m,E){const k=new Ks;return h.asyncQueue.enqueueAndForget((0,y.Z)(function*(){const Y=yield function yp(s){return $g(s).then(e=>e.datastore)}(h);new Uv(h.asyncQueue,Y,E,m,k).run()})),k.promise}(io(s),h=>e(new ja(s,h)),l)}function sl(){return new Cp("deleteField")}function P0(){return new Qd("serverTimestamp")}function Fy(...s){return new Wg("arrayUnion",s)}function O0(...s){return new DE("arrayRemove",s)}function N0(s){return new ql("increment",s)}!function(s,e=!0){zr=g.SDK_VERSION,(0,g._registerComponent)(new ie.wA("firestore",(t,{instanceIdentifier:l,options:h})=>{const m=t.getProvider("app").getImmediate(),E=new Ns(new Ml(t.getProvider("auth-internal")),new Ac(t.getProvider("app-check-internal")),function(k,Y){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new Vt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(k.options.projectId,Y)}(m,l),m);return h=Object.assign({useFetchStreams:e},h),E._setSettings(h),E},"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(Qn,"3.12.1",s),(0,g.registerVersion)(Qn,"3.12.1","esm2017")}()},2090:(ln,ut,L)=>{"use strict";L.d(ut,{$s:()=>mn,BH:()=>ft,DV:()=>Bt,Dv:()=>ur,G6:()=>ke,GJ:()=>Nt,L:()=>$e,LL:()=>Pt,P0:()=>it,Pz:()=>rt,Sg:()=>_t,UG:()=>St,UI:()=>hr,US:()=>we,Wj:()=>Kn,Wl:()=>Ot,Yr:()=>We,ZB:()=>Ue,ZR:()=>Tt,aH:()=>Ge,b$:()=>yt,cI:()=>et,dS:()=>Jr,eu:()=>He,g5:()=>ie,gK:()=>Nr,gQ:()=>Ar,h$:()=>De,hl:()=>Fe,hu:()=>g,jU:()=>tt,lb:()=>Pn,m9:()=>gr,ne:()=>Sn,p$:()=>Ce,pd:()=>Tr,q4:()=>vt,r3:()=>In,ru:()=>pt,tV:()=>U,uI:()=>xe,ug:()=>Hn,vZ:()=>pr,w1:()=>Pe,w9:()=>En,xO:()=>ir,xb:()=>rr,z$:()=>Ze,zI:()=>mt,zd:()=>nr});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},g=function(Je,he){if(!Je)throw ie(he)},ie=function(Je){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Je)},me=function(Je){const he=[];let K=0;for(let z=0;z<Je.length;z++){let q=Je.charCodeAt(z);q<128?he[K++]=q:q<2048?(he[K++]=q>>6|192,he[K++]=63&q|128):55296==(64512&q)&&z+1<Je.length&&56320==(64512&Je.charCodeAt(z+1))?(q=65536+((1023&q)<<10)+(1023&Je.charCodeAt(++z)),he[K++]=q>>18|240,he[K++]=q>>12&63|128,he[K++]=q>>6&63|128,he[K++]=63&q|128):(he[K++]=q>>12|224,he[K++]=q>>6&63|128,he[K++]=63&q|128)}return he},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Je,he){if(!Array.isArray(Je))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let q=0;q<Je.length;q+=3){const Oe=Je[q],st=q+1<Je.length,Le=st?Je[q+1]:0,ht=q+2<Je.length,It=ht?Je[q+2]:0;let rn=(15&Le)<<2|It>>6,un=63&It;ht||(un=64,st||(rn=64)),z.push(K[Oe>>2],K[(3&Oe)<<4|Le>>4],K[rn],K[un])}return z.join("")},encodeString(Je,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(Je):this.encodeByteArray(me(Je),he)},decodeString(Je,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(Je):function(Je){const he=[];let K=0,z=0;for(;K<Je.length;){const q=Je[K++];if(q<128)he[z++]=String.fromCharCode(q);else if(q>191&&q<224){const Oe=Je[K++];he[z++]=String.fromCharCode((31&q)<<6|63&Oe)}else if(q>239&&q<365){const ht=((7&q)<<18|(63&Je[K++])<<12|(63&Je[K++])<<6|63&Je[K++])-65536;he[z++]=String.fromCharCode(55296+(ht>>10)),he[z++]=String.fromCharCode(56320+(1023&ht))}else{const Oe=Je[K++],st=Je[K++];he[z++]=String.fromCharCode((15&q)<<12|(63&Oe)<<6|63&st)}}return he.join("")}(this.decodeStringToByteArray(Je,he))},decodeStringToByteArray(Je,he){this.init_();const K=he?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let q=0;q<Je.length;){const Oe=K[Je.charAt(q++)],Le=q<Je.length?K[Je.charAt(q)]:0;++q;const It=q<Je.length?K[Je.charAt(q)]:64;++q;const Ht=q<Je.length?K[Je.charAt(q)]:64;if(++q,null==Oe||null==Le||null==It||null==Ht)throw new de;z.push(Oe<<2|Le>>4),64!==It&&(z.push(Le<<4&240|It>>2),64!==Ht&&z.push(It<<6&192|Ht))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Je=0;Je<this.ENCODED_VALS.length;Je++)this.byteToCharMap_[Je]=this.ENCODED_VALS.charAt(Je),this.charToByteMap_[this.byteToCharMap_[Je]]=Je,this.byteToCharMapWebSafe_[Je]=this.ENCODED_VALS_WEBSAFE.charAt(Je),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Je]]=Je,Je>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Je)]=Je,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Je)]=Je)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(Je){const he=me(Je);return we.encodeByteArray(he,!0)},$e=function(Je){return De(Je).replace(/\./g,"")},U=function(Je){try{return we.decodeString(Je,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function Ce(Je){return Ue(void 0,Je)}function Ue(Je,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===Je&&(Je={});break;case Array:Je=[];break;default:return he}for(const K in he)!he.hasOwnProperty(K)||!ve(K)||(Je[K]=Ue(Je[K],he[K]));return Je}function ve(Je){return"__proto__"!==Je}const Ee=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Je=process.env.__FIREBASE_DEFAULTS__;return Je?JSON.parse(Je):void 0})()||(()=>{if(typeof document>"u")return;let Je;try{Je=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=Je&&U(Je[1]);return he&&JSON.parse(he)})()}catch(Je){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Je}`)}},vt=Je=>{var he,K;return null===(K=null===(he=Ee())||void 0===he?void 0:he.emulatorHosts)||void 0===K?void 0:K[Je]},it=Je=>{const he=vt(Je);if(!he)return;const K=he.lastIndexOf(":");if(K<=0||K+1===he.length)throw new Error(`Invalid host ${he} with no separate hostname and port!`);const z=parseInt(he.substring(K+1),10);return"["===he[0]?[he.substring(1,K-1),z]:[he.substring(0,K),z]},Ge=()=>{var Je;return null===(Je=Ee())||void 0===Je?void 0:Je.config},rt=Je=>{var he;return null===(he=Ee())||void 0===he?void 0:he[`_${Je}`]};class ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,K)=>{this.resolve=he,this.reject=K})}wrapCallback(he){return(K,z)=>{K?this.reject(K):this.resolve(z),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(K):he(K,z))}}}function _t(Je,he){if(Je.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=he||"demo-project",q=Je.iat||0,Oe=Je.sub||Je.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const st=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:q,exp:q+3600,auth_time:q,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},Je);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(st)),""].join(".")}function Ze(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function St(){var Je;const he=null===(Je=Ee())||void 0===Je?void 0:Je.forceEnvironment;if("node"===he)return!0;if("browser"===he)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function pt(){const Je="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Je&&void 0!==Je.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const Je=Ze();return Je.indexOf("MSIE ")>=0||Je.indexOf("Trident/")>=0}function We(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function ke(){return!St()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((Je,he)=>{try{let K=!0;const z="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(z);q.onsuccess=()=>{q.result.close(),K||self.indexedDB.deleteDatabase(z),Je(!0)},q.onupgradeneeded=()=>{K=!1},q.onerror=()=>{var Oe;he((null===(Oe=q.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(K){he(K)}})}function mt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tt extends Error{constructor(he,K,z){super(K),this.code=he,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(he,K,z){this.service=he,this.serviceName=K,this.errors=z}create(he,...K){const z=K[0]||{},q=`${this.service}/${he}`,Oe=this.errors[he],st=Oe?function sn(Je,he){return Je.replace(At,(K,z)=>{const q=he[z];return null!=q?String(q):`<${z}?>`})}(Oe,z):"Error";return new Tt(q,`${this.serviceName}: ${st} (${q}).`,z)}}const At=/\{\$([^}]+)}/g;function et(Je){return JSON.parse(Je)}function Ot(Je){return JSON.stringify(Je)}const Jt=function(Je){let he={},K={},z={},q="";try{const Oe=Je.split(".");he=et(U(Oe[0])||""),K=et(U(Oe[1])||""),q=Oe[2],z=K.d||{},delete K.d}catch{}return{header:he,claims:K,data:z,signature:q}},En=function(Je){const K=Jt(Je).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},Nt=function(Je){const he=Jt(Je).claims;return"object"==typeof he&&!0===he.admin};function In(Je,he){return Object.prototype.hasOwnProperty.call(Je,he)}function Bt(Je,he){if(Object.prototype.hasOwnProperty.call(Je,he))return Je[he]}function rr(Je){for(const he in Je)if(Object.prototype.hasOwnProperty.call(Je,he))return!1;return!0}function hr(Je,he,K){const z={};for(const q in Je)Object.prototype.hasOwnProperty.call(Je,q)&&(z[q]=he.call(K,Je[q],q,Je));return z}function pr(Je,he){if(Je===he)return!0;const K=Object.keys(Je),z=Object.keys(he);for(const q of K){if(!z.includes(q))return!1;const Oe=Je[q],st=he[q];if(nn(Oe)&&nn(st)){if(!pr(Oe,st))return!1}else if(Oe!==st)return!1}for(const q of z)if(!K.includes(q))return!1;return!0}function nn(Je){return null!==Je&&"object"==typeof Je}function ir(Je){const he=[];for(const[K,z]of Object.entries(Je))Array.isArray(z)?z.forEach(q=>{he.push(encodeURIComponent(K)+"="+encodeURIComponent(q))}):he.push(encodeURIComponent(K)+"="+encodeURIComponent(z));return he.length?"&"+he.join("&"):""}function nr(Je){const he={};return Je.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[q,Oe]=z.split("=");he[decodeURIComponent(q)]=decodeURIComponent(Oe)}}),he}function Tr(Je){const he=Je.indexOf("?");if(!he)return"";const K=Je.indexOf("#",he);return Je.substring(he,K>0?K:void 0)}class Ar{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let he=1;he<this.blockSize;++he)this.pad_[he]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(he,K){K||(K=0);const z=this.W_;if("string"==typeof he)for(let Ht=0;Ht<16;Ht++)z[Ht]=he.charCodeAt(K)<<24|he.charCodeAt(K+1)<<16|he.charCodeAt(K+2)<<8|he.charCodeAt(K+3),K+=4;else for(let Ht=0;Ht<16;Ht++)z[Ht]=he[K]<<24|he[K+1]<<16|he[K+2]<<8|he[K+3],K+=4;for(let Ht=16;Ht<80;Ht++){const rn=z[Ht-3]^z[Ht-8]^z[Ht-14]^z[Ht-16];z[Ht]=4294967295&(rn<<1|rn>>>31)}let It,zt,q=this.chain_[0],Oe=this.chain_[1],st=this.chain_[2],Le=this.chain_[3],ht=this.chain_[4];for(let Ht=0;Ht<80;Ht++){Ht<40?Ht<20?(It=Le^Oe&(st^Le),zt=1518500249):(It=Oe^st^Le,zt=1859775393):Ht<60?(It=Oe&st|Le&(Oe|st),zt=2400959708):(It=Oe^st^Le,zt=3395469782);const rn=(q<<5|q>>>27)+It+ht+zt+z[Ht]&4294967295;ht=Le,Le=st,st=4294967295&(Oe<<30|Oe>>>2),Oe=q,q=rn}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+st&4294967295,this.chain_[3]=this.chain_[3]+Le&4294967295,this.chain_[4]=this.chain_[4]+ht&4294967295}update(he,K){if(null==he)return;void 0===K&&(K=he.length);const z=K-this.blockSize;let q=0;const Oe=this.buf_;let st=this.inbuf_;for(;q<K;){if(0===st)for(;q<=z;)this.compress_(he,q),q+=this.blockSize;if("string"==typeof he){for(;q<K;)if(Oe[st]=he.charCodeAt(q),++st,++q,st===this.blockSize){this.compress_(Oe),st=0;break}}else for(;q<K;)if(Oe[st]=he[q],++st,++q,st===this.blockSize){this.compress_(Oe),st=0;break}}this.inbuf_=st,this.total_+=K}digest(){const he=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&K,K/=256;this.compress_(this.buf_);let z=0;for(let q=0;q<5;q++)for(let Oe=24;Oe>=0;Oe-=8)he[z]=this.chain_[q]>>Oe&255,++z;return he}}function Sn(Je,he){const K=new vn(Je,he);return K.subscribe.bind(K)}class vn{constructor(he,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{he(this)}).catch(z=>{this.error(z)})}next(he){this.forEachObserver(K=>{K.next(he)})}error(he){this.forEachObserver(K=>{K.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,K,z){let q;if(void 0===he&&void 0===K&&void 0===z)throw new Error("Missing Observer.");q=function Cr(Je,he){if("object"!=typeof Je||null===Je)return!1;for(const K of he)if(K in Je&&"function"==typeof Je[K])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:K,complete:z},void 0===q.next&&(q.next=vr),void 0===q.error&&(q.error=vr),void 0===q.complete&&(q.complete=vr);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Oe}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,he)}sendOne(he,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{K(this.observers[he])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const ur=function(Je,he,K,z){let q;if(z<he?q="at least "+he:z>K&&(q=0===K?"none":"no more than "+K),q)throw new Error(Je+" failed: Was called with "+z+(1===z?" argument.":" arguments.")+" Expects "+q+".")};function Nr(Je,he){return`${Je} failed: ${he} argument `}function Kn(Je,he,K,z){if((!z||K)&&"function"!=typeof K)throw new Error(Nr(Je,he)+"must be a valid function.")}function Pn(Je,he,K,z){if((!z||K)&&("object"!=typeof K||null===K))throw new Error(Nr(Je,he)+"must be a valid context object.")}const Jr=function(Je){const he=[];let K=0;for(let z=0;z<Je.length;z++){let q=Je.charCodeAt(z);if(q>=55296&&q<=56319){const Oe=q-55296;z++,g(z<Je.length,"Surrogate pair missing trail surrogate."),q=65536+(Oe<<10)+(Je.charCodeAt(z)-56320)}q<128?he[K++]=q:q<2048?(he[K++]=q>>6|192,he[K++]=63&q|128):q<65536?(he[K++]=q>>12|224,he[K++]=q>>6&63|128,he[K++]=63&q|128):(he[K++]=q>>18|240,he[K++]=q>>12&63|128,he[K++]=q>>6&63|128,he[K++]=63&q|128)}return he},Hn=function(Je){let he=0;for(let K=0;K<Je.length;K++){const z=Je.charCodeAt(K);z<128?he++:z<2048?he+=2:z>=55296&&z<=56319?(he+=4,K++):he+=3}return he},fe=1e3,ze=2,Mt=144e5,an=.5;function mn(Je,he=fe,K=ze){const z=he*Math.pow(K,Je),q=Math.round(an*z*(Math.random()-.5)*2);return Math.min(Mt,z+q)}function gr(Je){return Je&&Je._delegate?Je._delegate:Je}},8261:(ln,ut,L)=>{"use strict";L.d(ut,{KY:()=>_t,DM:()=>Ze,J2:()=>pt,Iq:()=>yt});var g=L(9751),ie=L(4968),me={error:"cordova_not_available"},be={error:"plugin_not_installed"};function we(ce){if(typeof window<"u"&&window.angular){var je=window.document,We=window.angular.element(je.querySelector("[ng-app]")||je.body).injector();if(We)return We.get("$q")(function(Fe,He){ce(Fe,He)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Fe,He){ce(Fe,He)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Ce(ce,Pe,je){var We,ke,Fe;return"string"==typeof ce?We=ce:(We=ce.constructor.getPluginRef(),je=ce.constructor.getPluginName(),Fe=ce.constructor.getPluginInstallName()),!(!(ke=bt(We))||Pe&&typeof ke[Pe]>"u")||(typeof window>"u"||!window.cordova?(function vt(ce,Pe){typeof process>"u"&&console.warn(Pe?"Native: tried calling "+ce+"."+Pe+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+ce+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(je,Pe),me):(function Ee(ce,Pe,je){console.warn(je?"Native: tried calling "+ce+"."+je+", but the "+ce+" plugin is not installed.":"Native: tried accessing the "+ce+" plugin but it's not installed."),Pe&&console.warn("Install the "+ce+" plugin: 'ionic cordova plugin add "+Pe+"'")}(je,Fe,Pe),be))}function Ve(ce,Pe,je,We,ke,Fe){void 0===We&&(We={}),je=function ve(ce,Pe,je,We){if(void 0===Pe&&(Pe={}),Pe.sync)return ce;if("reverse"===Pe.callbackOrder)ce.unshift(We),ce.unshift(je);else if("node"===Pe.callbackStyle)ce.push(function(mt,ct){mt?We(mt):je(ct)});else if("object"===Pe.callbackStyle&&Pe.successName&&Pe.errorName){var ke={};ke[Pe.successName]=je,ke[Pe.errorName]=We,ce.push(ke)}else if(typeof Pe.successIndex<"u"||typeof Pe.errorIndex<"u"){var Fe=function(){Pe.successIndex>ce.length?ce[Pe.successIndex]=je:ce.splice(Pe.successIndex,0,je)},He=function(){Pe.errorIndex>ce.length?ce[Pe.errorIndex]=We:ce.splice(Pe.errorIndex,0,We)};Pe.successIndex>Pe.errorIndex?(He(),Fe()):(Fe(),He())}else ce.push(je),ce.push(We);return ce}(je,We,ke,Fe);var He=Ce(ce,Pe);if(!0===He){var mt=bt(ce.constructor.getPluginRef());return mt[Pe].apply(mt,je)}return He}function bt(ce){return typeof window<"u"?Me(window,ce):null}function Me(ce,Pe){for(var je=Pe.split("."),We=ce,ke=0;ke<je.length;ke++){if(!We)return null;We=We[je[ke]]}return We}var it=function(ce,Pe,je){return void 0===je&&(je={}),function(){for(var We=[],ke=0;ke<arguments.length;ke++)We[ke]=arguments[ke];return je.sync?Ve(ce,Pe,We,je):je.observable?function $e(ce,Pe,je,We){return void 0===We&&(We={}),new g.y(function(ke){var Fe;return Fe=We.destruct?Ve(ce,Pe,je,We,function(){for(var He=[],mt=0;mt<arguments.length;mt++)He[mt]=arguments[mt];return ke.next(He)},function(){for(var He=[],mt=0;mt<arguments.length;mt++)He[mt]=arguments[mt];return ke.error(He)}):Ve(ce,Pe,je,We,ke.next.bind(ke),ke.error.bind(ke)),Fe&&Fe.error&&(ke.error(Fe.error),ke.complete()),function(){try{if(We.clearFunction)return We.clearWithArgs?Ve(ce,We.clearFunction,je,We,ke.next.bind(ke),ke.error.bind(ke)):Ve(ce,We.clearFunction,[])}catch(He){console.warn("Unable to clear the previous observable watch for",ce.constructor.getPluginName(),Pe),console.warn(He)}}})}(ce,Pe,We,je):je.eventObservable&&je.event?function U(ce,Pe){return Pe=typeof window<"u"&&Pe?Me(window,Pe):Pe||(typeof window<"u"?window:{}),(0,ie.R)(Pe,ce)}(je.event,je.element):je.otherPromise?function De(ce,Pe,je,We){return void 0===We&&(We={}),we(function(ke,Fe){var He=Ve(ce,Pe,je,We);He?He.error?Fe(He.error):He.then&&He.then(ke).catch(Fe):Fe({error:"unexpected_error"})})}(ce,Pe,We,je):function de(ce,Pe,je,We){void 0===We&&(We={});var ke,Fe,He=we(function(mt,ct){ke=We.destruct?Ve(ce,Pe,je,We,function(){for(var Tt=[],Pt=0;Pt<arguments.length;Pt++)Tt[Pt]=arguments[Pt];return mt(Tt)},function(){for(var Tt=[],Pt=0;Pt<arguments.length;Pt++)Tt[Pt]=arguments[Pt];return ct(Tt)}):Ve(ce,Pe,je,We,mt,ct),Fe=ct});return ke&&ke.error&&(He.catch(function(){}),"function"==typeof Fe&&Fe(ke.error)),He}(ce,Pe,We,je)}},_t=function(){function ce(){}return ce.installed=function(){return!0===Ce(this.pluginRef)},ce.getPlugin=function(){return typeof window<"u"?function rt(ce,Pe){for(var je=Pe.split("."),We=ce,ke=0;ke<je.length;ke++){if(!We)return null;We=We[je[ke]]}return We}(window,this.pluginRef):null},ce.getPluginName=function(){return this.pluginName},ce.getPluginRef=function(){return this.pluginRef},ce.getPluginInstallName=function(){return this.plugin},ce.getSupportedPlatforms=function(){return this.platforms},ce.pluginName="",ce.pluginRef="",ce.plugin="",ce.repo="",ce.platforms=[],ce.install="",ce}();function Ze(ce,Pe,je,We){return it(ce,Pe,je).apply(this,We)}function pt(ce,Pe){return!0===Ce(ce,Pe)?bt(ce.constructor.getPluginRef())[Pe]:null}function yt(ce,Pe,je){!0===Ce(ce,Pe)&&(bt(ce.constructor.getPluginRef())[Pe]=je)}!function y(){if(typeof process>"u"){var ce=typeof window<"u"?window:{},je=Date.now(),We=!1;ce.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-je)+" ms"),We=!0}),setTimeout(function(){!We&&ce.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},83:(ln,ut,L)=>{"use strict";L.d(ut,{S:()=>me});var y=L(655),g=L(2223),ie=L(8261),me=function(be){function we(){return null!==be&&be.apply(this,arguments)||this}return(0,y.ZT)(we,be),we.prototype.getCurrentAcceleration=function(){return(0,ie.DM)(this,"getCurrentAcceleration",{},arguments)},we.prototype.watchAcceleration=function(de){return(0,ie.DM)(this,"watchAcceleration",{callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"},arguments)},we.pluginName="DeviceMotion",we.plugin="cordova-plugin-device-motion",we.pluginRef="navigator.accelerometer",we.repo="https://github.com/apache/cordova-plugin-device-motion",we.platforms=["Android","BlackBerry 10","Browser","Firefox OS","iOS","Tizen","Ubuntu","Windows","Windows Phone 8"],we.decorators=[{type:g.GSi}],we}(ie.KY)},2720:(ln,ut,L)=>{"use strict";L.d(ut,{y:()=>me});var y=L(655),g=L(2223),ie=L(8261),me=function(be){function we(){return null!==be&&be.apply(this,arguments)||this}return(0,y.ZT)(we,be),we.prototype.available=function(){return(0,ie.DM)(this,"available",{},arguments)},we.prototype.switchOn=function(){return(0,ie.DM)(this,"switchOn",{},arguments)},we.prototype.switchOff=function(){return(0,ie.DM)(this,"switchOff",{},arguments)},we.prototype.toggle=function(){return(0,ie.DM)(this,"toggle",{},arguments)},we.prototype.isSwitchedOn=function(){return(0,ie.DM)(this,"isSwitchedOn",{sync:!0},arguments)},we.pluginName="Flashlight",we.plugin="cordova-plugin-flashlight",we.pluginRef="window.plugins.flashlight",we.repo="https://github.com/EddyVerbruggen/Flashlight-PhoneGap-Plugin",we.platforms=["Android","iOS","Windows Phone 8"],we.decorators=[{type:g.GSi}],we}(ie.KY)},5089:(ln,ut,L)=>{"use strict";L.d(ut,{E:()=>me});var y=L(655),g=L(2223),ie=L(8261),me=function(be){function we(){var de=null!==be&&be.apply(this,arguments)||this;return de.ORIENTATIONS={PORTRAIT_PRIMARY:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary",LANDSCAPE_PRIMARY:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait",LANDSCAPE:"landscape",ANY:"any"},de}return(0,y.ZT)(we,be),we.prototype.onChange=function(){return(0,ie.DM)(this,"onChange",{eventObservable:!0,event:"orientationchange",element:"window"},arguments)},we.prototype.lock=function(de){return(0,ie.DM)(this,"lock",{otherPromise:!0},arguments)},we.prototype.unlock=function(){return(0,ie.DM)(this,"unlock",{sync:!0},arguments)},Object.defineProperty(we.prototype,"type",{get:function(){return(0,ie.J2)(this,"type")},set:function(de){(0,ie.Iq)(this,"type",de)},enumerable:!1,configurable:!0}),we.pluginName="ScreenOrientation",we.plugin="cordova-plugin-screen-orientation",we.pluginRef="screen.orientation",we.repo="https://github.com/apache/cordova-plugin-screen-orientation",we.platforms=["Android","iOS","Windows"],we.decorators=[{type:g.GSi}],we}(ie.KY)},5789:(ln,ut,L)=>{"use strict";L.d(ut,{w:()=>me});var y=L(655),g=L(2223),ie=L(8261),me=function(be){function we(){return null!==be&&be.apply(this,arguments)||this}return(0,y.ZT)(we,be),we.prototype.vibrate=function(de){return(0,ie.DM)(this,"vibrate",{sync:!0},arguments)},we.pluginName="Vibration",we.plugin="cordova-plugin-vibration",we.pluginRef="navigator",we.repo="https://github.com/apache/cordova-plugin-vibration",we.platforms=["Android","iOS","Windows"],we.decorators=[{type:g.GSi}],we}(ie.KY)},9613:(ln,ut,L)=>{"use strict";L.d(ut,{c:()=>bt});var y=L(3577),g=L(3457);let ie;const be=Me=>Me.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),we=Me=>(void 0===ie&&(ie=void 0===Me.style.animationName&&void 0!==Me.style.webkitAnimationName?"-webkit-":""),ie),de=(Me,Ee,vt)=>{const it=Ee.startsWith("animation")?we(Me):"";Me.style.setProperty(it+Ee,vt)},De=(Me,Ee)=>{const vt=Ee.startsWith("animation")?we(Me):"";Me.style.removeProperty(vt+Ee)},Ce=[],qe=(Me=[],Ee)=>{if(void 0!==Ee){const vt=Array.isArray(Ee)?Ee:[Ee];return[...Me,...vt]}return Me},bt=Me=>{let Ee,vt,it,Ge,rt,ft,tt,Fe,He,mt,ct,At,et,_t=[],Ze=[],xe=[],St=!1,pt={},yt=[],ce=[],Pe={},je=0,We=!1,ke=!1,Tt=!0,Pt=!1,sn=!0,Ot=!1;const Jt=Me,fn=[],Tn=[],En=[],Nt=[],In=[],Bt=[],rr=[],hr=[],pr=[],nn=[],Lr="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,ir="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Lr,Tr=()=>nn,Cr=(ae,G)=>((null!=G&&G.oneTimeCallback?Tn:fn).push({c:ae,o:G}),et),ur=()=>{if(ir)nn.forEach(ae=>{ae.cancel()}),nn.length=0;else{const ae=En.slice();(0,y.r)(()=>{ae.forEach(G=>{De(G,"animation-name"),De(G,"animation-duration"),De(G,"animation-timing-function"),De(G,"animation-iteration-count"),De(G,"animation-delay"),De(G,"animation-play-state"),De(G,"animation-fill-mode"),De(G,"animation-direction")})})}},Nr=()=>{In.forEach(ae=>{null!=ae&&ae.parentNode&&ae.parentNode.removeChild(ae)}),In.length=0},Fn=()=>void 0!==rt?rt:tt?tt.getFill():"both",gr=()=>void 0!==He?He:void 0!==ft?ft:tt?tt.getDirection():"normal",Je=()=>We?"linear":void 0!==it?it:tt?tt.getEasing():"linear",he=()=>ke?0:void 0!==mt?mt:void 0!==vt?vt:tt?tt.getDuration():0,K=()=>void 0!==Ge?Ge:tt?tt.getIterations():1,z=()=>void 0!==ct?ct:void 0!==Ee?Ee:tt?tt.getDelay():0,Wt=()=>{0!==je&&(je--,0===je&&((()=>{js(),hr.forEach(Xe=>Xe()),pr.forEach(Xe=>Xe());const ae=Tt?1:0,G=yt,oe=ce,Be=Pe;En.forEach(Xe=>{const dt=Xe.classList;G.forEach(xt=>dt.add(xt)),oe.forEach(xt=>dt.remove(xt));for(const xt in Be)Be.hasOwnProperty(xt)&&de(Xe,xt,Be[xt])}),fn.forEach(Xe=>Xe.c(ae,et)),Tn.forEach(Xe=>Xe.c(ae,et)),Tn.length=0,sn=!0,Tt&&(Pt=!0),Tt=!0})(),tt&&tt.animationFinish()))},_n=(ae=!0)=>{Nr();const G=(Me=>(Me.forEach(Ee=>{for(const vt in Ee)if(Ee.hasOwnProperty(vt)){const it=Ee[vt];if("easing"===vt)Ee["animation-timing-function"]=it,delete Ee[vt];else{const Ge=be(vt);Ge!==vt&&(Ee[Ge]=it,delete Ee[vt])}}}),Me))(_t);En.forEach(oe=>{if(G.length>0){const Be=((Me=[])=>Me.map(Ee=>{const vt=Ee.offset,it=[];for(const Ge in Ee)Ee.hasOwnProperty(Ge)&&"offset"!==Ge&&it.push(`${Ge}: ${Ee[Ge]};`);return`${100*vt}% { ${it.join(" ")} }`}).join(" "))(G);At=void 0!==Me?Me:(Me=>{let Ee=Ce.indexOf(Me);return Ee<0&&(Ee=Ce.push(Me)-1),`ion-animation-${Ee}`})(Be);const Xe=((Me,Ee,vt)=>{var it;const Ge=(Me=>{const Ee=void 0!==Me.getRootNode?Me.getRootNode():Me;return Ee.head||Ee})(vt),rt=we(vt),ft=Ge.querySelector("#"+Me);if(ft)return ft;const _t=(null!==(it=vt.ownerDocument)&&void 0!==it?it:document).createElement("style");return _t.id=Me,_t.textContent=`@${rt}keyframes ${Me} { ${Ee} } @${rt}keyframes ${Me}-alt { ${Ee} }`,Ge.appendChild(_t),_t})(At,Be,oe);In.push(Xe),de(oe,"animation-duration",`${he()}ms`),de(oe,"animation-timing-function",Je()),de(oe,"animation-delay",`${z()}ms`),de(oe,"animation-fill-mode",Fn()),de(oe,"animation-direction",gr());const dt=K()===1/0?"infinite":K().toString();de(oe,"animation-iteration-count",dt),de(oe,"animation-play-state","paused"),ae&&de(oe,"animation-name",`${Xe.id}-alt`),(0,y.r)(()=>{de(oe,"animation-name",Xe.id||null)})}})},Xn=(ae=!0)=>{(()=>{Bt.forEach(Be=>Be()),rr.forEach(Be=>Be());const ae=Ze,G=xe,oe=pt;En.forEach(Be=>{const Xe=Be.classList;ae.forEach(dt=>Xe.add(dt)),G.forEach(dt=>Xe.remove(dt));for(const dt in oe)oe.hasOwnProperty(dt)&&de(Be,dt,oe[dt])})})(),_t.length>0&&(ir?(En.forEach(ae=>{const G=ae.animate(_t,{id:Jt,delay:z(),duration:he(),easing:Je(),iterations:K(),fill:Fn(),direction:gr()});G.pause(),nn.push(G)}),nn.length>0&&(nn[0].onfinish=()=>{Wt()})):_n(ae)),St=!0},Jn=ae=>{if(ae=Math.min(Math.max(ae,0),.9999),ir)nn.forEach(G=>{G.currentTime=G.effect.getComputedTiming().delay+he()*ae,G.pause()});else{const G=`-${he()*ae}ms`;En.forEach(oe=>{_t.length>0&&(de(oe,"animation-delay",G),de(oe,"animation-play-state","paused"))})}},Wr=ae=>{nn.forEach(G=>{G.effect.updateTiming({delay:z(),duration:he(),easing:Je(),iterations:K(),fill:Fn(),direction:gr()})}),void 0!==ae&&Jn(ae)},_r=(ae=!0,G)=>{(0,y.r)(()=>{En.forEach(oe=>{de(oe,"animation-name",At||null),de(oe,"animation-duration",`${he()}ms`),de(oe,"animation-timing-function",Je()),de(oe,"animation-delay",void 0!==G?`-${G*he()}ms`:`${z()}ms`),de(oe,"animation-fill-mode",Fn()||null),de(oe,"animation-direction",gr()||null);const Be=K()===1/0?"infinite":K().toString();de(oe,"animation-iteration-count",Be),ae&&de(oe,"animation-name",`${At}-alt`),(0,y.r)(()=>{de(oe,"animation-name",At||null)})})})},or=(ae=!1,G=!0,oe)=>(ae&&Nt.forEach(Be=>{Be.update(ae,G,oe)}),ir?Wr(oe):_r(G,oe),et),Ds=()=>{St&&(ir?nn.forEach(ae=>{ae.pause()}):En.forEach(ae=>{de(ae,"animation-play-state","paused")}),Ot=!0)},ns=()=>{Fe=void 0,Wt()},js=()=>{Fe&&clearTimeout(Fe)},ps=ae=>new Promise(G=>{null!=ae&&ae.sync&&(ke=!0,Cr(()=>ke=!1,{oneTimeCallback:!0})),St||Xn(),Pt&&(ir?(Jn(0),Wr()):_r(),Pt=!1),sn&&(je=Nt.length+1,sn=!1),Cr(()=>G(),{oneTimeCallback:!0}),Nt.forEach(oe=>{oe.play()}),ir?(nn.forEach(ae=>{ae.play()}),(0===_t.length||0===En.length)&&Wt()):(()=>{if(js(),(0,y.r)(()=>{En.forEach(ae=>{_t.length>0&&de(ae,"animation-play-state","running")})}),0===_t.length||0===En.length)Wt();else{const ae=z()||0,G=he()||0,oe=K()||1;isFinite(oe)&&(Fe=setTimeout(ns,ae+G*oe+100)),((Me,Ee)=>{let vt;const it={passive:!0},rt=ft=>{Me===ft.target&&(vt&&vt(),js(),(0,y.r)(()=>{En.forEach(ae=>{De(ae,"animation-duration"),De(ae,"animation-delay"),De(ae,"animation-play-state")}),(0,y.r)(Wt)}))};Me&&(Me.addEventListener("webkitAnimationEnd",rt,it),Me.addEventListener("animationend",rt,it),vt=()=>{Me.removeEventListener("webkitAnimationEnd",rt,it),Me.removeEventListener("animationend",rt,it)})})(En[0])}})(),Ot=!1}),W=(ae,G)=>{const oe=_t[0];return void 0===oe||void 0!==oe.offset&&0!==oe.offset?_t=[{offset:0,[ae]:G},..._t]:oe[ae]=G,et};return et={parentAnimation:tt,elements:En,childAnimations:Nt,id:Jt,animationFinish:Wt,from:W,to:(ae,G)=>{const oe=_t[_t.length-1];return void 0===oe||void 0!==oe.offset&&1!==oe.offset?_t=[..._t,{offset:1,[ae]:G}]:oe[ae]=G,et},fromTo:(ae,G,oe)=>W(ae,G).to(ae,oe),parent:ae=>(tt=ae,et),play:ps,pause:()=>(Nt.forEach(ae=>{ae.pause()}),Ds(),et),stop:()=>{Nt.forEach(ae=>{ae.stop()}),St&&(ur(),St=!1),We=!1,ke=!1,sn=!0,He=void 0,mt=void 0,ct=void 0,je=0,Pt=!1,Tt=!0,Ot=!1},destroy:ae=>(Nt.forEach(G=>{G.destroy(ae)}),(ae=>{ur(),ae&&Nr()})(ae),En.length=0,Nt.length=0,_t.length=0,fn.length=0,Tn.length=0,St=!1,sn=!0,et),keyframes:ae=>{const G=_t!==ae;return _t=ae,G&&(ae=>{ir?Tr().forEach(G=>{if(G.effect.setKeyframes)G.effect.setKeyframes(ae);else{const oe=new KeyframeEffect(G.effect.target,ae,G.effect.getTiming());G.effect=oe}}):_n()})(_t),et},addAnimation:ae=>{if(null!=ae)if(Array.isArray(ae))for(const G of ae)G.parent(et),Nt.push(G);else ae.parent(et),Nt.push(ae);return et},addElement:ae=>{if(null!=ae)if(1===ae.nodeType)En.push(ae);else if(ae.length>=0)for(let G=0;G<ae.length;G++)En.push(ae[G]);else console.error("Invalid addElement value");return et},update:or,fill:ae=>(rt=ae,or(!0),et),direction:ae=>(ft=ae,or(!0),et),iterations:ae=>(Ge=ae,or(!0),et),duration:ae=>(!ir&&0===ae&&(ae=1),vt=ae,or(!0),et),easing:ae=>(it=ae,or(!0),et),delay:ae=>(Ee=ae,or(!0),et),getWebAnimations:Tr,getKeyframes:()=>_t,getFill:Fn,getDirection:gr,getDelay:z,getIterations:K,getEasing:Je,getDuration:he,afterAddRead:ae=>(hr.push(ae),et),afterAddWrite:ae=>(pr.push(ae),et),afterClearStyles:(ae=[])=>{for(const G of ae)Pe[G]="";return et},afterStyles:(ae={})=>(Pe=ae,et),afterRemoveClass:ae=>(ce=qe(ce,ae),et),afterAddClass:ae=>(yt=qe(yt,ae),et),beforeAddRead:ae=>(Bt.push(ae),et),beforeAddWrite:ae=>(rr.push(ae),et),beforeClearStyles:(ae=[])=>{for(const G of ae)pt[G]="";return et},beforeStyles:(ae={})=>(pt=ae,et),beforeRemoveClass:ae=>(xe=qe(xe,ae),et),beforeAddClass:ae=>(Ze=qe(Ze,ae),et),onFinish:Cr,isRunning:()=>0!==je&&!Ot,progressStart:(ae=!1,G)=>(Nt.forEach(oe=>{oe.progressStart(ae,G)}),Ds(),We=ae,St||Xn(),or(!1,!0,G),et),progressStep:ae=>(Nt.forEach(G=>{G.progressStep(ae)}),Jn(ae),et),progressEnd:(ae,G,oe)=>(We=!1,Nt.forEach(Be=>{Be.progressEnd(ae,G,oe)}),void 0!==oe&&(mt=oe),Pt=!1,Tt=!0,0===ae?(He="reverse"===gr()?"normal":"reverse","reverse"===He&&(Tt=!1),ir?(or(),Jn(1-G)):(ct=(1-G)*he()*-1,or(!1,!1))):1===ae&&(ir?(or(),Jn(G)):(ct=G*he()*-1,or(!1,!1))),void 0!==ae&&(Cr(()=>{mt=void 0,He=void 0,ct=void 0},{oneTimeCallback:!0}),tt||ps()),et)}}},3982:(ln,ut,L)=>{"use strict";L.d(ut,{E:()=>U,a:()=>y,s:()=>De});const y=Ce=>{try{if(Ce instanceof de)return Ce.value;if(!me()||"string"!=typeof Ce||""===Ce)return Ce;if(Ce.includes("onload="))return"";const Ue=document.createDocumentFragment(),ve=document.createElement("div");Ue.appendChild(ve),ve.innerHTML=Ce,we.forEach(Me=>{const Ee=Ue.querySelectorAll(Me);for(let vt=Ee.length-1;vt>=0;vt--){const it=Ee[vt];it.parentNode?it.parentNode.removeChild(it):Ue.removeChild(it);const Ge=ie(it);for(let rt=0;rt<Ge.length;rt++)g(Ge[rt])}});const Ve=ie(Ue);for(let Me=0;Me<Ve.length;Me++)g(Ve[Me]);const qe=document.createElement("div");qe.appendChild(Ue);const bt=qe.querySelector("div");return null!==bt?bt.innerHTML:qe.innerHTML}catch(Ue){return console.error(Ue),""}},g=Ce=>{if(Ce.nodeType&&1!==Ce.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Ce.attributes instanceof NamedNodeMap))return void Ce.remove();for(let ve=Ce.attributes.length-1;ve>=0;ve--){const Ve=Ce.attributes.item(ve),qe=Ve.name;if(!be.includes(qe.toLowerCase())){Ce.removeAttribute(qe);continue}const bt=Ve.value,Me=Ce[qe];(null!=bt&&bt.toLowerCase().includes("javascript:")||null!=Me&&Me.toLowerCase().includes("javascript:"))&&Ce.removeAttribute(qe)}const Ue=ie(Ce);for(let ve=0;ve<Ue.length;ve++)g(Ue[ve])},ie=Ce=>null!=Ce.children?Ce.children:Ce.childNodes,me=()=>{var Ce;const Ue=window,ve=null===(Ce=null==Ue?void 0:Ue.Ionic)||void 0===Ce?void 0:Ce.config;return!ve||(ve.get?ve.get("sanitizerEnabled",!0):!0===ve.sanitizerEnabled||void 0===ve.sanitizerEnabled)},be=["class","id","href","src","name","slot"],we=["script","style","iframe","meta","link","object","embed"];class de{constructor(Ue){this.value=Ue}}const De=Ce=>{const Ue=window,ve=Ue.Ionic;if(!ve||!ve.config||"Object"===ve.config.constructor.name)return Ue.Ionic=Ue.Ionic||{},Ue.Ionic.config=Object.assign(Object.assign({},Ue.Ionic.config),Ce),Ue.Ionic.config},U=!1},6782:(ln,ut,L)=>{"use strict";L.d(ut,{C:()=>be,a:()=>ie,d:()=>me});var y=L(5861),g=L(3577);const ie=function(){var we=(0,y.Z)(function*(de,De,$e,U,Ce,Ue){var ve;if(de)return de.attachViewToDom(De,$e,Ce,U);if(!(Ue||"string"==typeof $e||$e instanceof HTMLElement))throw new Error("framework delegate is missing");const Ve="string"==typeof $e?null===(ve=De.ownerDocument)||void 0===ve?void 0:ve.createElement($e):$e;return U&&U.forEach(qe=>Ve.classList.add(qe)),Ce&&Object.assign(Ve,Ce),De.appendChild(Ve),yield new Promise(qe=>(0,g.c)(Ve,qe)),Ve});return function(De,$e,U,Ce,Ue,ve){return we.apply(this,arguments)}}(),me=(we,de)=>{if(de){if(we)return we.removeViewFromDom(de.parentElement,de);de.remove()}return Promise.resolve()},be=()=>{let we,de;return{attachViewToDom:function(){var U=(0,y.Z)(function*(Ce,Ue,ve={},Ve=[]){var qe,bt;if(we=Ce,Ue){const Ee="string"==typeof Ue?null===(qe=we.ownerDocument)||void 0===qe?void 0:qe.createElement(Ue):Ue;Ve.forEach(vt=>Ee.classList.add(vt)),Object.assign(Ee,ve),we.appendChild(Ee),yield new Promise(vt=>(0,g.c)(Ee,vt))}else if(we.children.length>0&&("ION-MODAL"===we.tagName||"ION-POPOVER"===we.tagName)&&!we.children[0].classList.contains("ion-delegate-host")){const vt=null===(bt=we.ownerDocument)||void 0===bt?void 0:bt.createElement("div");vt.classList.add("ion-delegate-host"),Ve.forEach(it=>vt.classList.add(it)),vt.append(...we.children),we.appendChild(vt)}const Me=document.querySelector("ion-app")||document.body;return de=document.createComment("ionic teleport"),we.parentNode.insertBefore(de,we),Me.appendChild(we),we});return function(Ue,ve){return U.apply(this,arguments)}}(),removeViewFromDom:()=>(we&&de&&(de.parentNode.insertBefore(we,de),de.remove()),Promise.resolve())}}},4349:(ln,ut,L)=>{"use strict";L.d(ut,{G:()=>be});class g{constructor(de,De,$e,U,Ce){this.id=De,this.name=$e,this.disableScroll=Ce,this.priority=1e6*U+De,this.ctrl=de}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const de=this.ctrl.capture(this.name,this.id,this.priority);return de&&this.disableScroll&&this.ctrl.disableScroll(this.id),de}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ie{constructor(de,De,$e,U){this.id=De,this.disable=$e,this.disableScroll=U,this.ctrl=de}block(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.disableGesture(de,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.enableGesture(de,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const me="backdrop-no-scroll",be=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(de){var De;return new g(this,this.newID(),de.name,null!==(De=de.priority)&&void 0!==De?De:0,!!de.disableScroll)}createBlocker(de={}){return new ie(this,this.newID(),de.disable,!!de.disableScroll)}start(de,De,$e){return this.canStart(de)?(this.requestedStart.set(De,$e),!0):(this.requestedStart.delete(De),!1)}capture(de,De,$e){if(!this.start(de,De,$e))return!1;const U=this.requestedStart;let Ce=-1e4;if(U.forEach(Ue=>{Ce=Math.max(Ce,Ue)}),Ce===$e){this.capturedId=De,U.clear();const Ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:de}});return document.dispatchEvent(Ue),!0}return U.delete(De),!1}release(de){this.requestedStart.delete(de),this.capturedId===de&&(this.capturedId=void 0)}disableGesture(de,De){let $e=this.disabledGestures.get(de);void 0===$e&&($e=new Set,this.disabledGestures.set(de,$e)),$e.add(De)}enableGesture(de,De){const $e=this.disabledGestures.get(de);void 0!==$e&&$e.delete(De)}disableScroll(de){this.disabledScroll.add(de),1===this.disabledScroll.size&&document.body.classList.add(me)}enableScroll(de){this.disabledScroll.delete(de),0===this.disabledScroll.size&&document.body.classList.remove(me)}canStart(de){return!(void 0!==this.capturedId||this.isDisabled(de))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(de){const De=this.disabledGestures.get(de);return!!(De&&De.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(ln,ut,L)=>{"use strict";L.r(ut),L.d(ut,{MENU_BACK_BUTTON_PRIORITY:()=>be,OVERLAY_BACK_BUTTON_PRIORITY:()=>me,blockHardwareBackButton:()=>g,startHardwareBackButton:()=>ie});var y=L(5861);const g=()=>{document.addEventListener("backbutton",()=>{})},ie=()=>{const we=document;let de=!1;we.addEventListener("backbutton",()=>{if(de)return;let De=0,$e=[];const U=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ve,Ve){$e.push({priority:ve,handler:Ve,id:De++})}}});we.dispatchEvent(U);const Ce=function(){var ve=(0,y.Z)(function*(Ve){try{if(null!=Ve&&Ve.handler){const qe=Ve.handler(Ue);null!=qe&&(yield qe)}}catch(qe){console.error(qe)}});return function(qe){return ve.apply(this,arguments)}}(),Ue=()=>{if($e.length>0){let ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(Ve=>{Ve.priority>=ve.priority&&(ve=Ve)}),de=!0,$e=$e.filter(Ve=>Ve.id!==ve.id),Ce(ve).then(()=>de=!1)}};Ue()})},me=100,be=99},3577:(ln,ut,L)=>{"use strict";L.d(ut,{a:()=>De,b:()=>$e,c:()=>ie,d:()=>bt,e:()=>qe,f:()=>Ve,g:()=>U,h:()=>ve,i:()=>de,j:()=>rt,k:()=>be,l:()=>Me,m:()=>me,n:()=>Ue,o:()=>Ee,p:()=>it,q:()=>Ge,r:()=>Ce,s:()=>_t,t:()=>y,u:()=>ft,v:()=>vt});const y=(Ze,xe=0)=>new Promise(St=>{g(Ze,xe,St)}),g=(Ze,xe=0,St)=>{let tt,pt;const yt={passive:!0},Pe=()=>{tt&&tt()},je=We=>{(void 0===We||Ze===We.target)&&(Pe(),St(We))};return Ze&&(Ze.addEventListener("webkitTransitionEnd",je,yt),Ze.addEventListener("transitionend",je,yt),pt=setTimeout(je,xe+500),tt=()=>{pt&&(clearTimeout(pt),pt=void 0),Ze.removeEventListener("webkitTransitionEnd",je,yt),Ze.removeEventListener("transitionend",je,yt)}),Pe},ie=(Ze,xe)=>{Ze.componentOnReady?Ze.componentOnReady().then(St=>xe(St)):Ce(()=>xe(Ze))},me=Ze=>void 0!==Ze.componentOnReady,be=(Ze,xe=[])=>{const St={};return xe.forEach(tt=>{Ze.hasAttribute(tt)&&(null!==Ze.getAttribute(tt)&&(St[tt]=Ze.getAttribute(tt)),Ze.removeAttribute(tt))}),St},we=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],de=(Ze,xe)=>{let St=we;return xe&&xe.length>0&&(St=St.filter(tt=>!xe.includes(tt))),be(Ze,St)},De=(Ze,xe,St,tt)=>{var pt;if(typeof window<"u"){const yt=window,ce=null===(pt=null==yt?void 0:yt.Ionic)||void 0===pt?void 0:pt.config;if(ce){const Pe=ce.get("_ael");if(Pe)return Pe(Ze,xe,St,tt);if(ce._ael)return ce._ael(Ze,xe,St,tt)}}return Ze.addEventListener(xe,St,tt)},$e=(Ze,xe,St,tt)=>{var pt;if(typeof window<"u"){const yt=window,ce=null===(pt=null==yt?void 0:yt.Ionic)||void 0===pt?void 0:pt.config;if(ce){const Pe=ce.get("_rel");if(Pe)return Pe(Ze,xe,St,tt);if(ce._rel)return ce._rel(Ze,xe,St,tt)}}return Ze.removeEventListener(xe,St,tt)},U=(Ze,xe=Ze)=>Ze.shadowRoot||xe,Ce=Ze=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ze):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ze):setTimeout(Ze),Ue=Ze=>!!Ze.shadowRoot&&!!Ze.attachShadow,ve=Ze=>{const xe=Ze.closest("ion-item");return xe?xe.querySelector("ion-label"):null},Ve=Ze=>{if(Ze.focus(),Ze.classList.contains("ion-focusable")){const xe=Ze.closest("ion-app");xe&&xe.setFocus([Ze])}},qe=(Ze,xe)=>{let St;const tt=Ze.getAttribute("aria-labelledby"),pt=Ze.id;let yt=null!==tt&&""!==tt.trim()?tt:xe+"-lbl",ce=null!==tt&&""!==tt.trim()?document.getElementById(tt):ve(Ze);return ce?(null===tt&&(ce.id=yt),St=ce.textContent,ce.setAttribute("aria-hidden","true")):""!==pt.trim()&&(ce=document.querySelector(`label[for="${pt}"]`),ce&&(""!==ce.id?yt=ce.id:ce.id=yt=`${pt}-lbl`,St=ce.textContent)),{label:ce,labelId:yt,labelText:St}},bt=(Ze,xe,St,tt,pt)=>{if(Ze||Ue(xe)){let yt=xe.querySelector("input.aux-input");yt||(yt=xe.ownerDocument.createElement("input"),yt.type="hidden",yt.classList.add("aux-input"),xe.appendChild(yt)),yt.disabled=pt,yt.name=St,yt.value=tt||""}},Me=(Ze,xe,St)=>Math.max(Ze,Math.min(xe,St)),Ee=(Ze,xe)=>{if(!Ze){const St="ASSERT: "+xe;throw console.error(St),new Error(St)}},vt=Ze=>Ze.timeStamp||Date.now(),it=Ze=>{if(Ze){const xe=Ze.changedTouches;if(xe&&xe.length>0){const St=xe[0];return{x:St.clientX,y:St.clientY}}if(void 0!==Ze.pageX)return{x:Ze.pageX,y:Ze.pageY}}return{x:0,y:0}},Ge=Ze=>{const xe="rtl"===document.dir;switch(Ze){case"start":return xe;case"end":return!xe;default:throw new Error(`"${Ze}" is not a valid value for [side]. Use "start" or "end" instead.`)}},rt=(Ze,xe)=>{const St=Ze._original||Ze;return{_original:Ze,emit:ft(St.emit.bind(St),xe)}},ft=(Ze,xe=0)=>{let St;return(...tt)=>{clearTimeout(St),St=setTimeout(Ze,xe,...tt)}},_t=(Ze,xe)=>{if(null!=Ze||(Ze={}),null!=xe||(xe={}),Ze===xe)return!0;const St=Object.keys(Ze);if(St.length!==Object.keys(xe).length)return!1;for(const tt of St)if(!(tt in xe)||Ze[tt]!==xe[tt])return!1;return!0}},3457:(ln,ut,L)=>{"use strict";L.d(ut,{w:()=>y});const y=typeof window<"u"?window:void 0},1898:(ln,ut,L)=>{"use strict";L.r(ut),L.d(ut,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>$e});var y=L(4349);const g=(ve,Ve,qe,bt)=>{const Me=ie(ve)?{capture:!!bt.capture,passive:!!bt.passive}:!!bt.capture;let Ee,vt;return ve.__zone_symbol__addEventListener?(Ee="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(Ee="addEventListener",vt="removeEventListener"),ve[Ee](Ve,qe,Me),()=>{ve[vt](Ve,qe,Me)}},ie=ve=>{if(void 0===me)try{const Ve=Object.defineProperty({},"passive",{get:()=>{me=!0}});ve.addEventListener("optsTest",()=>{},Ve)}catch{me=!1}return!!me};let me;const de=ve=>ve instanceof Document?ve:ve.ownerDocument,$e=ve=>{let Ve=!1,qe=!1,bt=!0,Me=!1;const Ee=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ve),vt=Ee.canStart,it=Ee.onWillStart,Ge=Ee.onStart,rt=Ee.onEnd,ft=Ee.notCaptured,_t=Ee.onMove,Ze=Ee.threshold,xe=Ee.passive,St=Ee.blurOnStart,tt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},pt=((ve,Ve,qe)=>{const bt=qe*(Math.PI/180),Me="x"===ve,Ee=Math.cos(bt),vt=Ve*Ve;let it=0,Ge=0,rt=!1,ft=0;return{start(_t,Ze){it=_t,Ge=Ze,ft=0,rt=!0},detect(_t,Ze){if(!rt)return!1;const xe=_t-it,St=Ze-Ge,tt=xe*xe+St*St;if(tt<vt)return!1;const pt=Math.sqrt(tt),yt=(Me?xe:St)/pt;return ft=yt>Ee?1:yt<-Ee?-1:0,rt=!1,!0},isGesture:()=>0!==ft,getDirection:()=>ft}})(Ee.direction,Ee.threshold,Ee.maxAngle),yt=y.G.createGesture({name:ve.gestureName,priority:ve.gesturePriority,disableScroll:ve.disableScroll}),je=()=>{Ve&&(Me=!1,_t&&_t(tt))},We=()=>!!yt.capture()&&(Ve=!0,bt=!1,tt.startX=tt.currentX,tt.startY=tt.currentY,tt.startTime=tt.currentTime,it?it(tt).then(Fe):Fe(),!0),Fe=()=>{St&&(()=>{if(typeof document<"u"){const Pt=document.activeElement;null!=Pt&&Pt.blur&&Pt.blur()}})(),Ge&&Ge(tt),bt=!0},He=()=>{Ve=!1,qe=!1,Me=!1,bt=!0,yt.release()},mt=Pt=>{const sn=Ve,At=bt;if(He(),At){if(U(tt,Pt),sn)return void(rt&&rt(tt));ft&&ft(tt)}},ct=((ve,Ve,qe,bt,Me)=>{let Ee,vt,it,Ge,rt,ft,_t,Ze=0;const xe=ke=>{Ze=Date.now()+2e3,Ve(ke)&&(!vt&&qe&&(vt=g(ve,"touchmove",qe,Me)),it||(it=g(ke.target,"touchend",tt,Me)),Ge||(Ge=g(ke.target,"touchcancel",tt,Me)))},St=ke=>{Ze>Date.now()||Ve(ke)&&(!ft&&qe&&(ft=g(de(ve),"mousemove",qe,Me)),_t||(_t=g(de(ve),"mouseup",pt,Me)))},tt=ke=>{yt(),bt&&bt(ke)},pt=ke=>{ce(),bt&&bt(ke)},yt=()=>{vt&&vt(),it&&it(),Ge&&Ge(),vt=it=Ge=void 0},ce=()=>{ft&&ft(),_t&&_t(),ft=_t=void 0},Pe=()=>{yt(),ce()},je=(ke=!0)=>{ke?(Ee||(Ee=g(ve,"touchstart",xe,Me)),rt||(rt=g(ve,"mousedown",St,Me))):(Ee&&Ee(),rt&&rt(),Ee=rt=void 0,Pe())};return{enable:je,stop:Pe,destroy:()=>{je(!1),bt=qe=Ve=void 0}}})(Ee.el,Pt=>{const sn=Ue(Pt);return!(qe||!bt||(Ce(Pt,tt),tt.startX=tt.currentX,tt.startY=tt.currentY,tt.startTime=tt.currentTime=sn,tt.velocityX=tt.velocityY=tt.deltaX=tt.deltaY=0,tt.event=Pt,vt&&!1===vt(tt))||(yt.release(),!yt.start()))&&(qe=!0,0===Ze?We():(pt.start(tt.startX,tt.startY),!0))},Pt=>{Ve?!Me&&bt&&(Me=!0,U(tt,Pt),requestAnimationFrame(je)):(U(tt,Pt),pt.detect(tt.currentX,tt.currentY)&&(!pt.isGesture()||!We())&&Tt())},mt,{capture:!1,passive:xe}),Tt=()=>{He(),ct.stop(),ft&&ft(tt)};return{enable(Pt=!0){Pt||(Ve&&mt(void 0),He()),ct.enable(Pt)},destroy(){yt.destroy(),ct.destroy()}}},U=(ve,Ve)=>{if(!Ve)return;const qe=ve.currentX,bt=ve.currentY,Me=ve.currentTime;Ce(Ve,ve);const Ee=ve.currentX,vt=ve.currentY,Ge=(ve.currentTime=Ue(Ve))-Me;if(Ge>0&&Ge<100){const ft=(vt-bt)/Ge;ve.velocityX=(Ee-qe)/Ge*.7+.3*ve.velocityX,ve.velocityY=.7*ft+.3*ve.velocityY}ve.deltaX=Ee-ve.startX,ve.deltaY=vt-ve.startY,ve.event=Ve},Ce=(ve,Ve)=>{let qe=0,bt=0;if(ve){const Me=ve.changedTouches;if(Me&&Me.length>0){const Ee=Me[0];qe=Ee.clientX,bt=Ee.clientY}else void 0!==ve.pageX&&(qe=ve.pageX,bt=ve.pageY)}Ve.currentX=qe,Ve.currentY=bt},Ue=ve=>ve.timeStamp||Date.now()},4083:(ln,ut,L)=>{"use strict";L.d(ut,{B:()=>Ce,H:()=>Pe,a:()=>fi,b:()=>ht,c:()=>Pt,d:()=>Ot,e:()=>ps,f:()=>et,g:()=>sn,h:()=>yt,i:()=>mn,j:()=>Ue,p:()=>Ds,r:()=>Dt,w:()=>Zs});var y=L(5861);let ie,me,be,we=!1,de=!1,De=!1,$e=!1,U=!1;const Ce={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ue=W=>{const ee=new URL(W,Zn.$resourcesUrl$);return ee.origin!==_r.location.origin?ee.href:ee.pathname},vt="s-id",it="sty-id",ft="http://www.w3.org/1999/xlink",_t={},tt=W=>"object"==(W=typeof W)||"function"===W;function pt(W){var ee,_e,ae;return null!==(ae=null===(_e=null===(ee=W.head)||void 0===ee?void 0:ee.querySelector('meta[name="csp-nonce"]'))||void 0===_e?void 0:_e.getAttribute("content"))&&void 0!==ae?ae:void 0}const yt=(W,ee,..._e)=>{let ae=null,G=null,oe=null,Be=!1,Xe=!1;const dt=[],xt=dn=>{for(let Un=0;Un<dn.length;Un++)ae=dn[Un],Array.isArray(ae)?xt(ae):null!=ae&&"boolean"!=typeof ae&&((Be="function"!=typeof W&&!tt(ae))&&(ae=String(ae)),Be&&Xe?dt[dt.length-1].$text$+=ae:dt.push(Be?ce(null,ae):ae),Xe=Be)};if(xt(_e),ee){ee.key&&(G=ee.key),ee.name&&(oe=ee.name);{const dn=ee.className||ee.class;dn&&(ee.class="object"!=typeof dn?dn:Object.keys(dn).filter(Un=>dn[Un]).join(" "))}}if("function"==typeof W)return W(null===ee?{}:ee,dt,We);const on=ce(W,null);return on.$attrs$=ee,dt.length>0&&(on.$children$=dt),on.$key$=G,on.$name$=oe,on},ce=(W,ee)=>({$flags$:0,$tag$:W,$text$:ee,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pe={},We={forEach:(W,ee)=>W.map(ke).forEach(ee),map:(W,ee)=>W.map(ke).map(ee).map(Fe)},ke=W=>({vattrs:W.$attrs$,vchildren:W.$children$,vkey:W.$key$,vname:W.$name$,vtag:W.$tag$,vtext:W.$text$}),Fe=W=>{if("function"==typeof W.vtag){const _e=Object.assign({},W.vattrs);return W.vkey&&(_e.key=W.vkey),W.vname&&(_e.name=W.vname),yt(W.vtag,_e,...W.vchildren||[])}const ee=ce(W.vtag,W.vtext);return ee.$attrs$=W.vattrs,ee.$children$=W.vchildren,ee.$key$=W.vkey,ee.$name$=W.vname,ee},mt=(W,ee,_e,ae,G,oe,Be)=>{let Xe,dt,xt,on;if(1===oe.nodeType){for(Xe=oe.getAttribute("c-id"),Xe&&(dt=Xe.split("."),(dt[0]===Be||"0"===dt[0])&&(xt={$flags$:0,$hostId$:dt[0],$nodeId$:dt[1],$depth$:dt[2],$index$:dt[3],$tag$:oe.tagName.toLowerCase(),$elm$:oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ee.push(xt),oe.removeAttribute("c-id"),W.$children$||(W.$children$=[]),W.$children$[xt.$index$]=xt,W=xt,ae&&"0"===xt.$depth$&&(ae[xt.$index$]=xt.$elm$))),on=oe.childNodes.length-1;on>=0;on--)mt(W,ee,_e,ae,G,oe.childNodes[on],Be);if(oe.shadowRoot)for(on=oe.shadowRoot.childNodes.length-1;on>=0;on--)mt(W,ee,_e,ae,G,oe.shadowRoot.childNodes[on],Be)}else if(8===oe.nodeType)dt=oe.nodeValue.split("."),(dt[1]===Be||"0"===dt[1])&&(Xe=dt[0],xt={$flags$:0,$hostId$:dt[1],$nodeId$:dt[2],$depth$:dt[3],$index$:dt[4],$elm$:oe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xe?(xt.$elm$=oe.nextSibling,xt.$elm$&&3===xt.$elm$.nodeType&&(xt.$text$=xt.$elm$.textContent,ee.push(xt),oe.remove(),W.$children$||(W.$children$=[]),W.$children$[xt.$index$]=xt,ae&&"0"===xt.$depth$&&(ae[xt.$index$]=xt.$elm$))):xt.$hostId$===Be&&("s"===Xe?(xt.$tag$="slot",oe["s-sn"]=dt[5]?xt.$name$=dt[5]:"",oe["s-sr"]=!0,ae&&(xt.$elm$=or.createElement(xt.$tag$),xt.$name$&&xt.$elm$.setAttribute("name",xt.$name$),oe.parentNode.insertBefore(xt.$elm$,oe),oe.remove(),"0"===xt.$depth$&&(ae[xt.$index$]=xt.$elm$)),_e.push(xt),W.$children$||(W.$children$=[]),W.$children$[xt.$index$]=xt):"r"===Xe&&(ae?oe.remove():(G["s-cr"]=oe,oe["s-cn"]=!0))));else if(W&&"style"===W.$tag$){const dn=ce(null,oe.textContent);dn.$elm$=oe,dn.$index$="0",W.$children$=[dn]}},ct=(W,ee)=>{if(1===W.nodeType){let _e=0;for(;_e<W.childNodes.length;_e++)ct(W.childNodes[_e],ee);if(W.shadowRoot)for(_e=0;_e<W.shadowRoot.childNodes.length;_e++)ct(W.shadowRoot.childNodes[_e],ee)}else if(8===W.nodeType){const _e=W.nodeValue.split(".");"o"===_e[0]&&(ee.set(_e[1]+"."+_e[2],W),W.nodeValue="",W["s-en"]=_e[3])}},Pt=W=>Wr.push(W),sn=W=>zn(W).$modeName$,et=W=>zn(W).$hostElement$,Ot=(W,ee,_e)=>{const ae=et(W);return{emit:G=>Jt(ae,ee,{bubbles:!!(4&_e),composed:!!(2&_e),cancelable:!!(1&_e),detail:G})}},Jt=(W,ee,_e)=>{const ae=Zn.ce(ee,_e);return W.dispatchEvent(ae),ae},fn=new WeakMap,Tn=(W,ee,_e)=>{let ae=Jn.get(W);vi&&_e?(ae=ae||new CSSStyleSheet,"string"==typeof ae?ae=ee:ae.replaceSync(ee)):ae=ee,Jn.set(W,ae)},En=(W,ee,_e,ae)=>{var G;let oe=In(ee,_e);const Be=Jn.get(oe);if(W=11===W.nodeType?W:or,Be)if("string"==typeof Be){let dt,Xe=fn.get(W=W.head||W);if(Xe||fn.set(W,Xe=new Set),!Xe.has(oe)){if(W.host&&(dt=W.querySelector(`[${it}="${oe}"]`)))dt.innerHTML=Be;else{dt=or.createElement("style"),dt.innerHTML=Be;const xt=null!==(G=Zn.$nonce$)&&void 0!==G?G:pt(or);null!=xt&&dt.setAttribute("nonce",xt),W.insertBefore(dt,W.querySelector("link"))}Xe&&Xe.add(oe)}}else W.adoptedStyleSheets.includes(Be)||(W.adoptedStyleSheets=[...W.adoptedStyleSheets,Be]);return oe},In=(W,ee)=>"sc-"+(ee&&32&W.$flags$?W.$tagName$+"-"+ee:W.$tagName$),Bt=W=>W.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),rr=(W,ee,_e,ae,G,oe)=>{if(_e!==ae){let Be=Wt(W,ee),Xe=ee.toLowerCase();if("class"===ee){const dt=W.classList,xt=pr(_e),on=pr(ae);dt.remove(...xt.filter(dn=>dn&&!on.includes(dn))),dt.add(...on.filter(dn=>dn&&!xt.includes(dn)))}else if("style"===ee){for(const dt in _e)(!ae||null==ae[dt])&&(dt.includes("-")?W.style.removeProperty(dt):W.style[dt]="");for(const dt in ae)(!_e||ae[dt]!==_e[dt])&&(dt.includes("-")?W.style.setProperty(dt,ae[dt]):W.style[dt]=ae[dt])}else if("key"!==ee)if("ref"===ee)ae&&ae(W);else if(Be||"o"!==ee[0]||"n"!==ee[1]){const dt=tt(ae);if((Be||dt&&null!==ae)&&!G)try{if(W.tagName.includes("-"))W[ee]=ae;else{const on=null==ae?"":ae;"list"===ee?Be=!1:(null==_e||W[ee]!=on)&&(W[ee]=on)}}catch{}let xt=!1;Xe!==(Xe=Xe.replace(/^xlink\:?/,""))&&(ee=Xe,xt=!0),null==ae||!1===ae?(!1!==ae||""===W.getAttribute(ee))&&(xt?W.removeAttributeNS(ft,ee):W.removeAttribute(ee)):(!Be||4&oe||G)&&!dt&&(ae=!0===ae?"":ae,xt?W.setAttributeNS(ft,ee,ae):W.setAttribute(ee,ae))}else ee="-"===ee[2]?ee.slice(3):Wt(_r,Xe)?Xe.slice(2):Xe[2]+ee.slice(3),_e&&Zn.rel(W,ee,_e,!1),ae&&Zn.ael(W,ee,ae,!1)}},hr=/\s/,pr=W=>W?W.split(hr):[],nn=(W,ee,_e,ae)=>{const G=11===ee.$elm$.nodeType&&ee.$elm$.host?ee.$elm$.host:ee.$elm$,oe=W&&W.$attrs$||_t,Be=ee.$attrs$||_t;for(ae in oe)ae in Be||rr(G,ae,oe[ae],void 0,_e,ee.$flags$);for(ae in Be)rr(G,ae,oe[ae],Be[ae],_e,ee.$flags$)},Lr=(W,ee,_e,ae)=>{const G=ee.$children$[_e];let Be,Xe,dt,oe=0;if(we||(De=!0,"slot"===G.$tag$&&(ie&&ae.classList.add(ie+"-s"),G.$flags$|=G.$children$?2:1)),null!==G.$text$)Be=G.$elm$=or.createTextNode(G.$text$);else if(1&G.$flags$)Be=G.$elm$=or.createTextNode("");else{if($e||($e="svg"===G.$tag$),Be=G.$elm$=or.createElementNS($e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&G.$flags$?"slot-fb":G.$tag$),$e&&"foreignObject"===G.$tag$&&($e=!1),nn(null,G,$e),(W=>null!=W)(ie)&&Be["s-si"]!==ie&&Be.classList.add(Be["s-si"]=ie),G.$children$)for(oe=0;oe<G.$children$.length;++oe)Xe=Lr(W,G,oe,Be),Xe&&Be.appendChild(Xe);"svg"===G.$tag$?$e=!1:"foreignObject"===Be.tagName&&($e=!0)}return Be["s-hn"]=be,3&G.$flags$&&(Be["s-sr"]=!0,Be["s-cr"]=me,Be["s-sn"]=G.$name$||"",dt=W&&W.$children$&&W.$children$[_e],dt&&dt.$tag$===G.$tag$&&W.$elm$&&ir(W.$elm$,!1)),Be},ir=(W,ee)=>{Zn.$flags$|=1;const _e=W.childNodes;for(let ae=_e.length-1;ae>=0;ae--){const G=_e[ae];G["s-hn"]!==be&&G["s-ol"]&&(Vn(G).insertBefore(G,vn(G)),G["s-ol"].remove(),G["s-ol"]=void 0,De=!0),ee&&ir(G,ee)}Zn.$flags$&=-2},nr=(W,ee,_e,ae,G,oe)=>{let Xe,Be=W["s-cr"]&&W["s-cr"].parentNode||W;for(Be.shadowRoot&&Be.tagName===be&&(Be=Be.shadowRoot);G<=oe;++G)ae[G]&&(Xe=Lr(null,_e,G,W),Xe&&(ae[G].$elm$=Xe,Be.insertBefore(Xe,vn(ee))))},Tr=(W,ee,_e)=>{for(let ae=ee;ae<=_e;++ae){const G=W[ae];if(G){const oe=G.$elm$;Kn(G),oe&&(de=!0,oe["s-ol"]?oe["s-ol"].remove():ir(oe,!0),oe.remove())}}},Sn=(W,ee)=>W.$tag$===ee.$tag$&&("slot"===W.$tag$?W.$name$===ee.$name$:W.$key$===ee.$key$),vn=W=>W&&W["s-ol"]||W,Vn=W=>(W["s-ol"]?W["s-ol"]:W).parentNode,Cr=(W,ee)=>{const _e=ee.$elm$=W.$elm$,ae=W.$children$,G=ee.$children$,oe=ee.$tag$,Be=ee.$text$;let Xe;null===Be?($e="svg"===oe||"foreignObject"!==oe&&$e,"slot"===oe||nn(W,ee,$e),null!==ae&&null!==G?((W,ee,_e,ae)=>{let pi,Oi,G=0,oe=0,Be=0,Xe=0,dt=ee.length-1,xt=ee[0],on=ee[dt],dn=ae.length-1,Un=ae[0],ar=ae[dn];for(;G<=dt&&oe<=dn;)if(null==xt)xt=ee[++G];else if(null==on)on=ee[--dt];else if(null==Un)Un=ae[++oe];else if(null==ar)ar=ae[--dn];else if(Sn(xt,Un))Cr(xt,Un),xt=ee[++G],Un=ae[++oe];else if(Sn(on,ar))Cr(on,ar),on=ee[--dt],ar=ae[--dn];else if(Sn(xt,ar))("slot"===xt.$tag$||"slot"===ar.$tag$)&&ir(xt.$elm$.parentNode,!1),Cr(xt,ar),W.insertBefore(xt.$elm$,on.$elm$.nextSibling),xt=ee[++G],ar=ae[--dn];else if(Sn(on,Un))("slot"===xt.$tag$||"slot"===ar.$tag$)&&ir(on.$elm$.parentNode,!1),Cr(on,Un),W.insertBefore(on.$elm$,xt.$elm$),on=ee[--dt],Un=ae[++oe];else{for(Be=-1,Xe=G;Xe<=dt;++Xe)if(ee[Xe]&&null!==ee[Xe].$key$&&ee[Xe].$key$===Un.$key$){Be=Xe;break}Be>=0?(Oi=ee[Be],Oi.$tag$!==Un.$tag$?pi=Lr(ee&&ee[oe],_e,Be,W):(Cr(Oi,Un),ee[Be]=void 0,pi=Oi.$elm$),Un=ae[++oe]):(pi=Lr(ee&&ee[oe],_e,oe,W),Un=ae[++oe]),pi&&Vn(xt.$elm$).insertBefore(pi,vn(xt.$elm$))}G>dt?nr(W,null==ae[dn+1]?null:ae[dn+1].$elm$,_e,ae,oe,dn):oe>dn&&Tr(ee,G,dt)})(_e,ae,ee,G):null!==G?(null!==W.$text$&&(_e.textContent=""),nr(_e,null,ee,G,0,G.length-1)):null!==ae&&Tr(ae,0,ae.length-1),$e&&"svg"===oe&&($e=!1)):(Xe=_e["s-cr"])?Xe.parentNode.textContent=Be:W.$text$!==Be&&(_e.data=Be)},vr=W=>{const ee=W.childNodes;let _e,ae,G,oe,Be,Xe;for(ae=0,G=ee.length;ae<G;ae++)if(_e=ee[ae],1===_e.nodeType){if(_e["s-sr"])for(Be=_e["s-sn"],_e.hidden=!1,oe=0;oe<G;oe++)if(Xe=ee[oe].nodeType,ee[oe]["s-hn"]!==_e["s-hn"]||""!==Be){if(1===Xe&&Be===ee[oe].getAttribute("slot")){_e.hidden=!0;break}}else if(1===Xe||3===Xe&&""!==ee[oe].textContent.trim()){_e.hidden=!0;break}vr(_e)}},ur=[],Nr=W=>{let ee,_e,ae,G,oe,Be,Xe=0;const dt=W.childNodes,xt=dt.length;for(;Xe<xt;Xe++){if(ee=dt[Xe],ee["s-sr"]&&(_e=ee["s-cr"])&&_e.parentNode)for(ae=_e.parentNode.childNodes,G=ee["s-sn"],Be=ae.length-1;Be>=0;Be--)_e=ae[Be],!_e["s-cn"]&&!_e["s-nr"]&&_e["s-hn"]!==ee["s-hn"]&&(br(_e,G)?(oe=ur.find(on=>on.$nodeToRelocate$===_e),de=!0,_e["s-sn"]=_e["s-sn"]||G,oe?oe.$slotRefNode$=ee:ur.push({$slotRefNode$:ee,$nodeToRelocate$:_e}),_e["s-sr"]&&ur.map(on=>{br(on.$nodeToRelocate$,_e["s-sn"])&&(oe=ur.find(dn=>dn.$nodeToRelocate$===_e),oe&&!on.$slotRefNode$&&(on.$slotRefNode$=oe.$slotRefNode$))})):ur.some(on=>on.$nodeToRelocate$===_e)||ur.push({$nodeToRelocate$:_e}));1===ee.nodeType&&Nr(ee)}},br=(W,ee)=>1===W.nodeType?null===W.getAttribute("slot")&&""===ee||W.getAttribute("slot")===ee:W["s-sn"]===ee||""===ee,Kn=W=>{W.$attrs$&&W.$attrs$.ref&&W.$attrs$.ref(null),W.$children$&&W.$children$.map(Kn)},Jr=(W,ee)=>{ee&&!W.$onRenderResolve$&&ee["s-p"]&&ee["s-p"].push(new Promise(_e=>W.$onRenderResolve$=_e))},Hn=(W,ee)=>{if(W.$flags$|=16,!(4&W.$flags$))return Jr(W,W.$ancestorComponent$),Zs(()=>jt(W,ee));W.$flags$|=512},jt=(W,ee)=>{const ae=W.$lazyInstance$;let G;return ee&&(W.$flags$|=256,W.$queuedListeners$&&(W.$queuedListeners$.map(([oe,Be])=>Fn(ae,oe,Be)),W.$queuedListeners$=null),G=Fn(ae,"componentWillLoad")),G=fe(G,()=>Fn(ae,"componentWillRender")),fe(G,()=>ze(W,ae,ee))},fe=(W,ee)=>W instanceof Promise?W.then(ee):ee(),ze=function(){var W=(0,y.Z)(function*(ee,_e,ae){const G=ee.$hostElement$,Be=G["s-rc"];ae&&(W=>{const ee=W.$cmpMeta$,_e=W.$hostElement$,ae=ee.$flags$,oe=En(_e.shadowRoot?_e.shadowRoot:_e.getRootNode(),ee,W.$modeName$);10&ae&&(_e["s-sc"]=oe,_e.classList.add(oe+"-h"),2&ae&&_e.classList.add(oe+"-s"))})(ee);Mt(ee,_e),Be&&(Be.map(dt=>dt()),G["s-rc"]=void 0);{const dt=G["s-p"],xt=()=>an(ee);0===dt.length?xt():(Promise.all(dt).then(xt),ee.$flags$|=4,dt.length=0)}});return function(_e,ae,G){return W.apply(this,arguments)}}(),Mt=(W,ee,_e)=>{try{ee=ee.render&&ee.render(),W.$flags$&=-17,W.$flags$|=2,((W,ee)=>{const _e=W.$hostElement$,ae=W.$cmpMeta$,G=W.$vnode$||ce(null,null),oe=(W=>W&&W.$tag$===Pe)(ee)?ee:yt(null,null,ee);if(be=_e.tagName,ae.$attrsToReflect$&&(oe.$attrs$=oe.$attrs$||{},ae.$attrsToReflect$.map(([Be,Xe])=>oe.$attrs$[Xe]=_e[Be])),oe.$tag$=null,oe.$flags$|=4,W.$vnode$=oe,oe.$elm$=G.$elm$=_e.shadowRoot||_e,ie=_e["s-sc"],me=_e["s-cr"],we=0!=(1&ae.$flags$),de=!1,Cr(G,oe),Zn.$flags$|=1,De){Nr(oe.$elm$);let Be,Xe,dt,xt,on,dn,Un=0;for(;Un<ur.length;Un++)Be=ur[Un],Xe=Be.$nodeToRelocate$,Xe["s-ol"]||(dt=or.createTextNode(""),dt["s-nr"]=Xe,Xe.parentNode.insertBefore(Xe["s-ol"]=dt,Xe));for(Un=0;Un<ur.length;Un++)if(Be=ur[Un],Xe=Be.$nodeToRelocate$,Be.$slotRefNode$){for(xt=Be.$slotRefNode$.parentNode,on=Be.$slotRefNode$.nextSibling,dt=Xe["s-ol"];dt=dt.previousSibling;)if(dn=dt["s-nr"],dn&&dn["s-sn"]===Xe["s-sn"]&&xt===dn.parentNode&&(dn=dn.nextSibling,!dn||!dn["s-nr"])){on=dn;break}(!on&&xt!==Xe.parentNode||Xe.nextSibling!==on)&&Xe!==on&&(!Xe["s-hn"]&&Xe["s-ol"]&&(Xe["s-hn"]=Xe["s-ol"].parentNode.nodeName),xt.insertBefore(Xe,on))}else 1===Xe.nodeType&&(Xe.hidden=!0)}de&&vr(oe.$elm$),Zn.$flags$&=-2,ur.length=0})(W,ee)}catch(ae){_n(ae,W.$hostElement$)}return null},an=W=>{const _e=W.$hostElement$,G=W.$lazyInstance$,oe=W.$ancestorComponent$;Fn(G,"componentDidRender"),64&W.$flags$?Fn(G,"componentDidUpdate"):(W.$flags$|=64,gr(_e),Fn(G,"componentDidLoad"),W.$onReadyResolve$(_e),oe||fr()),W.$onInstanceResolve$(_e),W.$onRenderResolve$&&(W.$onRenderResolve$(),W.$onRenderResolve$=void 0),512&W.$flags$&&Ji(()=>Hn(W,!1)),W.$flags$&=-517},mn=W=>{{const ee=zn(W),_e=ee.$hostElement$.isConnected;return _e&&2==(18&ee.$flags$)&&Hn(ee,!1),_e}},fr=W=>{gr(or.documentElement),Ji(()=>Jt(_r,"appload",{detail:{namespace:"ionic"}}))},Fn=(W,ee,_e)=>{if(W&&W[ee])try{return W[ee](_e)}catch(ae){_n(ae)}},gr=W=>W.classList.add("hydrated"),K=(W,ee,_e)=>{if(ee.$members$){W.watchers&&(ee.$watchers$=W.watchers);const ae=Object.entries(ee.$members$),G=W.prototype;if(ae.map(([oe,[Be]])=>{31&Be||2&_e&&32&Be?Object.defineProperty(G,oe,{get(){return((W,ee)=>zn(this).$instanceValues$.get(ee))(0,oe)},set(Xe){((W,ee,_e,ae)=>{const G=zn(W),oe=G.$hostElement$,Be=G.$instanceValues$.get(ee),Xe=G.$flags$,dt=G.$lazyInstance$;_e=((W,ee)=>null==W||tt(W)?W:4&ee?"false"!==W&&(""===W||!!W):2&ee?parseFloat(W):1&ee?String(W):W)(_e,ae.$members$[ee][0]);const xt=Number.isNaN(Be)&&Number.isNaN(_e);if((!(8&Xe)||void 0===Be)&&_e!==Be&&!xt&&(G.$instanceValues$.set(ee,_e),dt)){if(ae.$watchers$&&128&Xe){const dn=ae.$watchers$[ee];dn&&dn.map(Un=>{try{dt[Un](_e,Be,ee)}catch(ar){_n(ar,oe)}})}2==(18&Xe)&&Hn(G,!1)}})(this,oe,Xe,ee)},configurable:!0,enumerable:!0}):1&_e&&64&Be&&Object.defineProperty(G,oe,{value(...Xe){const dt=zn(this);return dt.$onInstancePromise$.then(()=>dt.$lazyInstance$[oe](...Xe))}})}),1&_e){const oe=new Map;G.attributeChangedCallback=function(Be,Xe,dt){Zn.jmp(()=>{const xt=oe.get(Be);if(this.hasOwnProperty(xt))dt=this[xt],delete this[xt];else if(G.hasOwnProperty(xt)&&"number"==typeof this[xt]&&this[xt]==dt)return;this[xt]=(null!==dt||"boolean"!=typeof this[xt])&&dt})},W.observedAttributes=ae.filter(([Be,Xe])=>15&Xe[0]).map(([Be,Xe])=>{const dt=Xe[1]||Be;return oe.set(dt,Be),512&Xe[0]&&ee.$attrsToReflect$.push([Be,dt]),dt})}}return W},z=function(){var W=(0,y.Z)(function*(ee,_e,ae,G,oe){if(!(32&_e.$flags$)){_e.$flags$|=32;{if((oe=Xn(ae)).then){const xt=()=>{};oe=yield oe,xt()}oe.isProxied||(ae.$watchers$=oe.watchers,K(oe,ae,2),oe.isProxied=!0);const dt=()=>{};_e.$flags$|=8;try{new oe(_e)}catch(xt){_n(xt)}_e.$flags$&=-9,_e.$flags$|=128,dt(),q(_e.$lazyInstance$)}if(oe.style){let dt=oe.style;"string"!=typeof dt&&(dt=dt[_e.$modeName$=(W=>Wr.map(ee=>ee(W)).find(ee=>!!ee))(ee)]);const xt=In(ae,_e.$modeName$);if(!Jn.has(xt)){const on=()=>{};Tn(xt,dt,!!(1&ae.$flags$)),on()}}}const Be=_e.$ancestorComponent$,Xe=()=>Hn(_e,!0);Be&&Be["s-rc"]?Be["s-rc"].push(Xe):Xe()});return function(_e,ae,G,oe,Be){return W.apply(this,arguments)}}(),q=W=>{Fn(W,"connectedCallback")},st=W=>{const ee=W["s-cr"]=or.createComment("");ee["s-cn"]=!0,W.insertBefore(ee,W.firstChild)},ht=(W,ee={})=>{var _e;const G=[],oe=ee.exclude||[],Be=_r.customElements,Xe=or.head,dt=Xe.querySelector("meta[charset]"),xt=or.createElement("style"),on=[],dn=or.querySelectorAll(`[${it}]`);let Un,ar=!0,pi=0;for(Object.assign(Zn,ee),Zn.$resourcesUrl$=new URL(ee.resourcesUrl||"./",or.baseURI).href,Zn.$flags$|=2;pi<dn.length;pi++)Tn(dn[pi].getAttribute(it),Bt(dn[pi].innerHTML),!0);W.map(Oi=>{Oi[1].map(Fi=>{const Hr={$flags$:Fi[0],$tagName$:Fi[1],$members$:Fi[2],$listeners$:Fi[3]};Hr.$members$=Fi[2],Hr.$listeners$=Fi[3],Hr.$attrsToReflect$=[],Hr.$watchers$={};const Cn=Hr.$tagName$,Er=class extends HTMLElement{constructor(Kr){super(Kr),wt(Kr=this,Hr),1&Hr.$flags$&&Kr.attachShadow({mode:"open",delegatesFocus:!!(16&Hr.$flags$)})}connectedCallback(){Un&&(clearTimeout(Un),Un=null),ar?on.push(this):Zn.jmp(()=>(W=>{if(!(1&Zn.$flags$)){const ee=zn(W),_e=ee.$cmpMeta$,ae=()=>{};if(1&ee.$flags$)It(W,ee,_e.$listeners$),q(ee.$lazyInstance$);else{let G;if(ee.$flags$|=1,G=W.getAttribute(vt),G){if(1&_e.$flags$){const oe=En(W.shadowRoot,_e,W.getAttribute("s-mode"));W.classList.remove(oe+"-h",oe+"-s")}((W,ee,_e,ae)=>{const oe=W.shadowRoot,Be=[],dt=oe?[]:null,xt=ae.$vnode$=ce(ee,null);Zn.$orgLocNodes$||ct(or.body,Zn.$orgLocNodes$=new Map),W[vt]=_e,W.removeAttribute(vt),mt(xt,Be,[],dt,W,W,_e),Be.map(on=>{const dn=on.$hostId$+"."+on.$nodeId$,Un=Zn.$orgLocNodes$.get(dn),ar=on.$elm$;Un&&yi&&""===Un["s-en"]&&Un.parentNode.insertBefore(ar,Un.nextSibling),oe||(ar["s-hn"]=ee,Un&&(ar["s-ol"]=Un,ar["s-ol"]["s-nr"]=ar)),Zn.$orgLocNodes$.delete(dn)}),oe&&dt.map(on=>{on&&oe.appendChild(on)})})(W,_e.$tagName$,G,ee)}G||12&_e.$flags$&&st(W);{let oe=W;for(;oe=oe.parentNode||oe.host;)if(1===oe.nodeType&&oe.hasAttribute("s-id")&&oe["s-p"]||oe["s-p"]){Jr(ee,ee.$ancestorComponent$=oe);break}}_e.$members$&&Object.entries(_e.$members$).map(([oe,[Be]])=>{if(31&Be&&W.hasOwnProperty(oe)){const Xe=W[oe];delete W[oe],W[oe]=Xe}}),z(W,ee,_e)}ae()}})(this))}disconnectedCallback(){Zn.jmp(()=>(W=>{if(!(1&Zn.$flags$)){const ee=zn(this),_e=ee.$lazyInstance$;ee.$rmListeners$&&(ee.$rmListeners$.map(ae=>ae()),ee.$rmListeners$=void 0),Fn(_e,"disconnectedCallback")}})())}componentOnReady(){return zn(this).$onReadyPromise$}};Hr.$lazyBundleId$=Oi[0],!oe.includes(Cn)&&!Be.get(Cn)&&(G.push(Cn),Be.define(Cn,K(Er,Hr,1)))})});{xt.innerHTML=G+"{visibility:hidden}.hydrated{visibility:inherit}",xt.setAttribute("data-styles","");const Oi=null!==(_e=Zn.$nonce$)&&void 0!==_e?_e:pt(or);null!=Oi&&xt.setAttribute("nonce",Oi),Xe.insertBefore(xt,dt?dt.nextSibling:Xe.firstChild)}ar=!1,on.length?on.map(Oi=>Oi.connectedCallback()):Zn.jmp(()=>Un=setTimeout(fr,30))},It=(W,ee,_e,ae)=>{_e&&_e.map(([G,oe,Be])=>{const Xe=Ht(W,G),dt=zt(ee,Be),xt=rn(G);Zn.ael(Xe,oe,dt,xt),(ee.$rmListeners$=ee.$rmListeners$||[]).push(()=>Zn.rel(Xe,oe,dt,xt))})},zt=(W,ee)=>_e=>{try{256&W.$flags$?W.$lazyInstance$[ee](_e):(W.$queuedListeners$=W.$queuedListeners$||[]).push([ee,_e])}catch(ae){_n(ae)}},Ht=(W,ee)=>4&ee?or:8&ee?_r:16&ee?or.body:W,rn=W=>0!=(2&W),Wn=new WeakMap,zn=W=>Wn.get(W),Dt=(W,ee)=>Wn.set(ee.$lazyInstance$=W,ee),wt=(W,ee)=>{const _e={$flags$:0,$hostElement$:W,$cmpMeta$:ee,$instanceValues$:new Map};return _e.$onInstancePromise$=new Promise(ae=>_e.$onInstanceResolve$=ae),_e.$onReadyPromise$=new Promise(ae=>_e.$onReadyResolve$=ae),W["s-p"]=[],W["s-rc"]=[],It(W,_e,ee.$listeners$),Wn.set(W,_e)},Wt=(W,ee)=>ee in W,_n=(W,ee)=>(0,console.error)(W,ee),kn=new Map,Xn=(W,ee,_e)=>{const ae=W.$tagName$.replace(/-/g,"_"),G=W.$lazyBundleId$,oe=kn.get(G);return oe?oe[ae]:L(863)(`./${G}.entry.js`).then(Be=>(kn.set(G,Be),Be[ae]),_n)},Jn=new Map,Wr=[],_r=typeof window<"u"?window:{},or=_r.document||{head:{}},Zn={$flags$:0,$resourcesUrl$:"",jmp:W=>W(),raf:W=>requestAnimationFrame(W),ael:(W,ee,_e,ae)=>W.addEventListener(ee,_e,ae),rel:(W,ee,_e,ae)=>W.removeEventListener(ee,_e,ae),ce:(W,ee)=>new CustomEvent(W,ee)},fi=W=>{Object.assign(Zn,W)},yi=!0,Ds=W=>Promise.resolve(W),vi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ns=[],js=[],Pi=(W,ee)=>_e=>{W.push(_e),U||(U=!0,ee&&4&Zn.$flags$?Ji(Cs):Zn.raf(Cs))},ti=W=>{for(let ee=0;ee<W.length;ee++)try{W[ee](performance.now())}catch(_e){_n(_e)}W.length=0},Cs=()=>{ti(ns),ti(js),(U=ns.length>0)&&Zn.raf(Cs)},Ji=W=>Ds().then(W),ps=Pi(ns,!1),Zs=Pi(js,!0)},8126:(ln,ut,L)=>{"use strict";L.d(ut,{m:()=>Ce});var y=L(5861),g=L(7593),ie=L(3577),me=L(5273),be=L(9613);const we=Ue=>(0,be.c)().duration(Ue?400:300),de=Ue=>{let ve,Ve;const qe=Ue.width+8,bt=(0,be.c)(),Me=(0,be.c)();Ue.isEndSide?(ve=qe+"px",Ve="0px"):(ve=-qe+"px",Ve="0px"),bt.addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${ve})`,`translateX(${Ve})`);const vt="ios"===(0,me.b)(Ue),it=vt?.2:.25;return Me.addElement(Ue.backdropEl).fromTo("opacity",.01,it),we(vt).addAnimation([bt,Me])},De=Ue=>{let ve,Ve;const qe=(0,me.b)(Ue),bt=Ue.width;Ue.isEndSide?(ve=-bt+"px",Ve=bt+"px"):(ve=bt+"px",Ve=-bt+"px");const Me=(0,be.c)().addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${Ve})`,"translateX(0px)"),Ee=(0,be.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`),vt=(0,be.c)().addElement(Ue.backdropEl).fromTo("opacity",.01,.32);return we("ios"===qe).addAnimation([Me,Ee,vt])},$e=Ue=>{const ve=(0,me.b)(Ue),Ve=Ue.width*(Ue.isEndSide?-1:1)+"px",qe=(0,be.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ve})`);return we("ios"===ve).addAnimation(qe)},Ce=(()=>{const Ue=new Map,ve=[],Ve=function(){var Fe=(0,y.Z)(function*(He){const mt=yield Ge(He);return!!mt&&mt.open()});return function(mt){return Fe.apply(this,arguments)}}(),qe=function(){var Fe=(0,y.Z)(function*(He){const mt=yield void 0!==He?Ge(He):rt();return void 0!==mt&&mt.close()});return function(mt){return Fe.apply(this,arguments)}}(),bt=function(){var Fe=(0,y.Z)(function*(He){const mt=yield Ge(He);return!!mt&&mt.toggle()});return function(mt){return Fe.apply(this,arguments)}}(),Me=function(){var Fe=(0,y.Z)(function*(He,mt){const ct=yield Ge(mt);return ct&&(ct.disabled=!He),ct});return function(mt,ct){return Fe.apply(this,arguments)}}(),Ee=function(){var Fe=(0,y.Z)(function*(He,mt){const ct=yield Ge(mt);return ct&&(ct.swipeGesture=He),ct});return function(mt,ct){return Fe.apply(this,arguments)}}(),vt=function(){var Fe=(0,y.Z)(function*(He){if(null!=He){const mt=yield Ge(He);return void 0!==mt&&mt.isOpen()}return void 0!==(yield rt())});return function(mt){return Fe.apply(this,arguments)}}(),it=function(){var Fe=(0,y.Z)(function*(He){const mt=yield Ge(He);return!!mt&&!mt.disabled});return function(mt){return Fe.apply(this,arguments)}}(),Ge=function(){var Fe=(0,y.Z)(function*(He){return yield ke(),"start"===He||"end"===He?We(Tt=>Tt.side===He&&!Tt.disabled)||We(Tt=>Tt.side===He):null!=He?We(ct=>ct.menuId===He):We(ct=>!ct.disabled)||(ve.length>0?ve[0].el:void 0)});return function(mt){return Fe.apply(this,arguments)}}(),rt=function(){var Fe=(0,y.Z)(function*(){return yield ke(),ce()});return function(){return Fe.apply(this,arguments)}}(),ft=function(){var Fe=(0,y.Z)(function*(){return yield ke(),Pe()});return function(){return Fe.apply(this,arguments)}}(),_t=function(){var Fe=(0,y.Z)(function*(){return yield ke(),je()});return function(){return Fe.apply(this,arguments)}}(),Ze=(Fe,He)=>{Ue.set(Fe,He)},tt=Fe=>{const He=Fe.side;ve.filter(mt=>mt.side===He&&mt!==Fe).forEach(mt=>mt.disabled=!0)},pt=function(){var Fe=(0,y.Z)(function*(He,mt,ct){if(je())return!1;if(mt){const Tt=yield rt();Tt&&He.el!==Tt&&(yield Tt.setOpen(!1,!1))}return He._setOpen(mt,ct)});return function(mt,ct,Tt){return Fe.apply(this,arguments)}}(),ce=()=>We(Fe=>Fe._isOpen),Pe=()=>ve.map(Fe=>Fe.el),je=()=>ve.some(Fe=>Fe.isAnimating),We=Fe=>{const He=ve.find(Fe);if(void 0!==He)return He.el},ke=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Fe=>new Promise(He=>(0,ie.c)(Fe,He))));return Ze("reveal",$e),Ze("push",De),Ze("overlay",de),typeof document<"u"&&document.addEventListener("ionBackButton",Fe=>{const He=ce();He&&Fe.detail.register(g.MENU_BACK_BUTTON_PRIORITY,()=>He.close())}),{registerAnimation:Ze,get:Ge,getMenus:ft,getOpen:rt,isEnabled:it,swipeGesture:Ee,isAnimating:_t,isOpen:vt,enable:Me,toggle:bt,close:qe,open:Ve,_getOpenSync:ce,_createAnimation:(Fe,He)=>{const mt=Ue.get(Fe);if(!mt)throw new Error("animation not registered");return mt(He)},_register:Fe=>{ve.indexOf(Fe)<0&&(Fe.disabled||tt(Fe),ve.push(Fe))},_unregister:Fe=>{const He=ve.indexOf(Fe);He>-1&&ve.splice(He,1)},_setOpen:pt,_setActiveMenu:tt}})()},1178:(ln,ut,L)=>{"use strict";L.d(ut,{a:()=>g,b:()=>ie,p:()=>y});const y=(me,...be)=>console.warn(`[Ionic Warning]: ${me}`,...be),g=(me,...be)=>console.error(`[Ionic Error]: ${me}`,...be),ie=(me,...be)=>console.error(`<${me.tagName.toLowerCase()}> must be used inside ${be.join(" or ")}.`)},9866:(ln,ut,L)=>{"use strict";L.d(ut,{L:()=>me,a:()=>be,b:()=>we,c:()=>de,d:()=>De,e:()=>_t,g:()=>St,l:()=>ft,s:()=>Ze,t:()=>Ce});var y=L(5861),g=L(4083),ie=L(3577);const me="ionViewWillEnter",be="ionViewDidEnter",we="ionViewWillLeave",de="ionViewDidLeave",De="ionViewWillUnload",Ce=tt=>new Promise((pt,yt)=>{(0,g.w)(()=>{Ue(tt),ve(tt).then(ce=>{ce.animation&&ce.animation.destroy(),Ve(tt),pt(ce)},ce=>{Ve(tt),yt(ce)})})}),Ue=tt=>{const pt=tt.enteringEl,yt=tt.leavingEl;xe(pt,yt,tt.direction),tt.showGoBack?pt.classList.add("can-go-back"):pt.classList.remove("can-go-back"),Ze(pt,!1),pt.style.setProperty("pointer-events","none"),yt&&(Ze(yt,!1),yt.style.setProperty("pointer-events","none"))},ve=function(){var tt=(0,y.Z)(function*(pt){const yt=yield qe(pt);return yt&&g.B.isBrowser?bt(yt,pt):Me(pt)});return function(yt){return tt.apply(this,arguments)}}(),Ve=tt=>{const pt=tt.enteringEl,yt=tt.leavingEl;pt.classList.remove("ion-page-invisible"),pt.style.removeProperty("pointer-events"),void 0!==yt&&(yt.classList.remove("ion-page-invisible"),yt.style.removeProperty("pointer-events"))},qe=function(){var tt=(0,y.Z)(function*(pt){return pt.leavingEl&&pt.animated&&0!==pt.duration?pt.animationBuilder?pt.animationBuilder:"ios"===pt.mode?(yield Promise.resolve().then(L.bind(L,3551))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,1138))).mdTransitionAnimation:void 0});return function(yt){return tt.apply(this,arguments)}}(),bt=function(){var tt=(0,y.Z)(function*(pt,yt){yield Ee(yt,!0);const ce=pt(yt.baseEl,yt);Ge(yt.enteringEl,yt.leavingEl);const Pe=yield it(ce,yt);return yt.progressCallback&&yt.progressCallback(void 0),Pe&&rt(yt.enteringEl,yt.leavingEl),{hasCompleted:Pe,animation:ce}});return function(yt,ce){return tt.apply(this,arguments)}}(),Me=function(){var tt=(0,y.Z)(function*(pt){const yt=pt.enteringEl,ce=pt.leavingEl;return yield Ee(pt,!1),Ge(yt,ce),rt(yt,ce),{hasCompleted:!0}});return function(yt){return tt.apply(this,arguments)}}(),Ee=function(){var tt=(0,y.Z)(function*(pt,yt){(void 0!==pt.deepWait?pt.deepWait:yt)&&(yield Promise.all([_t(pt.enteringEl),_t(pt.leavingEl)])),yield vt(pt.viewIsReady,pt.enteringEl)});return function(yt,ce){return tt.apply(this,arguments)}}(),vt=function(){var tt=(0,y.Z)(function*(pt,yt){pt&&(yield pt(yt))});return function(yt,ce){return tt.apply(this,arguments)}}(),it=(tt,pt)=>{const yt=pt.progressCallback,ce=new Promise(Pe=>{tt.onFinish(je=>Pe(1===je))});return yt?(tt.progressStart(!0),yt(tt)):tt.play(),ce},Ge=(tt,pt)=>{ft(pt,we),ft(tt,me)},rt=(tt,pt)=>{ft(tt,be),ft(pt,de)},ft=(tt,pt)=>{if(tt){const yt=new CustomEvent(pt,{bubbles:!1,cancelable:!1});tt.dispatchEvent(yt)}},_t=function(){var tt=(0,y.Z)(function*(pt){const yt=pt;if(yt){if(null!=yt.componentOnReady){if(null!=(yield yt.componentOnReady()))return}else if(null!=yt.__registerHost)return void(yield new Promise(Pe=>(0,ie.r)(Pe)));yield Promise.all(Array.from(yt.children).map(_t))}});return function(yt){return tt.apply(this,arguments)}}(),Ze=(tt,pt)=>{pt?(tt.setAttribute("aria-hidden","true"),tt.classList.add("ion-page-hidden")):(tt.hidden=!1,tt.removeAttribute("aria-hidden"),tt.classList.remove("ion-page-hidden"))},xe=(tt,pt,yt)=>{void 0!==tt&&(tt.style.zIndex="back"===yt?"99":"101"),void 0!==pt&&(pt.style.zIndex="100")},St=tt=>tt.classList.contains("ion-page")?tt:tt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||tt},5273:(ln,ut,L)=>{"use strict";L.d(ut,{a:()=>Ce,b:()=>je,c:()=>ie,g:()=>U,i:()=>We});var y=L(4083);class g{constructor(){this.m=new Map}reset(Fe){this.m=new Map(Object.entries(Fe))}get(Fe,He){const mt=this.m.get(Fe);return void 0!==mt?mt:He}getBoolean(Fe,He=!1){const mt=this.m.get(Fe);return void 0===mt?He:"string"==typeof mt?"true"===mt:!!mt}getNumber(Fe,He){const mt=parseFloat(this.m.get(Fe));return isNaN(mt)?void 0!==He?He:NaN:mt}set(Fe,He){this.m.set(Fe,He)}}const ie=new g,$e="ionic-persist-config",U=ke=>Ue(ke),Ce=(ke,Fe)=>("string"==typeof ke&&(Fe=ke,ke=void 0),U(ke).includes(Fe)),Ue=(ke=window)=>{if(typeof ke>"u")return[];ke.Ionic=ke.Ionic||{};let Fe=ke.Ionic.platforms;return null==Fe&&(Fe=ke.Ionic.platforms=ve(ke),Fe.forEach(He=>ke.document.documentElement.classList.add(`plt-${He}`))),Fe},ve=ke=>{const Fe=ie.get("platform");return Object.keys(ce).filter(He=>{const mt=null==Fe?void 0:Fe[He];return"function"==typeof mt?mt(ke):ce[He](ke)})},qe=ke=>!!(pt(ke,/iPad/i)||pt(ke,/Macintosh/i)&&rt(ke)),Ee=ke=>pt(ke,/android|sink/i),rt=ke=>yt(ke,"(any-pointer:coarse)"),_t=ke=>Ze(ke)||xe(ke),Ze=ke=>!!(ke.cordova||ke.phonegap||ke.PhoneGap),xe=ke=>{const Fe=ke.Capacitor;return!(null==Fe||!Fe.isNative)},pt=(ke,Fe)=>Fe.test(ke.navigator.userAgent),yt=(ke,Fe)=>{var He;return null===(He=ke.matchMedia)||void 0===He?void 0:He.call(ke,Fe).matches},ce={ipad:qe,iphone:ke=>pt(ke,/iPhone/i),ios:ke=>pt(ke,/iPhone|iPod/i)||qe(ke),android:Ee,phablet:ke=>{const Fe=ke.innerWidth,He=ke.innerHeight,mt=Math.min(Fe,He),ct=Math.max(Fe,He);return mt>390&&mt<520&&ct>620&&ct<800},tablet:ke=>{const Fe=ke.innerWidth,He=ke.innerHeight,mt=Math.min(Fe,He),ct=Math.max(Fe,He);return qe(ke)||(ke=>Ee(ke)&&!pt(ke,/mobile/i))(ke)||mt>460&&mt<820&&ct>780&&ct<1400},cordova:Ze,capacitor:xe,electron:ke=>pt(ke,/electron/i),pwa:ke=>{var Fe;return!!(null!==(Fe=ke.matchMedia)&&void 0!==Fe&&Fe.call(ke,"(display-mode: standalone)").matches||ke.navigator.standalone)},mobile:rt,mobileweb:ke=>rt(ke)&&!_t(ke),desktop:ke=>!rt(ke),hybrid:_t};let Pe;const je=ke=>ke&&(0,y.g)(ke)||Pe,We=(ke={})=>{if(typeof window>"u")return;const Fe=window.document,He=window,mt=He.Ionic=He.Ionic||{},ct={};ke._ael&&(ct.ael=ke._ael),ke._rel&&(ct.rel=ke._rel),ke._ce&&(ct.ce=ke._ce),(0,y.a)(ct);const Tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ke=>{try{const Fe=ke.sessionStorage.getItem($e);return null!==Fe?JSON.parse(Fe):{}}catch{return{}}})(He)),{persistConfig:!1}),mt.config),(ke=>{const Fe={};return ke.location.search.slice(1).split("&").map(He=>He.split("=")).map(([He,mt])=>[decodeURIComponent(He),decodeURIComponent(mt)]).filter(([He])=>((ke,Fe)=>ke.substr(0,Fe.length)===Fe)(He,"ionic:")).map(([He,mt])=>[He.slice(6),mt]).forEach(([He,mt])=>{Fe[He]=mt}),Fe})(He)),ke);ie.reset(Tt),ie.getBoolean("persistConfig")&&((ke,Fe)=>{try{ke.sessionStorage.setItem($e,JSON.stringify(Fe))}catch{return}})(He,Tt),Ue(He),mt.config=ie,mt.mode=Pe=ie.get("mode",Fe.documentElement.getAttribute("mode")||(Ce(He,"ios")?"ios":"md")),ie.set("mode",Pe),Fe.documentElement.setAttribute("mode",Pe),Fe.documentElement.classList.add(Pe),ie.getBoolean("_testing")&&ie.set("animated",!1);const Pt=At=>{var et;return null===(et=At.tagName)||void 0===et?void 0:et.startsWith("ION-")},sn=At=>["ios","md"].includes(At);(0,y.c)(At=>{for(;At;){const et=At.mode||At.getAttribute("mode");if(et){if(sn(et))return et;Pt(At)&&console.warn('Invalid ionic mode: "'+et+'", expected: "ios" or "md"')}At=At.parentElement}return Pe})}},3551:(ln,ut,L)=>{"use strict";L.r(ut),L.d(ut,{iosTransitionAnimation:()=>ve,shadow:()=>de});var y=L(9613),g=L(9866);L(3457),L(4083);const we=Ve=>document.querySelector(`${Ve}.ion-cloned-element`),de=Ve=>Ve.shadowRoot||Ve,De=Ve=>{const qe="ION-TABS"===Ve.tagName?Ve:Ve.querySelector("ion-tabs"),bt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qe){const Me=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Me?Me.querySelector(bt):null}return Ve.querySelector(bt)},$e=(Ve,qe)=>{const bt="ION-TABS"===Ve.tagName?Ve:Ve.querySelector("ion-tabs");let Me=[];if(null!=bt){const Ee=bt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ee&&(Me=Ee.querySelectorAll("ion-buttons"))}else Me=Ve.querySelectorAll("ion-buttons");for(const Ee of Me){const vt=Ee.closest("ion-header"),it=vt&&!vt.classList.contains("header-collapse-condense-inactive"),Ge=Ee.querySelector("ion-back-button"),rt=Ee.classList.contains("buttons-collapse");if(null!==Ge&&("start"===Ee.slot||""===Ee.slot)&&(rt&&it&&qe||!rt))return Ge}return null},Ce=(Ve,qe,bt,Me,Ee,vt)=>{const it=qe?`calc(100% - ${vt.right+4}px)`:vt.left-4+"px",Ge=qe?"7px":"-7px",rt=qe?"-4px":"4px",ft=qe?"-4px":"4px",_t=qe?"right":"left",Ze=qe?"left":"right",tt=bt?[{offset:0,opacity:1,transform:`translate3d(${rt}, ${vt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${Ee.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${Ee.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${rt}, ${vt.top-46}px, 0) scale(1)`}],ce=bt?[{offset:0,opacity:1,transform:`translate3d(${ft}, ${vt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ft}, ${vt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ft}, ${vt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ft}, ${vt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ft}, ${vt.top-46}px, 0) scale(1)`}],Pe=(0,y.c)(),je=(0,y.c)(),We=we("ion-back-button"),ke=de(We).querySelector(".button-text"),Fe=de(We).querySelector("ion-icon");We.text=Me.text,We.mode=Me.mode,We.icon=Me.icon,We.color=Me.color,We.disabled=Me.disabled,We.style.setProperty("display","block"),We.style.setProperty("position","fixed"),je.addElement(Fe),Pe.addElement(ke),Pe.beforeStyles({"transform-origin":`${_t} center`}).beforeAddWrite(()=>{Me.style.setProperty("display","none"),We.style.setProperty(_t,it)}).afterAddWrite(()=>{Me.style.setProperty("display",""),We.style.setProperty("display","none"),We.style.removeProperty(_t)}).keyframes(tt),je.beforeStyles({"transform-origin":`${Ze} center`}).keyframes(ce),Ve.addAnimation([Pe,je])},Ue=(Ve,qe,bt,Me,Ee,vt)=>{const it=qe?`calc(100% - ${Ee.right}px)`:`${Ee.left}px`,Ge=qe?"-18px":"18px",rt=qe?"right":"left",Ze=bt?[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${vt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${vt.top-4}px, 0) scale(0.5)`}],xe=we("ion-title"),St=(0,y.c)();xe.innerText=Me.innerText,xe.size=Me.size,xe.color=Me.color,St.addElement(xe),St.beforeStyles({"transform-origin":`${rt} center`,height:"46px",display:"",position:"relative",[rt]:it}).beforeAddWrite(()=>{Me.style.setProperty("display","none")}).afterAddWrite(()=>{Me.style.setProperty("display",""),xe.style.setProperty("display","none")}).keyframes(Ze),Ve.addAnimation(St)},ve=(Ve,qe)=>{var bt;try{const Me="cubic-bezier(0.32,0.72,0,1)",Ee="opacity",vt="transform",it="0%",rt="rtl"===Ve.ownerDocument.dir,ft=rt?"-99.5%":"99.5%",_t=rt?"33%":"-33%",Ze=qe.enteringEl,xe=qe.leavingEl,St="back"===qe.direction,tt=Ze.querySelector(":scope > ion-content"),pt=Ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),yt=Ze.querySelectorAll(":scope > ion-header > ion-toolbar"),ce=(0,y.c)(),Pe=(0,y.c)();if(ce.addElement(Ze).duration((null!==(bt=qe.duration)&&void 0!==bt?bt:0)||540).easing(qe.easing||Me).fill("both").beforeRemoveClass("ion-page-invisible"),xe&&null!=Ve){const Fe=(0,y.c)();Fe.addElement(Ve),ce.addAnimation(Fe)}if(tt||0!==yt.length||0!==pt.length?(Pe.addElement(tt),Pe.addElement(pt)):Pe.addElement(Ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(Pe),St?Pe.beforeClearStyles([Ee]).fromTo("transform",`translateX(${_t})`,`translateX(${it})`).fromTo(Ee,.8,1):Pe.beforeClearStyles([Ee]).fromTo("transform",`translateX(${ft})`,`translateX(${it})`),tt){const Fe=de(tt).querySelector(".transition-effect");if(Fe){const He=Fe.querySelector(".transition-cover"),mt=Fe.querySelector(".transition-shadow"),ct=(0,y.c)(),Tt=(0,y.c)(),Pt=(0,y.c)();ct.addElement(Fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(He).beforeClearStyles([Ee]).fromTo(Ee,0,.1),Pt.addElement(mt).beforeClearStyles([Ee]).fromTo(Ee,.03,.7),ct.addAnimation([Tt,Pt]),Pe.addAnimation([ct])}}const je=Ze.querySelector("ion-header.header-collapse-condense"),{forward:We,backward:ke}=((Ve,qe,bt,Me,Ee)=>{const vt=$e(Me,bt),it=De(Ee),Ge=De(Me),rt=$e(Ee,bt),ft=null!==vt&&null!==it&&!bt,_t=null!==Ge&&null!==rt&&bt;if(ft){const Ze=it.getBoundingClientRect(),xe=vt.getBoundingClientRect();Ue(Ve,qe,bt,it,Ze,xe),Ce(Ve,qe,bt,vt,Ze,xe)}else if(_t){const Ze=Ge.getBoundingClientRect(),xe=rt.getBoundingClientRect();Ue(Ve,qe,bt,Ge,Ze,xe),Ce(Ve,qe,bt,rt,Ze,xe)}return{forward:ft,backward:_t}})(ce,rt,St,Ze,xe);if(yt.forEach(Fe=>{const He=(0,y.c)();He.addElement(Fe),ce.addAnimation(He);const mt=(0,y.c)();mt.addElement(Fe.querySelector("ion-title"));const ct=(0,y.c)(),Tt=Array.from(Fe.querySelectorAll("ion-buttons,[menuToggle]")),Pt=Fe.closest("ion-header"),sn=null==Pt?void 0:Pt.classList.contains("header-collapse-condense-inactive");let At;At=Tt.filter(St?Tn=>{const En=Tn.classList.contains("buttons-collapse");return En&&!sn||!En}:Tn=>!Tn.classList.contains("buttons-collapse")),ct.addElement(At);const et=(0,y.c)();et.addElement(Fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ot=(0,y.c)();Ot.addElement(de(Fe).querySelector(".toolbar-background"));const Jt=(0,y.c)(),fn=Fe.querySelector("ion-back-button");if(fn&&Jt.addElement(fn),He.addAnimation([mt,ct,et,Ot,Jt]),ct.fromTo(Ee,.01,1),et.fromTo(Ee,.01,1),St)sn||mt.fromTo("transform",`translateX(${_t})`,`translateX(${it})`).fromTo(Ee,.01,1),et.fromTo("transform",`translateX(${_t})`,`translateX(${it})`),Jt.fromTo(Ee,.01,1);else if(je||mt.fromTo("transform",`translateX(${ft})`,`translateX(${it})`).fromTo(Ee,.01,1),et.fromTo("transform",`translateX(${ft})`,`translateX(${it})`),Ot.beforeClearStyles([Ee,"transform"]),(null==Pt?void 0:Pt.translucent)?Ot.fromTo("transform",rt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ot.fromTo(Ee,.01,"var(--opacity)"),We||Jt.fromTo(Ee,.01,1),fn&&!We){const En=(0,y.c)();En.addElement(de(fn).querySelector(".button-text")).fromTo("transform",rt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),He.addAnimation(En)}}),xe){const Fe=(0,y.c)(),He=xe.querySelector(":scope > ion-content"),mt=xe.querySelectorAll(":scope > ion-header > ion-toolbar"),ct=xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(He||0!==mt.length||0!==ct.length?(Fe.addElement(He),Fe.addElement(ct)):Fe.addElement(xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(Fe),St){Fe.beforeClearStyles([Ee]).fromTo("transform",`translateX(${it})`,rt?"translateX(-100%)":"translateX(100%)");const Tt=(0,g.g)(xe);ce.afterAddWrite(()=>{"normal"===ce.getDirection()&&Tt.style.setProperty("display","none")})}else Fe.fromTo("transform",`translateX(${it})`,`translateX(${_t})`).fromTo(Ee,1,.8);if(He){const Tt=de(He).querySelector(".transition-effect");if(Tt){const Pt=Tt.querySelector(".transition-cover"),sn=Tt.querySelector(".transition-shadow"),At=(0,y.c)(),et=(0,y.c)(),Ot=(0,y.c)();At.addElement(Tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),et.addElement(Pt).beforeClearStyles([Ee]).fromTo(Ee,.1,0),Ot.addElement(sn).beforeClearStyles([Ee]).fromTo(Ee,.7,.03),At.addAnimation([et,Ot]),Fe.addAnimation([At])}}mt.forEach(Tt=>{const Pt=(0,y.c)();Pt.addElement(Tt);const sn=(0,y.c)();sn.addElement(Tt.querySelector("ion-title"));const At=(0,y.c)(),et=Tt.querySelectorAll("ion-buttons,[menuToggle]"),Ot=Tt.closest("ion-header"),Jt=null==Ot?void 0:Ot.classList.contains("header-collapse-condense-inactive"),fn=Array.from(et).filter(rr=>{const hr=rr.classList.contains("buttons-collapse");return hr&&!Jt||!hr});At.addElement(fn);const Tn=(0,y.c)(),En=Tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");En.length>0&&Tn.addElement(En);const Nt=(0,y.c)();Nt.addElement(de(Tt).querySelector(".toolbar-background"));const In=(0,y.c)(),Bt=Tt.querySelector("ion-back-button");if(Bt&&In.addElement(Bt),Pt.addAnimation([sn,At,Tn,In,Nt]),ce.addAnimation(Pt),In.fromTo(Ee,.99,0),At.fromTo(Ee,.99,0),Tn.fromTo(Ee,.99,0),St){if(Jt||sn.fromTo("transform",`translateX(${it})`,rt?"translateX(-100%)":"translateX(100%)").fromTo(Ee,.99,0),Tn.fromTo("transform",`translateX(${it})`,rt?"translateX(-100%)":"translateX(100%)"),Nt.beforeClearStyles([Ee,"transform"]),(null==Ot?void 0:Ot.translucent)?Nt.fromTo("transform","translateX(0px)",rt?"translateX(-100%)":"translateX(100%)"):Nt.fromTo(Ee,"var(--opacity)",0),Bt&&!ke){const hr=(0,y.c)();hr.addElement(de(Bt).querySelector(".button-text")).fromTo("transform",`translateX(${it})`,`translateX(${(rt?-124:124)+"px"})`),Pt.addAnimation(hr)}}else Jt||sn.fromTo("transform",`translateX(${it})`,`translateX(${_t})`).fromTo(Ee,.99,0).afterClearStyles([vt,Ee]),Tn.fromTo("transform",`translateX(${it})`,`translateX(${_t})`).afterClearStyles([vt,Ee]),In.afterClearStyles([Ee]),sn.afterClearStyles([Ee]),At.afterClearStyles([Ee])})}return ce}catch(Me){throw Me}}},1138:(ln,ut,L)=>{"use strict";L.r(ut),L.d(ut,{mdTransitionAnimation:()=>be});var y=L(9613),g=L(9866);L(3457),L(4083);const be=(we,de)=>{var De,$e,U;const ve="back"===de.direction,qe=de.leavingEl,bt=(0,g.g)(de.enteringEl),Me=bt.querySelector("ion-toolbar"),Ee=(0,y.c)();if(Ee.addElement(bt).fill("both").beforeRemoveClass("ion-page-invisible"),ve?Ee.duration((null!==(De=de.duration)&&void 0!==De?De:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ee.duration((null!==($e=de.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Me){const vt=(0,y.c)();vt.addElement(Me),Ee.addAnimation(vt)}if(qe&&ve){Ee.duration((null!==(U=de.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const vt=(0,y.c)();vt.addElement((0,g.g)(qe)).onFinish(it=>{1===it&&vt.elements.length>0&&vt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ee.addAnimation(vt)}return Ee}},2583:(ln,ut,L)=>{"use strict";L.d(ut,{B:()=>ct,G:()=>Tt,a:()=>U,b:()=>Ce,c:()=>qe,d:()=>Pt,e:()=>sn,f:()=>pt,g:()=>ce,h:()=>We,i:()=>Fe,j:()=>Me,k:()=>De,m:()=>ve,n:()=>it,o:()=>St,s:()=>mt});var y=L(5861),g=L(5273),ie=L(6782),me=L(7593),be=L(3577),we=L(1178);let de=0;const De=new WeakMap,$e=At=>({create:et=>Ee(At,et),dismiss:(et,Ot,Jt)=>Ze(document,et,Ot,At,Jt),getTop:()=>(0,y.Z)(function*(){return St(document,At)})()}),U=$e("ion-alert"),Ce=$e("ion-action-sheet"),ve=$e("ion-modal"),qe=$e("ion-popover"),Me=At=>{typeof document<"u"&&_t(document);const et=de++;At.overlayIndex=et,At.hasAttribute("id")||(At.id=`ion-overlay-${et}`)},Ee=(At,et)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(At).then(()=>{const Ot=document.createElement(At);return Ot.classList.add("overlay-hidden"),Object.assign(Ot,Object.assign(Object.assign({},et),{hasController:!0})),Pe(document).appendChild(Ot),new Promise(Jt=>(0,be.c)(Ot,Jt))}):Promise.resolve(),vt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',it=(At,et)=>{let Ot=At.querySelector(vt);const Jt=null==Ot?void 0:Ot.shadowRoot;Jt&&(Ot=Jt.querySelector(vt)||Ot),Ot?(0,be.f)(Ot):et.focus()},rt=(At,et)=>{const Ot=Array.from(At.querySelectorAll(vt));let Jt=Ot.length>0?Ot[Ot.length-1]:null;const fn=null==Jt?void 0:Jt.shadowRoot;fn&&(Jt=fn.querySelector(vt)||Jt),Jt?Jt.focus():et.focus()},_t=At=>{0===de&&(de=1,At.addEventListener("focus",et=>{((At,et)=>{const Ot=St(et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Jt=At.target;Ot&&Jt&&!Ot.classList.contains("ion-disable-focus-trap")&&(Ot.shadowRoot?(()=>{if(Ot.contains(Jt))Ot.lastFocus=Jt;else{const En=Ot.lastFocus;it(Ot,Ot),En===et.activeElement&&rt(Ot,Ot),Ot.lastFocus=et.activeElement}})():(()=>{if(Ot===Jt)Ot.lastFocus=void 0;else{const En=(0,be.g)(Ot);if(!En.contains(Jt))return;const Nt=En.querySelector(".ion-overlay-wrapper");if(!Nt)return;if(Nt.contains(Jt))Ot.lastFocus=Jt;else{const In=Ot.lastFocus;it(Nt,Ot),In===et.activeElement&&rt(Nt,Ot),Ot.lastFocus=et.activeElement}}})())})(et,At)},!0),At.addEventListener("ionBackButton",et=>{const Ot=St(At);null!=Ot&&Ot.backdropDismiss&&et.detail.register(me.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ot.dismiss(void 0,ct))}),At.addEventListener("keydown",et=>{if("Escape"===et.key){const Ot=St(At);null!=Ot&&Ot.backdropDismiss&&Ot.dismiss(void 0,ct)}}))},Ze=(At,et,Ot,Jt,fn)=>{const Tn=St(At,Jt,fn);return Tn?Tn.dismiss(et,Ot):Promise.reject("overlay does not exist")},St=(At,et,Ot)=>{const Jt=((At,et)=>(void 0===et&&(et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(At.querySelectorAll(et)).filter(Ot=>Ot.overlayIndex>0)))(At,et).filter(fn=>!(At=>At.classList.contains("overlay-hidden"))(fn));return void 0===Ot?Jt[Jt.length-1]:Jt.find(fn=>fn.id===Ot)},tt=(At=!1)=>{const Ot=Pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ot&&(At?Ot.setAttribute("aria-hidden","true"):Ot.removeAttribute("aria-hidden"))},pt=function(){var At=(0,y.Z)(function*(et,Ot,Jt,fn,Tn){var En,Nt;if(et.presented)return;tt(!0),et.presented=!0,et.willPresent.emit(),null===(En=et.willPresentShorthand)||void 0===En||En.emit();const In=(0,g.b)(et),Bt=et.enterAnimation?et.enterAnimation:g.c.get(Ot,"ios"===In?Jt:fn);(yield je(et,Bt,et.el,Tn))&&(et.didPresent.emit(),null===(Nt=et.didPresentShorthand)||void 0===Nt||Nt.emit()),"ION-TOAST"!==et.el.tagName&&yt(et.el),et.keyboardClose&&(null===document.activeElement||!et.el.contains(document.activeElement))&&et.el.focus()});return function(Ot,Jt,fn,Tn,En){return At.apply(this,arguments)}}(),yt=function(){var At=(0,y.Z)(function*(et){let Ot=document.activeElement;if(!Ot)return;const Jt=null==Ot?void 0:Ot.shadowRoot;Jt&&(Ot=Jt.querySelector(vt)||Ot),yield et.onDidDismiss(),Ot.focus()});return function(Ot){return At.apply(this,arguments)}}(),ce=function(){var At=(0,y.Z)(function*(et,Ot,Jt,fn,Tn,En,Nt){var In,Bt;if(!et.presented)return!1;tt(!1),et.presented=!1;try{et.el.style.setProperty("pointer-events","none"),et.willDismiss.emit({data:Ot,role:Jt}),null===(In=et.willDismissShorthand)||void 0===In||In.emit({data:Ot,role:Jt});const rr=(0,g.b)(et),hr=et.leaveAnimation?et.leaveAnimation:g.c.get(fn,"ios"===rr?Tn:En);Jt!==Tt&&(yield je(et,hr,et.el,Nt)),et.didDismiss.emit({data:Ot,role:Jt}),null===(Bt=et.didDismissShorthand)||void 0===Bt||Bt.emit({data:Ot,role:Jt}),De.delete(et),et.el.classList.add("overlay-hidden"),et.el.style.removeProperty("pointer-events"),void 0!==et.el.lastFocus&&(et.el.lastFocus=void 0)}catch(rr){console.error(rr)}return et.el.remove(),!0});return function(Ot,Jt,fn,Tn,En,Nt,In){return At.apply(this,arguments)}}(),Pe=At=>At.querySelector("ion-app")||At.body,je=function(){var At=(0,y.Z)(function*(et,Ot,Jt,fn){Jt.classList.remove("overlay-hidden");const En=Ot(et.el,fn);(!et.animated||!g.c.getBoolean("animated",!0))&&En.duration(0),et.keyboardClose&&En.beforeAddWrite(()=>{const In=Jt.ownerDocument.activeElement;null!=In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const Nt=De.get(et)||[];return De.set(et,[...Nt,En]),yield En.play(),!0});return function(Ot,Jt,fn,Tn){return At.apply(this,arguments)}}(),We=(At,et)=>{let Ot;const Jt=new Promise(fn=>Ot=fn);return ke(At,et,fn=>{Ot(fn.detail)}),Jt},ke=(At,et,Ot)=>{const Jt=fn=>{(0,be.b)(At,et,Jt),Ot(fn)};(0,be.a)(At,et,Jt)},Fe=At=>"cancel"===At||At===ct,He=At=>At(),mt=(At,et)=>{if("function"==typeof At)return g.c.get("_zoneGate",He)(()=>{try{return At(et)}catch(Jt){throw Jt}})},ct="backdrop",Tt="gesture",Pt=At=>{let Ot,et=!1;const Jt=(0,ie.C)(),fn=(Nt=!1)=>{if(Ot&&!Nt)return{delegate:Ot,inline:et};const{el:In,hasController:Bt,delegate:rr}=At;return et=null!==In.parentNode&&!Bt,Ot=et?rr||Jt:rr,{inline:et,delegate:Ot}};return{attachViewToDom:function(){var Nt=(0,y.Z)(function*(In){const{delegate:Bt}=fn(!0);if(Bt)return yield Bt.attachViewToDom(At.el,In);const{hasController:rr}=At;if(rr&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(Bt){return Nt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Nt}=fn();Nt&&void 0!==At.el&&Nt.removeViewFromDom(At.el.parentElement,At.el)}}},sn=()=>{let At;const et=()=>{At&&(At(),At=void 0)};return{addClickListener:(Jt,fn)=>{et();const Tn=void 0!==fn?document.getElementById(fn):null;Tn?At=((Nt,In)=>{const Bt=()=>{In.present()};return Nt.addEventListener("click",Bt),()=>{Nt.removeEventListener("click",Bt)}})(Tn,Jt):(0,we.p)(`A trigger element with the ID "${fn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Jt)},removeClickListener:et}}},6118:(ln,ut,L)=>{"use strict";L.d(ut,{e:()=>we});var y=L(5861),g=L(9260);let ie=(()=>{class de{}return de.email=De=>{if(!(De.endsWith("@admin.com")||De.endsWith("@invitado.com")||De.endsWith("@usuario.com")||De.endsWith("@anonimo.com")||De.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return De},de})();var me=L(2223),be=L(3385);let we=(()=>{class de{constructor($e){var U=this;this.angularFireAuth=$e,this.signIn=function(){var Ce=(0,y.Z)(function*(Ue,ve){return yield U.angularFireAuth.signInWithEmailAndPassword(ie.email(Ue),ve).then(Ve=>Ve).catch(Ve=>{throw"auth/user-disabled"===Ve.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===Ve.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(Ue,ve){return Ce.apply(this,arguments)}}(),this.signUp=function(){var Ce=(0,y.Z)(function*(Ue,ve){return yield U.angularFireAuth.createUserWithEmailAndPassword(ie.email(Ue),ve).then(Ve=>Ve).catch(Ve=>{throw"auth/operation-not-allowed"===Ve.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===Ve.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(Ue,ve){return Ce.apply(this,arguments)}}(),this.signOut=(0,y.Z)(function*(){yield U.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,y.Z)(function*(){const Ce=new g.Z.auth.GoogleAuthProvider;return Ce.addScope("profile"),Ce.addScope("email"),yield U.signUpWithProvider(Ce)}),this.signUpWithProvider=function(){var Ce=(0,y.Z)(function*(Ue){return yield U.angularFireAuth.signInWithPopup(Ue).then(ve=>ve).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(Ue){return Ce.apply(this,arguments)}}(),this.userData=$e.authState}getUser(){return"123456"}}return de.\u0275fac=function($e){return new($e||de)(me.LFG(be.zQ))},de.\u0275prov=me.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},7979:(ln,ut,L)=>{"use strict";var y=L(6550),g=L(2223),ie=L(96),me=L(9972),be=L(3324),we=L(3692),de=L(259),De=L(2313),$e=L(1389),U=L(2090),Ce=L(6881),Ue=L(1877),ve=L(4859);class qe{constructor(r){return r}}class bt{constructor(){return(0,be.vb)("auth")}}const Ee=new g.OlP("angularfire2.auth-instances");function it(u){return(r,o)=>{const c=r.runOutsideAngular(()=>u(o));return new qe(c)}}const Ge={provide:bt,deps:[[new g.FiY,Ee]]},rt={provide:qe,useFactory:function vt(u,r){const o=(0,be.JM)("auth",u,r);return o&&new qe(o)},deps:[[new g.FiY,Ee],we.Ot]};let ft=(()=>{class u{constructor(){(0,de.KN)("angularfire",be.q4.full,"auth")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[rt,Ge]}),u})();function _t(u,...r){return{ngModule:ft,providers:[{provide:Ee,useFactory:it(u),multi:!0,deps:[g.R0b,g.zs3,be.HU,we.z6,[new g.FiY,De.nm],...r]}]}}const He=(0,be.u3)($e.o,!0);var mn=L(2810),fr=L(9751),Fn=L(4004),gr={includeMetadataChanges:!1};function Dt(u,r){return void 0===r&&(r={}),function un(u){return function Je(u,r){return void 0===r&&(r=gr),new fr.y(function(o){return{unsubscribe:(0,mn.cf)(u,r,{next:o.next.bind(o),error:o.error.bind(o),complete:o.complete.bind(o)})}})}(u,{includeMetadataChanges:!0}).pipe((0,Fn.U)(function(r){return r.docs}))}(u).pipe((0,Fn.U)(function(o){return o.map(function(c){return function z(u,r){void 0===r&&(r={});var o=u.data();return!u.exists()||"object"!=typeof o||null===o||r.idField&&(o[r.idField]=u.id),o}(c,r)})}))}class wt{constructor(r){return r}}const Wt="firestore",Xn=new g.OlP("angularfire2.firestore-instances");function Wr(u){return(r,o)=>{const c=r.runOutsideAngular(()=>u(o));return new wt(c)}}const _r={provide:class _n{constructor(){return(0,be.vb)(Wt)}},deps:[[new g.FiY,Xn]]},or={provide:wt,useFactory:function Jn(u,r){const o=(0,be.JM)(Wt,u,r);return o&&new wt(o)},deps:[[new g.FiY,Xn],we.Ot]};let Zn=(()=>{class u{constructor(){(0,de.KN)("angularfire",be.q4.full,"fst")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[or,_r]}),u})();function fi(u,...r){return{ngModule:Zn,providers:[{provide:Xn,useFactory:Wr(u),multi:!0,deps:[g.R0b,g.zs3,be.HU,we.z6,[new g.FiY,bt],[new g.FiY,De.nm],...r]}]}}const js=(0,be.u3)(Dt,!0),_e=(0,be.u3)(mn.hJ,!0),Ni=(0,be.u3)(mn.ad,!0);var ms=L(655),di=L(8261),Hs=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return(0,ms.ZT)(r,u),r.prototype.show=function(){return(0,di.DM)(this,"show",{sync:!0},arguments)},r.prototype.hide=function(){return(0,di.DM)(this,"hide",{sync:!0},arguments)},r.pluginName="SplashScreen",r.plugin="cordova-plugin-splashscreen",r.pluginRef="navigator.splashscreen",r.repo="https://github.com/apache/cordova-plugin-splashscreen",r.platforms=["Amazon Fire OS","Android","iOS","Windows"],r.decorators=[{type:g.GSi}],r}(di.KY),Bs=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return(0,ms.ZT)(r,u),r.prototype.overlaysWebView=function(o){return(0,di.DM)(this,"overlaysWebView",{sync:!0},arguments)},r.prototype.styleDefault=function(){return(0,di.DM)(this,"styleDefault",{sync:!0},arguments)},r.prototype.styleLightContent=function(){return(0,di.DM)(this,"styleLightContent",{sync:!0},arguments)},r.prototype.styleBlackTranslucent=function(){return(0,di.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},r.prototype.styleBlackOpaque=function(){return(0,di.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},r.prototype.backgroundColorByName=function(o){return(0,di.DM)(this,"backgroundColorByName",{sync:!0},arguments)},r.prototype.backgroundColorByHexString=function(o){return(0,di.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},r.prototype.hide=function(){return(0,di.DM)(this,"hide",{sync:!0},arguments)},r.prototype.show=function(){return(0,di.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(r.prototype,"isVisible",{get:function(){return(0,di.J2)(this,"isVisible")},set:function(o){(0,di.Iq)(this,"isVisible",o)},enumerable:!1,configurable:!0}),r.pluginName="StatusBar",r.plugin="cordova-plugin-statusbar",r.pluginRef="StatusBar",r.repo="https://github.com/apache/cordova-plugin-statusbar",r.platforms=["Android","iOS","Windows"],r.decorators=[{type:g.GSi}],r}(di.KY),mi=L(4755);function ga(u,r){if(1&u&&(g.TgZ(0,"li",2),g._uU(1),g.qZA()),2&u){const o=r.$implicit;g.xp6(1),g.hij(" ",o.name," ")}}let ss=(()=>{class u{constructor(o,c,p){this.platform=o,this.splashScreen=c,this.statusBar=p,this.firestore=(0,g.f3M)(wt);const w=_e(this.firestore,"items");this.items$=js(w)}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return u.\u0275fac=function(o){return new(o||u)(g.Y36(me.t4),g.Y36(Hs),g.Y36(Bs))},u.\u0275cmp=g.Xpm({type:u,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],["id","main-content"],[1,"text"]],template:function(o,c){1&o&&(g.TgZ(0,"ul"),g.YNc(1,ga,2,1,"li",0),g.ALo(2,"async"),g.qZA(),g.TgZ(3,"ion-app"),g._UZ(4,"ion-router-outlet",1),g.qZA()),2&o&&(g.xp6(1),g.Q6J("ngForOf",g.lcZ(2,1,c.items$)))},dependencies:[mi.sg,me.dr,me.jP,mi.Ov],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),u})();const ji=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>L.e(1910).then(L.bind(L,1910)).then(u=>u.FolderPageModule)},{path:"admin",loadChildren:()=>L.e(3015).then(L.bind(L,3015)).then(u=>u.AdminPageModule)},{path:"home",loadChildren:()=>L.e(4851).then(L.bind(L,4851)).then(u=>u.HomePageModule)},{path:"login",loadChildren:()=>Promise.all([L.e(8592),L.e(4987)]).then(L.bind(L,4987)).then(u=>u.LoginPageModule)},{path:"register",loadChildren:()=>L.e(4275).then(L.bind(L,4275)).then(u=>u.RegisterPageModule)},{path:"signup",loadChildren:()=>Promise.all([L.e(8592),L.e(6533)]).then(L.bind(L,6533)).then(u=>u.SignupPageModule)},{path:"splash",loadChildren:()=>L.e(8663).then(L.bind(L,8663)).then(u=>u.SplashPageModule)}];let Xo=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({imports:[ie.Bz.forRoot(ji,{preloadingStrategy:ie.wm}),ie.Bz]}),u})();var os=L(2011),as=L(3385),Xs=L(4986),Ki=L(9646),jo=L(6451),ys=L(3099),zs=L(3900),Ho=L(5026),Ti=L(1884),Gs=L(4482),vs=L(5403),Ai=L(8421),sa=L(4671),S=L(5032),ne=L(7669);L(9568);var qt=L(3942),Nn=L(5861);const er="@firebase/database";let Dr="";function qi(u){Dr=u}class Ts{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,o){null==o?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,U.Wl)(o))}get(r){const o=this.domStorage_.getItem(this.prefixedName_(r));return null==o?null:(0,U.cI)(o)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class ls{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,o){null==o?delete this.cache_[r]:this.cache_[r]=o}get(r){return(0,U.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const _s=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const r=window[u];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Ts(r)}}catch{}return new ls},Ws=_s("localStorage"),xo=_s("sessionStorage"),Z=new Ue.Yd("@firebase/database"),j=function(){let u=1;return function(){return u++}}(),C=function(u){const r=(0,U.dS)(u),o=new U.gQ;o.update(r);const c=o.digest();return U.US.encodeByteArray(c)},N=function(...u){let r="";for(let o=0;o<u.length;o++){const c=u[o];Array.isArray(c)||c&&"object"==typeof c&&"number"==typeof c.length?r+=N.apply(null,c):r+="object"==typeof c?(0,U.Wl)(c):c,r+=" "}return r};let pe=null,ot=!0;const $t=function(u,r){(0,U.hu)(!r||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Z.logLevel=Ue.in.VERBOSE,pe=Z.log.bind(Z),r&&xo.set("logging_enabled",!0)):"function"==typeof u?pe=u:(pe=null,xo.remove("logging_enabled"))},Zt=function(...u){if(!0===ot&&(ot=!1,null===pe&&!0===xo.get("logging_enabled")&&$t(!0)),pe){const r=N.apply(null,u);pe(r)}},pn=function(u){return function(...r){Zt(u,...r)}},jr=function(...u){const r="FIREBASE INTERNAL ERROR: "+N(...u);Z.error(r)},Mr=function(...u){const r=`FIREBASE FATAL ERROR: ${N(...u)}`;throw Z.error(r),new Error(r)},wr=function(...u){const r="FIREBASE WARNING: "+N(...u);Z.warn(r)},Rr=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},As="[MIN_NAME]",Es="[MAX_NAME]",so=function(u,r){if(u===r)return 0;if(u===As||r===Es)return-1;if(r===As||u===Es)return 1;{const o=zo(u),c=zo(r);return null!==o?null!==c?o-c==0?u.length-r.length:o-c:-1:null!==c?1:u<r?-1:1}},oa=function(u,r){return u===r?0:u<r?-1:1},Mi=function(u,r){if(r&&u in r)return r[u];throw new Error("Missing required key ("+u+") in object: "+(0,U.Wl)(r))},Hi=function(u){if("object"!=typeof u||null===u)return(0,U.Wl)(u);const r=[];for(const c in u)r.push(c);r.sort();let o="{";for(let c=0;c<r.length;c++)0!==c&&(o+=","),o+=(0,U.Wl)(r[c]),o+=":",o+=Hi(u[r[c]]);return o+="}",o},ll=function(u,r){const o=u.length;if(o<=r)return[u];const c=[];for(let p=0;p<o;p+=r)c.push(u.substring(p,p+r>o?o:p+r));return c};function eo(u,r){for(const o in u)u.hasOwnProperty(o)&&r(o,u[o])}const ul=function(u){(0,U.hu)(!Rr(u),"Invalid JSON number");const c=1023;let p,w,A,$,X;0===u?(w=0,A=0,p=1/u==-1/0?1:0):(p=u<0,(u=Math.abs(u))>=Math.pow(2,1-c)?($=Math.min(Math.floor(Math.log(u)/Math.LN2),c),w=$+c,A=Math.round(u*Math.pow(2,52-$)-Math.pow(2,52))):(w=0,A=Math.round(u/Math.pow(2,-1074))));const ue=[];for(X=52;X;X-=1)ue.push(A%2?1:0),A=Math.floor(A/2);for(X=11;X;X-=1)ue.push(w%2?1:0),w=Math.floor(w/2);ue.push(p?1:0),ue.reverse();const Ye=ue.join("");let at="";for(X=0;X<64;X+=8){let Et=parseInt(Ye.substr(X,8),2).toString(16);1===Et.length&&(Et="0"+Et),at+=Et}return at.toLowerCase()},_i=new RegExp("^-?(0*)\\d{1,10}$"),zo=function(u){if(_i.test(u)){const r=Number(u);if(r>=-2147483648&&r<=2147483647)return r}return null},za=function(u){try{u()}catch(r){setTimeout(()=>{throw wr("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},ma=function(u,r){const o=setTimeout(u,r);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class dl{constructor(r,o){this.appName_=r,this.appCheckProvider=o,this.appCheck=null==o?void 0:o.getImmediate({optional:!0}),this.appCheck||null==o||o.get().then(c=>this.appCheck=c)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((o,c)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(o,c):o(null)},0)})}addTokenChangeListener(r){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(c=>c.addTokenListener(r))}notifyForInvalidToken(){wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Tc{constructor(r,o,c){this.appName_=r,this.firebaseOptions_=o,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(p=>this.auth_=p)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(o=>o&&"auth/token-not-initialized"===o.code?(Zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,c)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(o,c):o(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(o=>o.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(o=>o.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wr(r)}}let us=(()=>{class u{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const cs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Po="websocket",Lu="long_polling";class Al{constructor(r,o,c,p,w=!1,A="",$=!1,X=!1){this.secure=o,this.namespace=c,this.webSocketOnly=p,this.nodeAdmin=w,this.persistenceKey=A,this.includeNamespaceInQueryParams=$,this.isUsingEmulator=X,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ws.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Ws.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function re(u,r,o){let c;if((0,U.hu)("string"==typeof r,"typeof type must == string"),(0,U.hu)("object"==typeof o,"typeof params must == object"),r===Po)c=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(r!==Lu)throw new Error("Unknown connection type: "+r);c=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function V(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(o.ns=u.namespace);const p=[];return eo(o,(w,A)=>{p.push(w+"="+A)}),c+p.join("&")}class H{constructor(){this.counters_={}}incrementCounter(r,o=1){(0,U.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=o}get(){return(0,U.p$)(this.counters_)}}const ye={},Ke={};function Ut(u){const r=u.toString();return ye[r]||(ye[r]=new H),ye[r]}class Qn{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,o){this.closeAfterResponse=r,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,o){for(this.pendingResponses[r]=o;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<c.length;++p)c[p]&&za(()=>{this.onMessage_(c[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Is{constructor(r,o,c,p,w,A,$){this.connId=r,this.repoInfo=o,this.applicationId=c,this.appCheckToken=p,this.authToken=w,this.transportSessionId=A,this.lastSessionId=$,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pn(r),this.stats_=Ut(o),this.urlFn=X=>(this.appCheckToken&&(X.ac=this.appCheckToken),re(o,Lu,X))}open(r,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new Qn(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,U.Yr)()||"complete"===document.readyState)u();else{let r=!1;const o=function(){document.body?r||(r=!0,u()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fd((...w)=>{const[A,$,X,ue,Ye]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===A)this.id=$,this.password=X;else{if("close"!==A)throw new Error("Unrecognized command received: "+A);$?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter($,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[A,$]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(A,$)},()=>{this.onClosed_()},this.urlFn);const c={start:"t"};c.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(c.cb=this.scriptTagHolder.uniqueCallbackIdentifier),c.v="5",this.transportSessionId&&(c.s=this.transportSessionId),this.lastSessionId&&(c.ls=this.lastSessionId),this.applicationId&&(c.p=this.applicationId),this.appCheckToken&&(c.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&cs.test(location.hostname)&&(c.r="f");const p=this.urlFn(c);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Is.forceAllow_=!0}static forceDisallow(){Is.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Is.forceAllow_&&(Is.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const o=(0,U.Wl)(r);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const c=(0,U.h$)(o),p=ll(c,1840);for(let w=0;w<p.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[w]),this.curSegmentNum++}addDisconnectPingFrame(r,o){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const c={dframe:"t"};c.id=r,c.pw=o,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const o=(0,U.Wl)(r).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class fd{constructor(r,o,c,p){if(this.onDisconnect=c,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=r,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=j(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=fd.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const A="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(A),this.myIFrame.doc.close()}catch($){Zt("frame writing exception"),$.stack&&Zt($.stack),Zt($)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Zt("No IE domain setting required")}catch{const c=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,o){for(this.myID=r,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let o=this.urlFn(r),c="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+c.length<=1870;){const A=this.pendingSegs.shift();c=c+"&seg"+p+"="+A.seg+"&ts"+p+"="+A.ts+"&d"+p+"="+A.d,p++}return o+=c,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(r,o,c){this.pendingSegs.push({seg:r,ts:o,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(r,o){this.outstandingRequests.add(o);const c=()=>{this.outstandingRequests.delete(o),this.newRequest_()},p=setTimeout(c,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(p),c()})}addTag(r,o){(0,U.Yr)()?this.doNodeLongPoll(r,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=r,c.onload=c.onreadystatechange=function(){const p=c.readyState;(!p||"loaded"===p||"complete"===p)&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),o())},c.onerror=()=>{Zt("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}let Rl=null;typeof MozWebSocket<"u"?Rl=MozWebSocket:typeof WebSocket<"u"&&(Rl=WebSocket);let qa=(()=>{class u{constructor(o,c,p,w,A,$,X){this.connId=o,this.applicationId=p,this.appCheckToken=w,this.authToken=A,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pn(this.connId),this.stats_=Ut(c),this.connURL=u.connectionURL_(c,$,X,w,p),this.nodeAdmin=c.nodeAdmin}static connectionURL_(o,c,p,w,A){const $={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&cs.test(location.hostname)&&($.r="f"),c&&($.s=c),p&&($.ls=p),w&&($.ac=w),A&&($.p=A),re(o,Po,$)}open(o,c){this.onDisconnect=c,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ws.set("previous_websocket_failure",!0);try{let p;if((0,U.Yr)()){p={headers:{"User-Agent":`Firebase/5/${Dr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const A=process.env,$=0===this.connURL.indexOf("wss://")?A.HTTPS_PROXY||A.https_proxy:A.HTTP_PROXY||A.http_proxy;$&&(p.proxy={origin:$})}this.mySock=new Rl(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const w=p.message||p.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const w=p.message||p.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(o=!0)}return!o&&null!==Rl&&!u.forceDisallow_}static previouslyFailed(){return Ws.isInMemoryStorage||!0===Ws.get("previous_websocket_failure")}markConnectionHealthy(){Ws.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const c=this.frames.join("");this.frames=null;const p=(0,U.cI)(c);this.onMessage(p)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const c=Number(o);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const c=o.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{const p=this.extractFrameCount_(c);null!==p&&this.appendFrame_(p)}}send(o){this.resetKeepAlive();const c=(0,U.Wl)(o);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const p=ll(c,16384);p.length>1&&this.sendString_(String(p.length));for(let w=0;w<p.length;w++)this.sendString_(p[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Ac=(()=>{class u{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Is,qa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const c=qa&&qa.isAvailable();let p=c&&!qa.previouslyFailed();if(o.webSocketOnly&&(c||wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[qa];else{const w=this.transports_=[];for(const A of u.ALL_TRANSPORTS)A&&A.isAvailable()&&w.push(A);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Ma{constructor(r,o,c,p,w,A,$,X,ue,Ye){this.id=r,this.repoInfo_=o,this.applicationId_=c,this.appCheckToken_=p,this.authToken_=w,this.onMessage_=A,this.onReady_=$,this.onDisconnect_=X,this.onKill_=ue,this.lastSessionId=Ye,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pn("c:"+this.id+":"),this.transportManager_=new Ac(o),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,c)},Math.floor(0));const p=r.healthyTimeout||0;p>0&&(this.healthyTimeout_=ma(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return o=>{r===this.conn_?this.onConnectionLost_(o):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return o=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(o):r===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const o=r.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const o=Mi("t",r),c=Mi("d",r);if("c"===o)this.onSecondaryControl_(c);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(c)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const o=Mi("t",r),c=Mi("d",r);"c"===o?this.onControl_(c):"d"===o&&this.onDataMessage_(c)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const o=Mi("t",r);if("d"in r){const c=r.d;if("h"===o){const p=Object.assign({},c);this.repoInfo_.isUsingEmulator&&(p.h=this.repoInfo_.host),this.onHandshake_(p)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(c):"r"===o?this.onReset_(c):"e"===o?jr("Server Error: "+c):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jr("Unknown control packet command: "+o)}}onHandshake_(r){const o=r.ts,c=r.v,p=r.h;this.sessionId=r.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==c&&wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,c),ma(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,o){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ma(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ws.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fl{put(r,o,c,p){}merge(r,o,c,p){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,o,c){}onDisconnectMerge(r,o,c){}onDisconnectCancel(r,o){}reportStats(r){}}class xc{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,U.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...o){if(Array.isArray(this.listeners_[r])){const c=[...this.listeners_[r]];for(let p=0;p<c.length;p++)c[p].callback.apply(c[p].context,o)}}on(r,o,c){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:o,context:c});const p=this.getInitialEvent(r);p&&o.apply(c,p)}off(r,o,c){this.validateEventType_(r);const p=this.listeners_[r]||[];for(let w=0;w<p.length;w++)if(p[w].callback===o&&(!c||c===p[w].context))return void p.splice(w,1)}validateEventType_(r){(0,U.hu)(this.allowedEvents_.find(o=>o===r),"Unknown event: "+r)}}class Ya extends xc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ya}getInitialEvent(r){return(0,U.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class wi{constructor(r,o){if(void 0===o){this.pieces_=r.split("/");let c=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[c]=this.pieces_[p],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=o}toString(){let r="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(r+="/"+this.pieces_[o]);return r||"/"}}function li(){return new wi("")}function Ir(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Ra(u){return u.pieces_.length-u.pieceNum_}function Yi(u){let r=u.pieceNum_;return r<u.pieces_.length&&r++,new wi(u.pieces_,r)}function to(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Li(u,r=0){return u.pieces_.slice(u.pieceNum_+r)}function Lt(u){if(u.pieceNum_>=u.pieces_.length)return null;const r=[];for(let o=u.pieceNum_;o<u.pieces_.length-1;o++)r.push(u.pieces_[o]);return new wi(r,0)}function Zi(u,r){const o=[];for(let c=u.pieceNum_;c<u.pieces_.length;c++)o.push(u.pieces_[c]);if(r instanceof wi)for(let c=r.pieceNum_;c<r.pieces_.length;c++)o.push(r.pieces_[c]);else{const c=r.split("/");for(let p=0;p<c.length;p++)c[p].length>0&&o.push(c[p])}return new wi(o,0)}function Sr(u){return u.pieceNum_>=u.pieces_.length}function ao(u,r){const o=Ir(u),c=Ir(r);if(null===o)return r;if(o===c)return ao(Yi(u),Yi(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+u+")")}function Bu(u,r){const o=Li(u,0),c=Li(r,0);for(let p=0;p<o.length&&p<c.length;p++){const w=so(o[p],c[p]);if(0!==w)return w}return o.length===c.length?0:o.length<c.length?-1:1}function xa(u,r){if(Ra(u)!==Ra(r))return!1;for(let o=u.pieceNum_,c=r.pieceNum_;o<=u.pieces_.length;o++,c++)if(u.pieces_[o]!==r.pieces_[c])return!1;return!0}function Wo(u,r){let o=u.pieceNum_,c=r.pieceNum_;if(Ra(u)>Ra(r))return!1;for(;o<u.pieces_.length;){if(u.pieces_[o]!==r.pieces_[c])return!1;++o,++c}return!0}class Fo{constructor(r,o){this.errorPrefix_=o,this.parts_=Li(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=(0,U.ug)(this.parts_[c]);M(this)}}function M(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+O(u))}function O(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class D extends xc{constructor(){let r,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const c=!document[r];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}static getInstance(){return new D}getInitialEvent(r){return(0,U.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const F=1e3;let lo,lr=(()=>{class u extends fl{constructor(o,c,p,w,A,$,X,ue){if(super(),this.repoInfo_=o,this.applicationId_=c,this.onDataUpdate_=p,this.onConnectStatus_=w,this.onServerInfoUpdate_=A,this.authTokenProvider_=$,this.appCheckTokenProvider_=X,this.authOverride_=ue,this.id=u.nextPersistentConnectionId_++,this.log_=pn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=F,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ue&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");D.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Ya.getInstance().on("online",this.onOnline_,this)}sendRequest(o,c,p){const w=++this.requestNumber_,A={r:w,a:o,b:c};this.log_((0,U.Wl)(A)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(A),p&&(this.requestCBHash_[w]=p)}get(o){this.initConnection_();const c=new U.BH,w={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:$=>{const X=$.d;"ok"===$.s?c.resolve(X):c.reject(X)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),c.promise}listen(o,c,p,w){this.initConnection_();const A=o._queryIdentifier,$=o._path.toString();this.log_("Listen called for "+$+" "+A),this.listens.has($)||this.listens.set($,new Map),(0,U.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get($).has(A),"listen() called twice for same path/queryId.");const X={onComplete:w,hashFn:c,query:o,tag:p};this.listens.get($).set(A,X),this.connected_&&this.sendListen_(X)}sendGet_(o){const c=this.outstandingGets_[o];this.sendRequest("g",c.request,p=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),c.onComplete&&c.onComplete(p)})}sendListen_(o){const c=o.query,p=c._path.toString(),w=c._queryIdentifier;this.log_("Listen on "+p+" for "+w);const A={p};o.tag&&(A.q=c._queryObject,A.t=o.tag),A.h=o.hashFn(),this.sendRequest("q",A,X=>{const ue=X.d,Ye=X.s;u.warnOnListenWarnings_(ue,c),(this.listens.get(p)&&this.listens.get(p).get(w))===o&&(this.log_("listen response",X),"ok"!==Ye&&this.removeListen_(p,w),o.onComplete&&o.onComplete(Ye,ue))})}static warnOnListenWarnings_(o,c){if(o&&"object"==typeof o&&(0,U.r3)(o,"w")){const p=(0,U.DV)(o,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const w='".indexOn": "'+c._queryParams.getIndex().toString()+'"',A=c._path.toString();wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${A} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,U.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,c=(0,U.w9)(o)?"auth":"gauth",p={cred:o};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(c,p,w=>{const A=w.s,$=w.d||"error";this.authToken_===o&&("ok"===A?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(A,$))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const c=o.s,p=o.d||"error";"ok"===c?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(c,p)})}unlisten(o,c){const p=o._path.toString(),w=o._queryIdentifier;this.log_("Unlisten called for "+p+" "+w),(0,U.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,w)&&this.connected_&&this.sendUnlisten_(p,w,o._queryObject,c)}sendUnlisten_(o,c,p,w){this.log_("Unlisten on "+o+" for "+c);const A={p:o};w&&(A.q=p,A.t=w),this.sendRequest("n",A)}onDisconnectPut(o,c,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,c,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:c,onComplete:p})}onDisconnectMerge(o,c,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,c,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:c,onComplete:p})}onDisconnectCancel(o,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,c):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:c})}sendOnDisconnect_(o,c,p,w){const A={p:c,d:p};this.log_("onDisconnect "+o,A),this.sendRequest(o,A,$=>{w&&setTimeout(()=>{w($.s,$.d)},Math.floor(0))})}put(o,c,p,w){this.putInternal("p",o,c,p,w)}merge(o,c,p,w){this.putInternal("m",o,c,p,w)}putInternal(o,c,p,w,A){this.initConnection_();const $={p:c,d:p};void 0!==A&&($.h=A),this.outstandingPuts_.push({action:o,request:$,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+c)}sendPut_(o){const c=this.outstandingPuts_[o].action,p=this.outstandingPuts_[o].request,w=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(c,p,A=>{this.log_(c+" response",A),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(A.s,A.d)})}reportStats(o){if(this.connected_){const c={c:o};this.log_("reportStats",c),this.sendRequest("s",c,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,U.Wl)(o));const c=o.r,p=this.requestCBHash_[c];p&&(delete this.requestCBHash_[c],p(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,c){this.log_("handleServerMessage",o,c),"d"===o?this.onDataUpdate_(c.p,c.d,!1,c.t):"m"===o?this.onDataUpdate_(c.p,c.d,!0,c.t):"c"===o?this.onListenRevoked_(c.p,c.q):"ac"===o?this.onAuthRevoked_(c.s,c.d):"apc"===o?this.onAppCheckRevoked_(c.s,c.d):"sd"===o?this.onSecurityDebugPacket_(c):jr("Unrecognized action received from server: "+(0,U.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,c){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=c,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=F,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=F,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=F),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let c=Math.max(0,this.reconnectDelay_-o);c=Math.random()*c,this.log_("Trying to reconnect in "+c+"ms"),this.scheduleConnect_(c),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Nn.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const c=o.onDataMessage_.bind(o),p=o.onReady_.bind(o),w=o.onRealtimeDisconnect_.bind(o),A=o.id+":"+u.nextConnectionId_++,$=o.lastSessionId;let X=!1,ue=null;const Ye=function(){ue?ue.close():(X=!0,w())};o.realtime_={close:Ye,sendRequest:function(Ft){(0,U.hu)(ue,"sendRequest call when we're not connected not allowed."),ue.sendRequest(Ft)}};const Et=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[Ft,Kt]=yield Promise.all([o.authTokenProvider_.getToken(Et),o.appCheckTokenProvider_.getToken(Et)]);X?Zt("getToken() completed but was canceled"):(Zt("getToken() completed. Creating connection."),o.authToken_=Ft&&Ft.accessToken,o.appCheckToken_=Kt&&Kt.token,ue=new Ma(A,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,c,p,w,cn=>{wr(cn+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},$))}catch(Ft){o.log_("Failed to get token: "+Ft),X||(o.repoInfo_.nodeAdmin&&wr(Ft),Ye())}}})()}interrupt(o){Zt("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){Zt("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=F,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const c=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:c})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const c=this.outstandingPuts_[o];c&&"h"in c.request&&c.queued&&(c.onComplete&&c.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,c){let p;p=c?c.map(A=>Hi(A)).join("$"):"default";const w=this.removeListen_(o,p);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(o,c){const p=new wi(o).toString();let w;if(this.listens.has(p)){const A=this.listens.get(p);w=A.get(c),A.delete(c),0===A.size&&this.listens.delete(p)}else w=void 0;return w}onAuthRevoked_(o,c){Zt("Auth token revoked: "+o+"/"+c),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,c){Zt("App check token revoked: "+o+"/"+c),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const c of o.values())this.sendListen_(c);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let c="js";(0,U.Yr)()&&(c=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+c+"."+Dr.replace(/\./g,"-")]=1,(0,U.uI)()?o["framework.cordova"]=1:(0,U.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Ya.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&o}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class gn{constructor(r,o){this.name=r,this.node=o}static Wrap(r,o){return new gn(r,o)}}class Bi{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,o){const c=new gn(As,r),p=new gn(As,o);return 0!==this.compare(c,p)}minPost(){return gn.MIN}}class Jo extends Bi{static get __EMPTY_NODE(){return lo}static set __EMPTY_NODE(r){lo=r}compare(r,o){return so(r.name,o.name)}isDefinedOn(r){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,o){return!1}minPost(){return gn.MIN}maxPost(){return new gn(Es,lo)}makePost(r,o){return(0,U.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new gn(r,lo)}toString(){return".key"}}const no=new Jo;class pl{constructor(r,o,c,p,w=null){this.isReverse_=p,this.resultGenerator_=w,this.nodeStack_=[];let A=1;for(;!r.isEmpty();)if(A=o?c(r.key,o):1,p&&(A*=-1),A<0)r=this.isReverse_?r.left:r.right;else{if(0===A){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,r=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Pp,uo=(()=>{class u{constructor(o,c,p,w,A){this.key=o,this.value=c,this.color=null!=p?p:u.RED,this.left=null!=w?w:hs.EMPTY_NODE,this.right=null!=A?A:hs.EMPTY_NODE}copy(o,c,p,w,A){return new u(null!=o?o:this.key,null!=c?c:this.value,null!=p?p:this.color,null!=w?w:this.left,null!=A?A:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,c,p){let w=this;const A=p(o,w.key);return w=A<0?w.copy(null,null,null,w.left.insert(o,c,p),null):0===A?w.copy(null,c,null,null,null):w.copy(null,null,null,null,w.right.insert(o,c,p)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return hs.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,c){let p,w;if(p=this,c(o,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(o,c),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===c(o,p.key)){if(p.right.isEmpty())return hs.EMPTY_NODE;w=p.right.min_(),p=p.copy(w.key,w.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(o,c))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,c)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class hs{constructor(r,o=hs.EMPTY_NODE){this.comparator_=r,this.root_=o}insert(r,o){return new hs(this.comparator_,this.root_.insert(r,o,this.comparator_).copy(null,null,uo.BLACK,null,null))}remove(r){return new hs(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,uo.BLACK,null,null))}get(r){let o,c=this.root_;for(;!c.isEmpty();){if(o=this.comparator_(r,c.key),0===o)return c.value;o<0?c=c.left:o>0&&(c=c.right)}return null}getPredecessorKey(r){let o,c=this.root_,p=null;for(;!c.isEmpty();){if(o=this.comparator_(r,c.key),0===o){if(c.left.isEmpty())return p?p.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}o<0?c=c.left:o>0&&(p=c,c=c.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new pl(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,o){return new pl(this.root_,r,this.comparator_,!1,o)}getReverseIteratorFrom(r,o){return new pl(this.root_,r,this.comparator_,!0,o)}getReverseIterator(r){return new pl(this.root_,null,this.comparator_,!0,r)}}function Vu(u,r){return so(u.name,r.name)}function Za(u,r){return so(u,r)}hs.EMPTY_NODE=new class pd{copy(r,o,c,p,w){return this}insert(r,o,c){return new uo(r,o,null)}remove(r,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gd=function(u){return"number"==typeof u?"number:"+ul(u):"string:"+u},Ef=function(u){if(u.isLeafNode()){const r=u.val();(0,U.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,U.r3)(r,".sv"),"Priority must be a string or number.")}else(0,U.hu)(u===Pp||u.isEmpty(),"priority of unexpected type.");(0,U.hu)(u===Pp||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Qa,iu,uh,Oc=(()=>{class u{constructor(o,c=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=c,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ef(this.priorityNode_)}static set __childrenNodeConstructor(o){Qa=o}static get __childrenNodeConstructor(){return Qa}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new u(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Sr(o)?this:".priority"===Ir(o)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,c){return null}updateImmediateChild(o,c){return".priority"===o?this.updatePriority(c):c.isEmpty()&&".priority"!==o?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,c).updatePriority(this.priorityNode_)}updateChild(o,c){const p=Ir(o);return null===p?c:c.isEmpty()&&".priority"!==p?this:((0,U.hu)(".priority"!==p||1===Ra(o),".priority must be the last token in a path"),this.updateImmediateChild(p,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yi(o),c)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,c){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+gd(this.priorityNode_.val())+":");const c=typeof this.value_;o+=c+":",o+="number"===c?ul(this.value_):this.value_,this.lazyHash_=C(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===u.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof u.__childrenNodeConstructor?-1:((0,U.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const c=typeof o.value_,p=typeof this.value_,w=u.VALUE_TYPE_ORDER.indexOf(c),A=u.VALUE_TYPE_ORDER.indexOf(p);return(0,U.hu)(w>=0,"Unknown leaf type: "+c),(0,U.hu)(A>=0,"Unknown leaf type: "+p),w===A?"object"===p?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:A-w}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Gi=new class yd extends Bi{compare(r,o){const c=r.node.getPriority(),p=o.node.getPriority(),w=c.compareTo(p);return 0===w?so(r.name,o.name):w}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,o){return!r.getPriority().equals(o.getPriority())}minPost(){return gn.MIN}maxPost(){return new gn(Es,new Oc("[PRIORITY-POST]",uh))}makePost(r,o){const c=iu(r);return new gn(o,new Oc("[PRIORITY-POST]",c))}toString(){return".priority"}},wo=Math.log(2);class Uu{constructor(r){this.count=parseInt(Math.log(r+1)/wo,10),this.current_=this.count-1;const p=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&p}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Pa=function(u,r,o,c){u.sort(r);const p=function(X,ue){const Ye=ue-X;let at,Et;if(0===Ye)return null;if(1===Ye)return at=u[X],Et=o?o(at):at,new uo(Et,at.node,uo.BLACK,null,null);{const Ft=parseInt(Ye/2,10)+X,Kt=p(X,Ft),cn=p(Ft+1,ue);return at=u[Ft],Et=o?o(at):at,new uo(Et,at.node,uo.BLACK,Kt,cn)}},$=function(X){let ue=null,Ye=null,at=u.length;const Et=function(Kt,cn){const xn=at-Kt,Fr=at;at-=Kt;const ni=p(xn+1,Fr),Ii=u[xn],hi=o?o(Ii):Ii;Ft(new uo(hi,Ii.node,cn,null,ni))},Ft=function(Kt){ue?(ue.left=Kt,ue=Kt):(Ye=Kt,ue=Kt)};for(let Kt=0;Kt<X.count;++Kt){const cn=X.nextBitIsOne(),xn=Math.pow(2,X.count-(Kt+1));cn?Et(xn,uo.BLACK):(Et(xn,uo.BLACK),Et(xn,uo.RED))}return Ye}(new Uu(u.length));return new hs(c||r,$)};let vd;const Ri={};class Lo{constructor(r,o){this.indexes_=r,this.indexSet_=o}static get Default(){return(0,U.hu)(Ri&&Gi,"ChildrenNode.ts has not been loaded"),vd=vd||new Lo({".priority":Ri},{".priority":Gi}),vd}get(r){const o=(0,U.DV)(this.indexes_,r);if(!o)throw new Error("No index defined for "+r);return o instanceof hs?o:null}hasIndex(r){return(0,U.r3)(this.indexSet_,r.toString())}addIndex(r,o){(0,U.hu)(r!==no,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let p=!1;const w=o.getIterator(gn.Wrap);let $,A=w.getNext();for(;A;)p=p||r.isDefinedOn(A.node),c.push(A),A=w.getNext();$=p?Pa(c,r.getCompare()):Ri;const X=r.toString(),ue=Object.assign({},this.indexSet_);ue[X]=r;const Ye=Object.assign({},this.indexes_);return Ye[X]=$,new Lo(Ye,ue)}addToIndexes(r,o){const c=(0,U.UI)(this.indexes_,(p,w)=>{const A=(0,U.DV)(this.indexSet_,w);if((0,U.hu)(A,"Missing index implementation for "+w),p===Ri){if(A.isDefinedOn(r.node)){const $=[],X=o.getIterator(gn.Wrap);let ue=X.getNext();for(;ue;)ue.name!==r.name&&$.push(ue),ue=X.getNext();return $.push(r),Pa($,A.getCompare())}return Ri}{const $=o.get(r.name);let X=p;return $&&(X=X.remove(new gn(r.name,$))),X.insert(r,r.node)}});return new Lo(c,this.indexSet_)}removeFromIndexes(r,o){const c=(0,U.UI)(this.indexes_,p=>{if(p===Ri)return p;{const w=o.get(r.name);return w?p.remove(new gn(r.name,w)):p}});return new Lo(c,this.indexSet_)}}let Qi,tr=(()=>{class u{constructor(o,c,p){this.children_=o,this.priorityNode_=c,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&Ef(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qi||(Qi=new u(new hs(Za),null,Lo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qi}updatePriority(o){return this.children_.isEmpty()?this:new u(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const c=this.children_.get(o);return null===c?Qi:c}}getChild(o){const c=Ir(o);return null===c?this:this.getImmediateChild(c).getChild(Yi(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,c){if((0,U.hu)(c,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(c);{const p=new gn(o,c);let w,A;c.isEmpty()?(w=this.children_.remove(o),A=this.indexMap_.removeFromIndexes(p,this.children_)):(w=this.children_.insert(o,c),A=this.indexMap_.addToIndexes(p,this.children_));const $=w.isEmpty()?Qi:this.priorityNode_;return new u(w,$,A)}}updateChild(o,c){const p=Ir(o);if(null===p)return c;{(0,U.hu)(".priority"!==Ir(o)||1===Ra(o),".priority must be the last token in a path");const w=this.getImmediateChild(p).updateChild(Yi(o),c);return this.updateImmediateChild(p,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const c={};let p=0,w=0,A=!0;if(this.forEachChild(Gi,($,X)=>{c[$]=X.val(o),p++,A&&u.INTEGER_REGEXP_.test($)?w=Math.max(w,Number($)):A=!1}),!o&&A&&w<2*p){const $=[];for(const X in c)$[X]=c[X];return $}return o&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+gd(this.getPriority().val())+":"),this.forEachChild(Gi,(c,p)=>{const w=p.hash();""!==w&&(o+=":"+c+":"+w)}),this.lazyHash_=""===o?"":C(o)}return this.lazyHash_}getPredecessorChildName(o,c,p){const w=this.resolveIndex_(p);if(w){const A=w.getPredecessorKey(new gn(o,c));return A?A.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const c=this.resolveIndex_(o);if(c){const p=c.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(o){const c=this.getFirstChildName(o);return c?new gn(c,this.children_.get(c)):null}getLastChildName(o){const c=this.resolveIndex_(o);if(c){const p=c.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(o){const c=this.getLastChildName(o);return c?new gn(c,this.children_.get(c)):null}forEachChild(o,c){const p=this.resolveIndex_(o);return p?p.inorderTraversal(w=>c(w.name,w.node)):this.children_.inorderTraversal(c)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,c){const p=this.resolveIndex_(c);if(p)return p.getIteratorFrom(o,w=>w);{const w=this.children_.getIteratorFrom(o.name,gn.Wrap);let A=w.peek();for(;null!=A&&c.compare(A,o)<0;)w.getNext(),A=w.peek();return w}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,c){const p=this.resolveIndex_(c);if(p)return p.getReverseIteratorFrom(o,w=>w);{const w=this.children_.getReverseIteratorFrom(o.name,gn.Wrap);let A=w.peek();for(;null!=A&&c.compare(A,o)>0;)w.getNext(),A=w.peek();return w}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Oa?-1:0}withIndex(o){if(o===no||this.indexMap_.hasIndex(o))return this;{const c=this.indexMap_.addIndex(o,this.children_);return new u(this.children_,this.priorityNode_,c)}}isIndexed(o){return o===no||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const c=o;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){const p=this.getIterator(Gi),w=c.getIterator(Gi);let A=p.getNext(),$=w.getNext();for(;A&&$;){if(A.name!==$.name||!A.node.equals($.node))return!1;A=p.getNext(),$=w.getNext()}return null===A&&null===$}return!1}return!1}}resolveIndex_(o){return o===no?null:this.indexMap_.get(o.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const Oa=new class dh extends tr{constructor(){super(new hs(Za),tr.EMPTY_NODE,Lo.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return tr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gn,{MIN:{value:new gn(As,tr.EMPTY_NODE)},MAX:{value:new gn(Es,Oa)}}),Jo.__EMPTY_NODE=tr.EMPTY_NODE,Oc.__childrenNodeConstructor=tr,function Op(u){Pp=u}(Oa),function ch(u){uh=u}(Oa);const co=!0;function Ms(u,r=null){if(null===u)return tr.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(r=u[".priority"]),(0,U.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Oc(u,Ms(r));if(u instanceof Array||!co){let o=tr.EMPTY_NODE;return eo(u,(c,p)=>{if((0,U.r3)(u,c)&&"."!==c.substring(0,1)){const w=Ms(p);(w.isLeafNode()||!w.isEmpty())&&(o=o.updateImmediateChild(c,w))}}),o.updatePriority(Ms(r))}{const o=[];let c=!1;if(eo(u,(A,$)=>{if("."!==A.substring(0,1)){const X=Ms($);X.isEmpty()||(c=c||!X.getPriority().isEmpty(),o.push(new gn(A,X)))}}),0===o.length)return tr.EMPTY_NODE;const w=Pa(o,Vu,A=>A.name,Za);if(c){const A=Pa(o,Gi.getCompare());return new tr(w,Ms(r),new Lo({".priority":A},{".priority":Gi}))}return new tr(w,Ms(r),Lo.Default)}}!function md(u){iu=u}(Ms);class hh extends Bi{constructor(r){super(),this.indexPath_=r,(0,U.hu)(!Sr(r)&&".priority"!==Ir(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,o){const c=this.extractChild(r.node),p=this.extractChild(o.node),w=c.compareTo(p);return 0===w?so(r.name,o.name):w}makePost(r,o){const c=Ms(r),p=tr.EMPTY_NODE.updateChild(this.indexPath_,c);return new gn(o,p)}maxPost(){const r=tr.EMPTY_NODE.updateChild(this.indexPath_,Oa);return new gn(Es,r)}toString(){return Li(this.indexPath_,0).join("/")}}const wf=new class Vs extends Bi{compare(r,o){const c=r.node.compareTo(o.node);return 0===c?so(r.name,o.name):c}isDefinedOn(r){return!0}indexedValueChanged(r,o){return!r.equals(o)}minPost(){return gn.MIN}maxPost(){return gn.MAX}makePost(r,o){const c=Ms(r);return new gn(o,c)}toString(){return".value"}};function gl(u){return{type:"value",snapshotNode:u}}function $i(u,r){return{type:"child_added",snapshotNode:r,childName:u}}function Oo(u,r){return{type:"child_removed",snapshotNode:r,childName:u}}function Ea(u,r,o){return{type:"child_changed",snapshotNode:r,childName:u,oldSnap:o}}class su{constructor(r){this.index_=r}updateChild(r,o,c,p,w,A){(0,U.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const $=r.getImmediateChild(o);return $.getChild(p).equals(c.getChild(p))&&$.isEmpty()===c.isEmpty()||(null!=A&&(c.isEmpty()?r.hasChild(o)?A.trackChildChange(Oo(o,$)):(0,U.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):$.isEmpty()?A.trackChildChange($i(o,c)):A.trackChildChange(Ea(o,c,$))),r.isLeafNode()&&c.isEmpty())?r:r.updateImmediateChild(o,c).withIndex(this.index_)}updateFullNode(r,o,c){return null!=c&&(r.isLeafNode()||r.forEachChild(Gi,(p,w)=>{o.hasChild(p)||c.trackChildChange(Oo(p,w))}),o.isLeafNode()||o.forEachChild(Gi,(p,w)=>{if(r.hasChild(p)){const A=r.getImmediateChild(p);A.equals(w)||c.trackChildChange(Ea(p,w,A))}else c.trackChildChange($i(p,w))})),o.withIndex(this.index_)}updatePriority(r,o){return r.isEmpty()?tr.EMPTY_NODE:r.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Nl{constructor(r){this.indexedFilter_=new su(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Nl.getStartPost_(r),this.endPost_=Nl.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,c=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return o&&c}updateChild(r,o,c,p,w,A){return this.matches(new gn(o,c))||(c=tr.EMPTY_NODE),this.indexedFilter_.updateChild(r,o,c,p,w,A)}updateFullNode(r,o,c){o.isLeafNode()&&(o=tr.EMPTY_NODE);let p=o.withIndex(this.index_);p=p.updatePriority(tr.EMPTY_NODE);const w=this;return o.forEachChild(Gi,(A,$)=>{w.matches(new gn(A,$))||(p=p.updateImmediateChild(A,tr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,p,c)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const o=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),o)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const o=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),o)}return r.getIndex().maxPost()}}class ea{constructor(r){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=o=>{const c=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new Nl(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,o,c,p,w,A){return this.rangedFilter_.matches(new gn(o,c))||(c=tr.EMPTY_NODE),r.getImmediateChild(o).equals(c)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,o,c,p,w,A):this.fullLimitUpdateChild_(r,o,c,w,A)}updateFullNode(r,o,c){let p;if(o.isLeafNode()||o.isEmpty())p=tr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let w;p=tr.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let A=0;for(;w.hasNext()&&A<this.limit_;){const $=w.getNext();if(this.withinDirectionalStart($)){if(!this.withinDirectionalEnd($))break;p=p.updateImmediateChild($.name,$.node),A++}}}else{let w;p=o.withIndex(this.index_),p=p.updatePriority(tr.EMPTY_NODE),w=this.reverse_?p.getReverseIterator(this.index_):p.getIterator(this.index_);let A=0;for(;w.hasNext();){const $=w.getNext();A<this.limit_&&this.withinDirectionalStart($)&&this.withinDirectionalEnd($)?A++:p=p.updateImmediateChild($.name,tr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,p,c)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,o,c,p,w){let A;if(this.reverse_){const at=this.index_.getCompare();A=(Et,Ft)=>at(Ft,Et)}else A=this.index_.getCompare();const $=r;(0,U.hu)($.numChildren()===this.limit_,"");const X=new gn(o,c),ue=this.reverse_?$.getFirstChild(this.index_):$.getLastChild(this.index_),Ye=this.rangedFilter_.matches(X);if($.hasChild(o)){const at=$.getImmediateChild(o);let Et=p.getChildAfterChild(this.index_,ue,this.reverse_);for(;null!=Et&&(Et.name===o||$.hasChild(Et.name));)Et=p.getChildAfterChild(this.index_,Et,this.reverse_);const Ft=null==Et?1:A(Et,X);if(Ye&&!c.isEmpty()&&Ft>=0)return null!=w&&w.trackChildChange(Ea(o,c,at)),$.updateImmediateChild(o,c);{null!=w&&w.trackChildChange(Oo(o,at));const cn=$.updateImmediateChild(o,tr.EMPTY_NODE);return null!=Et&&this.rangedFilter_.matches(Et)?(null!=w&&w.trackChildChange($i(Et.name,Et.node)),cn.updateImmediateChild(Et.name,Et.node)):cn}}return c.isEmpty()?r:Ye&&A(ue,X)>=0?(null!=w&&(w.trackChildChange(Oo(ue.name,ue.node)),w.trackChildChange($i(o,c))),$.updateImmediateChild(o,c).updateImmediateChild(ue.name,tr.EMPTY_NODE)):r}}class Na{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:As}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gi}copy(){const r=new Na;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function ju(u,r,o){const c=u.copy();return c.startSet_=!0,void 0===r&&(r=null),c.indexStartValue_=r,null!=o?(c.startNameSet_=!0,c.indexStartName_=o):(c.startNameSet_=!1,c.indexStartName_=""),c}function fh(u,r,o){const c=u.copy();return c.endSet_=!0,void 0===r&&(r=null),c.indexEndValue_=r,void 0!==o?(c.endNameSet_=!0,c.indexEndName_=o):(c.endNameSet_=!1,c.indexEndName_=""),c}function Ja(u,r){const o=u.copy();return o.index_=r,o}function Nc(u){const r={};if(u.isDefault())return r;let o;if(u.index_===Gi?o="$priority":u.index_===wf?o="$value":u.index_===no?o="$key":((0,U.hu)(u.index_ instanceof hh,"Unrecognized index type!"),o=u.index_.toString()),r.orderBy=(0,U.Wl)(o),u.startSet_){const c=u.startAfterSet_?"startAfter":"startAt";r[c]=(0,U.Wl)(u.indexStartValue_),u.startNameSet_&&(r[c]+=","+(0,U.Wl)(u.indexStartName_))}if(u.endSet_){const c=u.endBeforeSet_?"endBefore":"endAt";r[c]=(0,U.Wl)(u.indexEndValue_),u.endNameSet_&&(r[c]+=","+(0,U.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?r.limitToFirst=u.limit_:r.limitToLast=u.limit_),r}function Hu(u){const r={};if(u.startSet_&&(r.sp=u.indexStartValue_,u.startNameSet_&&(r.sn=u.indexStartName_),r.sin=!u.startAfterSet_),u.endSet_&&(r.ep=u.indexEndValue_,u.endNameSet_&&(r.en=u.indexEndName_),r.ein=!u.endBeforeSet_),u.limitSet_){r.l=u.limit_;let o=u.viewFrom_;""===o&&(o=u.isViewFromLeft()?"l":"r"),r.vf=o}return u.index_!==Gi&&(r.i=u.index_.toString()),r}class Rs extends fl{constructor(r,o,c,p){super(),this.repoInfo_=r,this.onDataUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=p,this.log_=pn("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,o){return void 0!==o?"tag$"+o:((0,U.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,o,c,p){const w=r._path.toString();this.log_("Listen called for "+w+" "+r._queryIdentifier);const A=Rs.getListenId_(r,c),$={};this.listens_[A]=$;const X=Nc(r._queryParams);this.restRequest_(w+".json",X,(ue,Ye)=>{let at=Ye;if(404===ue&&(at=null,ue=null),null===ue&&this.onDataUpdate_(w,at,!1,c),(0,U.DV)(this.listens_,A)===$){let Et;Et=ue?401===ue?"permission_denied":"rest_error:"+ue:"ok",p(Et,null)}})}unlisten(r,o){const c=Rs.getListenId_(r,o);delete this.listens_[c]}get(r){const o=Nc(r._queryParams),c=r._path.toString(),p=new U.BH;return this.restRequest_(c+".json",o,(w,A)=>{let $=A;404===w&&($=null,w=null),null===w?(this.onDataUpdate_(c,$,!1,null),p.resolve($)):p.reject(new Error($))}),p.promise}refreshAuthToken(r){}restRequest_(r,o={},c){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,w])=>{p&&p.accessToken&&(o.auth=p.accessToken),w&&w.token&&(o.ac=w.token);const A=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,U.xO)(o);this.log_("Sending REST request for "+A);const $=new XMLHttpRequest;$.onreadystatechange=()=>{if(c&&4===$.readyState){this.log_("REST Response for "+A+" received. status:",$.status,"response:",$.responseText);let X=null;if($.status>=200&&$.status<300){try{X=(0,U.cI)($.responseText)}catch{wr("Failed to parse JSON response for "+A+": "+$.responseText)}c(null,X)}else 401!==$.status&&404!==$.status&&wr("Got unsuccessful REST response for "+A+" Status: "+$.status),c($.status);c=null}},$.open("GET",A,!0),$.send()})}}class wd{constructor(){this.rootNode_=tr.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,o){this.rootNode_=this.rootNode_.updateChild(r,o)}}function el(){return{value:null,children:new Map}}function zu(u,r,o){if(Sr(r))u.value=o,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(r,o);else{const c=Ir(r);u.children.has(c)||u.children.set(c,el()),zu(u.children.get(c),r=Yi(r),o)}}function Bo(u,r){if(Sr(r))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const o=u.value;return u.value=null,o.forEachChild(Gi,(c,p)=>{zu(u,new wi(c),p)}),Bo(u,r)}}if(u.children.size>0){const o=Ir(r);return r=Yi(r),u.children.has(o)&&Bo(u.children.get(o),r)&&u.children.delete(o),0===u.children.size}return!0}function ka(u,r,o){null!==u.value?o(r,u.value):function If(u,r){u.children.forEach((o,c)=>{r(c,o)})}(u,(c,p)=>{ka(p,new wi(r.toString()+"/"+c),o)})}class Gu{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),o=Object.assign({},r);return this.last_&&eo(this.last_,(c,p)=>{o[c]=o[c]-p}),this.last_=r,o}}class $o{constructor(r,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Gu(r);const c=1e4+2e4*Math.random();ma(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const r=this.statsListener_.get(),o={};let c=!1;eo(r,(p,w)=>{w>0&&(0,U.r3)(this.statsToReport_,p)&&(o[p]=w,c=!0)}),c&&this.server_.reportStats(o),ma(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ho=(()=>((ho=ho||{})[ho.OVERWRITE=0]="OVERWRITE",ho[ho.MERGE=1]="MERGE",ho[ho.ACK_USER_WRITE=2]="ACK_USER_WRITE",ho[ho.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ho))();function Ll(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Fc{constructor(r,o,c){this.path=r,this.affectedTree=o,this.revert=c,this.type=ho.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Sr(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new wi(r));return new Fc(li(),o,this.revert)}}return(0,U.hu)(Ir(this.path)===r,"operationForChild called for unrelated child."),new Fc(Yi(this.path),this.affectedTree,this.revert)}}class tl{constructor(r,o){this.source=r,this.path=o,this.type=ho.LISTEN_COMPLETE}operationForChild(r){return Sr(this.path)?new tl(this.source,li()):new tl(this.source,Yi(this.path))}}class Wu{constructor(r,o,c){this.source=r,this.path=o,this.snap=c,this.type=ho.OVERWRITE}operationForChild(r){return Sr(this.path)?new Wu(this.source,li(),this.snap.getImmediateChild(r)):new Wu(this.source,Yi(this.path),this.snap)}}class Ku{constructor(r,o,c){this.source=r,this.path=o,this.children=c,this.type=ho.MERGE}operationForChild(r){if(Sr(this.path)){const o=this.children.subtree(new wi(r));return o.isEmpty()?null:o.value?new Wu(this.source,li(),o.value):new Ku(this.source,li(),o)}return(0,U.hu)(Ir(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Ku(this.source,Yi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qr{constructor(r,o,c){this.node_=r,this.fullyInitialized_=o,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Sr(r))return this.isFullyInitialized()&&!this.filtered_;const o=Ir(r);return this.isCompleteForChild(o)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Xi{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Yu(u,r,o,c,p,w){const A=c.filter($=>$.type===o);A.sort(($,X)=>function Cd(u,r,o){if(null==r.childName||null==o.childName)throw(0,U.g5)("Should only compare child_ events.");const c=new gn(r.childName,r.snapshotNode),p=new gn(o.childName,o.snapshotNode);return u.index_.compare(c,p)}(u,$,X)),A.forEach($=>{const X=function Id(u,r,o){return"value"===r.type||"child_removed"===r.type||(r.prevName=o.getPredecessorChildName(r.childName,r.snapshotNode,u.index_)),r}(u,$,w);p.forEach(ue=>{ue.respondsTo($.type)&&r.push(ue.createEvent(X,u.query_))})})}function Lc(u,r){return{eventCache:u,serverCache:r}}function Bl(u,r,o,c){return Lc(new qr(r,o,c),u.serverCache)}function bd(u,r,o,c){return Lc(u.eventCache,new qr(r,o,c))}function ml(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Zu(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Bc;class Vi{constructor(r,o=(()=>(Bc||(Bc=new hs(oa)),Bc))()){this.value=r,this.children=o}static fromObject(r){let o=new Vi(null);return eo(r,(c,p)=>{o=o.set(new wi(c),p)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,o){if(null!=this.value&&o(this.value))return{path:li(),value:this.value};if(Sr(r))return null;{const c=Ir(r),p=this.children.get(c);if(null!==p){const w=p.findRootMostMatchingPathAndValue(Yi(r),o);return null!=w?{path:Zi(new wi(c),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Sr(r))return this;{const o=Ir(r),c=this.children.get(o);return null!==c?c.subtree(Yi(r)):new Vi(null)}}set(r,o){if(Sr(r))return new Vi(o,this.children);{const c=Ir(r),w=(this.children.get(c)||new Vi(null)).set(Yi(r),o),A=this.children.insert(c,w);return new Vi(this.value,A)}}remove(r){if(Sr(r))return this.children.isEmpty()?new Vi(null):new Vi(null,this.children);{const o=Ir(r),c=this.children.get(o);if(c){const p=c.remove(Yi(r));let w;return w=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),null===this.value&&w.isEmpty()?new Vi(null):new Vi(this.value,w)}return this}}get(r){if(Sr(r))return this.value;{const o=Ir(r),c=this.children.get(o);return c?c.get(Yi(r)):null}}setTree(r,o){if(Sr(r))return o;{const c=Ir(r),w=(this.children.get(c)||new Vi(null)).setTree(Yi(r),o);let A;return A=w.isEmpty()?this.children.remove(c):this.children.insert(c,w),new Vi(this.value,A)}}fold(r){return this.fold_(li(),r)}fold_(r,o){const c={};return this.children.inorderTraversal((p,w)=>{c[p]=w.fold_(Zi(r,p),o)}),o(r,this.value,c)}findOnPath(r,o){return this.findOnPath_(r,li(),o)}findOnPath_(r,o,c){const p=!!this.value&&c(o,this.value);if(p)return p;if(Sr(r))return null;{const w=Ir(r),A=this.children.get(w);return A?A.findOnPath_(Yi(r),Zi(o,w),c):null}}foreachOnPath(r,o){return this.foreachOnPath_(r,li(),o)}foreachOnPath_(r,o,c){if(Sr(r))return this;{this.value&&c(o,this.value);const p=Ir(r),w=this.children.get(p);return w?w.foreachOnPath_(Yi(r),Zi(o,p),c):new Vi(null)}}foreach(r){this.foreach_(li(),r)}foreach_(r,o){this.children.inorderTraversal((c,p)=>{p.foreach_(Zi(r,c),o)}),this.value&&o(r,this.value)}foreachChild(r){this.children.inorderTraversal((o,c)=>{c.value&&r(o,c.value)})}}class La{constructor(r){this.writeTree_=r}static empty(){return new La(new Vi(null))}}function au(u,r,o){if(Sr(r))return new La(new Vi(o));{const c=u.writeTree_.findRootMostValueAndPath(r);if(null!=c){const p=c.path;let w=c.value;const A=ao(p,r);return w=w.updateChild(A,o),new La(u.writeTree_.set(p,w))}{const p=new Vi(o),w=u.writeTree_.setTree(r,p);return new La(w)}}}function bf(u,r,o){let c=u;return eo(o,(p,w)=>{c=au(c,Zi(r,p),w)}),c}function $c(u,r){if(Sr(r))return La.empty();{const o=u.writeTree_.setTree(r,new Vi(null));return new La(o)}}function $l(u,r){return null!=yl(u,r)}function yl(u,r){const o=u.writeTree_.findRootMostValueAndPath(r);return null!=o?u.writeTree_.get(o.path).getChild(ao(o.path,r)):null}function vl(u){const r=[],o=u.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(Gi,(c,p)=>{r.push(new gn(c,p))}):u.writeTree_.children.inorderTraversal((c,p)=>{null!=p.value&&r.push(new gn(c,p.value))}),r}function la(u,r){if(Sr(r))return u;{const o=yl(u,r);return new La(null!=o?new Vi(o):u.writeTree_.subtree(r))}}function Qu(u){return u.writeTree_.isEmpty()}function lu(u,r){return Df(li(),u.writeTree_,r)}function Df(u,r,o){if(null!=r.value)return o.updateChild(u,r.value);{let c=null;return r.children.inorderTraversal((p,w)=>{".priority"===p?((0,U.hu)(null!==w.value,"Priority writes must always be leaf nodes"),c=w.value):o=Df(Zi(u,p),w,o)}),!o.getChild(u).isEmpty()&&null!==c&&(o=o.updateChild(Zi(u,".priority"),c)),o}}function Dd(u,r){return cu(r,u)}function ph(u,r){if(u.snap)return Wo(u.path,r);for(const o in u.children)if(u.children.hasOwnProperty(o)&&Wo(Zi(u.path,o),r))return!0;return!1}function _(u){return u.visible}function I(u,r,o){let c=La.empty();for(let p=0;p<u.length;++p){const w=u[p];if(r(w)){const A=w.path;let $;if(w.snap)Wo(o,A)?($=ao(o,A),c=au(c,$,w.snap)):Wo(A,o)&&($=ao(A,o),c=au(c,li(),w.snap.getChild($)));else{if(!w.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Wo(o,A))$=ao(o,A),c=bf(c,$,w.children);else if(Wo(A,o))if($=ao(A,o),Sr($))c=bf(c,li(),w.children);else{const X=(0,U.DV)(w.children,Ir($));if(X){const ue=X.getChild(Yi($));c=au(c,li(),ue)}}}}}return c}function P(u,r,o,c,p){if(c||p){const w=la(u.visibleWrites,r);return!p&&Qu(w)?o:p||null!=o||$l(w,li())?lu(I(u.allWrites,function(ue){return(ue.visible||p)&&(!c||!~c.indexOf(ue.writeId))&&(Wo(ue.path,r)||Wo(r,ue.path))},r),o||tr.EMPTY_NODE):null}{const w=yl(u.visibleWrites,r);if(null!=w)return w;{const A=la(u.visibleWrites,r);return Qu(A)?o:null!=o||$l(A,li())?lu(A,o||tr.EMPTY_NODE):null}}}function cr(u,r,o,c){return P(u.writeTree,u.treePath,r,o,c)}function si(u,r){return function le(u,r,o){let c=tr.EMPTY_NODE;const p=yl(u.visibleWrites,r);if(p)return p.isLeafNode()||p.forEachChild(Gi,(w,A)=>{c=c.updateImmediateChild(w,A)}),c;if(o){const w=la(u.visibleWrites,r);return o.forEachChild(Gi,(A,$)=>{const X=lu(la(w,new wi(A)),$);c=c.updateImmediateChild(A,X)}),vl(w).forEach(A=>{c=c.updateImmediateChild(A.name,A.node)}),c}return vl(la(u.visibleWrites,r)).forEach(A=>{c=c.updateImmediateChild(A.name,A.node)}),c}(u.writeTree,u.treePath,r)}function ua(u,r,o,c){return function Te(u,r,o,c,p){(0,U.hu)(c||p,"Either existingEventSnap or existingServerSnap must exist");const w=Zi(r,o);if($l(u.visibleWrites,w))return null;{const A=la(u.visibleWrites,w);return Qu(A)?p.getChild(o):lu(A,p.getChild(o))}}(u.writeTree,u.treePath,r,o,c)}function No(u,r){return function Gt(u,r){return yl(u.visibleWrites,r)}(u.writeTree,Zi(u.treePath,r))}function Io(u,r,o){return function Ct(u,r,o,c){const p=Zi(r,o),w=yl(u.visibleWrites,p);return null!=w?w:c.isCompleteForChild(o)?lu(la(u.visibleWrites,p),c.getNode().getImmediateChild(o)):null}(u.writeTree,u.treePath,r,o)}function Xu(u,r){return cu(Zi(u.treePath,r),u.writeTree)}function cu(u,r){return{treePath:u,writeTree:r}}class mh{constructor(){this.changeMap=new Map}trackChildChange(r){const o=r.type,c=r.childName;(0,U.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==c,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(c);if(p){const w=p.type;if("child_added"===o&&"child_removed"===w)this.changeMap.set(c,Ea(c,r.snapshotNode,p.snapshotNode));else if("child_removed"===o&&"child_added"===w)this.changeMap.delete(c);else if("child_removed"===o&&"child_changed"===w)this.changeMap.set(c,Oo(c,p.oldSnap));else if("child_changed"===o&&"child_added"===w)this.changeMap.set(c,$i(c,r.snapshotNode));else{if("child_changed"!==o||"child_changed"!==w)throw(0,U.g5)("Illegal combination of changes: "+r+" occurred after "+p);this.changeMap.set(c,Ea(c,r.snapshotNode,p.oldSnap))}}else this.changeMap.set(c,r)}getChanges(){return Array.from(this.changeMap.values())}}const Ia=new class wa{getCompleteChild(r){return null}getChildAfterChild(r,o,c){return null}};class du{constructor(r,o,c=null){this.writes_=r,this.viewCache_=o,this.optCompleteServerCache_=c}getCompleteChild(r){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(r))return o.getNode().getImmediateChild(r);{const c=null!=this.optCompleteServerCache_?new qr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Io(this.writes_,r,c)}}getChildAfterChild(r,o,c){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zu(this.viewCache_),w=function gh(u,r,o,c,p,w){return function Dn(u,r,o,c,p,w,A){let $;const X=la(u.visibleWrites,r),ue=yl(X,li());if(null!=ue)$=ue;else{if(null==o)return[];$=lu(X,o)}if($=$.withIndex(A),$.isEmpty()||$.isLeafNode())return[];{const Ye=[],at=A.getCompare(),Et=w?$.getReverseIteratorFrom(c,A):$.getIteratorFrom(c,A);let Ft=Et.getNext();for(;Ft&&Ye.length<p;)0!==at(Ft,c)&&Ye.push(Ft),Ft=Et.getNext();return Ye}}(u.writeTree,u.treePath,r,o,c,p,w)}(this.writes_,p,o,1,c,r);return 0===w.length?null:w[0]}}function yh(u,r,o,c,p,w){const A=r.eventCache;if(null!=No(c,o))return r;{let $,X;if(Sr(o))if((0,U.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const ue=Zu(r),at=si(c,ue instanceof tr?ue:tr.EMPTY_NODE);$=u.filter.updateFullNode(r.eventCache.getNode(),at,w)}else{const ue=cr(c,Zu(r));$=u.filter.updateFullNode(r.eventCache.getNode(),ue,w)}else{const ue=Ir(o);if(".priority"===ue){(0,U.hu)(1===Ra(o),"Can't have a priority with additional path components");const Ye=A.getNode();X=r.serverCache.getNode();const at=ua(c,o,Ye,X);$=null!=at?u.filter.updatePriority(Ye,at):A.getNode()}else{const Ye=Yi(o);let at;if(A.isCompleteForChild(ue)){X=r.serverCache.getNode();const Et=ua(c,o,A.getNode(),X);at=null!=Et?A.getNode().getImmediateChild(ue).updateChild(Ye,Et):A.getNode().getImmediateChild(ue)}else at=Io(c,ue,r.serverCache);$=null!=at?u.filter.updateChild(A.getNode(),ue,at,Ye,p,w):A.getNode()}}return Bl(r,$,A.isFullyInitialized()||Sr(o),u.filter.filtersNodes())}}function Tf(u,r,o,c,p,w,A,$){const X=r.serverCache;let ue;const Ye=A?u.filter:u.filter.getIndexedFilter();if(Sr(o))ue=Ye.updateFullNode(X.getNode(),c,null);else if(Ye.filtersNodes()&&!X.isFiltered()){const Ft=X.getNode().updateChild(o,c);ue=Ye.updateFullNode(X.getNode(),Ft,null)}else{const Ft=Ir(o);if(!X.isCompleteForPath(o)&&Ra(o)>1)return r;const Kt=Yi(o),xn=X.getNode().getImmediateChild(Ft).updateChild(Kt,c);ue=".priority"===Ft?Ye.updatePriority(X.getNode(),xn):Ye.updateChild(X.getNode(),Ft,xn,Kt,Ia,null)}const at=bd(r,ue,X.isFullyInitialized()||Sr(o),Ye.filtersNodes());return yh(u,at,o,p,new du(p,at,w),$)}function Lp(u,r,o,c,p,w,A){const $=r.eventCache;let X,ue;const Ye=new du(p,r,w);if(Sr(o))ue=u.filter.updateFullNode(r.eventCache.getNode(),c,A),X=Bl(r,ue,!0,u.filter.filtersNodes());else{const at=Ir(o);if(".priority"===at)ue=u.filter.updatePriority(r.eventCache.getNode(),c),X=Bl(r,ue,$.isFullyInitialized(),$.isFiltered());else{const Et=Yi(o),Ft=$.getNode().getImmediateChild(at);let Kt;if(Sr(Et))Kt=c;else{const cn=Ye.getCompleteChild(at);Kt=null!=cn?".priority"===to(Et)&&cn.getChild(Lt(Et)).isEmpty()?cn:cn.updateChild(Et,c):tr.EMPTY_NODE}X=Ft.equals(Kt)?r:Bl(r,u.filter.updateChild($.getNode(),at,Kt,Et,Ye,A),$.isFullyInitialized(),u.filter.filtersNodes())}}return X}function Bp(u,r){return u.eventCache.isCompleteForChild(r)}function Jy(u,r,o){return o.foreach((c,p)=>{r=r.updateChild(c,p)}),r}function ca(u,r,o,c,p,w,A,$){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let ue,X=r;ue=Sr(o)?c:new Vi(null).setTree(o,c);const Ye=r.serverCache.getNode();return ue.children.inorderTraversal((at,Et)=>{if(Ye.hasChild(at)){const Kt=Jy(0,r.serverCache.getNode().getImmediateChild(at),Et);X=Tf(u,X,new wi(at),Kt,p,w,A,$)}}),ue.children.inorderTraversal((at,Et)=>{const Ft=!r.serverCache.isCompleteForChild(at)&&null===Et.value;if(!Ye.hasChild(at)&&!Ft){const cn=Jy(0,r.serverCache.getNode().getImmediateChild(at),Et);X=Tf(u,X,new wi(at),cn,p,w,A,$)}}),X}class ta{constructor(r,o){this.query_=r,this.eventRegistrations_=[];const c=this.query_._queryParams,p=new su(c.getIndex()),w=function _d(u){return u.loadsAllData()?new su(u.getIndex()):u.hasLimit()?new ea(u):new Nl(u)}(c);this.processor_=function Sf(u){return{filter:u}}(w);const A=o.serverCache,$=o.eventCache,X=p.updateFullNode(tr.EMPTY_NODE,A.getNode(),null),ue=w.updateFullNode(tr.EMPTY_NODE,$.getNode(),null),Ye=new qr(X,A.isFullyInitialized(),p.filtersNodes()),at=new qr(ue,$.isFullyInitialized(),w.filtersNodes());this.viewCache_=Lc(at,Ye),this.eventGenerator_=new Xi(this.query_)}get query(){return this.query_}}function Md(u,r){const o=Zu(u.viewCache_);return o&&(u.query._queryParams.loadsAllData()||!Sr(r)&&!o.getImmediateChild(Ir(r)).isEmpty())?o.getChild(r):null}function fm(u){return 0===u.eventRegistrations_.length}function vh(u,r,o){const c=[];if(o){(0,U.hu)(null==r,"A cancel should cancel all event registrations.");const p=u.query._path;u.eventRegistrations_.forEach(w=>{const A=w.createCancelEvent(o,p);A&&c.push(A)})}if(r){let p=[];for(let w=0;w<u.eventRegistrations_.length;++w){const A=u.eventRegistrations_[w];if(A.matches(r)){if(r.hasAnyCallback()){p=p.concat(u.eventRegistrations_.slice(w+1));break}}else p.push(A)}u.eventRegistrations_=p}else u.eventRegistrations_=[];return c}function gm(u,r,o,c){r.type===ho.MERGE&&null!==r.source.queryId&&((0,U.hu)(Zu(u.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(ml(u.viewCache_),"Missing event cache, even though we have a server cache"));const p=u.viewCache_,w=function Yr(u,r,o,c,p){const w=new mh;let A,$;if(o.type===ho.OVERWRITE){const ue=o;ue.source.fromUser?A=Lp(u,r,ue.path,ue.snap,c,p,w):((0,U.hu)(ue.source.fromServer,"Unknown source."),$=ue.source.tagged||r.serverCache.isFiltered()&&!Sr(ue.path),A=Tf(u,r,ue.path,ue.snap,c,p,$,w))}else if(o.type===ho.MERGE){const ue=o;ue.source.fromUser?A=function $p(u,r,o,c,p,w,A){let $=r;return c.foreach((X,ue)=>{const Ye=Zi(o,X);Bp(r,Ir(Ye))&&($=Lp(u,$,Ye,ue,p,w,A))}),c.foreach((X,ue)=>{const Ye=Zi(o,X);Bp(r,Ir(Ye))||($=Lp(u,$,Ye,ue,p,w,A))}),$}(u,r,ue.path,ue.children,c,p,w):((0,U.hu)(ue.source.fromServer,"Unknown source."),$=ue.source.tagged||r.serverCache.isFiltered(),A=ca(u,r,ue.path,ue.children,c,p,$,w))}else if(o.type===ho.ACK_USER_WRITE){const ue=o;A=ue.revert?function Ju(u,r,o,c,p,w){let A;if(null!=No(c,o))return r;{const $=new du(c,r,p),X=r.eventCache.getNode();let ue;if(Sr(o)||".priority"===Ir(o)){let Ye;if(r.serverCache.isFullyInitialized())Ye=cr(c,Zu(r));else{const at=r.serverCache.getNode();(0,U.hu)(at instanceof tr,"serverChildren would be complete if leaf node"),Ye=si(c,at)}ue=u.filter.updateFullNode(X,Ye,w)}else{const Ye=Ir(o);let at=Io(c,Ye,r.serverCache);null==at&&r.serverCache.isCompleteForChild(Ye)&&(at=X.getImmediateChild(Ye)),ue=null!=at?u.filter.updateChild(X,Ye,at,Yi(o),$,w):r.eventCache.getNode().hasChild(Ye)?u.filter.updateChild(X,Ye,tr.EMPTY_NODE,Yi(o),$,w):X,ue.isEmpty()&&r.serverCache.isFullyInitialized()&&(A=cr(c,Zu(r)),A.isLeafNode()&&(ue=u.filter.updateFullNode(ue,A,w)))}return A=r.serverCache.isFullyInitialized()||null!=No(c,li()),Bl(r,ue,A,u.filter.filtersNodes())}}(u,r,ue.path,c,p,w):function Vp(u,r,o,c,p,w,A){if(null!=No(p,o))return r;const $=r.serverCache.isFiltered(),X=r.serverCache;if(null!=c.value){if(Sr(o)&&X.isFullyInitialized()||X.isCompleteForPath(o))return Tf(u,r,o,X.getNode().getChild(o),p,w,$,A);if(Sr(o)){let ue=new Vi(null);return X.getNode().forEachChild(no,(Ye,at)=>{ue=ue.set(new wi(Ye),at)}),ca(u,r,o,ue,p,w,$,A)}return r}{let ue=new Vi(null);return c.foreach((Ye,at)=>{const Et=Zi(o,Ye);X.isCompleteForPath(Et)&&(ue=ue.set(Ye,X.getNode().getChild(Et)))}),ca(u,r,o,ue,p,w,$,A)}}(u,r,ue.path,ue.affectedTree,c,p,w)}else{if(o.type!==ho.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+o.type);A=function Ad(u,r,o,c,p){const w=r.serverCache;return yh(u,bd(r,w.getNode(),w.isFullyInitialized()||Sr(o),w.isFiltered()),o,c,Ia,p)}(u,r,o.path,c,w)}const X=w.getChanges();return function Td(u,r,o){const c=r.eventCache;if(c.isFullyInitialized()){const p=c.getNode().isLeafNode()||c.getNode().isEmpty(),w=ml(u);(o.length>0||!u.eventCache.isFullyInitialized()||p&&!c.getNode().equals(w)||!c.getNode().getPriority().equals(w.getPriority()))&&o.push(gl(ml(r)))}}(r,A,X),{viewCache:A,changes:X}}(u.processor_,p,r,o,c);return function Fp(u,r){(0,U.hu)(r.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(r.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,w.viewCache),(0,U.hu)(w.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=w.viewCache,xs(u,w.changes,w.viewCache.eventCache.getNode(),null)}function xs(u,r,o,c){return function qu(u,r,o,c){const p=[],w=[];return r.forEach(A=>{"child_changed"===A.type&&u.index_.indexedValueChanged(A.oldSnap,A.snapshotNode)&&w.push(function Xa(u,r){return{type:"child_moved",snapshotNode:r,childName:u}}(A.childName,A.snapshotNode))}),Yu(u,p,"child_removed",r,c,o),Yu(u,p,"child_added",r,c,o),Yu(u,p,"child_moved",w,c,o),Yu(u,p,"child_changed",r,c,o),Yu(u,p,"value",r,c,o),p}(u.eventGenerator_,r,o,c?[c]:u.eventRegistrations_)}let Rd,ec;class Af{constructor(){this.views=new Map}}function xd(u,r,o,c){const p=r.source.queryId;if(null!==p){const w=u.views.get(p);return(0,U.hu)(null!=w,"SyncTree gave us an op for an invalid query."),gm(w,r,o,c)}{let w=[];for(const A of u.views.values())w=w.concat(gm(A,r,o,c));return w}}function ym(u,r,o,c,p){const A=u.views.get(r._queryIdentifier);if(!A){let $=cr(o,p?c:null),X=!1;$?X=!0:c instanceof tr?($=si(o,c),X=!1):($=tr.EMPTY_NODE,X=!1);const ue=Lc(new qr($,X,!1),new qr(c,p,!1));return new ta(r,ue)}return A}function Rf(u){const r=[];for(const o of u.views.values())o.query._queryParams.loadsAllData()||r.push(o);return r}function hu(u,r){let o=null;for(const c of u.views.values())o=o||Md(c,r);return o}function Vc(u,r){return r._queryParams.loadsAllData()?Uc(u):u.views.get(r._queryIdentifier)}function fu(u,r){return null!=Vc(u,r)}function Hl(u){return null!=Uc(u)}function Uc(u){for(const r of u.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let O_=1;class Co{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Vi(null),this.pendingWriteTree_=function $n(){return{visibleWrites:La.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bi(u,r,o,c,p){return function Vl(u,r,o,c,p){(0,U.hu)(c>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),u.allWrites.push({path:r,snap:o,writeId:c,visible:p}),p&&(u.visibleWrites=au(u.visibleWrites,r,o)),u.lastWriteId=c}(u.pendingWriteTree_,r,o,c,p),p?rc(u,new Wu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,o)):[]}function pu(u,r,o=!1){const c=function uu(u,r){for(let o=0;o<u.allWrites.length;o++){const c=u.allWrites[o];if(c.writeId===r)return c}return null}(u.pendingWriteTree_,r);if(function kp(u,r){const o=u.allWrites.findIndex($=>$.writeId===r);(0,U.hu)(o>=0,"removeWrite called with nonexistent writeId.");const c=u.allWrites[o];u.allWrites.splice(o,1);let p=c.visible,w=!1,A=u.allWrites.length-1;for(;p&&A>=0;){const $=u.allWrites[A];$.visible&&(A>=o&&ph($,c.path)?p=!1:Wo(c.path,$.path)&&(w=!0)),A--}return!!p&&(w?(function R(u){u.visibleWrites=I(u.allWrites,_,li()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(c.snap?u.visibleWrites=$c(u.visibleWrites,c.path):eo(c.children,X=>{u.visibleWrites=$c(u.visibleWrites,Zi(c.path,X))}),!0))}(u.pendingWriteTree_,r)){let w=new Vi(null);return null!=c.snap?w=w.set(li(),!0):eo(c.children,A=>{w=w.set(new wi(A),!0)}),rc(u,new Fc(c.path,w,o))}return[]}function tc(u,r,o){return rc(u,new Wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}function Pf(u,r,o,c,p=!1){const w=r._path,A=u.syncPointTree_.get(w);let $=[];if(A&&("default"===r._queryIdentifier||fu(A,r))){const X=function jl(u,r,o,c){const p=r._queryIdentifier,w=[];let A=[];const $=Hl(u);if("default"===p)for(const[X,ue]of u.views.entries())A=A.concat(vh(ue,o,c)),fm(ue)&&(u.views.delete(X),ue.query._queryParams.loadsAllData()||w.push(ue.query));else{const X=u.views.get(p);X&&(A=A.concat(vh(X,o,c)),fm(X)&&(u.views.delete(p),X.query._queryParams.loadsAllData()||w.push(X.query)))}return $&&!Hl(u)&&w.push(new(function mm(){return(0,U.hu)(Rd,"Reference.ts has not been loaded"),Rd}())(r._repo,r._path)),{removed:w,events:A}}(A,r,o,c);(function Mf(u){return 0===u.views.size})(A)&&(u.syncPointTree_=u.syncPointTree_.remove(w));const ue=X.removed;if($=X.events,!p){const Ye=-1!==ue.findIndex(Et=>Et._queryParams.loadsAllData()),at=u.syncPointTree_.findOnPath(w,(Et,Ft)=>Hl(Ft));if(Ye&&!at){const Et=u.syncPointTree_.subtree(w);if(!Et.isEmpty()){const Ft=function Gp(u){return u.fold((r,o,c)=>{if(o&&Hl(o))return[Uc(o)];{let p=[];return o&&(p=Rf(o)),eo(c,(w,A)=>{p=p.concat(A)}),p}})}(Et);for(let Kt=0;Kt<Ft.length;++Kt){const cn=Ft[Kt],xn=cn.query,Fr=_m(u,cn);u.listenProvider_.startListening(ic(xn),Ih(u,xn),Fr.hashFn,Fr.onComplete)}}}!at&&ue.length>0&&!c&&(Ye?u.listenProvider_.stopListening(ic(r),null):ue.forEach(Et=>{const Ft=u.queryToTagMap.get(Ch(Et));u.listenProvider_.stopListening(ic(Et),Ft)}))}!function Wp(u,r){for(let o=0;o<r.length;++o){const c=r[o];if(!c._queryParams.loadsAllData()){const p=Ch(c),w=u.queryToTagMap.get(p);u.queryToTagMap.delete(p),u.tagToQueryMap.delete(w)}}}(u,ue)}return $}function Of(u,r,o,c){const p=Nf(u,c);if(null!=p){const w=kf(p),A=w.path,$=w.queryId,X=ao(A,r);return zp(u,A,new Wu(Ll($),X,o))}return[]}function nl(u,r,o,c=!1){const p=r._path;let w=null,A=!1;u.syncPointTree_.foreachOnPath(p,(Et,Ft)=>{const Kt=ao(Et,p);w=w||hu(Ft,Kt),A=A||Hl(Ft)});let X,$=u.syncPointTree_.get(p);$?(A=A||Hl($),w=w||hu($,li())):($=new Af,u.syncPointTree_=u.syncPointTree_.set(p,$)),null!=w?X=!0:(X=!1,w=tr.EMPTY_NODE,u.syncPointTree_.subtree(p).foreachChild((Ft,Kt)=>{const cn=hu(Kt,li());cn&&(w=w.updateImmediateChild(Ft,cn))}));const ue=fu($,r);if(!ue&&!r._queryParams.loadsAllData()){const Et=Ch(r);(0,U.hu)(!u.queryToTagMap.has(Et),"View does not exist, but we have a tag");const Ft=function jc(){return O_++}();u.queryToTagMap.set(Et,Ft),u.tagToQueryMap.set(Ft,Et)}let at=function _h(u,r,o,c,p,w){const A=ym(u,r,c,p,w);return u.views.has(r._queryIdentifier)||u.views.set(r._queryIdentifier,A),function pm(u,r){u.eventRegistrations_.push(r)}(A,o),function x_(u,r){const o=u.viewCache_.eventCache,c=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(Gi,(w,A)=>{c.push($i(w,A))}),o.isFullyInitialized()&&c.push(gl(o.getNode())),xs(u,c,o.getNode(),r)}(A,o)}($,r,o,Dd(u.pendingWriteTree_,p),w,X);if(!ue&&!A&&!c){const Et=Vc($,r);at=at.concat(function Ff(u,r,o){const c=r._path,p=Ih(u,r),w=_m(u,o),A=u.listenProvider_.startListening(ic(r),p,w.hashFn,w.onComplete),$=u.syncPointTree_.subtree(c);if(p)(0,U.hu)(!Hl($.value),"If we're adding a query, it shouldn't be shadowed");else{const X=$.fold((ue,Ye,at)=>{if(!Sr(ue)&&Ye&&Hl(Ye))return[Uc(Ye).query];{let Et=[];return Ye&&(Et=Et.concat(Rf(Ye).map(Ft=>Ft.query))),eo(at,(Ft,Kt)=>{Et=Et.concat(Kt)}),Et}});for(let ue=0;ue<X.length;++ue){const Ye=X[ue];u.listenProvider_.stopListening(ic(Ye),Ih(u,Ye))}}return A}(u,r,Et))}return at}function nc(u,r,o){const p=u.pendingWriteTree_,w=u.syncPointTree_.findOnPath(r,(A,$)=>{const ue=hu($,ao(A,r));if(ue)return ue});return P(p,r,w,o,!0)}function rc(u,r){return tv(r,u.syncPointTree_,null,Dd(u.pendingWriteTree_,li()))}function tv(u,r,o,c){if(Sr(u.path))return wh(u,r,o,c);{const p=r.get(li());null==o&&null!=p&&(o=hu(p,li()));let w=[];const A=Ir(u.path),$=u.operationForChild(A),X=r.children.get(A);if(X&&$){const ue=o?o.getImmediateChild(A):null,Ye=Xu(c,A);w=w.concat(tv($,X,ue,Ye))}return p&&(w=w.concat(xd(p,u,c,o))),w}}function wh(u,r,o,c){const p=r.get(li());null==o&&null!=p&&(o=hu(p,li()));let w=[];return r.children.inorderTraversal((A,$)=>{const X=o?o.getImmediateChild(A):null,ue=Xu(c,A),Ye=u.operationForChild(A);Ye&&(w=w.concat(wh(Ye,$,X,ue)))}),p&&(w=w.concat(xd(p,u,c,o))),w}function _m(u,r){const o=r.query,c=Ih(u,o);return{hashFn:()=>(function Ul(u){return u.viewCache_.serverCache.getNode()}(r)||tr.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return c?function N_(u,r,o){const c=Nf(u,o);if(c){const p=kf(c),w=p.path,A=p.queryId,$=ao(w,r);return zp(u,w,new tl(Ll(A),$))}return[]}(u,o._path,c):function jp(u,r){return rc(u,new tl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(u,o._path);{const w=function cl(u,r){let o="Unknown Error";"too_big"===u?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?o="Client doesn't have permission to access the desired data.":"unavailable"===u&&(o="The service is unavailable");const c=new Error(u+" at "+r._path.toString()+": "+o);return c.code=u.toUpperCase(),c}(p,o);return Pf(u,o,null,w)}}}}function Ih(u,r){const o=Ch(r);return u.queryToTagMap.get(o)}function Ch(u){return u._path.toString()+"$"+u._queryIdentifier}function Nf(u,r){return u.tagToQueryMap.get(r)}function kf(u){const r=u.indexOf("$");return(0,U.hu)(-1!==r&&r<u.length-1,"Bad queryKey."),{queryId:u.substr(r+1),path:new wi(u.substr(0,r))}}function zp(u,r,o){const c=u.syncPointTree_.get(r);return(0,U.hu)(c,"Missing sync point for query tag that we're tracking"),xd(c,o,Dd(u.pendingWriteTree_,r),null)}function ic(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function P_(){return(0,U.hu)(ec,"Reference.ts has not been loaded"),ec}())(u._repo,u._path):u}class Kp{constructor(r){this.node_=r}getImmediateChild(r){const o=this.node_.getImmediateChild(r);return new Kp(o)}node(){return this.node_}}class Us{constructor(r,o){this.syncTree_=r,this.path_=o}getImmediateChild(r){const o=Zi(this.path_,r);return new Us(this.syncTree_,o)}node(){return nc(this.syncTree_,this.path_)}}const Pd=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},Em=function(u,r,o){return u&&"object"==typeof u?((0,U.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?bh(u[".sv"],r,o):"object"==typeof u[".sv"]?gu(u[".sv"],r):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},bh=function(u,r,o){if("timestamp"===u)return o.timestamp;(0,U.hu)(!1,"Unexpected server value: "+u)},gu=function(u,r,o){u.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const c=u.increment;"number"!=typeof c&&(0,U.hu)(!1,"Unexpected increment value: "+c);const p=r.node();if((0,U.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return c;const A=p.getValue();return"number"!=typeof A?c:A+c},qp=function(u,r,o,c){return Hc(r,new Us(o,u),c)},Yp=function(u,r,o){return Hc(u,new Kp(r),o)};function Hc(u,r,o){const c=u.getPriority().val(),p=Em(c,r.getImmediateChild(".priority"),o);let w;if(u.isLeafNode()){const A=u,$=Em(A.getValue(),r,o);return $!==A.getValue()||p!==A.getPriority().val()?new Oc($,Ms(p)):u}{const A=u;return w=A,p!==A.getPriority().val()&&(w=w.updatePriority(new Oc(p))),A.forEachChild(Gi,($,X)=>{const ue=Hc(X,r.getImmediateChild($),o);ue!==X&&(w=w.updateImmediateChild($,ue))}),w}}class Lf{constructor(r="",o=null,c={children:{},childCount:0}){this.name=r,this.parent=o,this.node=c}}function zc(u,r){let o=r instanceof wi?r:new wi(r),c=u,p=Ir(o);for(;null!==p;){const w=(0,U.DV)(c.node.children,p)||{children:{},childCount:0};c=new Lf(p,c,w),o=Yi(o),p=Ir(o)}return c}function mu(u){return u.node.value}function Gc(u,r){u.node.value=r,Wc(u)}function nv(u){return u.node.childCount>0}function $f(u,r){eo(u.node.children,(o,c)=>{r(new Lf(o,u,c))})}function rv(u,r,o,c){o&&!c&&r(u),$f(u,p=>{rv(p,r,!0,c)}),o&&c&&r(u)}function Od(u){return new wi(null===u.parent?u.name:Od(u.parent)+"/"+u.name)}function Wc(u){null!==u.parent&&function Qp(u,r,o){const c=function Bf(u){return void 0===mu(u)&&!nv(u)}(o),p=(0,U.r3)(u.node.children,r);c&&p?(delete u.node.children[r],u.node.childCount--,Wc(u)):!c&&!p&&(u.node.children[r]=o.node,u.node.childCount++,Wc(u))}(u.parent,u.name,u)}const Xp=/[\[\].#$\/\u0000-\u001F\u007F]/,iv=/[\[\].#$\u0000-\u001F\u007F]/,Jp=10485760,Vf=function(u){return"string"==typeof u&&0!==u.length&&!Xp.test(u)},yu=function(u){return"string"==typeof u&&0!==u.length&&!iv.test(u)},Sh=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!Rr(u)||u&&"object"==typeof u&&(0,U.r3)(u,".sv")},vu=function(u,r,o,c){c&&void 0===r||Th((0,U.gK)(u,"value"),r,o)},Th=function(u,r,o){const c=o instanceof wi?new Fo(o,u):o;if(void 0===r)throw new Error(u+"contains undefined "+O(c));if("function"==typeof r)throw new Error(u+"contains a function "+O(c)+" with contents = "+r.toString());if(Rr(r))throw new Error(u+"contains "+r.toString()+" "+O(c));if("string"==typeof r&&r.length>Jp/3&&(0,U.ug)(r)>Jp)throw new Error(u+"contains a string greater than "+Jp+" utf8 bytes "+O(c)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let p=!1,w=!1;if(eo(r,(A,$)=>{if(".value"===A)p=!0;else if(".priority"!==A&&".sv"!==A&&(w=!0,!Vf(A)))throw new Error(u+" contains an invalid key ("+A+") "+O(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function _f(u,r){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(r),u.byteLength_+=(0,U.ug)(r),M(u)})(c,A),Th(u,$,c),function $u(u){const r=u.parts_.pop();u.byteLength_-=(0,U.ug)(r),u.parts_.length>0&&(u.byteLength_-=1)}(c)}),p&&w)throw new Error(u+' contains ".value" child '+O(c)+" in addition to actual children.")}},_u=function(u,r,o,c){if(c&&void 0===r)return;const p=(0,U.gK)(u,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(p+" must be an object containing the children to replace.");const w=[];eo(r,(A,$)=>{const X=new wi(A);if(Th(p,$,Zi(o,X)),".priority"===to(X)&&!Sh($))throw new Error(p+"contains an invalid value for '"+X.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(X)}),function(u,r){let o,c;for(o=0;o<r.length;o++){c=r[o];const w=Li(c);for(let A=0;A<w.length;A++)if((".priority"!==w[A]||A!==w.length-1)&&!Vf(w[A]))throw new Error(u+"contains an invalid key ("+w[A]+") in path "+c.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Bu);let p=null;for(o=0;o<r.length;o++){if(c=r[o],null!==p&&Wo(p,c))throw new Error(u+"contains a path "+p.toString()+" that is ancestor of another path "+c.toString());p=c}}(p,w)},Nd=function(u,r,o){if(!o||void 0!==r){if(Rr(r))throw new Error((0,U.gK)(u,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sh(r))throw new Error((0,U.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ah=function(u,r,o,c){if(!(c&&void 0===o||Vf(o)))throw new Error((0,U.gK)(u,r)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kd=function(u,r,o,c){if(!(c&&void 0===o||yu(o)))throw new Error((0,U.gK)(u,r)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mh=function(u,r,o,c){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),kd(u,r,o,c)},na=function(u,r){if(".info"===Ir(r))throw new Error(u+" failed = Can't modify data under /.info/")},Fd=function(u,r){const o=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Vf(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==o.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),yu(u)}(o))throw new Error((0,U.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eg{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rh(u,r){let o=null;for(let c=0;c<r.length;c++){const p=r[c],w=p.getPath();null!==o&&!xa(w,o.path)&&(u.eventLists_.push(o),o=null),null===o&&(o={events:[],path:w}),o.events.push(p)}o&&u.eventLists_.push(o)}function tg(u,r,o){Rh(u,o),wm(u,c=>xa(c,r))}function Ca(u,r,o){Rh(u,o),wm(u,c=>Wo(c,r)||Wo(r,c))}function wm(u,r){u.recursionDepth_++;let o=!0;for(let c=0;c<u.eventLists_.length;c++){const p=u.eventLists_[c];p&&(r(p.path)?(sv(u.eventLists_[c]),u.eventLists_[c]=null):o=!1)}o&&(u.eventLists_=[]),u.recursionDepth_--}function sv(u){for(let r=0;r<u.events.length;r++){const o=u.events[r];if(null!==o){u.events[r]=null;const c=o.getEventRunner();pe&&Zt("event: "+o.toString()),za(c)}}}const ng="repo_interrupt",Eu=25;class xh{constructor(r,o,c,p){this.repoInfo_=r,this.forceRestClient_=o,this.authTokenProvider_=c,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=el(),this.transactionQueueTree_=new Lf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ld(u){const o=u.infoData_.getNode(new wi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function _l(u){return Pd({timestamp:Ld(u)})}function k_(u,r,o,c,p){u.dataUpdateCount++;const w=new wi(r);o=u.interceptServerDataCallback_?u.interceptServerDataCallback_(r,o):o;let A=[];if(p)if(c){const X=(0,U.UI)(o,ue=>Ms(ue));A=function Hp(u,r,o,c){const p=Nf(u,c);if(p){const w=kf(p),A=w.path,$=w.queryId,X=ao(A,r),ue=Vi.fromObject(o);return zp(u,A,new Ku(Ll($),X,ue))}return[]}(u.serverSyncTree_,w,X,p)}else{const X=Ms(o);A=Of(u.serverSyncTree_,w,X,p)}else if(c){const X=(0,U.UI)(o,ue=>Ms(ue));A=function xf(u,r,o){const c=Vi.fromObject(o);return rc(u,new Ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,c))}(u.serverSyncTree_,w,X)}else{const X=Ms(o);A=tc(u.serverSyncTree_,w,X)}let $=w;A.length>0&&($=Bd(u,w)),Ca(u.eventQueue_,$,A)}function ov(u,r){jf(u,"connected",r),!1===r&&function av(u){Ps(u,"onDisconnectEvents");const r=_l(u),o=el();ka(u.onDisconnect_,li(),(p,w)=>{const A=qp(p,w,u.serverSyncTree_,r);zu(o,p,A)});let c=[];ka(o,li(),(p,w)=>{c=c.concat(tc(u.serverSyncTree_,p,w));const A=fo(u,p);Bd(u,A)}),u.onDisconnect_=el(),Ca(u.eventQueue_,li(),c)}(u)}function jf(u,r,o){const c=new wi("/.info/"+r),p=Ms(o);u.infoData_.updateSnapshot(c,p);const w=tc(u.infoSyncTree_,c,p);Ca(u.eventQueue_,c,w)}function Ph(u){return u.nextWriteId_++}function Kc(u,r,o,c,p){Ps(u,"set",{path:r.toString(),value:o,priority:c});const w=_l(u),A=Ms(o,c),$=nc(u.serverSyncTree_,r),X=Yp(A,$,w),ue=Ph(u),Ye=bi(u.serverSyncTree_,r,X,ue,!0);Rh(u.eventQueue_,Ye),u.server_.put(r.toString(),A.val(!0),(Et,Ft)=>{const Kt="ok"===Et;Kt||wr("set at "+r+" failed: "+Et);const cn=pu(u.serverSyncTree_,ue,!Kt);Ca(u.eventQueue_,r,cn),zl(0,p,Et,Ft)});const at=fo(u,r);Bd(u,at),Ca(u.eventQueue_,at,[])}function F_(u,r,o){u.server_.onDisconnectCancel(r.toString(),(c,p)=>{"ok"===c&&Bo(u.onDisconnect_,r),zl(0,o,c,p)})}function Im(u,r,o,c){const p=Ms(o);u.server_.onDisconnectPut(r.toString(),p.val(!0),(w,A)=>{"ok"===w&&zu(u.onDisconnect_,r,p),zl(0,c,w,A)})}function sg(u,r,o){let c;c=".info"===Ir(r._path)?Pf(u.infoSyncTree_,r,o):Pf(u.serverSyncTree_,r,o),tg(u.eventQueue_,r._path,c)}function Nh(u){u.persistentConnection_&&u.persistentConnection_.interrupt(ng)}function Ps(u,...r){let o="";u.persistentConnection_&&(o=u.persistentConnection_.id+":"),Zt(o,...r)}function zl(u,r,o,c){r&&za(()=>{if("ok"===o)r(null);else{const p=(o||"error").toUpperCase();let w=p;c&&(w+=": "+c);const A=new Error(w);A.code=p,r(A)}})}function kh(u,r,o){return nc(u.serverSyncTree_,r,o)||tr.EMPTY_NODE}function qc(u,r=u.transactionQueueTree_){if(r||og(u,r),mu(r)){const o=$d(u,r);(0,U.hu)(o.length>0,"Sending zero length transaction queue"),o.every(p=>0===p.status)&&function $_(u,r,o){const c=o.map(ue=>ue.currentWriteId),p=kh(u,r,c);let w=p;const A=p.hash();for(let ue=0;ue<o.length;ue++){const Ye=o[ue];(0,U.hu)(0===Ye.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ye.status=1,Ye.retryCount++;const at=ao(r,Ye.path);w=w.updateChild(at,Ye.currentOutputSnapshotRaw)}const $=w.val(!0),X=r;u.server_.put(X.toString(),$,ue=>{Ps(u,"transaction put response",{path:X.toString(),status:ue});let Ye=[];if("ok"===ue){const at=[];for(let Et=0;Et<o.length;Et++)o[Et].status=2,Ye=Ye.concat(pu(u.serverSyncTree_,o[Et].currentWriteId)),o[Et].onComplete&&at.push(()=>o[Et].onComplete(null,!0,o[Et].currentOutputSnapshotResolved)),o[Et].unwatcher();og(u,zc(u.transactionQueueTree_,r)),qc(u,u.transactionQueueTree_),Ca(u.eventQueue_,r,Ye);for(let Et=0;Et<at.length;Et++)za(at[Et])}else{if("datastale"===ue)for(let at=0;at<o.length;at++)o[at].status=3===o[at].status?4:0;else{wr("transaction at "+X.toString()+" failed: "+ue);for(let at=0;at<o.length;at++)o[at].status=4,o[at].abortReason=ue}Bd(u,r)}},A)}(u,Od(r),o)}else nv(r)&&$f(r,o=>{qc(u,o)})}function Bd(u,r){const o=zf(u,r),c=Od(o);return function Hf(u,r,o){if(0===r.length)return;const c=[];let p=[];const A=r.filter($=>0===$.status).map($=>$.currentWriteId);for(let $=0;$<r.length;$++){const X=r[$],ue=ao(o,X.path);let at,Ye=!1;if((0,U.hu)(null!==ue,"rerunTransactionsUnderNode_: relativePath should not be null."),4===X.status)Ye=!0,at=X.abortReason,p=p.concat(pu(u.serverSyncTree_,X.currentWriteId,!0));else if(0===X.status)if(X.retryCount>=Eu)Ye=!0,at="maxretry",p=p.concat(pu(u.serverSyncTree_,X.currentWriteId,!0));else{const Et=kh(u,X.path,A);X.currentInputSnapshot=Et;const Ft=r[$].update(Et.val());if(void 0!==Ft){Th("transaction failed: Data returned ",Ft,X.path);let Kt=Ms(Ft);"object"==typeof Ft&&null!=Ft&&(0,U.r3)(Ft,".priority")||(Kt=Kt.updatePriority(Et.getPriority()));const xn=X.currentWriteId,Fr=_l(u),ni=Yp(Kt,Et,Fr);X.currentOutputSnapshotRaw=Kt,X.currentOutputSnapshotResolved=ni,X.currentWriteId=Ph(u),A.splice(A.indexOf(xn),1),p=p.concat(bi(u.serverSyncTree_,X.path,ni,X.currentWriteId,X.applyLocally)),p=p.concat(pu(u.serverSyncTree_,xn,!0))}else Ye=!0,at="nodata",p=p.concat(pu(u.serverSyncTree_,X.currentWriteId,!0))}Ca(u.eventQueue_,o,p),p=[],Ye&&(r[$].status=2,setTimeout(r[$].unwatcher,Math.floor(0)),r[$].onComplete&&c.push("nodata"===at?()=>r[$].onComplete(null,!1,r[$].currentInputSnapshot):()=>r[$].onComplete(new Error(at),!1,null)))}og(u,u.transactionQueueTree_);for(let $=0;$<c.length;$++)za(c[$]);qc(u,u.transactionQueueTree_)}(u,$d(u,o),c),c}function zf(u,r){let o,c=u.transactionQueueTree_;for(o=Ir(r);null!==o&&void 0===mu(c);)c=zc(c,o),o=Ir(r=Yi(r));return c}function $d(u,r){const o=[];return lv(u,r,o),o.sort((c,p)=>c.order-p.order),o}function lv(u,r,o){const c=mu(r);if(c)for(let p=0;p<c.length;p++)o.push(c[p]);$f(r,p=>{lv(u,p,o)})}function og(u,r){const o=mu(r);if(o){let c=0;for(let p=0;p<o.length;p++)2!==o[p].status&&(o[c]=o[p],c++);o.length=c,Gc(r,o.length>0?o:void 0)}$f(r,c=>{og(u,c)})}function fo(u,r){const o=Od(zf(u,r)),c=zc(u.transactionQueueTree_,r);return function Zp(u,r,o){let c=o?u:u.parent;for(;null!==c;){if(r(c))return!0;c=c.parent}}(c,p=>{ki(u,p)}),ki(u,c),rv(c,p=>{ki(u,p)}),o}function ki(u,r){const o=mu(r);if(o){const c=[];let p=[],w=-1;for(let A=0;A<o.length;A++)3===o[A].status||(1===o[A].status?((0,U.hu)(w===A-1,"All SENT items should be at beginning of queue."),w=A,o[A].status=3,o[A].abortReason="set"):((0,U.hu)(0===o[A].status,"Unexpected transaction status in abort"),o[A].unwatcher(),p=p.concat(pu(u.serverSyncTree_,o[A].currentWriteId,!0)),o[A].onComplete&&c.push(o[A].onComplete.bind(null,new Error("set"),!1,null))));-1===w?Gc(r,void 0):o.length=w+1,Ca(u.eventQueue_,Od(r),p);for(let A=0;A<c.length;A++)za(c[A])}}const Wf=function(u,r){const o=ac(u),c=o.namespace;return"firebase.com"===o.domain&&Mr(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||"undefined"===c)&&"localhost"!==o.domain&&Mr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Al(o.host,o.secure,c,"ws"===o.scheme||"wss"===o.scheme,r,"",c!==o.subdomain),path:new wi(o.pathString)}},ac=function(u){let r="",o="",c="",p="",w="",A=!0,$="https",X=443;if("string"==typeof u){let ue=u.indexOf("//");ue>=0&&($=u.substring(0,ue-1),u=u.substring(ue+2));let Ye=u.indexOf("/");-1===Ye&&(Ye=u.length);let at=u.indexOf("?");-1===at&&(at=u.length),r=u.substring(0,Math.min(Ye,at)),Ye<at&&(p=function Yc(u){let r="";const o=u.split("/");for(let c=0;c<o.length;c++)if(o[c].length>0){let p=o[c];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}r+="/"+p}return r}(u.substring(Ye,at)));const Et=function Gf(u){const r={};"?"===u.charAt(0)&&(u=u.substring(1));for(const o of u.split("&")){if(0===o.length)continue;const c=o.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):wr(`Invalid query segment '${o}' in query '${u}'`)}return r}(u.substring(Math.min(u.length,at)));ue=r.indexOf(":"),ue>=0?(A="https"===$||"wss"===$,X=parseInt(r.substring(ue+1),10)):ue=r.length;const Ft=r.slice(0,ue);if("localhost"===Ft.toLowerCase())o="localhost";else if(Ft.split(".").length<=2)o=Ft;else{const Kt=r.indexOf(".");c=r.substring(0,Kt).toLowerCase(),o=r.substring(Kt+1),w=c}"ns"in Et&&(w=Et.ns)}return{host:r,port:X,domain:o,subdomain:c,secure:A,scheme:$,pathString:p,namespace:w}},Zc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uv=function(){let u=0;const r=[];return function(o){const c=o===u;let p;u=o;const w=new Array(8);for(p=7;p>=0;p--)w[p]=Zc.charAt(o%64),o=Math.floor(o/64);(0,U.hu)(0===o,"Cannot push at time == 0");let A=w.join("");if(c){for(p=11;p>=0&&63===r[p];p--)r[p]=0;r[p]++}else for(p=0;p<12;p++)r[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)A+=Zc.charAt(r[p]);return(0,U.hu)(20===A.length,"nextPushId: Length should be 20."),A}}();class lc{constructor(r,o,c,p){this.eventType=r,this.eventRegistration=o,this.snapshot=c,this.prevName=p}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class bm{constructor(r,o,c){this.eventRegistration=r,this.error=o,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class wu{constructor(r,o){this.snapshotCallback=r,this.cancelCallback=o}onValue(r,o){this.snapshotCallback.call(null,r,o)}onCancel(r){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class cv{constructor(r,o){this._repo=r,this._path=o}cancel(){const r=new U.BH;return F_(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){na("OnDisconnect.remove",this._path);const r=new U.BH;return Im(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){na("OnDisconnect.set",this._path),vu("OnDisconnect.set",r,this._path,!1);const o=new U.BH;return Im(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}setWithPriority(r,o){na("OnDisconnect.setWithPriority",this._path),vu("OnDisconnect.setWithPriority",r,this._path,!1),Nd("OnDisconnect.setWithPriority",o,!1);const c=new U.BH;return function L_(u,r,o,c,p){const w=Ms(o,c);u.server_.onDisconnectPut(r.toString(),w.val(!0),(A,$)=>{"ok"===A&&zu(u.onDisconnect_,r,w),zl(0,p,A,$)})}(this._repo,this._path,r,o,c.wrapCallback(()=>{})),c.promise}update(r){na("OnDisconnect.update",this._path),_u("OnDisconnect.update",r,this._path,!1);const o=new U.BH;return function ig(u,r,o,c){if((0,U.xb)(o))return Zt("onDisconnect().update() called with empty data.  Don't do anything."),void zl(0,c,"ok",void 0);u.server_.onDisconnectMerge(r.toString(),o,(p,w)=>{"ok"===p&&eo(o,(A,$)=>{const X=Ms($);zu(u.onDisconnect_,Zi(r,A),X)}),zl(0,c,p,w)})}(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}}class ro{constructor(r,o,c,p){this._repo=r,this._path=o,this._queryParams=c,this._orderByCalled=p}get key(){return Sr(this._path)?null:to(this._path)}get ref(){return new rl(this._repo,this._path)}get _queryIdentifier(){const r=Hu(this._queryParams),o=Hi(r);return"{}"===o?"default":o}get _queryObject(){return Hu(this._queryParams)}isEqual(r){if(!((r=(0,U.m9)(r))instanceof ro))return!1;const o=this._repo===r._repo,c=xa(this._path,r._path);return o&&c&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Go(u){let r="";for(let o=u.pieceNum_;o<u.pieces_.length;o++)""!==u.pieces_[o]&&(r+="/"+encodeURIComponent(String(u.pieces_[o])));return r||"/"}(this._path)}}function Kf(u,r){if(!0===u._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Iu(u){let r=null,o=null;if(u.hasStart()&&(r=u.getIndexStartValue()),u.hasEnd()&&(o=u.getIndexEndValue()),u.getIndex()===no){const c="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==As)throw new Error(c);if("string"!=typeof r)throw new Error(p)}if(u.hasEnd()){if(u.getIndexEndName()!==Es)throw new Error(c);if("string"!=typeof o)throw new Error(p)}}else if(u.getIndex()===Gi){if(null!=r&&!Sh(r)||null!=o&&!Sh(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(u.getIndex()instanceof hh||u.getIndex()===wf,"unknown index type."),null!=r&&"object"==typeof r||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class rl extends ro{constructor(r,o){super(r,o,new Na,!1)}get parent(){const r=Lt(this._path);return null===r?null:new rl(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ba{constructor(r,o,c){this._node=r,this.ref=o,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const o=new wi(r),c=Gl(this.ref,r);return new Ba(this._node.getChild(o),c,Gi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(c,p)=>r(new Ba(p,Gl(this.ref,c),Gi)))}hasChild(r){const o=new wi(r);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dv(u,r){return(u=(0,U.m9)(u))._checkNotDeleted("ref"),void 0!==r?Gl(u._root,r):u._root}function Vd(u,r){(u=(0,U.m9)(u))._checkNotDeleted("refFromURL");const o=Wf(r,u._repo.repoInfo_.nodeAdmin);Fd("refFromURL",o);const c=o.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&c.host!==u._repo.repoInfo_.host&&Mr("refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+u._repo.repoInfo_.host+")"),dv(u,o.path.toString())}function Gl(u,r){return null===Ir((u=(0,U.m9)(u))._path)?Mh("child","path",r,!1):kd("child","path",r,!1),new rl(u._repo,Zi(u._path,r))}function Cu(u,r){u=(0,U.m9)(u),na("set",u._path),vu("set",r,u._path,!1);const o=new U.BH;return Kc(u._repo,u._path,r,null,o.wrapCallback(()=>{})),o.promise}function hv(u,r){_u("update",r,u._path,!1);const o=new U.BH;return function oc(u,r,o,c){Ps(u,"update",{path:r.toString(),value:o});let p=!0;const w=_l(u),A={};if(eo(o,($,X)=>{p=!1,A[$]=qp(Zi(r,$),Ms(X),u.serverSyncTree_,w)}),p)Zt("update() called with empty data.  Don't do anything."),zl(0,c,"ok",void 0);else{const $=Ph(u),X=function ev(u,r,o,c){!function Sd(u,r,o,c){(0,U.hu)(c>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:r,children:o,writeId:c,visible:!0}),u.visibleWrites=bf(u.visibleWrites,r,o),u.lastWriteId=c}(u.pendingWriteTree_,r,o,c);const p=Vi.fromObject(o);return rc(u,new Ku({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,p))}(u.serverSyncTree_,r,A,$);Rh(u.eventQueue_,X),u.server_.merge(r.toString(),o,(ue,Ye)=>{const at="ok"===ue;at||wr("update at "+r+" failed: "+ue);const Et=pu(u.serverSyncTree_,$,!at),Ft=Et.length>0?Bd(u,r):r;Ca(u.eventQueue_,Ft,Et),zl(0,c,ue,Ye)}),eo(o,ue=>{const Ye=fo(u,Zi(r,ue));Bd(u,Ye)}),Ca(u.eventQueue_,r,[])}}(u._repo,u._path,r,o.wrapCallback(()=>{})),o.promise}function fv(u){u=(0,U.m9)(u);const r=new wu(()=>{}),o=new Lh(r);return function rg(u,r,o){const c=function Eh(u,r){const o=r._path;let c=null;u.syncPointTree_.foreachOnPath(o,(ue,Ye)=>{const at=ao(ue,o);c=c||hu(Ye,at)});let p=u.syncPointTree_.get(o);p?c=c||hu(p,li()):(p=new Af,u.syncPointTree_=u.syncPointTree_.set(o,p));const w=null!=c,A=w?new qr(c,!0,!1):null;return function hm(u){return ml(u.viewCache_)}(ym(p,r,Dd(u.pendingWriteTree_,r._path),w?A.getNode():tr.EMPTY_NODE,w))}(u.serverSyncTree_,r);return null!=c?Promise.resolve(c):u.server_.get(r).then(p=>{const w=Ms(p).withIndex(r._queryParams.getIndex());let A;if(nl(u.serverSyncTree_,r,o,!0),r._queryParams.loadsAllData())A=tc(u.serverSyncTree_,r._path,w);else{const $=Ih(u.serverSyncTree_,r);A=Of(u.serverSyncTree_,r._path,w,$)}return Ca(u.eventQueue_,r._path,A),Pf(u.serverSyncTree_,r,o,null,!0),w},p=>(Ps(u,"get for query "+(0,U.Wl)(r)+" failed: "+p),Promise.reject(new Error(p))))}(u._repo,u,o).then(c=>new Ba(c,new rl(u._repo,u._path),u._queryParams.getIndex()))}class Lh{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,o){const c=o._queryParams.getIndex();return new lc("value",this,new Ba(r.snapshotNode,new rl(o._repo,o._path),c))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new bm(this,r,o):null}matches(r){return r instanceof Lh&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bu{constructor(r,o){this.eventType=r,this.callbackContext=o}respondsTo(r){let o="children_added"===r?"child_added":r;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new bm(this,r,o):null}createEvent(r,o){(0,U.hu)(null!=r.childName,"Child events should have a childName.");const c=Gl(new rl(o._repo,o._path),r.childName),p=o._queryParams.getIndex();return new lc(r.type,this,new Ba(r.snapshotNode,c,p),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof bu&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qf(u,r,o,c,p){let w;if("object"==typeof c&&(w=void 0,p=c),"function"==typeof c&&(w=c),p&&p.onlyOnce){const X=o,ue=(Ye,at)=>{sg(u._repo,u,$),X(Ye,at)};ue.userCallback=o.userCallback,ue.context=o.context,o=ue}const A=new wu(o,w||void 0),$="value"===r?new Lh(A):new bu(r,A);return function Oh(u,r,o){let c;c=".info"===Ir(r._path)?nl(u.infoSyncTree_,r,o):nl(u.serverSyncTree_,r,o),tg(u.eventQueue_,r._path,c)}(u._repo,u,$),()=>sg(u._repo,u,$)}function Dm(u,r,o,c){return qf(u,"value",r,o,c)}function ug(u,r,o,c){return qf(u,"child_added",r,o,c)}function bo(u,r,o,c){return qf(u,"child_changed",r,o,c)}function Sm(u,r,o,c){return qf(u,"child_moved",r,o,c)}function pv(u,r,o,c){return qf(u,"child_removed",r,o,c)}function Tm(u,r,o){let c=null;const p=o?new wu(o):null;"value"===r?c=new Lh(p):r&&(c=new bu(r,p)),sg(u._repo,u,c)}class El{}class Am extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("endAt",this._value,r._path,!0);const o=fh(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class cg extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("endBefore",this._value,r._path,!1);const o=function Ed(u,r,o){let c;return c=fh(u,r,u.index_===no||o?o:As),c.endBeforeSet_=!0,c}(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class U_ extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("startAt",this._value,r._path,!0);const o=ju(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class mv extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("startAfter",this._value,r._path,!1);const o=function ou(u,r,o){let c;return c=ju(u,r,u.index_===no||o?o:Es),c.startAfterSet_=!0,c}(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class Qc extends El{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(r._repo,r._path,function kl(u,r){const o=u.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="l",o}(r._queryParams,this._limit),r._orderByCalled)}}class Yf extends El{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(r._repo,r._path,function Fl(u,r){const o=u.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="r",o}(r._queryParams,this._limit),r._orderByCalled)}}class Bh extends El{constructor(r){super(),this._path=r}_apply(r){Kf(r,"orderByChild");const o=new wi(this._path);if(Sr(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const c=new hh(o),p=Ja(r._queryParams,c);return Iu(p),new ro(r._repo,r._path,p,!0)}}class Qf extends El{_apply(r){Kf(r,"orderByKey");const o=Ja(r._queryParams,no);return Iu(o),new ro(r._repo,r._path,o,!0)}}class Hd extends El{_apply(r){Kf(r,"orderByPriority");const o=Ja(r._queryParams,Gi);return Iu(o),new ro(r._repo,r._path,o,!0)}}class Mm extends El{_apply(r){Kf(r,"orderByValue");const o=Ja(r._queryParams,wf);return Iu(o),new ro(r._repo,r._path,o,!0)}}class $h extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){if(vu("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Am(this._value,this._key)._apply(new U_(this._value,this._key)._apply(r))}}function Ko(u,...r){let o=(0,U.m9)(u);for(const c of r)o=c._apply(o);return o}(function Up(u){(0,U.hu)(!Rd,"__referenceConstructor has already been defined"),Rd=u})(rl),function vm(u){(0,U.hu)(!ec,"__referenceConstructor has already been defined"),ec=u}(rl);const Vh={};function gg(u,r,o,c,p){let w=c||u.options.databaseURL;void 0===w&&(u.options.projectId||Mr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zt("Using default host for project ",u.options.projectId),w=`${u.options.projectId}-default-rtdb.firebaseio.com`);let X,ue,A=Wf(w,p),$=A.repoInfo;typeof process<"u"&&process.env&&(ue=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ue?(X=!0,w=`http://${ue}?ns=${$.namespace}`,A=Wf(w,p),$=A.repoInfo):X=!A.repoInfo.secure;const Ye=p&&X?new us(us.OWNER):new Tc(u.name,u.options,r);Fd("Invalid Firebase Database URL",A),Sr(A.path)||Mr("Database URL must point to the root of a Firebase Database (not including a child path).");const at=function j_(u,r,o,c){let p=Vh[r.name];p||(p={},Vh[r.name]=p);let w=p[u.toURLString()];return w&&Mr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new xh(u,false,o,c),p[u.toURLString()]=w,w}($,u,Ye,new dl(u.name,o));return new yE(at,u)}class yE{constructor(r,o){this._repoInternal=r,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Uf(u,r,o){if(u.stats_=Ut(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Rs(u.repoInfo_,(c,p,w,A)=>{k_(u,c,p,w,A)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>ov(u,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(o)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}u.persistentConnection_=new lr(u.repoInfo_,r,(c,p,w,A)=>{k_(u,c,p,w,A)},c=>{ov(u,c)},c=>{!function pE(u,r){eo(r,(o,c)=>{jf(u,o,c)})}(u,c)},u.authTokenProvider_,u.appCheckProvider_,o),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(c=>{u.server_.refreshAuthToken(c)}),u.appCheckProvider_.addTokenChangeListener(c=>{u.server_.refreshAppCheckToken(c.token)}),u.statsReporter_=function Yt(u,r){const o=u.toString();return Ke[o]||(Ke[o]=r()),Ke[o]}(u.repoInfo_,()=>new $o(u.stats_,u.server_)),u.infoData_=new wd,u.infoSyncTree_=new Co({startListening:(c,p,w,A)=>{let $=[];const X=u.infoData_.getNode(c._path);return X.isEmpty()||($=tc(u.infoSyncTree_,c._path,X),setTimeout(()=>{A("ok")},0)),$},stopListening:()=>{}}),jf(u,"connected",!1),u.serverSyncTree_=new Co({startListening:(c,p,w,A)=>(u.server_.listen(c,w,p,($,X)=>{const ue=A($,X);Ca(u.eventQueue_,c._path,ue)}),[]),stopListening:(c,p)=>{u.server_.unlisten(c,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rl(this._repo,li())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Rm(u,r){const o=Vh[r];(!o||o[u.key]!==u)&&Mr(`Database ${r}(${u.repoInfo_}) has already been deleted.`),Nh(u),delete o[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&Mr("Cannot call "+r+" on a deleted database.")}}function mg(){Ac.IS_TRANSPORT_INITIALIZED&&wr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function yg(){mg(),Is.forceDisallow()}function vg(){mg(),qa.forceDisallow(),Is.forceAllow()}function Pm(u,r){$t(u,r)}const Om={".sv":"timestamp"};class Ev{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}lr.prototype.simpleListen=function(u,r){this.sendRequest("q",{p:u},r)},lr.prototype.echo=function(u,r){this.sendRequest("echo",{d:u},r)},function _g(u){qi(Ce.SDK_VERSION),(0,Ce._registerComponent)(new ve.wA("database",(r,{instanceIdentifier:o})=>gg(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(er,"0.14.4",u),(0,Ce.registerVersion)(er,"0.14.4","esm2017")}();const Iv=new Ue.Yd("@firebase/database-compat"),km=function(u){Iv.warn("FIREBASE WARNING: "+u)};class wg{constructor(r){this._delegate=r}cancel(r){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",r,!0);const o=this._delegate.cancel();return r&&o.then(()=>r(null),c=>r(c)),o}remove(r){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",r,!0);const o=this._delegate.remove();return r&&o.then(()=>r(null),c=>r(c)),o}set(r,o){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",o,!0);const c=this._delegate.set(r);return o&&c.then(()=>o(null),p=>o(p)),c}setWithPriority(r,o,c){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",c,!0);const p=this._delegate.setWithPriority(r,o);return c&&p.then(()=>c(null),w=>c(w)),p}update(r,o){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let w=0;w<r.length;++w)p[""+w]=r[w];r=p,km("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",o,!0);const c=this._delegate.update(r);return o&&c.then(()=>o(null),p=>o(p)),c}}class Fm{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Du{constructor(r,o){this._database=r,this._delegate=o}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),kd("DataSnapshot.child","path",r,!1),new Du(this._database,this._delegate.child(r))}hasChild(r){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),kd("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(o=>r(new Du(this._database,o)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new $a(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Do{constructor(r,o){this.database=r,this._delegate=o}on(r,o,c,p){var w;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",o,!1);const A=Do.getCancelAndContextArgs_("Query.on",c,p),$=(ue,Ye)=>{o.call(A.context,new Du(this.database,ue),Ye)};$.userCallback=o,$.context=A.context;const X=null===(w=A.cancel)||void 0===w?void 0:w.bind(A.context);switch(r){case"value":return Dm(this._delegate,$,X),o;case"child_added":return ug(this._delegate,$,X),o;case"child_removed":return pv(this._delegate,$,X),o;case"child_changed":return bo(this._delegate,$,X),o;case"child_moved":return Sm(this._delegate,$,X),o;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,o,c){if((0,U.Dv)("Query.off",0,3,arguments.length),function(u,r,o){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,U.Wj)("Query.off","callback",o,!0),(0,U.lb)("Query.off","context",c,!0),o){const p=()=>{};p.userCallback=o,p.context=c,Tm(this._delegate,r,p)}else Tm(this._delegate,r)}get(){return fv(this._delegate).then(r=>new Du(this.database,r))}once(r,o,c,p){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",o,!0);const w=Do.getCancelAndContextArgs_("Query.once",c,p),A=new U.BH,$=(ue,Ye)=>{const at=new Du(this.database,ue);o&&o.call(w.context,at,Ye),A.resolve(at)};$.userCallback=o,$.context=w.context;const X=ue=>{w.cancel&&w.cancel.call(w.context,ue),A.reject(ue)};switch(r){case"value":Dm(this._delegate,$,X,{onlyOnce:!0});break;case"child_added":ug(this._delegate,$,X,{onlyOnce:!0});break;case"child_removed":pv(this._delegate,$,X,{onlyOnce:!0});break;case"child_changed":bo(this._delegate,$,X,{onlyOnce:!0});break;case"child_moved":Sm(this._delegate,$,X,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return A.promise}limitToFirst(r){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Do(this.database,Ko(this._delegate,function hg(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qc(u)}(r)))}limitToLast(r){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Do(this.database,Ko(this._delegate,function Zf(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Yf(u)}(r)))}orderByChild(r){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Do(this.database,Ko(this._delegate,function fg(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kd("orderByChild","path",u,!1),new Bh(u)}(r)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Do(this.database,Ko(this._delegate,function jd(){return new Qf}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Do(this.database,Ko(this._delegate,function Xf(){return new Hd}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Do(this.database,Ko(this._delegate,function pg(){return new Mm}()))}startAt(r=null,o){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Do(this.database,Ko(this._delegate,function gv(u=null,r){return Ah("startAt","key",r,!0),new U_(u,r)}(r,o)))}startAfter(r=null,o){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Do(this.database,Ko(this._delegate,function yv(u,r){return Ah("startAfter","key",r,!0),new mv(u,r)}(r,o)))}endAt(r=null,o){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Do(this.database,Ko(this._delegate,function V_(u,r){return Ah("endAt","key",r,!0),new Am(u,r)}(r,o)))}endBefore(r=null,o){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Do(this.database,Ko(this._delegate,function dg(u,r){return Ah("endBefore","key",r,!0),new cg(u,r)}(r,o)))}equalTo(r,o){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Do(this.database,Ko(this._delegate,function mE(u,r){return Ah("equalTo","key",r,!0),new $h(u,r)}(r,o)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Do))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,o,c){const p={cancel:void 0,context:void 0};if(o&&c)p.cancel=o,(0,U.Wj)(r,"cancel",p.cancel,!0),p.context=c,(0,U.lb)(r,"context",p.context,!0);else if(o)if("object"==typeof o&&null!==o)p.context=o;else{if("function"!=typeof o)throw new Error((0,U.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=o}return p}get ref(){return new $a(this.database,new rl(this._delegate._repo,this._delegate._path))}}class $a extends Do{constructor(r,o){super(r,new ro(o._repo,o._path,new Na,!1)),this.database=r,this._delegate=o}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new $a(this.database,Gl(this._delegate,r))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new $a(this.database,r):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new $a(this.database,this._delegate.root)}set(r,o){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",o,!0);const c=Cu(this._delegate,r);return o&&c.then(()=>o(null),p=>o(p)),c}update(r,o){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let w=0;w<r.length;++w)p[""+w]=r[w];r=p,km("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}na("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",o,!0);const c=hv(this._delegate,r);return o&&c.then(()=>o(null),p=>o(p)),c}setWithPriority(r,o,c){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",c,!0);const p=function Ud(u,r,o){if(na("setWithPriority",u._path),vu("setWithPriority",r,u._path,!1),Nd("setWithPriority",o,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const c=new U.BH;return Kc(u._repo,u._path,r,o,c.wrapCallback(()=>{})),c.promise}(this._delegate,r,o);return c&&p.then(()=>c(null),w=>c(w)),p}remove(r){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",r,!0);const o=function lg(u){return na("remove",u._path),Cu(u,null)}(this._delegate);return r&&o.then(()=>r(null),c=>r(c)),o}transaction(r,o,c){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,U.Wj)("Reference.transaction","onComplete",o,!0),function(u,r,o,c){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,c);const p=function Jc(u,r,o){var c;if(u=(0,U.m9)(u),na("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const p=null===(c=null==o?void 0:o.applyLocally)||void 0===c||c,w=new U.BH,$=Dm(u,()=>{});return function B_(u,r,o,c,p,w){Ps(u,"transaction on "+r);const A={path:r,update:o,onComplete:c,status:null,order:j(),applyLocally:w,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},$=kh(u,r,void 0);A.currentInputSnapshot=$;const X=A.update($.val());if(void 0===X)A.unwatcher(),A.currentOutputSnapshotRaw=null,A.currentOutputSnapshotResolved=null,A.onComplete&&A.onComplete(null,!1,A.currentInputSnapshot);else{Th("transaction failed: Data returned ",X,A.path),A.status=0;const ue=zc(u.transactionQueueTree_,r),Ye=mu(ue)||[];let at;Ye.push(A),Gc(ue,Ye),"object"==typeof X&&null!==X&&(0,U.r3)(X,".priority")?(at=(0,U.DV)(X,".priority"),(0,U.hu)(Sh(at),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):at=(nc(u.serverSyncTree_,r)||tr.EMPTY_NODE).getPriority().val();const Et=_l(u),Ft=Ms(X,at),Kt=Yp(Ft,$,Et);A.currentOutputSnapshotRaw=Ft,A.currentOutputSnapshotResolved=Kt,A.currentWriteId=Ph(u);const cn=bi(u.serverSyncTree_,r,Kt,A.currentWriteId,A.applyLocally);Ca(u.eventQueue_,r,cn),qc(u,u.transactionQueueTree_)}}(u._repo,u._path,r,(X,ue,Ye)=>{let at=null;X?w.reject(X):(at=new Ba(Ye,new rl(u._repo,u._path),Gi),w.resolve(new Ev(ue,at)))},$,p),w.promise}(this._delegate,r,{applyLocally:c}).then(w=>new Fm(w.committed,new Du(this.database,w.snapshot)));return o&&p.then(w=>o(null,w.committed,w.snapshot),w=>o(w,!1,null)),p}setPriority(r,o){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",o,!0);const c=function uc(u,r){u=(0,U.m9)(u),na("setPriority",u._path),Nd("setPriority",r,!1);const o=new U.BH;return Kc(u._repo,Zi(u._path,".priority"),r,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,r);return o&&c.then(()=>o(null),p=>o(p)),c}push(r,o){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",o,!0);const c=function ag(u,r){u=(0,U.m9)(u),na("push",u._path),vu("push",r,u._path,!0);const o=Ld(u._repo),c=uv(o),p=Gl(u,c),w=Gl(u,c);let A;return A=null!=r?Cu(w,r).then(()=>w):Promise.resolve(w),p.then=A.then.bind(A),p.catch=A.then.bind(A,void 0),p}(this._delegate,r),p=c.then(A=>new $a(this.database,A));o&&p.then(()=>o(null),A=>o(A));const w=new $a(this.database,c);return w.then=p.then.bind(p),w.catch=p.catch.bind(p,void 0),w}onDisconnect(){return na("Reference.onDisconnect",this._delegate._path),new wg(new cv(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ig{constructor(r,o){this._delegate=r,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:yg,forceLongPolling:vg}}useEmulator(r,o,c={}){!function Uh(u,r,o,c={}){(u=(0,U.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Mr("Cannot call useEmulator() after instance has already been initialized.");const p=u._repoInternal;let w;if(p.repoInfo_.nodeAdmin)c.mockUserToken&&Mr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new us(us.OWNER);else if(c.mockUserToken){const A="string"==typeof c.mockUserToken?c.mockUserToken:(0,U.Sg)(c.mockUserToken,u.app.options.projectId);w=new us(A)}!function vv(u,r,o,c){u.repoInfo_=new Al(`${r}:${o}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),c&&(u.authTokenProvider_=c)}(p,r,o,w)}(this._delegate,r,o,c)}ref(r){if((0,U.Dv)("database.ref",0,1,arguments.length),r instanceof $a){const o=Vd(this._delegate,r.toString());return new $a(this,o)}{const o=dv(this._delegate,r);return new $a(this,o)}}refFromURL(r){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const c=Vd(this._delegate,r);return new $a(this,c)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function zd(u){(u=(0,U.m9)(u))._checkNotDeleted("goOffline"),Nh(u._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function Gd(u){(u=(0,U.m9)(u))._checkNotDeleted("goOnline"),function Cm(u){u.persistentConnection_&&u.persistentConnection_.resume(ng)}(u._repo)}(this._delegate)}}Ig.ServerValue={TIMESTAMP:function Nm(){return Om}(),increment:u=>function vE(u){return{".sv":{increment:u}}}(u)};var jh=Object.freeze({__proto__:null,initStandalone:function rp({app:u,url:r,version:o,customAuthImpl:c,namespace:p,nodeAdmin:w=!1}){qi(o);const A=new ve.zt("auth-internal",new ve.H0("database-standalone"));return A.setComponent(new ve.wA("auth-internal",()=>c,"PRIVATE")),{instance:new Ig(gg(u,A,void 0,r,w),u),namespace:p}}});const Hh=Ig.ServerValue;!function zh(u){u.INTERNAL.registerComponent(new ve.wA("database-compat",(r,{instanceIdentifier:o})=>{const c=r.getProvider("app-compat").getImmediate(),p=r.getProvider("database").getImmediate({identifier:o});return new Ig(p,c)},"PUBLIC").setServiceProps({Reference:$a,Query:Do,Database:Ig,DataSnapshot:Du,enableLogging:Pm,INTERNAL:jh,ServerValue:Hh}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.4")}(qt.Z);var Su=L(9260);function Gh(u){return null==u}function Wh(u){return"function"==typeof u.set}function bg(u,r){return Wh(r)?r:u.ref(r)}function Lm(u,r){if(function cc(u){return"string"==typeof u}(u))return r.stringCase();if(Wh(u))return r.firebaseCase();if(function Cg(u){return"function"==typeof u.exportVal}(u))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function Wd(u,r,o="on",c=Xs.z){return new fr.y(p=>{let w=null;return w=u[o](r,(A,$)=>{c.schedule(()=>{p.next({snapshot:A,prevKey:$})}),"once"===o&&c.schedule(()=>p.complete())},A=>{c.schedule(()=>p.error(A))}),"on"===o?{unsubscribe(){null!=w&&u.off(r,w)}}:{unsubscribe(){}}}).pipe((0,Fn.U)(p=>{const{snapshot:w,prevKey:A}=p;let $=null;return w.exists()&&($=w.key),{type:r,payload:w,prevKey:A,key:$}}),(0,ys.B)())}function dc(u,r){const o=u.length;for(let c=0;c<o;c++)if(u[c].payload.key===r)return c;return-1}function Kh(u,r){const{payload:o,prevKey:c,key:p}=r,w=dc(u,p),A=function $m(u,r){if(Gh(r))return 0;{const o=dc(u,r);return-1===o?u.length:o+1}}(u,c);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let $=null;r.payload.forEach(X=>{const ue={payload:X,type:"value",prevKey:$,key:X.key};return $=X.key,u=[...u,ue],!1})}return u;case"child_added":if(w>-1){const $=u[w-1];($&&$.key||null)!==c&&(u=u.filter(X=>X.payload.key!==o.key)).splice(A,0,r)}else{if(null==c)return[r,...u];(u=u.slice()).splice(A,0,r)}return u;case"child_removed":return u.filter($=>$.payload.key!==o.key);case"child_changed":return u.map($=>$.payload.key===p?r:$);case"child_moved":if(w>-1){const $=u.splice(w,1)[0];return(u=u.slice()).splice(A,0,$),u}return u;default:return u}}function wl(u){return(Gh(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function H_(u,r,o){return function Bm(u,r,o){return Wd(u,"value","once",o).pipe((0,zs.w)(c=>{const p=[(0,Ki.of)(c)];return r.forEach(w=>p.push(Wd(u,w,"on",o))),(0,jo.T)(...p).pipe((0,Ho.R)(Kh,[]))}),(0,Ti.x)())}(u,r=wl(r),o)}function Dg(u,r,o){const c=(r=wl(r)).map(p=>Wd(u,p,"on",o));return(0,jo.T)(...c)}function Vm(u,r){return function(c,p){return Lm(c,{stringCase:()=>u.child(c)[r](p),firebaseCase:()=>c[r](p),snapshotCase:()=>c.ref[r](p)})}}function Um(u){return function(o){return o?Lm(o,{stringCase:()=>u.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):u.remove()}}function sp(u,r){return function(){return Wd(u,"value","on",r)}}const Dv=new g.OlP("angularfire2.realtimeDatabaseURL"),Zr=new g.OlP("angularfire2.database.use-emulator");let jm=(()=>{class u{constructor(o,c,p,w,A,$,X,ue,Ye,at,Et,Ft,Kt,cn,xn){this.schedulers=$;const Fr=X,ni=(0,os.on)(o,A,c);ue&&(0,as.nw)(ni,A,Ye,Et,Ft,Kt,at,cn),this.database=(0,os.cc)(`${ni.name}.database.${p}`,"AngularFireDatabase",ni.name,()=>{const Ii=A.runOutsideAngular(()=>ni.database(p||void 0));return Fr&&Ii.useEmulator(...Fr),Ii},[Fr])}list(o,c){const p=this.schedulers.ngZone.runOutsideAngular(()=>bg(this.database,o));let w=p;return c&&(w=c(p)),function Tu(u,r){const o=r.schedulers.outsideAngular,c=r.schedulers.ngZone.run(()=>u.ref);return{query:u,update:Vm(c,"update"),set:Vm(c,"set"),push:p=>c.push(p),remove:Um(c),snapshotChanges:p=>H_(u,p,o).pipe(be.iC),stateChanges:p=>Dg(u,p,o).pipe(be.iC),auditTrail:p=>function _E(u,r,o){return function ip(u,r,o){return function Cv(u,r){return Wd(u,"value","on",r).pipe((0,Fn.U)(o=>{let c;return o.payload.forEach(p=>(c=p.key,!1)),{data:o,lastKeyToLoad:c}}))}(u,o).pipe(function T(...u){const r=(0,ne.jO)(u);return(0,Gs.e)((o,c)=>{const p=u.length,w=new Array(p);let A=u.map(()=>!1),$=!1;for(let X=0;X<p;X++)(0,Ai.Xf)(u[X]).subscribe((0,vs.x)(c,ue=>{w[X]=ue,!$&&!A[X]&&(A[X]=!0,($=A.every(sa.y))&&(A=null))},S.Z));o.subscribe((0,vs.x)(c,X=>{if($){const ue=[X,...w];c.next(r?r(...ue):ue)}}))})}(r),(0,Fn.U)(([p,w])=>{const A=p.lastKeyToLoad,$=w.map(X=>X.key);return{actions:w,lastKeyToLoad:A,loadedKeys:$}}),function Q(u){return(0,Gs.e)((r,o)=>{let c=!1,p=0;r.subscribe((0,vs.x)(o,w=>(c||(c=!u(w,p++)))&&o.next(w)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,Fn.U)(p=>p.actions))}(u,Dg(u,r).pipe((0,Ho.R)((p,w)=>[...p,w],[])),o)}(u,p,o).pipe(be.iC),valueChanges:(p,w)=>H_(u,p,o).pipe((0,Fn.U)($=>$.map(X=>w&&w.idField?Object.assign(Object.assign({},X.payload.val()),{[w.idField]:X.key}):X.payload.val())),be.iC)}}(w,this)}object(o){return function bv(u,r){return{query:u,snapshotChanges:()=>sp(u,r.schedulers.outsideAngular)().pipe(be.iC),update:o=>u.ref.update(o),set:o=>u.ref.set(o),remove:()=>u.ref.remove(),valueChanges:()=>sp(u,r.schedulers.outsideAngular)().pipe(be.iC,(0,Fn.U)(c=>c.payload.exists()?c.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bg(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(os.Dh),g.LFG(os.xv,8),g.LFG(Dv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(be.HU),g.LFG(Zr,8),g.LFG(as.zQ,8),g.LFG(as.Qv,8),g.LFG(as.L6,8),g.LFG(as._Q,8),g.LFG(as.rT,8),g.LFG(as.lh,8),g.LFG(as.f7,8),g.LFG(De.nm,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Sv=(()=>{class u{constructor(){Su.Z.registerVersion("angularfire",be.q4.full,"rtdb-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[jm]}),u})();var Tv=L(515),z_=L(5363),Sg=L(3151),G_=L(5132),Tg=L(9300),Av=L(7579);var zm=L(5577),Gm=L(8675),Wm=L(1520);const Zm="firebase_screen_id",Rg="outlet",Zh="screen_class",Qm="screen_name";let ba=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const up={},Xm=u=>{const r=[u[Zh],u[Rg]].join("#");if(up.hasOwnProperty(r))return up[r];{const o=ba++;return up[r]=o,o}},ty=new g.OlP("angularfire2.analytics.analyticsCollectionEnabled"),X_=new g.OlP("angularfire2.analytics.appVersion"),ny=new g.OlP("angularfire2.analytics.appName"),J_=new g.OlP("angularfire2.analytics.debugMode"),ry=new g.OlP("angularfire2.analytics.config"),dp="dataLayer";let ha=(()=>{class u{constructor(o,c,p,w,A,$,X,ue,Ye){if(this.analyticsInitialized=new Promise(()=>{}),(0,mi.NF)(X)){window[dp]=window[dp]||[];const Et=(...cn)=>"config"===cn[0]&&"firebase"===cn[2].origin&&(this.measurementId=cn[1],!0),Ft=cn=>{window.gtag=(...xn)=>{cn&&cn(...xn),"event"===xn[0]&&xn[2].send_to===this.measurementId&&(w&&(xn[2].app_name=w),p&&(xn[2].app_version=p)),A&&typeof console<"u"&&console.info(...xn),function(...Fr){window[dp].push(arguments)}(...xn)}};window[dp].some(Et)?(this.analyticsInitialized=Promise.resolve(),Ft()):this.analyticsInitialized=new Promise(cn=>{Ft((...xn)=>{Et(...xn)&&cn()})}),$&&this.updateConfig($),A&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const at=(0,Ki.of)(void 0).pipe((0,z_.Q)(Ye.outsideAngular),(0,zs.w)(G_.Gb),(0,zs.w)(Et=>Et?ue.runOutsideAngular(()=>L.e(3814).then(L.bind(L,3814))):Tv.E),(0,Fn.U)(()=>(0,os.cc)("analytics","AngularFireAnalytics",o.name,()=>{const Et=o.analytics();return!1===c&&Et.setAnalyticsCollectionEnabled(!1),Et},[o,c,$,A])),(0,Sg.d)({bufferSize:1,refCount:!1}));return(0,os.pX)(this,at,ue)}updateConfig(o){return(0,ms.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},o),{update:!0}))})}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(os.Ot),g.LFG(ty,8),g.LFG(X_,8),g.LFG(ny,8),g.LFG(J_,8),g.LFG(ry,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(be.HU))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Xh=(()=>{class u{constructor(o,c,p,w){if(this.disposables=[],Su.Z.registerVersion("angularfire",be.q4.full,"compat-user-tracking"),(0,mi.PM)(c))this.initialized=Promise.resolve();else{let A;this.initialized=w.runOutsideAngular(()=>new Promise($=>A=$)),this.disposables=[p.authState.subscribe($=>{o.setUserId(null==$?void 0:$.uid),A()}),p.credential.subscribe($=>{if($){const X=$.user.isAnonymous?"anonymous":$.additionalUserInfo.providerId;$.additionalUserInfo.isNewUser&&o.logEvent("sign_up",{method:X}),o.logEvent("login",{method:X})}})]}}ngOnDestroy(){this.disposables.forEach(o=>o.unsubscribe())}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(ha),g.LFG(g.Lbi),g.LFG(as.zQ),g.LFG(g.R0b))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),kg=(()=>{class u{constructor(o,c,p,w,A,$){if(Su.Z.registerVersion("angularfire",be.q4.full,"compat-screen-tracking"),!c||!o)return this;A.runOutsideAngular(()=>{this.disposable=((u,r,o)=>u.events.pipe((0,Tg.h)(p=>p instanceof ie.jw)).pipe((0,zs.w)(p=>{var w;const $=(null===(w=u.parseUrl(u.url.replace(/(?:\().+(?:\))/g,Ft=>Ft.replace("://",":///"))).root.children[p.snapshot.outlet])||void 0===w?void 0:w.toString())||"",X=u.routerState.root.children.map(Ft=>Ft).find(Ft=>Ft.outlet===p.snapshot.outlet);if(!X)return(0,Ki.of)(null);let ue=X;for(;ue.firstChild;)ue=ue.firstChild;const Ye=ue.pathFromRoot.map(Ft=>{var Kt;return null===(Kt=Ft.routeConfig)||void 0===Kt?void 0:Kt.path}).filter(Ft=>Ft).join("/")||"/",at={[Qm]:Ye,page_path:`/${$}`,firebase_event_origin:"auto",firebase_screen:Ye,[Rg]:p.snapshot.outlet};r&&(at.page_title=r.getTitle());let Et=X.component;if(Et){if(Et===ie.fw){let Ft=p.snapshot;for(;Ft.firstChild;)Ft=Ft.firstChild;Et=Ft.component}}else Et=p.snapshot.component;if("string"==typeof Et)return(0,Ki.of)(Object.assign(Object.assign({},at),{[Zh]:Et}));if(Et){const Ft=o.resolveComponentFactory(Et);return(0,Ki.of)(Object.assign(Object.assign({},at),{[Zh]:Ft.selector}))}return(0,Ki.of)(null)}),(0,Tg.h)(p=>!!p),(0,Fn.U)(p=>Object.assign({firebase_screen_class:p[Zh],[Zm]:Xm(p)},p)),function Hm(u,r,o,c){return(0,Gs.e)((p,w)=>{let A;r&&"function"!=typeof r?({duration:o,element:A,connector:c}=r):A=r;const $=new Map,X=Kt=>{$.forEach(Kt),Kt(w)},ue=Kt=>X(cn=>cn.error(Kt));let Ye=0,at=!1;const Et=new vs.Q(w,Kt=>{try{const cn=u(Kt);let xn=$.get(cn);if(!xn){$.set(cn,xn=c?c():new Av.x);const Fr=function Ft(Kt,cn){const xn=new fr.y(Fr=>{Ye++;const ni=cn.subscribe(Fr);return()=>{ni.unsubscribe(),0==--Ye&&at&&Et.unsubscribe()}});return xn.key=Kt,xn}(cn,xn);if(w.next(Fr),o){const ni=(0,vs.x)(xn,()=>{xn.complete(),null==ni||ni.unsubscribe()},void 0,void 0,()=>$.delete(cn));Et.add((0,Ai.Xf)(o(Fr)).subscribe(ni))}}xn.next(A?A(Kt):Kt)}catch(cn){ue(cn)}},()=>X(Kt=>Kt.complete()),ue,()=>$.clear(),()=>(at=!0,0===Ye));p.subscribe(Et)})}(p=>p[Rg]),(0,zm.z)(p=>p.pipe((0,Ti.x)((w,A)=>JSON.stringify(w)===JSON.stringify(A)),(0,Gm.O)(void 0),(0,Wm.G)(),(0,Fn.U)(([w,A])=>w?Object.assign({firebase_previous_class:w[Zh],firebase_previous_screen:w[Qm],firebase_previous_id:w[Zm]},A):A)))))(c,p,w).pipe((0,zs.w)(X=>(0,ms.mG)(this,void 0,void 0,function*(){return $&&(yield $.initialized),yield o.logEvent("screen_view",X)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(ha),g.LFG(ie.F0,8),g.LFG(y.Dx,8),g.LFG(g._Vd),g.LFG(g.R0b),g.LFG(Xh,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),Bv=(()=>{class u{constructor(o,c,p){Su.Z.registerVersion("angularfire",be.q4.full,"analytics-compat"),o.app.then(()=>{})}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(ha),g.LFG(kg,8),g.LFG(Xh,8))},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[ha]}),u})();var sy=L(1085),Kd=L(8996);const Cl="firebasestorage.googleapis.com",$v="storageBucket";class qs extends U.ZR{constructor(r,o,c=0){super(cy(r),`Firebase Storage: ${o} (${cy(r)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qs.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return cy(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pr=(()=>((Pr=Pr||{}).UNKNOWN="unknown",Pr.OBJECT_NOT_FOUND="object-not-found",Pr.BUCKET_NOT_FOUND="bucket-not-found",Pr.PROJECT_NOT_FOUND="project-not-found",Pr.QUOTA_EXCEEDED="quota-exceeded",Pr.UNAUTHENTICATED="unauthenticated",Pr.UNAUTHORIZED="unauthorized",Pr.UNAUTHORIZED_APP="unauthorized-app",Pr.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Pr.INVALID_CHECKSUM="invalid-checksum",Pr.CANCELED="canceled",Pr.INVALID_EVENT_NAME="invalid-event-name",Pr.INVALID_URL="invalid-url",Pr.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Pr.NO_DEFAULT_BUCKET="no-default-bucket",Pr.CANNOT_SLICE_BLOB="cannot-slice-blob",Pr.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Pr.NO_DOWNLOAD_URL="no-download-url",Pr.INVALID_ARGUMENT="invalid-argument",Pr.INVALID_ARGUMENT_COUNT="invalid-argument-count",Pr.APP_DELETED="app-deleted",Pr.INVALID_ROOT_OPERATION="invalid-root-operation",Pr.INVALID_FORMAT="invalid-format",Pr.INTERNAL_ERROR="internal-error",Pr.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Pr))();function cy(u){return"storage/"+u}function Fg(){return new qs(Pr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Lg(){return new qs(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fp(){return new qs(Pr.CANCELED,"User canceled the upload/download.")}function gp(){return new qs(Pr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qd(u){return new qs(Pr.INVALID_ARGUMENT,u)}function hy(){return new qs(Pr.APP_DELETED,"The Firebase app was deleted.")}function Uv(u){return new qs(Pr.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mp(u,r){return new qs(Pr.INVALID_FORMAT,"String does not match format '"+u+"': "+r)}function bl(u){throw new qs(Pr.INTERNAL_ERROR,"Internal error: "+u)}class qo{constructor(r,o){this.bucket=r,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,o){let c;try{c=qo.makeFromUrl(r,o)}catch{return new qo(r,"")}if(""===c.path)return c;throw function t0(u){return new qs(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(r)}static makeFromUrl(r,o){let c=null;const p="([A-Za-z0-9.\\-_]+)",$=new RegExp("^gs://"+p+"(/(.*))?$","i");function ue(hi){hi.path_=decodeURIComponent(hi.path)}const at=o.replace(/[.]/g,"\\."),Ii=[{regex:$,indices:{bucket:1,path:3},postModify:function w(hi){"/"===hi.path.charAt(hi.path.length-1)&&(hi.path_=hi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${at}/v[A-Za-z0-9_]+/b/${p}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ue},{regex:new RegExp(`^https?://${o===Cl?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${p}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ue}];for(let hi=0;hi<Ii.length;hi++){const ol=Ii[hi],al=ol.regex.exec(r);if(al){let Zo=al[ol.indices.path];Zo||(Zo=""),c=new qo(al[ol.indices.bucket],Zo),ol.postModify(c);break}}if(null==c)throw function pp(u){return new qs(Pr.INVALID_URL,"Invalid URL '"+u+"'.")}(r);return c}}class jv{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function rf(u){return"string"==typeof u||u instanceof String}function my(u){return Yd()&&u instanceof Blob}function Yd(){return typeof Blob<"u"&&!(0,U.UG)()}function sf(u,r,o,c){if(c<r)throw qd(`Invalid value for '${u}'. Expected ${r} or greater.`);if(c>o)throw qd(`Invalid value for '${u}'. Expected ${o} or less.`)}function Wl(u,r,o){let c=r;return null==o&&(c=`https://${r}`),`${o}://${c}/v0${u}`}function yp(u){const r=encodeURIComponent;let o="?";for(const c in u)u.hasOwnProperty(c)&&(o=o+(r(c)+"=")+r(u[c])+"&");return o=o.slice(0,-1),o}var Vo=(()=>((Vo=Vo||{})[Vo.NO_ERROR=0]="NO_ERROR",Vo[Vo.NETWORK_ERROR=1]="NETWORK_ERROR",Vo[Vo.ABORT=2]="ABORT",Vo))();function Vg(u,r){const o=u>=500&&u<600,p=-1!==[408,429].indexOf(u),w=-1!==r.indexOf(u);return o||p||w}class n0{constructor(r,o,c,p,w,A,$,X,ue,Ye,at,Et=!0){this.url_=r,this.method_=o,this.headers_=c,this.body_=p,this.successCodes_=w,this.additionalRetryCodes_=A,this.callback_=$,this.errorCallback_=X,this.timeout_=ue,this.progressCallback_=Ye,this.connectionFactory_=at,this.retry=Et,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ft,Kt)=>{this.resolve_=Ft,this.reject_=Kt,this.start_()})}start_(){const o=(c,p)=>{const w=this.resolve_,A=this.reject_,$=p.connection;if(p.wasSuccessCode)try{const X=this.callback_($,$.getResponse());!function py(u){return void 0!==u}(X)?w():w(X)}catch(X){A(X)}else if(null!==$){const X=Fg();X.serverResponse=$.getErrorText(),A(this.errorCallback_?this.errorCallback_($,X):X)}else A(p.canceled?this.appDelete_?hy():fp():Lg())};this.canceled_?o(0,new Ug(!1,null,!0)):this.backoffId_=function fy(u,r,o){let c=1,p=null,w=null,A=!1,$=0;function X(){return 2===$}let ue=!1;function Ye(...xn){ue||(ue=!0,r.apply(null,xn))}function at(xn){p=setTimeout(()=>{p=null,u(Ft,X())},xn)}function Et(){w&&clearTimeout(w)}function Ft(xn,...Fr){if(ue)return void Et();if(xn)return Et(),void Ye.call(null,xn,...Fr);if(X()||A)return Et(),void Ye.call(null,xn,...Fr);let Ii;c<64&&(c*=2),1===$?($=2,Ii=0):Ii=1e3*(c+Math.random()),at(Ii)}let Kt=!1;function cn(xn){Kt||(Kt=!0,Et(),!ue&&(null!==p?(xn||($=2),clearTimeout(p),at(0)):xn||($=1)))}return at(0),w=setTimeout(()=>{A=!0,cn(!0)},o),cn}((c,p)=>{if(p)return void c(!1,new Ug(!1,null,!0));const w=this.connectionFactory_();this.pendingConnection_=w;const A=$=>{null!==this.progressCallback_&&this.progressCallback_($.loaded,$.lengthComputable?$.total:-1)};null!==this.progressCallback_&&w.addUploadProgressListener(A),w.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&w.removeUploadProgressListener(A),this.pendingConnection_=null;const $=w.getErrorCode()===Vo.NO_ERROR,X=w.getStatus();if(!$||Vg(X,this.additionalRetryCodes_)&&this.retry){const Ye=w.getErrorCode()===Vo.ABORT;return void c(!1,new Ug(!1,null,Ye))}const ue=-1!==this.successCodes_.indexOf(X);c(!0,new Ug(ue,w))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function Hv(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ug{constructor(r,o,c){this.wasSuccessCode=r,this.connection=o,this.canceled=!!c}}function IE(...u){const r=function o0(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const o=new r;for(let c=0;c<u.length;c++)o.append(u[c]);return o.getBlob()}if(Yd())return new Blob(u);throw new qs(Pr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vp{constructor(r,o){this.data=r,this.contentType=o||null}}function jg(u,r){switch(u){case ra.RAW:return new vp(_p(r));case ra.BASE64:case ra.BASE64URL:return new vp(Va(u,r));case ra.DATA_URL:return new vp(function ia(u){const r=new oi(u);return r.base64?Va(ra.BASE64,r.rest):function Kv(u){let r;try{r=decodeURIComponent(u)}catch{throw mp(ra.DATA_URL,"Malformed data URL.")}return _p(r)}(r.rest)}(r),function nd(u){return new oi(u).contentType}(r))}throw Fg()}function _p(u){const r=[];for(let o=0;o<u.length;o++){let c=u.charCodeAt(o);c<=127?r.push(c):c<=2047?r.push(192|c>>6,128|63&c):55296==(64512&c)?o<u.length-1&&56320==(64512&u.charCodeAt(o+1))?(c=65536|(1023&c)<<10|1023&u.charCodeAt(++o),r.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|63&c)):r.push(239,191,189):56320==(64512&c)?r.push(239,191,189):r.push(224|c>>12,128|c>>6&63,128|63&c)}return new Uint8Array(r)}function Va(u,r){switch(u){case ra.BASE64:{const p=-1!==r.indexOf("-"),w=-1!==r.indexOf("_");if(p||w)throw mp(u,"Invalid character '"+(p?"-":"_")+"' found: is it base64url encoded?");break}case ra.BASE64URL:{const p=-1!==r.indexOf("+"),w=-1!==r.indexOf("/");if(p||w)throw mp(u,"Invalid character '"+(p?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function a0(u){if(typeof atob>"u")throw function Bg(u){return new qs(Pr.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(r)}catch(p){throw p.message.includes("polyfill")?p:mp(u,"Invalid character found")}const c=new Uint8Array(o.length);for(let p=0;p<o.length;p++)c[p]=o.charCodeAt(p);return c}class oi{constructor(r){this.base64=!1,this.contentType=null;const o=r.match(/^data:([^,]+)?,/);if(null===o)throw mp(ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=o[1]||null;null!=c&&(this.base64=function rd(u,r){return u.length>=r.length&&u.substring(u.length-r.length)===r}(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=r.substring(r.indexOf(",")+1)}}class po{constructor(r,o){let c=0,p="";my(r)?(this.data_=r,c=r.size,p=r.type):r instanceof ArrayBuffer?(o?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),c=this.data_.length):r instanceof Uint8Array&&(o?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),c=r.length),this.size_=c,this.type_=p}size(){return this.size_}type(){return this.type_}slice(r,o){if(my(this.data_)){const p=function Wv(u,r,o){return u.webkitSlice?u.webkitSlice(r,o):u.mozSlice?u.mozSlice(r,o):u.slice?u.slice(r,o):null}(this.data_,r,o);return null===p?null:new po(p)}{const c=new Uint8Array(this.data_.buffer,r,o-r);return new po(c,!0)}}static getBlob(...r){if(Yd()){const o=r.map(c=>c instanceof po?c.data_:c);return new po(IE.apply(null,o))}{const o=r.map(A=>rf(A)?jg(ra.RAW,A).data:A.data_);let c=0;o.forEach(A=>{c+=A.byteLength});const p=new Uint8Array(c);let w=0;return o.forEach(A=>{for(let $=0;$<A.length;$++)p[w++]=A[$]}),new po(p,!0)}}uploadData(){return this.data_}}function Os(u){let r;try{r=JSON.parse(u)}catch{return null}return function $g(u){return"object"==typeof u&&!Array.isArray(u)}(r)?r:null}function Zd(u){const r=u.lastIndexOf("/",u.length-2);return-1===r?u:u.slice(r+1)}function af(u,r){return r}class So{constructor(r,o,c,p){this.server=r,this.local=o||r,this.writable=!!c,this.xform=p||af}}let pc=null;function Mu(){if(pc)return pc;const u=[];u.push(new So("bucket")),u.push(new So("generation")),u.push(new So("metageneration")),u.push(new So("name","fullPath",!0));const o=new So("name");o.xform=function r(w,A){return function id(u){return!rf(u)||u.length<2?u:Zd(u)}(A)},u.push(o);const p=new So("size");return p.xform=function c(w,A){return void 0!==A?Number(A):A},u.push(p),u.push(new So("timeCreated")),u.push(new So("updated")),u.push(new So("md5Hash",null,!0)),u.push(new So("cacheControl",null,!0)),u.push(new So("contentDisposition",null,!0)),u.push(new So("contentEncoding",null,!0)),u.push(new So("contentLanguage",null,!0)),u.push(new So("contentType",null,!0)),u.push(new So("metadata","customMetadata",!0)),pc=u,pc}function vy(u,r,o){const c=Os(r);return null===c?null:function qv(u,r,o){const c={type:"file"},p=o.length;for(let w=0;w<p;w++){const A=o[w];c[A.local]=A.xform(c,r[A.server])}return function sd(u,r){Object.defineProperty(u,"ref",{get:function o(){const w=new qo(u.bucket,u.fullPath);return r._makeStorageReference(w)}})}(c,u),c}(u,c,o)}function _y(u,r){const o={},c=r.length;for(let p=0;p<c;p++){const w=r[p];w.writable&&(o[w.server]=u[w.local])}return JSON.stringify(o)}const Ey="prefixes",io="items";class Kl{constructor(r,o,c,p){this.url=r,this.method=o,this.handler=c,this.timeout=p,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function il(u){if(!u)throw Fg()}function Hg(u,r){return function o(c,p){const w=vy(u,p,r);return il(null!==w),w}}function lf(u){return function r(o,c){let p;return p=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function ef(){return new qs(Pr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function hp(){return new qs(Pr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function Jh(u){return new qs(Pr.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===o.getStatus()?function Vv(u){return new qs(Pr.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):c,p.status=o.getStatus(),p.serverResponse=c.serverResponse,p}}function zg(u){const r=lf(u);return function o(c,p){let w=r(c,p);return 404===c.getStatus()&&(w=function e0(u){return new qs(Pr.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),w.serverResponse=p.serverResponse,w}}function l0(u,r,o){const p=Wl(r.fullServerUrl(),u.host,u._protocol),A=u.maxOperationRetryTime,$=new Kl(p,"GET",Hg(u,o),A);return $.errorHandler=zg(r),$}function u0(u,r,o,c,p){const w={};w.prefix=r.isRoot?"":r.path+"/",o&&o.length>0&&(w.delimiter=o),c&&(w.pageToken=c),p&&(w.maxResults=p);const $=Wl(r.bucketOnlyServerUrl(),u.host,u._protocol),ue=u.maxOperationRetryTime,Ye=new Kl($,"GET",function CE(u,r){return function o(c,p){const w=function Yv(u,r,o){const c=Os(o);return null===c?null:function wy(u,r,o){const c={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[Ey])for(const p of o[Ey]){const w=p.replace(/\/$/,""),A=u._makeStorageReference(new qo(r,w));c.prefixes.push(A)}if(o[io])for(const p of o[io]){const w=u._makeStorageReference(new qo(r,p.name));c.items.push(w)}return c}(u,r,c)}(u,r,p);return il(null!==w),w}}(u,r.bucket),ue);return Ye.urlParams=w,Ye.errorHandler=lf(r),Ye}function wp(u,r,o){const c=Object.assign({},o);return c.fullPath=u.path,c.size=r.size(),c.contentType||(c.contentType=function Ru(u,r){return u&&u.contentType||r&&r.type()||"application/octet-stream"}(null,r)),c}class Pu{constructor(r,o,c,p){this.current=r,this.total=o,this.finalized=!!c,this.metadata=p||null}}function Gg(u,r){let o=null;try{o=u.getResponseHeader("X-Goog-Upload-Status")}catch{il(!1)}return il(!!o&&-1!==(r||["active"]).indexOf(o)),o}const d0={STATE_CHANGED:"state_changed"},To={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uf(u){switch(u){case"running":case"pausing":case"canceling":return To.RUNNING;case"paused":return To.PAUSED;case"success":return To.SUCCESS;case"canceled":return To.CANCELED;default:return To.ERROR}}class Cp{constructor(r,o,c){if(function gy(u){return"function"==typeof u}(r)||null!=o||null!=c)this.next=r,this.error=null!=o?o:void 0,this.complete=null!=c?c:void 0;else{const w=r;this.next=w.next,this.error=w.error,this.complete=w.complete}}}function gc(u){return(...r)=>{Promise.resolve().then(()=>u(...r))}}let Qd=null;class Wg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vo.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vo.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vo.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,o,c,p){if(this.sent_)throw bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,r,!0),void 0!==p)for(const w in p)p.hasOwnProperty(w)&&this.xhr_.setRequestHeader(w,p[w].toString());return void 0!==c?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class DE extends Wg{initXhr(){this.xhr_.responseType="text"}}function ql(){return Qd?Qd():new DE}class Dy{constructor(r,o,c=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=o,this._metadata=c,this._mappings=Mu(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=p=>{if(this._request=void 0,this._chunkMultiplier=1,p._codeEquals(Pr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const w=this.isExponentialBackoffExpired();if(Vg(p.status,[])){if(!w)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();p=Lg()}this._error=p,this._transition("error")}},this._metadataErrorHandler=p=>{this._request=void 0,p._codeEquals(Pr.CANCELED)?this.completeTransitions_():(this._error=p,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((p,w)=>{this._resolve=p,this._reject=w,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return o=>this._updateProgress(r+o)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,c])=>{switch(this._state){case"running":r(o,c);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,o)=>{const c=function Ip(u,r,o,c,p){const w=r.bucketOnlyServerUrl(),A=wp(r,c,p),$={name:A.fullPath},X=Wl(w,u.host,u._protocol),Ye={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${c.size()}`,"X-Goog-Upload-Header-Content-Type":A.contentType,"Content-Type":"application/json; charset=utf-8"},at=_y(A,o),Kt=new Kl(X,"POST",function Ft(cn){let xn;Gg(cn);try{xn=cn.getResponseHeader("X-Goog-Upload-URL")}catch{il(!1)}return il(rf(xn)),xn},u.maxUploadRetryTime);return Kt.urlParams=$,Kt.headers=Ye,Kt.body=at,Kt.errorHandler=lf(r),Kt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(c,ql,r,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._uploadUrl=w,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((o,c)=>{const p=function Iy(u,r,o,c){const X=new Kl(o,"POST",function w(ue){const Ye=Gg(ue,["active","final"]);let at=null;try{at=ue.getResponseHeader("X-Goog-Upload-Size-Received")}catch{il(!1)}at||il(!1);const Et=Number(at);return il(!isNaN(Et)),new Pu(Et,c.size(),"final"===Ye)},u.maxUploadRetryTime);return X.headers={"X-Goog-Upload-Command":"query"},X.errorHandler=lf(r),X}(this._ref.storage,this._ref._location,r,this._blob),w=this._ref.storage._makeRequest(p,ql,o,c);this._request=w,w.getPromise().then(A=>{this._request=void 0,this._updateProgress(A.current),this._needToFetchStatus=!1,A.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,o=new Pu(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken((p,w)=>{let A;try{A=function ad(u,r,o,c,p,w,A,$){const X=new Pu(0,0);if(A?(X.current=A.current,X.total=A.total):(X.current=0,X.total=c.size()),c.size()!==X.total)throw function tf(){return new qs(Pr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ue=X.total-X.current;let Ye=ue;p>0&&(Ye=Math.min(Ye,p));const at=X.current;let Ft="";Ft=0===Ye?"finalize":ue===Ye?"upload, finalize":"upload";const Kt={"X-Goog-Upload-Command":Ft,"X-Goog-Upload-Offset":`${X.current}`},cn=c.slice(at,at+Ye);if(null===cn)throw gp();const Ii=new Kl(o,"POST",function xn(hi,ol){const al=Gg(hi,["active","final"]),fa=X.current+Ye,Zo=c.size();let yf;return yf="final"===al?Hg(r,w)(hi,ol):null,new Pu(fa,Zo,"final"===al,yf)},r.maxUploadRetryTime);return Ii.headers=Kt,Ii.body=cn.uploadData(),Ii.progressCallback=$||null,Ii.errorHandler=lf(u),Ii}(this._ref._location,this._ref.storage,c,this._blob,r,this._mappings,o,this._makeProgressCallback())}catch(X){return this._error=X,void this._transition("error")}const $=this._ref.storage._makeRequest(A,ql,p,w,!1);this._request=$,$.getPromise().then(X=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(X.current),X.finalized?(this._metadata=X.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,o)=>{const c=l0(this._ref.storage,this._ref._location,this._mappings),p=this._ref.storage._makeRequest(c,ql,r,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,o)=>{const c=function xu(u,r,o,c,p){const w=r.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"},X=function $(){let Ii="";for(let hi=0;hi<2;hi++)Ii+=Math.random().toString().slice(2);return Ii}();A["Content-Type"]="multipart/related; boundary="+X;const ue=wp(r,c,p),Ye=_y(ue,o),Ft=po.getBlob("--"+X+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ye+"\r\n--"+X+"\r\nContent-Type: "+ue.contentType+"\r\n\r\n",c,"\r\n--"+X+"--");if(null===Ft)throw gp();const Kt={name:ue.fullPath},cn=Wl(w,u.host,u._protocol),Fr=u.maxUploadRetryTime,ni=new Kl(cn,"POST",Hg(u,o),Fr);return ni.urlParams=Kt,ni.headers=A,ni.body=Ft.uploadData(),ni.errorHandler=lf(r),ni}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(c,ql,r,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const o=this._transferred;this._transferred=r,this._transferred!==o&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=r,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=fp(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=uf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,o,c,p){const w=new Cp(o||void 0,c||void 0,p||void 0);return this._addObserver(w),()=>{this._removeObserver(w)}}then(r,o){return this._promise.then(r,o)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const o=this._observers.indexOf(r);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(uf(this._state)){case To.SUCCESS:gc(this._resolve.bind(null,this.snapshot))();break;case To.CANCELED:case To.ERROR:gc(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(uf(this._state)){case To.RUNNING:case To.PAUSED:r.next&&gc(r.next.bind(r,this.snapshot))();break;case To.SUCCESS:r.complete&&gc(r.complete.bind(r))();break;default:r.error&&gc(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class ud{constructor(r,o){this._service=r,this._location=o instanceof qo?o:qo.makeFromUrl(o,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,o){return new ud(r,o)}get root(){const r=new qo(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zd(this._location.path)}get storage(){return this._service}get parent(){const r=function go(u){if(0===u.length)return null;const r=u.lastIndexOf("/");return-1===r?"":u.slice(0,r)}(this._location.path);if(null===r)return null;const o=new qo(this._location.bucket,r);return new ud(this._service,o)}_throwIfRoot(r){if(""===this._location.path)throw Uv(r)}}function Xd(u,r,o){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,Nn.Z)(function*(u,r,o){const p=yield Jd(u,{pageToken:o});r.prefixes.push(...p.prefixes),r.items.push(...p.items),null!=p.nextPageToken&&(yield Xd(u,r,p.nextPageToken))})).apply(this,arguments)}function Jd(u,r){null!=r&&"number"==typeof r.maxResults&&sf("options.maxResults",1,1e3,r.maxResults);const o=r||{},c=u0(u.storage,u._location,"/",o.pageToken,o.maxResults);return u.storage.makeRequestWithTokens(c,ql)}function cd(u){u._throwIfRoot("getDownloadURL");const r=function Ep(u,r,o){const p=Wl(r.fullServerUrl(),u.host,u._protocol),A=u.maxOperationRetryTime,$=new Kl(p,"GET",function bE(u,r){return function o(c,p){const w=vy(u,p,r);return il(null!==w),function Ns(u,r,o,c){const p=Os(r);if(null===p||!rf(p.downloadTokens))return null;const w=p.downloadTokens;if(0===w.length)return null;const A=encodeURIComponent;return w.split(",").map(ue=>{const at=u.fullPath;return Wl("/b/"+A(u.bucket)+"/o/"+A(at),o,c)+yp({alt:"media",token:ue})})[0]}(w,p,u.host,u._protocol)}}(u,o),A);return $.errorHandler=zg(r),$}(u.storage,u._location,Mu());return u.storage.makeRequestWithTokens(r,ql).then(o=>{if(null===o)throw function nf(){return new qs(Pr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function eh(u,r){const o=function Da(u,r){const o=r.split("/").filter(c=>c.length>0).join("/");return 0===u.length?o:u+"/"+o}(u._location.path,r),c=new qo(u._location.bucket,o);return new ud(u.storage,c)}function f0(u,r){if(u instanceof th){const o=u;if(null==o._bucket)throw function dy(){return new qs(Pr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$v+"' property when initializing the app?")}();const c=new ud(o,o._bucket);return null!=r?f0(c,r):c}return void 0!==r?eh(u,r):u}function e_(u,r){if(r&&function h0(u){return/^[A-Za-z]+:\/\//.test(u)}(r)){if(u instanceof th)return function hf(u,r){return new ud(u,r)}(u,r);throw qd("To use ref(service, url), the first argument must be a Storage instance.")}return f0(u,r)}function ff(u,r){const o=null==r?void 0:r[$v];return null==o?null:qo.makeFromBucketSpec(o,u)}class th{constructor(r,o,c,p,w){this.app=r,this._authProvider=o,this._appCheckProvider=c,this._url=p,this._firebaseVersion=w,this._bucket=null,this._host=Cl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=p?qo.makeFromBucketSpec(p,this._host):ff(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?qo.makeFromBucketSpec(this._url,r):ff(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){sf("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){sf("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,Nn.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const o=r._authProvider.getImmediate({optional:!0});if(o){const c=yield o.getToken();if(null!==c)return c.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,Nn.Z)(function*(){const o=r._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new ud(this,r)}_makeRequest(r,o,c,p,w=!0){if(this._deleted)return new jv(hy());{const A=function Gv(u,r,o,c,p,w,A=!0){const $=yp(u.urlParams),X=u.url+$,ue=Object.assign({},u.headers);return function s0(u,r){r&&(u["X-Firebase-GMPID"]=r)}(ue,r),function r0(u,r){null!==r&&r.length>0&&(u.Authorization="Firebase "+r)}(ue,o),function zv(u,r){u["X-Firebase-Storage-Version"]="webjs/"+(null!=r?r:"AppManager")}(ue,w),function yy(u,r){null!==r&&(u["X-Firebase-AppCheck"]=r)}(ue,c),new n0(X,u.method,ue,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,p,A)}(r,this._appId,c,p,o,this._firebaseVersion,w);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}makeRequestWithTokens(r,o){var c=this;return(0,Nn.Z)(function*(){const[p,w]=yield Promise.all([c._getAuthToken(),c._getAppCheckToken()]);return c._makeRequest(r,o,p,w).getPromise()})()}}const t_="@firebase/storage";function Zg(u,r){return e_(u=(0,U.m9)(u),r)}function o_(u,{instanceIdentifier:r}){const o=u.getProvider("app").getImmediate(),c=u.getProvider("auth-internal"),p=u.getProvider("app-check-internal");return new th(o,c,p,r,Ce.SDK_VERSION)}!function m0(){(0,Ce._registerComponent)(new ve.wA("storage",o_,"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(t_,"0.11.2",""),(0,Ce.registerVersion)(t_,"0.11.2","esm2017")}();class em{constructor(r,o,c){this._delegate=r,this.task=o,this.ref=c}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class mc{constructor(r,o){this._delegate=r,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new em(this._delegate.snapshot,this,this._ref)}then(r,o){return this._delegate.then(c=>{if(r)return r(new em(c,this,this._ref))},o)}on(r,o,c,p){let w;return o&&(w="function"==typeof o?A=>o(new em(A,this,this._ref)):{next:o.next?A=>o.next(new em(A,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(r,w,c||void 0,p||void 0)}}class yc{constructor(r,o){this._delegate=r,this._service=o}get prefixes(){return this._delegate.prefixes.map(r=>new Ua(r,this._service))}get items(){return this._delegate.items.map(r=>new Ua(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ua{constructor(r,o){this._delegate=r,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const o=function Qg(u,r){return eh(u,r)}(this._delegate,r);return new Ua(o,this.storage)}get root(){return new Ua(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new Ua(r,this.storage)}put(r,o){return this._throwIfRoot("put"),new mc(function i_(u,r,o){return function qg(u,r,o){return u._throwIfRoot("uploadBytesResumable"),new Dy(u,new po(r),o)}(u=(0,U.m9)(u),r,o)}(this._delegate,r,o),this)}putString(r,o=ra.RAW,c){this._throwIfRoot("putString");const p=jg(o,r),w=Object.assign({},c);return null==w.contentType&&null!=p.contentType&&(w.contentType=p.contentType),new mc(new Dy(this._delegate,new po(p.data,!0),w),this)}listAll(){return function xy(u){return function Xv(u){const r={prefixes:[],items:[]};return Xd(u,r).then(()=>r)}(u=(0,U.m9)(u))}(this._delegate).then(r=>new yc(r,this.storage))}list(r){return function Ry(u,r){return Jd(u=(0,U.m9)(u),r)}(this._delegate,r||void 0).then(o=>new yc(o,this.storage))}getMetadata(){return function g0(u){return function Jv(u){u._throwIfRoot("getMetadata");const r=l0(u.storage,u._location,Mu());return u.storage.makeRequestWithTokens(r,ql)}(u=(0,U.m9)(u))}(this._delegate)}updateMetadata(r){return function My(u,r){return function df(u,r){u._throwIfRoot("updateMetadata");const o=function c0(u,r,o,c){const w=Wl(r.fullServerUrl(),u.host,u._protocol),$=_y(o,c),ue=u.maxOperationRetryTime,Ye=new Kl(w,"PATCH",Hg(u,c),ue);return Ye.headers={"Content-Type":"application/json; charset=utf-8"},Ye.body=$,Ye.errorHandler=zg(r),Ye}(u.storage,u._location,r,Mu());return u.storage.makeRequestWithTokens(o,ql)}(u=(0,U.m9)(u),r)}(this._delegate,r)}getDownloadURL(){return function Py(u){return cd(u=(0,U.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function s_(u){return function Ty(u){u._throwIfRoot("deleteObject");const r=function od(u,r){const c=Wl(r.fullServerUrl(),u.host,u._protocol),$=new Kl(c,"DELETE",function A(X,ue){},u.maxOperationRetryTime);return $.successCodes=[200,204],$.errorHandler=zg(r),$}(u.storage,u._location);return u.storage.makeRequestWithTokens(r,ql)}(u=(0,U.m9)(u))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw Uv(r)}}class Yl{constructor(r,o){this.app=r,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(vc(r))throw qd("ref() expected a child path but got a URL, use refFromURL instead.");return new Ua(Zg(this._delegate,r),this)}refFromURL(r){if(!vc(r))throw qd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qo.makeFromUrl(r,this._delegate.host)}catch{throw qd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ua(Zg(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,o,c={}){!function Jg(u,r,o,c={}){!function Ay(u,r,o,c={}){u.host=`${r}:${o}`,u._protocol="http";const{mockUserToken:p}=c;p&&(u._overrideAuthToken="string"==typeof p?p:(0,U.Sg)(p,u.app.options.projectId))}(u,r,o,c)}(this._delegate,r,o,c)}}function vc(u){return/^[A-Za-z]+:\/\//.test(u)}function nh(u,{instanceIdentifier:r}){const o=u.getProvider("app-compat").getImmediate(),c=u.getProvider("storage").getImmediate({identifier:r});return new Yl(o,c)}function tm(u){const r=function _0(u){return new fr.y(r=>{const o=A=>r.next(A);o(u.snapshot);const w=u.on("state_changed",o);return u.then(A=>{o(A),r.complete()},A=>{o(u.snapshot),(A=>{r.error(A)})(A)}),function(){w()}}).pipe(function oy(u,r=Xs.z){return(0,Gs.e)((o,c)=>{let p=null,w=null,A=null;const $=()=>{if(p){p.unsubscribe(),p=null;const ue=w;w=null,c.next(ue)}};function X(){const ue=A+u,Ye=r.now();if(Ye<ue)return p=this.schedule(void 0,ue-Ye),void c.add(p);$()}o.subscribe((0,vs.x)(c,ue=>{w=ue,A=r.now(),p||(p=r.schedule(X,u),c.add(p))},()=>{$(),c.complete()},void 0,()=>{w=p=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,Fn.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Ny(u){return{getDownloadURL:()=>(0,Ki.of)(void 0).pipe(be.fc,(0,zs.w)(()=>u.getDownloadURL()),be.iC),getMetadata:()=>(0,Ki.of)(void 0).pipe(be.fc,(0,zs.w)(()=>u.getMetadata()),be.iC),delete:()=>(0,Kd.D)(u.delete()),child:r=>Ny(u.child(r)),updateMetadata:r=>(0,Kd.D)(u.updateMetadata(r)),put:(r,o)=>tm(u.put(r,o)),putString:(r,o,c)=>tm(u.putString(r,o,c)),list:r=>(0,Kd.D)(u.list(r)),listAll:()=>(0,Kd.D)(u.listAll())}}!function Oy(u){const r={TaskState:To,TaskEvent:d0,StringFormat:ra,Storage:Yl,Reference:Ua};u.INTERNAL.registerComponent(new ve.wA("storage-compat",nh,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(qt.Z);const AE=new g.OlP("angularfire2.storageBucket"),E0=new g.OlP("angularfire2.storage.maxUploadRetryTime"),w0=new g.OlP("angularfire2.storage.maxOperationRetryTime"),a_=new g.OlP("angularfire2.storage.use-emulator");let I0=(()=>{class u{constructor(o,c,p,w,A,$,X,ue,Ye,at){const Et=(0,os.on)(o,A,c);this.storage=(0,os.cc)(`${Et.name}.storage.${p}`,"AngularFireStorage",Et.name,()=>{const Ft=A.runOutsideAngular(()=>Et.storage(p||void 0)),Kt=Ye;return Kt&&Ft.useEmulator(...Kt),X&&Ft.setMaxUploadRetryTime(X),ue&&Ft.setMaxOperationRetryTime(ue),Ft},[X,ue])}ref(o){return Ny(this.storage.ref(o))}refFromURL(o){return Ny(this.storage.refFromURL(o))}upload(o,c,p){return Ny(this.storage.ref(o)).put(c,p)}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(os.Dh),g.LFG(os.xv,8),g.LFG(AE,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(be.HU),g.LFG(E0,8),g.LFG(w0,8),g.LFG(a_,8),g.LFG(De.nm,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),rh=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({}),u})(),ky=(()=>{class u{constructor(){Su.Z.registerVersion("angularfire",be.q4.full,"gcs-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[I0],imports:[rh]}),u})();class C0{}class l_{}const _c="*";function S0(u,r=null){return{type:2,steps:u,options:r}}function T0(u){return{type:6,styles:u,offset:null}}function wc(u){Promise.resolve().then(u)}class ja{constructor(r=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const o="start"==r?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class Dl{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let o=0,c=0,p=0;const w=this.players.length;0==w?wc(()=>this._onFinish()):this.players.forEach(A=>{A.onDone(()=>{++o==w&&this._onFinish()}),A.onDestroy(()=>{++c==w&&this._onDestroy()}),A.onStart(()=>{++p==w&&this._onStart()})}),this.totalTime=this.players.reduce((A,$)=>Math.max(A,$.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const o=r*this.totalTime;this.players.forEach(c=>{const p=c.totalTime?Math.min(1,o/c.totalTime):1;c.setPosition(p)})}getPosition(){const r=this.players.reduce((o,c)=>null===o||c.totalTime>o.totalTime?c:o,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const o="start"==r?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}const sl="!";function Fy(u){return new g.vHH(3e3,!1)}function gf(u){switch(u.length){case 0:return new ja;case 1:return u[0];default:return new Dl(u)}}function PE(u,r,o,c,p=new Map,w=new Map){const A=[],$=[];let X=-1,ue=null;if(c.forEach(Ye=>{const at=Ye.get("offset"),Et=at==X,Ft=Et&&ue||new Map;Ye.forEach((Kt,cn)=>{let xn=cn,Fr=Kt;if("offset"!==cn)switch(xn=r.normalizePropertyName(xn,A),Fr){case sl:Fr=p.get(cn);break;case _c:Fr=w.get(cn);break;default:Fr=r.normalizeStyleValue(cn,xn,Fr,A)}Ft.set(xn,Fr)}),Et||$.push(Ft),ue=Ft,X=at}),A.length)throw function xi(u){return new g.vHH(3502,!1)}();return $}function k0(u,r,o,c){switch(r){case"start":u.onStart(()=>c(o&&F0(o,"start",u)));break;case"done":u.onDone(()=>c(o&&F0(o,"done",u)));break;case"destroy":u.onDestroy(()=>c(o&&F0(o,"destroy",u)))}}function F0(u,r,o){const c=o.totalTime,w=L0(u.element,u.triggerName,u.fromState,u.toState,r||u.phaseName,null==c?u.totalTime:c,!!o.disabled),A=u._data;return null!=A&&(w._data=A),w}function L0(u,r,o,c,p="",w=0,A){return{element:u,triggerName:r,fromState:o,toState:c,phaseName:p,totalTime:w,disabled:!!A}}function Zl(u,r,o){let c=u.get(r);return c||u.set(r,c=o),c}function OE(u){const r=u.indexOf(":");return[u.substring(1,r),u.slice(r+1)]}const Rw=(()=>typeof document>"u"?null:document.documentElement)();function B0(u){const r=u.parentNode||u.host||null;return r===Rw?null:r}let Ap=null,$0=!1;function V0(u,r){for(;r;){if(r===u)return!0;r=B0(r)}return!1}function U0(u,r,o){if(o)return Array.from(u.querySelectorAll(r));const c=u.querySelector(r);return c?[c]:[]}let j0=(()=>{class u{validateStyleProperty(o){return function NE(u){Ap||(Ap=function kE(){return typeof document<"u"?document.body:null}()||{},$0=!!Ap.style&&"WebkitAppearance"in Ap.style);let r=!0;return Ap.style&&!function xw(u){return"ebkit"==u.substring(1,6)}(u)&&(r=u in Ap.style,!r&&$0&&(r="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Ap.style)),r}(o)}matchesElement(o,c){return!1}containsElement(o,c){return V0(o,c)}getParentElement(o){return B0(o)}query(o,c,p){return U0(o,c,p)}computeStyle(o,c,p){return p||""}animate(o,c,p,w,A,$=[],X){return new ja(p,w)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),c_=(()=>{class u{}return u.NOOP=new j0,u})();const FE=1e3,z0="ng-enter",d_="ng-leave",sh="ng-trigger",G0=".ng-trigger",h_="ng-animating",LE=".ng-animating";function dd(u){if("number"==typeof u)return u;const r=u.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:f_(parseFloat(r[1]),r[2])}function f_(u,r){return"s"===r?u*FE:u}function W0(u,r,o){return u.hasOwnProperty("duration")?u:function $r(u,r,o){let p,w=0,A="";if("string"==typeof u){const $=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===$)return r.push(Fy()),{duration:0,delay:0,easing:""};p=f_(parseFloat($[1]),$[2]);const X=$[3];null!=X&&(w=f_(parseFloat(X),$[4]));const ue=$[5];ue&&(A=ue)}else p=u;if(!o){let $=!1,X=r.length;p<0&&(r.push(function O0(){return new g.vHH(3100,!1)}()),$=!0),w<0&&(r.push(function N0(){return new g.vHH(3101,!1)}()),$=!0),$&&r.splice(X,0,Fy())}return{duration:p,delay:w,easing:A}}(u,r,o)}function Ly(u,r={}){return Object.keys(u).forEach(o=>{r[o]=u[o]}),r}function BE(u){const r=new Map;return Object.keys(u).forEach(o=>{r.set(o,u[o])}),r}function mf(u,r=new Map,o){if(o)for(let[c,p]of o)r.set(c,p);for(let[c,p]of u)r.set(c,p);return r}function Ql(u,r,o){r.forEach((c,p)=>{const w=g_(p);o&&!o.has(p)&&o.set(p,u.style[w]),u.style[w]=c})}function hd(u,r){r.forEach((o,c)=>{const p=g_(c);u.style[p]=""})}function Ys(u){return Array.isArray(u)?1==u.length?u[0]:S0(u):u}const p_=new RegExp("{{\\s*(.+?)\\s*}}","g");function K0(u){let r=[];if("string"==typeof u){let o;for(;o=p_.exec(u);)r.push(o[1]);p_.lastIndex=0}return r}function By(u,r,o){const c=u.toString(),p=c.replace(p_,(w,A)=>{let $=r[A];return null==$&&(o.push(function xE(u){return new g.vHH(3003,!1)}()),$=""),$.toString()});return p==c?u:p}function $y(u){const r=[];let o=u.next();for(;!o.done;)r.push(o.value),o=u.next();return r}const $E=/-+([a-z0-9])/g;function g_(u){return u.replace($E,(...r)=>r[1].toUpperCase())}function Xl(u,r,o){switch(r.type){case 7:return u.visitTrigger(r,o);case 0:return u.visitState(r,o);case 1:return u.visitTransition(r,o);case 2:return u.visitSequence(r,o);case 3:return u.visitGroup(r,o);case 4:return u.visitAnimate(r,o);case 5:return u.visitKeyframes(r,o);case 6:return u.visitStyle(r,o);case 8:return u.visitReference(r,o);case 9:return u.visitAnimateChild(r,o);case 10:return u.visitAnimateRef(r,o);case 11:return u.visitQuery(r,o);case 12:return u.visitStagger(r,o);default:throw function nm(u){return new g.vHH(3004,!1)}()}}function rm(u,r){return window.getComputedStyle(u)[r]}const Vy="*";function Vw(u,r){const o=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(c=>function Uy(u,r,o){if(":"==u[0]){const X=function jy(u,r){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,c)=>parseFloat(c)>parseFloat(o);case":decrement":return(o,c)=>parseFloat(c)<parseFloat(o);default:return r.push(function wn(u){return new g.vHH(3016,!1)}()),"* => *"}}(u,o);if("function"==typeof X)return void r.push(X);u=X}const c=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return o.push(function Xt(u){return new g.vHH(3015,!1)}()),r;const p=c[1],w=c[2],A=c[3];r.push(VE(p,A));"<"==w[0]&&!(p==Vy&&A==Vy)&&r.push(VE(A,p))}(c,o,r)):o.push(u),o}const m_=new Set(["true","1"]),y_=new Set(["false","0"]);function VE(u,r){const o=m_.has(u)||y_.has(u),c=m_.has(r)||y_.has(r);return(p,w)=>{let A=u==Vy||u==p,$=r==Vy||r==w;return!A&&o&&"boolean"==typeof p&&(A=p?m_.has(u):y_.has(u)),!$&&c&&"boolean"==typeof w&&($=w?m_.has(r):y_.has(r)),A&&$}}const UE=new RegExp("s*:selfs*,?","g");function v_(u,r,o,c){return new HE(u).build(r,o,c)}class HE{constructor(r){this._driver=r}build(r,o,c){const p=new GI(o);return this._resetContextStyleTimingState(p),Xl(this,Ys(r),p)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,o){let c=o.queryCount=0,p=o.depCount=0;const w=[],A=[];return"@"==r.name.charAt(0)&&o.errors.push(function e(){return new g.vHH(3006,!1)}()),r.definitions.forEach($=>{if(this._resetContextStyleTimingState(o),0==$.type){const X=$,ue=X.name;ue.toString().split(/\s*,\s*/).forEach(Ye=>{X.name=Ye,w.push(this.visitState(X,o))}),X.name=ue}else if(1==$.type){const X=this.visitTransition($,o);c+=X.queryCount,p+=X.depCount,A.push(X)}else o.errors.push(function t(){return new g.vHH(3007,!1)}())}),{type:7,name:r.name,states:w,transitions:A,queryCount:c,depCount:p,options:null}}visitState(r,o){const c=this.visitStyle(r.styles,o),p=r.options&&r.options.params||null;if(c.containsDynamicStyles){const w=new Set,A=p||{};c.styles.forEach($=>{$ instanceof Map&&$.forEach(X=>{K0(X).forEach(ue=>{A.hasOwnProperty(ue)||w.add(ue)})})}),w.size&&($y(w.values()),o.errors.push(function l(u,r){return new g.vHH(3008,!1)}()))}return{type:0,name:r.name,style:c,options:p?{params:p}:null}}visitTransition(r,o){o.queryCount=0,o.depCount=0;const c=Xl(this,Ys(r.animation),o);return{type:1,matchers:Vw(r.expr,o.errors),animation:c,queryCount:o.queryCount,depCount:o.depCount,options:im(r.options)}}visitSequence(r,o){return{type:2,steps:r.steps.map(c=>Xl(this,c,o)),options:im(r.options)}}visitGroup(r,o){const c=o.currentTime;let p=0;const w=r.steps.map(A=>{o.currentTime=c;const $=Xl(this,A,o);return p=Math.max(p,o.currentTime),$});return o.currentTime=p,{type:3,steps:w,options:im(r.options)}}visitAnimate(r,o){const c=function KI(u,r){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return __(W0(u,r).duration,0,"");const o=u;if(o.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=__(0,0,"");return w.dynamic=!0,w.strValue=o,w}const p=W0(o,r);return __(p.duration,p.delay,p.easing)}(r.timings,o.errors);o.currentAnimateTimings=c;let p,w=r.styles?r.styles:T0({});if(5==w.type)p=this.visitKeyframes(w,o);else{let A=r.styles,$=!1;if(!A){$=!0;const ue={};c.easing&&(ue.easing=c.easing),A=T0(ue)}o.currentTime+=c.duration+c.delay;const X=this.visitStyle(A,o);X.isEmptyStep=$,p=X}return o.currentAnimateTimings=null,{type:4,timings:c,style:p,options:null}}visitStyle(r,o){const c=this._makeStyleAst(r,o);return this._validateStyleAst(c,o),c}_makeStyleAst(r,o){const c=[],p=Array.isArray(r.styles)?r.styles:[r.styles];for(let $ of p)"string"==typeof $?$===_c?c.push($):o.errors.push(new g.vHH(3002,!1)):c.push(BE($));let w=!1,A=null;return c.forEach($=>{if($ instanceof Map&&($.has("easing")&&(A=$.get("easing"),$.delete("easing")),!w))for(let X of $.values())if(X.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:c,easing:A,offset:r.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(r,o){const c=o.currentAnimateTimings;let p=o.currentTime,w=o.currentTime;c&&w>0&&(w-=c.duration+c.delay),r.styles.forEach(A=>{"string"!=typeof A&&A.forEach(($,X)=>{const ue=o.collectedStyles.get(o.currentQuerySelector),Ye=ue.get(X);let at=!0;Ye&&(w!=p&&w>=Ye.startTime&&p<=Ye.endTime&&(o.errors.push(function E(u,r,o,c,p){return new g.vHH(3010,!1)}()),at=!1),w=Ye.startTime),at&&ue.set(X,{startTime:w,endTime:p}),o.options&&function UI(u,r,o){const c=r.params||{},p=K0(u);p.length&&p.forEach(w=>{c.hasOwnProperty(w)||o.push(function RE(u){return new g.vHH(3001,!1)}())})}($,o.options,o.errors)})})}visitKeyframes(r,o){const c={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function k(){return new g.vHH(3011,!1)}()),c;let w=0;const A=[];let $=!1,X=!1,ue=0;const Ye=r.steps.map(Fr=>{const ni=this._makeStyleAst(Fr,o);let Ii=null!=ni.offset?ni.offset:function WI(u){if("string"==typeof u)return null;let r=null;if(Array.isArray(u))u.forEach(o=>{if(o instanceof Map&&o.has("offset")){const c=o;r=parseFloat(c.get("offset")),c.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const o=u;r=parseFloat(o.get("offset")),o.delete("offset")}return r}(ni.styles),hi=0;return null!=Ii&&(w++,hi=ni.offset=Ii),X=X||hi<0||hi>1,$=$||hi<ue,ue=hi,A.push(hi),ni});X&&o.errors.push(function Y(){return new g.vHH(3012,!1)}()),$&&o.errors.push(function se(){return new g.vHH(3200,!1)}());const at=r.steps.length;let Et=0;w>0&&w<at?o.errors.push(function Se(){return new g.vHH(3202,!1)}()):0==w&&(Et=1/(at-1));const Ft=at-1,Kt=o.currentTime,cn=o.currentAnimateTimings,xn=cn.duration;return Ye.forEach((Fr,ni)=>{const Ii=Et>0?ni==Ft?1:Et*ni:A[ni],hi=Ii*xn;o.currentTime=Kt+cn.delay+hi,cn.duration=hi,this._validateStyleAst(Fr,o),Fr.offset=Ii,c.styles.push(Fr)}),c}visitReference(r,o){return{type:8,animation:Xl(this,Ys(r.animation),o),options:im(r.options)}}visitAnimateChild(r,o){return o.depCount++,{type:9,options:im(r.options)}}visitAnimateRef(r,o){return{type:10,animation:this.visitReference(r.animation,o),options:im(r.options)}}visitQuery(r,o){const c=o.currentQuerySelector,p=r.options||{};o.queryCount++,o.currentQuery=r;const[w,A]=function Uw(u){const r=!!u.split(/\s*,\s*/).find(o=>":self"==o);return r&&(u=u.replace(UE,"")),u=u.replace(/@\*/g,G0).replace(/@\w+/g,o=>G0+"-"+o.slice(1)).replace(/:animating/g,LE),[u,r]}(r.selector);o.currentQuerySelector=c.length?c+" "+w:w,Zl(o.collectedStyles,o.currentQuerySelector,new Map);const $=Xl(this,Ys(r.animation),o);return o.currentQuery=null,o.currentQuerySelector=c,{type:11,selector:w,limit:p.limit||0,optional:!!p.optional,includeSelf:A,animation:$,originalSelector:r.selector,options:im(r.options)}}visitStagger(r,o){o.currentQuery||o.errors.push(function nt(){return new g.vHH(3013,!1)}());const c="full"===r.timings?{duration:0,delay:0,easing:"full"}:W0(r.timings,o.errors,!0);return{type:12,animation:Xl(this,Ys(r.animation),o),timings:c,options:null}}}class GI{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function im(u){return u?(u=Ly(u)).params&&(u.params=function jw(u){return u?Ly(u):null}(u.params)):u={},u}function __(u,r,o){return{duration:u,delay:r,easing:o}}function sm(u,r,o,c,p,w,A=null,$=!1){return{type:1,element:u,keyframes:r,preStyleProps:o,postStyleProps:c,duration:p,delay:w,totalTime:p+w,easing:A,subTimeline:$}}class E_{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,o){let c=this._map.get(r);c||this._map.set(r,c=[]),c.push(...o)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const Hy=new RegExp(":enter","g"),Gw=new RegExp(":leave","g");function Z0(u,r,o,c,p,w=new Map,A=new Map,$,X,ue=[]){return(new Ww).buildKeyframes(u,r,o,c,p,w,A,$,X,ue)}class Ww{buildKeyframes(r,o,c,p,w,A,$,X,ue,Ye=[]){ue=ue||new E_;const at=new X0(r,o,ue,p,w,Ye,[]);at.options=X;const Et=X.delay?dd(X.delay):0;at.currentTimeline.delayNextStep(Et),at.currentTimeline.setStyles([A],null,at.errors,X),Xl(this,c,at);const Ft=at.timelines.filter(Kt=>Kt.containsAnimation());if(Ft.length&&$.size){let Kt;for(let cn=Ft.length-1;cn>=0;cn--){const xn=Ft[cn];if(xn.element===o){Kt=xn;break}}Kt&&!Kt.allowOnlyTimelineStyles()&&Kt.setStyles([$],null,at.errors,X)}return Ft.length?Ft.map(Kt=>Kt.buildKeyframes()):[sm(o,[],[],[],0,Et,"",!1)]}visitTrigger(r,o){}visitState(r,o){}visitTransition(r,o){}visitAnimateChild(r,o){const c=o.subInstructions.get(o.element);if(c){const p=o.createSubContext(r.options),w=o.currentTimeline.currentTime,A=this._visitSubInstructions(c,p,p.options);w!=A&&o.transformIntoNewTimeline(A)}o.previousNode=r}visitAnimateRef(r,o){const c=o.createSubContext(r.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],o,c),this.visitReference(r.animation,c),o.transformIntoNewTimeline(c.currentTimeline.currentTime),o.previousNode=r}_applyAnimationRefDelays(r,o,c){for(const w of r){const A=null==w?void 0:w.delay;if(A){var p;const $="number"==typeof A?A:dd(By(A,null!==(p=null==w?void 0:w.params)&&void 0!==p?p:{},o.errors));c.delayNextStep($)}}}_visitSubInstructions(r,o,c){let w=o.currentTimeline.currentTime;const A=null!=c.duration?dd(c.duration):null,$=null!=c.delay?dd(c.delay):null;return 0!==A&&r.forEach(X=>{const ue=o.appendInstructionToTimeline(X,A,$);w=Math.max(w,ue.duration+ue.delay)}),w}visitReference(r,o){o.updateOptions(r.options,!0),Xl(this,r.animation,o),o.previousNode=r}visitSequence(r,o){const c=o.subContextCount;let p=o;const w=r.options;if(w&&(w.params||w.delay)&&(p=o.createSubContext(w),p.transformIntoNewTimeline(),null!=w.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=Q0);const A=dd(w.delay);p.delayNextStep(A)}r.steps.length&&(r.steps.forEach(A=>Xl(this,A,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>c&&p.transformIntoNewTimeline()),o.previousNode=r}visitGroup(r,o){const c=[];let p=o.currentTimeline.currentTime;const w=r.options&&r.options.delay?dd(r.options.delay):0;r.steps.forEach(A=>{const $=o.createSubContext(r.options);w&&$.delayNextStep(w),Xl(this,A,$),p=Math.max(p,$.currentTimeline.currentTime),c.push($.currentTimeline)}),c.forEach(A=>o.currentTimeline.mergeTimelineCollectedStyles(A)),o.transformIntoNewTimeline(p),o.previousNode=r}_visitTiming(r,o){if(r.dynamic){const c=r.strValue;return W0(o.params?By(c,o.params,o.errors):c,o.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,o){const c=o.currentAnimateTimings=this._visitTiming(r.timings,o),p=o.currentTimeline;c.delay&&(o.incrementTime(c.delay),p.snapshotCurrentStyles());const w=r.style;5==w.type?this.visitKeyframes(w,o):(o.incrementTime(c.duration),this.visitStyle(w,o),p.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=r}visitStyle(r,o){const c=o.currentTimeline,p=o.currentAnimateTimings;!p&&c.hasCurrentStyleProperties()&&c.forwardFrame();const w=p&&p.easing||r.easing;r.isEmptyStep?c.applyEmptyStep(w):c.setStyles(r.styles,w,o.errors,o.options),o.previousNode=r}visitKeyframes(r,o){const c=o.currentAnimateTimings,p=o.currentTimeline.duration,w=c.duration,$=o.createSubContext().currentTimeline;$.easing=c.easing,r.styles.forEach(X=>{$.forwardTime((X.offset||0)*w),$.setStyles(X.styles,X.easing,o.errors,o.options),$.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles($),o.transformIntoNewTimeline(p+w),o.previousNode=r}visitQuery(r,o){const c=o.currentTimeline.currentTime,p=r.options||{},w=p.delay?dd(p.delay):0;w&&(6===o.previousNode.type||0==c&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Q0);let A=c;const $=o.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!p.optional,o.errors);o.currentQueryTotal=$.length;let X=null;$.forEach((ue,Ye)=>{o.currentQueryIndex=Ye;const at=o.createSubContext(r.options,ue);w&&at.delayNextStep(w),ue===o.element&&(X=at.currentTimeline),Xl(this,r.animation,at),at.currentTimeline.applyStylesToKeyframe(),A=Math.max(A,at.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(A),X&&(o.currentTimeline.mergeTimelineCollectedStyles(X),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=r}visitStagger(r,o){const c=o.parentContext,p=o.currentTimeline,w=r.timings,A=Math.abs(w.duration),$=A*(o.currentQueryTotal-1);let X=A*o.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":X=$-X;break;case"full":X=c.currentStaggerTime}const Ye=o.currentTimeline;X&&Ye.delayNextStep(X);const at=Ye.currentTime;Xl(this,r.animation,o),o.previousNode=r,c.currentStaggerTime=p.currentTime-at+(p.startTime-c.currentTimeline.startTime)}}const Q0={};class X0{constructor(r,o,c,p,w,A,$,X){this._driver=r,this.element=o,this.subInstructions=c,this._enterClassName=p,this._leaveClassName=w,this.errors=A,this.timelines=$,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Q0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=X||new zy(this._driver,o,0),$.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,o){if(!r)return;const c=r;let p=this.options;null!=c.duration&&(p.duration=dd(c.duration)),null!=c.delay&&(p.delay=dd(c.delay));const w=c.params;if(w){let A=p.params;A||(A=this.options.params={}),Object.keys(w).forEach($=>{(!o||!A.hasOwnProperty($))&&(A[$]=By(w[$],A,this.errors))})}}_copyOptions(){const r={};if(this.options){const o=this.options.params;if(o){const c=r.params={};Object.keys(o).forEach(p=>{c[p]=o[p]})}}return r}createSubContext(r=null,o,c){const p=o||this.element,w=new X0(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,c||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(r),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(r){return this.previousNode=Q0,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,o,c){const p={duration:null!=o?o:r.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+r.delay,easing:""},w=new Kw(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,p,r.stretchStartingKeyframe);return this.timelines.push(w),p}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,o,c,p,w,A){let $=[];if(p&&$.push(this.element),r.length>0){r=(r=r.replace(Hy,"."+this._enterClassName)).replace(Gw,"."+this._leaveClassName);let ue=this._driver.query(this.element,r,1!=c);0!==c&&(ue=c<0?ue.slice(ue.length+c,ue.length):ue.slice(0,c)),$.push(...ue)}return!w&&0==$.length&&A.push(function kt(u){return new g.vHH(3014,!1)}()),$}}class zy{constructor(r,o,c,p){this._driver=r,this.element=o,this.startTime=c,this._elementTimelineStylesLookup=p,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+r),o&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,o){return this.applyStylesToKeyframe(),new zy(this._driver,r,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,o){this._localTimelineStyles.set(r,o),this._globalTimelineStyles.set(r,o),this._styleSummary.set(r,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[o,c]of this._globalTimelineStyles)this._backFill.set(o,c||_c),this._currentKeyframe.set(o,_c);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,o,c,p){o&&this._previousKeyframe.set("easing",o);const w=p&&p.params||{},A=function Gy(u,r){const o=new Map;let c;return u.forEach(p=>{if("*"===p){c=c||r.keys();for(let w of c)o.set(w,_c)}else mf(p,o)}),o}(r,this._globalTimelineStyles);for(let[X,ue]of A){const Ye=By(ue,w,c);var $;this._pendingStyles.set(X,Ye),this._localTimelineStyles.has(X)||this._backFill.set(X,null!==($=this._globalTimelineStyles.get(X))&&void 0!==$?$:_c),this._updateStyle(X,Ye)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,o)=>{this._currentKeyframe.set(o,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,r)}))}snapshotCurrentStyles(){for(let[r,o]of this._localTimelineStyles)this._pendingStyles.set(r,o),this._updateStyle(r,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let o in this._currentKeyframe)r.push(o);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((o,c)=>{const p=this._styleSummary.get(c);(!p||o.time>p.time)&&this._updateStyle(c,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,o=new Set,c=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach(($,X)=>{const ue=mf($,new Map,this._backFill);ue.forEach((Ye,at)=>{Ye===sl?r.add(at):Ye===_c&&o.add(at)}),c||ue.set("offset",X/this.duration),p.push(ue)});const w=r.size?$y(r.values()):[],A=o.size?$y(o.values()):[];if(c){const $=p[0],X=new Map($);$.set("offset",0),X.set("offset",1),p=[$,X]}return sm(this.element,p,w,A,this.duration,this.startTime,this.easing,!1)}}class Kw extends zy{constructor(r,o,c,p,w,A,$=!1){super(r,o,A.delay),this.keyframes=c,this.preStyleProps=p,this.postStyleProps=w,this._stretchStartingKeyframe=$,this.timings={duration:A.duration,delay:A.delay,easing:A.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:o,duration:c,easing:p}=this.timings;if(this._stretchStartingKeyframe&&o){const w=[],A=c+o,$=o/A,X=mf(r[0]);X.set("offset",0),w.push(X);const ue=mf(r[0]);ue.set("offset",GE($)),w.push(ue);const Ye=r.length-1;for(let at=1;at<=Ye;at++){let Et=mf(r[at]);const Ft=Et.get("offset");Et.set("offset",GE((o+Ft*c)/A)),w.push(Et)}c=A,o=0,p="",r=w}return sm(this.element,r,this.preStyleProps,this.postStyleProps,c,o,p,!0)}}function GE(u,r=3){const o=Math.pow(10,r-1);return Math.round(u*o)/o}class w_{}const WE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qw extends w_{normalizePropertyName(r,o){return g_(r)}normalizeStyleValue(r,o,c,p){let w="";const A=c.toString().trim();if(WE.has(o)&&0!==c&&"0"!==c)if("number"==typeof c)w="px";else{const $=c.match(/^[+-]?[\d\.]+([a-z]*)$/);$&&0==$[1].length&&p.push(function s(u,r){return new g.vHH(3005,!1)}())}return A+w}}function J0(u,r,o,c,p,w,A,$,X,ue,Ye,at,Et){return{type:0,element:u,triggerName:r,isRemovalTransition:p,fromState:o,fromStyles:w,toState:c,toStyles:A,timelines:$,queriedElements:X,preStyleProps:ue,postStyleProps:Ye,totalTime:at,errors:Et}}const eE={};class I_{constructor(r,o,c){this._triggerName=r,this.ast=o,this._stateStyles=c}match(r,o,c,p){return function KE(u,r,o,c,p){return u.some(w=>w(r,o,c,p))}(this.ast.matchers,r,o,c,p)}buildStyles(r,o,c){let p=this._stateStyles.get("*");return void 0!==r&&(p=this._stateStyles.get(null==r?void 0:r.toString())||p),p?p.buildStyles(o,c):new Map}build(r,o,c,p,w,A,$,X,ue,Ye){var at;const Et=[],Ft=this.ast.options&&this.ast.options.params||eE,cn=this.buildStyles(c,$&&$.params||eE,Et),xn=X&&X.params||eE,Fr=this.buildStyles(p,xn,Et),ni=new Set,Ii=new Map,hi=new Map,ol="void"===p,al={params:qE(xn,Ft),delay:null===(at=this.ast.options)||void 0===at?void 0:at.delay},fa=Ye?[]:Z0(r,o,this.ast.animation,w,A,cn,Fr,al,ue,Et);let Zo=0;if(fa.forEach(Cc=>{Zo=Math.max(Cc.duration+Cc.delay,Zo)}),Et.length)return J0(o,this._triggerName,c,p,ol,cn,Fr,[],[],Ii,hi,Zo,Et);fa.forEach(Cc=>{const lm=Cc.element,qy=Zl(Ii,lm,new Set);Cc.preStyleProps.forEach(xp=>qy.add(xp));const Yy=Zl(hi,lm,new Set);Cc.postStyleProps.forEach(xp=>Yy.add(xp)),lm!==o&&ni.add(lm)});const yf=$y(ni.values());return J0(o,this._triggerName,c,p,ol,cn,Fr,fa,yf,Ii,hi,Zo)}}function qE(u,r){const o=Ly(r);for(const c in u)u.hasOwnProperty(c)&&null!=u[c]&&(o[c]=u[c]);return o}class Yw{constructor(r,o,c){this.styles=r,this.defaultParams=o,this.normalizer=c}buildStyles(r,o){const c=new Map,p=Ly(this.defaultParams);return Object.keys(r).forEach(w=>{const A=r[w];null!==A&&(p[w]=A)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((A,$)=>{A&&(A=By(A,p,o));const X=this.normalizer.normalizePropertyName($,o);A=this.normalizer.normalizeStyleValue($,X,A,o),c.set($,A)})}),c}}class Qw{constructor(r,o,c){this.name=r,this.ast=o,this._normalizer=c,this.transitionFactories=[],this.states=new Map,o.states.forEach(p=>{this.states.set(p.name,new Yw(p.style,p.options&&p.options.params||{},c))}),YE(this.states,"true","1"),YE(this.states,"false","0"),o.transitions.forEach(p=>{this.transitionFactories.push(new I_(r,p,this.states))}),this.fallbackTransition=function tE(u,r,o){return new I_(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(A,$)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,o,c,p){return this.transitionFactories.find(A=>A.match(r,o,c,p))||null}matchStyles(r,o,c){return this.fallbackTransition.buildStyles(r,o,c)}}function YE(u,r,o){u.has(r)?u.has(o)||u.set(o,u.get(r)):u.has(o)&&u.set(r,u.get(o))}const ZE=new E_;class Xw{constructor(r,o,c){this.bodyNode=r,this._driver=o,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,o){const c=[],w=v_(this._driver,o,c,[]);if(c.length)throw function ui(u){return new g.vHH(3503,!1)}();this._animations.set(r,w)}_buildPlayer(r,o,c){const p=r.element,w=PE(0,this._normalizer,0,r.keyframes,o,c);return this._driver.animate(p,w,r.duration,r.delay,r.easing,[],!0)}create(r,o,c={}){const p=[],w=this._animations.get(r);let A;const $=new Map;if(w?(A=Z0(this._driver,o,w,z0,d_,new Map,new Map,c,ZE,p),A.forEach(Ye=>{const at=Zl($,Ye.element,new Map);Ye.postStyleProps.forEach(Et=>at.set(Et,null))})):(p.push(function ko(){return new g.vHH(3300,!1)}()),A=[]),p.length)throw function Ao(u){return new g.vHH(3504,!1)}();$.forEach((Ye,at)=>{Ye.forEach((Et,Ft)=>{Ye.set(Ft,this._driver.computeStyle(at,Ft,_c))})});const ue=gf(A.map(Ye=>{const at=$.get(Ye.element);return this._buildPlayer(Ye,new Map,at)}));return this._playersById.set(r,ue),ue.onDestroy(()=>this.destroy(r)),this.players.push(ue),ue}destroy(r){const o=this._getPlayer(r);o.destroy(),this._playersById.delete(r);const c=this.players.indexOf(o);c>=0&&this.players.splice(c,1)}_getPlayer(r){const o=this._playersById.get(r);if(!o)throw function ks(u){return new g.vHH(3301,!1)}();return o}listen(r,o,c,p){const w=L0(o,"","","");return k0(this._getPlayer(r),c,w,p),()=>{}}command(r,o,c,p){if("register"==c)return void this.register(r,p[0]);if("create"==c)return void this.create(r,o,p[0]||{});const w=this._getPlayer(r);switch(c){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(r)}}}const QE="ng-animate-queued",nE="ng-animate-disabled",rI=[],rE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nu="__ng_removed";class iE{get params(){return this.options.params}constructor(r,o=""){this.namespaceId=o;const c=r&&r.hasOwnProperty("value");if(this.value=function JE(u){return null!=u?u:null}(c?r.value:r),c){const w=Ly(r);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const o=r.params;if(o){const c=this.options.params;Object.keys(o).forEach(p=>{null==c[p]&&(c[p]=o[p])})}}}const om="void",sE=new iE(om);class iI{constructor(r,o,c){this.id=r,this.hostElement=o,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Jl(o,this._hostClassName)}listen(r,o,c,p){if(!this._triggers.has(o))throw function Sa(u,r){return new g.vHH(3302,!1)}();if(null==c||0==c.length)throw function ih(u){return new g.vHH(3303,!1)}();if(!function oI(u){return"start"==u||"done"==u}(c))throw function u_(u,r){return new g.vHH(3400,!1)}();const w=Zl(this._elementListeners,r,[]),A={name:o,phase:c,callback:p};w.push(A);const $=Zl(this._engine.statesByElement,r,new Map);return $.has(o)||(Jl(r,sh),Jl(r,sh+"-"+o),$.set(o,sE)),()=>{this._engine.afterFlush(()=>{const X=w.indexOf(A);X>=0&&w.splice(X,1),this._triggers.has(o)||$.delete(o)})}}register(r,o){return!this._triggers.has(r)&&(this._triggers.set(r,o),!0)}_getTrigger(r){const o=this._triggers.get(r);if(!o)throw function Sw(u){return new g.vHH(3401,!1)}();return o}trigger(r,o,c,p=!0){const w=this._getTrigger(o),A=new Wy(this.id,o,r);let $=this._engine.statesByElement.get(r);$||(Jl(r,sh),Jl(r,sh+"-"+o),this._engine.statesByElement.set(r,$=new Map));let X=$.get(o);const ue=new iE(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&X&&ue.absorbOptions(X.options),$.set(o,ue),X||(X=sE),ue.value!==om&&X.value===ue.value){if(!function aE(u,r){const o=Object.keys(u),c=Object.keys(r);if(o.length!=c.length)return!1;for(let p=0;p<o.length;p++){const w=o[p];if(!r.hasOwnProperty(w)||u[w]!==r[w])return!1}return!0}(X.params,ue.params)){const cn=[],xn=w.matchStyles(X.value,X.params,cn),Fr=w.matchStyles(ue.value,ue.params,cn);cn.length?this._engine.reportError(cn):this._engine.afterFlush(()=>{hd(r,xn),Ql(r,Fr)})}return}const Et=Zl(this._engine.playersByElement,r,[]);Et.forEach(cn=>{cn.namespaceId==this.id&&cn.triggerName==o&&cn.queued&&cn.destroy()});let Ft=w.matchTransition(X.value,ue.value,r,ue.params),Kt=!1;if(!Ft){if(!p)return;Ft=w.fallbackTransition,Kt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:o,transition:Ft,fromState:X,toState:ue,player:A,isFallbackTransition:Kt}),Kt||(Jl(r,QE),A.onStart(()=>{Ic(r,QE)})),A.onDone(()=>{let cn=this.players.indexOf(A);cn>=0&&this.players.splice(cn,1);const xn=this._engine.playersByElement.get(r);if(xn){let Fr=xn.indexOf(A);Fr>=0&&xn.splice(Fr,1)}}),this.players.push(A),Et.push(A),A}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(o=>o.delete(r)),this._elementListeners.forEach((o,c)=>{this._elementListeners.set(c,o.filter(p=>p.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const o=this._engine.playersByElement.get(r);o&&(o.forEach(c=>c.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,o){const c=this._engine.driver.query(r,G0,!0);c.forEach(p=>{if(p[Nu])return;const w=this._engine.fetchNamespacesByElement(p);w.size?w.forEach(A=>A.triggerLeaveAnimation(p,o,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(r,o,c,p){const w=this._engine.statesByElement.get(r),A=new Map;if(w){const $=[];if(w.forEach((X,ue)=>{if(A.set(ue,X.value),this._triggers.has(ue)){const Ye=this.trigger(r,ue,om,p);Ye&&$.push(Ye)}}),$.length)return this._engine.markElementAsRemoved(this.id,r,!0,o,A),c&&gf($).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const o=this._elementListeners.get(r),c=this._engine.statesByElement.get(r);if(o&&c){const p=new Set;o.forEach(w=>{const A=w.name;if(p.has(A))return;p.add(A);const X=this._triggers.get(A).fallbackTransition,ue=c.get(A)||sE,Ye=new iE(om),at=new Wy(this.id,A,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:A,transition:X,fromState:ue,toState:Ye,player:at,isFallbackTransition:!0})})}}removeNode(r,o){const c=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,o),this.triggerLeaveAnimation(r,o,!0))return;let p=!1;if(c.totalAnimations){const w=c.players.length?c.playersByQueriedElement.get(r):[];if(w&&w.length)p=!0;else{let A=r;for(;A=A.parentNode;)if(c.statesByElement.get(A)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(r),p)c.markElementAsRemoved(this.id,r,!1,o);else{const w=r[Nu];(!w||w===rE)&&(c.afterFlush(()=>this.clearElementCache(r)),c.destroyInnerAnimations(r),c._onRemovalComplete(r,o))}}insertNode(r,o){Jl(r,this._hostClassName)}drainQueuedTransitions(r){const o=[];return this._queue.forEach(c=>{const p=c.player;if(p.destroyed)return;const w=c.element,A=this._elementListeners.get(w);A&&A.forEach($=>{if($.name==c.triggerName){const X=L0(w,c.triggerName,c.fromState.value,c.toState.value);X._data=r,k0(c.player,$.phase,X,$.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):o.push(c)}),this._queue=[],o.sort((c,p)=>{const w=c.transition.ast.depCount,A=p.transition.ast.depCount;return 0==w||0==A?w-A:this._engine.driver.containsElement(c.element,p.element)?1:-1})}destroy(r){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let o=!1;return this._elementListeners.has(r)&&(o=!0),o=!!this._queue.find(c=>c.element===r)||o,o}}class sI{_onRemovalComplete(r,o){this.onRemovalComplete(r,o)}constructor(r,o,c){this.bodyNode=r,this.driver=o,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,w)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(o=>{o.players.forEach(c=>{c.queued&&r.push(c)})}),r}createNamespace(r,o){const c=new iI(r,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(c,o):(this.newHostElements.set(o,c),this.collectEnterElement(o)),this._namespaceLookup[r]=c}_balanceNamespaceList(r,o){const c=this._namespaceList,p=this.namespacesByHostElement;if(c.length-1>=0){let A=!1,$=this.driver.getParentElement(o);for(;$;){const X=p.get($);if(X){const ue=c.indexOf(X);c.splice(ue+1,0,r),A=!0;break}$=this.driver.getParentElement($)}A||c.unshift(r)}else c.push(r);return p.set(o,r),r}register(r,o){let c=this._namespaceLookup[r];return c||(c=this.createNamespace(r,o)),c}registerTrigger(r,o,c){let p=this._namespaceLookup[r];p&&p.register(o,c)&&this.totalAnimations++}destroy(r,o){if(!r)return;const c=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[r];const p=this._namespaceList.indexOf(c);p>=0&&this._namespaceList.splice(p,1)}),this.afterFlushAnimationsDone(()=>c.destroy(o))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const o=new Set,c=this.statesByElement.get(r);if(c)for(let p of c.values())if(p.namespaceId){const w=this._fetchNamespace(p.namespaceId);w&&o.add(w)}return o}trigger(r,o,c,p){if(am(o)){const w=this._fetchNamespace(r);if(w)return w.trigger(o,c,p),!0}return!1}insertNode(r,o,c,p){if(!am(o))return;const w=o[Nu];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const A=this.collectedLeaveElements.indexOf(o);A>=0&&this.collectedLeaveElements.splice(A,1)}if(r){const A=this._fetchNamespace(r);A&&A.insertNode(o,c)}p&&this.collectEnterElement(o)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,o){o?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Jl(r,nE)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Ic(r,nE))}removeNode(r,o,c,p){if(am(o)){const w=r?this._fetchNamespace(r):null;if(w?w.removeNode(o,p):this.markElementAsRemoved(r,o,!1,p),c){const A=this.namespacesByHostElement.get(o);A&&A.id!==r&&A.removeNode(o,p)}}else this._onRemovalComplete(o,p)}markElementAsRemoved(r,o,c,p,w){this.collectedLeaveElements.push(o),o[Nu]={namespaceId:r,setForRemoval:p,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:w}}listen(r,o,c,p,w){return am(o)?this._fetchNamespace(r).listen(o,c,p,w):()=>{}}_buildInstruction(r,o,c,p,w){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,c,p,r.fromState.options,r.toState.options,o,w)}destroyInnerAnimations(r){let o=this.driver.query(r,G0,!0);o.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(r,LE,!0),o.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(r){const o=this.playersByElement.get(r);o&&o.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(r){const o=this.playersByQueriedElement.get(r);o&&o.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return gf(this.players).onDone(()=>r());r()})}processLeaveNode(r){var o;const c=r[Nu];if(c&&c.setForRemoval){if(r[Nu]=rE,c.namespaceId){this.destroyInnerAnimations(r);const p=this._fetchNamespace(c.namespaceId);p&&p.clearElementCache(r)}this._onRemovalComplete(r,c.setForRemoval)}null!==(o=r.classList)&&void 0!==o&&o.contains(nE)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(r=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,p)=>this._balanceNamespaceList(c,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Jl(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{o=this._flushAnimations(c,r)}finally{for(let p=0;p<c.length;p++)c[p]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],o.length?gf(o).onDone(()=>{c.forEach(p=>p())}):c.forEach(p=>p())}}reportError(r){throw function Tw(u){return new g.vHH(3402,!1)}()}_flushAnimations(r,o){const c=new E_,p=[],w=new Map,A=[],$=new Map,X=new Map,ue=new Map,Ye=new Set;this.disabledNodes.forEach(yr=>{Ye.add(yr);const Or=this.driver.query(yr,".ng-animate-queued",!0);for(let Vr=0;Vr<Or.length;Vr++)Ye.add(Or[Vr])});const at=this.bodyNode,Et=Array.from(this.statesByElement.keys()),Ft=tw(Et,this.collectedEnterElements),Kt=new Map;let cn=0;Ft.forEach((yr,Or)=>{const Vr=z0+cn++;Kt.set(Or,Vr),yr.forEach(Di=>Jl(Di,Vr))});const xn=[],Fr=new Set,ni=new Set;for(let yr=0;yr<this.collectedLeaveElements.length;yr++){const Or=this.collectedLeaveElements[yr],Vr=Or[Nu];Vr&&Vr.setForRemoval&&(xn.push(Or),Fr.add(Or),Vr.hasAnimation?this.driver.query(Or,".ng-star-inserted",!0).forEach(Di=>Fr.add(Di)):ni.add(Or))}const Ii=new Map,hi=tw(Et,Array.from(Fr));hi.forEach((yr,Or)=>{const Vr=d_+cn++;Ii.set(Or,Vr),yr.forEach(Di=>Jl(Di,Vr))}),r.push(()=>{Ft.forEach((yr,Or)=>{const Vr=Kt.get(Or);yr.forEach(Di=>Ic(Di,Vr))}),hi.forEach((yr,Or)=>{const Vr=Ii.get(Or);yr.forEach(Di=>Ic(Di,Vr))}),xn.forEach(yr=>{this.processLeaveNode(yr)})});const ol=[],al=[];for(let yr=this._namespaceList.length-1;yr>=0;yr--)this._namespaceList[yr].drainQueuedTransitions(o).forEach(Vr=>{const Di=Vr.player,mo=Vr.element;if(ol.push(Di),this.collectedEnterElements.length){const pa=mo[Nu];if(pa&&pa.setForMove){if(pa.previousTriggersValues&&pa.previousTriggersValues.has(Vr.triggerName)){const ah=pa.previousTriggersValues.get(Vr.triggerName),tu=this.statesByElement.get(Vr.element);if(tu&&tu.has(Vr.triggerName)){const um=tu.get(Vr.triggerName);um.value=ah,tu.set(Vr.triggerName,um)}}return void Di.destroy()}}const bc=!at||!this.driver.containsElement(at,mo),eu=Ii.get(mo),oh=Kt.get(mo),yo=this._buildInstruction(Vr,c,oh,eu,bc);if(yo.errors&&yo.errors.length)return void al.push(yo);if(bc)return Di.onStart(()=>hd(mo,yo.fromStyles)),Di.onDestroy(()=>Ql(mo,yo.toStyles)),void p.push(Di);if(Vr.isFallbackTransition)return Di.onStart(()=>hd(mo,yo.fromStyles)),Di.onDestroy(()=>Ql(mo,yo.toStyles)),void p.push(Di);const yw=[];yo.timelines.forEach(pa=>{pa.stretchStartingKeyframe=!0,this.disabledNodes.has(pa.element)||yw.push(pa)}),yo.timelines=yw,c.append(mo,yo.timelines),A.push({instruction:yo,player:Di,element:mo}),yo.queriedElements.forEach(pa=>Zl($,pa,[]).push(Di)),yo.preStyleProps.forEach((pa,ah)=>{if(pa.size){let tu=X.get(ah);tu||X.set(ah,tu=new Set),pa.forEach((um,Qy)=>tu.add(Qy))}}),yo.postStyleProps.forEach((pa,ah)=>{let tu=ue.get(ah);tu||ue.set(ah,tu=new Set),pa.forEach((um,Qy)=>tu.add(Qy))})});if(al.length){const yr=[];al.forEach(Or=>{yr.push(function Aw(u,r){return new g.vHH(3505,!1)}())}),ol.forEach(Or=>Or.destroy()),this.reportError(yr)}const fa=new Map,Zo=new Map;A.forEach(yr=>{const Or=yr.element;c.has(Or)&&(Zo.set(Or,Or),this._beforeAnimationBuild(yr.player.namespaceId,yr.instruction,fa))}),p.forEach(yr=>{const Or=yr.element;this._getPreviousPlayers(Or,!1,yr.namespaceId,yr.triggerName,null).forEach(Di=>{Zl(fa,Or,[]).push(Di),Di.destroy()})});const yf=xn.filter(yr=>b_(yr,X,ue)),Cc=new Map;C_(Cc,this.driver,ni,ue,_c).forEach(yr=>{b_(yr,X,ue)&&yf.push(yr)});const qy=new Map;Ft.forEach((yr,Or)=>{C_(qy,this.driver,new Set(yr),X,sl)}),yf.forEach(yr=>{var Or,Vr;const Di=Cc.get(yr),mo=qy.get(yr);Cc.set(yr,new Map([...Array.from(null!==(Or=null==Di?void 0:Di.entries())&&void 0!==Or?Or:[]),...Array.from(null!==(Vr=null==mo?void 0:mo.entries())&&void 0!==Vr?Vr:[])]))});const Yy=[],xp=[],Zy={};A.forEach(yr=>{const{element:Or,player:Vr,instruction:Di}=yr;if(c.has(Or)){if(Ye.has(Or))return Vr.onDestroy(()=>Ql(Or,Di.toStyles)),Vr.disabled=!0,Vr.overrideTotalTime(Di.totalTime),void p.push(Vr);let mo=Zy;if(Zo.size>1){let eu=Or;const oh=[];for(;eu=eu.parentNode;){const yo=Zo.get(eu);if(yo){mo=yo;break}oh.push(eu)}oh.forEach(yo=>Zo.set(yo,mo))}const bc=this._buildAnimation(Vr.namespaceId,Di,fa,w,qy,Cc);if(Vr.setRealPlayer(bc),mo===Zy)Yy.push(Vr);else{const eu=this.playersByElement.get(mo);eu&&eu.length&&(Vr.parentPlayer=gf(eu)),p.push(Vr)}}else hd(Or,Di.fromStyles),Vr.onDestroy(()=>Ql(Or,Di.toStyles)),xp.push(Vr),Ye.has(Or)&&p.push(Vr)}),xp.forEach(yr=>{const Or=w.get(yr.element);if(Or&&Or.length){const Vr=gf(Or);yr.setRealPlayer(Vr)}}),p.forEach(yr=>{yr.parentPlayer?yr.syncPlayerEvents(yr.parentPlayer):yr.destroy()});for(let yr=0;yr<xn.length;yr++){const Or=xn[yr],Vr=Or[Nu];if(Ic(Or,d_),Vr&&Vr.hasAnimation)continue;let Di=[];if($.size){let bc=$.get(Or);bc&&bc.length&&Di.push(...bc);let eu=this.driver.query(Or,LE,!0);for(let oh=0;oh<eu.length;oh++){let yo=$.get(eu[oh]);yo&&yo.length&&Di.push(...yo)}}const mo=Di.filter(bc=>!bc.destroyed);mo.length?nw(this,Or,mo):this.processLeaveNode(Or)}return xn.length=0,Yy.forEach(yr=>{this.players.push(yr),yr.onDone(()=>{yr.destroy();const Or=this.players.indexOf(yr);this.players.splice(Or,1)}),yr.play()}),Yy}elementContainsData(r,o){let c=!1;const p=o[Nu];return p&&p.setForRemoval&&(c=!0),this.playersByElement.has(o)&&(c=!0),this.playersByQueriedElement.has(o)&&(c=!0),this.statesByElement.has(o)&&(c=!0),this._fetchNamespace(r).elementContainsData(o)||c}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,o,c,p,w){let A=[];if(o){const $=this.playersByQueriedElement.get(r);$&&(A=$)}else{const $=this.playersByElement.get(r);if($){const X=!w||w==om;$.forEach(ue=>{ue.queued||!X&&ue.triggerName!=p||A.push(ue)})}}return(c||p)&&(A=A.filter($=>!(c&&c!=$.namespaceId||p&&p!=$.triggerName))),A}_beforeAnimationBuild(r,o,c){const w=o.element,A=o.isRemovalTransition?void 0:r,$=o.isRemovalTransition?void 0:o.triggerName;for(const X of o.timelines){const ue=X.element,Ye=ue!==w,at=Zl(c,ue,[]);this._getPreviousPlayers(ue,Ye,A,$,o.toState).forEach(Ft=>{const Kt=Ft.getRealPlayer();Kt.beforeDestroy&&Kt.beforeDestroy(),Ft.destroy(),at.push(Ft)})}hd(w,o.fromStyles)}_buildAnimation(r,o,c,p,w,A){const $=o.triggerName,X=o.element,ue=[],Ye=new Set,at=new Set,Et=o.timelines.map(Kt=>{const cn=Kt.element;Ye.add(cn);const xn=cn[Nu];if(xn&&xn.removedBeforeQueried)return new ja(Kt.duration,Kt.delay);const Fr=cn!==X,ni=function aI(u){const r=[];return lI(u,r),r}((c.get(cn)||rI).map(fa=>fa.getRealPlayer())).filter(fa=>!!fa.element&&fa.element===cn),Ii=w.get(cn),hi=A.get(cn),ol=PE(0,this._normalizer,0,Kt.keyframes,Ii,hi),al=this._buildPlayer(Kt,ol,ni);if(Kt.subTimeline&&p&&at.add(cn),Fr){const fa=new Wy(r,$,cn);fa.setRealPlayer(al),ue.push(fa)}return al});ue.forEach(Kt=>{Zl(this.playersByQueriedElement,Kt.element,[]).push(Kt),Kt.onDone(()=>function oE(u,r,o){let c=u.get(r);if(c){if(c.length){const p=c.indexOf(o);c.splice(p,1)}0==c.length&&u.delete(r)}return c}(this.playersByQueriedElement,Kt.element,Kt))}),Ye.forEach(Kt=>Jl(Kt,h_));const Ft=gf(Et);return Ft.onDestroy(()=>{Ye.forEach(Kt=>Ic(Kt,h_)),Ql(X,o.toStyles)}),at.forEach(Kt=>{Zl(p,Kt,[]).push(Ft)}),Ft}_buildPlayer(r,o,c){return o.length>0?this.driver.animate(r.element,o,r.duration,r.delay,r.easing,c):new ja(r.duration,r.delay)}}class Wy{constructor(r,o,c){this.namespaceId=r,this.triggerName=o,this.element=c,this._player=new ja,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((o,c)=>{o.forEach(p=>k0(r,c,void 0,p))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const o=this._player;o.triggerCallback&&r.onStart(()=>o.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,o){Zl(this._queuedCallbacks,r,[]).push(o)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const o=this._player;o.triggerCallback&&o.triggerCallback(r)}}function am(u){return u&&1===u.nodeType}function ew(u,r){const o=u.style.display;return u.style.display=null!=r?r:"none",o}function C_(u,r,o,c,p){const w=[];o.forEach(X=>w.push(ew(X)));const A=[];c.forEach((X,ue)=>{const Ye=new Map;X.forEach(at=>{const Et=r.computeStyle(ue,at,p);Ye.set(at,Et),(!Et||0==Et.length)&&(ue[Nu]=XE,A.push(ue))}),u.set(ue,Ye)});let $=0;return o.forEach(X=>ew(X,w[$++])),A}function tw(u,r){const o=new Map;if(u.forEach($=>o.set($,[])),0==r.length)return o;const c=1,p=new Set(r),w=new Map;function A($){if(!$)return c;let X=w.get($);if(X)return X;const ue=$.parentNode;return X=o.has(ue)?ue:p.has(ue)?c:A(ue),w.set($,X),X}return r.forEach($=>{const X=A($);X!==c&&o.get(X).push($)}),o}function Jl(u,r){var o;null===(o=u.classList)||void 0===o||o.add(r)}function Ic(u,r){var o;null===(o=u.classList)||void 0===o||o.remove(r)}function nw(u,r,o){gf(o).onDone(()=>u.processLeaveNode(r))}function lI(u,r){for(let o=0;o<u.length;o++){const c=u[o];c instanceof Dl?lI(c.players,r):r.push(c)}}function b_(u,r,o){const c=o.get(u);if(!c)return!1;let p=r.get(u);return p?c.forEach(w=>p.add(w)):r.set(u,c),o.delete(u),!0}class D_{constructor(r,o,c){this.bodyNode=r,this._driver=o,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(p,w)=>{},this._transitionEngine=new sI(r,o,c),this._timelineEngine=new Xw(r,o,c),this._transitionEngine.onRemovalComplete=(p,w)=>this.onRemovalComplete(p,w)}registerTrigger(r,o,c,p,w){const A=r+"-"+p;let $=this._triggerCache[A];if(!$){const X=[],Ye=v_(this._driver,w,X,[]);if(X.length)throw function ei(u,r){return new g.vHH(3404,!1)}();$=function Zw(u,r,o){return new Qw(u,r,o)}(p,Ye,this._normalizer),this._triggerCache[A]=$}this._transitionEngine.registerTrigger(o,p,$)}register(r,o){this._transitionEngine.register(r,o)}destroy(r,o){this._transitionEngine.destroy(r,o)}onInsert(r,o,c,p){this._transitionEngine.insertNode(r,o,c,p)}onRemove(r,o,c,p){this._transitionEngine.removeNode(r,o,p||!1,c)}disableAnimations(r,o){this._transitionEngine.markElementAsDisabled(r,o)}process(r,o,c,p){if("@"==c.charAt(0)){const[w,A]=OE(c);this._timelineEngine.command(w,o,A,p)}else this._transitionEngine.trigger(r,o,c,p)}listen(r,o,c,p,w){if("@"==c.charAt(0)){const[A,$]=OE(c);return this._timelineEngine.listen(A,o,$,w)}return this._transitionEngine.listen(r,o,c,p,w)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let iw=(()=>{class u{constructor(o,c,p){this._element=o,this._startStyles=c,this._endStyles=p,this._state=0;let w=u.initialStylesByElement.get(o);w||u.initialStylesByElement.set(o,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&Ql(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ql(this._element,this._initialStyles),this._endStyles&&(Ql(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(hd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hd(this._element,this._endStyles),this._endStyles=null),Ql(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function lE(u){let r=null;return u.forEach((o,c)=>{(function sw(u){return"display"===u||"position"===u})(c)&&(r=r||new Map,r.set(c,o))}),r}class S_{constructor(r,o,c,p){this.element=r,this.keyframes=o,this.options=c,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const o=[];return r.forEach(c=>{o.push(Object.fromEntries(c))}),o}_triggerWebAnimation(r,o,c){return r.animate(this._convertKeyframesToObject(o),c)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,p)=>{"offset"!==p&&r.set(p,this._finished?c:rm(this.element,p))}),this.currentSnapshot=r}triggerCallback(r){const o="start"===r?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class ow{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,o){return!1}containsElement(r,o){return V0(r,o)}getParentElement(r){return B0(r)}query(r,o,c){return U0(r,o,c)}computeStyle(r,o,c){return window.getComputedStyle(r)[o]}animate(r,o,c,p,w,A=[]){const X={duration:c,delay:p,fill:0==p?"both":"forwards"};w&&(X.easing=w);const ue=new Map,Ye=A.filter(Ft=>Ft instanceof S_);(function Fw(u,r){return 0===u||0===r})(c,p)&&Ye.forEach(Ft=>{Ft.currentSnapshot.forEach((Kt,cn)=>ue.set(cn,Kt))});let at=function Nw(u){return u.length?u[0]instanceof Map?u:u.map(r=>BE(r)):[]}(o).map(Ft=>mf(Ft));at=function Lw(u,r,o){if(o.size&&r.length){let c=r[0],p=[];if(o.forEach((w,A)=>{c.has(A)||p.push(A),c.set(A,w)}),p.length)for(let w=1;w<r.length;w++){let A=r[w];p.forEach($=>A.set($,rm(u,$)))}}return r}(r,at,ue);const Et=function rw(u,r){let o=null,c=null;return Array.isArray(r)&&r.length?(o=lE(r[0]),r.length>1&&(c=lE(r[r.length-1]))):r instanceof Map&&(o=lE(r)),o||c?new iw(u,o,c):null}(r,at);return new S_(r,at,X,Et)}}let aw=(()=>{class u extends C0{constructor(o,c){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(c.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(o){const c=this._nextAnimationId.toString();this._nextAnimationId++;const p=Array.isArray(o)?S0(o):o;return cw(this._renderer,null,c,"register",[p]),new lw(c,this._renderer)}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(g.FYo),g.LFG(mi.K0))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})();class lw extends l_{constructor(r,o){super(),this._id=r,this._renderer=o}create(r,o){return new uw(this._id,r,o||{},this._renderer)}}class uw{constructor(r,o,c,p){this.id=r,this.element=o,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(r,o){return this._renderer.listen(this.element,`@@${this.id}:${r}`,o)}_command(r,...o){return cw(this._renderer,this.element,this.id,r,o)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,o;return null!==(r=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==r?r:0}}function cw(u,r,o,c,p){return u.setProperty(r,`@@${o}:${c}`,p)}const dw="@.disabled";let uI=(()=>{class u{constructor(o,c,p){this.delegate=o,this.engine=c,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(w,A)=>{const $=null==A?void 0:A.parentNode(w);$&&A.removeChild($,w)}}createRenderer(o,c){const w=this.delegate.createRenderer(o,c);if(!(o&&c&&c.data&&c.data.animation)){let Ye=this._rendererCache.get(w);return Ye||(Ye=new uE("",w,this.engine,()=>this._rendererCache.delete(w)),this._rendererCache.set(w,Ye)),Ye}const A=c.id,$=c.id+"-"+this._currentId;this._currentId++,this.engine.register($,o);const X=Ye=>{Array.isArray(Ye)?Ye.forEach(X):this.engine.registerTrigger(A,$,o,Ye.name,Ye)};return c.data.animation.forEach(X),new QI(this,$,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,c,p){o>=0&&o<this._microtaskId?this._zone.run(()=>c(p)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(w=>{const[A,$]=w;A($)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,p]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(g.FYo),g.LFG(D_),g.LFG(g.R0b))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})();class uE{constructor(r,o,c,p){this.namespaceId=r,this.delegate=o,this.engine=c,this._onDestroy=p,this.destroyNode=this.delegate.destroyNode?w=>o.destroyNode(w):null}get data(){return this.delegate.data}destroy(){var r;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(r=this._onDestroy)||void 0===r||r.call(this)}createElement(r,o){return this.delegate.createElement(r,o)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,o){this.delegate.appendChild(r,o),this.engine.onInsert(this.namespaceId,o,r,!1)}insertBefore(r,o,c,p=!0){this.delegate.insertBefore(r,o,c),this.engine.onInsert(this.namespaceId,o,r,p)}removeChild(r,o,c){this.engine.onRemove(this.namespaceId,o,this.delegate,c)}selectRootElement(r,o){return this.delegate.selectRootElement(r,o)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,o,c,p){this.delegate.setAttribute(r,o,c,p)}removeAttribute(r,o,c){this.delegate.removeAttribute(r,o,c)}addClass(r,o){this.delegate.addClass(r,o)}removeClass(r,o){this.delegate.removeClass(r,o)}setStyle(r,o,c,p){this.delegate.setStyle(r,o,c,p)}removeStyle(r,o,c){this.delegate.removeStyle(r,o,c)}setProperty(r,o,c){"@"==o.charAt(0)&&o==dw?this.disableAnimations(r,!!c):this.delegate.setProperty(r,o,c)}setValue(r,o){this.delegate.setValue(r,o)}listen(r,o,c){return this.delegate.listen(r,o,c)}disableAnimations(r,o){this.engine.disableAnimations(r,o)}}class QI extends uE{constructor(r,o,c,p,w){super(o,c,p,w),this.factory=r,this.namespaceId=o}setProperty(r,o,c){"@"==o.charAt(0)?"."==o.charAt(1)&&o==dw?this.disableAnimations(r,c=void 0===c||!!c):this.engine.process(this.namespaceId,r,o.slice(1),c):this.delegate.setProperty(r,o,c)}listen(r,o,c){if("@"==o.charAt(0)){const p=function hw(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(r);let w=o.slice(1),A="";return"@"!=w.charAt(0)&&([w,A]=function cI(u){const r=u.indexOf(".");return[u.substring(0,r),u.slice(r+1)]}(w)),this.engine.listen(this.namespaceId,p,w,A,$=>{this.factory.scheduleListenerCallback($._data||-1,c,$)})}return this.delegate.listen(r,o,c)}}const fw=[{provide:C0,useClass:aw},{provide:w_,useFactory:function XI(){return new qw}},{provide:D_,useClass:(()=>{class u extends D_{constructor(o,c,p,w){super(o.body,c,p)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(mi.K0),g.LFG(c_),g.LFG(w_),g.LFG(g.z2F))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:g.FYo,useFactory:function hI(u,r,o){return new uI(u,r,o)},deps:[y.se,D_,g.R0b]}],cE=[{provide:c_,useFactory:()=>new ow},{provide:g.QbO,useValue:"BrowserAnimations"},...fw],pw=[{provide:c_,useClass:j0},{provide:g.QbO,useValue:"NoopAnimations"},...fw];let fI=(()=>{class u{static withConfig(o){return{ngModule:u,providers:o.disableAnimations?pw:cE}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:cE,imports:[y.b2]}),u})();const dE_firebase={projectId:"app3alarma",appId:"1:8095028083:web:96e5b0d643fdaa7f702b06",storageBucket:"app3alarma.appspot.com",locationId:"us-central",apiKey:"AIzaSyAFmUx-1FmcLBfHBMv-3XheagBNElki7qY",authDomain:"app3alarma.firebaseapp.com",messagingSenderId:"8095028083"};var pI=L(6118),gI=L(83),mI=L(2720),Ky=L(5789),gw=L(5089),hE=L(5030);let mw=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u,bootstrap:[ss]}),u.\u0275inj=g.cJS({providers:[Bs,Hs,pI.e,gI.S,mI.y,Ky.w,gw.E,sy.yb,{provide:ie.wN,useClass:me.r4}],imports:[y.b2,me.Pc.forRoot(),Xo,hE.u5,os.hO.initializeApp(dE_firebase),as.ww,Sv,Bv,sy.yb,fI,ky,hE.UX,(0,we.hX)(()=>(0,we.ZF)(dE_firebase)),_t(()=>He()),fi(()=>Ni())]}),u})();(0,g.G48)(),y.q6().bootstrapModule(mw).catch(u=>console.log(u))},1135:(ln,ut,L)=>{"use strict";L.d(ut,{X:()=>g});var y=L(7579);class g extends y.x{constructor(me){super(),this._value=me}get value(){return this.getValue()}_subscribe(me){const be=super._subscribe(me);return!be.closed&&me.next(this._value),be}getValue(){const{hasError:me,thrownError:be,_value:we}=this;if(me)throw be;return this._throwIfClosed(),we}next(me){super.next(this._value=me)}}},9751:(ln,ut,L)=>{"use strict";L.d(ut,{y:()=>De});var y=L(930),g=L(727),ie=L(8822),me=L(9635),be=L(2416),we=L(576),de=L(2806);let De=(()=>{class Ue{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const qe=new Ue;return qe.source=this,qe.operator=Ve,qe}subscribe(Ve,qe,bt){const Me=function Ce(Ue){return Ue&&Ue instanceof y.Lv||function U(Ue){return Ue&&(0,we.m)(Ue.next)&&(0,we.m)(Ue.error)&&(0,we.m)(Ue.complete)}(Ue)&&(0,g.Nn)(Ue)}(Ve)?Ve:new y.Hp(Ve,qe,bt);return(0,de.x)(()=>{const{operator:Ee,source:vt}=this;Me.add(Ee?Ee.call(Me,vt):vt?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(qe){Ve.error(qe)}}forEach(Ve,qe){return new(qe=$e(qe))((bt,Me)=>{const Ee=new y.Hp({next:vt=>{try{Ve(vt)}catch(it){Me(it),Ee.unsubscribe()}},error:Me,complete:bt});this.subscribe(Ee)})}_subscribe(Ve){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Ve)}[ie.L](){return this}pipe(...Ve){return(0,me.U)(Ve)(this)}toPromise(Ve){return new(Ve=$e(Ve))((qe,bt)=>{let Me;this.subscribe(Ee=>Me=Ee,Ee=>bt(Ee),()=>qe(Me))})}}return Ue.create=ve=>new Ue(ve),Ue})();function $e(Ue){var ve;return null!==(ve=null!=Ue?Ue:be.config.Promise)&&void 0!==ve?ve:Promise}},7579:(ln,ut,L)=>{"use strict";L.d(ut,{x:()=>de});var y=L(9751),g=L(727);const me=(0,L(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=L(8737),we=L(2806);let de=(()=>{class $e extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ce){const Ue=new De(this,this);return Ue.operator=Ce,Ue}_throwIfClosed(){if(this.closed)throw new me}next(Ce){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ue of this.currentObservers)Ue.next(Ce)}})}error(Ce){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ce;const{observers:Ue}=this;for(;Ue.length;)Ue.shift().error(Ce)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ce;return(null===(Ce=this.observers)||void 0===Ce?void 0:Ce.length)>0}_trySubscribe(Ce){return this._throwIfClosed(),super._trySubscribe(Ce)}_subscribe(Ce){return this._throwIfClosed(),this._checkFinalizedStatuses(Ce),this._innerSubscribe(Ce)}_innerSubscribe(Ce){const{hasError:Ue,isStopped:ve,observers:Ve}=this;return Ue||ve?g.Lc:(this.currentObservers=null,Ve.push(Ce),new g.w0(()=>{this.currentObservers=null,(0,be.P)(Ve,Ce)}))}_checkFinalizedStatuses(Ce){const{hasError:Ue,thrownError:ve,isStopped:Ve}=this;Ue?Ce.error(ve):Ve&&Ce.complete()}asObservable(){const Ce=new y.y;return Ce.source=this,Ce}}return $e.create=(U,Ce)=>new De(U,Ce),$e})();class De extends de{constructor(U,Ce){super(),this.destination=U,this.source=Ce}next(U){var Ce,Ue;null===(Ue=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.next)||void 0===Ue||Ue.call(Ce,U)}error(U){var Ce,Ue;null===(Ue=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.error)||void 0===Ue||Ue.call(Ce,U)}complete(){var U,Ce;null===(Ce=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===Ce||Ce.call(U)}_subscribe(U){var Ce,Ue;return null!==(Ue=null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(U))&&void 0!==Ue?Ue:g.Lc}}},930:(ln,ut,L)=>{"use strict";L.d(ut,{Hp:()=>bt,Lv:()=>Ue});var y=L(576),g=L(727),ie=L(2416),me=L(7849),be=L(5032);const we=$e("C",void 0,void 0);function $e(Ge,rt,ft){return{kind:Ge,value:rt,error:ft}}var U=L(3410),Ce=L(2806);class Ue extends g.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,g.Nn)(rt)&&rt.add(this)):this.destination=it}static create(rt,ft,_t){return new bt(rt,ft,_t)}next(rt){this.isStopped?vt(function De(Ge){return $e("N",Ge,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?vt(function de(Ge){return $e("E",void 0,Ge)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?vt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function Ve(Ge,rt){return ve.call(Ge,rt)}class qe{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:ft}=this;if(ft.next)try{ft.next(rt)}catch(_t){Me(_t)}}error(rt){const{partialObserver:ft}=this;if(ft.error)try{ft.error(rt)}catch(_t){Me(_t)}else Me(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(ft){Me(ft)}}}class bt extends Ue{constructor(rt,ft,_t){let Ze;if(super(),(0,y.m)(rt)||!rt)Ze={next:null!=rt?rt:void 0,error:null!=ft?ft:void 0,complete:null!=_t?_t:void 0};else{let xe;this&&ie.config.useDeprecatedNextContext?(xe=Object.create(rt),xe.unsubscribe=()=>this.unsubscribe(),Ze={next:rt.next&&Ve(rt.next,xe),error:rt.error&&Ve(rt.error,xe),complete:rt.complete&&Ve(rt.complete,xe)}):Ze=rt}this.destination=new qe(Ze)}}function Me(Ge){ie.config.useDeprecatedSynchronousErrorHandling?(0,Ce.O)(Ge):(0,me.h)(Ge)}function vt(Ge,rt){const{onStoppedNotification:ft}=ie.config;ft&&U.z.setTimeout(()=>ft(Ge,rt))}const it={closed:!0,next:be.Z,error:function Ee(Ge){throw Ge},complete:be.Z}},727:(ln,ut,L)=>{"use strict";L.d(ut,{Lc:()=>we,w0:()=>be,Nn:()=>de});var y=L(576);const ie=(0,L(3888).d)($e=>function(Ce){$e(this),this.message=Ce?`${Ce.length} errors occurred during unsubscription:\n${Ce.map((Ue,ve)=>`${ve+1}) ${Ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ce});var me=L(8737);class be{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:Ce}=this;if(Ce)if(this._parentage=null,Array.isArray(Ce))for(const Ve of Ce)Ve.remove(this);else Ce.remove(this);const{initialTeardown:Ue}=this;if((0,y.m)(Ue))try{Ue()}catch(Ve){U=Ve instanceof ie?Ve.errors:[Ve]}const{_finalizers:ve}=this;if(ve){this._finalizers=null;for(const Ve of ve)try{De(Ve)}catch(qe){U=null!=U?U:[],qe instanceof ie?U=[...U,...qe.errors]:U.push(qe)}}if(U)throw new ie(U)}}add(U){var Ce;if(U&&U!==this)if(this.closed)De(U);else{if(U instanceof be){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(Ce=this._finalizers)&&void 0!==Ce?Ce:[]).push(U)}}_hasParent(U){const{_parentage:Ce}=this;return Ce===U||Array.isArray(Ce)&&Ce.includes(U)}_addParent(U){const{_parentage:Ce}=this;this._parentage=Array.isArray(Ce)?(Ce.push(U),Ce):Ce?[Ce,U]:U}_removeParent(U){const{_parentage:Ce}=this;Ce===U?this._parentage=null:Array.isArray(Ce)&&(0,me.P)(Ce,U)}remove(U){const{_finalizers:Ce}=this;Ce&&(0,me.P)(Ce,U),U instanceof be&&U._removeParent(this)}}be.EMPTY=(()=>{const $e=new be;return $e.closed=!0,$e})();const we=be.EMPTY;function de($e){return $e instanceof be||$e&&"closed"in $e&&(0,y.m)($e.remove)&&(0,y.m)($e.add)&&(0,y.m)($e.unsubscribe)}function De($e){(0,y.m)($e)?$e():$e.unsubscribe()}},2416:(ln,ut,L)=>{"use strict";L.d(ut,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(ln,ut,L)=>{"use strict";L.d(ut,{z:()=>be});var y=L(8189),ie=L(7669),me=L(8996);function be(...we){return function g(){return(0,y.J)(1)}()((0,me.D)(we,(0,ie.yG)(we)))}},515:(ln,ut,L)=>{"use strict";L.d(ut,{E:()=>g});const g=new(L(9751).y)(be=>be.complete())},8996:(ln,ut,L)=>{"use strict";L.d(ut,{D:()=>rt});var y=L(8421),g=L(5363),ie=L(9468),we=L(9751),De=L(2202),$e=L(576),U=L(9672);function Ue(ft,_t){if(!ft)throw new Error("Iterable cannot be null");return new we.y(Ze=>{(0,U.f)(Ze,_t,()=>{const xe=ft[Symbol.asyncIterator]();(0,U.f)(Ze,_t,()=>{xe.next().then(St=>{St.done?Ze.complete():Ze.next(St.value)})},0,!0)})})}var ve=L(3670),Ve=L(8239),qe=L(1144),bt=L(6495),Me=L(2206),Ee=L(4532),vt=L(3260);function rt(ft,_t){return _t?function Ge(ft,_t){if(null!=ft){if((0,ve.c)(ft))return function me(ft,_t){return(0,y.Xf)(ft).pipe((0,ie.R)(_t),(0,g.Q)(_t))}(ft,_t);if((0,qe.z)(ft))return function de(ft,_t){return new we.y(Ze=>{let xe=0;return _t.schedule(function(){xe===ft.length?Ze.complete():(Ze.next(ft[xe++]),Ze.closed||this.schedule())})})}(ft,_t);if((0,Ve.t)(ft))return function be(ft,_t){return(0,y.Xf)(ft).pipe((0,ie.R)(_t),(0,g.Q)(_t))}(ft,_t);if((0,Me.D)(ft))return Ue(ft,_t);if((0,bt.T)(ft))return function Ce(ft,_t){return new we.y(Ze=>{let xe;return(0,U.f)(Ze,_t,()=>{xe=ft[De.h](),(0,U.f)(Ze,_t,()=>{let St,tt;try{({value:St,done:tt}=xe.next())}catch(pt){return void Ze.error(pt)}tt?Ze.complete():Ze.next(St)},0,!0)}),()=>(0,$e.m)(null==xe?void 0:xe.return)&&xe.return()})}(ft,_t);if((0,vt.L)(ft))return function it(ft,_t){return Ue((0,vt.Q)(ft),_t)}(ft,_t)}throw(0,Ee.z)(ft)}(ft,_t):(0,y.Xf)(ft)}},4968:(ln,ut,L)=>{"use strict";L.d(ut,{R:()=>U});var y=L(8421),g=L(9751),ie=L(5577),me=L(1144),be=L(576),we=L(3268);const de=["addListener","removeListener"],De=["addEventListener","removeEventListener"],$e=["on","off"];function U(qe,bt,Me,Ee){if((0,be.m)(Me)&&(Ee=Me,Me=void 0),Ee)return U(qe,bt,Me).pipe((0,we.Z)(Ee));const[vt,it]=function Ve(qe){return(0,be.m)(qe.addEventListener)&&(0,be.m)(qe.removeEventListener)}(qe)?De.map(Ge=>rt=>qe[Ge](bt,rt,Me)):function Ue(qe){return(0,be.m)(qe.addListener)&&(0,be.m)(qe.removeListener)}(qe)?de.map(Ce(qe,bt)):function ve(qe){return(0,be.m)(qe.on)&&(0,be.m)(qe.off)}(qe)?$e.map(Ce(qe,bt)):[];if(!vt&&(0,me.z)(qe))return(0,ie.z)(Ge=>U(Ge,bt,Me))((0,y.Xf)(qe));if(!vt)throw new TypeError("Invalid event target");return new g.y(Ge=>{const rt=(...ft)=>Ge.next(1<ft.length?ft:ft[0]);return vt(rt),()=>it(rt)})}function Ce(qe,bt){return Me=>Ee=>qe[Me](bt,Ee)}},8421:(ln,ut,L)=>{"use strict";L.d(ut,{Xf:()=>ve});var y=L(655),g=L(1144),ie=L(8239),me=L(9751),be=L(3670),we=L(2206),de=L(4532),De=L(6495),$e=L(3260),U=L(576),Ce=L(7849),Ue=L(8822);function ve(Ge){if(Ge instanceof me.y)return Ge;if(null!=Ge){if((0,be.c)(Ge))return function Ve(Ge){return new me.y(rt=>{const ft=Ge[Ue.L]();if((0,U.m)(ft.subscribe))return ft.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,g.z)(Ge))return function qe(Ge){return new me.y(rt=>{for(let ft=0;ft<Ge.length&&!rt.closed;ft++)rt.next(Ge[ft]);rt.complete()})}(Ge);if((0,ie.t)(Ge))return function bt(Ge){return new me.y(rt=>{Ge.then(ft=>{rt.closed||(rt.next(ft),rt.complete())},ft=>rt.error(ft)).then(null,Ce.h)})}(Ge);if((0,we.D)(Ge))return Ee(Ge);if((0,De.T)(Ge))return function Me(Ge){return new me.y(rt=>{for(const ft of Ge)if(rt.next(ft),rt.closed)return;rt.complete()})}(Ge);if((0,$e.L)(Ge))return function vt(Ge){return Ee((0,$e.Q)(Ge))}(Ge)}throw(0,de.z)(Ge)}function Ee(Ge){return new me.y(rt=>{(function it(Ge,rt){var ft,_t,Ze,xe;return(0,y.mG)(this,void 0,void 0,function*(){try{for(ft=(0,y.KL)(Ge);!(_t=yield ft.next()).done;)if(rt.next(_t.value),rt.closed)return}catch(St){Ze={error:St}}finally{try{_t&&!_t.done&&(xe=ft.return)&&(yield xe.call(ft))}finally{if(Ze)throw Ze.error}}rt.complete()})})(Ge,rt).catch(ft=>rt.error(ft))})}},6451:(ln,ut,L)=>{"use strict";L.d(ut,{T:()=>we});var y=L(8189),g=L(8421),ie=L(515),me=L(7669),be=L(8996);function we(...de){const De=(0,me.yG)(de),$e=(0,me._6)(de,1/0),U=de;return U.length?1===U.length?(0,g.Xf)(U[0]):(0,y.J)($e)((0,be.D)(U,De)):ie.E}},9646:(ln,ut,L)=>{"use strict";L.d(ut,{of:()=>ie});var y=L(7669),g=L(8996);function ie(...me){const be=(0,y.yG)(me);return(0,g.D)(me,be)}},5403:(ln,ut,L)=>{"use strict";L.d(ut,{Q:()=>ie,x:()=>g});var y=L(930);function g(me,be,we,de,De){return new ie(me,be,we,de,De)}class ie extends y.Lv{constructor(be,we,de,De,$e,U){super(be),this.onFinalize=$e,this.shouldUnsubscribe=U,this._next=we?function(Ce){try{we(Ce)}catch(Ue){be.error(Ue)}}:super._next,this._error=De?function(Ce){try{De(Ce)}catch(Ue){be.error(Ue)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(Ce){be.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},6590:(ln,ut,L)=>{"use strict";L.d(ut,{d:()=>ie});var y=L(4482),g=L(5403);function ie(me){return(0,y.e)((be,we)=>{let de=!1;be.subscribe((0,g.x)(we,De=>{de=!0,we.next(De)},()=>{de||we.next(me),we.complete()}))})}},1884:(ln,ut,L)=>{"use strict";L.d(ut,{x:()=>me});var y=L(4671),g=L(4482),ie=L(5403);function me(we,de=y.y){return we=null!=we?we:be,(0,g.e)((De,$e)=>{let U,Ce=!0;De.subscribe((0,ie.x)($e,Ue=>{const ve=de(Ue);(Ce||!we(U,ve))&&(Ce=!1,U=ve,$e.next(Ue))}))})}function be(we,de){return we===de}},9300:(ln,ut,L)=>{"use strict";L.d(ut,{h:()=>ie});var y=L(4482),g=L(5403);function ie(me,be){return(0,y.e)((we,de)=>{let De=0;we.subscribe((0,g.x)(de,$e=>me.call(be,$e,De++)&&de.next($e)))})}},590:(ln,ut,L)=>{"use strict";L.d(ut,{P:()=>de});var y=L(6805),g=L(9300),ie=L(5698),me=L(6590),be=L(8068),we=L(4671);function de(De,$e){const U=arguments.length>=2;return Ce=>Ce.pipe(De?(0,g.h)((Ue,ve)=>De(Ue,ve,Ce)):we.y,(0,ie.q)(1),U?(0,me.d)($e):(0,be.T)(()=>new y.K))}},4004:(ln,ut,L)=>{"use strict";L.d(ut,{U:()=>ie});var y=L(4482),g=L(5403);function ie(me,be){return(0,y.e)((we,de)=>{let De=0;we.subscribe((0,g.x)(de,$e=>{de.next(me.call(be,$e,De++))}))})}},8189:(ln,ut,L)=>{"use strict";L.d(ut,{J:()=>ie});var y=L(5577),g=L(4671);function ie(me=1/0){return(0,y.z)(g.y,me)}},5577:(ln,ut,L)=>{"use strict";L.d(ut,{z:()=>De});var y=L(4004),g=L(8421),ie=L(4482),me=L(9672),be=L(5403),de=L(576);function De($e,U,Ce=1/0){return(0,de.m)(U)?De((Ue,ve)=>(0,y.U)((Ve,qe)=>U(Ue,Ve,ve,qe))((0,g.Xf)($e(Ue,ve))),Ce):("number"==typeof U&&(Ce=U),(0,ie.e)((Ue,ve)=>function we($e,U,Ce,Ue,ve,Ve,qe,bt){const Me=[];let Ee=0,vt=0,it=!1;const Ge=()=>{it&&!Me.length&&!Ee&&U.complete()},rt=_t=>Ee<Ue?ft(_t):Me.push(_t),ft=_t=>{Ve&&U.next(_t),Ee++;let Ze=!1;(0,g.Xf)(Ce(_t,vt++)).subscribe((0,be.x)(U,xe=>{null==ve||ve(xe),Ve?rt(xe):U.next(xe)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Ee--;Me.length&&Ee<Ue;){const xe=Me.shift();qe?(0,me.f)(U,qe,()=>ft(xe)):ft(xe)}Ge()}catch(xe){U.error(xe)}}))};return $e.subscribe((0,be.x)(U,rt,()=>{it=!0,Ge()})),()=>{null==bt||bt()}}(Ue,ve,$e,Ce)))}},5363:(ln,ut,L)=>{"use strict";L.d(ut,{Q:()=>me});var y=L(9672),g=L(4482),ie=L(5403);function me(be,we=0){return(0,g.e)((de,De)=>{de.subscribe((0,ie.x)(De,$e=>(0,y.f)(De,be,()=>De.next($e),we),()=>(0,y.f)(De,be,()=>De.complete(),we),$e=>(0,y.f)(De,be,()=>De.error($e),we)))})}},1520:(ln,ut,L)=>{"use strict";L.d(ut,{G:()=>ie});var y=L(4482),g=L(5403);function ie(){return(0,y.e)((me,be)=>{let we,de=!1;me.subscribe((0,g.x)(be,De=>{const $e=we;we=De,de&&be.next([$e,De]),de=!0}))})}},5026:(ln,ut,L)=>{"use strict";L.d(ut,{R:()=>me});var y=L(4482),g=L(5403);function me(be,we){return(0,y.e)(function ie(be,we,de,De,$e){return(U,Ce)=>{let Ue=de,ve=we,Ve=0;U.subscribe((0,g.x)(Ce,qe=>{const bt=Ve++;ve=Ue?be(ve,qe,bt):(Ue=!0,qe),De&&Ce.next(ve)},$e&&(()=>{Ue&&Ce.next(ve),Ce.complete()})))}}(be,we,arguments.length>=2,!0))}},3099:(ln,ut,L)=>{"use strict";L.d(ut,{B:()=>be});var y=L(8421),g=L(7579),ie=L(930),me=L(4482);function be(de={}){const{connector:De=(()=>new g.x),resetOnError:$e=!0,resetOnComplete:U=!0,resetOnRefCountZero:Ce=!0}=de;return Ue=>{let ve,Ve,qe,bt=0,Me=!1,Ee=!1;const vt=()=>{null==Ve||Ve.unsubscribe(),Ve=void 0},it=()=>{vt(),ve=qe=void 0,Me=Ee=!1},Ge=()=>{const rt=ve;it(),null==rt||rt.unsubscribe()};return(0,me.e)((rt,ft)=>{bt++,!Ee&&!Me&&vt();const _t=qe=null!=qe?qe:De();ft.add(()=>{bt--,0===bt&&!Ee&&!Me&&(Ve=we(Ge,Ce))}),_t.subscribe(ft),!ve&&bt>0&&(ve=new ie.Hp({next:Ze=>_t.next(Ze),error:Ze=>{Ee=!0,vt(),Ve=we(it,$e,Ze),_t.error(Ze)},complete:()=>{Me=!0,vt(),Ve=we(it,U),_t.complete()}}),(0,y.Xf)(rt).subscribe(ve))})(Ue)}}function we(de,De,...$e){if(!0===De)return void de();if(!1===De)return;const U=new ie.Hp({next:()=>{U.unsubscribe(),de()}});return(0,y.Xf)(De(...$e)).subscribe(U)}},3151:(ln,ut,L)=>{"use strict";L.d(ut,{d:()=>be});var y=L(7579),g=L(6063);class ie extends y.x{constructor(de=1/0,De=1/0,$e=g.l){super(),this._bufferSize=de,this._windowTime=De,this._timestampProvider=$e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=De===1/0,this._bufferSize=Math.max(1,de),this._windowTime=Math.max(1,De)}next(de){const{isStopped:De,_buffer:$e,_infiniteTimeWindow:U,_timestampProvider:Ce,_windowTime:Ue}=this;De||($e.push(de),!U&&$e.push(Ce.now()+Ue)),this._trimBuffer(),super.next(de)}_subscribe(de){this._throwIfClosed(),this._trimBuffer();const De=this._innerSubscribe(de),{_infiniteTimeWindow:$e,_buffer:U}=this,Ce=U.slice();for(let Ue=0;Ue<Ce.length&&!de.closed;Ue+=$e?1:2)de.next(Ce[Ue]);return this._checkFinalizedStatuses(de),De}_trimBuffer(){const{_bufferSize:de,_timestampProvider:De,_buffer:$e,_infiniteTimeWindow:U}=this,Ce=(U?1:2)*de;if(de<1/0&&Ce<$e.length&&$e.splice(0,$e.length-Ce),!U){const Ue=De.now();let ve=0;for(let Ve=1;Ve<$e.length&&$e[Ve]<=Ue;Ve+=2)ve=Ve;ve&&$e.splice(0,ve+1)}}}var me=L(3099);function be(we,de,De){let $e,U=!1;return we&&"object"==typeof we?({bufferSize:$e=1/0,windowTime:de=1/0,refCount:U=!1,scheduler:De}=we):$e=null!=we?we:1/0,(0,me.B)({connector:()=>new ie($e,de,De),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:U})}},8675:(ln,ut,L)=>{"use strict";L.d(ut,{O:()=>me});var y=L(7272),g=L(7669),ie=L(4482);function me(...be){const we=(0,g.yG)(be);return(0,ie.e)((de,De)=>{(we?(0,y.z)(be,de,we):(0,y.z)(be,de)).subscribe(De)})}},9468:(ln,ut,L)=>{"use strict";L.d(ut,{R:()=>g});var y=L(4482);function g(ie,me=0){return(0,y.e)((be,we)=>{we.add(ie.schedule(()=>be.subscribe(we),me))})}},3900:(ln,ut,L)=>{"use strict";L.d(ut,{w:()=>me});var y=L(8421),g=L(4482),ie=L(5403);function me(be,we){return(0,g.e)((de,De)=>{let $e=null,U=0,Ce=!1;const Ue=()=>Ce&&!$e&&De.complete();de.subscribe((0,ie.x)(De,ve=>{null==$e||$e.unsubscribe();let Ve=0;const qe=U++;(0,y.Xf)(be(ve,qe)).subscribe($e=(0,ie.x)(De,bt=>De.next(we?we(ve,bt,qe,Ve++):bt),()=>{$e=null,Ue()}))},()=>{Ce=!0,Ue()}))})}},5698:(ln,ut,L)=>{"use strict";L.d(ut,{q:()=>me});var y=L(515),g=L(4482),ie=L(5403);function me(be){return be<=0?()=>y.E:(0,g.e)((we,de)=>{let De=0;we.subscribe((0,ie.x)(de,$e=>{++De<=be&&(de.next($e),be<=De&&de.complete())}))})}},8505:(ln,ut,L)=>{"use strict";L.d(ut,{b:()=>be});var y=L(576),g=L(4482),ie=L(5403),me=L(4671);function be(we,de,De){const $e=(0,y.m)(we)||de||De?{next:we,error:de,complete:De}:we;return $e?(0,g.e)((U,Ce)=>{var Ue;null===(Ue=$e.subscribe)||void 0===Ue||Ue.call($e);let ve=!0;U.subscribe((0,ie.x)(Ce,Ve=>{var qe;null===(qe=$e.next)||void 0===qe||qe.call($e,Ve),Ce.next(Ve)},()=>{var Ve;ve=!1,null===(Ve=$e.complete)||void 0===Ve||Ve.call($e),Ce.complete()},Ve=>{var qe;ve=!1,null===(qe=$e.error)||void 0===qe||qe.call($e,Ve),Ce.error(Ve)},()=>{var Ve,qe;ve&&(null===(Ve=$e.unsubscribe)||void 0===Ve||Ve.call($e)),null===(qe=$e.finalize)||void 0===qe||qe.call($e)}))}):me.y}},8068:(ln,ut,L)=>{"use strict";L.d(ut,{T:()=>me});var y=L(6805),g=L(4482),ie=L(5403);function me(we=be){return(0,g.e)((de,De)=>{let $e=!1;de.subscribe((0,ie.x)(De,U=>{$e=!0,De.next(U)},()=>$e?De.complete():De.error(we())))})}function be(){return new y.K}},4408:(ln,ut,L)=>{"use strict";L.d(ut,{o:()=>be});var y=L(727);class g extends y.w0{constructor(de,De){super()}schedule(de,De=0){return this}}const ie={setInterval(we,de,...De){const{delegate:$e}=ie;return null!=$e&&$e.setInterval?$e.setInterval(we,de,...De):setInterval(we,de,...De)},clearInterval(we){const{delegate:de}=ie;return((null==de?void 0:de.clearInterval)||clearInterval)(we)},delegate:void 0};var me=L(8737);class be extends g{constructor(de,De){super(de,De),this.scheduler=de,this.work=De,this.pending=!1}schedule(de,De=0){var $e;if(this.closed)return this;this.state=de;const U=this.id,Ce=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(Ce,U,De)),this.pending=!0,this.delay=De,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(Ce,this.id,De),this}requestAsyncId(de,De,$e=0){return ie.setInterval(de.flush.bind(de,this),$e)}recycleAsyncId(de,De,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return De;null!=De&&ie.clearInterval(De)}execute(de,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(de,De);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,De){let U,$e=!1;try{this.work(de)}catch(Ce){$e=!0,U=Ce||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:de,scheduler:De}=this,{actions:$e}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,me.P)($e,this),null!=de&&(this.id=this.recycleAsyncId(De,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(ln,ut,L)=>{"use strict";L.d(ut,{v:()=>ie});var y=L(6063);class g{constructor(be,we=g.now){this.schedulerActionCtor=be,this.now=we}schedule(be,we=0,de){return new this.schedulerActionCtor(this,be).schedule(de,we)}}g.now=y.l.now;class ie extends g{constructor(be,we=g.now){super(be,we),this.actions=[],this._active=!1}flush(be){const{actions:we}=this;if(this._active)return void we.push(be);let de;this._active=!0;do{if(de=be.execute(be.state,be.delay))break}while(be=we.shift());if(this._active=!1,de){for(;be=we.shift();)be.unsubscribe();throw de}}}},4986:(ln,ut,L)=>{"use strict";L.d(ut,{z:()=>ie});var y=L(4408);const ie=new(L(7565).v)(y.o)},6063:(ln,ut,L)=>{"use strict";L.d(ut,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(ln,ut,L)=>{"use strict";L.d(ut,{z:()=>y});const y={setTimeout(g,ie,...me){const{delegate:be}=y;return null!=be&&be.setTimeout?be.setTimeout(g,ie,...me):setTimeout(g,ie,...me)},clearTimeout(g){const{delegate:ie}=y;return((null==ie?void 0:ie.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(ln,ut,L)=>{"use strict";L.d(ut,{h:()=>g});const g=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ln,ut,L)=>{"use strict";L.d(ut,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ln,ut,L)=>{"use strict";L.d(ut,{K:()=>g});const g=(0,L(3888).d)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(ln,ut,L)=>{"use strict";L.d(ut,{_6:()=>we,jO:()=>me,yG:()=>be});var y=L(576);function ie(de){return de[de.length-1]}function me(de){return(0,y.m)(ie(de))?de.pop():void 0}function be(de){return function g(de){return de&&(0,y.m)(de.schedule)}(ie(de))?de.pop():void 0}function we(de,De){return"number"==typeof ie(de)?de.pop():De}},4742:(ln,ut,L)=>{"use strict";L.d(ut,{D:()=>be});const{isArray:y}=Array,{getPrototypeOf:g,prototype:ie,keys:me}=Object;function be(de){if(1===de.length){const De=de[0];if(y(De))return{args:De,keys:null};if(function we(de){return de&&"object"==typeof de&&g(de)===ie}(De)){const $e=me(De);return{args:$e.map(U=>De[U]),keys:$e}}}return{args:de,keys:null}}},8737:(ln,ut,L)=>{"use strict";function y(g,ie){if(g){const me=g.indexOf(ie);0<=me&&g.splice(me,1)}}L.d(ut,{P:()=>y})},3888:(ln,ut,L)=>{"use strict";function y(g){const me=g(be=>{Error.call(be),be.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}L.d(ut,{d:()=>y})},1810:(ln,ut,L)=>{"use strict";function y(g,ie){return g.reduce((me,be,we)=>(me[be]=ie[we],me),{})}L.d(ut,{n:()=>y})},2806:(ln,ut,L)=>{"use strict";L.d(ut,{O:()=>me,x:()=>ie});var y=L(2416);let g=null;function ie(be){if(y.config.useDeprecatedSynchronousErrorHandling){const we=!g;if(we&&(g={errorThrown:!1,error:null}),be(),we){const{errorThrown:de,error:De}=g;if(g=null,de)throw De}}else be()}function me(be){y.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=be)}},9672:(ln,ut,L)=>{"use strict";function y(g,ie,me,be=0,we=!1){const de=ie.schedule(function(){me(),we?g.add(this.schedule(null,be)):this.unsubscribe()},be);if(g.add(de),!we)return de}L.d(ut,{f:()=>y})},4671:(ln,ut,L)=>{"use strict";function y(g){return g}L.d(ut,{y:()=>y})},1144:(ln,ut,L)=>{"use strict";L.d(ut,{z:()=>y});const y=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(ln,ut,L)=>{"use strict";L.d(ut,{D:()=>g});var y=L(576);function g(ie){return Symbol.asyncIterator&&(0,y.m)(null==ie?void 0:ie[Symbol.asyncIterator])}},576:(ln,ut,L)=>{"use strict";function y(g){return"function"==typeof g}L.d(ut,{m:()=>y})},3670:(ln,ut,L)=>{"use strict";L.d(ut,{c:()=>ie});var y=L(8822),g=L(576);function ie(me){return(0,g.m)(me[y.L])}},6495:(ln,ut,L)=>{"use strict";L.d(ut,{T:()=>ie});var y=L(2202),g=L(576);function ie(me){return(0,g.m)(null==me?void 0:me[y.h])}},8239:(ln,ut,L)=>{"use strict";L.d(ut,{t:()=>g});var y=L(576);function g(ie){return(0,y.m)(null==ie?void 0:ie.then)}},3260:(ln,ut,L)=>{"use strict";L.d(ut,{L:()=>me,Q:()=>ie});var y=L(655),g=L(576);function ie(be){return(0,y.FC)(this,arguments,function*(){const de=be.getReader();try{for(;;){const{value:De,done:$e}=yield(0,y.qq)(de.read());if($e)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(De)}}finally{de.releaseLock()}})}function me(be){return(0,g.m)(null==be?void 0:be.getReader)}},4482:(ln,ut,L)=>{"use strict";L.d(ut,{A:()=>g,e:()=>ie});var y=L(576);function g(me){return(0,y.m)(null==me?void 0:me.lift)}function ie(me){return be=>{if(g(be))return be.lift(function(we){try{return me(we,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ln,ut,L)=>{"use strict";L.d(ut,{Z:()=>me});var y=L(4004);const{isArray:g}=Array;function me(be){return(0,y.U)(we=>function ie(be,we){return g(we)?be(...we):be(we)}(be,we))}},5032:(ln,ut,L)=>{"use strict";function y(){}L.d(ut,{Z:()=>y})},9635:(ln,ut,L)=>{"use strict";L.d(ut,{U:()=>ie,z:()=>g});var y=L(4671);function g(...me){return ie(me)}function ie(me){return 0===me.length?y.y:1===me.length?me[0]:function(we){return me.reduce((de,De)=>De(de),we)}}},7849:(ln,ut,L)=>{"use strict";L.d(ut,{h:()=>ie});var y=L(2416),g=L(3410);function ie(me){g.z.setTimeout(()=>{const{onUnhandledError:be}=y.config;if(!be)throw me;be(me)})}},4532:(ln,ut,L)=>{"use strict";function y(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ut,{z:()=>y})},863:(ln,ut,L)=>{var y={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function g(ie){if(!L.o(y,ie))return Promise.resolve().then(()=>{var we=new Error("Cannot find module '"+ie+"'");throw we.code="MODULE_NOT_FOUND",we});var me=y[ie],be=me[0];return Promise.all(me.slice(1).map(L.e)).then(()=>L(be))}g.keys=()=>Object.keys(y),g.id=863,ln.exports=g},655:(ln,ut,L)=>{"use strict";L.d(ut,{FC:()=>rt,KL:()=>_t,ZT:()=>g,_T:()=>me,gn:()=>be,mG:()=>Ue,qq:()=>Ge});var y=function(Pe,je){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(We,ke){We.__proto__=ke}||function(We,ke){for(var Fe in ke)Object.prototype.hasOwnProperty.call(ke,Fe)&&(We[Fe]=ke[Fe])})(Pe,je)};function g(Pe,je){if("function"!=typeof je&&null!==je)throw new TypeError("Class extends value "+String(je)+" is not a constructor or null");function We(){this.constructor=Pe}y(Pe,je),Pe.prototype=null===je?Object.create(je):(We.prototype=je.prototype,new We)}function me(Pe,je){var We={};for(var ke in Pe)Object.prototype.hasOwnProperty.call(Pe,ke)&&je.indexOf(ke)<0&&(We[ke]=Pe[ke]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ke=Object.getOwnPropertySymbols(Pe);Fe<ke.length;Fe++)je.indexOf(ke[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Pe,ke[Fe])&&(We[ke[Fe]]=Pe[ke[Fe]])}return We}function be(Pe,je,We,ke){var mt,Fe=arguments.length,He=Fe<3?je:null===ke?ke=Object.getOwnPropertyDescriptor(je,We):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(Pe,je,We,ke);else for(var ct=Pe.length-1;ct>=0;ct--)(mt=Pe[ct])&&(He=(Fe<3?mt(He):Fe>3?mt(je,We,He):mt(je,We))||He);return Fe>3&&He&&Object.defineProperty(je,We,He),He}function Ue(Pe,je,We,ke){return new(We||(We=Promise))(function(He,mt){function ct(sn){try{Pt(ke.next(sn))}catch(At){mt(At)}}function Tt(sn){try{Pt(ke.throw(sn))}catch(At){mt(At)}}function Pt(sn){sn.done?He(sn.value):function Fe(He){return He instanceof We?He:new We(function(mt){mt(He)})}(sn.value).then(ct,Tt)}Pt((ke=ke.apply(Pe,je||[])).next())})}function Ge(Pe){return this instanceof Ge?(this.v=Pe,this):new Ge(Pe)}function rt(Pe,je,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ke=We.apply(Pe,je||[]),He=[];return Fe={},mt("next"),mt("throw"),mt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function mt(et){ke[et]&&(Fe[et]=function(Ot){return new Promise(function(Jt,fn){He.push([et,Ot,Jt,fn])>1||ct(et,Ot)})})}function ct(et,Ot){try{!function Tt(et){et.value instanceof Ge?Promise.resolve(et.value.v).then(Pt,sn):At(He[0][2],et)}(ke[et](Ot))}catch(Jt){At(He[0][3],Jt)}}function Pt(et){ct("next",et)}function sn(et){ct("throw",et)}function At(et,Ot){et(Ot),He.shift(),He.length&&ct(He[0][0],He[0][1])}}function _t(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,je=Pe[Symbol.asyncIterator];return je?je.call(Pe):(Pe=function bt(Pe){var je="function"==typeof Symbol&&Symbol.iterator,We=je&&Pe[je],ke=0;if(We)return We.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&ke>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[ke++],done:!Pe}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),We={},ke("next"),ke("throw"),ke("return"),We[Symbol.asyncIterator]=function(){return this},We);function ke(He){We[He]=Pe[He]&&function(mt){return new Promise(function(ct,Tt){!function Fe(He,mt,ct,Tt){Promise.resolve(Tt).then(function(Pt){He({value:Pt,done:ct})},mt)}(ct,Tt,(mt=Pe[He](mt)).done,mt.value)})}}}},4755:(ln,ut,L)=>{"use strict";L.d(ut,{Do:()=>vt,EM:()=>ga,HT:()=>me,JF:()=>as,K0:()=>we,Mx:()=>Ds,NF:()=>ms,O5:()=>W,Ov:()=>Cn,PM:()=>di,S$:()=>bt,V_:()=>$e,Ye:()=>it,b0:()=>Ee,bD:()=>Br,ez:()=>Ui,q:()=>ie,sg:()=>Ji,tP:()=>dn,w_:()=>be});var y=L(2223);let g=null;function ie(){return g}function me(V){g||(g=V)}class be{}const we=new y.OlP("DocumentToken");let de=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return function De(){return(0,y.LFG)(U)}()},providedIn:"platform"}),V})();const $e=new y.OlP("Location Initialized");let U=(()=>{class V extends de{constructor(H){super(),this._doc=H,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(H){const ye=ie().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("popstate",H,!1),()=>ye.removeEventListener("popstate",H)}onHashChange(H){const ye=ie().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("hashchange",H,!1),()=>ye.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,ye,Ke){Ce()?this._history.pushState(H,ye,Ke):this._location.hash=Ke}replaceState(H,ye,Ke){Ce()?this._history.replaceState(H,ye,Ke):this._location.hash=Ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return V.\u0275fac=function(H){return new(H||V)(y.LFG(we))},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Ue(){return new U((0,y.LFG)(we))}()},providedIn:"platform"}),V})();function Ce(){return!!window.history.pushState}function ve(V,re){if(0==V.length)return re;if(0==re.length)return V;let H=0;return V.endsWith("/")&&H++,re.startsWith("/")&&H++,2==H?V+re.substring(1):1==H?V+re:V+"/"+re}function Ve(V){const re=V.match(/#|\?|$/),H=re&&re.index||V.length;return V.slice(0,H-("/"===V[H-1]?1:0))+V.slice(H)}function qe(V){return V&&"?"!==V[0]?"?"+V:V}let bt=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return(0,y.f3M)(Ee)},providedIn:"root"}),V})();const Me=new y.OlP("appBaseHref");let Ee=(()=>{class V extends bt{constructor(H,ye){var Ke,Ut,Yt;super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=null!==(Ke=null!==(Ut=null!=ye?ye:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ut?Ut:null===(Yt=(0,y.f3M)(we).location)||void 0===Yt?void 0:Yt.origin)&&void 0!==Ke?Ke:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return ve(this._baseHref,H)}path(H=!1){const ye=this._platformLocation.pathname+qe(this._platformLocation.search),Ke=this._platformLocation.hash;return Ke&&H?`${ye}${Ke}`:ye}pushState(H,ye,Ke,Ut){const Yt=this.prepareExternalUrl(Ke+qe(Ut));this._platformLocation.pushState(H,ye,Yt)}replaceState(H,ye,Ke,Ut){const Yt=this.prepareExternalUrl(Ke+qe(Ut));this._platformLocation.replaceState(H,ye,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ye,Ke;null===(ye=(Ke=this._platformLocation).historyGo)||void 0===ye||ye.call(Ke,H)}}return V.\u0275fac=function(H){return new(H||V)(y.LFG(de),y.LFG(Me,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),vt=(()=>{class V extends bt{constructor(H,ye){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ye&&(this._baseHref=ye)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let ye=this._platformLocation.hash;return null==ye&&(ye="#"),ye.length>0?ye.substring(1):ye}prepareExternalUrl(H){const ye=ve(this._baseHref,H);return ye.length>0?"#"+ye:ye}pushState(H,ye,Ke,Ut){let Yt=this.prepareExternalUrl(Ke+qe(Ut));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.pushState(H,ye,Yt)}replaceState(H,ye,Ke,Ut){let Yt=this.prepareExternalUrl(Ke+qe(Ut));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.replaceState(H,ye,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ye,Ke;null===(ye=(Ke=this._platformLocation).historyGo)||void 0===ye||ye.call(Ke,H)}}return V.\u0275fac=function(H){return new(H||V)(y.LFG(de),y.LFG(Me,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})(),it=(()=>{class V{constructor(H){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const ye=this._locationStrategy.getBaseHref();this._basePath=function _t(V){if(new RegExp("^(https?:)?//").test(V)){const[,H]=V.split(/\/\/[^\/]+/);return H}return V}(Ve(ft(ye))),this._locationStrategy.onPopState(Ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ke.state,type:Ke.type})})}ngOnDestroy(){var H;null===(H=this._urlChangeSubscription)||void 0===H||H.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,ye=""){return this.path()==this.normalize(H+qe(ye))}normalize(H){return V.stripTrailingSlash(function rt(V,re){if(!V||!re.startsWith(V))return re;const H=re.substring(V.length);return""===H||["/",";","?","#"].includes(H[0])?H:re}(this._basePath,ft(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,ye="",Ke=null){this._locationStrategy.pushState(Ke,"",H,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(ye)),Ke)}replaceState(H,ye="",Ke=null){this._locationStrategy.replaceState(Ke,"",H,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(ye)),Ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){var ye,Ke;null===(ye=(Ke=this._locationStrategy).historyGo)||void 0===ye||ye.call(Ke,H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ye=>{this._notifyUrlChangeListeners(ye.url,ye.state)})),()=>{const ye=this._urlChangeListeners.indexOf(H);var Ke;this._urlChangeListeners.splice(ye,1),0===this._urlChangeListeners.length&&(null===(Ke=this._urlChangeSubscription)||void 0===Ke||Ke.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",ye){this._urlChangeListeners.forEach(Ke=>Ke(H,ye))}subscribe(H,ye,Ke){return this._subject.subscribe({next:H,error:ye,complete:Ke})}}return V.normalizeQueryParams=qe,V.joinWithSlash=ve,V.stripTrailingSlash=Ve,V.\u0275fac=function(H){return new(H||V)(y.LFG(bt))},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Ge(){return new it((0,y.LFG)(bt))}()},providedIn:"root"}),V})();function ft(V){return V.replace(/\/index.html$/,"")}function Ds(V,re){re=encodeURIComponent(re);for(const H of V.split(";")){const ye=H.indexOf("="),[Ke,Ut]=-1==ye?[H,""]:[H.slice(0,ye),H.slice(ye+1)];if(Ke.trim()===re)return decodeURIComponent(Ut)}return null}class Cs{constructor(re,H,ye,Ke){this.$implicit=re,this.ngForOf=H,this.index=ye,this.count=Ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class V{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,ye,Ke){this._viewContainer=H,this._template=ye,this._differs=Ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ye=this._viewContainer;H.forEachOperation((Ke,Ut,Yt)=>{if(null==Ke.previousIndex)ye.createEmbeddedView(this._template,new Cs(Ke.item,this._ngForOf,-1,-1),null===Yt?void 0:Yt);else if(null==Yt)ye.remove(null===Ut?void 0:Ut);else if(null!==Ut){const Qn=ye.get(Ut);ye.move(Qn,Yt),ps(Qn,Ke)}});for(let Ke=0,Ut=ye.length;Ke<Ut;Ke++){const Qn=ye.get(Ke).context;Qn.index=Ke,Qn.count=Ut,Qn.ngForOf=this._ngForOf}H.forEachIdentityChange(Ke=>{ps(ye.get(Ke.currentIndex),Ke)})}static ngTemplateContextGuard(H,ye){return!0}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function ps(V,re){V.context.$implicit=re.item}let W=(()=>{class V{constructor(H,ye){this._viewContainer=H,this._context=new ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ye}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){_e("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){_e("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ye){return!0}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.s_b),y.Y36(y.Rgc))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class ee{constructor(){this.$implicit=null,this.ngIf=null}}function _e(V,re){if(re&&!re.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,y.AaK)(re)}'.`)}let dn=(()=>{class V{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(H.ngTemplateOutlet||H.ngTemplateOutletInjector){const ye=this._viewContainerRef;if(this._viewRef&&ye.remove(ye.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ke,ngTemplateOutletContext:Ut,ngTemplateOutletInjector:Yt}=this;this._viewRef=ye.createEmbeddedView(Ke,Ut,Yt?{injector:Yt}:void 0)}else this._viewRef=null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.s_b))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),V})();class pi{createSubscription(re,H){return re.subscribe({next:H,error:ye=>{throw ye}})}dispose(re){re.unsubscribe()}}class Oi{createSubscription(re,H){return re.then(H,ye=>{throw ye})}dispose(re){}}const Fi=new Oi,Hr=new pi;let Cn=(()=>{class V{constructor(H){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=H}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,ye=>this._updateLatestValue(H,ye))}_selectStrategy(H){if((0,y.QGY)(H))return Fi;if((0,y.F4k)(H))return Hr;throw function ar(V,re){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,ye){H===this._obj&&(this._latestValue=ye,this._ref.markForCheck())}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.sBO,16))},V.\u0275pipe=y.Yjl({name:"async",type:V,pure:!1,standalone:!0}),V})(),Ui=(()=>{class V{}return V.\u0275fac=function(H){return new(H||V)},V.\u0275mod=y.oAB({type:V}),V.\u0275inj=y.cJS({}),V})();const Br="browser",Qo="server";function ms(V){return V===Br}function di(V){return V===Qo}let ga=(()=>{class V{}return V.\u0275prov=(0,y.Yz7)({token:V,providedIn:"root",factory:()=>new ss((0,y.LFG)(we),window)}),V})();class ss{constructor(re,H){this.document=re,this.window=H,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const H=function Xo(V,re){const H=V.getElementById(re)||V.getElementsByName(re)[0];if(H)return H;if("function"==typeof V.createTreeWalker&&V.body&&"function"==typeof V.body.attachShadow){const ye=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Ke=ye.currentNode;for(;Ke;){const Ut=Ke.shadowRoot;if(Ut){const Yt=Ut.getElementById(re)||Ut.querySelector(`[name="${re}"]`);if(Yt)return Yt}Ke=ye.nextNode()}}return null}(this.document,re);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=re)}}scrollToElement(re){const H=re.getBoundingClientRect(),ye=H.left+this.window.pageXOffset,Ke=H.top+this.window.pageYOffset,Ut=this.offset();this.window.scrollTo(ye-Ut[0],Ke-Ut[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=ji(this.window.history)||ji(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ji(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class as{}},2223:(ln,ut,L)=>{"use strict";L.d(ut,{$8M:()=>$i,$WT:()=>on,$Z:()=>qh,AFp:()=>Sm,ALo:()=>o,AaK:()=>$e,CHM:()=>Ks,CRH:()=>oC,D6c:()=>LD,EJc:()=>Ub,EpF:()=>pf,F$t:()=>Zg,F4k:()=>p0,FYo:()=>Iv,FiY:()=>Bl,G48:()=>dD,GSi:()=>op,Gf:()=>iC,GfV:()=>wg,GkF:()=>Ay,Gpc:()=>Ue,HDt:()=>cb,Hsn:()=>Qg,JOm:()=>Ia,KtG:()=>ru,LFG:()=>Mt,LMc:()=>$D,Lbi:()=>El,Lck:()=>aI,MAs:()=>Xd,MMx:()=>iw,NdJ:()=>Sp,Ojb:()=>cg,OlP:()=>ki,Oqu:()=>wn,P3R:()=>$d,PXZ:()=>nD,Q6J:()=>Dp,QGY:()=>r_,QbO:()=>V_,Qsj:()=>km,R0b:()=>Sl,RDi:()=>Od,Rgc:()=>xn,SBq:()=>tp,Sil:()=>Hb,Suo:()=>sC,TTD:()=>_i,TgZ:()=>df,X6Q:()=>cD,XFs:()=>nn,Xpm:()=>ps,Xts:()=>Yc,Y36:()=>Au,YKP:()=>nw,YNc:()=>Kg,Yjl:()=>Be,Yz7:()=>et,Z0I:()=>Tn,ZZ4:()=>FI,_Bn:()=>Jl,_UZ:()=>Ty,_Vd:()=>Jc,_c5:()=>TD,_uU:()=>Se,aQg:()=>LI,c2e:()=>TC,cJS:()=>Jt,cg1:()=>h_,dDg:()=>Xb,dqk:()=>Sn,eFA:()=>UC,eJc:()=>_I,ekj:()=>R0,eoX:()=>LC,f3M:()=>mn,g9A:()=>Tm,h0i:()=>Ic,hGG:()=>AD,hij:()=>jn,iGM:()=>rC,ifc:()=>Oe,ip1:()=>SC,jDz:()=>sw,kL8:()=>dd,lG2:()=>oe,lcZ:()=>w,lqb:()=>Cu,lri:()=>kC,n5z:()=>hh,oAB:()=>_e,oxw:()=>Py,q4F:()=>Fm,qFp:()=>VD,qLn:()=>jh,qOj:()=>sf,qZA:()=>cd,rWj:()=>FC,sBO:()=>hD,s_b:()=>Zy,soG:()=>_w,tb:()=>RI,tp0:()=>ml,uIk:()=>Os,vHH:()=>Ee,vpe:()=>Ft,wAp:()=>$r,xp6:()=>jm,z2F:()=>R_,zSh:()=>Vd,zs3:()=>fc});var we,y=L(7579),g=L(727),ie=L(9751),me=L(6451),be=L(3099);function de(n){for(let i in n)if(n[i]===de)return i;throw Error("Could not find renamed property on target object.")}function De(n,i){for(const a in i)i.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=i[a])}function $e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const a=i.indexOf("\n");return-1===a?i:i.substring(0,a)}function U(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ce=de({__forward_ref__:de});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return $e(this())},n}function ve(n){return Ve(n)?n():n}function Ve(n){return"function"==typeof n&&n.hasOwnProperty(Ce)&&n.__forward_ref__===Ue}function qe(n){return n&&!!n.\u0275providers}const Me="https://g.co/ng/security#xss";class Ee extends Error{constructor(i,a){super(function vt(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,a)),this.code=i}}function it(n){return"string"==typeof n?n:null==n?"":String(n)}function Ze(n,i){throw new Ee(-201,!1)}function ct(n,i){null==n&&function Tt(n,i,a,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${a} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function fn(n){return En(n,Bt)||En(n,hr)}function Tn(n){return null!==fn(n)}function En(n,i){return n.hasOwnProperty(i)?n[i]:null}function In(n){return n&&(n.hasOwnProperty(rr)||n.hasOwnProperty(pr))?n[rr]:null}const Bt=de({\u0275prov:de}),rr=de({\u0275inj:de}),hr=de({ngInjectableDef:de}),pr=de({ngInjectorDef:de});var nn=(()=>((nn=nn||{})[nn.Default=0]="Default",nn[nn.Host=1]="Host",nn[nn.Self=2]="Self",nn[nn.SkipSelf=4]="SkipSelf",nn[nn.Optional=8]="Optional",nn))();let Lr;function nr(n){const i=Lr;return Lr=n,i}function Tr(n,i,a){const d=fn(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&nn.Optional?null:void 0!==i?i:void Ze($e(n))}const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vr={},ur="__NG_DI_FLAG__",Nr="ngTempTokenPath",Kn=/\n/gm,Jr="__source";let Hn;function fe(n){const i=Hn;return Hn=n,i}function ze(n,i=nn.Default){if(void 0===Hn)throw new Ee(-203,!1);return null===Hn?Tr(n,void 0,i):Hn.get(n,i&nn.Optional?null:void 0,i)}function Mt(n,i=nn.Default){return(function ir(){return Lr}()||ze)(ve(n),i)}function mn(n,i=nn.Default){return Mt(n,fr(i))}function fr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fn(n){const i=[];for(let a=0;a<n.length;a++){const d=ve(n[a]);if(Array.isArray(d)){if(0===d.length)throw new Ee(900,!1);let f,v=nn.Default;for(let b=0;b<d.length;b++){const x=d[b],B=Je(x);"number"==typeof B?-1===B?f=x.token:v|=B:f=x}i.push(Mt(f,v))}else i.push(Mt(d))}return i}function gr(n,i){return n[ur]=i,n.prototype[ur]=i,n}function Je(n){return n[ur]}function z(n){return{toString:n}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),Oe=(()=>{return(n=Oe||(Oe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Oe;var n})();const st={},Le=[],ht=de({\u0275cmp:de}),It=de({\u0275dir:de}),zt=de({\u0275pipe:de}),Ht=de({\u0275mod:de}),rn=de({\u0275fac:de}),un=de({__NG_ELEMENT_ID__:de}),Wn=de({__NG_ENV_ID__:de});function zn(n,i,a){let d=n.length;for(;;){const f=n.indexOf(i,a);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const v=i.length;if(f+v===d||n.charCodeAt(f+v)<=32)return f}a=f+1}}function Dt(n,i,a){let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const v=a[d++],b=a[d++],x=a[d++];n.setAttribute(i,b,x,v)}else{const v=f,b=a[++d];Wt(v)?n.setProperty(i,v,b):n.setAttribute(i,v,b),d++}}return d}function wt(n){return 3===n||4===n||6===n}function Wt(n){return 64===n.charCodeAt(0)}function _n(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let a=-1;for(let d=0;d<i.length;d++){const f=i[d];"number"==typeof f?a=f:0===a||kn(n,a,f,null,-1===a||2===a?i[++d]:null)}}return n}function kn(n,i,a,d,f){let v=0,b=n.length;if(-1===i)b=-1;else for(;v<n.length;){const x=n[v++];if("number"==typeof x){if(x===i){b=-1;break}if(x>i){b=v-1;break}}}for(;v<n.length;){const x=n[v];if("number"==typeof x)break;if(x===a){if(null===d)return void(null!==f&&(n[v+1]=f));if(d===n[v+1])return void(n[v+2]=f)}v++,null!==d&&v++,null!==f&&v++}-1!==b&&(n.splice(b,0,i),v=b+1),n.splice(v++,0,a),null!==d&&n.splice(v++,0,d),null!==f&&n.splice(v++,0,f)}const Xn="ng-template";function Jn(n,i,a){let d=0,f=!0;for(;d<n.length;){let v=n[d++];if("string"==typeof v&&f){const b=n[d++];if(a&&"class"===v&&-1!==zn(b.toLowerCase(),i,0))return!0}else{if(1===v){for(;d<n.length&&"string"==typeof(v=n[d++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function Wr(n){return 4===n.type&&n.value!==Xn}function _r(n,i,a){return i===(4!==n.type||a?n.value:Xn)}function or(n,i,a){let d=4;const f=n.attrs||[],v=function vi(n){for(let i=0;i<n.length;i++)if(wt(n[i]))return i;return n.length}(f);let b=!1;for(let x=0;x<i.length;x++){const B=i[x];if("number"!=typeof B){if(!b)if(4&d){if(d=2|1&d,""!==B&&!_r(n,B,a)||""===B&&1===i.length){if(Zn(d))return!1;b=!0}}else{const J=8&d?B:i[++x];if(8&d&&null!==n.attrs){if(!Jn(n.attrs,J,a)){if(Zn(d))return!1;b=!0}continue}const Ne=fi(8&d?"class":B,f,Wr(n),a);if(-1===Ne){if(Zn(d))return!1;b=!0;continue}if(""!==J){let lt;lt=Ne>v?"":f[Ne+1].toLowerCase();const Rt=8&d?lt:null;if(Rt&&-1!==zn(Rt,J,0)||2&d&&J!==lt){if(Zn(d))return!1;b=!0}}}}else{if(!b&&!Zn(d)&&!Zn(B))return!1;if(b&&Zn(B))continue;b=!1,d=B|1&d}}return Zn(d)||b}function Zn(n){return 0==(1&n)}function fi(n,i,a,d){if(null===i)return-1;let f=0;if(d||!a){let v=!1;for(;f<i.length;){const b=i[f];if(b===n)return f;if(3===b||6===b)v=!0;else{if(1===b||2===b){let x=i[++f];for(;"string"==typeof x;)x=i[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=v?1:2}return-1}return function ns(n,i){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const d=n[a];if("number"==typeof d)return-1;if(d===i)return a;a++}return-1}(i,n)}function yi(n,i,a=!1){for(let d=0;d<i.length;d++)if(or(n,i[d],a))return!0;return!1}function js(n,i){e:for(let a=0;a<i.length;a++){const d=i[a];if(n.length===d.length){for(let f=0;f<n.length;f++)if(n[f]!==d[f])continue e;return!0}}return!1}function Pi(n,i){return n?":not("+i.trim()+")":i}function ti(n){let i=n[0],a=1,d=2,f="",v=!1;for(;a<n.length;){let b=n[a];if("string"==typeof b)if(2&d){const x=n[++a];f+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!Zn(b)&&(i+=Pi(v,f),f=""),d=b,v=v||!Zn(d);a++}return""!==f&&(i+=Pi(v,f)),i}function ps(n){return z(()=>{const i=Un(n),a={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Oe.Emulated,styles:n.styles||Le,_:null,schemas:n.schemas||null,tView:null,id:""};ar(a);const d=n.dependencies;return a.directiveDefs=pi(d,!1),a.pipeDefs=pi(d,!0),a.id=function Fi(n){let i=0;const a=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const f of a)i=Math.imul(31,i)+f.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(a),a})}function W(n){return Xe(n)||dt(n)}function ee(n){return null!==n}function _e(n){return z(()=>({type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function G(n,i){if(null==n)return st;const a={};for(const d in n)if(n.hasOwnProperty(d)){let f=n[d],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),a[f]=d,i&&(i[f]=v)}return a}function oe(n){return z(()=>{const i=Un(n);return ar(i),i})}function Be(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xe(n){return n[ht]||null}function dt(n){return n[It]||null}function xt(n){return n[zt]||null}function on(n){const i=Xe(n)||dt(n)||xt(n);return null!==i&&i.standalone}function dn(n,i){const a=n[Ht]||null;if(!a&&!0===i)throw new Error(`Type ${$e(n)} does not have '\u0275mod' property.`);return a}function Un(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:G(n.inputs,i),outputs:G(n.outputs)}}function ar(n){var i;null===(i=n.features)||void 0===i||i.forEach(a=>a(n))}function pi(n,i){if(!n)return null;const a=i?xt:W;return()=>("function"==typeof n?n():n).map(d=>a(d)).filter(ee)}const Hr=0,Cn=1,Er=2,Kr=3,Ni=4,Mo=5,gi=6,rs=7,Ur=8,is=9,bs=10,An=11,Qs=12,Fs=13,Wi=14,Si=15,Ss=16,vo=17,Ls=18,Ro=19,_o=20,gs=21,es=22,Uo=23,Ui=24,Br=25,Eo=1,Ta=2,ms=7,di=8,Hs=9,mi=11;function ss(n){return Array.isArray(n)&&"object"==typeof n[Eo]}function ji(n){return Array.isArray(n)&&!0===n[Eo]}function Xo(n){return 0!=(4&n.flags)}function os(n){return n.componentOffset>-1}function as(n){return 1==(1&n.flags)}function Xs(n){return!!n.template}function Ki(n){return 0!=(512&n[Er])}function ls(n,i){return n.hasOwnProperty(rn)?n[rn]:null}let C=null!==(we=Sn.WeakRef)&&void 0!==we?we:class j{constructor(i){this.ref=i}deref(){return this.ref}},ot=0,$t=null,Zt=!1;function pn(n){const i=$t;return $t=n,i}class jr{constructor(){this.id=ot++,this.ref=function N(n){return new C(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,a]of this.producers){const d=a.producerNode.deref();if(void 0!==d&&a.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(i),null==d||d.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Zt;Zt=!0;try{for(const[a,d]of this.consumers){const f=d.consumerNode.deref();void 0!==f&&f.trackingVersion===d.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),null==f||f.producers.delete(this.id))}}finally{Zt=i}}producerAccessed(){if(Zt)throw new Error("");if(null===$t)return;let i=$t.producers.get(this.id);void 0===i?(i={consumerNode:$t.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:$t.trackingVersion},$t.producers.set(this.id,i),this.consumers.set($t.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=$t.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var i;return!1!==(null===(i=$t)||void 0===i?void 0:i.consumerAllowSignalWrites)}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let Es=null;const Ha=()=>{};class aa extends jr{constructor(i,a,d){super(),this.watch=i,this.schedule=a,this.dirty=!1,this.cleanupFn=Ha,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ha,this.watch(this.registerOnCleanup)}finally{pn(i)}}cleanup(){this.cleanupFn()}}class cl{constructor(i,a,d){this.previousValue=i,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function _i(){return ku}function ku(n){return n.type.prototype.ngOnChanges&&(n.setInput=zo),Sc}function Sc(){const n=Aa(this),i=null==n?void 0:n.current;if(i){const a=n.previous;if(a===st)n.previous=i;else for(let d in i)a[d]=i[d];n.current=null,this.ngOnChanges(i)}}function zo(n,i,a,d){const f=this.declaredInputs[a],v=Aa(n)||function ma(n,i){return n[za]=i}(n,{previous:st,current:null}),b=v.current||(v.current={}),x=v.previous,B=x[f];b[f]=new cl(B&&B.currentValue,i,x===st),n[d]=i}_i.ngInherit=!0;const za="__ngSimpleChanges__";function Aa(n){return n[za]||null}const us=function(n,i,a){};function Ci(n){for(;Array.isArray(n);)n=n[Hr];return n}function ya(n,i){return Ci(i[n])}function cs(n,i){return Ci(i[n.index])}function Ga(n,i){return n.data[i]}function Wa(n,i){return n[i]}function Po(n,i){const a=i[n];return ss(a)?a:a[Hr]}function Al(n){return 128==(128&n[Er])}function re(n,i){return null==i?null:n[i]}function H(n){n[vo]=0}function ye(n){1024&n[Er]||(n[Er]|=1024,Ut(n,1))}function Ke(n){1024&n[Er]&&(n[Er]&=-1025,Ut(n,-1))}function Ut(n,i){let a=n[Kr];if(null===a)return;a[Mo]+=i;let d=a;for(a=a[Kr];null!==a&&(1===i&&1===d[Mo]||-1===i&&0===d[Mo]);)a[Mo]+=i,d=a,a=a[Kr]}const yn={lFrame:Ol(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gr(){return yn.bindingsEnabled}function Qe(){return yn.lFrame.lView}function Vt(){return yn.lFrame.tView}function Ks(n){return yn.lFrame.contextLView=n,n[Ur]}function ru(n){return yn.lFrame.contextLView=null,n}function Is(){let n=fd();for(;null!==n&&64===n.type;)n=n.parent;return n}function fd(){return yn.lFrame.currentTNode}function Ka(n,i){const a=yn.lFrame;a.currentTNode=n,a.isParent=i}function Rl(){return yn.lFrame.isParent}function qa(){yn.lFrame.isParent=!1}function xl(){return yn.lFrame.bindingIndex++}function ri(n,i){const a=yn.lFrame;a.bindingIndex=a.bindingRootIndex=n,zi(i)}function zi(n){yn.lFrame.currentDirectiveIndex=n}function hl(){return yn.lFrame.currentQueryIndex}function Ma(n){yn.lFrame.currentQueryIndex=n}function fl(n){const i=n[Cn];return 2===i.type?i.declTNode:1===i.type?n[gi]:null}function xc(n,i,a){if(a&nn.SkipSelf){let f=i,v=n;for(;!(f=f.parent,null!==f||a&nn.Host||(f=fl(v),null===f||(v=v[Wi],10&f.type))););if(null===f)return!1;i=f,n=v}const d=yn.lFrame=Pc();return d.currentTNode=i,d.lView=n,!0}function Ya(n){const i=Pc(),a=n[Cn];yn.lFrame=i,i.currentTNode=a.firstChild,i.lView=n,i.tView=a,i.contextLView=n,i.bindingIndex=a.bindingStartIndex,i.inI18n=!1}function Pc(){const n=yn.lFrame,i=null===n?null:n.child;return null===i?Ol(n):i}function Ol(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function wi(){const n=yn.lFrame;return yn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const li=wi;function Ir(){const n=wi();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function to(){return yn.lFrame.selectedIndex}function Go(n){yn.lFrame.selectedIndex=n}function Li(){const n=yn.lFrame;return Ga(n.tView,n.selectedIndex)}let xa=!0;function Wo(){return xa}function Fo(n){xa=n}function $u(n,i){for(let J=i.directiveStart,ge=i.directiveEnd;J<ge;J++){const lt=n.data[J].type.prototype,{ngAfterContentInit:Rt,ngAfterContentChecked:en,ngAfterViewInit:bn,ngAfterViewChecked:Bn,ngOnDestroy:Yn}=lt;var a,d,f,v,b,x,B;Rt&&(null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(-J,Rt),en&&((null!==(d=n.contentHooks)&&void 0!==d?d:n.contentHooks=[]).push(J,en),(null!==(f=n.contentCheckHooks)&&void 0!==f?f:n.contentCheckHooks=[]).push(J,en)),bn&&(null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(-J,bn),Bn&&((null!==(b=n.viewHooks)&&void 0!==b?b:n.viewHooks=[]).push(J,Bn),(null!==(x=n.viewCheckHooks)&&void 0!==x?x:n.viewCheckHooks=[]).push(J,Bn)),null!=Yn&&(null!==(B=n.destroyHooks)&&void 0!==B?B:n.destroyHooks=[]).push(J,Yn)}}function M(n,i,a){F(n,i,3,a)}function O(n,i,a,d){(3&n[Er])===a&&F(n,i,a,d)}function D(n,i){let a=n[Er];(3&a)===i&&(a&=4095,a+=1,n[Er]=a)}function F(n,i,a,d){const v=null!=d?d:-1,b=i.length-1;let x=0;for(let B=void 0!==d?65535&n[vo]:0;B<b;B++)if("number"==typeof i[B+1]){if(x=i[B],null!=d&&x>=d)break}else i[B]<0&&(n[vo]+=65536),(x<v||-1==v)&&(Ae(n,a,i,B),n[vo]=(4294901760&n[vo])+B+2),B++}function te(n,i){us(4,n,i);const a=pn(null);try{i.call(n)}finally{pn(a),us(5,n,i)}}function Ae(n,i,a,d){const f=a[d]<0,v=a[d+1],x=n[f?-a[d]:a[d]];f?n[Er]>>12<n[vo]>>16&&(3&n[Er])===i&&(n[Er]+=4096,te(x,v)):te(x,v)}const Ie=-1;class gt{constructor(i,a,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function pl(n){return n!==Ie}function uo(n){return 32767&n}function hs(n,i){let a=function pd(n){return n>>16}(n),d=i;for(;a>0;)d=d[Wi],a--;return d}let Vu=!0;function Za(n){const i=Vu;return Vu=n,i}const Op=255,gd=5;let Ef=0;const Qa={};function iu(n,i){const a=md(n,i);if(-1!==a)return a;const d=i[Cn];d.firstCreatePass&&(n.injectorIndex=i.length,uh(d.data,n),uh(i,null),uh(d.blueprint,null));const f=ch(n,i),v=n.injectorIndex;if(pl(f)){const b=uo(f),x=hs(f,i),B=x[Cn].data;for(let J=0;J<8;J++)i[v+J]=x[b+J]|B[b+J]}return i[v+8]=f,v}function uh(n,i){n.push(0,0,0,0,0,0,0,0,i)}function md(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ch(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,d=null,f=i;for(;null!==f;){if(d=gl(f),null===d)return Ie;if(a++,f=f[Wi],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return Ie}function yd(n,i,a){!function Oc(n,i,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(un)&&(d=a[un]),null==d&&(d=a[un]=Ef++);const f=d&Op;i.data[n+(f>>gd)]|=1<<f}(n,i,a)}function wo(n,i,a){if(a&nn.Optional||void 0!==n)return n;Ze()}function Uu(n,i,a,d){if(a&nn.Optional&&void 0===d&&(d=null),!(a&(nn.Self|nn.Host))){const f=n[is],v=nr(void 0);try{return f?f.get(i,d,a&nn.Optional):Tr(i,d,a&nn.Optional)}finally{nr(v)}}return wo(d,0,a)}function Pa(n,i,a,d=nn.Default,f){if(null!==n){if(2048&i[Er]){const b=function wf(n,i,a,d,f){let v=n,b=i;for(;null!==v&&null!==b&&2048&b[Er]&&!(512&b[Er]);){const x=vd(v,b,a,d|nn.Self,Qa);if(x!==Qa)return x;let B=v.parent;if(!B){const J=b[_o];if(J){const ge=J.get(a,Qa,d);if(ge!==Qa)return ge}B=gl(b),b=b[Wi]}v=B}return f}(n,i,a,d,Qa);if(b!==Qa)return b}const v=vd(n,i,a,d,Qa);if(v!==Qa)return v}return Uu(i,a,d,f)}function vd(n,i,a,d,f){const v=function tr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(un)?n[un]:void 0;return"number"==typeof i?i>=0?i&Op:Ms:i}(a);if("function"==typeof v){if(!xc(i,n,d))return d&nn.Host?wo(f,0,d):Uu(i,a,d,f);try{const b=v(d);if(null!=b||d&nn.Optional)return b;Ze()}finally{li()}}else if("number"==typeof v){let b=null,x=md(n,i),B=Ie,J=d&nn.Host?i[Si][gi]:null;for((-1===x||d&nn.SkipSelf)&&(B=-1===x?ch(n,i):i[x+8],B!==Ie&&Oa(d,!1)?(b=i[Cn],x=uo(B),i=hs(B,i)):x=-1);-1!==x;){const ge=i[Cn];if(dh(v,x,ge.data)){const Ne=Ri(x,i,a,b,d,J);if(Ne!==Qa)return Ne}B=i[x+8],B!==Ie&&Oa(d,i[Cn].data[x+8]===J)&&dh(v,x,i)?(b=ge,x=uo(B),i=hs(B,i)):x=-1}}return f}function Ri(n,i,a,d,f,v){const b=i[Cn],x=b.data[n+8],ge=Lo(x,b,a,null==d?os(x)&&Vu:d!=b&&0!=(3&x.type),f&nn.Host&&v===x);return null!==ge?Qi(i,b,ge,x):Qa}function Lo(n,i,a,d,f){const v=n.providerIndexes,b=i.data,x=1048575&v,B=n.directiveStart,ge=v>>20,lt=f?x+ge:n.directiveEnd;for(let Rt=d?x:x+ge;Rt<lt;Rt++){const en=b[Rt];if(Rt<B&&a===en||Rt>=B&&en.type===a)return Rt}if(f){const Rt=b[B];if(Rt&&Xs(Rt)&&Rt.type===a)return B}return null}function Qi(n,i,a,d){let f=n[a];const v=i.data;if(function tn(n){return n instanceof gt}(f)){const b=f;b.resolving&&function rt(n,i){const a=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():it(n)}(v[a]));const x=Za(b.canSeeViewProviders);b.resolving=!0;const B=b.injectImpl?nr(b.injectImpl):null;xc(n,d,nn.Default);try{f=n[a]=b.factory(void 0,v,n,d),i.firstCreatePass&&a>=d.directiveStart&&function _f(n,i,a){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:v}=i.type.prototype;if(d){var b,x;const Ne=ku(i);(null!==(b=a.preOrderHooks)&&void 0!==b?b:a.preOrderHooks=[]).push(n,Ne),(null!==(x=a.preOrderCheckHooks)&&void 0!==x?x:a.preOrderCheckHooks=[]).push(n,Ne)}var B,J,ge;f&&(null!==(B=a.preOrderHooks)&&void 0!==B?B:a.preOrderHooks=[]).push(0-n,f),v&&((null!==(J=a.preOrderHooks)&&void 0!==J?J:a.preOrderHooks=[]).push(n,v),(null!==(ge=a.preOrderCheckHooks)&&void 0!==ge?ge:a.preOrderCheckHooks=[]).push(n,v))}(a,v[a],i)}finally{null!==B&&nr(B),Za(x),b.resolving=!1,li()}}return f}function dh(n,i,a){return!!(a[i+(n>>gd)]&1<<n)}function Oa(n,i){return!(n&nn.Self||n&nn.Host&&i)}class co{constructor(i,a){this._tNode=i,this._lView=a}get(i,a,d){return Pa(this._tNode,this._lView,i,fr(d),a)}}function Ms(){return new co(Is(),Qe())}function hh(n){return z(()=>{const i=n.prototype.constructor,a=i[rn]||Vs(i),d=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==d;){const v=f[rn]||Vs(f);if(v&&v!==a)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function Vs(n){return Ve(n)?()=>{const i=Vs(ve(n));return i&&i()}:ls(n)}function gl(n){const i=n[Cn],a=i.type;return 2===a?i.declTNode:1===a?n[gi]:null}function $i(n){return function Gi(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const a=n.attrs;if(a){const d=a.length;let f=0;for(;f<d;){const v=a[f];if(wt(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<d&&"string"==typeof a[f];)f++;else{if(v===i)return a[f+1];f+=2}}}return null}(Is(),n)}const Oo="__annotations__",Ea="__parameters__",Xa="__prop__metadata__";function su(n,i,a,d,f){return z(()=>{const v=Nl(i);function b(...x){if(this instanceof b)return v.call(this,...x),this;const B=new b(...x);return function(ge){return f&&f(ge,...x),(ge.hasOwnProperty(Oo)?ge[Oo]:Object.defineProperty(ge,Oo,{value:[]})[Oo]).push(B),d&&d(ge),ge}}return a&&(b.prototype=Object.create(a.prototype)),b.prototype.ngMetadataName=n,b.annotationCls=b,b})}function Nl(n){return function(...a){if(n){const d=n(...a);for(const f in d)this[f]=d[f]}}}function ea(n,i,a){return z(()=>{const d=Nl(i);function f(...v){if(this instanceof f)return d.apply(this,v),this;const b=new f(...v);return x.annotation=b,x;function x(B,J,ge){const Ne=B.hasOwnProperty(Ea)?B[Ea]:Object.defineProperty(B,Ea,{value:[]})[Ea];for(;Ne.length<=ge;)Ne.push(null);return(Ne[ge]=Ne[ge]||[]).push(b),B}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}const _d=ea("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>$i(n)}));function Rs(n){const i=Sn.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const wd=Function;function el(n){return"function"==typeof n}function ka(n,i){n.forEach(a=>Array.isArray(a)?ka(a,i):i(a))}function If(n,i,a){i>=n.length?n.push(a):n.splice(i,0,a)}function Gu(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function kc(n,i){const a=[];for(let d=0;d<n;d++)a.push(i);return a}function ii(n,i,a){let d=Ll(n,i);return d>=0?n[1|d]=a:(d=~d,function $o(n,i,a,d){let f=n.length;if(f==i)n.push(a,d);else if(1===f)n.push(d,n[0]),n[0]=a;else{for(f--,n.push(n[f-1],n[f]);f>i;)n[f]=n[f-2],f--;n[i]=a,n[i+1]=d}}(n,d,i,a)),d}function Fa(n,i){const a=Ll(n,i);if(a>=0)return n[1|a]}function Ll(n,i){return function tl(n,i,a){let d=0,f=n.length>>a;for(;f!==d;){const v=d+(f-d>>1),b=n[v<<a];if(i===b)return v<<a;b>i?f=v:d=v+1}return~(f<<a)}(n,i,1)}const Wu=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ku=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,qr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Xi=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Yu{constructor(i){this._reflect=i||Sn.Reflect}factory(i){return(...a)=>new i(...a)}_zipTypesAndAnnotations(i,a){let d;d=kc(typeof i>"u"?a.length:i.length);for(let f=0;f<d.length;f++)d[f]=typeof i>"u"?[]:i[f]&&i[f]!=Object?[i[f]]:[],a&&null!=a[f]&&(d[f]=d[f].concat(a[f]));return d}_ownParameters(i,a){if(function qu(n){return Wu.test(n)||Xi.test(n)||Ku.test(n)&&!qr.test(n)}(i.toString()))return null;if(i.parameters&&i.parameters!==a.parameters)return i.parameters;const f=i.ctorParameters;if(f&&f!==a.ctorParameters){const x="function"==typeof f?f():f,B=x.map(ge=>ge&&ge.type),J=x.map(ge=>ge&&Id(ge.decorators));return this._zipTypesAndAnnotations(B,J)}const v=i.hasOwnProperty(Ea)&&i[Ea],b=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",i);return b||v?this._zipTypesAndAnnotations(b,v):kc(i.length)}parameters(i){if(!el(i))return[];const a=Cd(i);let d=this._ownParameters(i,a);return!d&&a!==Object&&(d=this.parameters(a)),d||[]}_ownAnnotations(i,a){if(i.annotations&&i.annotations!==a.annotations){let d=i.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return i.decorators&&i.decorators!==a.decorators?Id(i.decorators):i.hasOwnProperty(Oo)?i[Oo]:null}annotations(i){if(!el(i))return[];const a=Cd(i),d=this._ownAnnotations(i,a)||[];return(a!==Object?this.annotations(a):[]).concat(d)}_ownPropMetadata(i,a){if(i.propMetadata&&i.propMetadata!==a.propMetadata){let d=i.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(i.propDecorators&&i.propDecorators!==a.propDecorators){const d=i.propDecorators,f={};return Object.keys(d).forEach(v=>{f[v]=Id(d[v])}),f}return i.hasOwnProperty(Xa)?i[Xa]:null}propMetadata(i){if(!el(i))return{};const a=Cd(i),d={};if(a!==Object){const v=this.propMetadata(a);Object.keys(v).forEach(b=>{d[b]=v[b]})}const f=this._ownPropMetadata(i,a);return f&&Object.keys(f).forEach(v=>{const b=[];d.hasOwnProperty(v)&&b.push(...d[v]),b.push(...f[v]),d[v]=b}),d}ownPropMetadata(i){return el(i)&&this._ownPropMetadata(i,Cd(i))||{}}hasLifecycleHook(i,a){return i instanceof wd&&a in i.prototype}}function Id(n){return n?n.map(i=>new(0,i.type.annotationCls)(...i.args?i.args:[])):[]}function Cd(n){const i=n.prototype?Object.getPrototypeOf(n.prototype):null;return(i?i.constructor:null)||Object}const Lc=gr(ea("Inject",n=>({token:n})),-1),Bl=gr(ea("Optional"),8),bd=gr(ea("Self"),2),ml=gr(ea("SkipSelf"),4),Zu=gr(ea("Host"),1);let Bc=null;function Vi(n){return La(function Cf(){return Bc=Bc||new Yu}().parameters(n))}function La(n){return n.map(i=>function au(n){const i={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let a=0;a<n.length;a++){const d=n[a];if(void 0===d)continue;const f=Object.getPrototypeOf(d);if(d instanceof Bl||"Optional"===f.ngMetadataName)i.optional=!0;else if(d instanceof ml||"SkipSelf"===f.ngMetadataName)i.skipSelf=!0;else if(d instanceof bd||"Self"===f.ngMetadataName)i.self=!0;else if(d instanceof Zu||"Host"===f.ngMetadataName)i.host=!0;else if(d instanceof Lc)i.token=d.token;else if(d instanceof _d){if(void 0===d.attributeName)throw new Ee(204,!1);i.attribute=d.attributeName}else i.token=d}else i.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return i}(i))}var Ia=(()=>((Ia=Ia||{})[Ia.Important=1]="Important",Ia[Ia.DashCase=2]="DashCase",Ia))();const du=/^>|^->|<!--|-->|--!>|<!-$/g,Sf=/(<|>)/,Fp="\u200b$1\u200b";const Td=new Map;let yh=0;const Ju="__ngContext__";function ta(n,i){ss(i)?(n[Ju]=i[Ro],function Lp(n){Td.set(n[Ro],n)}(i)):n[Ju]=i}let Up;function mm(n,i){return Up(n,i)}function xd(n){const i=n[Kr];return ji(i)?i[Kr]:i}function jl(n){return hu(n[Qs])}function Rf(n){return hu(n[Ni])}function hu(n){for(;null!==n&&!ji(n);)n=n[Ni];return n}function Vc(n,i,a,d,f){if(null!=d){let v,b=!1;ji(d)?v=d:ss(d)&&(b=!0,d=d[Hr]);const x=Ci(d);0===n&&null!==a?null==f?nc(i,a,x):nl(i,a,x,f||null,!0):1===n&&null!==a?nl(i,a,x,f||null,!0):2===n?function Ff(n,i,a){const d=wh(n,i);d&&function rc(n,i,a,d){n.removeChild(i,a,d)}(n,d,i,a)}(i,x,b):3===n&&i.destroyNode(x),null!=v&&function gu(n,i,a,d,f){const v=a[ms];v!==Ci(a)&&Vc(i,n,d,v,f);for(let x=mi;x<a.length;x++){const B=a[x];Pd(B[Cn],B,n,i,d,v)}}(i,n,v,a,f)}}function Uc(n,i){return n.createComment(function Yr(n){return n.replace(du,i=>i.replace(Sf,Fp))}(i))}function ec(n,i,a){return n.createElement(i,a)}function pu(n,i){const a=n[Hs],d=a.indexOf(i);Ke(i),a.splice(d,1)}function tc(n,i){if(n.length<=mi)return;const a=mi+i,d=n[a];if(d){const f=d[Ss];null!==f&&f!==n&&pu(f,d),i>0&&(n[a-1][Ni]=d[Ni]);const v=Gu(n,mi+i);!function vm(n,i){Pd(n,i,i[An],2,null,null),i[Hr]=null,i[gi]=null}(d[Cn],d);const b=v[Ls];null!==b&&b.detachView(v[Cn]),d[Kr]=null,d[Ni]=null,d[Er]&=-129}return d}function xf(n,i){if(!(256&i[Er])){var a,d;const f=i[An];null===(a=i[Uo])||void 0===a||a.destroy(),null===(d=i[Ui])||void 0===d||d.destroy(),f.destroyNode&&Pd(n,i,f,3,null,null),function Co(n){let i=n[Qs];if(!i)return jp(n[Cn],n);for(;i;){let a=null;if(ss(i))a=i[Qs];else{const d=i[mi];d&&(a=d)}if(!a){for(;i&&!i[Ni]&&i!==n;)ss(i)&&jp(i[Cn],i),i=i[Kr];null===i&&(i=n),ss(i)&&jp(i[Cn],i),a=i&&i[Ni]}i=a}}(i)}}function jp(n,i){if(!(256&i[Er])){i[Er]&=-129,i[Er]|=256,function Pf(n,i){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let d=0;d<a.length;d+=2){const f=i[a[d]];if(!(f instanceof gt)){const v=a[d+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const x=f[v[b]],B=v[b+1];us(4,x,B);try{B.call(x)}finally{us(5,x,B)}}else{us(4,f,v);try{v.call(f)}finally{us(5,f,v)}}}}}(n,i),function N_(n,i){const a=n.cleanup,d=i[rs];if(null!==a)for(let v=0;v<a.length-1;v+=2)if("string"==typeof a[v]){const b=a[v+3];b>=0?d[b]():d[-b].unsubscribe(),v+=2}else a[v].call(d[a[v+1]]);null!==d&&(i[rs]=null);const f=i[gs];if(null!==f){for(let v=0;v<f.length;v++)(0,f[v])();i[gs]=null}}(n,i),1===i[Cn].type&&i[An].destroy();const a=i[Ss];if(null!==a&&ji(i[Kr])){a!==i[Kr]&&pu(a,i);const d=i[Ls];null!==d&&d.detachView(n)}!function $p(n){Td.delete(n[Ro])}(i)}}function Of(n,i,a){return function Hp(n,i,a){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return a[Hr];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:v}=n.data[d.directiveStart+f];if(v===Oe.None||v===Oe.Emulated)return null}return cs(d,a)}}(n,i.parent,a)}function nl(n,i,a,d,f){n.insertBefore(i,a,d,f)}function nc(n,i,a){n.appendChild(i,a)}function Eh(n,i,a,d,f){null!==d?nl(n,i,a,d,f):nc(n,i,a)}function wh(n,i){return n.parentNode(i)}function Ih(n,i,a){return Nf(n,i,a)}let kf,Zp,Qp,Nf=function Ch(n,i,a){return 40&n.type?cs(n,a):null};function Gp(n,i,a,d){const f=Of(n,d,i),v=i[An],x=Ih(d.parent||i[gi],d,i);if(null!=f)if(Array.isArray(a))for(let B=0;B<a.length;B++)Eh(v,f,a[B],x,!1);else Eh(v,f,a,x,!1);void 0!==kf&&kf(v,d,i,a,f)}function ic(n,i){if(null!==i){const a=i.type;if(3&a)return cs(i,n);if(4&a)return jc(-1,n[i.index]);if(8&a){const d=i.child;if(null!==d)return ic(n,d);{const f=n[i.index];return ji(f)?jc(-1,f):Ci(f)}}if(32&a)return mm(i,n)()||Ci(n[i.index]);{const d=Wp(n,i);return null!==d?Array.isArray(d)?d[0]:ic(xd(n[Si]),d):ic(n,i.next)}}return null}function Wp(n,i){return null!==i?n[Si][gi].projection[i.projection]:null}function jc(n,i){const a=mi+n+1;if(a<i.length){const d=i[a],f=d[Cn].firstChild;if(null!==f)return ic(d,f)}return i[ms]}function Us(n,i,a,d,f,v,b){for(;null!=a;){const x=d[a.index],B=a.type;if(b&&0===i&&(x&&ta(Ci(x),d),a.flags|=2),32!=(32&a.flags))if(8&B)Us(n,i,a.child,d,f,v,!1),Vc(i,n,f,x,v);else if(32&B){const J=mm(a,d);let ge;for(;ge=J();)Vc(i,n,f,ge,v);Vc(i,n,f,x,v)}else 16&B?bh(n,i,d,a,f,v):Vc(i,n,f,x,v);a=b?a.projectionNext:a.next}}function Pd(n,i,a,d,f,v){Us(a,d,n.firstChild,i,f,v,!1)}function bh(n,i,a,d,f,v){const b=a[Si],B=b[gi].projection[d.projection];if(Array.isArray(B))for(let J=0;J<B.length;J++)Vc(i,n,f,B[J],v);else Us(n,i,B,b[Kr],f,v,!0)}function Hc(n,i,a){""===a?n.removeAttribute(i,"class"):n.setAttribute(i,"class",a)}function Lf(n,i,a){const{mergedAttrs:d,classes:f,styles:v}=a;null!==d&&Dt(n,i,d),null!==f&&Hc(n,i,f),null!==v&&function Yp(n,i,a){n.setAttribute(i,"style",a)}(n,i,v)}function Od(n){Zp=n}function Vf(n){var i;return(null===(i=function Xp(){if(void 0===Qp&&(Qp=null,Sn.trustedTypes))try{Qp=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qp}())||void 0===i?void 0:i.createScriptURL(n))||n}class yu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}function _u(n){return n instanceof yu?n.changingThisBreaksApplicationSecurity:n}function Nd(n,i){const a=function Ah(n){return n instanceof yu&&n.getTypeName()||null}(n);if(null!=a&&a!==i){if("ResourceURL"===a&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${a} (see ${Me})`)}return a===i}const sv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ps=(()=>((Ps=Ps||{})[Ps.NONE=0]="NONE",Ps[Ps.HTML=1]="HTML",Ps[Ps.STYLE=2]="STYLE",Ps[Ps.SCRIPT=3]="SCRIPT",Ps[Ps.URL=4]="URL",Ps[Ps.RESOURCE_URL=5]="RESOURCE_URL",Ps))();function kh(n){const i=fo();return i?i.sanitize(Ps.URL,n)||"":Nd(n,"URL")?_u(n):function ng(n){return(n=String(n)).match(sv)?n:"unsafe:"+n}(it(n))}function qc(n){const i=fo();if(i)return Vf(i.sanitize(Ps.RESOURCE_URL,n)||"");if(Nd(n,"ResourceURL"))return Vf(_u(n));throw new Ee(904,!1)}function $d(n,i,a){return function zf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?qc:kh}(i,a)(n)}function fo(){const n=Qe();return n&&n[bs].sanitizer}class ki{constructor(i,a){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yc=new ki("ENVIRONMENT_INITIALIZER"),Gf=new ki("INJECTOR",-1),Wf=new ki("INJECTOR_DEF_TYPES");class ac{get(i,a=vr){if(a===vr){const d=new Error(`NullInjectorError: No provider for ${$e(i)}!`);throw d.name="NullInjectorError",d}return a}}function uv(...n){return{\u0275providers:lc(0,n),\u0275fromNgModule:!0}}function lc(n,...i){const a=[],d=new Set;let f;return ka(i,v=>{const b=v;wu(b,a,[],d)&&(f||(f=[]),f.push(b))}),void 0!==f&&bm(f,a),a}function bm(n,i){for(let a=0;a<n.length;a++){const{providers:f}=n[a];ro(f,v=>{i.push(v)})}}function wu(n,i,a,d){if(!(n=ve(n)))return!1;let f=null,v=In(n);const b=!v&&Xe(n);if(v||b){if(b&&!b.standalone)return!1;f=n}else{const B=n.ngModule;if(v=In(B),!v)return!1;f=B}const x=d.has(f);if(b){if(x)return!1;if(d.add(f),b.dependencies){const B="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const J of B)wu(J,i,a,d)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let J;d.add(f);try{ka(v.imports,ge=>{wu(ge,i,a,d)&&(J||(J=[]),J.push(ge))})}finally{}void 0!==J&&bm(J,i)}if(!x){const J=ls(f)||(()=>new f);i.push({provide:f,useFactory:J,deps:Le},{provide:Wf,useValue:f,multi:!0},{provide:Yc,useValue:()=>Mt(f),multi:!0})}const B=v.providers;null==B||x||ro(B,ge=>{i.push(ge)})}}return f!==n&&void 0!==n.providers}function ro(n,i){for(let a of n)qe(a)&&(a=a.\u0275providers),Array.isArray(a)?ro(a,i):i(a)}const Kf=de({provide:String,useValue:de});function Iu(n){return null!==n&&"object"==typeof n&&Kf in n}function Ba(n){return"function"==typeof n}const Vd=new ki("Set Injector scope."),Gl={},gE={};let ag;function lg(){return void 0===ag&&(ag=new ac),ag}class Cu{}class uc extends Cu{get destroyed(){return this._destroyed}constructor(i,a,d,f){super(),this.parent=a,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bo(i,b=>this.processProvider(b)),this.records.set(Gf,bu(void 0,this)),f.has("environment")&&this.records.set(Cu,bu(void 0,this));const v=this.records.get(Vd);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Wf.multi,Le,nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const a=fe(this),d=nr(void 0);try{return i()}finally{fe(a),nr(d)}}get(i,a=vr,d=nn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Wn))return i[Wn](this);d=fr(d);const f=fe(this),v=nr(void 0);try{if(!(d&nn.SkipSelf)){let x=this.records.get(i);if(void 0===x){const B=function ug(n){return"function"==typeof n||"object"==typeof n&&n instanceof ki}(i)&&fn(i);x=B&&this.injectableDefInScope(B)?bu(Ud(i),Gl):null,this.records.set(i,x)}if(null!=x)return this.hydrate(i,x)}return(d&nn.Self?lg():this.parent).get(i,a=d&nn.Optional&&a===vr?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[Nr]=b[Nr]||[]).unshift($e(i)),f)throw b;return function he(n,i,a,d){const f=n[Nr];throw i[Jr]&&f.unshift(i[Jr]),n.message=function K(n,i,a,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let f=$e(i);if(Array.isArray(i))f=i.map($e).join(" -> ");else if("object"==typeof i){let v=[];for(let b in i)if(i.hasOwnProperty(b)){let x=i[b];v.push(b+":"+("string"==typeof x?JSON.stringify(x):$e(x)))}f=`{${v.join(", ")}}`}return`${a}${d?"("+d+")":""}[${f}]: ${n.replace(Kn,"\n  ")}`}("\n"+n.message,f,a,d),n.ngTokenPath=f,n[Nr]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{nr(v),fe(f)}}resolveInjectorInitializers(){const i=fe(this),a=nr(void 0);try{const d=this.get(Yc.multi,Le,nn.Self);for(const f of d)f()}finally{fe(i),nr(a)}}toString(){const i=[],a=this.records;for(const d of a.keys())i.push($e(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(i){let a=Ba(i=ve(i))?i:ve(i&&i.provide);const d=function fv(n){return Iu(n)?bu(void 0,n.useValue):bu(Lh(n),Gl)}(i);if(Ba(i)||!0!==i.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=bu(void 0,Gl,!0),f.factory=()=>Fn(f.multi),this.records.set(a,f)),a=i,f.multi.push(i)}this.records.set(a,d)}hydrate(i,a){return a.value===Gl&&(a.value=gE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Dm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(i){if(!i.providedIn)return!1;const a=ve(i.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(i){const a=this._onDestroyHooks.indexOf(i);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ud(n){const i=fn(n),a=null!==i?i.factory:ls(n);if(null!==a)return a;if(n instanceof ki)throw new Ee(204,!1);if(n instanceof Function)return function hv(n){const i=n.length;if(i>0)throw kc(i,"?"),new Ee(204,!1);const a=function Nt(n){return n&&(n[Bt]||n[hr])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Ee(204,!1)}function Lh(n,i,a){let d;if(Ba(n)){const f=ve(n);return ls(f)||Ud(f)}if(Iu(n))d=()=>ve(n.useValue);else if(function rl(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Fn(n.deps||[]));else if(function Fh(n){return!(!n||!n.useExisting)}(n))d=()=>Mt(ve(n.useExisting));else{const f=ve(n&&(n.useClass||n.provide));if(!function qf(n){return!!n.deps}(n))return ls(f)||Ud(f);d=()=>new f(...Fn(n.deps))}return d}function bu(n,i,a=!1){return{factory:n,value:i,multi:a?[]:void 0}}function bo(n,i){for(const a of n)Array.isArray(a)?bo(a,i):a&&qe(a)?bo(a.\u0275providers,i):i(a)}const Sm=new ki("AppId",{providedIn:"root",factory:()=>pv}),pv="ng",Tm=new ki("Platform Initializer"),El=new ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V_=new ki("AnimationModuleType"),cg=new ki("CSP nonce",{providedIn:"root",factory:()=>{var n,i;return(null===(n=function Wc(){return void 0!==Zp?Zp:typeof document<"u"?document:void 0}().body)||void 0===n||null===(i=n.querySelector("[ngCspNonce]"))||void 0===i?void 0:i.getAttribute("ngCspNonce"))||null}});let Vh=(n,i)=>null;function gg(n,i){return Vh(n,i)}class Pm{}class _g{}class Ev{resolveComponentFactory(i){throw function Om(n){const i=Error(`No component factory found for ${$e(n)}.`);return i.ngComponent=n,i}(i)}}let Jc=(()=>{class n{}return n.NULL=new Ev,n})();function wv(){return ep(Is(),Qe())}function ep(n,i){return new tp(cs(n,i))}let tp=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=wv,n})();function da(n){return n instanceof tp?n.nativeElement:n}class Iv{}let km=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Eg(){const n=Qe(),a=Po(Is().index,n);return(ss(a)?a:n)[An]}(),n})(),np=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>null}),n})();class wg{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Fm=new wg("16.0.0"),Du={};function Do(n){for(;n;){n[Er]|=64;const i=xd(n);if(Ki(n)&&!i)return n;n=i}return null}function rp(n){return n.ngOriginalError}class jh{constructor(){this._console=console}handleError(i){const a=this._findOriginalError(i);this._console.error("ERROR",i),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(i){let a=i&&rp(i);for(;a&&rp(a);)a=rp(a);return a||null}}const Gh=new ki("",{providedIn:"root",factory:()=>!1});function wl(n){return n instanceof Function?n():n}class Um extends jr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){Do(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,a,d){const f=pn(this);this.trackingVersion++;try{i(a,d)}finally{pn(f)}}destroy(){this.trackingVersion++}}let Tu=null;function sp(){var n;return null!==(n=Tu)&&void 0!==n||(Tu=new Um),Tu}function bv(n,i){var a;return null!==(a=n[i])&&void 0!==a?a:sp()}function Dv(n,i){const a=sp();a.hasReadASignal&&(n[i]=Tu,a.lView=n,Tu=new Um)}const Zr={};function jm(n){Sv(Vt(),Qe(),to()+n,!1)}function Sv(n,i,a,d){if(!d)if(3==(3&i[Er])){const v=n.preOrderCheckHooks;null!==v&&M(i,v,a)}else{const v=n.preOrderHooks;null!==v&&O(i,v,0,a)}Go(a)}const Sg={\u0275\u0275defineInjectable:et,\u0275\u0275defineInjector:Jt,\u0275\u0275inject:Mt,\u0275\u0275invalidFactoryDep:function an(n){throw new Ee(202,!1)},resolveForwardRef:ve};const Tg=de({provide:String,useValue:de});function Av(n){return void 0!==n.useClass}function zm(n){return void 0!==n.useFactory}const op=su("Injectable",void 0,void 0,void 0,(n,i)=>function G_(n,i){let a=null,d=null;n.hasOwnProperty(Bt)||Object.defineProperty(n,Bt,{get:()=>(null===a&&(a=Rs().compileInjectable(Sg,`ng:///${n.name}/\u0275prov.js`,function Wm(n,i){const a=i||{providedIn:null},d={name:n.name,type:n,typeArgumentCount:0,providedIn:a.providedIn};return(Av(a)||zm(a))&&void 0!==a.deps&&(d.deps=La(a.deps)),Av(a)?d.useClass=a.useClass:function Hm(n){return Tg in n}(a)?d.useValue=a.useValue:zm(a)?d.useFactory=a.useFactory:function Gm(n){return void 0!==n.useExisting}(a)&&(d.useExisting=a.useExisting),d}(n,i))),a)}),n.hasOwnProperty(rn)||Object.defineProperty(n,rn,{get:()=>{if(null===d){const f=Rs();d=f.compileFactory(Sg,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:Vi(n),target:f.FactoryTarget.Injectable})}return d},configurable:!0})}(n,i));function ed(n,i=null,a=null,d){const f=hc(n,i,a,d);return f.resolveInjectorInitializers(),f}function hc(n,i=null,a=null,d,f=new Set){const v=[a||Le,uv(n)];return d=d||("object"==typeof n?void 0:$e(n)),new uc(v,i||lg(),d||null,f)}let fc=(()=>{class n{static create(a,d){if(Array.isArray(a))return ed({name:""},d,a,"");{var f;const v=null!==(f=a.name)&&void 0!==f?f:"";return ed({name:v},a.parent,a.providers,v)}}}return n.THROW_IF_NOT_FOUND=vr,n.NULL=new ac,n.\u0275prov=et({token:n,providedIn:"any",factory:()=>Mt(Gf)}),n.__NG_ELEMENT_ID__=-1,n})();function Au(n,i=nn.Default){const a=Qe();return null===a?Mt(n,i):Pa(Is(),a,ve(n),i)}function qh(){throw new Error("invalid")}function td(n,i,a,d,f,v,b,x,B,J,ge){const Ne=i.blueprint.slice();return Ne[Hr]=f,Ne[Er]=140|d,(null!==J||n&&2048&n[Er])&&(Ne[Er]|=2048),H(Ne),Ne[Kr]=Ne[Wi]=n,Ne[Ur]=a,Ne[bs]=b||n&&n[bs],Ne[An]=x||n&&n[An],Ne[is]=B||n&&n[is]||null,Ne[gi]=v,Ne[Ro]=function Tf(){return yh++}(),Ne[es]=ge,Ne[_o]=J,Ne[Si]=2==i.type?n[Si]:Ne,Ne}function ap(n,i,a,d,f){let v=n.data[i];if(null===v)v=function Mv(n,i,a,d,f){const v=fd(),b=Rl(),B=n.data[i]=function Zh(n,i,a,d,f,v){return{type:a,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,a,i,d,f);return null===n.firstChild&&(n.firstChild=B),null!==v&&(b?null==v.child&&null!==B.parent&&(v.child=B):null===v.next&&(v.next=B,B.prev=v)),B}(n,i,a,d,f),function dr(){return yn.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=a,v.value=d,v.attrs=f;const b=function Ml(){const n=yn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return Ka(v,!0),v}function Yh(n,i,a,d){if(0===a)return-1;const f=i.length;for(let v=0;v<a;v++)i.push(d),n.blueprint.push(d),n.data.push(null);return f}function Km(n,i,a,d,f){const v=bv(i,Uo),b=to(),x=2&d;try{if(Go(-1),x&&i.length>Br&&Sv(n,i,Br,!1),us(x?2:0,f),x)v.runInContext(a,d,f);else{const J=pn(null);try{a(d,f)}finally{pn(J)}}}finally{x&&null===i[Uo]&&Dv(i,Uo),Go(b),us(x?3:1,f)}}function Ag(n,i,a){if(Xo(i)){const d=pn(null);try{const v=i.directiveEnd;for(let b=i.directiveStart;b<v;b++){const x=n.data[b];x.contentQueries&&x.contentQueries(1,a[b],b)}}finally{pn(d)}}}function Mg(n,i,a){Gr()&&(function kv(n,i,a,d){const f=a.directiveStart,v=a.directiveEnd;os(a)&&function ry(n,i,a){const d=cs(i,n),b=ha(n,td(n,Rv(a),null,a.onPush?64:16,d,i,null,n[bs].rendererFactory.createRenderer(d,a),null,null,null));n[i.index]=b}(i,a,n.data[f+a.componentOffset]),n.firstCreatePass||iu(a,i),ta(d,i);const b=a.initialInputs;for(let x=f;x<v;x++){const B=n.data[x],J=Qi(i,n,x,a);ta(J,i),null!==b&&Qh(0,x-f,J,B,0,b),Xs(B)&&(Po(a.index,i)[Ur]=Qi(i,n,x,a))}}(n,i,a,cs(a,i)),64==(64&a.flags)&&Fv(n,i,a))}function qm(n,i,a=cs){const d=i.localNames;if(null!==d){let f=i.index+1;for(let v=0;v<d.length;v+=2){const b=d[v+1],x=-1===b?a(i,n):n[b];n[f++]=x}}}function Rv(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=lp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function lp(n,i,a,d,f,v,b,x,B,J,ge){const Ne=Br+d,lt=Ne+f,Rt=function Ym(n,i){const a=[];for(let d=0;d<i;d++)a.push(d<n?null:Zr);return a}(Ne,lt),en="function"==typeof J?J():J;return Rt[Cn]={type:n,blueprint:Rt,template:a,queries:null,viewQuery:x,declTNode:i,data:Rt.slice().fill(null,Ne),bindingStartIndex:Ne,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:B,consts:en,incompleteFirstPass:!1,ssrId:ge}}let xv=n=>null;function Qm(n,i,a,d){for(let f in n)if(n.hasOwnProperty(f)){a=null===a?{}:a;const v=n[f];null===d?q_(a,i,f,v):d.hasOwnProperty(f)&&q_(a,i,d[f],v)}return a}function q_(n,i,a,d){n.hasOwnProperty(a)?n[a].push(i,d):n[a]=[i,d]}function xg(n,i,a,d){if(Gr()){const f=null===d?null:{"":-1},v=function Lv(n,i){const a=n.directiveRegistry;let d=null,f=null;if(a)for(let b=0;b<a.length;b++){const x=a[b];if(yi(i,x.selectors,!1))if(d||(d=[]),Xs(x))if(null!==x.findHostDirectiveDefs){const B=[];f=f||new Map,x.findHostDirectiveDefs(x,B,f),d.unshift(...B,x),ey(n,i,B.length)}else d.unshift(x),ey(n,i,0);else{var v;f=f||new Map,null===(v=x.findHostDirectiveDefs)||void 0===v||v.call(x,x,d,f),d.push(x)}}return null===d?null:[d,f]}(n,a);let b,x;null===v?b=x=null:[b,x]=v,null!==b&&Pg(n,i,a,b,f,x),f&&function ty(n,i,a){if(i){const d=n.localNames=[];for(let f=0;f<i.length;f+=2){const v=a[i[f+1]];if(null==v)throw new Ee(-301,!1);d.push(i[f],v)}}}(a,d,f)}a.mergedAttrs=_n(a.mergedAttrs,a.attrs)}function Pg(n,i,a,d,f,v){for(let Ne=0;Ne<d.length;Ne++)yd(iu(a,i),n,d[Ne].type);!function ny(n,i,a){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+a,n.providerIndexes=i}(a,n.data.length,d.length);for(let Ne=0;Ne<d.length;Ne++){const lt=d[Ne];lt.providersResolver&&lt.providersResolver(lt)}let b=!1,x=!1,B=Yh(n,i,d.length,null);for(let Ne=0;Ne<d.length;Ne++){const lt=d[Ne];a.mergedAttrs=_n(a.mergedAttrs,lt.hostAttrs),J_(n,a,i,B,lt),X_(B,lt,f),null!==lt.contentQueries&&(a.flags|=4),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(a.flags|=64);const Rt=lt.type.prototype;var J,ge;!b&&(Rt.ngOnChanges||Rt.ngOnInit||Rt.ngDoCheck)&&((null!==(J=n.preOrderHooks)&&void 0!==J?J:n.preOrderHooks=[]).push(a.index),b=!0),x||!Rt.ngOnChanges&&!Rt.ngDoCheck||((null!==(ge=n.preOrderCheckHooks)&&void 0!==ge?ge:n.preOrderCheckHooks=[]).push(a.index),x=!0),B++}!function Y_(n,i,a){const f=i.directiveEnd,v=n.data,b=i.attrs,x=[];let B=null,J=null;for(let ge=i.directiveStart;ge<f;ge++){const Ne=v[ge],lt=a?a.get(Ne):null,en=lt?lt.outputs:null;B=Qm(Ne.inputs,ge,B,lt?lt.inputs:null),J=Qm(Ne.outputs,ge,J,en);const bn=null===B||null===b||Wr(i)?null:Og(B,ge,b);x.push(bn)}null!==B&&(B.hasOwnProperty("class")&&(i.flags|=8),B.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=x,i.inputs=B,i.outputs=J}(n,a,v)}function Fv(n,i,a){const d=a.directiveStart,f=a.directiveEnd,v=a.index,b=function Rc(){return yn.lFrame.currentDirectiveIndex}();try{Go(v);for(let x=d;x<f;x++){const B=n.data[x],J=i[x];zi(x),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Q_(B,J)}}finally{Go(-1),zi(b)}}function Q_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function ey(n,i,a){var d;i.componentOffset=a,(null!==(d=n.components)&&void 0!==d?d:n.components=[]).push(i.index)}function X_(n,i,a){if(a){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)a[i.exportAs[d]]=n;Xs(i)&&(a[""]=n)}}function J_(n,i,a,d,f){n.data[d]=f;const v=f.factory||(f.factory=ls(f.type)),b=new gt(v,Xs(f),Au);n.blueprint[d]=b,a[d]=b,function Jm(n,i,a,d,f){const v=f.hostBindings;if(v){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const x=~i.index;(function Nv(n){let i=n.length;for(;i>0;){const a=n[--i];if("number"==typeof a&&a<0)return a}return 0})(b)!=x&&b.push(x),b.push(a,d,v)}}(n,i,d,Yh(n,a,f.hostVars,Zr),f)}function Il(n,i,a,d,f,v){const b=cs(n,i);!function cp(n,i,a,d,f,v,b){if(null==v)n.removeAttribute(i,f,a);else{const x=null==b?it(v):b(v,d||"",f);n.setAttribute(i,f,x,a)}}(i[An],b,v,n.value,a,d,f)}function Qh(n,i,a,d,f,v){const b=v[i];if(null!==b)for(let x=0;x<b.length;)iy(d,a,b[x++],b[x++],b[x++])}function iy(n,i,a,d,f){const v=pn(null);try{null!==n.setInput?n.setInput(i,f,a,d):i[d]=f}finally{pn(v)}}function Og(n,i,a){let d=null,f=0;for(;f<a.length;){const v=a[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===d&&(d=[]);const b=n[v];for(let x=0;x<b.length;x+=2)if(b[x]===i){d.push(v,b[x+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function dp(n,i,a,d){return[n,!0,!1,i,null,0,d,a,null,null,null]}function Ng(n,i){const a=n.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const v=a[d+1];if(-1!==v){const b=n.data[v];Ma(a[d]),b.contentQueries(2,i[v],v)}}}function ha(n,i){return n[Qs]?n[Fs][Ni]=i:n[Qs]=i,n[Fs]=i,i}function Xh(n,i,a){Ma(0);const d=pn(null);try{i(n,a)}finally{pn(d)}}function kg(n){return n[rs]||(n[rs]=[])}function Bv(n){return n.cleanup||(n.cleanup=[])}function Kd(n,i){const a=n[is],d=a?a.get(jh,null):null;d&&d.handleError(i)}function oy(n,i,a,d,f){for(let v=0;v<a.length;){const b=a[v++],x=a[v++];iy(n.data[b],i[b],d,x,f)}}function $v(n,i){const a=Po(i,n),d=a[Cn];!function ay(n,i){for(let a=i.length;a<n.blueprint.length;a++)i.push(n.blueprint[a])}(d,a);const f=a[Hr];null!==f&&null===a[es]&&(a[es]=gg(f,a[is])),ly(d,a,a[Ur])}function ly(n,i,a){Ya(i);try{const d=n.viewQuery;null!==d&&Xh(1,d,a);const f=n.template;null!==f&&Km(n,i,f,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ng(n,i),n.staticViewQueries&&Xh(2,n.viewQuery,a);const v=n.components;null!==v&&function uy(n,i){for(let a=0;a<i.length;a++)$v(n,i[a])}(i,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[Er]&=-5,Ir()}}let Fg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(a,d,f){const v=typeof Zone>"u"?null:Zone.current,b=new aa(a,J=>{this.all.has(J)&&this.queue.set(J,v)},f);let x;this.all.add(b),b.notify();const B=()=>{var J;b.cleanup(),null===(J=x)||void 0===J||J(),this.all.delete(b),this.queue.delete(b)};return x=null==d?void 0:d.onDestroy(B),{destroy:B}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>new n}),n})();function Jh(n,i,a){let d=a?n.styles:null,f=a?n.classes:null,v=0;if(null!==i)for(let b=0;b<i.length;b++){const x=i[b];"number"==typeof x?v=x:1==v?f=U(f,x):2==v&&(d=U(d,x+": "+i[++b]+";"))}a?n.styles=d:n.stylesWithoutHost=d,a?n.classes=f:n.classesWithoutHost=f}function hp(n,i,a,d,f=!1){for(;null!==a;){const v=i[a.index];if(null!==v&&d.push(Ci(v)),ji(v)){for(let x=mi;x<v.length;x++){const B=v[x],J=B[Cn].firstChild;null!==J&&hp(B[Cn],B,J,d)}v[ms]!==v[Hr]&&d.push(v[ms])}const b=a.type;if(8&b)hp(n,i,a.child,d);else if(32&b){const x=mm(a,i);let B;for(;B=x();)d.push(B)}else if(16&b){const x=Wp(i,a);if(Array.isArray(x))d.push(...x);else{const B=xd(i[Si]);hp(B[Cn],B,x,d,!0)}}a=f?a.projectionNext:a.next}return d}function ef(n,i,a,d=!0){const f=i[bs].rendererFactory;f.begin&&f.begin();try{fp(n,i,n.template,a)}catch(x){throw d&&Kd(i,x),x}finally{var b;f.end&&f.end(),null===(b=i[bs].effectManager)||void 0===b||b.flush()}}function fp(n,i,a,d){var f;const v=i[Er];if(256!=(256&v)){null===(f=i[bs].effectManager)||void 0===f||f.flush(),Ya(i);try{H(i),function _a(n){return yn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&Km(n,i,a,2,d);const x=3==(3&v);if(x){const ge=n.preOrderCheckHooks;null!==ge&&M(i,ge,null)}else{const ge=n.preOrderHooks;null!==ge&&O(i,ge,0,null),D(i,0)}if(function t0(n){for(let i=jl(n);null!==i;i=Rf(i)){if(!i[Ta])continue;const a=i[Hs];for(let d=0;d<a.length;d++){ye(a[d])}}}(i),function pp(n){for(let i=jl(n);null!==i;i=Rf(i))for(let a=mi;a<i.length;a++){const d=i[a],f=d[Cn];Al(d)&&fp(f,d,f.template,d[Ur])}}(i),null!==n.contentQueries&&Ng(n,i),x){const ge=n.contentCheckHooks;null!==ge&&M(i,ge)}else{const ge=n.contentHooks;null!==ge&&O(i,ge,1),D(i,1)}!function W_(n,i){const a=n.hostBindingOpCodes;if(null===a)return;const d=bv(i,Ui);try{for(let f=0;f<a.length;f++){const v=a[f];if(v<0)Go(~v);else{const b=v,x=a[++f],B=a[++f];ri(x,b),d.runInContext(B,2,i[b])}}}finally{null===i[Ui]&&Dv(i,Ui),Go(-1)}}(n,i);const B=n.components;null!==B&&function tf(n,i){for(let a=0;a<i.length;a++)dy(n,i[a])}(i,B);const J=n.viewQuery;if(null!==J&&Xh(2,J,d),x){const ge=n.viewCheckHooks;null!==ge&&M(i,ge)}else{const ge=n.viewHooks;null!==ge&&O(i,ge,2),D(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Er]&=-73,Ke(i)}finally{Ir()}}}function dy(n,i){const a=Po(i,n);if(Al(a)){const d=a[Cn];80&a[Er]?fp(d,a,d.template,a[Ur]):a[Mo]>0&&gp(a)}}function gp(n){for(let d=jl(n);null!==d;d=Rf(d))for(let f=mi;f<d.length;f++){const v=d[f];if(Al(v))if(1024&v[Er]){const b=v[Cn];fp(b,v,b.template,v[Ur])}else v[Mo]>0&&gp(v)}const a=n[Cn].components;if(null!==a)for(let d=0;d<a.length;d++){const f=Po(a[d],n);Al(f)&&f[Mo]>0&&gp(f)}}class nf{get rootNodes(){const i=this._lView,a=i[Cn];return hp(a,i,a.firstChild,[])}constructor(i,a){this._lView=i,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ur]}set context(i){this._lView[Ur]=i}get destroyed(){return 256==(256&this._lView[Er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Kr];if(ji(i)){const a=i[di],d=a?a.indexOf(this):-1;d>-1&&(tc(i,d),Gu(a,d))}this._attachedToViewContainer=!1}xf(this._lView[Cn],this._lView)}onDestroy(i){!function Yt(n,i){if(256==(256&n[Er]))throw new Ee(911,!1);null===n[gs]&&(n[gs]=[]),n[gs].push(i)}(this._lView,i)}markForCheck(){Do(this._cdRefInjectingView||this._lView)}detach(){this._lView[Er]&=-129}reattach(){this._lView[Er]|=128}detectChanges(){ef(this._lView[Cn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O_(n,i){Pd(n,i,i[An],2,null,null)}(this._lView[Cn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=i}}class Bg extends nf{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ef(i[Cn],i,i[Ur],!1)}checkNoChanges(){}get context(){return null}}class qd extends Jc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const a=Xe(i);return new bl(a,this.ngModule)}}function hy(n){const i=[];for(let a in n)n.hasOwnProperty(a)&&i.push({propName:n[a],templateName:a});return i}class mp{constructor(i,a){this.injector=i,this.parentInjector=a}get(i,a,d){d=fr(d);const f=this.injector.get(i,Du,d);return f!==Du||a===Du?f:this.parentInjector.get(i,a,d)}}class bl extends _g{get inputs(){return hy(this.componentDef.inputs)}get outputs(){return hy(this.componentDef.outputs)}constructor(i,a){super(),this.componentDef=i,this.ngModule=a,this.componentType=i.type,this.selector=function Cs(n){return n.map(ti).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!a}create(i,a,d,f){var v;let b=(f=f||this.ngModule)instanceof Cu?f:null===(v=f)||void 0===v?void 0:v.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const x=b?new mp(i,b):i,B=x.get(Iv,null);if(null===B)throw new Ee(407,!1);const Ne={rendererFactory:B,sanitizer:x.get(np,null),effectManager:x.get(Fg,null)},lt=B.createRenderer(null,this.componentDef),Rt=this.componentDef.selectors[0][0]||"div",en=d?function K_(n,i,a,d){const v=d.get(Gh,!1)||a===Oe.ShadowDom,b=n.selectRootElement(i,v);return function Zm(n){xv(n)}(b),b}(lt,d,this.componentDef.encapsulation,x):ec(lt,Rt,function Uv(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Rt)),bn=this.componentDef.onPush?576:528,Bn=lp(0,null,null,1,0,null,null,null,null,null,null),Yn=td(null,Bn,null,bn,null,null,Ne,lt,x,null,null);let hn,Xr;Ya(Yn);try{const ci=this.componentDef;let fs,Dc=null;ci.findHostDirectiveDefs?(fs=[],Dc=new Map,ci.findHostDirectiveDefs(ci,fs,Dc),fs.push(ci)):fs=[ci];const hb=function fy(n,i){const a=n[Cn],d=Br;return n[d]=i,ap(a,d,2,"#host",null)}(Yn,en),UD=function Hv(n,i,a,d,f,v,b){const x=f[Cn];!function py(n,i,a,d){for(const f of n)i.mergedAttrs=_n(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(Jh(i,i.mergedAttrs,!0),null!==a&&Lf(d,a,i))}(d,n,i,b);let B=null;null!==i&&(B=gg(i,f[is]));const J=v.rendererFactory.createRenderer(i,a),ge=td(f,Rv(a),null,a.onPush?64:16,f[n.index],n,v,J,null,null,B);return x.firstCreatePass&&ey(x,n,d.length-1),ha(f,ge),f[n.index]=ge}(hb,en,ci,fs,Yn,Ne,lt);Xr=Ga(Bn,Br),en&&function $g(n,i,a,d){if(d)Dt(n,a,["ng-version",Fm.full]);else{const{attrs:f,classes:v}=function Ji(n){const i=[],a=[];let d=1,f=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===f?""!==v&&i.push(v,n[++d]):8===f&&a.push(v);else{if(!Zn(f))break;f=v}d++}return{attrs:i,classes:a}}(i.selectors[0]);f&&Dt(n,a,f),v&&v.length>0&&Hc(n,a,v.join(" "))}}(lt,ci,en,d),void 0!==a&&function rf(n,i,a){const d=n.projection=[];for(let f=0;f<i.length;f++){const v=a[f];d.push(null!=v?Array.from(v):null)}}(Xr,this.ngContentSelectors,a),hn=function gy(n,i,a,d,f,v){const b=Is(),x=f[Cn],B=cs(b,f);Pg(x,f,b,a,null,d);for(let ge=0;ge<a.length;ge++)ta(Qi(f,x,b.directiveStart+ge,b),f);Fv(x,f,b),B&&ta(B,f);const J=Qi(f,x,b.directiveStart+b.componentOffset,b);if(n[Ur]=f[Ur]=J,null!==v)for(const ge of v)ge(J,i);return Ag(x,b,n),J}(UD,ci,fs,Dc,Yn,[my]),ly(Bn,Yn,null)}finally{Ir()}return new qo(this.componentType,hn,ep(Xr,Yn),Yn,Xr)}}class qo extends Pm{constructor(i,a,d,f,v){super(),this.location=d,this._rootLView=f,this._tNode=v,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Bg(f),this.componentType=i}setInput(i,a){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[i])){var v;if(null!==(v=this.previousInputValues)&&void 0!==v||(this.previousInputValues=new Map),this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),a))return;const b=this._rootLView;oy(b[Cn],b,f,i,a),this.previousInputValues.set(i,a),Do(Po(this._tNode.index,b))}}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function my(){const n=Is();$u(Qe()[Cn],n)}function sf(n){let i=function Yd(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const d=[n];for(;i;){let f;if(Xs(n))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ee(903,!1);f=i.\u0275dir}if(f){if(a){d.push(f);const b=n;b.inputs=yp(n.inputs),b.declaredInputs=yp(n.declaredInputs),b.outputs=yp(n.outputs);const x=f.hostBindings;x&&n0(n,x);const B=f.viewQuery,J=f.contentQueries;if(B&&Vo(n,B),J&&Vg(n,J),De(n.inputs,f.inputs),De(n.declaredInputs,f.declaredInputs),De(n.outputs,f.outputs),Xs(f)&&f.data.animation){const ge=n.data;ge.animation=(ge.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let b=0;b<v.length;b++){const x=v[b];x&&x.ngInherit&&x(n),x===sf&&(a=!1)}}i=Object.getPrototypeOf(i)}!function Wl(n){let i=0,a=null;for(let d=n.length-1;d>=0;d--){const f=n[d];f.hostVars=i+=f.hostVars,f.hostAttrs=_n(f.hostAttrs,a=_n(a,f.hostAttrs))}}(d)}function yp(n){return n===st?{}:n===Le?[]:n}function Vo(n,i){const a=n.viewQuery;n.viewQuery=a?(d,f)=>{i(d,f),a(d,f)}:i}function Vg(n,i){const a=n.contentQueries;n.contentQueries=a?(d,f,v)=>{i(d,f,v),a(d,f,v)}:i}function n0(n,i){const a=n.hostBindings;n.hostBindings=a?(d,f)=>{i(d,f),a(d,f)}:i}function ra(n){return!!_p(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _p(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ia(n,i,a){return!Object.is(n[i],a)&&(n[i]=a,!0)}function Os(n,i,a,d){const f=Qe();return ia(f,xl(),i)&&(Vt(),Il(Li(),f,n,i,a,d)),Os}function Kg(n,i,a,d,f,v,b,x){const B=Qe(),J=Vt(),ge=n+Br,Ne=J.firstCreatePass?function ud(n,i,a,d,f,v,b,x,B){const J=i.consts,ge=ap(i,n,4,b||null,re(J,x));xg(i,a,ge,re(J,B)),$u(i,ge);const Ne=ge.tView=lp(2,ge,d,f,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,J,null);return null!==i.queries&&(i.queries.template(i,ge),Ne.queries=i.queries.embeddedTView(ge)),ge}(ge,J,B,i,a,d,f,v,b):J.data[ge];Ka(Ne,!1);const lt=cf(J,B,Ne,n);Wo()&&Gp(J,B,lt,Ne),ta(lt,B),ha(B,B[ge]=dp(lt,B,lt,Ne)),as(Ne)&&Mg(J,B,Ne),null!=b&&qm(B,Ne,x)}let cf=function Sy(n,i,a,d){return Fo(!0),i[An].createComment("")};function Xd(n){return Wa(function Ac(){return yn.lFrame.contextLView}(),Br+n)}function Dp(n,i,a){const d=Qe();return ia(d,xl(),i)&&function ba(n,i,a,d,f,v,b,x){const B=cs(i,a);let ge,J=i.inputs;!x&&null!=J&&(ge=J[d])?(oy(n,a,ge,d,f),os(i)&&function up(n,i){const a=Po(i,n);16&a[Er]||(a[Er]|=64)}(a,i.index)):3&i.type&&(d=function Z_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),f=null!=b?b(f,i.value||"",d):f,v.setProperty(B,d,f))}(Vt(),Li(),d,n,i,d[An],a,!1),Dp}function Jd(n,i,a,d,f){const b=f?"class":"style";oy(n,a,i.inputs[b],b,d)}function df(n,i,a,d){const f=Qe(),v=Vt(),b=Br+n,x=f[An],B=v.firstCreatePass?function Jv(n,i,a,d,f,v){const b=i.consts,B=ap(i,n,2,d,re(b,f));return xg(i,a,B,re(b,v)),null!==B.attrs&&Jh(B,B.attrs,!1),null!==B.mergedAttrs&&Jh(B,B.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,B),B}(b,v,f,i,a,d):v.data[b],J=eh(v,f,B,x,i,n);f[b]=J;const ge=as(B);return Ka(B,!0),Lf(x,J,B),32!=(32&B.flags)&&Wo()&&Gp(v,f,J,B),0===function kr(){return yn.lFrame.elementDepthCount}()&&ta(J,f),function ts(){yn.lFrame.elementDepthCount++}(),ge&&(Mg(v,f,B),Ag(v,B,f)),null!==d&&qm(f,B),df}function cd(){let n=Is();Rl()?qa():(n=n.parent,Ka(n,!1));const i=n;(function ds(n){return yn.skipHydrationRootTNode===n})(i)&&function Mn(){yn.skipHydrationRootTNode=null}(),function Qt(){yn.lFrame.elementDepthCount--}();const a=Vt();return a.firstCreatePass&&($u(a,n),Xo(n)&&a.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Bi(n){return 0!=(8&n.flags)}(i)&&Jd(a,i,Qe(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function lo(n){return 0!=(16&n.flags)}(i)&&Jd(a,i,Qe(),i.stylesWithoutHost,!1),cd}function Ty(n,i,a,d){return df(n,i,a,d),cd(),Ty}let eh=(n,i,a,d,f,v)=>(Fo(!0),ec(d,f,function Bu(){return yn.lFrame.currentNamespace}()));function e_(n,i,a){const d=Qe(),f=Vt(),v=n+Br,b=f.firstCreatePass?function f0(n,i,a,d,f){const v=i.consts,b=re(v,d),x=ap(i,n,8,"ng-container",b);return null!==b&&Jh(x,b,!0),xg(i,a,x,re(v,f)),null!==i.queries&&i.queries.elementStart(i,x),x}(v,f,d,i,a):f.data[v];Ka(b,!0);const x=th(f,d,b,n);return d[v]=x,Wo()&&Gp(f,d,x,b),ta(x,d),as(b)&&(Mg(f,d,b),Ag(f,b,d)),null!=a&&qm(d,b),e_}function ff(){let n=Is();const i=Vt();return Rl()?qa():(n=n.parent,Ka(n,!1)),i.firstCreatePass&&($u(i,n),Xo(n)&&i.queries.elementEnd(n)),ff}function Ay(n,i,a){return e_(n,i,a),ff(),Ay}let th=(n,i,a,d)=>(Fo(!0),Uc(i[An],""));function pf(){return Qe()}function r_(n){return!!n&&"function"==typeof n.then}function p0(n){return!!n&&"function"==typeof n.subscribe}function Sp(n,i,a,d){const f=Qe(),v=Vt(),b=Is();return function My(n,i,a,d,f,v,b){const x=as(d),J=n.firstCreatePass&&Bv(n),ge=i[Ur],Ne=kg(i);let lt=!0;if(3&d.type||b){const bn=cs(d,i),Bn=b?b(bn):bn,Yn=Ne.length,hn=b?ci=>b(Ci(ci[d.index])):d.index;let Xr=null;if(!b&&x&&(Xr=function g0(n,i,a,d){const f=n.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const b=f[v];if(b===a&&f[v+1]===d){const x=i[rs],B=f[v+2];return x.length>B?x[B]:null}"string"==typeof b&&(v+=2)}return null}(n,i,f,d.index)),null!==Xr)(Xr.__ngLastListenerFn__||Xr).__ngNextListenerFn__=v,Xr.__ngLastListenerFn__=v,lt=!1;else{v=xy(d,i,ge,v,!1);const ci=a.listen(Bn,f,v);Ne.push(v,ci),J&&J.push(f,hn,Yn,Yn+1)}}else v=xy(d,i,ge,v,!1);const Rt=d.outputs;let en;if(lt&&null!==Rt&&(en=Rt[f])){const bn=en.length;if(bn)for(let Bn=0;Bn<bn;Bn+=2){const fs=i[en[Bn]][en[Bn+1]].subscribe(v),Dc=Ne.length;Ne.push(v,fs),J&&J.push(f,d.index,Dc,-(Dc+1))}}}(v,f,f[An],b,n,i,d),Sp}function Ry(n,i,a,d){try{return us(6,i,a),!1!==a(d)}catch(f){return Kd(n,f),!1}finally{us(7,i,a)}}function xy(n,i,a,d,f){return function v(b){if(b===Function)return d;Do(n.componentOffset>-1?Po(n.index,i):i);let B=Ry(i,a,d,b),J=v.__ngNextListenerFn__;for(;J;)B=Ry(i,a,J,b)&&B,J=J.__ngNextListenerFn__;return f&&!1===B&&(b.preventDefault(),b.returnValue=!1),B}}function Py(n=1){return function Ra(n){return(yn.lFrame.contextLView=function Yi(n,i){for(;n>0;)i=i[Wi],n--;return i}(n,yn.lFrame.contextLView))[Ur]}(n)}function s_(n,i){let a=null;const d=function Ds(n){const i=n.attrs;if(null!=i){const a=i.indexOf(5);if(!(1&a))return i[a+1]}return null}(n);for(let f=0;f<i.length;f++){const v=i[f];if("*"!==v){if(null===d?yi(n,v,!0):js(d,v))return f}else a=f}return a}function Zg(n){const i=Qe()[Si][gi];if(!i.projection){const d=i.projection=kc(n?n.length:1,null),f=d.slice();let v=i.child;for(;null!==v;){const b=n?s_(v,n):0;null!==b&&(f[b]?f[b].projectionNext=v:d[b]=v,f[b]=v),v=v.next}}}function Qg(n,i=0,a){const d=Qe(),f=Vt(),v=ap(f,Br+n,16,null,a||null);null===v.projection&&(v.projection=i),qa(),(!d[es]||function ws(){return null!==yn.skipHydrationRootTNode}())&&32!=(32&v.flags)&&function Em(n,i,a){bh(i[An],0,i,a,Of(n,a,i),Ih(a.parent||i[gi],a,i))}(f,d,v)}function Yl(n,i){return n<<17|i<<2}function vc(n){return n>>17&32767}function Ou(n){return 2|n}function nh(n){return(131068&n)>>2}function Oy(n,i){return-131069&n|i<<2}function tm(n){return 1|n}function a_(n,i,a,d,f){const v=n[a+1],b=null===i;let x=d?vc(v):nh(v),B=!1;for(;0!==x&&(!1===B||b);){const ge=n[x+1];I0(n[x],i)&&(B=!0,n[x+1]=d?tm(ge):Ou(ge)),x=d?vc(ge):nh(ge)}B&&(n[a+1]=d?Ou(v):tm(v))}function I0(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Ll(n,i)>=0}function R0(n,i){return function Dl(n,i,a,d){const f=Qe(),v=Vt(),b=function Ei(n){const i=yn.lFrame,a=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,a}(2);v.firstUpdatePass&&function Fy(n,i,a,d){const f=n.data;if(null===f[a+1]){const v=f[to()],b=function P0(n,i){return i>=n.expandoStartIndex}(n,a);(function se(n,i){return 0!=(n.flags&(i?8:16))})(v,d)&&null===i&&!b&&(i=!1),i=function O0(n,i,a,d){const f=function On(n){const i=yn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let v=d?i.residualClasses:i.residualStyles;if(null===f)0===(d?i.classBindings:i.styleBindings)&&(a=s(a=nm(null,n,i,a,d),i.attrs,d),v=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==f)if(a=nm(f,n,i,a,d),null===v){let B=function N0(n,i,a){const d=a?i.classBindings:i.styleBindings;if(0!==nh(d))return n[vc(d)]}(n,i,d);void 0!==B&&Array.isArray(B)&&(B=nm(null,n,i,B[1],d),B=s(B,i.attrs,d),function RE(n,i,a,d){n[vc(a?i.classBindings:i.styleBindings)]=d}(n,i,d,B))}else v=function xE(n,i,a){let d;const f=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<f;v++)d=s(d,n[v].hostAttrs,a);return s(d,i.attrs,a)}(n,i,d)}return void 0!==v&&(d?i.residualClasses=v:i.residualStyles=v),a}(f,v,i,d),function E0(n,i,a,d,f,v){let b=v?i.classBindings:i.styleBindings,x=vc(b),B=nh(b);n[d]=a;let ge,J=!1;if(Array.isArray(a)?(ge=a[1],(null===ge||Ll(a,ge)>0)&&(J=!0)):ge=a,f)if(0!==B){const lt=vc(n[x+1]);n[d+1]=Yl(lt,x),0!==lt&&(n[lt+1]=Oy(n[lt+1],d)),n[x+1]=function v0(n,i){return 131071&n|i<<17}(n[x+1],d)}else n[d+1]=Yl(x,0),0!==x&&(n[x+1]=Oy(n[x+1],d)),x=d;else n[d+1]=Yl(B,0),0===x?x=d:n[B+1]=Oy(n[B+1],d),B=d;J&&(n[d+1]=Ou(n[d+1])),a_(n,ge,d,!0),a_(n,ge,d,!1),function w0(n,i,a,d,f){const v=f?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&Ll(v,i)>=0&&(a[d+1]=tm(a[d+1]))}(i,ge,n,d,v),b=Yl(x,B),v?i.classBindings=b:i.styleBindings=b}(f,v,i,a,b,d)}}(v,n,b,d),i!==Zr&&ia(f,b,i)&&function m(n,i,a,d,f,v,b,x){if(!(3&i.type))return;const B=n.data,J=B[x+1],ge=function _0(n){return 1==(1&n)}(J)?E(B,i,a,f,nh(J),b):void 0;k(ge)||(k(v)||function y0(n){return 2==(2&n)}(J)&&(v=E(B,null,a,f,x,b)),function qp(n,i,a,d,f){if(i)f?n.addClass(a,d):n.removeClass(a,d);else{let v=-1===d.indexOf("-")?void 0:Ia.DashCase;null==f?n.removeStyle(a,d,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Ia.Important),n.setStyle(a,d,f,v))}}(d,b,ya(to(),a),f,v))}(v,v.data[to()],f,f[An],n,f[b+1]=function Y(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=$e(_u(n)))),n}(i,a),d,b)}(n,i,null,!0),R0}function nm(n,i,a,d,f){let v=null;const b=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<b&&(v=i[x],d=s(d,v.hostAttrs,f),v!==n);)x++;return null!==n&&(a.directiveStylingLast=x),d}function s(n,i,a){const d=a?1:2;let f=-1;if(null!==i)for(let v=0;v<i.length;v++){const b=i[v];"number"==typeof b?f=b:f===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ii(n,b,!!a||i[++v]))}return void 0===n?null:n}function E(n,i,a,d,f,v){const b=null===i;let x;for(;f>0;){const B=n[f],J=Array.isArray(B),ge=J?B[1]:B,Ne=null===ge;let lt=a[f+1];lt===Zr&&(lt=Ne?Le:void 0);let Rt=Ne?Fa(lt,d):ge===d?lt:void 0;if(J&&!k(Rt)&&(Rt=Fa(B,d)),k(Rt)&&(x=Rt,b))return x;const en=n[f+1];f=b?vc(en):nh(en)}if(null!==i){let B=v?i.residualClasses:i.residualStyles;null!=B&&(x=Fa(B,d))}return x}function k(n){return void 0!==n}function Se(n,i=""){const a=Qe(),d=Vt(),f=n+Br,v=d.firstCreatePass?ap(d,f,1,i,null):d.data[f],b=nt(d,a,v,i,n);a[f]=b,Wo()&&Gp(d,a,b,v),Ka(v,!1)}let nt=(n,i,a,d,f)=>(Fo(!0),function fu(n,i){return n.createText(i)}(i[An],d));function wn(n){return jn("",n,""),wn}function jn(n,i,a){const d=Qe(),f=function Da(n,i,a,d){return ia(n,xl(),a)?i+it(a)+d:Zr}(d,n,i,a);return f!==Zr&&function Cl(n,i,a){const d=ya(i,n);!function Hl(n,i,a){n.setValue(i,a)}(n[An],d,a)}(d,to(),f),jn}const Mp=void 0;var d_=["en",[["a","p"],["AM","PM"],Mp],[["AM","PM"],Mp,Mp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mp,"{1} 'at' {0}",Mp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function z0(n){const a=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let sh={};function h_(n){const i=function Ly(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=f_(i);if(a)return a;const d=i.split("-")[0];if(a=f_(d),a)return a;if("en"===d)return d_;throw new Ee(701,!1)}function dd(n){return h_(n)[$r.PluralCase]}function f_(n){return n in sh||(sh[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),sh[n]}var $r=(()=>(($r=$r||{})[$r.LocaleId=0]="LocaleId",$r[$r.DayPeriodsFormat=1]="DayPeriodsFormat",$r[$r.DayPeriodsStandalone=2]="DayPeriodsStandalone",$r[$r.DaysFormat=3]="DaysFormat",$r[$r.DaysStandalone=4]="DaysStandalone",$r[$r.MonthsFormat=5]="MonthsFormat",$r[$r.MonthsStandalone=6]="MonthsStandalone",$r[$r.Eras=7]="Eras",$r[$r.FirstDayOfWeek=8]="FirstDayOfWeek",$r[$r.WeekendRange=9]="WeekendRange",$r[$r.DateFormat=10]="DateFormat",$r[$r.TimeFormat=11]="TimeFormat",$r[$r.DateTimeFormat=12]="DateTimeFormat",$r[$r.NumberSymbols=13]="NumberSymbols",$r[$r.NumberFormats=14]="NumberFormats",$r[$r.CurrencyCode=15]="CurrencyCode",$r[$r.CurrencySymbol=16]="CurrencySymbol",$r[$r.CurrencyName=17]="CurrencyName",$r[$r.Currencies=18]="Currencies",$r[$r.Directionality=19]="Directionality",$r[$r.PluralCase=20]="PluralCase",$r[$r.ExtraData=21]="ExtraData",$r))();const Rp="en-US";let p_=Rp;function Wy(n,i,a,d,f){if(n=ve(n),Array.isArray(n))for(let v=0;v<n.length;v++)Wy(n[v],i,a,d,f);else{const v=Vt(),b=Qe();let x=Ba(n)?n:ve(n.provide),B=Lh(n);const J=Is(),ge=1048575&J.providerIndexes,Ne=J.directiveStart,lt=J.providerIndexes>>20;if(Ba(n)||!n.multi){const Rt=new gt(B,f,Au),en=am(x,i,f?ge:ge+lt,Ne);-1===en?(yd(iu(J,b),v,x),oE(v,n,i.length),i.push(x),J.directiveStart++,J.directiveEnd++,f&&(J.providerIndexes+=1048576),a.push(Rt),b.push(Rt)):(a[en]=Rt,b[en]=Rt)}else{const Rt=am(x,i,ge+lt,Ne),en=am(x,i,ge,ge+lt),Bn=en>=0&&a[en];if(f&&!Bn||!f&&!(Rt>=0&&a[Rt])){yd(iu(J,b),v,x);const Yn=function tw(n,i,a,d,f){const v=new gt(n,a,Au);return v.multi=[],v.index=i,v.componentProviders=0,JE(v,f,d&&!a),v}(f?ew:oI,a.length,f,d,B);!f&&Bn&&(a[en].providerFactory=Yn),oE(v,n,i.length,0),i.push(x),J.directiveStart++,J.directiveEnd++,f&&(J.providerIndexes+=1048576),a.push(Yn),b.push(Yn)}else oE(v,n,Rt>-1?Rt:en,JE(a[f?en:Rt],B,!f&&d));!f&&d&&Bn&&a[en].componentProviders++}}}function oE(n,i,a,d){const f=Ba(i),v=function dv(n){return!!n.useClass}(i);if(f||v){const B=(v?ve(i.useClass):i).prototype.ngOnDestroy;if(B){const J=n.destroyHooks||(n.destroyHooks=[]);if(!f&&i.multi){const ge=J.indexOf(a);-1===ge?J.push(a,[d,B]):J[ge+1].push(d,B)}else J.push(a,B)}}}function JE(n,i,a){return a&&n.componentProviders++,n.multi.push(i)-1}function am(n,i,a,d){for(let f=a;f<d;f++)if(i[f]===n)return f;return-1}function oI(n,i,a,d){return C_(this.multi,[])}function ew(n,i,a,d){const f=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Qi(a,a[Cn],this.providerFactory.index,d);v=x.slice(0,b),C_(f,v);for(let B=b;B<x.length;B++)v.push(x[B])}else v=[],C_(f,v);return v}function C_(n,i){for(let a=0;a<n.length;a++)i.push((0,n[a])());return i}function Jl(n,i=[]){return a=>{a.providersResolver=(d,f)=>function sI(n,i,a){const d=Vt();if(d.firstCreatePass){const f=Xs(n);Wy(a,d.data,d.blueprint,f,!0),Wy(i,d.data,d.blueprint,f,!1)}}(d,f?f(n):n,i)}}class Ic{}class nw{}function aI(n,i){return new aE(n,null!=i?i:null,[])}class aE extends Ic{constructor(i,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qd(this);const f=dn(i);this._bootstrapComponents=wl(f.bootstrap),this._r3Injector=hc(i,a,[{provide:Ic,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver},...d],$e(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class b_ extends nw{constructor(i){super(),this.moduleType=i}create(i){return new aE(this.moduleType,i,[])}}class rw extends Ic{constructor(i){super(),this.componentFactoryResolver=new qd(this),this.instance=null;const a=new uc([...i.providers,{provide:Ic,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],i.parent||lg(),i.debugName,new Set(["environment"]));this.injector=a,i.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function iw(n,i,a=null){return new rw({providers:n,parent:i,debugName:a,runEnvironmentInitializers:!0}).injector}let lE=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const d=lc(0,a.type),f=d.length>0?iw([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,f)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=et({token:n,providedIn:"environment",factory:()=>new n(Mt(Cu))}),n})();function sw(n){n.getStandaloneInjector=i=>i.get(lE).getOrCreateStandaloneInjector(n)}function gw(n,i,a,d,f,v){const b=i+a;return ia(n,b,f)?function Va(n,i,a){return n[i]=a}(n,b+1,v?d.call(v,f):d(f)):function Ky(n,i){const a=n[i];return a===Zr?void 0:a}(n,b+1)}function o(n,i){const a=Vt();let d;const f=n+Br;var v;a.firstCreatePass?(d=function c(n,i){if(i)for(let a=i.length-1;a>=0;a--){const d=i[a];if(n===d.name)return d}}(i,a.pipeRegistry),a.data[f]=d,d.onDestroy&&(null!==(v=a.destroyHooks)&&void 0!==v?v:a.destroyHooks=[]).push(f,d.onDestroy)):d=a.data[f];const b=d.factory||(d.factory=ls(d.type)),x=nr(Au);try{const B=Za(!1),J=b();return Za(B),function Xv(n,i,a,d){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),i[a]=d}(a,Qe(),f,J),J}finally{nr(x)}}function w(n,i,a){const d=n+Br,f=Qe(),v=Wa(f,d);return function Ye(n,i){return n[Cn].data[i].pure}(f,d)?gw(f,function ai(){const n=yn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,v.transform,a,v):v.transform(a)}function Et(n){return i=>{setTimeout(n,void 0,i)}}const Ft=class at extends y.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,a,d){let f=i,v=a||(()=>null),b=d;if(i&&"object"==typeof i){var x,B,J;const Ne=i;f=null===(x=Ne.next)||void 0===x?void 0:x.bind(Ne),v=null===(B=Ne.error)||void 0===B?void 0:B.bind(Ne),b=null===(J=Ne.complete)||void 0===J?void 0:J.bind(Ne)}this.__isAsync&&(v=Et(v),f&&(f=Et(f)),b&&(b=Et(b)));const ge=super.subscribe({next:f,error:v,complete:b});return i instanceof g.w0&&i.add(ge),ge}};function Kt(){return this._results[Symbol.iterator]()}class cn{get changes(){return this._changes||(this._changes=new Ft)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=cn.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Kt)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,a){return this._results.reduce(i,a)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,a){const d=this;d.dirty=!1;const f=function Bo(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function zu(n,i,a){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let f=n[d],v=i[d];if(a&&(f=a(f),v=a(v)),v!==f)return!1}return!0}(d._results,f,a))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ii,n})();const Fr=xn,ni=class extends Fr{constructor(i,a,d){super(),this._declarationLView=i,this._declarationTContainer=a,this.elementRef=d}get ssrId(){var i;return(null===(i=this._declarationTContainer.tView)||void 0===i?void 0:i.ssrId)||null}createEmbeddedView(i,a){return this.createEmbeddedViewImpl(i,a,null)}createEmbeddedViewImpl(i,a,d){const f=this._declarationTContainer.tView,v=td(this._declarationLView,f,i,16,null,f.declTNode,null,null,null,a||null,d||null);v[Ss]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[Ls];return null!==x&&(v[Ls]=x.createEmbeddedView(f)),ly(f,v,i),new nf(v)}};function Ii(){return hi(Is(),Qe())}function hi(n,i){return 4&n.type?new ni(i,n,ep(n,i)):null}let Zy=(()=>{class n{}return n.__NG_ELEMENT_ID__=yr,n})();function yr(){return bc(Is(),Qe())}const Or=Zy,Vr=class extends Or{constructor(i,a,d){super(),this._lContainer=i,this._hostTNode=a,this._hostLView=d}get element(){return ep(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){const i=ch(this._hostTNode,this._hostLView);if(pl(i)){const a=hs(i,this._hostLView),d=uo(i);return new co(a[Cn].data[d+8],a)}return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const a=Di(this._lContainer);return null!==a&&a[i]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(i,a,d){let f,v;"number"==typeof d?f=d:null!=d&&(f=d.index,v=d.injector);const x=i.createEmbeddedViewImpl(a||{},v,null);return this.insertImpl(x,f,!1),x}createComponent(i,a,d,f,v){var b,B;const J=i&&!el(i);let ge;if(J)ge=a;else{const Yn=a||{};ge=Yn.index,d=Yn.injector,f=Yn.projectableNodes,v=Yn.environmentInjector||Yn.ngModuleRef}const Ne=J?i:new bl(Xe(i)),lt=d||this.parentInjector;if(!v&&null==Ne.ngModule){const hn=(J?lt:this.parentInjector).get(Cu,null);hn&&(v=hn)}const Rt=Xe(null!==(b=Ne.componentType)&&void 0!==b?b:{}),en=(null==Rt?void 0:Rt.id,null),bn=null!==(B=null==en?void 0:en.firstChild)&&void 0!==B?B:null,Bn=Ne.create(lt,f,bn,v);return this.insertImpl(Bn.hostView,ge,!!en),Bn}insert(i,a){return this.insertImpl(i,a,!1)}insertImpl(i,a,d){const f=i._lView,v=f[Cn];if(function V(n){return ji(n[Kr])}(f)){const B=this.indexOf(i);if(-1!==B)this.detach(B);else{const J=f[Kr],ge=new Vr(J,J[gi],J[Kr]);ge.detach(ge.indexOf(i))}}const b=this._adjustIndex(a),x=this._lContainer;if(function bi(n,i,a,d){const f=mi+d,v=a.length;d>0&&(a[f-1][Ni]=i),d<v-mi?(i[Ni]=a[f],If(a,mi+d,i)):(a.push(i),i[Ni]=null),i[Kr]=a;const b=i[Ss];null!==b&&a!==b&&function ev(n,i){const a=n[Hs];i[Si]!==i[Kr][Kr][Si]&&(n[Ta]=!0),null===a?n[Hs]=[i]:a.push(i)}(b,i);const x=i[Ls];null!==x&&x.insertView(n),i[Er]|=128}(v,f,x,b),!d){const B=jc(b,x),J=f[An],ge=wh(J,x[ms]);null!==ge&&function P_(n,i,a,d,f,v){d[Hr]=f,d[gi]=i,Pd(n,d,a,1,f,v)}(v,x[gi],J,f,ge,B)}return i.attachToViewContainerRef(),If(mo(x),b,i),i}move(i,a){return this.insert(i,a)}indexOf(i){const a=Di(this._lContainer);return null!==a?a.indexOf(i):-1}remove(i){const a=this._adjustIndex(i,-1),d=tc(this._lContainer,a);d&&(Gu(mo(this._lContainer),a),xf(d[Cn],d))}detach(i){const a=this._adjustIndex(i,-1),d=tc(this._lContainer,a);return d&&null!=Gu(mo(this._lContainer),a)?new nf(d):null}_adjustIndex(i,a=0){return null==i?this.length+a:i}};function Di(n){return n[di]}function mo(n){return n[di]||(n[di]=[])}function bc(n,i){let a;const d=i[n.index];return ji(d)?a=d:(a=dp(d,i,null,n),i[n.index]=a,ha(i,a)),oh(a,i,n,d),new Vr(a,n,i)}let oh=function yo(n,i,a,d){if(n[ms])return;let f;f=8&a.type?Ci(d):function eu(n,i){const a=n[An],d=a.createComment(""),f=cs(i,n);return nl(a,wh(a,f),d,function _m(n,i){return n.nextSibling(i)}(a,f),!1),d}(i,a),n[ms]=f};class pa{constructor(i){this.queryList=i,this.matches=null}clone(){return new pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class ah{constructor(i=[]){this.queries=i}createEmbeddedView(i){const a=i.queries;if(null!==a){const d=null!==i.contentQueries?i.contentQueries[0]:a.length,f=[];for(let v=0;v<d;v++){const b=a.getByIndex(v);f.push(this.queries[b.indexInDeclarationView].clone())}return new ah(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let a=0;a<this.queries.length;a++)null!==uC(i,a).matches&&this.queries[a].setDirty()}}class tu{constructor(i,a,d=null){this.predicate=i,this.flags=a,this.read=d}}class um{constructor(i=[]){this.queries=i}elementStart(i,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,a)}elementEnd(i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(i)}embeddedTView(i){let a=null;for(let d=0;d<this.length;d++){const f=null!==a?a.length:0,v=this.getByIndex(d).embeddedTView(i,f);v&&(v.indexInDeclarationView=d,null!==a?a.push(v):a=[v])}return null!==a?new um(a):null}template(i,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,a)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Qy{constructor(i,a=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(i,a){this.isApplyingToNode(a)&&this.matchTNode(i,a)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,a){this.elementStart(i,a)}embeddedTView(i,a){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,a),new Qy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const v=d[f];this.matchTNodeWithReadOption(i,a,fb(a,v)),this.matchTNodeWithReadOption(i,a,Lo(a,i,v,!1,!1))}else d===xn?4&a.type&&this.matchTNodeWithReadOption(i,a,-1):this.matchTNodeWithReadOption(i,a,Lo(a,i,d,!1,!1))}matchTNodeWithReadOption(i,a,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===tp||f===Zy||f===xn&&4&a.type)this.addMatch(a.index,-2);else{const v=Lo(a,i,f,!1,!1);null!==v&&this.addMatch(a.index,v)}else this.addMatch(a.index,d)}}addMatch(i,a){null===this.matches?this.matches=[i,a]:this.matches.push(i,a)}}function fb(n,i){const a=n.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===i)return a[d+1];return null}function gb(n,i,a,d){return-1===a?function pb(n,i){return 11&n.type?ep(n,i):4&n.type?hi(n,i):null}(i,n):-2===a?function mb(n,i,a){return a===tp?ep(i,n):a===xn?hi(i,n):a===Zy?bc(i,n):void 0}(n,i,d):Qi(n,n[Cn],a,i)}function nC(n,i,a,d){const f=i[Ls].queries[d];if(null===f.matches){const v=n.data,b=a.matches,x=[];for(let B=0;B<b.length;B+=2){const J=b[B];x.push(J<0?null:gb(i,v[J],b[B+1],a.metadata.read))}f.matches=x}return f.matches}function vI(n,i,a,d){const f=n.queries.getByIndex(a),v=f.matches;if(null!==v){const b=nC(n,i,f,a);for(let x=0;x<v.length;x+=2){const B=v[x];if(B>0)d.push(b[x/2]);else{const J=v[x+1],ge=i[-B];for(let Ne=mi;Ne<ge.length;Ne++){const lt=ge[Ne];lt[Ss]===lt[Kr]&&vI(lt[Cn],lt,J,d)}if(null!==ge[Hs]){const Ne=ge[Hs];for(let lt=0;lt<Ne.length;lt++){const Rt=Ne[lt];vI(Rt[Cn],Rt,J,d)}}}}}return d}function rC(n){const i=Qe(),a=Vt(),d=hl();Ma(d+1);const f=uC(a,d);if(n.dirty&&function Lu(n){return 4==(4&n[Er])}(i)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const v=f.crossesNgTemplate?vI(a,i,d,[]):nC(a,i,f,d);n.reset(v,da),n.notifyOnChanges()}return!0}return!1}function iC(n,i,a){const d=Vt();d.firstCreatePass&&(lC(d,new tu(n,i,a),-1),2==(2&i)&&(d.staticViewQueries=!0)),aC(d,Qe(),i)}function sC(n,i,a,d){const f=Vt();if(f.firstCreatePass){const v=Is();lC(f,new tu(i,a,d),v.index),function vb(n,i){const a=n.contentQueries||(n.contentQueries=[]);i!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,i)}(f,n),2==(2&a)&&(f.staticContentQueries=!0)}aC(f,Qe(),a)}function oC(){return function yb(n,i){return n[Ls].queries[i].queryList}(Qe(),hl())}function aC(n,i,a){const d=new cn(4==(4&a));(function Ov(n,i,a,d){const f=kg(i);f.push(a),n.firstCreatePass&&Bv(n).push(d,f.length-1)})(n,i,d,d.destroy),null===i[Ls]&&(i[Ls]=new ah),i[Ls].queries.push(new pa(d))}function lC(n,i,a){null===n.queries&&(n.queries=new um),n.queries.track(new Qy(i,a))}function uC(n,i){return n.queries.getByIndex(i)}function _I(n){return!!dn(n)}const SC=new ki("Application Initializer");let bI=(()=>{class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=null!==(a=mn(SC,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const v=f();if(r_(v))a.push(v);else if(p0(v)){const b=new Promise((x,B)=>{v.subscribe({complete:x,error:B})});a.push(b)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(f=>{this.reject(f)}),0===a.length&&d(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TC=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const _w=new ki("LocaleId",{providedIn:"root",factory:()=>mn(_w,nn.Optional|nn.SkipSelf)||function Vb(){return typeof $localize<"u"&&$localize.locale||Rp}()}),Ub=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jb{constructor(i,a){this.ngModuleFactory=i,this.componentFactories=a}}let Hb=(()=>{class n{compileModuleSync(a){return new b_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),v=wl(dn(a).declarations).reduce((b,x)=>{const B=Xe(x);return B&&b.push(new bl(B)),b},[]);return new jb(d,v)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wb=(()=>Promise.resolve(0))();function DI(n){typeof Zone>"u"?Wb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function RC(...n){}class Sl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ft(!1),this.onMicrotaskEmpty=new Ft(!1),this.onStable=new Ft(!1),this.onError=new Ft(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&a,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Kb(){let n=Sn.requestAnimationFrame,i=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Zb(n){const i=()=>{!function Yb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,TI(n),n.isCheckStableRunning=!0,SI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),TI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,f,v,b,x)=>{try{return xC(n),a.invokeTask(f,v,b,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),PC(n)}},onInvoke:(a,d,f,v,b,x,B)=>{try{return xC(n),a.invoke(f,v,b,x,B)}finally{n.shouldCoalesceRunChangeDetection&&i(),PC(n)}},onHasTask:(a,d,f,v)=>{a.hasTask(f,v),d===f&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,TI(n),SI(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(a,d,f,v)=>(a.handleError(f,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sl.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(Sl.isInAngularZone())throw new Ee(909,!1)}run(i,a,d){return this._inner.run(i,a,d)}runTask(i,a,d,f){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+f,i,qb,RC,RC);try{return v.runTask(b,a,d)}finally{v.cancelTask(b)}}runGuarded(i,a,d){return this._inner.runGuarded(i,a,d)}runOutsideAngular(i){return this._outer.run(i)}}const qb={};function SI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function TI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function xC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PC(n){n._nesting--,SI(n)}class Qb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ft,this.onMicrotaskEmpty=new Ft,this.onStable=new Ft,this.onError=new Ft}run(i,a,d){return i.apply(a,d)}runGuarded(i,a,d){return i.apply(a,d)}runOutsideAngular(i){return i()}runTask(i,a,d,f){return i.apply(a,d)}}const OC=new ki("",{providedIn:"root",factory:NC});function NC(){const n=mn(Sl);let i=!0;const a=new ie.y(f=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{f.next(i),f.complete()})}),d=new ie.y(f=>{let v;n.runOutsideAngular(()=>{v=n.onStable.subscribe(()=>{Sl.assertNotInAngularZone(),DI(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,f.next(!0))})})});const b=n.onUnstable.subscribe(()=>{Sl.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{f.next(!1)}))});return()=>{v.unsubscribe(),b.unsubscribe()}});return(0,me.T)(a,d.pipe((0,be.B)()))}const kC=new ki(""),FC=new ki("");let AI,Xb=(()=>{class n{constructor(a,d,f){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AI||(function Jb(n){AI=n}(f),f.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sl.assertNotInAngularZone(),DI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DI(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,f){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:v,updateCb:f})}whenStable(a,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,f){return[]}}return n.\u0275fac=function(a){return new(a||n)(Mt(Sl),Mt(LC),Mt(FC))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),LC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){var f,v;return null!==(f=null===(v=AI)||void 0===v?void 0:v.findTestabilityInTree(this,a,d))&&void 0!==f?f:null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),cm=null;const BC=new ki("AllowMultipleToken"),MI=new ki("PlatformDestroyListeners"),RI=new ki("appBootstrapListener");class nD{constructor(i,a){this.name=i,this.token=a}}function UC(n,i,a=[]){const d=`Platform: ${i}`,f=new ki(d);return(v=[])=>{let b=xI();if(!b||b.injector.get(BC,!1)){const x=[...a,...v,{provide:f,useValue:!0}];n?n(x):function rD(n){if(cm&&!cm.get(BC,!1))throw new Ee(400,!1);(function $C(){!function oa(n){Es=n}(()=>{throw new Ee(600,!1)})})(),cm=n;const i=n.get(HC);(function VC(n){const i=n.get(Tm,null);null==i||i.forEach(a=>a())})(n)}(function jC(n=[],i){return fc.create({name:i,providers:[{provide:Vd,useValue:"platform"},{provide:MI,useValue:new Set([()=>cm=null])},...n]})}(x,d))}return function sD(n){const i=xI();if(!i)throw new Ee(401,!1);return i}()}}function xI(){var n,i;return null!==(n=null===(i=cm)||void 0===i?void 0:i.get(HC))&&void 0!==n?n:null}let HC=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const f=function oD(n="zone.js",i){return"noop"===n?new Qb:"zone.js"===n?new Sl(i):n}(null==d?void 0:d.ngZone,function zC(n){var i,a;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(i=null==n?void 0:n.eventCoalescing)&&void 0!==i&&i,shouldCoalesceRunChangeDetection:null!==(a=null==n?void 0:n.runCoalescing)&&void 0!==a&&a}}({eventCoalescing:null==d?void 0:d.ngZoneEventCoalescing,runCoalescing:null==d?void 0:d.ngZoneRunCoalescing}));return f.run(()=>{const v=function D_(n,i,a){return new aE(n,i,a)}(a.moduleType,this.injector,function YC(n){return[{provide:Sl,useFactory:n},{provide:Yc,multi:!0,useFactory:()=>{const i=mn(lD,{optional:!0});return()=>i.initialize()}},{provide:qC,useFactory:aD},{provide:OC,useFactory:NC}]}(()=>f)),b=v.injector.get(jh,null);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:B=>{b.handleError(B)}});v.onDestroy(()=>{Ew(this._modules,v),x.unsubscribe()})}),function GC(n,i,a){try{const d=a();return r_(d)?d.catch(f=>{throw i.runOutsideAngular(()=>n.handleError(f)),f}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(b,f,()=>{const x=v.injector.get(bI);return x.runInitializers(),x.donePromise.then(()=>(function K0(n){ct(n,"Expected localeId to be defined"),"string"==typeof n&&(p_=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(_w,Rp)||Rp),this._moduleDoBootstrap(v),v))})})}bootstrapModule(a,d=[]){const f=WC({},d);return function eD(n,i,a){const d=new b_(a);return Promise.resolve(d)}(0,0,a).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(a){const d=a.injector.get(R_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new Ee(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(MI,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Mt(fc))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function WC(n,i){return Array.isArray(i)?i.reduce(WC,n):{...n,...i}}let R_=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mn(qC),this.componentTypes=[],this.components=[],this.isStable=mn(OC),this._injector=mn(Cu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const f=a instanceof _g;if(!this._injector.get(bI).done)throw!f&&on(a),new Ee(405,!1);let b;b=f?a:this._injector.get(Jc).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const x=function tD(n){return n.isBoundToModule}(b)?void 0:this._injector.get(Ic),J=b.create(fc.NULL,[],d||b.selector,x),ge=J.location.nativeElement,Ne=J.injector.get(kC,null);return null==Ne||Ne.registerApplication(ge),J.onDestroy(()=>{this.detachView(J.hostView),Ew(this.components,J),null==Ne||Ne.unregisterApplication(ge)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;Ew(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(RI,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ew(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ew(n,i){const a=n.indexOf(i);a>-1&&n.splice(a,1)}const qC=new ki("",{providedIn:"root",factory:()=>mn(jh).handleError.bind(void 0)});function aD(){const n=mn(Sl),i=mn(jh);return a=>n.runOutsideAngular(()=>i.handleError(a))}let lD=(()=>{class n{constructor(){this.zone=mn(Sl),this.applicationRef=mn(R_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cD(){return!1}function dD(){}let hD=(()=>{class n{}return n.__NG_ELEMENT_ID__=fD,n})();function fD(n){return function pD(n,i,a){if(os(n)&&!a){const d=Po(n.index,i);return new nf(d,d)}return 47&n.type?new nf(i[Si],i):null}(Is(),Qe(),16==(16&n))}class JC{constructor(){}supports(i){return ra(i)}create(i){return new ED(i)}}const _D=(n,i)=>i;class ED{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_D}forEachItem(i){let a;for(a=this._itHead;null!==a;a=a._next)i(a)}forEachOperation(i){let a=this._itHead,d=this._removalsHead,f=0,v=null;for(;a||d;){const b=!d||a&&a.currentIndex<tb(d,f,v)?a:d,x=tb(b,f,v),B=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(a=a._next,null==b.previousIndex)f++;else{v||(v=[]);const J=x-f,ge=B-f;if(J!=ge){for(let lt=0;lt<J;lt++){const Rt=lt<v.length?v[lt]:v[lt]=0,en=Rt+lt;ge<=en&&en<J&&(v[lt]=Rt+1)}v[b.previousIndex]=ge-J}}x!==B&&i(b,x,B)}}forEachPreviousItem(i){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachMovedItem(i){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}forEachIdentityChange(i){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)i(a)}diff(i){if(null==i&&(i=[]),!ra(i))throw new Ee(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,v,b,a=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let x=0;x<this.length;x++)v=i[x],b=this._trackByFn(x,v),null!==a&&Object.is(a.trackById,b)?(d&&(a=this._verifyReinsertion(a,v,b,x)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,b,x),d=!0),a=a._next}else f=0,function jg(n,i){if(Array.isArray(n))for(let a=0;a<n.length;a++)i(n[a]);else{const a=n[Symbol.iterator]();let d;for(;!(d=a.next()).done;)i(d.value)}}(i,x=>{b=this._trackByFn(f,x),null!==a&&Object.is(a.trackById,b)?(d&&(a=this._verifyReinsertion(a,x,b,f)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,b,f),d=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,a,d,f){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._reinsertAfter(i,v,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._moveAfter(i,v,f)):i=this._addAfter(new wD(a,d),v,f),i}_verifyReinsertion(i,a,d,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?i=this._reinsertAfter(v,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const a=i._next;this._addToRemovals(this._unlink(i)),i=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,v=i._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(i,a,d),this._addToMoves(i,d),i}_moveAfter(i,a,d){return this._unlink(i),this._insertAfter(i,a,d),this._addToMoves(i,d),i}_addAfter(i,a,d){return this._insertAfter(i,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,a,d){const f=null===a?this._itHead:a._next;return i._next=f,i._prev=a,null===f?this._itTail=i:f._prev=i,null===a?this._itHead=i:a._next=i,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const a=i._prev,d=i._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,i}_addToMoves(i,a){return i.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,a){return i.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wD{constructor(i,a){this.item=i,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ID{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const a=i._prevDup,d=i._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class eb{constructor(){this.map=new Map}put(i){const a=i.trackById;let d=this.map.get(a);d||(d=new ID,this.map.set(a,d)),d.add(i)}get(i,a){const f=this.map.get(i);return f?f.get(i,a):null}remove(i){const a=i.trackById;return this.map.get(a).remove(i)&&this.map.delete(a),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(n,i,a){const d=n.previousIndex;if(null===d)return d;let f=0;return a&&d<a.length&&(f=a[d]),d+i+f}class nb{constructor(){}supports(i){return i instanceof Map||_p(i)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let a;for(a=this._mapHead;null!==a;a=a._next)i(a)}forEachPreviousItem(i){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)i(a)}forEachChangedItem(i){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}diff(i){if(i){if(!(i instanceof Map||_p(i)))throw new Ee(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const v=this._getOrCreateRecordForKey(f,d);a=this._insertBeforeOrAppend(a,v)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,a){if(i){const d=i._prev;return a._next=i,a._prev=d,i._prev=a,d&&(d._next=a),i===this._mapHead&&(this._mapHead=a),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(i,a){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,a);const v=f._prev,b=f._next;return v&&(v._next=b),b&&(b._prev=v),f._next=null,f._prev=null,f}const d=new bD(i);return this._records.set(i,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,a){Object.is(a,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=a,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,a){i instanceof Map?i.forEach(a):Object.keys(i).forEach(d=>a(i[d],d))}}class bD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new FI([new JC])}let FI=(()=>{class n{constructor(a){this.factories=a}static create(a,d){if(null!=d){const f=d.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:d=>n.create(a,d||rb()),deps:[[n,new ml,new Bl]]}}find(a){const d=this.factories.find(f=>f.supports(a));if(null!=d)return d;throw new Ee(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:rb}),n})();function ib(){return new LI([new nb])}let LI=(()=>{class n{constructor(a){this.factories=a}static create(a,d){if(d){const f=d.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:d=>n.create(a,d||ib()),deps:[[n,new ml,new Bl]]}}find(a){const d=this.factories.find(f=>f.supports(a));if(d)return d;throw new Ee(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:ib}),n})();const TD=UC(null,"core",[]);let AD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Mt(R_))},n.\u0275mod=_e({type:n}),n.\u0275inj=Jt({}),n})(),cb=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=mn(Sl),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(a=>{this.resolve=a})})}add(){if(this.completed)return-1;const a=this.taskId++;return this.collection.add(a),a}remove(a){this.completed||(this.collection.delete(a),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function $D(n,i){const a=Xe(n),d=i.elementInjector||lg();return new bl(a).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}function VD(n){const i=Xe(n);if(!i)return null;const a=new bl(i);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return i.standalone}}}},5030:(ln,ut,L)=>{"use strict";L.d(ut,{u5:()=>Ws,wO:()=>vs,JU:()=>qe,a5:()=>nn,JJ:()=>Tr,JL:()=>Ar,F:()=>_e,On:()=>Hr,UX:()=>xo,Q7:()=>ys,_Y:()=>Cn});var y=L(2223),g=L(4755),ie=L(8996),me=L(9751),be=L(4742),we=L(8421),de=L(7669),De=L(5403),$e=L(3268),U=L(1810),Ue=L(4004);let ve=(()=>{class Z{constructor(C,N){this._renderer=C,this._elementRef=N,this.onChange=pe=>{},this.onTouched=()=>{}}setProperty(C,N){this._renderer.setProperty(this._elementRef.nativeElement,C,N)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(y.Qsj),y.Y36(y.SBq))},Z.\u0275dir=y.lG2({type:Z}),Z})(),Ve=(()=>{class Z extends ve{}return Z.\u0275fac=function(){let j;return function(N){return(j||(j=y.n5z(Z)))(N||Z)}}(),Z.\u0275dir=y.lG2({type:Z,features:[y.qOj]}),Z})();const qe=new y.OlP("NgValueAccessor"),Ee={provide:qe,useExisting:(0,y.Gpc)(()=>Ge),multi:!0},it=new y.OlP("CompositionEventMode");let Ge=(()=>{class Z extends ve{constructor(C,N,pe){super(C,N),this._compositionMode=pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vt(){const Z=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(C){this.setProperty("value",null==C?"":C)}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(it,8))},Z.\u0275dir=y.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,N){1&C&&y.NdJ("input",function(ot){return N._handleInput(ot.target.value)})("blur",function(){return N.onTouched()})("compositionstart",function(){return N._compositionStart()})("compositionend",function(ot){return N._compositionEnd(ot.target.value)})},features:[y._Bn([Ee]),y.qOj]}),Z})();function rt(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}const _t=new y.OlP("NgValidators"),Ze=new y.OlP("NgAsyncValidators");function yt(Z){return rt(Z.value)?{required:!0}:null}function Fe(Z){return null}function He(Z){return null!=Z}function mt(Z){return(0,y.QGY)(Z)?(0,ie.D)(Z):Z}function ct(Z){let j={};return Z.forEach(C=>{j=null!=C?{...j,...C}:j}),0===Object.keys(j).length?null:j}function Tt(Z,j){return j.map(C=>C(Z))}function sn(Z){return Z.map(j=>function Pt(Z){return!Z.validate}(j)?j:C=>j.validate(C))}function et(Z){return null!=Z?function At(Z){if(!Z)return null;const j=Z.filter(He);return 0==j.length?null:function(C){return ct(Tt(C,j))}}(sn(Z)):null}function Jt(Z){return null!=Z?function Ot(Z){if(!Z)return null;const j=Z.filter(He);return 0==j.length?null:function(C){return function Ce(...Z){const j=(0,de.jO)(Z),{args:C,keys:N}=(0,be.D)(Z),pe=new me.y(ot=>{const{length:$t}=C;if(!$t)return void ot.complete();const Zt=new Array($t);let pn=$t,jr=$t;for(let Mr=0;Mr<$t;Mr++){let wr=!1;(0,we.Xf)(C[Mr]).subscribe((0,De.x)(ot,Qr=>{wr||(wr=!0,jr--),Zt[Mr]=Qr},()=>pn--,void 0,()=>{(!pn||!wr)&&(jr||ot.next(N?(0,U.n)(N,Zt):Zt),ot.complete())}))}});return j?pe.pipe((0,$e.Z)(j)):pe}(Tt(C,j).map(mt)).pipe((0,Ue.U)(ct))}}(sn(Z)):null}function fn(Z,j){return null===Z?[j]:Array.isArray(Z)?[...Z,j]:[Z,j]}function Nt(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function In(Z,j){return Array.isArray(Z)?Z.includes(j):Z===j}function Bt(Z,j){const C=Nt(j);return Nt(Z).forEach(pe=>{In(C,pe)||C.push(pe)}),C}function rr(Z,j){return Nt(j).filter(C=>!In(Z,C))}class hr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=et(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,C){return!!this.control&&this.control.hasError(j,C)}getError(j,C){return this.control?this.control.getError(j,C):null}}class pr extends hr{get formDirective(){return null}get path(){return null}}class nn extends hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Lr{constructor(j){this._cd=j}get isTouched(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.touched)}get isUntouched(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.untouched)}get isPristine(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.pristine)}get isDirty(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.dirty)}get isValid(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.valid)}get isInvalid(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.invalid)}get isPending(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.pending)}get isSubmitted(){var j;return!(null===(j=this._cd)||void 0===j||!j.submitted)}}let Tr=(()=>{class Z extends Lr{constructor(C){super(C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(nn,2))},Z.\u0275dir=y.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,N){2&C&&y.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)},features:[y.qOj]}),Z})(),Ar=(()=>{class Z extends Lr{constructor(C){super(C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(pr,10))},Z.\u0275dir=y.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,N){2&C&&y.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)("ng-submitted",N.isSubmitted)},features:[y.qOj]}),Z})();const mn="VALID",fr="INVALID",Fn="PENDING",gr="DISABLED";function Je(Z){return(q(Z)?Z.validators:Z)||null}function K(Z,j){return(q(j)?j.asyncValidators:Z)||null}function q(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class Le{constructor(j,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===mn}get invalid(){return this.status===fr}get pending(){return this.status==Fn}get disabled(){return this.status===gr}get enabled(){return this.status!==gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(Bt(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Bt(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(rr(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(rr(j,this._rawAsyncValidators))}hasValidator(j){return In(this._rawValidators,j)}hasAsyncValidator(j){return In(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Fn,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const C=this._parentMarkedDirty(j.onlySelf);this.status=gr,this.errors=null,this._forEachChild(N=>{N.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:C}),this._onDisabledChange.forEach(N=>N(!0))}enable(j={}){const C=this._parentMarkedDirty(j.onlySelf);this.status=mn,this._forEachChild(N=>{N.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:C}),this._onDisabledChange.forEach(N=>N(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mn||this.status===Fn)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gr:mn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Fn,this._hasOwnPendingAsyncValidator=!0;const C=mt(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(N=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(N,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,C={}){this.errors=j,this._updateControlsErrors(!1!==C.emitEvent)}get(j){let C=j;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((N,pe)=>N&&N._find(pe),this)}getError(j,C){const N=C?this.get(C):this;return N&&N.errors?N.errors[j]:null}hasError(j,C){return!!this.getError(j,C)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?gr:this.errors?fr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fn)?Fn:this._anyControlsHaveStatus(fr)?fr:mn}_anyControlsHaveStatus(j){return this._anyControls(C=>C.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){q(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function he(Z){return Array.isArray(Z)?et(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function z(Z){return Array.isArray(Z)?Jt(Z):Z||null}(this._rawAsyncValidators)}}class ht extends Le{constructor(j,C,N){super(Je(C),K(N,C)),this.controls=j,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,C){return this.controls[j]?this.controls[j]:(this.controls[j]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(j,C,N={}){this.registerControl(j,C),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}removeControl(j,C={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(j,C,N={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],C&&this.registerControl(j,C),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,C={}){(function st(Z,j,C){Z._forEachChild((N,pe)=>{if(void 0===C[pe])throw new y.vHH(1002,"")})})(this,0,j),Object.keys(j).forEach(N=>{(function Oe(Z,j,C){const N=Z.controls;if(!(j?Object.keys(N):N).length)throw new y.vHH(1e3,"");if(!N[C])throw new y.vHH(1001,"")})(this,!0,N),this.controls[N].setValue(j[N],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(j,C={}){null!=j&&(Object.keys(j).forEach(N=>{const pe=this.controls[N];pe&&pe.patchValue(j[N],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(j={},C={}){this._forEachChild((N,pe)=>{N.reset(j[pe],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(j,C,N)=>(j[N]=C.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(C,N)=>!!N._syncPendingControls()||C);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(C=>{const N=this.controls[C];N&&j(N,C)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[C,N]of Object.entries(this.controls))if(this.contains(C)&&j(N))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,N,pe)=>((N.enabled||this.disabled)&&(C[pe]=N.value),C))}_reduceChildren(j,C){let N=j;return this._forEachChild((pe,ot)=>{N=C(N,pe,ot)}),N}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const un=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Wn}),Wn="always";function Dt(Z,j,C=Wn){var N,pe;kn(Z,j),j.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===C)&&(null===(N=(pe=j.valueAccessor).setDisabledState)||void 0===N||N.call(pe,Z.disabled)),function Jn(Z,j){j.valueAccessor.registerOnChange(C=>{Z._pendingValue=C,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&_r(Z,j)})}(Z,j),function or(Z,j){const C=(N,pe)=>{j.valueAccessor.writeValue(N),pe&&j.viewToModelUpdate(N)};Z.registerOnChange(C),j._registerOnDestroy(()=>{Z._unregisterOnChange(C)})}(Z,j),function Wr(Z,j){j.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&_r(Z,j),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,j),function _n(Z,j){if(j.valueAccessor.setDisabledState){const C=N=>{j.valueAccessor.setDisabledState(N)};Z.registerOnDisabledChange(C),j._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(C)})}}(Z,j)}function Wt(Z,j){Z.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(j)})}function kn(Z,j){const C=function Tn(Z){return Z._rawValidators}(Z);null!==j.validator?Z.setValidators(fn(C,j.validator)):"function"==typeof C&&Z.setValidators([C]);const N=function En(Z){return Z._rawAsyncValidators}(Z);null!==j.asyncValidator?Z.setAsyncValidators(fn(N,j.asyncValidator)):"function"==typeof N&&Z.setAsyncValidators([N]);const pe=()=>Z.updateValueAndValidity();Wt(j._rawValidators,pe),Wt(j._rawAsyncValidators,pe)}function _r(Z,j){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}const W={provide:pr,useExisting:(0,y.Gpc)(()=>_e)},ee=(()=>Promise.resolve())();let _e=(()=>{class Z extends pr{constructor(C,N,pe){super(),this.callSetDisabledState=pe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new ht({},et(C),Jt(N))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(C){ee.then(()=>{const N=this._findContainer(C.path);C.control=N.registerControl(C.name,C.control),Dt(C.control,C,this.callSetDisabledState),C.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(C)})}getControl(C){return this.form.get(C.path)}removeControl(C){ee.then(()=>{const N=this._findContainer(C.path);N&&N.removeControl(C.name),this._directives.delete(C)})}addFormGroup(C){ee.then(()=>{const N=this._findContainer(C.path),pe=new ht({});(function Zn(Z,j){kn(Z,j)})(pe,C),N.registerControl(C.name,pe),pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(C){ee.then(()=>{const N=this._findContainer(C.path);N&&N.removeControl(C.name)})}getFormGroup(C){return this.form.get(C.path)}updateModel(C,N){ee.then(()=>{this.form.get(C.path).setValue(N)})}setValue(C){this.control.setValue(C)}onSubmit(C){var N;return this.submitted=!0,function Cs(Z,j){Z._syncPendingControls(),j.forEach(C=>{const N=C.control;"submit"===N.updateOn&&N._pendingChange&&(C.viewToModelUpdate(N._pendingValue),N._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(C),"dialog"===(null==C||null===(N=C.target)||void 0===N?void 0:N.method)}onReset(){this.resetForm()}resetForm(C=void 0){this.form.reset(C),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(C){return C.pop(),C.length?this.form.get(C):this.form}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(_t,10),y.Y36(Ze,10),y.Y36(un,8))},Z.\u0275dir=y.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(C,N){1&C&&y.NdJ("submit",function(ot){return N.onSubmit(ot)})("reset",function(){return N.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([W]),y.qOj]}),Z})();function ae(Z,j){const C=Z.indexOf(j);C>-1&&Z.splice(C,1)}function G(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const oe=class extends Le{constructor(j=null,C,N){super(Je(C),K(N,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),q(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=G(j)?j.value:j)}setValue(j,C={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(N=>N(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(j,C={}){this.setValue(j,C)}reset(j=this.defaultValue,C={}){this._applyFormState(j),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){ae(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){ae(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){G(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},Oi={provide:nn,useExisting:(0,y.Gpc)(()=>Hr)},Fi=(()=>Promise.resolve())();let Hr=(()=>{class Z extends nn{constructor(C,N,pe,ot,$t,Zt){super(),this._changeDetectorRef=$t,this.callSetDisabledState=Zt,this.control=new oe,this._registered=!1,this.name="",this.update=new y.vpe,this._parent=C,this._setValidators(N),this._setAsyncValidators(pe),this.valueAccessor=function Ji(Z,j){if(!j)return null;let C,N,pe;return Array.isArray(j),j.forEach(ot=>{ot.constructor===Ge?C=ot:function ti(Z){return Object.getPrototypeOf(Z.constructor)===Ve}(ot)?N=ot:pe=ot}),pe||N||C||null}(0,ot)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const N=C.name.previousValue;this.formDirective.removeControl({name:N,path:this._getPath(N)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),function Pi(Z,j){if(!Z.hasOwnProperty("model"))return!1;const C=Z.model;return!!C.isFirstChange()||!Object.is(j,C.currentValue)}(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){Fi.then(()=>{var N;this.control.setValue(C,{emitViewToModelChange:!1}),null===(N=this._changeDetectorRef)||void 0===N||N.markForCheck()})}_updateDisabled(C){const N=C.isDisabled.currentValue,pe=0!==N&&(0,y.D6c)(N);Fi.then(()=>{var ot;pe&&!this.control.disabled?this.control.disable():!pe&&this.control.disabled&&this.control.enable(),null===(ot=this._changeDetectorRef)||void 0===ot||ot.markForCheck()})}_getPath(C){return this._parent?function zn(Z,j){return[...j.path,Z]}(C,this._parent):[C]}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(pr,9),y.Y36(_t,10),y.Y36(Ze,10),y.Y36(qe,10),y.Y36(y.sBO,8),y.Y36(un,8))},Z.\u0275dir=y.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Oi]),y.qOj,y.TTD]}),Z})(),Cn=(()=>{class Z{}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275dir=y.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})(),gi=(()=>{class Z{}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({}),Z})();const An=new y.OlP("NgModelWithFormControlWarning");let ji=(()=>{class Z{constructor(){this._validator=Fe}ngOnChanges(C){if(this.inputName in C){const N=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(N),this._validator=this._enabled?this.createValidator(N):Fe,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275dir=y.lG2({type:Z,features:[y.TTD]}),Z})();const Ki={provide:_t,useExisting:(0,y.Gpc)(()=>ys),multi:!0};let ys=(()=>{class Z extends ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.D6c,this.createValidator=C=>yt}enabled(C){return C}}return Z.\u0275fac=function(){let j;return function(N){return(j||(j=y.n5z(Z)))(N||Z)}}(),Z.\u0275dir=y.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,N){2&C&&y.uIk("required",N._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([Ki]),y.qOj]}),Z})();const Gs={provide:_t,useExisting:(0,y.Gpc)(()=>vs),multi:!0};let vs=(()=>{class Z extends ji{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=C=>function ga(Z){return"number"==typeof Z?Z:parseInt(Z,10)}(C),this.createValidator=C=>function je(Z){return j=>rt(j.value)||!function ft(Z){return null!=Z&&"number"==typeof Z.length}(j.value)?null:j.value.length<Z?{minlength:{requiredLength:Z,actualLength:j.value.length}}:null}(C)}}return Z.\u0275fac=function(){let j;return function(N){return(j||(j=y.n5z(Z)))(N||Z)}}(),Z.\u0275dir=y.lG2({type:Z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(C,N){2&C&&y.uIk("minlength",N._enabled?N.minlength:null)},inputs:{minlength:"minlength"},features:[y._Bn([Gs]),y.qOj]}),Z})(),qt=(()=>{class Z{}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({imports:[gi]}),Z})(),Ws=(()=>{class Z{static withConfig(C){var N;return{ngModule:Z,providers:[{provide:un,useValue:null!==(N=C.callSetDisabledState)&&void 0!==N?N:Wn}]}}}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({imports:[qt]}),Z})(),xo=(()=>{class Z{static withConfig(C){var N,pe;return{ngModule:Z,providers:[{provide:An,useValue:null!==(N=C.warnOnNgModelWithFormControl)&&void 0!==N?N:"always"},{provide:un,useValue:null!==(pe=C.callSetDisabledState)&&void 0!==pe?pe:Wn}]}}}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({imports:[qt]}),Z})()},6550:(ln,ut,L)=>{"use strict";L.d(ut,{Dx:()=>nn,b2:()=>In,q6:()=>fn,se:()=>xe});var y=L(2223),g=L(4755);class ie extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends ie{static makeCurrent(){(0,g.HT)(new me)}onAndCancel(K,z,q){return K.addEventListener(z,q),()=>{K.removeEventListener(z,q)}}dispatchEvent(K,z){K.dispatchEvent(z)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,z){return(z=z||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,z){return"window"===z?window:"document"===z?K:"body"===z?K.body:null}getBaseHref(K){const z=function we(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==z?null:function De(he){de=de||document.createElement("a"),de.setAttribute("href",he);const K=de.pathname;return"/"===K.charAt(0)?K:`/${K}`}(z)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,g.Mx)(document.cookie,K)}}let de,be=null,U=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(z){return new(z||he)},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const Ce=new y.OlP("EventManagerPlugins");let Ue=(()=>{class he{constructor(z,q){this._zone=q,this._eventNameToPlugin=new Map,z.forEach(Oe=>{Oe.manager=this}),this._plugins=z.slice().reverse()}addEventListener(z,q,Oe){return this._findPluginFor(q).addEventListener(z,q,Oe)}getZone(){return this._zone}_findPluginFor(z){const q=this._eventNameToPlugin.get(z);if(q)return q;const Oe=this._plugins;for(let st=0;st<Oe.length;st++){const Le=Oe[st];if(Le.supports(z))return this._eventNameToPlugin.set(z,Le),Le}throw new Error(`No event manager plugin found for event ${z}`)}}return he.\u0275fac=function(z){return new(z||he)(y.LFG(Ce),y.LFG(y.R0b))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();class ve{constructor(K){this._doc=K}}const Ve="ng-app-id";let qe=(()=>{class he{constructor(z,q,Oe,st={}){this.doc=z,this.appId=q,this.nonce=Oe,this.platformId=st,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.PM)(st),this.resetHostNodes()}addStyles(z){for(const q of z)1===this.changeUsageCount(q,1)&&this.onStyleAdded(q)}removeStyles(z){for(const q of z)this.changeUsageCount(q,-1)<=0&&this.onStyleRemoved(q)}ngOnDestroy(){const z=this.styleNodesInDOM;z&&(z.forEach(q=>q.remove()),z.clear());for(const q of this.getAllStyles())this.onStyleRemoved(q);this.resetHostNodes()}addHost(z){this.hostNodes.add(z);for(const q of this.getAllStyles())this.addStyleToHost(z,q)}removeHost(z){this.hostNodes.delete(z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(z){for(const q of this.hostNodes)this.addStyleToHost(q,z)}onStyleRemoved(z){var q,Oe;const st=this.styleRef;null===(q=st.get(z))||void 0===q||null===(Oe=q.elements)||void 0===Oe||Oe.forEach(Le=>Le.remove()),st.delete(z)}collectServerRenderedStyles(){var z;const q=null===(z=this.doc.head)||void 0===z?void 0:z.querySelectorAll(`style[${Ve}="${this.appId}"]`);if(null!=q&&q.length){const Oe=new Map;return q.forEach(st=>{null!=st.textContent&&Oe.set(st.textContent,st)}),Oe}return null}changeUsageCount(z,q){const Oe=this.styleRef;if(Oe.has(z)){const st=Oe.get(z);return st.usage+=q,st.usage}return Oe.set(z,{usage:q,elements:[]}),q}getStyleElement(z,q){const Oe=this.styleNodesInDOM,st=null==Oe?void 0:Oe.get(q);if((null==st?void 0:st.parentNode)===z)return Oe.delete(q),st.removeAttribute(Ve),st;{const Le=this.doc.createElement("style");return this.nonce&&Le.setAttribute("nonce",this.nonce),Le.textContent=q,this.platformIsServer&&Le.setAttribute(Ve,this.appId),Le}}addStyleToHost(z,q){var Oe;const st=this.getStyleElement(z,q);z.appendChild(st);const Le=this.styleRef,ht=null===(Oe=Le.get(q))||void 0===Oe?void 0:Oe.elements;ht?ht.push(st):Le.set(q,{elements:[st],usage:1})}resetHostNodes(){const z=this.hostNodes;z.clear(),z.add(this.doc.head)}}return he.\u0275fac=function(z){return new(z||he)(y.LFG(g.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g,rt=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ze(he,K){return K.map(z=>z.replace(Me,he))}let xe=(()=>{class he{constructor(z,q,Oe,st,Le,ht,It,zt=null){this.eventManager=z,this.sharedStylesHost=q,this.appId=Oe,this.removeStylesOnCompDestory=st,this.doc=Le,this.platformId=ht,this.ngZone=It,this.nonce=zt,this.rendererByCompId=new Map,this.platformIsServer=(0,g.PM)(ht),this.defaultRenderer=new St(z,Le,It,this.platformIsServer)}createRenderer(z,q){if(!z||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===y.ifc.ShadowDom&&(q={...q,encapsulation:y.ifc.Emulated});const Oe=this.getOrCreateRenderer(z,q);return Oe instanceof je?Oe.applyToHost(z):Oe instanceof Pe&&Oe.applyStyles(),Oe}getOrCreateRenderer(z,q){const Oe=this.rendererByCompId;let st=Oe.get(q.id);if(!st){const Le=this.doc,ht=this.ngZone,It=this.eventManager,zt=this.sharedStylesHost,Ht=this.removeStylesOnCompDestory,rn=this.platformIsServer;switch(q.encapsulation){case y.ifc.Emulated:st=new je(It,zt,q,this.appId,Ht,Le,ht,rn);break;case y.ifc.ShadowDom:return new ce(It,zt,z,q,Le,ht,this.nonce,rn);default:st=new Pe(It,zt,q,Ht,Le,ht,rn)}st.onDestroy=()=>Oe.delete(q.id),Oe.set(q.id,st)}return st}ngOnDestroy(){this.rendererByCompId.clear()}}return he.\u0275fac=function(z){return new(z||he)(y.LFG(Ue),y.LFG(qe),y.LFG(y.AFp),y.LFG(rt),y.LFG(g.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();class St{constructor(K,z,q,Oe){this.eventManager=K,this.doc=z,this.ngZone=q,this.platformIsServer=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,z){return z?this.doc.createElementNS(bt[z]||z,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,z){(yt(K)?K.content:K).appendChild(z)}insertBefore(K,z,q){K&&(yt(K)?K.content:K).insertBefore(z,q)}removeChild(K,z){K&&K.removeChild(z)}selectRootElement(K,z){let q="string"==typeof K?this.doc.querySelector(K):K;if(!q)throw new Error(`The selector "${K}" did not match any elements`);return z||(q.textContent=""),q}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,z,q,Oe){if(Oe){z=Oe+":"+z;const st=bt[Oe];st?K.setAttributeNS(st,z,q):K.setAttribute(z,q)}else K.setAttribute(z,q)}removeAttribute(K,z,q){if(q){const Oe=bt[q];Oe?K.removeAttributeNS(Oe,z):K.removeAttribute(`${q}:${z}`)}else K.removeAttribute(z)}addClass(K,z){K.classList.add(z)}removeClass(K,z){K.classList.remove(z)}setStyle(K,z,q,Oe){Oe&(y.JOm.DashCase|y.JOm.Important)?K.style.setProperty(z,q,Oe&y.JOm.Important?"important":""):K.style[z]=q}removeStyle(K,z,q){q&y.JOm.DashCase?K.style.removeProperty(z):K.style[z]=""}setProperty(K,z,q){K[z]=q}setValue(K,z){K.nodeValue=z}listen(K,z,q){if("string"==typeof K&&!(K=(0,g.q)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${z}`);return this.eventManager.addEventListener(K,z,this.decoratePreventDefault(q))}decoratePreventDefault(K){return z=>{if("__ngUnwrap__"===z)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(z)):K(z))&&(z.preventDefault(),z.returnValue=!1)}}}function yt(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class ce extends St{constructor(K,z,q,Oe,st,Le,ht,It){super(K,st,Le,It),this.sharedStylesHost=z,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const zt=Ze(Oe.id,Oe.styles);for(const Ht of zt){const rn=document.createElement("style");ht&&rn.setAttribute("nonce",ht),rn.textContent=Ht,this.shadowRoot.appendChild(rn)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,z){return super.appendChild(this.nodeOrShadowRoot(K),z)}insertBefore(K,z,q){return super.insertBefore(this.nodeOrShadowRoot(K),z,q)}removeChild(K,z){return super.removeChild(this.nodeOrShadowRoot(K),z)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pe extends St{constructor(K,z,q,Oe,st,Le,ht,It){super(K,st,Le,ht),this.sharedStylesHost=z,this.removeStylesOnCompDestory=Oe,this.rendererUsageCount=0,this.styles=It?Ze(It,q.styles):q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var K;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(K=this.onDestroy)||void 0===K||K.call(this))}}class je extends Pe{constructor(K,z,q,Oe,st,Le,ht,It){const zt=Oe+"-"+q.id;super(K,z,q,st,Le,ht,It,zt),this.contentAttr=function ft(he){return"_ngcontent-%COMP%".replace(Me,he)}(zt),this.hostAttr=function _t(he){return"_nghost-%COMP%".replace(Me,he)}(zt)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,z){const q=super.createElement(K,z);return super.setAttribute(q,this.contentAttr,""),q}}let We=(()=>{class he extends ve{constructor(z){super(z)}supports(z){return!0}addEventListener(z,q,Oe){return z.addEventListener(q,Oe,!1),()=>this.removeEventListener(z,q,Oe)}removeEventListener(z,q,Oe){return z.removeEventListener(q,Oe)}}return he.\u0275fac=function(z){return new(z||he)(y.LFG(g.K0))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const ke=["alt","control","meta","shift"],Fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},He={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let mt=(()=>{class he extends ve{constructor(z){super(z)}supports(z){return null!=he.parseEventName(z)}addEventListener(z,q,Oe){const st=he.parseEventName(q),Le=he.eventCallback(st.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(z,st.domEventName,Le))}static parseEventName(z){const q=z.toLowerCase().split("."),Oe=q.shift();if(0===q.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const st=he._normalizeKey(q.pop());let Le="",ht=q.indexOf("code");if(ht>-1&&(q.splice(ht,1),Le="code."),ke.forEach(zt=>{const Ht=q.indexOf(zt);Ht>-1&&(q.splice(Ht,1),Le+=zt+".")}),Le+=st,0!=q.length||0===st.length)return null;const It={};return It.domEventName=Oe,It.fullKey=Le,It}static matchEventFullKeyCode(z,q){let Oe=Fe[z.key]||z.key,st="";return q.indexOf("code.")>-1&&(Oe=z.code,st="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),ke.forEach(Le=>{Le!==Oe&&(0,He[Le])(z)&&(st+=Le+".")}),st+=Oe,st===q)}static eventCallback(z,q,Oe){return st=>{he.matchEventFullKeyCode(st,z)&&Oe.runGuarded(()=>q(st))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return he.\u0275fac=function(z){return new(z||he)(y.LFG(g.K0))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const fn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:g.bD},{provide:y.g9A,useValue:function At(){me.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function Ot(){return(0,y.RDi)(document),document},deps:[]}]),Tn=new y.OlP(""),En=[{provide:y.rWj,useClass:class $e{addToWindow(K){y.dqk.getAngularTestability=(q,Oe=!0)=>{const st=K.findTestabilityInTree(q,Oe);if(null==st)throw new Error("Could not find testability for element.");return st},y.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(q=>{const Oe=y.dqk.getAllAngularTestabilities();let st=Oe.length,Le=!1;const ht=function(It){Le=Le||It,st--,0==st&&q(Le)};Oe.forEach(function(It){It.whenStable(ht)})})}findTestabilityInTree(K,z,q){if(null==z)return null;const Oe=K.getTestability(z);return null!=Oe?Oe:q?(0,g.q)().isShadowRoot(z)?this.findTestabilityInTree(K,z.host,!0):this.findTestabilityInTree(K,z.parentElement,!0):null}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Nt=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function et(){return new y.qLn},deps:[]},{provide:Ce,useClass:We,multi:!0,deps:[g.K0,y.R0b,y.Lbi]},{provide:Ce,useClass:mt,multi:!0,deps:[g.K0]},xe,qe,Ue,{provide:y.FYo,useExisting:xe},{provide:g.JF,useClass:U,deps:[]},[]];let In=(()=>{class he{constructor(z){}static withServerTransition(z){return{ngModule:he,providers:[{provide:y.AFp,useValue:z.appId}]}}}return he.\u0275fac=function(z){return new(z||he)(y.LFG(Tn,12))},he.\u0275mod=y.oAB({type:he}),he.\u0275inj=y.cJS({providers:[...Nt,...En],imports:[g.ez,y.hGG]}),he})(),nn=(()=>{class he{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}}return he.\u0275fac=function(z){return new(z||he)(y.LFG(g.K0))},he.\u0275prov=y.Yz7({token:he,factory:function(z){let q=null;return q=z?new z:function pr(){return new nn((0,y.LFG)(g.K0))}(),q},providedIn:"root"}),he})();typeof window<"u"&&window},96:(ln,ut,L)=>{"use strict";L.d(ut,{gz:()=>Fs,jw:()=>Hr,y6:()=>Ni,OD:()=>_e,eC:()=>Nt,wm:()=>Ka,wN:()=>xr,F0:()=>Vt,rH:()=>ru,Bz:()=>Yi,Hx:()=>fe,fw:()=>ss});var y=L(2223),g=L(9751),ie=L(576),be=L(8996),we=L(9646),de=L(1135),De=L(4742),$e=L(4671),U=L(3268),Ce=L(7669),Ue=L(1810),ve=L(5403),Ve=L(9672);function qe(...M){const O=(0,Ce.yG)(M),D=(0,Ce.jO)(M),{args:F,keys:te}=(0,De.D)(M);if(0===F.length)return(0,be.D)([],O);const Ae=new g.y(function bt(M,O,D=$e.y){return F=>{Me(O,()=>{const{length:te}=M,Ae=new Array(te);let Ie=te,gt=te;for(let tn=0;tn<te;tn++)Me(O,()=>{const Rn=(0,be.D)(M[tn],O);let lr=!1;Rn.subscribe((0,ve.x)(F,gn=>{Ae[tn]=gn,lr||(lr=!0,gt--),gt||F.next(D(Ae.slice()))},()=>{--Ie||F.complete()}))},F)},F)}}(F,O,te?Ie=>(0,Ue.n)(te,Ie):$e.y));return D?Ae.pipe((0,U.Z)(D)):Ae}function Me(M,O,D){M?(0,Ve.f)(D,M,O):O()}var Ee=L(6805),vt=L(7272),it=L(8421);function Ge(M){return new g.y(O=>{(0,it.Xf)(M()).subscribe(O)})}var rt=L(9635);function ft(M,O){const D=(0,ie.m)(M)?M:()=>M,F=te=>te.error(D());return new g.y(O?te=>O.schedule(F,0,te):F)}var _t=L(515),Ze=L(727),xe=L(4482);function St(){return(0,xe.e)((M,O)=>{let D=null;M._refCount++;const F=(0,ve.x)(O,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(D=null);const te=M._connection,Ae=D;D=null,te&&(!Ae||te===Ae)&&te.unsubscribe(),O.unsubscribe()});M.subscribe(F),F.closed||(D=M.connect())})}class tt extends g.y{constructor(O,D){super(),this.source=O,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,xe.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,null==O||O.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Ze.w0;const D=this.getSubject();O.add(this.source.subscribe((0,ve.x)(D,void 0,()=>{this._teardown(),D.complete()},F=>{this._teardown(),D.error(F)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Ze.w0.EMPTY)}return O}refCount(){return St()(this)}}var pt=L(7579),yt=L(4755),ce=L(4004),Pe=L(3900),je=L(5698),We=L(8675),ke=L(9300),Fe=L(5577),He=L(590);function mt(M,O){return(0,ie.m)(O)?(0,Fe.z)(M,O,1):(0,Fe.z)(M,1)}var ct=L(8505);function Tt(M){return(0,xe.e)((O,D)=>{let Ae,F=null,te=!1;F=O.subscribe((0,ve.x)(D,void 0,void 0,Ie=>{Ae=(0,it.Xf)(M(Ie,Tt(M)(O))),F?(F.unsubscribe(),F=null,Ae.subscribe(D)):te=!0})),te&&(F.unsubscribe(),F=null,Ae.subscribe(D))})}var Pt=L(5026),sn=L(6590);function At(M){return M<=0?()=>_t.E:(0,xe.e)((O,D)=>{let F=[];O.subscribe((0,ve.x)(D,te=>{F.push(te),M<F.length&&F.shift()},()=>{for(const te of F)D.next(te);D.complete()},void 0,()=>{F=null}))})}var et=L(8068);function fn(M){return(0,xe.e)((O,D)=>{try{O.subscribe(D)}finally{D.add(M)}})}var Tn=L(8189),En=L(6550);const Nt="primary",In=Symbol("RouteTitle");class Bt{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const D=this.params[O];return Array.isArray(D)?D[0]:D}return null}getAll(O){if(this.has(O)){const D=this.params[O];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function rr(M){return new Bt(M)}function hr(M,O,D){const F=D.path.split("/");if(F.length>M.length||"full"===D.pathMatch&&(O.hasChildren()||F.length<M.length))return null;const te={};for(let Ae=0;Ae<F.length;Ae++){const Ie=F[Ae],gt=M[Ae];if(Ie.startsWith(":"))te[Ie.substring(1)]=gt;else if(Ie!==gt.path)return null}return{consumed:M.slice(0,F.length),posParams:te}}function nn(M,O){const D=M?Object.keys(M):void 0,F=O?Object.keys(O):void 0;if(!D||!F||D.length!=F.length)return!1;let te;for(let Ae=0;Ae<D.length;Ae++)if(te=D[Ae],!Lr(M[te],O[te]))return!1;return!0}function Lr(M,O){if(Array.isArray(M)&&Array.isArray(O)){if(M.length!==O.length)return!1;const D=[...M].sort(),F=[...O].sort();return D.every((te,Ae)=>F[Ae]===te)}return M===O}function ir(M){return M.length>0?M[M.length-1]:null}function nr(M){return function me(M){return!!M&&(M instanceof g.y||(0,ie.m)(M.lift)&&(0,ie.m)(M.subscribe))}(M)?M:(0,y.QGY)(M)?(0,be.D)(Promise.resolve(M)):(0,we.of)(M)}const Tr={exact:function Vn(M,O,D){if(!Hn(M.segments,O.segments)||!Nr(M.segments,O.segments,D)||M.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!M.children[F]||!Vn(M.children[F],O.children[F],D))return!1;return!0},subset:vr},Ar={exact:function vn(M,O){return nn(M,O)},subset:function Cr(M,O){return Object.keys(O).length<=Object.keys(M).length&&Object.keys(O).every(D=>Lr(M[D],O[D]))},ignored:()=>!0};function Sn(M,O,D){return Tr[D.paths](M.root,O.root,D.matrixParams)&&Ar[D.queryParams](M.queryParams,O.queryParams)&&!("exact"===D.fragment&&M.fragment!==O.fragment)}function vr(M,O,D){return ur(M,O,O.segments,D)}function ur(M,O,D,F){if(M.segments.length>D.length){const te=M.segments.slice(0,D.length);return!(!Hn(te,D)||O.hasChildren()||!Nr(te,D,F))}if(M.segments.length===D.length){if(!Hn(M.segments,D)||!Nr(M.segments,D,F))return!1;for(const te in O.children)if(!M.children[te]||!vr(M.children[te],O.children[te],F))return!1;return!0}{const te=D.slice(0,M.segments.length),Ae=D.slice(M.segments.length);return!!(Hn(M.segments,te)&&Nr(M.segments,te,F)&&M.children[Nt])&&ur(M.children[Nt],O,Ae,F)}}function Nr(M,O,D){return O.every((F,te)=>Ar[D](M[te].parameters,F.parameters))}class br{constructor(O=new Kn([],{}),D={},F=null){this.root=O,this.queryParams=D,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class Kn{constructor(O,D){this.segments=O,this.children=D,this.parent=null,Object.values(D).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return an(this)}}class Pn{constructor(O,D){this.path=O,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=rr(this.parameters)),this._parameterMap}toString(){return z(this)}}function Hn(M,O){return M.length===O.length&&M.every((D,F)=>D.path===O[F].path)}let fe=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return new ze},providedIn:"root"}),M})();class ze{parse(O){const D=new Wn(O);return new br(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(O){const D=`/${mn(O.root,!0)}`,F=function Oe(M){const O=Object.keys(M).map(D=>{const F=M[D];return Array.isArray(F)?F.map(te=>`${Fn(D)}=${Fn(te)}`).join("&"):`${Fn(D)}=${Fn(F)}`}).filter(D=>!!D);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${D}${F}${"string"==typeof O.fragment?`#${function gr(M){return encodeURI(M)}(O.fragment)}`:""}`}}const Mt=new ze;function an(M){return M.segments.map(O=>z(O)).join("/")}function mn(M,O){if(!M.hasChildren())return an(M);if(O){const D=M.children[Nt]?mn(M.children[Nt],!1):"",F=[];return Object.entries(M.children).forEach(([te,Ae])=>{te!==Nt&&F.push(`${te}:${mn(Ae,!1)}`)}),F.length>0?`${D}(${F.join("//")})`:D}{const D=function jt(M,O){let D=[];return Object.entries(M.children).forEach(([F,te])=>{F===Nt&&(D=D.concat(O(te,F)))}),Object.entries(M.children).forEach(([F,te])=>{F!==Nt&&(D=D.concat(O(te,F)))}),D}(M,(F,te)=>te===Nt?[mn(M.children[Nt],!1)]:[`${te}:${mn(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Nt]?`${an(M)}/${D[0]}`:`${an(M)}/(${D.join("//")})`}}function fr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fn(M){return fr(M).replace(/%3B/gi,";")}function Je(M){return fr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(M){return decodeURIComponent(M)}function K(M){return he(M.replace(/\+/g,"%20"))}function z(M){return`${Je(M.path)}${function q(M){return Object.keys(M).map(O=>`;${Je(O)}=${Je(M[O])}`).join("")}(M.parameters)}`}const st=/^[^\/()?;#]+/;function Le(M){const O=M.match(st);return O?O[0]:""}const ht=/^[^\/()?;=#]+/,zt=/^[^=?&#]+/,rn=/^[^&#]+/;class Wn{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(D).length>0)&&(F[Nt]=new Kn(O,D)),F}parseSegment(){const O=Le(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(O),new Pn(he(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const D=function It(M){const O=M.match(ht);return O?O[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const te=Le(this.remaining);te&&(F=te,this.capture(F))}O[he(D)]=he(F)}parseQueryParam(O){const D=function Ht(M){const O=M.match(zt);return O?O[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const Ie=function un(M){const O=M.match(rn);return O?O[0]:""}(this.remaining);Ie&&(F=Ie,this.capture(F))}const te=K(D),Ae=K(F);if(O.hasOwnProperty(te)){let Ie=O[te];Array.isArray(Ie)||(Ie=[Ie],O[te]=Ie),Ie.push(Ae)}else O[te]=Ae}parseParens(O){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Le(this.remaining),te=this.remaining[F.length];if("/"!==te&&")"!==te&&";"!==te)throw new y.vHH(4010,!1);let Ae;F.indexOf(":")>-1?(Ae=F.slice(0,F.indexOf(":")),this.capture(Ae),this.capture(":")):O&&(Ae=Nt);const Ie=this.parseChildren();D[Ae]=1===Object.keys(Ie).length?Ie[Nt]:new Kn([],Ie),this.consumeOptional("//")}return D}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new y.vHH(4011,!1)}}function zn(M){return M.segments.length>0?new Kn([],{[Nt]:M}):M}function Dt(M){const O={};for(const F of Object.keys(M.children)){const Ae=Dt(M.children[F]);if(F===Nt&&0===Ae.segments.length&&Ae.hasChildren())for(const[Ie,gt]of Object.entries(Ae.children))O[Ie]=gt;else(Ae.segments.length>0||Ae.hasChildren())&&(O[F]=Ae)}return function wt(M){if(1===M.numberOfChildren&&M.children[Nt]){const O=M.children[Nt];return new Kn(M.segments.concat(O.segments),O.children)}return M}(new Kn(M.segments,O))}function Wt(M){return M instanceof br}function kn(M){var O;let D;const Ae=zn(function F(Ie){const gt={};for(const Rn of Ie.children){const lr=F(Rn);gt[Rn.outlet]=lr}const tn=new Kn(Ie.url,gt);return Ie===M&&(D=tn),tn}(M.root));return null!==(O=D)&&void 0!==O?O:Ae}function Xn(M,O,D,F){let te=M;for(;te.parent;)te=te.parent;if(0===O.length)return _r(te,te,te,D,F);const Ae=function fi(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Zn(!0,0,M);let O=0,D=!1;const F=M.reduce((te,Ae,Ie)=>{if("object"==typeof Ae&&null!=Ae){if(Ae.outlets){const gt={};return Object.entries(Ae.outlets).forEach(([tn,Rn])=>{gt[tn]="string"==typeof Rn?Rn.split("/"):Rn}),[...te,{outlets:gt}]}if(Ae.segmentPath)return[...te,Ae.segmentPath]}return"string"!=typeof Ae?[...te,Ae]:0===Ie?(Ae.split("/").forEach((gt,tn)=>{0==tn&&"."===gt||(0==tn&&""===gt?D=!0:".."===gt?O++:""!=gt&&te.push(gt))}),te):[...te,Ae]},[]);return new Zn(D,O,F)}(O);if(Ae.toRoot())return _r(te,te,new Kn([],{}),D,F);const Ie=function Ds(M,O,D){if(M.isAbsolute)return new yi(O,!0,0);if(!D)return new yi(O,!1,NaN);if(null===D.parent)return new yi(D,!0,0);const F=Jn(M.commands[0])?0:1;return function vi(M,O,D){let F=M,te=O,Ae=D;for(;Ae>te;){if(Ae-=te,F=F.parent,!F)throw new y.vHH(4005,!1);te=F.segments.length}return new yi(F,!1,te-Ae)}(D,D.segments.length-1+F,M.numberOfDoubleDots)}(Ae,te,M),gt=Ie.processChildren?Pi(Ie.segmentGroup,Ie.index,Ae.commands):js(Ie.segmentGroup,Ie.index,Ae.commands);return _r(te,Ie.segmentGroup,gt,D,F)}function Jn(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Wr(M){return"object"==typeof M&&null!=M&&M.outlets}function _r(M,O,D,F,te){let Ie,Ae={};F&&Object.entries(F).forEach(([tn,Rn])=>{Ae[tn]=Array.isArray(Rn)?Rn.map(lr=>`${lr}`):`${Rn}`}),Ie=M===O?D:or(M,O,D);const gt=zn(Dt(Ie));return new br(gt,Ae,te)}function or(M,O,D){const F={};return Object.entries(M.children).forEach(([te,Ae])=>{F[te]=Ae===O?D:or(Ae,O,D)}),new Kn(M.segments,F)}class Zn{constructor(O,D,F){if(this.isAbsolute=O,this.numberOfDoubleDots=D,this.commands=F,O&&F.length>0&&Jn(F[0]))throw new y.vHH(4003,!1);const te=F.find(Wr);if(te&&te!==ir(F))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yi{constructor(O,D,F){this.segmentGroup=O,this.processChildren=D,this.index=F}}function js(M,O,D){if(M||(M=new Kn([],{})),0===M.segments.length&&M.hasChildren())return Pi(M,O,D);const F=function ti(M,O,D){let F=0,te=O;const Ae={match:!1,pathIndex:0,commandIndex:0};for(;te<M.segments.length;){if(F>=D.length)return Ae;const Ie=M.segments[te],gt=D[F];if(Wr(gt))break;const tn=`${gt}`,Rn=F<D.length-1?D[F+1]:null;if(te>0&&void 0===tn)break;if(tn&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!Zs(tn,Rn,Ie))return Ae;F+=2}else{if(!Zs(tn,{},Ie))return Ae;F++}te++}return{match:!0,pathIndex:te,commandIndex:F}}(M,O,D),te=D.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const Ae=new Kn(M.segments.slice(0,F.pathIndex),{});return Ae.children[Nt]=new Kn(M.segments.slice(F.pathIndex),M.children),Pi(Ae,0,te)}return F.match&&0===te.length?new Kn(M.segments,{}):F.match&&!M.hasChildren()?Cs(M,O,D):F.match?Pi(M,0,te):Cs(M,O,D)}function Pi(M,O,D){if(0===D.length)return new Kn(M.segments,{});{const F=function ns(M){return Wr(M[0])?M[0].outlets:{[Nt]:M}}(D),te={};if(!F[Nt]&&M.children[Nt]&&1===M.numberOfChildren&&0===M.children[Nt].segments.length){const Ae=Pi(M.children[Nt],O,D);return new Kn(M.segments,Ae.children)}return Object.entries(F).forEach(([Ae,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(te[Ae]=js(M.children[Ae],O,Ie))}),Object.entries(M.children).forEach(([Ae,Ie])=>{void 0===F[Ae]&&(te[Ae]=Ie)}),new Kn(M.segments,te)}}function Cs(M,O,D){const F=M.segments.slice(0,O);let te=0;for(;te<D.length;){const Ae=D[te];if(Wr(Ae)){const tn=Ji(Ae.outlets);return new Kn(F,tn)}if(0===te&&Jn(D[0])){F.push(new Pn(M.segments[O].path,ps(D[0]))),te++;continue}const Ie=Wr(Ae)?Ae.outlets[Nt]:`${Ae}`,gt=te<D.length-1?D[te+1]:null;Ie&&gt&&Jn(gt)?(F.push(new Pn(Ie,ps(gt))),te+=2):(F.push(new Pn(Ie,{})),te++)}return new Kn(F,{})}function Ji(M){const O={};return Object.entries(M).forEach(([D,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(O[D]=Cs(new Kn([],{}),0,F))}),O}function ps(M){const O={};return Object.entries(M).forEach(([D,F])=>O[D]=`${F}`),O}function Zs(M,O,D){return M==D.path&&nn(O,D.parameters)}const W="imperative";class ee{constructor(O,D){this.id=O,this.url=D}}class _e extends ee{constructor(O,D,F="imperative",te=null){super(O,D),this.type=0,this.navigationTrigger=F,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ae extends ee{constructor(O,D,F){super(O,D),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class G extends ee{constructor(O,D,F,te){super(O,D),this.reason=F,this.code=te,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oe extends ee{constructor(O,D,F,te){super(O,D),this.reason=F,this.code=te,this.type=16}}class Be extends ee{constructor(O,D,F,te){super(O,D),this.error=F,this.target=te,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xe extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends ee{constructor(O,D,F,te,Ae){super(O,D),this.urlAfterRedirects=F,this.state=te,this.shouldActivate=Ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class on extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ar{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pi{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cn{constructor(O,D,F){this.routerEvent=O,this.position=D,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ni,this.attachRef=null}}let Ni=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(D,F){const te=this.getOrCreateContext(D);te.outlet=F,this.contexts.set(D,te)}onChildOutletDestroyed(D){const F=this.getContext(D);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let F=this.getContext(D);return F||(F=new Kr,this.contexts.set(D,F)),F}getContext(D){return this.contexts.get(D)||null}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Mo{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const D=this.pathFromRoot(O);return D.length>1?D[D.length-2]:null}children(O){const D=gi(O,this._root);return D?D.children.map(F=>F.value):[]}firstChild(O){const D=gi(O,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(O){const D=rs(O,this._root);return D.length<2?[]:D[D.length-2].children.map(te=>te.value).filter(te=>te!==O)}pathFromRoot(O){return rs(O,this._root).map(D=>D.value)}}function gi(M,O){if(M===O.value)return O;for(const D of O.children){const F=gi(M,D);if(F)return F}return null}function rs(M,O){if(M===O.value)return[O];for(const D of O.children){const F=rs(M,D);if(F.length)return F.unshift(O),F}return[]}class Ur{constructor(O,D){this.value=O,this.children=D}toString(){return`TreeNode(${this.value})`}}function is(M){const O={};return M&&M.children.forEach(D=>O[D.value.outlet]=D),O}class bs extends Mo{constructor(O,D){super(O),this.snapshot=D,Ls(this,O)}toString(){return this.snapshot.toString()}}function An(M,O){const D=function Qs(M,O){const Ie=new Ss([],{},{},"",{},Nt,O,null,{});return new vo("",new Ur(Ie,[]))}(0,O),F=new de.X([new Pn("",{})]),te=new de.X({}),Ae=new de.X({}),Ie=new de.X({}),gt=new de.X(""),tn=new Fs(F,te,Ie,gt,Ae,Nt,O,D.root);return tn.snapshot=D.root,new bs(new Ur(tn,[]),D)}class Fs{constructor(O,D,F,te,Ae,Ie,gt,tn){var Rn,lr;this.urlSubject=O,this.paramsSubject=D,this.queryParamsSubject=F,this.fragmentSubject=te,this.dataSubject=Ae,this.outlet=Ie,this.component=gt,this._futureSnapshot=tn,this.title=null!==(Rn=null===(lr=this.dataSubject)||void 0===lr?void 0:lr.pipe((0,ce.U)(gn=>gn[In])))&&void 0!==Rn?Rn:(0,we.of)(void 0),this.url=O,this.params=D,this.queryParams=F,this.fragment=te,this.data=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ce.U)(O=>rr(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ce.U)(O=>rr(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(M,O="emptyOnly"){const D=M.pathFromRoot;let F=0;if("always"!==O)for(F=D.length-1;F>=1;){const te=D[F],Ae=D[F-1];if(te.routeConfig&&""===te.routeConfig.path)F--;else{if(Ae.component)break;F--}}return function Si(M){return M.reduce((O,D)=>{var F;return{params:{...O.params,...D.params},data:{...O.data,...D.data},resolve:{...D.data,...O.resolve,...null===(F=D.routeConfig)||void 0===F?void 0:F.data,...D._resolvedData}}},{params:{},data:{},resolve:{}})}(D.slice(F))}class Ss{get title(){var O;return null===(O=this.data)||void 0===O?void 0:O[In]}constructor(O,D,F,te,Ae,Ie,gt,tn,Rn){this.url=O,this.params=D,this.queryParams=F,this.fragment=te,this.data=Ae,this.outlet=Ie,this.component=gt,this.routeConfig=tn,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vo extends Mo{constructor(O,D){super(D),this.url=O,Ls(this,D)}toString(){return Ro(this._root)}}function Ls(M,O){O.value._routerState=M,O.children.forEach(D=>Ls(M,D))}function Ro(M){const O=M.children.length>0?` { ${M.children.map(Ro).join(", ")} } `:"";return`${M.value}${O}`}function _o(M){if(M.snapshot){const O=M.snapshot,D=M._futureSnapshot;M.snapshot=D,nn(O.queryParams,D.queryParams)||M.queryParamsSubject.next(D.queryParams),O.fragment!==D.fragment&&M.fragmentSubject.next(D.fragment),nn(O.params,D.params)||M.paramsSubject.next(D.params),function pr(M,O){if(M.length!==O.length)return!1;for(let D=0;D<M.length;++D)if(!nn(M[D],O[D]))return!1;return!0}(O.url,D.url)||M.urlSubject.next(D.url),nn(O.data,D.data)||M.dataSubject.next(D.data)}else M.snapshot=M._futureSnapshot,M.dataSubject.next(M._futureSnapshot.data)}function gs(M,O){const D=nn(M.params,O.params)&&function Jr(M,O){return Hn(M,O)&&M.every((D,F)=>nn(D.parameters,O[F].parameters))}(M.url,O.url);return D&&!(!M.parent!=!O.parent)&&(!M.parent||gs(M.parent,O.parent))}let es=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Ni),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:F,previousValue:te}=D.name;if(F)return;this.isTrackedInParentContexts(te)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(te)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var F;return(null===(F=this.parentContexts.getContext(D))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,F){var te;this.activated=D,this._activatedRoute=F,this.location.insert(D.hostView),null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,F){var te;if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=D;const Ae=this.location,gt=D.snapshot.component,tn=this.parentContexts.getOrCreateContext(this.name).children,Rn=new Uo(D,tn,Ae.injector);this.activated=Ae.createComponent(gt,{index:Ae.length,injector:Rn,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275dir=y.lG2({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),M})();class Uo{constructor(O,D,F){this.route=O,this.childContexts=D,this.parent=F}get(O,D){return O===Fs?this.route:O===Ni?this.childContexts:this.parent.get(O,D)}}const Ui=new y.OlP("");let Br=(()=>{class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var F;null===(F=this.outletDataSubscriptions.get(D))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:F}=D,te=qe([F.queryParams,F.params,F.data]).pipe((0,Pe.w)(([Ae,Ie,gt],tn)=>(gt={...Ae,...Ie,...gt},0===tn?(0,we.of)(gt):Promise.resolve(gt)))).subscribe(Ae=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(D);const Ie=(0,y.qFp)(F.component);if(Ie)for(const{templateName:gt}of Ie.inputs)D.activatedComponentRef.setInput(gt,Ae[gt]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,te)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();function Eo(M,O,D){if(D&&M.shouldReuseRoute(O.value,D.value.snapshot)){const F=D.value;F._futureSnapshot=O.value;const te=function Ta(M,O,D){return O.children.map(F=>{for(const te of D.children)if(M.shouldReuseRoute(F.value,te.value.snapshot))return Eo(M,F,te);return Eo(M,F)})}(M,O,D);return new Ur(F,te)}{if(M.shouldAttach(O.value)){const Ae=M.retrieve(O.value);if(null!==Ae){const Ie=Ae.route;return Ie.value._futureSnapshot=O.value,Ie.children=O.children.map(gt=>Eo(M,gt)),Ie}}const F=function ms(M){return new Fs(new de.X(M.url),new de.X(M.params),new de.X(M.queryParams),new de.X(M.fragment),new de.X(M.data),M.outlet,M.component,M)}(O.value),te=O.children.map(Ae=>Eo(M,Ae));return new Ur(F,te)}}const di="ngNavigationCancelingError";function Hs(M,O){const{redirectTo:D,navigationBehaviorOptions:F}=Wt(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,te=Bs(!1,0,O);return te.url=D,te.navigationBehaviorOptions=F,te}function Bs(M,O,D){const F=new Error("NavigationCancelingError: "+(M||""));return F[di]=!0,F.cancellationCode=O,D&&(F.url=D),F}function mi(M){return ga(M)&&Wt(M.url)}function ga(M){return M&&M[di]}let ss=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275cmp=y.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(D,F){1&D&&y._UZ(0,"router-outlet")},dependencies:[es],encapsulation:2}),M})();function Ho(M){const O=M.children&&M.children.map(Ho),D=O?{...M,children:O}:{...M};return!D.component&&!D.loadComponent&&(O||D.loadChildren)&&D.outlet&&D.outlet!==Nt&&(D.component=ss),D}function Ti(M){return M.outlet||Nt}function vs(M){var O;if(!M)return null;if(null!==(O=M.routeConfig)&&void 0!==O&&O._injector)return M.routeConfig._injector;for(let D=M.parent;D;D=D.parent){const F=D.routeConfig;if(null!=F&&F._loadedInjector)return F._loadedInjector;if(null!=F&&F._injector)return F._injector}return null}class S{constructor(O,D,F,te,Ae){this.routeReuseStrategy=O,this.futureState=D,this.currState=F,this.forwardEvent=te,this.inputBindingEnabled=Ae}activate(O){const D=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,F,O),_o(this.futureState.root),this.activateChildRoutes(D,F,O)}deactivateChildRoutes(O,D,F){const te=is(D);O.children.forEach(Ae=>{const Ie=Ae.value.outlet;this.deactivateRoutes(Ae,te[Ie],F),delete te[Ie]}),Object.values(te).forEach(Ae=>{this.deactivateRouteAndItsChildren(Ae,F)})}deactivateRoutes(O,D,F){const te=O.value,Ae=D?D.value:null;if(te===Ae)if(te.component){const Ie=F.getContext(te.outlet);Ie&&this.deactivateChildRoutes(O,D,Ie.children)}else this.deactivateChildRoutes(O,D,F);else Ae&&this.deactivateRouteAndItsChildren(D,F)}deactivateRouteAndItsChildren(O,D){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,D):this.deactivateRouteAndOutlet(O,D)}detachAndStoreRouteSubtree(O,D){const F=D.getContext(O.value.outlet),te=F&&O.value.component?F.children:D,Ae=is(O);for(const Ie of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[Ie],te);if(F&&F.outlet){const Ie=F.outlet.detach(),gt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ie,route:O,contexts:gt})}}deactivateRouteAndOutlet(O,D){const F=D.getContext(O.value.outlet),te=F&&O.value.component?F.children:D,Ae=is(O);for(const Ie of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[Ie],te);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(O,D,F){const te=is(D);O.children.forEach(Ae=>{this.activateRoutes(Ae,te[Ae.value.outlet],F),this.forwardEvent(new Hr(Ae.value.snapshot))}),O.children.length&&this.forwardEvent(new Oi(O.value.snapshot))}activateRoutes(O,D,F){const te=O.value,Ae=D?D.value:null;if(_o(te),te===Ae)if(te.component){const Ie=F.getOrCreateContext(te.outlet);this.activateChildRoutes(O,D,Ie.children)}else this.activateChildRoutes(O,D,F);else if(te.component){const Ie=F.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const gt=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),Ie.children.onOutletReAttached(gt.contexts),Ie.attachRef=gt.componentRef,Ie.route=gt.route.value,Ie.outlet&&Ie.outlet.attach(gt.componentRef,gt.route.value),_o(gt.route.value),this.activateChildRoutes(O,null,Ie.children)}else{const gt=vs(te.snapshot);Ie.attachRef=null,Ie.route=te,Ie.injector=gt,Ie.outlet&&Ie.outlet.activateWith(te,Ie.injector),this.activateChildRoutes(O,null,Ie.children)}}else this.activateChildRoutes(O,null,F)}}class ne{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class T{constructor(O,D){this.component=O,this.route=D}}function Q(M,O,D){const F=M._root;return Nn(F,O?O._root:null,D,[F.value])}function qt(M,O){const D=Symbol(),F=O.get(M,D);return F===D?"function"!=typeof M||(0,y.Z0I)(M)?O.get(M):M:F}function Nn(M,O,D,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=is(O);return M.children.forEach(Ie=>{(function er(M,O,D,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=M.value,Ie=O?O.value:null,gt=D?D.getContext(M.value.outlet):null;if(Ie&&Ae.routeConfig===Ie.routeConfig){const tn=function mr(M,O,D){if("function"==typeof D)return D(M,O);switch(D){case"pathParamsChange":return!Hn(M.url,O.url);case"pathParamsOrQueryParamsChange":return!Hn(M.url,O.url)||!nn(M.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gs(M,O)||!nn(M.queryParams,O.queryParams);default:return!gs(M,O)}}(Ie,Ae,Ae.routeConfig.runGuardsAndResolvers);tn?te.canActivateChecks.push(new ne(F)):(Ae.data=Ie.data,Ae._resolvedData=Ie._resolvedData),Nn(M,O,Ae.component?gt?gt.children:null:D,F,te),tn&&gt&&gt.outlet&&gt.outlet.isActivated&&te.canDeactivateChecks.push(new T(gt.outlet.component,Ie))}else Ie&&Dr(O,gt,te),te.canActivateChecks.push(new ne(F)),Nn(M,null,Ae.component?gt?gt.children:null:D,F,te)})(Ie,Ae[Ie.value.outlet],D,F.concat([Ie.value]),te),delete Ae[Ie.value.outlet]}),Object.entries(Ae).forEach(([Ie,gt])=>Dr(gt,D.getContext(Ie),te)),te}function Dr(M,O,D){const F=is(M),te=M.value;Object.entries(F).forEach(([Ae,Ie])=>{Dr(Ie,te.component?O?O.children.getContext(Ae):null:O,D)}),D.canDeactivateChecks.push(new T(te.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,te))}function qi(M){return"function"==typeof M}function N(M){return M instanceof Ee.K||"EmptyError"===(null==M?void 0:M.name)}const pe=Symbol("INITIAL_VALUE");function ot(){return(0,Pe.w)(M=>qe(M.map(O=>O.pipe((0,je.q)(1),(0,We.O)(pe)))).pipe((0,ce.U)(O=>{for(const D of O)if(!0!==D){if(D===pe)return pe;if(!1===D||D instanceof br)return D}return!0}),(0,ke.h)(O=>O!==pe),(0,je.q)(1)))}function As(M){return(0,rt.z)((0,ct.b)(O=>{if(Wt(O))throw Hs(0,O)}),(0,ce.U)(O=>!0===O))}class so{constructor(O){this.segmentGroup=O||null}}class oa{constructor(O){this.urlTree=O}}function Mi(M){return ft(new so(M))}function Hi(M){return ft(new oa(M))}class ul{constructor(O,D){this.urlSerializer=O,this.urlTree=D}noMatchError(O){return new y.vHH(4002,!1)}lineralizeSegments(O,D){let F=[],te=D.root;for(;;){if(F=F.concat(te.segments),0===te.numberOfChildren)return(0,we.of)(F);if(te.numberOfChildren>1||!te.children[Nt])return ft(new y.vHH(4e3,!1));te=te.children[Nt]}}applyRedirectCommands(O,D,F){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),O,F)}applyRedirectCreateUrlTree(O,D,F,te){const Ae=this.createSegmentGroup(O,D.root,F,te);return new br(Ae,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(O,D){const F={};return Object.entries(O).forEach(([te,Ae])=>{if("string"==typeof Ae&&Ae.startsWith(":")){const gt=Ae.substring(1);F[te]=D[gt]}else F[te]=Ae}),F}createSegmentGroup(O,D,F,te){const Ae=this.createSegments(O,D.segments,F,te);let Ie={};return Object.entries(D.children).forEach(([gt,tn])=>{Ie[gt]=this.createSegmentGroup(O,tn,F,te)}),new Kn(Ae,Ie)}createSegments(O,D,F,te){return D.map(Ae=>Ae.path.startsWith(":")?this.findPosParam(O,Ae,te):this.findOrReturn(Ae,F))}findPosParam(O,D,F){const te=F[D.path.substring(1)];if(!te)throw new y.vHH(4001,!1);return te}findOrReturn(O,D){let F=0;for(const te of D){if(te.path===O.path)return D.splice(F),te;F++}return O}}const Ha={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aa(M,O,D,F,te){const Ae=cl(M,O,D);return Ae.matched?(F=function ji(M,O){var D;return M.providers&&!M._injector&&(M._injector=(0,y.MMx)(M.providers,O,`Route: ${M.path}`)),null!==(D=M._injector)&&void 0!==D?D:O}(O,F),function Es(M,O,D,F){const te=O.canMatch;if(!te||0===te.length)return(0,we.of)(!0);const Ae=te.map(Ie=>{const gt=qt(Ie,M);return nr(function Z(M){return M&&qi(M.canMatch)}(gt)?gt.canMatch(O,D):M.runInContext(()=>gt(O,D)))});return(0,we.of)(Ae).pipe(ot(),As())}(F,O,D).pipe((0,ce.U)(Ie=>!0===Ie?Ae:{...Ha}))):(0,we.of)(Ae)}function cl(M,O,D){var F,te;if(""===O.path)return"full"===O.pathMatch&&(M.hasChildren()||D.length>0)?{...Ha}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const Ie=(O.matcher||hr)(D,M,O);if(!Ie)return{...Ha};const gt={};Object.entries(null!==(F=Ie.posParams)&&void 0!==F?F:{}).forEach(([Rn,lr])=>{gt[Rn]=lr.path});const tn=Ie.consumed.length>0?{...gt,...Ie.consumed[Ie.consumed.length-1].parameters}:gt;return{matched:!0,consumedSegments:Ie.consumed,remainingSegments:D.slice(Ie.consumed.length),parameters:tn,positionalParamSegments:null!==(te=Ie.posParams)&&void 0!==te?te:{}}}function _i(M,O,D,F){return D.length>0&&function zo(M,O,D){return D.some(F=>Aa(M,O,F)&&Ti(F)!==Nt)}(M,D,F)?{segmentGroup:new Kn(O,Sc(F,new Kn(D,M.children))),slicedSegments:[]}:0===D.length&&function za(M,O,D){return D.some(F=>Aa(M,O,F))}(M,D,F)?{segmentGroup:new Kn(M.segments,ku(M,0,D,F,M.children)),slicedSegments:D}:{segmentGroup:new Kn(M.segments,M.children),slicedSegments:D}}function ku(M,O,D,F,te){const Ae={};for(const Ie of F)if(Aa(M,D,Ie)&&!te[Ti(Ie)]){const gt=new Kn([],{});Ae[Ti(Ie)]=gt}return{...te,...Ae}}function Sc(M,O){const D={};D[Nt]=O;for(const F of M)if(""===F.path&&Ti(F)!==Nt){const te=new Kn([],{});D[Ti(F)]=te}return D}function Aa(M,O,D){return(!(M.hasChildren()||O.length>0)||"full"!==D.pathMatch)&&""===D.path}class us{constructor(O,D,F,te,Ae,Ie,gt){this.injector=O,this.configLoader=D,this.rootComponentType=F,this.config=te,this.urlTree=Ae,this.paramsInheritanceStrategy=Ie,this.urlSerializer=gt,this.allowRedirects=!0,this.applyRedirects=new ul(this.urlSerializer,this.urlTree)}noMatchError(O){return new y.vHH(4002,!1)}recognize(){const O=_i(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Nt).pipe(Tt(D=>{if(D instanceof oa)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof so?this.noMatchError(D):D}),(0,ce.U)(D=>{const F=new Ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,{}),te=new Ur(F,D),Ae=new vo("",te),Ie=function _n(M,O,D=null,F=null){return Xn(kn(M),O,D,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Ie.queryParams=this.urlTree.queryParams,Ae.url=this.urlSerializer.serialize(Ie),this.inheritParamsAndData(Ae._root),{state:Ae,tree:Ie}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Nt).pipe(Tt(F=>{throw F instanceof so?this.noMatchError(F):F}))}inheritParamsAndData(O){const D=O.value,F=Wi(D,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data),O.children.forEach(te=>this.inheritParamsAndData(te))}processSegmentGroup(O,D,F,te){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,D,F):this.processSegment(O,D,F,F.segments,te,!0)}processChildren(O,D,F){const te=[];for(const Ae of Object.keys(F.children))"primary"===Ae?te.unshift(Ae):te.push(Ae);return(0,be.D)(te).pipe(mt(Ae=>{const Ie=F.children[Ae],gt=function Gs(M,O){const D=M.filter(F=>Ti(F)===O);return D.push(...M.filter(F=>Ti(F)!==O)),D}(D,Ae);return this.processSegmentGroup(O,gt,Ie,Ae)}),(0,Pt.R)((Ae,Ie)=>(Ae.push(...Ie),Ae)),(0,sn.d)(null),function Ot(M,O){const D=arguments.length>=2;return F=>F.pipe(M?(0,ke.h)((te,Ae)=>M(te,Ae,F)):$e.y,At(1),D?(0,sn.d)(O):(0,et.T)(()=>new Ee.K))}(),(0,Fe.z)(Ae=>{if(null===Ae)return Mi(F);const Ie=Ci(Ae);return function oo(M){M.sort((O,D)=>O.value.outlet===Nt?-1:D.value.outlet===Nt?1:O.value.outlet.localeCompare(D.value.outlet))}(Ie),(0,we.of)(Ie)}))}processSegment(O,D,F,te,Ae,Ie){return(0,be.D)(D).pipe(mt(gt=>{var tn;return this.processSegmentAgainstRoute(null!==(tn=gt._injector)&&void 0!==tn?tn:O,D,gt,F,te,Ae,Ie).pipe(Tt(Rn=>{if(Rn instanceof so)return(0,we.of)(null);throw Rn}))}),(0,He.P)(gt=>!!gt),Tt(gt=>{if(N(gt))return function dl(M,O,D){return 0===O.length&&!M.children[D]}(F,te,Ae)?(0,we.of)([]):Mi(F);throw gt}))}processSegmentAgainstRoute(O,D,F,te,Ae,Ie,gt){return function ma(M,O,D,F){return!!(Ti(M)===F||F!==Nt&&Aa(O,D,M))&&("**"===M.path||cl(O,M,D).matched)}(F,te,Ae,Ie)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(O,te,F,Ae,Ie,gt):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,te,D,F,Ae,Ie):Mi(te):Mi(te)}expandSegmentAgainstRouteUsingRedirect(O,D,F,te,Ae,Ie){return"**"===te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,te,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(O,D,F,te,Ae,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,D,F,te){const Ae=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Hi(Ae):this.applyRedirects.lineralizeSegments(F,Ae).pipe((0,Fe.z)(Ie=>{const gt=new Kn(Ie,{});return this.processSegment(O,D,gt,Ie,te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,D,F,te,Ae,Ie){const{matched:gt,consumedSegments:tn,remainingSegments:Rn,positionalParamSegments:lr}=cl(D,te,Ae);if(!gt)return Mi(D);const gn=this.applyRedirects.applyRedirectCommands(tn,te.redirectTo,lr);return te.redirectTo.startsWith("/")?Hi(gn):this.applyRedirects.lineralizeSegments(te,gn).pipe((0,Fe.z)(Bi=>this.processSegment(O,F,D,Bi.concat(Rn),Ie,!1)))}matchSegmentAgainstRoute(O,D,F,te,Ae,Ie){let gt;if("**"===F.path){var tn,Rn;const lr=te.length>0?ir(te).parameters:{},gn=new Ss(te,lr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(F),Ti(F),null!==(tn=null!==(Rn=F.component)&&void 0!==Rn?Rn:F._loadedComponent)&&void 0!==tn?tn:null,F,cs(F));gt=(0,we.of)({snapshot:gn,consumedSegments:[],remainingSegments:[]}),D.children={}}else gt=aa(D,F,te,O).pipe((0,ce.U)(({matched:lr,consumedSegments:gn,remainingSegments:Bi,parameters:lo})=>{var Jo,no;return lr?{snapshot:new Ss(gn,lo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(F),Ti(F),null!==(Jo=null!==(no=F.component)&&void 0!==no?no:F._loadedComponent)&&void 0!==Jo?Jo:null,F,cs(F)),consumedSegments:gn,remainingSegments:Bi}:null}));return gt.pipe((0,Pe.w)(lr=>{var gn;return null===lr?Mi(D):(O=null!==(gn=F._injector)&&void 0!==gn?gn:O,this.getChildConfig(O,F,te).pipe((0,Pe.w)(({routes:Bi})=>{var lo;const Jo=null!==(lo=F._loadedInjector)&&void 0!==lo?lo:O,{snapshot:no,consumedSegments:pl,remainingSegments:uo}=lr,{segmentGroup:pd,slicedSegments:hs}=_i(D,pl,uo,Bi);if(0===hs.length&&pd.hasChildren())return this.processChildren(Jo,Bi,pd).pipe((0,ce.U)(Za=>null===Za?null:[new Ur(no,Za)]));if(0===Bi.length&&0===hs.length)return(0,we.of)([new Ur(no,[])]);const Vu=Ti(F)===Ae;return this.processSegment(Jo,Bi,pd,hs,Vu?Nt:Ae,!0).pipe((0,ce.U)(Za=>[new Ur(no,Za)]))})))}))}getChildConfig(O,D,F){return D.children?(0,we.of)({routes:D.children,injector:O}):D.loadChildren?void 0!==D._loadedRoutes?(0,we.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Js(M,O,D,F){const te=O.canLoad;if(void 0===te||0===te.length)return(0,we.of)(!0);const Ae=te.map(Ie=>{const gt=qt(Ie,M);return nr(function ls(M){return M&&qi(M.canLoad)}(gt)?gt.canLoad(O,D):M.runInContext(()=>gt(O,D)))});return(0,we.of)(Ae).pipe(ot(),As())}(O,D,F).pipe((0,Fe.z)(te=>te?this.configLoader.loadChildren(O,D).pipe((0,ct.b)(Ae=>{D._loadedRoutes=Ae.routes,D._loadedInjector=Ae.injector})):function eo(M){return ft(Bs(!1,3))}())):(0,we.of)({routes:[],injector:O})}}function $s(M){const O=M.value.routeConfig;return O&&""===O.path}function Ci(M){const O=[],D=new Set;for(const F of M){if(!$s(F)){O.push(F);continue}const te=O.find(Ae=>F.value.routeConfig===Ae.value.routeConfig);void 0!==te?(te.children.push(...F.children),D.add(te)):O.push(F)}for(const F of D){const te=Ci(F.children);O.push(new Ur(F.value,te))}return O.filter(F=>!D.has(F))}function ya(M){return M.data||{}}function cs(M){return M.resolve||{}}function V(M){return"string"==typeof M.title||null===M.title}function re(M){return(0,Pe.w)(O=>{const D=M(O);return D?(0,be.D)(D).pipe((0,ce.U)(()=>O)):(0,we.of)(O)})}const H=new y.OlP("ROUTES");let ye=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,we.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const F=nr(D.loadComponent()).pipe((0,ce.U)(Ut),(0,ct.b)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=Ae}),fn(()=>{this.componentLoaders.delete(D)})),te=new tt(F,()=>new pt.x).pipe(St());return this.componentLoaders.set(D,te),te}loadChildren(D,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,we.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const Ae=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,ce.U)(gt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let tn,Rn;return Array.isArray(gt)?Rn=gt:(tn=gt.create(D).injector,Rn=tn.get(H,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:Rn.map(Ho),injector:tn}}),fn(()=>{this.childrenLoaders.delete(F)})),Ie=new tt(Ae,()=>new pt.x).pipe(St());return this.childrenLoaders.set(F,Ie),Ie}loadModuleFactoryOrRoutes(D){return nr(D()).pipe((0,ce.U)(Ut),(0,Fe.z)(F=>F instanceof y.YKP||Array.isArray(F)?(0,we.of)(F):(0,be.D)(this.compiler.compileModuleAsync(F))))}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ut(M){return function Ke(M){return M&&"object"==typeof M&&"default"in M}(M)?M.default:M}let Yt=(()=>{class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pt.x,this.configLoader=(0,y.f3M)(ye),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(fe),this.rootContexts=(0,y.f3M)(Ni),this.inputBindingEnabled=null!==(0,y.f3M)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,we.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=te=>this.events.next(new ar(te)),this.configLoader.onLoadStartListener=te=>this.events.next(new Un(te))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var F;const te=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...D,id:te})}setupNavigations(D){return this.transitions=new de.X({id:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:W,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.h)(F=>0!==F.id),(0,ce.U)(F=>({...F,extractedUrl:D.urlHandlingStrategy.extract(F.rawUrl)})),(0,Pe.w)(F=>{let te=!1,Ae=!1;return(0,we.of)(F).pipe((0,ct.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.rawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(Ie=>{var gt;const tn=D.browserUrlTree.toString(),Rn=!D.navigated||Ie.extractedUrl.toString()!==tn||tn!==D.currentUrlTree.toString(),lr=null!==(gt=Ie.extras.onSameUrlNavigation)&&void 0!==gt?gt:D.onSameUrlNavigation;if(!Rn&&"reload"!==lr){const gn="";return this.events.next(new oe(Ie.id,D.serializeUrl(F.rawUrl),gn,0)),D.rawUrlTree=Ie.rawUrl,Ie.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return Qn(Ie.source)&&(D.browserUrlTree=Ie.extractedUrl),(0,we.of)(Ie).pipe((0,Pe.w)(gn=>{var Bi,lo;const Jo=null===(Bi=this.transitions)||void 0===Bi?void 0:Bi.getValue();return this.events.next(new _e(gn.id,this.urlSerializer.serialize(gn.extractedUrl),gn.source,gn.restoredState)),Jo!==(null===(lo=this.transitions)||void 0===lo?void 0:lo.getValue())?_t.E:Promise.resolve(gn)}),function Fu(M,O,D,F,te,Ae){return(0,Fe.z)(Ie=>function Tc(M,O,D,F,te,Ae,Ie="emptyOnly"){return new us(M,O,D,F,te,Ie,Ae).recognize()}(M,O,D,F,Ie.extractedUrl,te,Ae).pipe((0,ce.U)(({state:gt,tree:tn})=>({...Ie,targetSnapshot:gt,urlAfterRedirects:tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,ct.b)(gn=>{if(F.targetSnapshot=gn.targetSnapshot,F.urlAfterRedirects=gn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:gn.urlAfterRedirects},"eager"===D.urlUpdateStrategy){if(!gn.extras.skipLocationChange){const lo=D.urlHandlingStrategy.merge(gn.urlAfterRedirects,gn.rawUrl);D.setBrowserUrl(lo,gn)}D.browserUrlTree=gn.urlAfterRedirects}const Bi=new Xe(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(Bi)}));if(Rn&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:gn,extractedUrl:Bi,source:lo,restoredState:Jo,extras:no}=Ie,pl=new _e(gn,this.urlSerializer.serialize(Bi),lo,Jo);this.events.next(pl);const uo=An(0,this.rootComponentType).snapshot;return F={...Ie,targetSnapshot:uo,urlAfterRedirects:Bi,extras:{...no,skipLocationChange:!1,replaceUrl:!1}},(0,we.of)(F)}{const gn="";return this.events.next(new oe(Ie.id,D.serializeUrl(F.extractedUrl),gn,1)),D.rawUrlTree=Ie.rawUrl,Ie.resolve(null),_t.E}}),(0,ct.b)(Ie=>{const gt=new dt(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(gt)}),(0,ce.U)(Ie=>F={...Ie,guards:Q(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)}),function $t(M,O){return(0,Fe.z)(D=>{const{targetSnapshot:F,currentSnapshot:te,guards:{canActivateChecks:Ae,canDeactivateChecks:Ie}}=D;return 0===Ie.length&&0===Ae.length?(0,we.of)({...D,guardsResult:!0}):function Zt(M,O,D,F){return(0,be.D)(M).pipe((0,Fe.z)(te=>function Rr(M,O,D,F,te){const Ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!Ae||0===Ae.length)return(0,we.of)(!0);const Ie=Ae.map(gt=>{var tn;const Rn=null!==(tn=vs(O))&&void 0!==tn?tn:te,lr=qt(gt,Rn);return nr(function xo(M){return M&&qi(M.canDeactivate)}(lr)?lr.canDeactivate(M,O,D,F):Rn.runInContext(()=>lr(M,O,D,F))).pipe((0,He.P)())});return(0,we.of)(Ie).pipe(ot())}(te.component,te.route,D,O,F)),(0,He.P)(te=>!0!==te,!0))}(Ie,F,te,M).pipe((0,Fe.z)(gt=>gt&&function Ts(M){return"boolean"==typeof M}(gt)?function pn(M,O,D,F){return(0,be.D)(O).pipe(mt(te=>(0,vt.z)(function Mr(M,O){return null!==M&&O&&O(new pi(M)),(0,we.of)(!0)}(te.route.parent,F),function jr(M,O){return null!==M&&O&&O(new Fi(M)),(0,we.of)(!0)}(te.route,F),function Qr(M,O,D){const F=O[O.length-1],Ae=O.slice(0,O.length-1).reverse().map(Ie=>function Re(M){const O=M.routeConfig?M.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:M,guards:O}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>Ge(()=>{const gt=Ie.guards.map(tn=>{var Rn;const lr=null!==(Rn=vs(Ie.node))&&void 0!==Rn?Rn:D,gn=qt(tn,lr);return nr(function Ws(M){return M&&qi(M.canActivateChild)}(gn)?gn.canActivateChild(F,M):lr.runInContext(()=>gn(F,M))).pipe((0,He.P)())});return(0,we.of)(gt).pipe(ot())}));return(0,we.of)(Ae).pipe(ot())}(M,te.path,D),function wr(M,O,D){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,we.of)(!0);const te=F.map(Ae=>Ge(()=>{var Ie;const gt=null!==(Ie=vs(O))&&void 0!==Ie?Ie:D,tn=qt(Ae,gt);return nr(function _s(M){return M&&qi(M.canActivate)}(tn)?tn.canActivate(O,M):gt.runInContext(()=>tn(O,M))).pipe((0,He.P)())}));return(0,we.of)(te).pipe(ot())}(M,te.route,D))),(0,He.P)(te=>!0!==te,!0))}(F,Ae,M,O):(0,we.of)(gt)),(0,ce.U)(gt=>({...D,guardsResult:gt})))})}(this.environmentInjector,Ie=>this.events.next(Ie)),(0,ct.b)(Ie=>{if(F.guardsResult=Ie.guardsResult,Wt(Ie.guardsResult))throw Hs(0,Ie.guardsResult);const gt=new xt(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.events.next(gt)}),(0,ke.h)(Ie=>!!Ie.guardsResult||(D.restoreHistory(Ie),this.cancelNavigationTransition(Ie,"",3),!1)),re(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,we.of)(Ie).pipe((0,ct.b)(gt=>{const tn=new on(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(tn)}),(0,Pe.w)(gt=>{let tn=!1;return(0,we.of)(gt).pipe(function Ga(M,O){return(0,Fe.z)(D=>{const{targetSnapshot:F,guards:{canActivateChecks:te}}=D;if(!te.length)return(0,we.of)(D);let Ae=0;return(0,be.D)(te).pipe(mt(Ie=>function Wa(M,O,D,F){const te=M.routeConfig,Ae=M._resolve;return void 0!==(null==te?void 0:te.title)&&!V(te)&&(Ae[In]=te.title),function Po(M,O,D,F){const te=function Lu(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===te.length)return(0,we.of)({});const Ae={};return(0,be.D)(te).pipe((0,Fe.z)(Ie=>function Al(M,O,D,F){var te;const Ae=null!==(te=vs(O))&&void 0!==te?te:F,Ie=qt(M,Ae);return nr(Ie.resolve?Ie.resolve(O,D):Ae.runInContext(()=>Ie(O,D)))}(M[Ie],O,D,F).pipe((0,He.P)(),(0,ct.b)(gt=>{Ae[Ie]=gt}))),At(1),function Jt(M){return(0,ce.U)(()=>M)}(Ae),Tt(Ie=>N(Ie)?_t.E:ft(Ie)))}(Ae,M,O,F).pipe((0,ce.U)(Ie=>(M._resolvedData=Ie,M.data=Wi(M,D).resolve,te&&V(te)&&(M.data[In]=te.title),null)))}(Ie.route,F,M,O)),(0,ct.b)(()=>Ae++),At(1),(0,Fe.z)(Ie=>Ae===te.length?(0,we.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,ct.b)({next:()=>tn=!0,complete:()=>{tn||(D.restoreHistory(gt),this.cancelNavigationTransition(gt,"",2))}}))}),(0,ct.b)(gt=>{const tn=new dn(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(tn)}))}),re(Ie=>{const gt=tn=>{var Rn;const lr=[];null!==(Rn=tn.routeConfig)&&void 0!==Rn&&Rn.loadComponent&&!tn.routeConfig._loadedComponent&&lr.push(this.configLoader.loadComponent(tn.routeConfig).pipe((0,ct.b)(gn=>{tn.component=gn}),(0,ce.U)(()=>{})));for(const gn of tn.children)lr.push(...gt(gn));return lr};return qe(gt(Ie.targetSnapshot.root)).pipe((0,sn.d)(),(0,je.q)(1))}),re(()=>this.afterPreactivation()),(0,ce.U)(Ie=>{const gt=function Qo(M,O,D){const F=Eo(M,O._root,D?D._root:void 0);return new bs(F,O)}(D.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return F={...Ie,targetRouterState:gt}}),(0,ct.b)(Ie=>{D.currentUrlTree=Ie.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(Ie.urlAfterRedirects,Ie.rawUrl),D.routerState=Ie.targetRouterState,"deferred"===D.urlUpdateStrategy&&(Ie.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,Ie),D.browserUrlTree=Ie.urlAfterRedirects)}),((M,O,D,F)=>(0,ce.U)(te=>(new S(O,te.targetRouterState,te.currentRouterState,D,F).activate(M),te)))(this.rootContexts,D.routeReuseStrategy,Ie=>this.events.next(Ie),this.inputBindingEnabled),(0,je.q)(1),(0,ct.b)({next:Ie=>{var gt;te=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new ae(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),null===(gt=D.titleStrategy)||void 0===gt||gt.updateTitle(Ie.targetRouterState.snapshot),Ie.resolve(!0)},complete:()=>{te=!0}}),fn(()=>{var Ie;te||Ae||this.cancelNavigationTransition(F,"",1),(null===(Ie=this.currentNavigation)||void 0===Ie?void 0:Ie.id)===F.id&&(this.currentNavigation=null)}),Tt(Ie=>{if(Ae=!0,ga(Ie)){mi(Ie)||(D.navigated=!0,D.restoreHistory(F,!0));const tn=new G(F.id,this.urlSerializer.serialize(F.extractedUrl),Ie.message,Ie.cancellationCode);if(this.events.next(tn),mi(Ie)){const Rn=D.urlHandlingStrategy.merge(Ie.url,D.rawUrlTree),lr={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||Qn(F.source)};D.scheduleNavigation(Rn,W,null,lr,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{var gt;D.restoreHistory(F,!0);const tn=new Be(F.id,this.urlSerializer.serialize(F.extractedUrl),Ie,null!==(gt=F.targetSnapshot)&&void 0!==gt?gt:void 0);this.events.next(tn);try{F.resolve(D.errorHandler(Ie))}catch(Rn){F.reject(Rn)}}return _t.E}))}))}cancelNavigationTransition(D,F,te){const Ae=new G(D.id,this.urlSerializer.serialize(D.extractedUrl),F,te);this.events.next(Ae),D.resolve(!1)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Qn(M){return M!==W}let yn=(()=>{class M{buildTitle(D){let F,te=D.root;for(;void 0!==te;){var Ae;F=null!==(Ae=this.getResolvedTitleForRoute(te))&&void 0!==Ae?Ae:F,te=te.children.find(Ie=>Ie.outlet===Nt)}return F}getResolvedTitleForRoute(D){return D.data[In]}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(zr)},providedIn:"root"}),M})(),zr=(()=>{class M extends yn{constructor(D){super(),this.title=D}updateTitle(D){const F=this.buildTitle(D);void 0!==F&&this.title.setTitle(F)}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(En.Dx))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),xr=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(ts)},providedIn:"root"}),M})();class kr{shouldDetach(O){return!1}store(O,D){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,D){return O.routeConfig===D.routeConfig}}let ts=(()=>{class M extends kr{}return M.\u0275fac=function(){let O;return function(F){return(O||(O=y.n5z(M)))(F||M)}}(),M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Qt=new y.OlP("",{providedIn:"root",factory:()=>({})});let Gr=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(ws)},providedIn:"root"}),M})(),ws=(()=>{class M{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,F){return D}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var ds=(()=>((ds=ds||{})[ds.COMPLETE=0]="COMPLETE",ds[ds.FAILED=1]="FAILED",ds[ds.REDIRECTING=2]="REDIRECTING",ds))();function Ln(M,O){M.events.pipe((0,ke.h)(D=>D instanceof ae||D instanceof G||D instanceof Be||D instanceof oe),(0,ce.U)(D=>D instanceof ae||D instanceof oe?ds.COMPLETE:D instanceof G&&(0===D.code||1===D.code)?ds.REDIRECTING:ds.FAILED),(0,ke.h)(D=>D!==ds.REDIRECTING),(0,je.q)(1)).subscribe(()=>{O()})}function Gn(M){throw M}function va(M,O,D){return O.parse("/")}const Mn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vt=(()=>{class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var D;if("computed"===this.canceledNavigationResolution)return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var D,F;this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(Qt,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||Gn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||va,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(Gr),this.routeReuseStrategy=(0,y.f3M)(xr),this.titleStrategy=(0,y.f3M)(yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(D=null===(F=(0,y.f3M)(H,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==D?D:[],this.navigationTransitions=(0,y.f3M)(Yt),this.urlSerializer=(0,y.f3M)(fe),this.location=(0,y.f3M)(yt.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(Ui,{optional:!0}),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=An(0,null),this.navigationTransitions.setupNavigations(this).subscribe(te=>{var Ae;this.lastSuccessfulId=te.id,this.currentPageId=null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0},te=>{this.console.warn(`Unhandled Navigation Error: ${te}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),W,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const F="popstate"===D.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,F,D.state)},0)}))}navigateToSyncWithBrowser(D,F,te){const Ae={replaceUrl:!0},Ie=null!=te&&te.navigationId?te:null;if(te){const tn={...te};delete tn.navigationId,delete tn.\u0275routerPageId,0!==Object.keys(tn).length&&(Ae.state=tn)}const gt=this.parseUrl(D);this.scheduleNavigation(gt,F,Ie,Ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,F={}){const{relativeTo:te,queryParams:Ae,fragment:Ie,queryParamsHandling:gt,preserveFragment:tn}=F,Rn=tn?this.currentUrlTree.fragment:Ie;let gn,lr=null;switch(gt){case"merge":lr={...this.currentUrlTree.queryParams,...Ae};break;case"preserve":lr=this.currentUrlTree.queryParams;break;default:lr=Ae||null}null!==lr&&(lr=this.removeEmptyProps(lr));try{gn=kn(te?te.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),gn=this.currentUrlTree.root}return Xn(gn,D,lr,null!=Rn?Rn:null)}navigateByUrl(D,F={skipLocationChange:!1}){const te=Wt(D)?D:this.parseUrl(D),Ae=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(Ae,W,null,F)}navigate(D,F={skipLocationChange:!1}){return function Ks(M){for(let O=0;O<M.length;O++)if(null==M[O])throw new y.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,F),F)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let F;try{F=this.urlSerializer.parse(D)}catch(te){F=this.malformedUriErrorHandler(te,this.urlSerializer,D)}return F}isActive(D,F){let te;if(te=!0===F?{...Mn}:!1===F?{...Qe}:F,Wt(D))return Sn(this.currentUrlTree,D,te);const Ae=this.parseUrl(D);return Sn(this.currentUrlTree,Ae,te)}removeEmptyProps(D){return Object.keys(D).reduce((F,te)=>{const Ae=D[te];return null!=Ae&&(F[te]=Ae),F},{})}scheduleNavigation(D,F,te,Ae,Ie){if(this.disposed)return Promise.resolve(!1);let gt,tn,Rn;Ie?(gt=Ie.resolve,tn=Ie.reject,Rn=Ie.promise):Rn=new Promise((gn,Bi)=>{gt=gn,tn=Bi});const lr=this.pendingTasks.add();return Ln(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(lr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:Ae,resolve:gt,reject:tn,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(gn=>Promise.reject(gn))}setBrowserUrl(D,F){const te=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(te)||F.extras.replaceUrl){const gt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(te,"",gt)}else{var Ae;const Ie={...F.extras.state,...this.generateNgRouterState(F.id,(null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0)+1)};this.location.go(te,"",Ie)}}restoreHistory(D,F=!1){if("computed"===this.canceledNavigationResolution){var te,Ae;const Ie=null!==(te=this.browserPageId)&&void 0!==te?te:this.currentPageId,gt=this.currentPageId-Ie;0!==gt?this.location.historyGo(gt):this.currentUrlTree===(null===(Ae=this.getCurrentNavigation())||void 0===Ae?void 0:Ae.finalUrl)&&0===gt&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,F){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:F}:{navigationId:D}}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),ru=(()=>{class M{constructor(D,F,te,Ae,Ie,gt){var tn;this.router=D,this.route=F,this.tabIndexAttribute=te,this.renderer=Ae,this.el=Ie,this.locationStrategy=gt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pt.x;const Rn=null===(tn=Ie.nativeElement.tagName)||void 0===tn?void 0:tn.toLowerCase();this.isAnchorElement="a"===Rn||"area"===Rn,this.isAnchorElement?this.subscription=D.events.subscribe(lr=>{lr instanceof ae&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,y.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,y.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,y.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,F,te,Ae,Ie){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||F||te||Ae||Ie||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;this.href=null!==this.urlTree&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const F=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(D,F){const te=this.renderer,Ae=this.el.nativeElement;null!==F?te.setAttribute(Ae,D,F):te.removeAttribute(Ae,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(D){return new(D||M)(y.Y36(Vt),y.Y36(Fs),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(yt.S$))},M.\u0275dir=y.lG2({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,F){1&D&&y.NdJ("click",function(Ae){return F.onClick(Ae.button,Ae.ctrlKey,Ae.shiftKey,Ae.altKey,Ae.metaKey)}),2&D&&y.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),M})();class Ml{}let Ka=(()=>{class M{preload(D,F){return F().pipe(Tt(()=>(0,we.of)(null)))}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),qa=(()=>{class M{constructor(D,F,te,Ae,Ie){this.router=D,this.injector=te,this.preloadingStrategy=Ae,this.loader=Ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(D=>D instanceof ae),mt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,F){const te=[];for(const tn of F){var Ae,Ie;tn.providers&&!tn._injector&&(tn._injector=(0,y.MMx)(tn.providers,D,`Route: ${tn.path}`));const Rn=null!==(Ae=tn._injector)&&void 0!==Ae?Ae:D,lr=null!==(Ie=tn._loadedInjector)&&void 0!==Ie?Ie:Rn;var gt;(tn.loadChildren&&!tn._loadedRoutes&&void 0===tn.canLoad||tn.loadComponent&&!tn._loadedComponent)&&te.push(this.preloadConfig(Rn,tn)),(tn.children||tn._loadedRoutes)&&te.push(this.processRoutes(lr,null!==(gt=tn.children)&&void 0!==gt?gt:tn._loadedRoutes))}return(0,be.D)(te).pipe((0,Tn.J)())}preloadConfig(D,F){return this.preloadingStrategy.preload(F,()=>{let te;te=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(D,F):(0,we.of)(null);const Ae=te.pipe((0,Fe.z)(Ie=>{var gt;return null===Ie?(0,we.of)(void 0):(F._loadedRoutes=Ie.routes,F._loadedInjector=Ie.injector,this.processRoutes(null!==(gt=Ie.injector)&&void 0!==gt?gt:D,Ie.routes))}));if(F.loadComponent&&!F._loadedComponent){const Ie=this.loader.loadComponent(F);return(0,be.D)([Ae,Ie]).pipe((0,Tn.J)())}return Ae})}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(Vt),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Ml),y.LFG(ye))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Ac=new y.OlP("");let Mc=(()=>{class M{constructor(D,F,te,Ae,Ie={}){this.urlSerializer=D,this.transitions=F,this.viewportScroller=te,this.zone=Ae,this.options=Ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ie.scrollPositionRestoration=Ie.scrollPositionRestoration||"disabled",Ie.anchorScrolling=Ie.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof ae?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof oe&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Cn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var D,F;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return M.\u0275fac=function(D){y.$Z()},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();function sr(M,O){return{\u0275kind:M,\u0275providers:O}}function Pl(){const M=(0,y.f3M)(y.zs3);return O=>{var D,F;const te=M.get(y.z2F);if(O!==te.components[0])return;const Ae=M.get(Vt),Ie=M.get(ri);1===M.get(Rc)&&Ae.initialNavigation(),null===(D=M.get(Ma,null,y.XFs.Optional))||void 0===D||D.setUpPreloading(),null===(F=M.get(Ac,null,y.XFs.Optional))||void 0===F||F.init(),Ae.resetRootComponentType(te.componentTypes[0]),Ie.closed||(Ie.next(),Ie.complete(),Ie.unsubscribe())}}const ri=new y.OlP("",{factory:()=>new pt.x}),Rc=new y.OlP("",{providedIn:"root",factory:()=>1}),Ma=new y.OlP("");function fl(M){return sr(0,[{provide:Ma,useExisting:qa},{provide:Ml,useExisting:M}])}const li=new y.OlP("ROUTER_FORROOT_GUARD"),Ir=[yt.Ye,{provide:fe,useClass:ze},Vt,Ni,{provide:Fs,useFactory:function ai(M){return M.routerState.root},deps:[Vt]},ye,[]];function Ra(){return new y.PXZ("Router",Vt)}let Yi=(()=>{class M{constructor(D){}static forRoot(D,F){return{ngModule:M,providers:[Ir,[],{provide:H,multi:!0,useValue:D},{provide:li,useFactory:Lt,deps:[[Vt,new y.FiY,new y.tp0]]},{provide:Qt,useValue:F||{}},null!=F&&F.useHash?{provide:yt.S$,useClass:yt.Do}:{provide:yt.S$,useClass:yt.b0},{provide:Ac,useFactory:()=>{const M=(0,y.f3M)(yt.EM),O=(0,y.f3M)(y.R0b),D=(0,y.f3M)(Qt),F=(0,y.f3M)(Yt),te=(0,y.f3M)(fe);return D.scrollOffset&&M.setOffset(D.scrollOffset),new Mc(te,F,M,O,D)}},null!=F&&F.preloadingStrategy?fl(F.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Ra},null!=F&&F.initialNavigation?Zi(F):[],null!=F&&F.bindToComponentInputs?sr(8,[Br,{provide:Ui,useExisting:Br}]).\u0275providers:[],[{provide:Sr,useFactory:Pl},{provide:y.tb,multi:!0,useExisting:Sr}]]}}static forChild(D){return{ngModule:M,providers:[{provide:H,multi:!0,useValue:D}]}}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(li,8))},M.\u0275mod=y.oAB({type:M}),M.\u0275inj=y.cJS({}),M})();function Lt(M){return"guarded"}function Zi(M){return["disabled"===M.initialNavigation?sr(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const O=(0,y.f3M)(Vt);return()=>{O.setUpLocationChangeListener()}}},{provide:Rc,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?sr(2,[{provide:Rc,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:O=>{const D=O.get(yt.V_,Promise.resolve());return()=>D.then(()=>new Promise(F=>{const te=O.get(Vt),Ae=O.get(ri);Ln(te,()=>{F(!0)}),O.get(Yt).afterPreactivation=()=>(F(!0),Ae.closed?(0,we.of)(void 0):Ae),te.initialNavigation()}))}}]).\u0275providers:[]]}const Sr=new y.OlP("")},579:(ln,ut,L)=>{"use strict";L.d(ut,{EI:()=>Je,Gb:()=>ze,Iv:()=>Fn,Kz:()=>K,Xd:()=>Pn,lT:()=>an,xP:()=>gr});var y=L(5861),g=L(6881),ie=L(1877),me=L(2090),be=L(4859);L(4727);const de="analytics",De="firebase_id",$e="origin",U=6e4,Ce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ue="https://www.googletagmanager.com/gtag/js",ve=new ie.Yd("@firebase/analytics"),qe=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bt(Le){if(!Le.startsWith(Ue)){const ht=qe.create("invalid-gtag-resource",{gtagURL:Le});return ve.warn(ht.message),""}return Le}function Me(Le){return Promise.all(Le.map(ht=>ht.catch(It=>It)))}function rt(){return(rt=(0,y.Z)(function*(Le,ht,It,zt,Ht,rn){const un=zt[Ht];try{if(un)yield ht[un];else{const zn=(yield Me(It)).find(Dt=>Dt.measurementId===Ht);zn&&(yield ht[zn.appId])}}catch(Wn){ve.error(Wn)}Le("config",Ht,rn)})).apply(this,arguments)}function _t(){return(_t=(0,y.Z)(function*(Le,ht,It,zt,Ht){try{let rn=[];if(Ht&&Ht.send_to){let un=Ht.send_to;Array.isArray(un)||(un=[un]);const Wn=yield Me(It);for(const zn of un){const Dt=Wn.find(Wt=>Wt.measurementId===zn),wt=Dt&&ht[Dt.appId];if(!wt){rn=[];break}rn.push(wt)}}0===rn.length&&(rn=Object.values(ht)),yield Promise.all(rn),Le("event",zt,Ht||{})}catch(rn){ve.error(rn)}})).apply(this,arguments)}const tt=30,ce=new class yt{constructor(ht={},It=1e3){this.throttleMetadata=ht,this.intervalMillis=It}getThrottleMetadata(ht){return this.throttleMetadata[ht]}setThrottleMetadata(ht,It){this.throttleMetadata[ht]=It}deleteThrottleMetadata(ht){delete this.throttleMetadata[ht]}};function Pe(Le){return new Headers({Accept:"application/json","x-goog-api-key":Le})}function We(){return(We=(0,y.Z)(function*(Le){var ht;const{appId:It,apiKey:zt}=Le,Ht={method:"GET",headers:Pe(zt)},rn=Ce.replace("{app-id}",It),un=yield fetch(rn,Ht);if(200!==un.status&&304!==un.status){let Wn="";try{const zn=yield un.json();null!==(ht=zn.error)&&void 0!==ht&&ht.message&&(Wn=zn.error.message)}catch{}throw qe.create("config-fetch-failed",{httpStatus:un.status,responseMessage:Wn})}return un.json()})).apply(this,arguments)}function Fe(){return(Fe=(0,y.Z)(function*(Le,ht=ce,It){const{appId:zt,apiKey:Ht,measurementId:rn}=Le.options;if(!zt)throw qe.create("no-app-id");if(!Ht){if(rn)return{measurementId:rn,appId:zt};throw qe.create("no-api-key")}const un=ht.getThrottleMetadata(zt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wn=new Pt;return setTimeout((0,y.Z)(function*(){Wn.abort()}),void 0!==It?It:U),He({appId:zt,apiKey:Ht,measurementId:rn},un,Wn,ht)})).apply(this,arguments)}function He(Le,ht,It){return mt.apply(this,arguments)}function mt(){return mt=(0,y.Z)(function*(Le,{throttleEndTimeMillis:ht,backoffCount:It},zt,Ht=ce){var rn;const{appId:un,measurementId:Wn}=Le;try{yield function ct(Le,ht){return new Promise((It,zt)=>{const Ht=Math.max(ht-Date.now(),0),rn=setTimeout(It,Ht);Le.addEventListener(()=>{clearTimeout(rn),zt(qe.create("fetch-throttle",{throttleEndTimeMillis:ht}))})})}(zt,ht)}catch(zn){if(Wn)return ve.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${null==zn?void 0:zn.message}]`),{appId:un,measurementId:Wn};throw zn}try{const zn=yield function je(Le){return We.apply(this,arguments)}(Le);return Ht.deleteThrottleMetadata(un),zn}catch(zn){const Dt=zn;if(!function Tt(Le){if(!(Le instanceof me.ZR&&Le.customData))return!1;const ht=Number(Le.customData.httpStatus);return 429===ht||500===ht||503===ht||504===ht}(Dt)){if(Ht.deleteThrottleMetadata(un),Wn)return ve.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${null==Dt?void 0:Dt.message}]`),{appId:un,measurementId:Wn};throw zn}const wt=503===Number(null===(rn=null==Dt?void 0:Dt.customData)||void 0===rn?void 0:rn.httpStatus)?(0,me.$s)(It,Ht.intervalMillis,tt):(0,me.$s)(It,Ht.intervalMillis),Wt={throttleEndTimeMillis:Date.now()+wt,backoffCount:It+1};return Ht.setThrottleMetadata(un,Wt),ve.debug(`Calling attemptFetch again in ${wt} millis`),He(Le,Wt,zt,Ht)}}),mt.apply(this,arguments)}class Pt{constructor(){this.listeners=[]}addEventListener(ht){this.listeners.push(ht)}abort(){this.listeners.forEach(ht=>ht())}}let sn,pr;function et(){return(et=(0,y.Z)(function*(Le,ht,It,zt,Ht){if(Ht&&Ht.global)Le("event",It,zt);else{const rn=yield ht;Le("event",It,Object.assign(Object.assign({},zt),{send_to:rn}))}})).apply(this,arguments)}function Jt(){return(Jt=(0,y.Z)(function*(Le,ht,It,zt){if(zt&&zt.global)return Le("set",{screen_name:It}),Promise.resolve();Le("config",yield ht,{update:!0,screen_name:It})})).apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(Le,ht,It,zt){if(zt&&zt.global)return Le("set",{user_id:It}),Promise.resolve();Le("config",yield ht,{update:!0,user_id:It})})).apply(this,arguments)}function Nt(){return(Nt=(0,y.Z)(function*(Le,ht,It,zt){if(zt&&zt.global){const Ht={};for(const rn of Object.keys(It))Ht[`user_properties.${rn}`]=It[rn];return Le("set",Ht),Promise.resolve()}Le("config",yield ht,{update:!0,user_properties:It})})).apply(this,arguments)}function hr(){return(hr=(0,y.Z)(function*(Le,ht){const It=yield Le;window[`ga-disable-${It}`]=!ht})).apply(this,arguments)}function nr(){return(nr=(0,y.Z)(function*(){if(!(0,me.hl)())return ve.warn(qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(Le){return ve.warn(qe.create("indexeddb-unavailable",{errorInfo:null==Le?void 0:Le.toString()}).message),!1}return!0})).apply(this,arguments)}function Ar(){return Ar=(0,y.Z)(function*(Le,ht,It,zt,Ht,rn,un){var Wn;const zn=function ke(Le){return Fe.apply(this,arguments)}(Le);zn.then(kn=>{It[kn.measurementId]=kn.appId,Le.options.measurementId&&kn.measurementId!==Le.options.measurementId&&ve.warn(`The measurement ID in the local Firebase config (${Le.options.measurementId}) does not match the measurement ID fetched from the server (${kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kn=>ve.error(kn)),ht.push(zn);const Dt=function ir(){return nr.apply(this,arguments)}().then(kn=>{if(kn)return zt.getId()}),[wt,Wt]=yield Promise.all([zn,Dt]);(function St(Le){const ht=window.document.getElementsByTagName("script");for(const It of Object.values(ht))if(It.src&&It.src.includes(Ue)&&It.src.includes(Le))return It;return null})(rn)||function vt(Le,ht){const It=function Ee(Le,ht){let It;return window.trustedTypes&&(It=window.trustedTypes.createPolicy(Le,ht)),It}("firebase-js-sdk-policy",{createScriptURL:bt}),zt=document.createElement("script"),Ht=`${Ue}?l=${Le}&id=${ht}`;zt.src=It?null==It?void 0:It.createScriptURL(Ht):Ht,zt.async=!0,document.head.appendChild(zt)}(rn,wt.measurementId),pr&&(Ht("consent","default",pr),function nn(Le){pr=Le}(void 0)),Ht("js",new Date);const _n=null!==(Wn=null==un?void 0:un.config)&&void 0!==Wn?Wn:{};return _n[$e]="firebase",_n.update=!0,null!=Wt&&(_n[De]=Wt),Ht("config",wt.measurementId,_n),sn&&(Ht("set",sn),function Lr(Le){sn=Le}(void 0)),wt.measurementId}),Ar.apply(this,arguments)}class Sn{constructor(ht){this.app=ht}_delete(){return delete vn[this.app.options.appId],Promise.resolve()}}let vn={},Vn=[];const Cr={};let Nr,br,vr="dataLayer",ur="gtag",Kn=!1;function Pn(Le){if(Kn)throw qe.create("already-initialized");Le.dataLayerName&&(vr=Le.dataLayerName),Le.gtagName&&(ur=Le.gtagName)}function Hn(Le,ht,It){!function Jr(){const Le=[];if((0,me.ru)()&&Le.push("This is a browser extension environment."),(0,me.zI)()||Le.push("Cookies are not available."),Le.length>0){const ht=Le.map((zt,Ht)=>`(${Ht+1}) ${zt}`).join(" "),It=qe.create("invalid-analytics-context",{errorInfo:ht});ve.warn(It.message)}}();const zt=Le.options.appId;if(!zt)throw qe.create("no-app-id");if(!Le.options.apiKey){if(!Le.options.measurementId)throw qe.create("no-api-key");ve.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Le.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vn[zt])throw qe.create("already-exists",{id:zt});if(!Kn){!function it(Le){let ht=[];Array.isArray(window[Le])?ht=window[Le]:window[Le]=ht}(vr);const{wrappedGtag:rn,gtagCore:un}=function xe(Le,ht,It,zt,Ht){let rn=function(...un){window[zt].push(arguments)};return window[Ht]&&"function"==typeof window[Ht]&&(rn=window[Ht]),window[Ht]=function Ze(Le,ht,It,zt){function rn(){return rn=(0,y.Z)(function*(un,...Wn){try{if("event"===un){const[zn,Dt]=Wn;yield function ft(Le,ht,It,zt,Ht){return _t.apply(this,arguments)}(Le,ht,It,zn,Dt)}else if("config"===un){const[zn,Dt]=Wn;yield function Ge(Le,ht,It,zt,Ht,rn){return rt.apply(this,arguments)}(Le,ht,It,zt,zn,Dt)}else if("consent"===un){const[zn]=Wn;Le("consent","update",zn)}else if("get"===un){const[zn,Dt,wt]=Wn;Le("get",zn,Dt,wt)}else if("set"===un){const[zn]=Wn;Le("set",zn)}else Le(un,...Wn)}catch(zn){ve.error(zn)}}),rn.apply(this,arguments)}return function Ht(un){return rn.apply(this,arguments)}}(rn,Le,ht,It),{gtagCore:rn,wrappedGtag:window[Ht]}}(vn,Vn,Cr,vr,ur);br=rn,Nr=un,Kn=!0}return vn[zt]=function Tr(Le,ht,It,zt,Ht,rn,un){return Ar.apply(this,arguments)}(Le,Vn,Cr,ht,Nr,vr,It),new Sn(Le)}function ze(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}function an(Le,ht,It){Le=(0,me.m9)(Le),function Ot(Le,ht,It,zt){return Jt.apply(this,arguments)}(br,vn[Le.app.options.appId],ht,It).catch(zt=>ve.error(zt))}function Fn(Le,ht,It){Le=(0,me.m9)(Le),function fn(Le,ht,It,zt){return Tn.apply(this,arguments)}(br,vn[Le.app.options.appId],ht,It).catch(zt=>ve.error(zt))}function gr(Le,ht,It){Le=(0,me.m9)(Le),function En(Le,ht,It,zt){return Nt.apply(this,arguments)}(br,vn[Le.app.options.appId],ht,It).catch(zt=>ve.error(zt))}function Je(Le,ht){Le=(0,me.m9)(Le),function rr(Le,ht){return hr.apply(this,arguments)}(vn[Le.app.options.appId],ht).catch(It=>ve.error(It))}function K(Le,ht,It,zt){Le=(0,me.m9)(Le),function At(Le,ht,It,zt,Ht){return et.apply(this,arguments)}(br,vn[Le.app.options.appId],ht,It,zt).catch(Ht=>ve.error(Ht))}const q="@firebase/analytics";!function st(){(0,g._registerComponent)(new be.wA(de,(ht,{options:It})=>Hn(ht.getProvider("app").getImmediate(),ht.getProvider("installations-internal").getImmediate(),It),"PUBLIC")),(0,g._registerComponent)(new be.wA("analytics-internal",function Le(ht){try{const It=ht.getProvider(de).getImmediate();return{logEvent:(zt,Ht,rn)=>K(It,zt,Ht,rn)}}catch(It){throw qe.create("interop-component-reg-failed",{reason:It})}},"PRIVATE")),(0,g.registerVersion)(q,"0.10.0"),(0,g.registerVersion)(q,"0.10.0","esm2017")}()},3942:(ln,ut,L)=>{"use strict";L.d(ut,{Z:()=>qe});var y=L(2090),g=L(4859),ie=L(6881),me=L(1877);class be{constructor(Me,Ee){this._delegate=Me,this.firebase=Ee,(0,ie._addComponent)(Me,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(Me,Ee=ie._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(Me);return!it.isInitialized()&&"EXPLICIT"===(null===(vt=it.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:Ee})}_removeServiceInstance(Me,Ee=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Ee)}_addComponent(Me){(0,ie._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,ie._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function $e(){const bt=function De(bt){const Me={},Ee={__esModule:!0,initializeApp:function Ge(Ze,xe={}){const St=ie.initializeApp(Ze,xe);if((0,y.r3)(Me,St.name))return Me[St.name];const tt=new bt(St,Ee);return Me[St.name]=tt,tt},app:it,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function ft(Ze){const xe=Ze.name,St=xe.replace("-compat","");if(ie._registerComponent(Ze)&&"PUBLIC"===Ze.type){const tt=(pt=it())=>{if("function"!=typeof pt[St])throw de.create("invalid-app-argument",{appName:xe});return pt[St]()};void 0!==Ze.serviceProps&&(0,y.ZB)(tt,Ze.serviceProps),Ee[St]=tt,bt.prototype[St]=function(...pt){return this._getService.bind(this,xe).apply(this,Ze.multipleInstances?pt:[])}}return"PUBLIC"===Ze.type?Ee[St]:null},removeApp:function vt(Ze){delete Me[Ze]},useAsService:function _t(Ze,xe){return"serverAuth"===xe?null:xe},modularAPIs:ie}};function it(Ze){if(!(0,y.r3)(Me,Ze=Ze||ie._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ze});return Me[Ze]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function rt(){return Object.keys(Me).map(Ze=>Me[Ze])}}),it.App=bt,Ee}(be);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function Me(Ee){(0,y.ZB)(bt,Ee)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),bt}(),Ce=new me.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){Ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&Ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=U;!function Ve(bt){(0,ie.registerVersion)("@firebase/app-compat","0.2.11",bt)}()},6881:(ln,ut,L)=>{"use strict";L.r(ut),L.d(ut,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>nr,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Vn,_apps:()=>Ar,_clearComponents:()=>Nr,_components:()=>Sn,_getProvider:()=>vr,_registerComponent:()=>Cr,_removeServiceInstance:()=>ur,deleteApp:()=>ze,getApp:()=>jt,getApps:()=>fe,initializeApp:()=>Hn,onLog:()=>mn,registerVersion:()=>an,setLogLevel:()=>fr});var y=L(5861),g=L(4859),ie=L(1877),me=L(2090);const be=(Dt,wt)=>wt.some(Wt=>Dt instanceof Wt);let we,de;const U=new WeakMap,Ce=new WeakMap,Ue=new WeakMap,ve=new WeakMap,Ve=new WeakMap;let Me={get(Dt,wt,Wt){if(Dt instanceof IDBTransaction){if("done"===wt)return Ce.get(Dt);if("objectStoreNames"===wt)return Dt.objectStoreNames||Ue.get(Dt);if("store"===wt)return Wt.objectStoreNames[1]?void 0:Wt.objectStore(Wt.objectStoreNames[0])}return Ge(Dt[wt])},set:(Dt,wt,Wt)=>(Dt[wt]=Wt,!0),has:(Dt,wt)=>Dt instanceof IDBTransaction&&("done"===wt||"store"===wt)||wt in Dt};function it(Dt){return"function"==typeof Dt?function vt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...wt){return Dt.apply(rt(this),wt),Ge(U.get(this))}:function(...wt){return Ge(Dt.apply(rt(this),wt))}:function(wt,...Wt){const _n=Dt.call(rt(this),wt,...Wt);return Ue.set(_n,wt.sort?wt.sort():[wt]),Ge(_n)}}(Dt):(Dt instanceof IDBTransaction&&function bt(Dt){if(Ce.has(Dt))return;const wt=new Promise((Wt,_n)=>{const kn=()=>{Dt.removeEventListener("complete",Xn),Dt.removeEventListener("error",Jn),Dt.removeEventListener("abort",Jn)},Xn=()=>{Wt(),kn()},Jn=()=>{_n(Dt.error||new DOMException("AbortError","AbortError")),kn()};Dt.addEventListener("complete",Xn),Dt.addEventListener("error",Jn),Dt.addEventListener("abort",Jn)});Ce.set(Dt,wt)}(Dt),be(Dt,function De(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,Me):Dt)}function Ge(Dt){if(Dt instanceof IDBRequest)return function qe(Dt){const wt=new Promise((Wt,_n)=>{const kn=()=>{Dt.removeEventListener("success",Xn),Dt.removeEventListener("error",Jn)},Xn=()=>{Wt(Ge(Dt.result)),kn()},Jn=()=>{_n(Dt.error),kn()};Dt.addEventListener("success",Xn),Dt.addEventListener("error",Jn)});return wt.then(Wt=>{Wt instanceof IDBCursor&&U.set(Wt,Dt)}).catch(()=>{}),Ve.set(wt,Dt),wt}(Dt);if(ve.has(Dt))return ve.get(Dt);const wt=it(Dt);return wt!==Dt&&(ve.set(Dt,wt),Ve.set(wt,Dt)),wt}const rt=Dt=>Ve.get(Dt),Ze=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],St=new Map;function tt(Dt,wt){if(!(Dt instanceof IDBDatabase)||wt in Dt||"string"!=typeof wt)return;if(St.get(wt))return St.get(wt);const Wt=wt.replace(/FromIndex$/,""),_n=wt!==Wt,kn=xe.includes(Wt);if(!(Wt in(_n?IDBIndex:IDBObjectStore).prototype)||!kn&&!Ze.includes(Wt))return;const Xn=function(){var Jn=(0,y.Z)(function*(Wr,..._r){const or=this.transaction(Wr,kn?"readwrite":"readonly");let Zn=or.store;return _n&&(Zn=Zn.index(_r.shift())),(yield Promise.all([Zn[Wt](..._r),kn&&or.done]))[0]});return function(_r){return Jn.apply(this,arguments)}}();return St.set(wt,Xn),Xn}!function Ee(Dt){Me=Dt(Me)}(Dt=>({...Dt,get:(wt,Wt,_n)=>tt(wt,Wt)||Dt.get(wt,Wt,_n),has:(wt,Wt)=>!!tt(wt,Wt)||Dt.has(wt,Wt)}));class pt{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function yt(Dt){const wt=Dt.getComponent();return"VERSION"===(null==wt?void 0:wt.type)}(Wt)){const _n=Wt.getImmediate();return`${_n.library}/${_n.version}`}return null}).filter(Wt=>Wt).join(" ")}}const ce="@firebase/app",je=new ie.Yd("@firebase/app"),nr="[DEFAULT]",Tr={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ar=new Map,Sn=new Map;function vn(Dt,wt){try{Dt.container.addComponent(wt)}catch(Wt){je.debug(`Component ${wt.name} failed to register with FirebaseApp ${Dt.name}`,Wt)}}function Vn(Dt,wt){Dt.container.addOrOverwriteComponent(wt)}function Cr(Dt){const wt=Dt.name;if(Sn.has(wt))return je.debug(`There were multiple attempts to register component ${wt}.`),!1;Sn.set(wt,Dt);for(const Wt of Ar.values())vn(Wt,Dt);return!0}function vr(Dt,wt){const Wt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Wt&&Wt.triggerHeartbeat(),Dt.container.getProvider(wt)}function ur(Dt,wt,Wt=nr){vr(Dt,wt).clearInstance(Wt)}function Nr(){Sn.clear()}const Kn=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(wt,Wt,_n){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=_n,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const Jr="9.22.1";function Hn(Dt,wt={}){let Wt=Dt;"object"!=typeof wt&&(wt={name:wt});const _n=Object.assign({name:nr,automaticDataCollectionEnabled:!1},wt),kn=_n.name;if("string"!=typeof kn||!kn)throw Kn.create("bad-app-name",{appName:String(kn)});if(Wt||(Wt=(0,me.aH)()),!Wt)throw Kn.create("no-options");const Xn=Ar.get(kn);if(Xn){if((0,me.vZ)(Wt,Xn.options)&&(0,me.vZ)(_n,Xn.config))return Xn;throw Kn.create("duplicate-app",{appName:kn})}const Jn=new g.H0(kn);for(const _r of Sn.values())Jn.addComponent(_r);const Wr=new Pn(Wt,_n,Jn);return Ar.set(kn,Wr),Wr}function jt(Dt=nr){const wt=Ar.get(Dt);if(!wt&&Dt===nr&&(0,me.aH)())return Hn();if(!wt)throw Kn.create("no-app",{appName:Dt});return wt}function fe(){return Array.from(Ar.values())}function ze(Dt){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(Dt){const wt=Dt.name;Ar.has(wt)&&(Ar.delete(wt),yield Promise.all(Dt.container.getProviders().map(Wt=>Wt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function an(Dt,wt,Wt){var _n;let kn=null!==(_n=Tr[Dt])&&void 0!==_n?_n:Dt;Wt&&(kn+=`-${Wt}`);const Xn=kn.match(/\s|\//),Jn=wt.match(/\s|\//);if(Xn||Jn){const Wr=[`Unable to register library "${kn}" with version "${wt}":`];return Xn&&Wr.push(`library name "${kn}" contains illegal characters (whitespace or "/")`),Xn&&Jn&&Wr.push("and"),Jn&&Wr.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void je.warn(Wr.join(" "))}Cr(new g.wA(`${kn}-version`,()=>({library:kn,version:wt}),"VERSION"))}function mn(Dt,wt){if(null!==Dt&&"function"!=typeof Dt)throw Kn.create("invalid-log-argument");(0,ie.Am)(Dt,wt)}function fr(Dt){(0,ie.Ub)(Dt)}const Fn="firebase-heartbeat-database",gr=1,Je="firebase-heartbeat-store";let he=null;function K(){return he||(he=function ft(Dt,wt,{blocked:Wt,upgrade:_n,blocking:kn,terminated:Xn}={}){const Jn=indexedDB.open(Dt,wt),Wr=Ge(Jn);return _n&&Jn.addEventListener("upgradeneeded",_r=>{_n(Ge(Jn.result),_r.oldVersion,_r.newVersion,Ge(Jn.transaction),_r)}),Wt&&Jn.addEventListener("blocked",_r=>Wt(_r.oldVersion,_r.newVersion,_r)),Wr.then(_r=>{Xn&&_r.addEventListener("close",()=>Xn()),kn&&_r.addEventListener("versionchange",or=>kn(or.oldVersion,or.newVersion,or))}).catch(()=>{}),Wr}(Fn,gr,{upgrade:(Dt,wt)=>{0===wt&&Dt.createObjectStore(Je)}}).catch(Dt=>{throw Kn.create("idb-open",{originalErrorMessage:Dt.message})})),he}function q(){return(q=(0,y.Z)(function*(Dt){try{return yield(yield K()).transaction(Je).objectStore(Je).get(Le(Dt))}catch(wt){if(wt instanceof me.ZR)je.warn(wt.message);else{const Wt=Kn.create("idb-get",{originalErrorMessage:null==wt?void 0:wt.message});je.warn(Wt.message)}}})).apply(this,arguments)}function Oe(Dt,wt){return st.apply(this,arguments)}function st(){return(st=(0,y.Z)(function*(Dt,wt){try{const _n=(yield K()).transaction(Je,"readwrite");yield _n.objectStore(Je).put(wt,Le(Dt)),yield _n.done}catch(Wt){if(Wt instanceof me.ZR)je.warn(Wt.message);else{const _n=Kn.create("idb-set",{originalErrorMessage:null==Wt?void 0:Wt.message});je.warn(_n.message)}}})).apply(this,arguments)}function Le(Dt){return`${Dt.name}!${Dt.options.appId}`}class zt{constructor(wt){this.container=wt,this._heartbeatsCache=null;const Wt=this.container.getProvider("app").getImmediate();this._storage=new un(Wt),this._heartbeatsCachePromise=this._storage.read().then(_n=>(this._heartbeatsCache=_n,_n))}triggerHeartbeat(){var wt=this;return(0,y.Z)(function*(){const _n=wt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=Ht();if(null===wt._heartbeatsCache&&(wt._heartbeatsCache=yield wt._heartbeatsCachePromise),wt._heartbeatsCache.lastSentHeartbeatDate!==kn&&!wt._heartbeatsCache.heartbeats.some(Xn=>Xn.date===kn))return wt._heartbeatsCache.heartbeats.push({date:kn,agent:_n}),wt._heartbeatsCache.heartbeats=wt._heartbeatsCache.heartbeats.filter(Xn=>{const Jn=new Date(Xn.date).valueOf();return Date.now()-Jn<=2592e6}),wt._storage.overwrite(wt._heartbeatsCache)})()}getHeartbeatsHeader(){var wt=this;return(0,y.Z)(function*(){if(null===wt._heartbeatsCache&&(yield wt._heartbeatsCachePromise),null===wt._heartbeatsCache||0===wt._heartbeatsCache.heartbeats.length)return"";const Wt=Ht(),{heartbeatsToSend:_n,unsentEntries:kn}=function rn(Dt,wt=1024){const Wt=[];let _n=Dt.slice();for(const kn of Dt){const Xn=Wt.find(Jn=>Jn.agent===kn.agent);if(Xn){if(Xn.dates.push(kn.date),Wn(Wt)>wt){Xn.dates.pop();break}}else if(Wt.push({agent:kn.agent,dates:[kn.date]}),Wn(Wt)>wt){Wt.pop();break}_n=_n.slice(1)}return{heartbeatsToSend:Wt,unsentEntries:_n}}(wt._heartbeatsCache.heartbeats),Xn=(0,me.L)(JSON.stringify({version:2,heartbeats:_n}));return wt._heartbeatsCache.lastSentHeartbeatDate=Wt,kn.length>0?(wt._heartbeatsCache.heartbeats=kn,yield wt._storage.overwrite(wt._heartbeatsCache)):(wt._heartbeatsCache.heartbeats=[],wt._storage.overwrite(wt._heartbeatsCache)),Xn})()}}function Ht(){return(new Date).toISOString().substring(0,10)}class un{constructor(wt){this.app=wt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var wt=this;return(0,y.Z)(function*(){return(yield wt._canUseIndexedDBPromise)&&(yield function z(Dt){return q.apply(this,arguments)}(wt.app))||{heartbeats:[]}})()}overwrite(wt){var Wt=this;return(0,y.Z)(function*(){var _n;if(yield Wt._canUseIndexedDBPromise){const Xn=yield Wt.read();return Oe(Wt.app,{lastSentHeartbeatDate:null!==(_n=wt.lastSentHeartbeatDate)&&void 0!==_n?_n:Xn.lastSentHeartbeatDate,heartbeats:wt.heartbeats})}})()}add(wt){var Wt=this;return(0,y.Z)(function*(){var _n;if(yield Wt._canUseIndexedDBPromise){const Xn=yield Wt.read();return Oe(Wt.app,{lastSentHeartbeatDate:null!==(_n=wt.lastSentHeartbeatDate)&&void 0!==_n?_n:Xn.lastSentHeartbeatDate,heartbeats:[...Xn.heartbeats,...wt.heartbeats]})}})()}}function Wn(Dt){return(0,me.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function zn(Dt){Cr(new g.wA("platform-logger",wt=>new pt(wt),"PRIVATE")),Cr(new g.wA("heartbeat",wt=>new zt(wt),"PRIVATE")),an(ce,"0.9.11",Dt),an(ce,"0.9.11","esm2017"),an("fire-js","")}("")},4859:(ln,ut,L)=>{"use strict";L.d(ut,{H0:()=>De,wA:()=>ie,zt:()=>be});var y=L(5861),g=L(2090);class ie{constructor(U,Ce,Ue){this.name=U,this.instanceFactory=Ce,this.type=Ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const me="[DEFAULT]";class be{constructor(U,Ce){this.name=U,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const Ce=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(Ce)){const Ue=new g.BH;if(this.instancesDeferred.set(Ce,Ue),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const ve=this.getOrInitializeService({instanceIdentifier:Ce});ve&&Ue.resolve(ve)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(U){var Ce;const Ue=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),ve=null!==(Ce=null==U?void 0:U.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(Ue)&&!this.shouldAutoInitialize()){if(ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ue})}catch(Ve){if(ve)return null;throw Ve}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function de($e){return"EAGER"===$e.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[Ce,Ue]of this.instancesDeferred.entries()){const ve=this.normalizeInstanceIdentifier(Ce);try{const Ve=this.getOrInitializeService({instanceIdentifier:ve});Ue.resolve(Ve)}catch{}}}}clearInstance(U=me){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,y.Z)(function*(){const Ce=Array.from(U.instances.values());yield Promise.all([...Ce.filter(Ue=>"INTERNAL"in Ue).map(Ue=>Ue.INTERNAL.delete()),...Ce.filter(Ue=>"_delete"in Ue).map(Ue=>Ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=me){return this.instances.has(U)}getOptions(U=me){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:Ce={}}=U,Ue=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Ue))throw Error(`${this.name}(${Ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ve=this.getOrInitializeService({instanceIdentifier:Ue,options:Ce});for(const[Ve,qe]of this.instancesDeferred.entries())Ue===this.normalizeInstanceIdentifier(Ve)&&qe.resolve(ve);return ve}onInit(U,Ce){var Ue;const ve=this.normalizeInstanceIdentifier(Ce),Ve=null!==(Ue=this.onInitCallbacks.get(ve))&&void 0!==Ue?Ue:new Set;Ve.add(U),this.onInitCallbacks.set(ve,Ve);const qe=this.instances.get(ve);return qe&&U(qe,ve),()=>{Ve.delete(U)}}invokeOnInitCallbacks(U,Ce){const Ue=this.onInitCallbacks.get(Ce);if(Ue)for(const ve of Ue)try{ve(U,Ce)}catch{}}getOrInitializeService({instanceIdentifier:U,options:Ce={}}){let Ue=this.instances.get(U);if(!Ue&&this.component&&(Ue=this.component.instanceFactory(this.container,{instanceIdentifier:($e=U,$e===me?void 0:$e),options:Ce}),this.instances.set(U,Ue),this.instancesOptions.set(U,Ce),this.invokeOnInitCallbacks(Ue,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Ue)}catch{}var $e;return Ue||null}normalizeInstanceIdentifier(U=me){return this.component?this.component.multipleInstances?U:me:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const Ce=this.getProvider(U.name);if(Ce.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);Ce.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const Ce=new be(U,this);return this.providers.set(U,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},4727:(ln,ut,L)=>{"use strict";var y=L(5861),g=L(6881),ie=L(4859),me=L(2090);const be=(G,oe)=>oe.some(Be=>G instanceof Be);let we,de;const U=new WeakMap,Ce=new WeakMap,Ue=new WeakMap,ve=new WeakMap,Ve=new WeakMap;let Me={get(G,oe,Be){if(G instanceof IDBTransaction){if("done"===oe)return Ce.get(G);if("objectStoreNames"===oe)return G.objectStoreNames||Ue.get(G);if("store"===oe)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Ge(G[oe])},set:(G,oe,Be)=>(G[oe]=Be,!0),has:(G,oe)=>G instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in G};function it(G){return"function"==typeof G?function vt(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...oe){return G.apply(rt(this),oe),Ge(U.get(this))}:function(...oe){return Ge(G.apply(rt(this),oe))}:function(oe,...Be){const Xe=G.call(rt(this),oe,...Be);return Ue.set(Xe,oe.sort?oe.sort():[oe]),Ge(Xe)}}(G):(G instanceof IDBTransaction&&function bt(G){if(Ce.has(G))return;const oe=new Promise((Be,Xe)=>{const dt=()=>{G.removeEventListener("complete",xt),G.removeEventListener("error",on),G.removeEventListener("abort",on)},xt=()=>{Be(),dt()},on=()=>{Xe(G.error||new DOMException("AbortError","AbortError")),dt()};G.addEventListener("complete",xt),G.addEventListener("error",on),G.addEventListener("abort",on)});Ce.set(G,oe)}(G),be(G,function De(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Me):G)}function Ge(G){if(G instanceof IDBRequest)return function qe(G){const oe=new Promise((Be,Xe)=>{const dt=()=>{G.removeEventListener("success",xt),G.removeEventListener("error",on)},xt=()=>{Be(Ge(G.result)),dt()},on=()=>{Xe(G.error),dt()};G.addEventListener("success",xt),G.addEventListener("error",on)});return oe.then(Be=>{Be instanceof IDBCursor&&U.set(Be,G)}).catch(()=>{}),Ve.set(oe,G),oe}(G);if(ve.has(G))return ve.get(G);const oe=it(G);return oe!==G&&(ve.set(G,oe),Ve.set(oe,G)),oe}const rt=G=>Ve.get(G),Ze=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],St=new Map;function tt(G,oe){if(!(G instanceof IDBDatabase)||oe in G||"string"!=typeof oe)return;if(St.get(oe))return St.get(oe);const Be=oe.replace(/FromIndex$/,""),Xe=oe!==Be,dt=xe.includes(Be);if(!(Be in(Xe?IDBIndex:IDBObjectStore).prototype)||!dt&&!Ze.includes(Be))return;const xt=function(){var on=(0,y.Z)(function*(dn,...Un){const ar=this.transaction(dn,dt?"readwrite":"readonly");let pi=ar.store;return Xe&&(pi=pi.index(Un.shift())),(yield Promise.all([pi[Be](...Un),dt&&ar.done]))[0]});return function(Un){return on.apply(this,arguments)}}();return St.set(oe,xt),xt}!function Ee(G){Me=G(Me)}(G=>({...G,get:(oe,Be,Xe)=>tt(oe,Be)||G.get(oe,Be,Xe),has:(oe,Be)=>!!tt(oe,Be)||G.has(oe,Be)}));const pt="@firebase/installations",yt="0.6.4",ce=1e4,Pe=`w:${yt}`,je="FIS_v2",We="https://firebaseinstallations.googleapis.com/v1",ke=36e5,ct=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(G){return G instanceof me.ZR&&G.code.includes("request-failed")}function Pt({projectId:G}){return`${We}/projects/${G}/installations`}function sn(G){return{token:G.token,requestStatus:2,expiresIn:En(G.expiresIn),creationTime:Date.now()}}function At(G,oe){return et.apply(this,arguments)}function et(){return(et=(0,y.Z)(function*(G,oe){const Xe=(yield oe.json()).error;return ct.create("request-failed",{requestName:G,serverCode:Xe.code,serverMessage:Xe.message,serverStatus:Xe.status})})).apply(this,arguments)}function Ot({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function fn(G){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(G){const oe=yield G();return oe.status>=500&&oe.status<600?G():oe})).apply(this,arguments)}function En(G){return Number(G.replace("s","000"))}function Bt(){return(Bt=(0,y.Z)(function*({appConfig:G,heartbeatServiceProvider:oe},{fid:Be}){const Xe=Pt(G),dt=Ot(G),xt=oe.getImmediate({optional:!0});if(xt){const ar=yield xt.getHeartbeatsHeader();ar&&dt.append("x-firebase-client",ar)}const dn={method:"POST",headers:dt,body:JSON.stringify({fid:Be,authVersion:je,appId:G.appId,sdkVersion:Pe})},Un=yield fn(()=>fetch(Xe,dn));if(Un.ok){const ar=yield Un.json();return{fid:ar.fid||Be,registrationStatus:2,refreshToken:ar.refreshToken,authToken:sn(ar.authToken)}}throw yield At("Create Installation",Un)})).apply(this,arguments)}function rr(G){return new Promise(oe=>{setTimeout(oe,G)})}const pr=/^[cdef][\w-]{21}$/,nn="";function Lr(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const Be=function ir(G){return function hr(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return pr.test(Be)?Be:nn}catch{return nn}}function nr(G){return`${G.appName}!${G.appId}`}const Tr=new Map;function Ar(G,oe){const Be=nr(G);Vn(Be,oe),function Cr(G,oe){const Be=function ur(){return!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=G=>{Vn(G.data.key,G.data.fid)}),vr}();Be&&Be.postMessage({key:G,fid:oe}),function Nr(){0===Tr.size&&vr&&(vr.close(),vr=null)}()}(Be,oe)}function Vn(G,oe){const Be=Tr.get(G);if(Be)for(const Xe of Be)Xe(oe)}let vr=null;const br="firebase-installations-database",Kn=1,Pn="firebase-installations-store";let Jr=null;function Hn(){return Jr||(Jr=function ft(G,oe,{blocked:Be,upgrade:Xe,blocking:dt,terminated:xt}={}){const on=indexedDB.open(G,oe),dn=Ge(on);return Xe&&on.addEventListener("upgradeneeded",Un=>{Xe(Ge(on.result),Un.oldVersion,Un.newVersion,Ge(on.transaction))}),Be&&on.addEventListener("blocked",()=>Be()),dn.then(Un=>{xt&&Un.addEventListener("close",()=>xt()),dt&&Un.addEventListener("versionchange",()=>dt())}).catch(()=>{}),dn}(br,Kn,{upgrade:(G,oe)=>{0===oe&&G.createObjectStore(Pn)}})),Jr}function jt(G,oe){return fe.apply(this,arguments)}function fe(){return(fe=(0,y.Z)(function*(G,oe){const Be=nr(G),dt=(yield Hn()).transaction(Pn,"readwrite"),xt=dt.objectStore(Pn),on=yield xt.get(Be);return yield xt.put(oe,Be),yield dt.done,(!on||on.fid!==oe.fid)&&Ar(G,oe.fid),oe})).apply(this,arguments)}function ze(G){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(G){const oe=nr(G),Xe=(yield Hn()).transaction(Pn,"readwrite");yield Xe.objectStore(Pn).delete(oe),yield Xe.done})).apply(this,arguments)}function an(G,oe){return mn.apply(this,arguments)}function mn(){return(mn=(0,y.Z)(function*(G,oe){const Be=nr(G),dt=(yield Hn()).transaction(Pn,"readwrite"),xt=dt.objectStore(Pn),on=yield xt.get(Be),dn=oe(on);return void 0===dn?yield xt.delete(Be):yield xt.put(dn,Be),yield dt.done,dn&&(!on||on.fid!==dn.fid)&&Ar(G,dn.fid),dn})).apply(this,arguments)}function fr(G){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,y.Z)(function*(G){let oe;const Be=yield an(G.appConfig,Xe=>{const dt=function gr(G){return st(G||{fid:Lr(),registrationStatus:0})}(Xe),xt=function Je(G,oe){if(0===oe.registrationStatus){if(!navigator.onLine)return{installationEntry:oe,registrationPromise:Promise.reject(ct.create("app-offline"))};const Be={fid:oe.fid,registrationStatus:1,registrationTime:Date.now()},Xe=function he(G,oe){return K.apply(this,arguments)}(G,Be);return{installationEntry:Be,registrationPromise:Xe}}return 1===oe.registrationStatus?{installationEntry:oe,registrationPromise:z(G)}:{installationEntry:oe}}(G,dt);return oe=xt.registrationPromise,xt.installationEntry});return Be.fid===nn?{installationEntry:yield oe}:{installationEntry:Be,registrationPromise:oe}}),Fn.apply(this,arguments)}function K(){return K=(0,y.Z)(function*(G,oe){try{const Be=yield function In(G,oe){return Bt.apply(this,arguments)}(G,oe);return jt(G.appConfig,Be)}catch(Be){throw Tt(Be)&&409===Be.customData.serverCode?yield ze(G.appConfig):yield jt(G.appConfig,{fid:oe.fid,registrationStatus:0}),Be}}),K.apply(this,arguments)}function z(G){return q.apply(this,arguments)}function q(){return(q=(0,y.Z)(function*(G){let oe=yield Oe(G.appConfig);for(;1===oe.registrationStatus;)yield rr(100),oe=yield Oe(G.appConfig);if(0===oe.registrationStatus){const{installationEntry:Be,registrationPromise:Xe}=yield fr(G);return Xe||Be}return oe})).apply(this,arguments)}function Oe(G){return an(G,oe=>{if(!oe)throw ct.create("installation-not-found");return st(oe)})}function st(G){return function Le(G){return 1===G.registrationStatus&&G.registrationTime+ce<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function It(){return(It=(0,y.Z)(function*({appConfig:G,heartbeatServiceProvider:oe},Be){const Xe=function zt(G,{fid:oe}){return`${Pt(G)}/${oe}/authTokens:generate`}(G,Be),dt=function Jt(G,{refreshToken:oe}){const Be=Ot(G);return Be.append("Authorization",function Nt(G){return`${je} ${G}`}(oe)),Be}(G,Be),xt=oe.getImmediate({optional:!0});if(xt){const ar=yield xt.getHeartbeatsHeader();ar&&dt.append("x-firebase-client",ar)}const dn={method:"POST",headers:dt,body:JSON.stringify({installation:{sdkVersion:Pe,appId:G.appId}})},Un=yield fn(()=>fetch(Xe,dn));if(Un.ok)return sn(yield Un.json());throw yield At("Generate Auth Token",Un)})).apply(this,arguments)}function Ht(G){return rn.apply(this,arguments)}function rn(){return rn=(0,y.Z)(function*(G,oe=!1){let Be;const Xe=yield an(G.appConfig,xt=>{if(!Wt(xt))throw ct.create("not-registered");const on=xt.authToken;if(!oe&&function _n(G){return 2===G.requestStatus&&!function kn(G){const oe=Date.now();return oe<G.creationTime||G.creationTime+G.expiresIn<oe+ke}(G)}(on))return xt;if(1===on.requestStatus)return Be=function un(G,oe){return Wn.apply(this,arguments)}(G,oe),xt;{if(!navigator.onLine)throw ct.create("app-offline");const dn=function Xn(G){const oe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:oe})}(xt);return Be=function Dt(G,oe){return wt.apply(this,arguments)}(G,dn),dn}});return Be?yield Be:Xe.authToken}),rn.apply(this,arguments)}function Wn(){return(Wn=(0,y.Z)(function*(G,oe){let Be=yield zn(G.appConfig);for(;1===Be.authToken.requestStatus;)yield rr(100),Be=yield zn(G.appConfig);const Xe=Be.authToken;return 0===Xe.requestStatus?Ht(G,oe):Xe})).apply(this,arguments)}function zn(G){return an(G,oe=>{if(!Wt(oe))throw ct.create("not-registered");return function Jn(G){return 1===G.requestStatus&&G.requestTime+ce<Date.now()}(oe.authToken)?Object.assign(Object.assign({},oe),{authToken:{requestStatus:0}}):oe})}function wt(){return wt=(0,y.Z)(function*(G,oe){try{const Be=yield function ht(G,oe){return It.apply(this,arguments)}(G,oe),Xe=Object.assign(Object.assign({},oe),{authToken:Be});return yield jt(G.appConfig,Xe),Be}catch(Be){if(!Tt(Be)||401!==Be.customData.serverCode&&404!==Be.customData.serverCode){const Xe=Object.assign(Object.assign({},oe),{authToken:{requestStatus:0}});yield jt(G.appConfig,Xe)}else yield ze(G.appConfig);throw Be}}),wt.apply(this,arguments)}function Wt(G){return void 0!==G&&2===G.registrationStatus}function _r(){return(_r=(0,y.Z)(function*(G){const oe=G,{installationEntry:Be,registrationPromise:Xe}=yield fr(oe);return Xe?Xe.catch(console.error):Ht(oe).catch(console.error),Be.fid})).apply(this,arguments)}function Zn(){return Zn=(0,y.Z)(function*(G,oe=!1){const Be=G;return yield function fi(G){return yi.apply(this,arguments)}(Be),(yield Ht(Be,oe)).token}),Zn.apply(this,arguments)}function yi(){return(yi=(0,y.Z)(function*(G){const{registrationPromise:oe}=yield fr(G);oe&&(yield oe)})).apply(this,arguments)}function ps(G){return ct.create("missing-app-config-values",{valueName:G})}const Zs="installations",ee=G=>{const oe=G.getProvider("app").getImmediate(),Be=function Ji(G){if(!G||!G.options)throw ps("App Configuration");if(!G.name)throw ps("App Name");const oe=["projectId","apiKey","appId"];for(const Be of oe)if(!G.options[Be])throw ps(Be);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(oe);return{app:oe,appConfig:Be,heartbeatServiceProvider:(0,g._getProvider)(oe,"heartbeat"),_delete:()=>Promise.resolve()}},_e=G=>{const oe=G.getProvider("app").getImmediate(),Be=(0,g._getProvider)(oe,Zs).getImmediate();return{getId:()=>function Wr(G){return _r.apply(this,arguments)}(Be),getToken:dt=>function or(G){return Zn.apply(this,arguments)}(Be,dt)}};(function ae(){(0,g._registerComponent)(new ie.wA(Zs,ee,"PUBLIC")),(0,g._registerComponent)(new ie.wA("installations-internal",_e,"PRIVATE"))})(),(0,g.registerVersion)(pt,yt),(0,g.registerVersion)(pt,yt,"esm2017")},1877:(ln,ut,L)=>{"use strict";L.d(ut,{Am:()=>$e,Ub:()=>De,Yd:()=>de,in:()=>g});const y=[];var g=(()=>((g=g||{})[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT",g))();const ie={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},me=g.INFO,be={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},we=(U,Ce,...Ue)=>{if(Ce<U.logLevel)return;const ve=(new Date).toISOString(),Ve=be[Ce];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[Ve](`[${ve}]  ${U.name}:`,...Ue)};class de{constructor(Ce){this.name=Ce,this._logLevel=me,this._logHandler=we,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in g))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?ie[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...Ce),this._logHandler(this,g.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...Ce),this._logHandler(this,g.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,g.INFO,...Ce),this._logHandler(this,g.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,g.WARN,...Ce),this._logHandler(this,g.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...Ce),this._logHandler(this,g.ERROR,...Ce)}}function De(U){y.forEach(Ce=>{Ce.setLogLevel(U)})}function $e(U,Ce){for(const Ue of y){let ve=null;Ce&&Ce.level&&(ve=ie[Ce.level]),Ue.userLogHandler=null===U?null:(Ve,qe,...bt)=>{const Me=bt.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");qe>=(null!=ve?ve:Ve.logLevel)&&U({level:g[qe].toLowerCase(),message:Me,args:bt,type:Ve.name})}}}},9972:(ln,ut,L)=>{"use strict";L.d(ut,{Br:()=>ss,dr:()=>Lr,BJ:()=>ir,YG:()=>Vn,Sm:()=>Cr,hM:()=>Jr,wI:()=>Hn,W2:()=>jt,IJ:()=>Mt,W4:()=>an,Gu:()=>gr,gu:()=>Je,Xz:()=>he,pK:()=>q,Ie:()=>Oe,Q$:()=>Ht,q_:()=>rn,fG:()=>Dt,jP:()=>Ui,Nd:()=>ns,yW:()=>ae,wd:()=>Be,sr:()=>xt,Pc:()=>sa,r4:()=>Ti,IN:()=>as,t4:()=>ar,j9:()=>fn});var y=L(5861),g=L(2223),ie=L(5030),me=L(655),be=L(4968),we=L(7579),de=L(1135),De=L(96),ve=(L(9613),L(3551),L(1138),L(1898),L(5273)),Ve=L(3577),qe=L(3982),bt=L(9866),Ee=(L(8126),L(2583)),Ge=(L(3457),L(4349),L(4083)),ft=L(9300),_t=L(3900),Ze=L(1884),xe=L(4755);const tt=ve.i,ce=["*"],He=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S);let mt=(()=>{class S{constructor(T,Q){this.injector=T,this.el=Q,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(T){this.el.nativeElement.value=this.lastValue=T,ct(this.el)}handleValueChange(T,Q){T===this.el.nativeElement&&(Q!==this.lastValue&&(this.lastValue=Q,this.onChange(Q)),ct(this.el))}_handleBlurEvent(T){T===this.el.nativeElement&&(this.onTouched(),ct(this.el))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.el.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(ie.a5)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>ct(this.el)));const Q=T.control;Q&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(qt=>{if(typeof Q[qt]<"u"){const Nn=Q[qt].bind(Q);Q[qt]=(...er)=>{Nn(...er),ct(this.el)}}})}}return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.zs3),g.Y36(g.SBq))},S.\u0275dir=g.lG2({type:S,hostBindings:function(T,Q){1&T&&g.NdJ("ionBlur",function(qt){return Q._handleBlurEvent(qt.target)})}}),S})();const ct=S=>{He(()=>{const ne=S.nativeElement,T=null!=ne.value&&ne.value.toString().length>0,Q=Tt(ne);Pt(ne,Q);const Re=ne.closest("ion-item");Re&&Pt(Re,T?[...Q,"item-has-value"]:Q)})},Tt=S=>{const ne=S.classList,T=[];for(let Q=0;Q<ne.length;Q++){const Re=ne.item(Q);null!==Re&&sn(Re,"ng-")&&T.push(`ion-${Re.substring(3)}`)}return T},Pt=(S,ne)=>{const T=S.classList;T.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),T.add(...ne)},sn=(S,ne)=>S.substring(0,ne.length)===ne;let fn=(()=>{class S extends mt{constructor(T,Q){super(T,Q)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.zs3),g.Y36(g.SBq))},S.\u0275dir=g.lG2({type:S,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,Q){1&T&&g.NdJ("ionInput",function(qt){return Q._handleInputEvent(qt.target)})},features:[g._Bn([{provide:ie.JU,useExisting:S,multi:!0}]),g.qOj]}),S})();const Tn=(S,ne)=>{const T=S.prototype;ne.forEach(Q=>{Object.defineProperty(T,Q,{get(){return this.el[Q]},set(Re){this.z.runOutsideAngular(()=>this.el[Q]=Re)}})})},En=(S,ne)=>{const T=S.prototype;ne.forEach(Q=>{T[Q]=function(){const Re=arguments;return this.z.runOutsideAngular(()=>this.el[Q].apply(this.el,Re))}})},Nt=(S,ne,T)=>{T.forEach(Q=>S[Q]=(0,be.R)(ne,Q))};function Bt(S){return function(T){const{defineCustomElementFn:Q,inputs:Re,methods:qt}=S;return void 0!==Q&&Q(),Re&&Tn(T,Re),qt&&En(T,qt),T}}let Lr=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-app"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({})],S),S})(),ir=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-avatar"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({})],S),S})(),Vn=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],S),S})(),Cr=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["collapse"]})],S),S})(),Jr=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["color","disabled","mode","outline"]})],S),S})(),Hn=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],S),S})(),jt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],S),S})(),Mt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],S),S})(),an=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],S),S})(),gr=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["collapse","mode","translucent"]})],S),S})(),Je=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],S),S})(),he=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["alt","src"]})],S),S})(),q=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],S),S})(),Oe=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],S),S})(),Ht=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["color","mode","position"]})],S),S})(),rn=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],S),S})(),Dt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["autoHide","color","disabled","menu","mode","type"]})],S),S})(),ns=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-row"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({})],S),S})(),ae=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["color","mode"]})],S),S})(),Be=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["color","size"]})],S),S})(),xt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,me.gn)([Bt({inputs:["color","mode"]})],S),S})(),on=(()=>{class S{get(T,Q){const Re=Un();return Re?Re.get(T,Q):null}getBoolean(T,Q){const Re=Un();return!!Re&&Re.getBoolean(T,Q)}getNumber(T,Q){const Re=Un();return Re?Re.getNumber(T,Q):0}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const dn=new g.OlP("USERCONFIG"),Un=()=>{if(typeof window<"u"){const S=window.Ionic;if(null!=S&&S.config)return S.config}return null};let ar=(()=>{class S{constructor(T,Q){this.doc=T,this.backButton=new we.x,this.keyboardDidShow=new we.x,this.keyboardDidHide=new we.x,this.pause=new we.x,this.resume=new we.x,this.resize=new we.x,Q.run(()=>{var Re;let qt;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(Nn,er){return this.subscribe(mr=>mr.register(Nn,Dr=>Q.run(()=>er(Dr))))},Oi(this.pause,T,"pause"),Oi(this.resume,T,"resume"),Oi(this.backButton,T,"ionBackButton"),Oi(this.resize,this.win,"resize"),Oi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Oi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Nn=>{qt=Nn}),null!==(Re=this.win)&&void 0!==Re&&Re.cordova?T.addEventListener("deviceready",()=>{qt("cordova")},{once:!0}):qt("dom")})}is(T){return(0,ve.a)(this.win,T)}platforms(){return(0,ve.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return pi(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,Q;return null===(T=(Q=this.win).matchMedia)||void 0===T?void 0:T.call(Q,"(orientation: portrait)").matches}testUserAgent(T){const Q=this.win.navigator;return!!(null!=Q&&Q.userAgent&&Q.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return S.\u0275fac=function(T){return new(T||S)(g.LFG(xe.K0),g.LFG(g.R0b))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const pi=(S,ne)=>{ne=ne.replace(/[[\]\\]/g,"\\$&");const Q=new RegExp("[\\?&]"+ne+"=([^&#]*)").exec(S);return Q?decodeURIComponent(Q[1].replace(/\+/g," ")):null},Oi=(S,ne,T)=>{ne&&ne.addEventListener(T,Q=>{S.next(null!=Q?Q.detail:void 0)})};let Fi=(()=>{class S{constructor(T,Q,Re,qt){this.location=Q,this.serializer=Re,this.router=qt,this.direction=Cn,this.animated=Er,this.guessDirection="forward",this.lastNavId=-1,qt&&qt.events.subscribe(Nn=>{if(Nn instanceof De.OD){const er=Nn.restoredState?Nn.restoredState.navigationId:Nn.id;this.guessDirection=er<this.lastNavId?"back":"forward",this.guessAnimation=Nn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Nn.id:er}}),T.backButton.subscribeWithPriority(0,Nn=>{this.pop(),Nn()})}navigateForward(T,Q={}){return this.setDirection("forward",Q.animated,Q.animationDirection,Q.animation),this.navigate(T,Q)}navigateBack(T,Q={}){return this.setDirection("back",Q.animated,Q.animationDirection,Q.animation),this.navigate(T,Q)}navigateRoot(T,Q={}){return this.setDirection("root",Q.animated,Q.animationDirection,Q.animation),this.navigate(T,Q)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,y.Z)(function*(){let Q=T.topOutlet;for(;Q&&!(yield Q.pop());)Q=Q.parentOutlet})()}setDirection(T,Q,Re,qt){this.direction=T,this.animated=Hr(T,Q,Re),this.animationBuilder=qt}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let Q,T="root";const Re=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,Q=this.guessAnimation):(Q=this.animated,T=this.direction),this.direction=Cn,this.animated=Er,this.animationBuilder=void 0,{direction:T,animation:Q,animationBuilder:Re}}navigate(T,Q){if(Array.isArray(T))return this.router.navigate(T,Q);{const Re=this.serializer.parse(T.toString());return void 0!==Q.queryParams&&(Re.queryParams={...Q.queryParams}),void 0!==Q.fragment&&(Re.fragment=Q.fragment),this.router.navigateByUrl(Re,Q)}}}return S.\u0275fac=function(T){return new(T||S)(g.LFG(ar),g.LFG(xe.Ye),g.LFG(De.Hx),g.LFG(De.F0,8))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Hr=(S,ne,T)=>{if(!1!==ne){if(void 0!==T)return T;if("forward"===S||"back"===S)return S;if("root"===S&&!0===ne)return"forward"}},Cn="auto",Er=void 0;class Kr{constructor(ne={}){this.data=ne}get(ne){return this.data[ne]}}let Ni=(()=>{class S{constructor(){this.zone=(0,g.f3M)(g.R0b),this.applicationRef=(0,g.f3M)(g.z2F)}create(T,Q,Re){return new Mo(T,Q,this.applicationRef,this.zone,Re)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})();class Mo{constructor(ne,T,Q,Re,qt){this.environmentInjector=ne,this.injector=T,this.applicationRef=Q,this.zone=Re,this.elementReferenceKey=qt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ne,T,Q,Re){return this.zone.run(()=>new Promise(qt=>{const Nn={...Q};void 0!==this.elementReferenceKey&&(Nn[this.elementReferenceKey]=ne),qt(gi(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ne,T,Nn,Re))}))}removeViewFromDom(ne,T){return this.zone.run(()=>new Promise(Q=>{const Re=this.elRefMap.get(T);if(Re){Re.destroy(),this.elRefMap.delete(T);const qt=this.elEventsMap.get(T);qt&&(qt(),this.elEventsMap.delete(T))}Q()}))}}const gi=(S,ne,T,Q,Re,qt,Nn,er,mr,Dr)=>{const qi=g.zs3.create({providers:bs(mr),parent:T}),Ts=(0,g.LMc)(er,{environmentInjector:ne,elementInjector:qi}),ls=Ts.instance,_s=Ts.location.nativeElement;if(mr&&Object.assign(ls,mr),Dr)for(const xo of Dr)_s.classList.add(xo);const Ws=Ur(S,ls,_s);return Nn.appendChild(_s),Q.attachView(Ts.hostView),Re.set(_s,Ts),qt.set(_s,Ws),_s},rs=[bt.L,bt.a,bt.b,bt.c,bt.d],Ur=(S,ne,T)=>S.run(()=>{const Q=rs.filter(Re=>"function"==typeof ne[Re]).map(Re=>{const qt=Nn=>ne[Re](Nn.detail);return T.addEventListener(Re,qt),()=>T.removeEventListener(Re,qt)});return()=>Q.forEach(Re=>Re())}),is=new g.OlP("NavParamsToken"),bs=S=>[{provide:is,useValue:S},{provide:Kr,useFactory:An,deps:[is]}],An=S=>new Kr(S),Fs=(S,ne)=>((S=S.filter(T=>T.stackId!==ne.stackId)).push(ne),S),Ss=(S,ne)=>{const T=S.createUrlTree(["."],{relativeTo:ne});return S.serializeUrl(T)},Ls=(S,ne)=>{if(!S)return;const T=Ro(ne);for(let Q=0;Q<T.length;Q++){if(Q>=S.length)return T[Q];if(T[Q]!==S[Q])return}},Ro=S=>S.split("/").map(ne=>ne.trim()).filter(ne=>""!==ne),_o=S=>{S&&(S.ref.destroy(),S.unlistenEvents())};class gs{constructor(ne,T,Q,Re,qt,Nn){this.containerEl=T,this.router=Q,this.navCtrl=Re,this.zone=qt,this.location=Nn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ne?Ro(ne):void 0}createView(ne,T){var Q;const Re=Ss(this.router,T),qt=null==ne||null===(Q=ne.location)||void 0===Q?void 0:Q.nativeElement,Nn=Ur(this.zone,ne.instance,qt);return{id:this.nextId++,stackId:Ls(this.tabsPrefix,Re),unlistenEvents:Nn,element:qt,ref:ne,url:Re}}getExistingView(ne){const T=Ss(this.router,ne),Q=this.views.find(Re=>Re.url===T);return Q&&Q.ref.changeDetectorRef.reattach(),Q}setActive(ne){var T,Q,Re;const qt=this.navCtrl.consumeTransition();let{direction:Nn,animation:er,animationBuilder:mr}=qt;const Dr=this.activeView,qi=((S,ne)=>!ne||S.stackId!==ne.stackId)(ne,Dr);qi&&(Nn="back",er=void 0);const Ts=this.views.slice();let ls;const _s=this.router;_s.getCurrentNavigation?ls=_s.getCurrentNavigation():null!==(T=_s.navigations)&&void 0!==T&&T.value&&(ls=_s.navigations.value),null!==(Q=ls)&&void 0!==Q&&null!==(Re=Q.extras)&&void 0!==Re&&Re.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ws=this.views.includes(ne),xo=this.insertView(ne,Nn);Ws||ne.ref.changeDetectorRef.detectChanges();const Z=ne.animationBuilder;return void 0===mr&&"back"===Nn&&!qi&&void 0!==Z&&(mr=Z),Dr&&(Dr.animationBuilder=mr),this.zone.runOutsideAngular(()=>this.wait(()=>(Dr&&Dr.ref.changeDetectorRef.detach(),ne.ref.changeDetectorRef.reattach(),this.transition(ne,Dr,er,this.canGoBack(1),!1,mr).then(()=>es(ne,xo,Ts,this.location,this.zone)).then(()=>({enteringView:ne,direction:Nn,animation:er,tabSwitch:qi})))))}canGoBack(ne,T=this.getActiveStackId()){return this.getStack(T).length>ne}pop(ne,T=this.getActiveStackId()){return this.zone.run(()=>{const Q=this.getStack(T);if(Q.length<=ne)return Promise.resolve(!1);const Re=Q[Q.length-ne-1];let qt=Re.url;const Nn=Re.savedData;if(Nn){var er,mr;const qi=Nn.get("primary");null!=qi&&null!==(er=qi.route)&&void 0!==er&&null!==(mr=er._routerState)&&void 0!==mr&&mr.snapshot.url&&(qt=qi.route._routerState.snapshot.url)}const{animationBuilder:Dr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(qt,{...Re.savedExtras,animation:Dr}).then(()=>!0)})}startBackTransition(){const ne=this.activeView;if(ne){const T=this.getStack(ne.stackId),Q=T[T.length-2],Re=Q.animationBuilder;return this.wait(()=>this.transition(Q,ne,"back",this.canGoBack(2),!0,Re))}return Promise.resolve()}endBackTransition(ne){ne?(this.skipTransition=!0,this.pop(1)):this.activeView&&Uo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ne){const T=this.getStack(ne);return T.length>0?T[T.length-1]:void 0}getRootUrl(ne){const T=this.getStack(ne);return T.length>0?T[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(_o),this.activeView=void 0,this.views=[]}getStack(ne){return this.views.filter(T=>T.stackId===ne)}insertView(ne,T){return this.activeView=ne,this.views=((S,ne,T)=>"root"===T?Fs(S,ne):"forward"===T?((S,ne)=>(S.indexOf(ne)>=0?S=S.filter(Q=>Q.stackId!==ne.stackId||Q.id<=ne.id):S.push(ne),S))(S,ne):((S,ne)=>S.indexOf(ne)>=0?S.filter(Q=>Q.stackId!==ne.stackId||Q.id<=ne.id):Fs(S,ne))(S,ne))(this.views,ne,T),this.views.slice()}transition(ne,T,Q,Re,qt,Nn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(T===ne)return Promise.resolve(!1);const er=ne?ne.element:void 0,mr=T?T.element:void 0,Dr=this.containerEl;return er&&er!==mr&&(er.classList.add("ion-page"),er.classList.add("ion-page-invisible"),er.parentElement!==Dr&&Dr.appendChild(er),Dr.commit)?Dr.commit(er,mr,{duration:void 0===Q?0:void 0,direction:Q,showGoBack:Re,progressAnimation:qt,animationBuilder:Nn}):Promise.resolve(!1)}wait(ne){var T=this;return(0,y.Z)(function*(){void 0!==T.runningTask&&(yield T.runningTask,T.runningTask=void 0);const Q=T.runningTask=ne();return Q.finally(()=>T.runningTask=void 0),Q})()}}const es=(S,ne,T,Q,Re)=>"function"==typeof requestAnimationFrame?new Promise(qt=>{requestAnimationFrame(()=>{Uo(S,ne,T,Q,Re),qt()})}):Promise.resolve(),Uo=(S,ne,T,Q,Re)=>{Re.run(()=>T.filter(qt=>!ne.includes(qt)).forEach(_o)),ne.forEach(qt=>{const er=Q.path().split("?")[0].split("#")[0];if(qt!==S&&qt.url!==er){const mr=qt.element;mr.setAttribute("aria-hidden","true"),mr.classList.add("ion-page-hidden"),qt.ref.changeDetectorRef.detach()}})};let Ui=(()=>{class S{constructor(T,Q,Re,qt,Nn,er,mr,Dr){this.parentOutlet=Dr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new de.X(null),this.stackEvents=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.parentContexts=(0,g.f3M)(De.y6),this.location=(0,g.f3M)(g.s_b),this.environmentInjector=(0,g.f3M)(g.lqb),this.config=(0,g.f3M)(on),this.navCtrl=(0,g.f3M)(Fi),this.nativeEl=qt.nativeElement,this.name=T||De.eC,this.tabsPrefix="true"===Q?Ss(Nn,mr):void 0,this.stackCtrl=new gs(this.tabsPrefix,this.nativeEl,Nn,this.navCtrl,er,Re),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Q=>this.stackCtrl.endBackTransition(Q)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>(0,Ve.c)(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,Q){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Q=this.getContext();this.activatedView.savedData=new Map(Q.children.contexts);const Re=this.activatedView.savedData.get("primary");if(Re&&Q.route&&(Re.route={...Q.route}),this.activatedView.savedExtras={},Q.route){const qt=Q.route.snapshot;this.activatedView.savedExtras.queryParams=qt.queryParams,this.activatedView.savedExtras.fragment=qt.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,Q){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let Re,qt=this.stackCtrl.getExistingView(T);if(qt){Re=this.activated=qt.ref;const er=qt.savedData;er&&(this.getContext().children.contexts=er),this.updateActivatedRouteProxy(Re.instance,T)}else{var Nn;const er=T._futureSnapshot,mr=this.parentContexts.getOrCreateContext(this.name).children,Dr=new de.X(null),qi=this.createActivatedRouteProxy(Dr,T),Ts=new Br(qi,mr,this.location.injector),ls=null!==(Nn=er.routeConfig.component)&&void 0!==Nn?Nn:er.component;Re=this.activated=this.location.createComponent(ls,{index:this.location.length,injector:Ts,environmentInjector:null!=Q?Q:this.environmentInjector}),Dr.next(Re.instance),qt=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(Re.instance,qi),this.currentActivatedRoute$.next({component:Re.instance,activatedRoute:T})}this.activatedView=qt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(qt).then(er=>{this.activateEvents.emit(Re.instance),this.stackEvents.emit(er)})}canGoBack(T=1,Q){return this.stackCtrl.canGoBack(T,Q)}pop(T=1,Q){return this.stackCtrl.pop(T,Q)}getLastUrl(T){const Q=this.stackCtrl.getLastUrl(T);return Q?Q.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,Q){const Re=new De.gz;return Re._futureSnapshot=Q._futureSnapshot,Re._routerState=Q._routerState,Re.snapshot=Q.snapshot,Re.outlet=Q.outlet,Re.component=Q.component,Re._paramMap=this.proxyObservable(T,"paramMap"),Re._queryParamMap=this.proxyObservable(T,"queryParamMap"),Re.url=this.proxyObservable(T,"url"),Re.params=this.proxyObservable(T,"params"),Re.queryParams=this.proxyObservable(T,"queryParams"),Re.fragment=this.proxyObservable(T,"fragment"),Re.data=this.proxyObservable(T,"data"),Re}proxyObservable(T,Q){return T.pipe((0,ft.h)(Re=>!!Re),(0,_t.w)(Re=>this.currentActivatedRoute$.pipe((0,ft.h)(qt=>null!==qt&&qt.component===Re),(0,_t.w)(qt=>qt&&qt.activatedRoute[Q]),(0,Ze.x)())))}updateActivatedRouteProxy(T,Q){const Re=this.proxyMap.get(T);if(!Re)throw new Error("Could not find activated route proxy for view");Re._futureSnapshot=Q._futureSnapshot,Re._routerState=Q._routerState,Re.snapshot=Q.snapshot,Re.outlet=Q.outlet,Re.component=Q.component,this.currentActivatedRoute$.next({component:T,activatedRoute:Q})}}return S.\u0275fac=function(T){return new(T||S)(g.$8M("name"),g.$8M("tabs"),g.Y36(xe.Ye),g.Y36(g.SBq),g.Y36(De.F0),g.Y36(g.R0b),g.Y36(De.gz),g.Y36(S,12))},S.\u0275dir=g.lG2({type:S,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),S})();class Br{constructor(ne,T,Q){this.route=ne,this.childContexts=T,this.parent=Q}get(ne,T){return ne===De.gz?this.route:ne===De.y6?this.childContexts:this.parent.get(ne,T)}}class mi{constructor(ne){this.ctrl=ne}create(ne){return this.ctrl.create(ne||{})}dismiss(ne,T,Q){return this.ctrl.dismiss(ne,T,Q)}getTop(){return this.ctrl.getTop()}}let ss=(()=>{class S extends mi{constructor(){super(Ee.a)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),as=(()=>{class S extends mi{constructor(){super(Ee.m),this.angularDelegate=(0,g.f3M)(Ni),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})(),Xs=(()=>{class S extends mi{constructor(){super(Ee.c),this.angularDelegate=(0,g.f3M)(Ni),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})();class Ti{shouldDetach(ne){return!1}shouldAttach(ne){return!1}store(ne,T){}retrieve(ne){return null}shouldReuseRoute(ne,T){if(ne.routeConfig!==T.routeConfig)return!1;const Q=ne.params,Re=T.params,qt=Object.keys(Q),Nn=Object.keys(Re);if(qt.length!==Nn.length)return!1;for(const er of qt)if(Re[er]!==Q[er])return!1;return!0}}const Gs=(S,ne,T)=>()=>{if(ne.defaultView&&typeof window<"u"){(0,qe.s)({...S,_zoneGate:qt=>T.run(qt)});const Re="__zone_symbol__addEventListener"in ne.body?"__zone_symbol__addEventListener":"addEventListener";return function St(){var S=[];if(typeof window<"u"){var ne=window;(!ne.customElements||ne.Element&&(!ne.Element.prototype.closest||!ne.Element.prototype.matches||!ne.Element.prototype.remove||!ne.Element.prototype.getRootNode))&&S.push(L.e(6748).then(L.t.bind(L,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ne.NodeList&&!ne.NodeList.prototype.forEach||!ne.fetch||!function(){try{var Q=new URL("b","http://a");return Q.pathname="c%20d","http://a/c%20d"===Q.href&&Q.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&S.push(L.e(2214).then(L.t.bind(L,4144,23)))}return Promise.all(S)}().then(()=>((S,ne)=>typeof window>"u"?Promise.resolve():(0,Ge.p)().then(()=>(tt(),(0,Ge.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ne))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:He,jmp:qt=>T.runOutsideAngular(qt),ael(qt,Nn,er,mr){qt[Re](Nn,er,mr)},rel(qt,Nn,er,mr){qt.removeEventListener(Nn,er,mr)}}))}};let sa=(()=>{class S{static forRoot(T){return{ngModule:S,providers:[{provide:dn,useValue:T},{provide:g.ip1,useFactory:Gs,multi:!0,deps:[dn,xe.K0,g.R0b]}]}}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({providers:[Ni,as,Xs],imports:[xe.ez]}),S})()},5132:(ln,ut,L)=>{"use strict";L.d(ut,{Gb:()=>y.Gb});var y=L(579)},259:(ln,ut,L)=>{"use strict";L.d(ut,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=L(6881);(0,y.registerVersion)("firebase","9.22.1","app")},9260:(ln,ut,L)=>{"use strict";L.d(ut,{Z:()=>y.Z});var y=L(3942);y.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(ln,ut,L)=>{"use strict";L.r(ut);var y=L(5861),g=L(3942),ie=L(1389),me=L(2090),de=(L(6881),L(1877),L(4859));function De(){return window}function Ce(){return Ce=(0,y.Z)(function*(K,z,q){var Oe;const{BuildInfo:st}=De();(0,ie.as)(z.sessionId,"AuthEvent did not contain a session ID");const Le=yield function Ee(K){return vt.apply(this,arguments)}(z.sessionId),ht={};return(0,ie.at)()?ht.ibi=st.packageName:(0,ie.au)()?ht.apn=st.packageName:(0,ie.av)(K,"operation-not-supported-in-this-environment"),st.displayName&&(ht.appDisplayName=st.displayName),ht.sessionId=Le,(0,ie.aw)(K,q,z.type,void 0,null!==(Oe=z.eventId)&&void 0!==Oe?Oe:void 0,ht)}),Ce.apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(K){const{BuildInfo:z}=De(),q={};(0,ie.at)()?q.iosBundleId=z.packageName:(0,ie.au)()?q.androidPackageName=z.packageName:(0,ie.av)(K,"operation-not-supported-in-this-environment"),yield(0,ie.ax)(K,q)})).apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(K,z,q){const{cordova:Oe}=De();let st=()=>{};try{yield new Promise((Le,ht)=>{let It=null;function zt(){var un;Le();const Wn=null===(un=Oe.plugins.browsertab)||void 0===un?void 0:un.close;"function"==typeof Wn&&Wn(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function Ht(){It||(It=window.setTimeout(()=>{ht((0,ie.az)(K,"redirect-cancelled-by-user"))},2e3))}function rn(){"visible"===(null==document?void 0:document.visibilityState)&&Ht()}z.addPassiveListener(zt),document.addEventListener("resume",Ht,!1),(0,ie.au)()&&document.addEventListener("visibilitychange",rn,!1),st=()=>{z.removePassiveListener(zt),document.removeEventListener("resume",Ht,!1),document.removeEventListener("visibilitychange",rn,!1),It&&window.clearTimeout(It)}})}finally{st()}})).apply(this,arguments)}function vt(){return(vt=(0,y.Z)(function*(K){const z=function it(K){if((0,ie.as)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const z=new ArrayBuffer(K.length),q=new Uint8Array(z);for(let Oe=0;Oe<K.length;Oe++)q[Oe]=K.charCodeAt(Oe);return q}(K),q=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(q)).map(st=>st.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends ie.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(z)),super.onEvent(z)}initialized(){var z=this;return(0,y.Z)(function*(){yield z.initPromise})()}}function Ze(K){return xe.apply(this,arguments)}function xe(){return(xe=(0,y.Z)(function*(K){const z=yield pt()._get(yt(K));return z&&(yield pt()._remove(yt(K))),z})).apply(this,arguments)}function tt(){const K=[];for(let q=0;q<20;q++){const Oe=Math.floor(62*Math.random());K.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Oe))}return K.join("")}function pt(){return(0,ie.aC)(ie.b)}function yt(K){return(0,ie.aD)("authEvent",K.config.apiKey,K.name)}function je(K){if(null==K||!K.includes("?"))return{};const[z,...q]=K.split("?");return(0,me.zd)(q.join("?"))}const Fe=class ke{constructor(){this._redirectPersistence=ie.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ie.aE,this._overrideRedirectResult=ie.aF}_initialize(z){var q=this;return(0,y.Z)(function*(){const Oe=z._key();let st=q.eventManagers.get(Oe);return st||(st=new rt(z),q.eventManagers.set(Oe,st),q.attachCallbackListeners(z,st)),st})()}_openPopup(z){(0,ie.av)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,q,Oe,st){var Le=this;return(0,y.Z)(function*(){!function Me(K){var z,q,Oe,st,Le,ht,It,zt,Ht,rn;const un=De();(0,ie.aA)("function"==typeof(null===(z=null==un?void 0:un.universalLinks)||void 0===z?void 0:z.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ie.aA)(typeof(null===(q=null==un?void 0:un.BuildInfo)||void 0===q?void 0:q.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ie.aA)("function"==typeof(null===(Le=null===(st=null===(Oe=null==un?void 0:un.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===st?void 0:st.browsertab)||void 0===Le?void 0:Le.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.aA)("function"==typeof(null===(zt=null===(It=null===(ht=null==un?void 0:un.cordova)||void 0===ht?void 0:ht.plugins)||void 0===It?void 0:It.browsertab)||void 0===zt?void 0:zt.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.aA)("function"==typeof(null===(rn=null===(Ht=null==un?void 0:un.cordova)||void 0===Ht?void 0:Ht.InAppBrowser)||void 0===rn?void 0:rn.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const ht=yield Le._initialize(z);yield ht.initialized(),ht.resetRedirect(),(0,ie.aG)(),yield Le._originValidation(z);const It=function ft(K,z,q=null){return{type:z,eventId:q,urlResponse:null,sessionId:tt(),postBody:null,tenantId:K.tenantId,error:(0,ie.az)(K,"no-auth-event")}}(z,Oe,st);yield function _t(K,z){return pt()._set(yt(K),z)}(z,It);const zt=yield function U(K,z,q){return Ce.apply(this,arguments)}(z,It,q),Ht=yield function Ve(K){const{cordova:z}=De();return new Promise(q=>{z.plugins.browsertab.isAvailable(Oe=>{let st=null;Oe?z.plugins.browsertab.openUrl(K):st=z.InAppBrowser.open(K,(0,ie.ay)()?"_blank":"_system","location=yes"),q(st)})})}(zt);return function qe(K,z,q){return bt.apply(this,arguments)}(z,ht,Ht)})()}_isIframeWebStorageSupported(z,q){throw new Error("Method not implemented.")}_originValidation(z){const q=z._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function Ue(K){return ve.apply(this,arguments)}(z)),this.originValidationPromises[q]}attachCallbackListeners(z,q){const{universalLinks:Oe,handleOpenURL:st,BuildInfo:Le}=De(),ht=setTimeout((0,y.Z)(function*(){yield Ze(z),q.onEvent(He())}),500),It=function(){var rn=(0,y.Z)(function*(un){clearTimeout(ht);const Wn=yield Ze(z);let zn=null;Wn&&null!=un&&un.url&&(zn=function St(K,z){var q,Oe;const st=function Pe(K){const z=je(K),q=z.link?decodeURIComponent(z.link):void 0,Oe=je(q).link,st=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return je(st).link||st||Oe||q||K}(z);if(st.includes("/__/auth/callback")){const Le=je(st),ht=Le.firebaseError?function ce(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(Le.firebaseError)):null,It=null===(Oe=null===(q=null==ht?void 0:ht.code)||void 0===q?void 0:q.split("auth/"))||void 0===Oe?void 0:Oe[1],zt=It?(0,ie.az)(It):null;return zt?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:zt,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:st,postBody:null}}return null}(Wn,un.url)),q.onEvent(zn||He())});return function(Wn){return rn.apply(this,arguments)}}();typeof Oe<"u"&&"function"==typeof Oe.subscribe&&Oe.subscribe(null,It);const zt=st,Ht=`${Le.packageName.toLowerCase()}://`;De().handleOpenURL=function(){var rn=(0,y.Z)(function*(un){if(un.toLowerCase().startsWith(Ht)&&It({url:un}),"function"==typeof zt)try{zt(un)}catch(Wn){console.error(Wn)}});return function(un){return rn.apply(this,arguments)}}()}};function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ie.az)("no-auth-event")}}function sn(){var K;return(null===(K=null==self?void 0:self.location)||void 0===K?void 0:K.protocol)||null}function et(K=(0,me.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()&&"capacitor:"!==sn()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function En(){try{const K=self.localStorage,z=ie.aL();if(K)return K.setItem(z,"1"),K.removeItem(z),!function Tn(K=(0,me.z$)()){return function Jt(){return(0,me.w1)()&&11===(null==document?void 0:document.documentMode)}()||function fn(K=(0,me.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,me.hl)()}catch{return Nt()&&(0,me.hl)()}return!1}function Nt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function In(){return(function At(){return"http:"===sn()||"https:"===sn()}()||(0,me.ru)()||et())&&!function Ot(){return(0,me.b$)()||(0,me.UG)()}()&&En()&&!Nt()}function Bt(){return et()&&typeof document<"u"}function hr(){return(hr=(0,y.Z)(function*(){return!!Bt()&&new Promise(K=>{const z=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),K(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},Lr=ie.aA,ir="persistence";function Tr(K){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,y.Z)(function*(K){yield K._initializationPromise;const z=vn(),q=ie.aD(ir,K.config.apiKey,K.name);z&&z.setItem(q,K._getPersistence())})).apply(this,arguments)}function vn(){var K;try{return(null===(K=function pr(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Vn=ie.aA;class Cr{constructor(){this.browserResolver=ie.aC(ie.k),this.cordovaResolver=ie.aC(Fe),this.underlyingResolver=null,this._redirectPersistence=ie.a,this._completeRedirectFn=ie.aE,this._overrideRedirectResult=ie.aF}_initialize(z){var q=this;return(0,y.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,q,Oe,st){var Le=this;return(0,y.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(z,q,Oe,st)})()}_openRedirect(z,q,Oe,st){var Le=this;return(0,y.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(z,q,Oe,st)})()}_isIframeWebStorageSupported(z,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,q)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return Bt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,y.Z)(function*(){if(z.underlyingResolver)return;const q=yield function rr(){return hr.apply(this,arguments)}();z.underlyingResolver=q?z.cordovaResolver:z.browserResolver})()}}function vr(K){return K.unwrap()}function Nr(K){return Kn(K)}function Kn(K){const{_tokenResponse:z}=K instanceof me.ZR?K.customData:K;if(!z)return null;if(!(K instanceof me.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return ie.P.credentialFromResult(K);const q=z.providerId;if(!q||q===ie.p.PASSWORD)return null;let Oe;switch(q){case ie.p.GOOGLE:Oe=ie.V;break;case ie.p.FACEBOOK:Oe=ie.U;break;case ie.p.GITHUB:Oe=ie.W;break;case ie.p.TWITTER:Oe=ie.Z;break;default:const{oauthIdToken:st,oauthAccessToken:Le,oauthTokenSecret:ht,pendingToken:It,nonce:zt}=z;return Le||ht||st||It?It?q.startsWith("saml.")?ie.aO._create(q,It):ie.L._fromParams({providerId:q,signInMethod:q,pendingToken:It,idToken:st,accessToken:Le}):new ie.X(q).credential({idToken:st,accessToken:Le,rawNonce:zt}):null}return K instanceof me.ZR?Oe.credentialFromError(K):Oe.credentialFromResult(K)}function Pn(K,z){return z.catch(q=>{throw q instanceof me.ZR&&function br(K,z){var q;const Oe=null===(q=z.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null==z?void 0:z.code))z.resolver=new jt(K,ie.aq(K,z));else if(Oe){const st=Kn(z),Le=z;st&&(Le.credential=st,Le.tenantId=Oe.tenantId||void 0,Le.email=Oe.email||void 0,Le.phoneNumber=Oe.phoneNumber||void 0)}}(K,q),q}).then(q=>{const st=q.user;return{operationType:q.operationType,credential:Nr(q),additionalUserInfo:ie.ao(q),user:fe.getOrCreate(st)}})}function Jr(K,z){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,y.Z)(function*(K,z){const q=yield z;return{verificationId:q.verificationId,confirm:Oe=>Pn(K,q.confirm(Oe))}})).apply(this,arguments)}class jt{constructor(z,q){this.resolver=q,this.auth=function ur(K){return K.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return Pn(vr(this.auth),this.resolver.resolveSignIn(z))}}class fe{constructor(z){this._delegate=z,this.multiFactor=ie.ar(z)}static getOrCreate(z){return fe.USER_MAP.has(z)||fe.USER_MAP.set(z,new fe(z)),fe.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var q=this;return(0,y.Z)(function*(){return Pn(q.auth,ie.a0(q._delegate,z))})()}linkWithPhoneNumber(z,q){var Oe=this;return(0,y.Z)(function*(){return Jr(Oe.auth,ie.l(Oe._delegate,z,q))})()}linkWithPopup(z){var q=this;return(0,y.Z)(function*(){return Pn(q.auth,ie.d(q._delegate,z,Cr))})()}linkWithRedirect(z){var q=this;return(0,y.Z)(function*(){return yield Tr(ie.aH(q.auth)),ie.g(q._delegate,z,Cr)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var q=this;return(0,y.Z)(function*(){return Pn(q.auth,ie.a1(q._delegate,z))})()}reauthenticateWithPhoneNumber(z,q){return Jr(this.auth,ie.r(this._delegate,z,q))}reauthenticateWithPopup(z){return Pn(this.auth,ie.e(this._delegate,z,Cr))}reauthenticateWithRedirect(z){var q=this;return(0,y.Z)(function*(){return yield Tr(ie.aH(q.auth)),ie.h(q._delegate,z,Cr)})()}sendEmailVerification(z){return ie.ae(this._delegate,z)}unlink(z){var q=this;return(0,y.Z)(function*(){return yield ie.an(q._delegate,z),q})()}updateEmail(z){return ie.aj(this._delegate,z)}updatePassword(z){return ie.ak(this._delegate,z)}updatePhoneNumber(z){return ie.u(this._delegate,z)}updateProfile(z){return ie.ai(this._delegate,z)}verifyBeforeUpdateEmail(z,q){return ie.af(this._delegate,z,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fe.USER_MAP=new WeakMap;const ze=ie.aA;let Mt=(()=>{class K{constructor(q,Oe){if(this.app=q,Oe.isInitialized())return this._delegate=Oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:st}=q.options;ze(st,"invalid-api-key",{appName:q.name}),ze(st,"invalid-api-key",{appName:q.name});const Le=typeof window<"u"?Cr:void 0;this._delegate=Oe.initialize({options:{persistence:mn(st,q.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(ie.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Oe){ie.I(this._delegate,q,Oe)}applyActionCode(q){return ie.a5(this._delegate,q)}checkActionCode(q){return ie.a6(this._delegate,q)}confirmPasswordReset(q,Oe){return ie.a4(this._delegate,q,Oe)}createUserWithEmailAndPassword(q,Oe){var st=this;return(0,y.Z)(function*(){return Pn(st._delegate,ie.a8(st._delegate,q,Oe))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return ie.ad(this._delegate,q)}isSignInWithEmailLink(q){return ie.ab(this._delegate,q)}getRedirectResult(){var q=this;return(0,y.Z)(function*(){ze(In(),q._delegate,"operation-not-supported-in-this-environment");const Oe=yield ie.j(q._delegate,Cr);return Oe?Pn(q._delegate,Promise.resolve(Oe)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function mt(K,z){(0,ie.aH)(K)._logFramework(z)}(this._delegate,q)}onAuthStateChanged(q,Oe,st){const{next:Le,error:ht,complete:It}=an(q,Oe,st);return this._delegate.onAuthStateChanged(Le,ht,It)}onIdTokenChanged(q,Oe,st){const{next:Le,error:ht,complete:It}=an(q,Oe,st);return this._delegate.onIdTokenChanged(Le,ht,It)}sendSignInLinkToEmail(q,Oe){return ie.aa(this._delegate,q,Oe)}sendPasswordResetEmail(q,Oe){return ie.a3(this._delegate,q,Oe||void 0)}setPersistence(q){var Oe=this;return(0,y.Z)(function*(){let st;switch(function nr(K,z){Lr(Object.values(nn).includes(z),K,"invalid-persistence-type"),(0,me.b$)()?Lr(z!==nn.SESSION,K,"unsupported-persistence-type"):(0,me.UG)()?Lr(z===nn.NONE,K,"unsupported-persistence-type"):Nt()?Lr(z===nn.NONE||z===nn.LOCAL&&(0,me.hl)(),K,"unsupported-persistence-type"):Lr(z===nn.NONE||En(),K,"unsupported-persistence-type")}(Oe._delegate,q),q){case nn.SESSION:st=ie.a;break;case nn.LOCAL:st=(yield ie.aC(ie.i)._isAvailable())?ie.i:ie.b;break;case nn.NONE:st=ie.N;break;default:return ie.av("argument-error",{appName:Oe._delegate.name})}return Oe._delegate.setPersistence(st)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Pn(this._delegate,ie._(this._delegate))}signInWithCredential(q){return Pn(this._delegate,ie.$(this._delegate,q))}signInWithCustomToken(q){return Pn(this._delegate,ie.a2(this._delegate,q))}signInWithEmailAndPassword(q,Oe){return Pn(this._delegate,ie.a9(this._delegate,q,Oe))}signInWithEmailLink(q,Oe){return Pn(this._delegate,ie.ac(this._delegate,q,Oe))}signInWithPhoneNumber(q,Oe){return Jr(this._delegate,ie.s(this._delegate,q,Oe))}signInWithPopup(q){var Oe=this;return(0,y.Z)(function*(){return ze(In(),Oe._delegate,"operation-not-supported-in-this-environment"),Pn(Oe._delegate,ie.c(Oe._delegate,q,Cr))})()}signInWithRedirect(q){var Oe=this;return(0,y.Z)(function*(){return ze(In(),Oe._delegate,"operation-not-supported-in-this-environment"),yield Tr(Oe._delegate),ie.f(Oe._delegate,q,Cr)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return ie.a7(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=nn,K})();function an(K,z,q){let Oe=K;"function"!=typeof K&&({next:Oe,error:z,complete:q}=K);const st=Oe;return{next:ht=>st(ht&&fe.getOrCreate(ht)),error:z,complete:q}}function mn(K,z){const q=function Sn(K,z){const q=vn();if(!q)return[];const Oe=ie.aD(ir,K,z);switch(q.getItem(Oe)){case nn.NONE:return[ie.N];case nn.LOCAL:return[ie.i,ie.a];case nn.SESSION:return[ie.a];default:return[]}}(K,z);if(typeof self<"u"&&!q.includes(ie.i)&&q.push(ie.i),typeof window<"u")for(const Oe of[ie.b,ie.a])q.includes(Oe)||q.push(Oe);return q.includes(ie.N)||q.push(ie.N),q}class fr{constructor(){this.providerId="phone",this._delegate=new ie.P(vr(g.Z.auth()))}static credential(z,q){return ie.P.credential(z,q)}verifyPhoneNumber(z,q){return this._delegate.verifyPhoneNumber(z,q)}unwrap(){return this._delegate}}fr.PHONE_SIGN_IN_METHOD=ie.P.PHONE_SIGN_IN_METHOD,fr.PROVIDER_ID=ie.P.PROVIDER_ID;const Fn=ie.aA;class gr{constructor(z,q,Oe=g.Z.app()){var st;Fn(null===(st=Oe.options)||void 0===st?void 0:st.apiKey,"invalid-api-key",{appName:Oe.name}),this._delegate=new ie.R(z,q,Oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(K){K.INTERNAL.registerComponent(new de.wA("auth-compat",z=>{const q=z.getProvider("app-compat").getImmediate(),Oe=z.getProvider("auth");return new Mt(q,Oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ie.A.EMAIL_SIGNIN,PASSWORD_RESET:ie.A.PASSWORD_RESET,RECOVER_EMAIL:ie.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ie.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ie.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ie.A.VERIFY_EMAIL}},EmailAuthProvider:ie.Q,FacebookAuthProvider:ie.U,GithubAuthProvider:ie.W,GoogleAuthProvider:ie.V,OAuthProvider:ie.X,SAMLAuthProvider:ie.Y,PhoneAuthProvider:fr,PhoneMultiFactorGenerator:ie.m,RecaptchaVerifier:gr,TwitterAuthProvider:ie.Z,Auth:Mt,AuthCredential:ie.J,Error:me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.4.2")}(g.Z)},5861:(ln,ut,L)=>{"use strict";function y(ie,me,be,we,de,De,$e){try{var U=ie[De]($e),Ce=U.value}catch(Ue){return void be(Ue)}U.done?me(Ce):Promise.resolve(Ce).then(we,de)}function g(ie){return function(){var me=this,be=arguments;return new Promise(function(we,de){var De=ie.apply(me,be);function $e(Ce){y(De,we,de,$e,U,"next",Ce)}function U(Ce){y(De,we,de,$e,U,"throw",Ce)}$e(void 0)})}}L.d(ut,{Z:()=>g})}},ln=>{ln(ln.s=7979)}]);