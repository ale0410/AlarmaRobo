"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(H,f,n)=>{n.r(f),n.d(f,{HomePageModule:()=>O});var b=n(4755),h=n(5030),a=n(9972),c=n(96),u=n(5861),e=n(2223),C=n(6118),P=n(83),g=n(5789),m=n(2720),x=n(5089);const A=[{path:"",component:(()=>{class i{constructor(t,o,r,l,s,p,v,y){this.router=t,this.loginService=o,this.deviceMotion=r,this.vibration=l,this.flashlight=s,this.screenOrientation=p,this.modalCtrl=v,this.alertController=y,this.fondoColor="green",this.imgCandado="../../assets/images/candadoCerrado.png",this.encedido=!1,this.x=".",this.y=".",this.z=".",this.timeSpam="-",this.isLeft=!1,this.isRight=!1,this.isVertial=!1,this.isHorizontal=!0,this.audioDios=new Audio("../../assets/audio/dios.m4a"),this.audioHurtando=new Audio("../../assets/audio/hurtando.m4a"),this.audioEpa=new Audio("../../assets/audio/epa.m4a"),this.audioDejalo=new Audio("../../assets/audio/dejalo.m4a")}activarAlarma(){var t=this;return(0,u.Z)(function*(){var r;t.encedido=!t.encedido,t.encedido?(t.imgCandado="../../assets/images/candadoAbierto.png",t.fondoColor="danger",t.start()):yield(yield t.alertController.create({header:"Ingrese su contrase\xf1a",inputs:[{name:"password",type:"password",placeholder:"Contrase\xf1a"}],buttons:[{text:"Cancelar",handler:(r=(0,u.Z)(function*(){t.encedido=!0}),function(){return r.apply(this,arguments)})},{text:"Confirmar",handler:function(){var r=(0,u.Z)(function*(l){t.confirmarPassword(l.password)});return function(s){return r.apply(this,arguments)}}()}],cssClass:"my-custom-class",backdropDismiss:!1})).present()})()}confirmarPassword(t){var o=this;return(0,u.Z)(function*(){if("123456"===t)o.subscription&&(o.imgCandado="../../assets/images/candadoCerrado.png",o.fondoColor="green",o.subscription.unsubscribe());else{const l=yield o.alertController.create({header:"Contrase\xf1a incorrecta",message:"La alarma seguir\xe1 activada.",buttons:["Aceptar"],cssClass:"my-custom-class",backdropDismiss:!1});o.flashlight.switchOn(),o.vibration.vibrate(5e3),setTimeout(()=>o.flashlight.switchOff(),5e3),setTimeout(()=>o.reproducirNuevoAudio("../../assets/audio/dios.m4a"),5e3),yield l.present()}})()}reproducirNuevoAudio(t){var o=this;return(0,u.Z)(function*(){o.audioDios.paused||(o.audioDios.pause(),o.audioDios.currentTime=0),o.audioDios.src=t,o.audioDios.play()})()}logout(){this.loginService.signOut().then(()=>{this.router.navigate(["/login"])})}start(){var t=this;return(0,u.Z)(function*(){t.subscription=t.deviceMotion.watchAcceleration({frequency:200}).subscribe(function(){var l=(0,u.Z)(function*(s){s.x>=2&&!t.isLeft&&(t.isLeft=!0,t.isRight=!1,t.reproducirNuevoAudio("../../assets/audio/hurtando.m4a")),s.x<=-2&&!t.isRight&&(t.isRight=!0,t.isLeft=!1,t.reproducirNuevoAudio("../../assets/audio/epa.m4a")),s.y>8&&s.z<2&&!t.isVertial&&(yield t.flashlight.available())&&(t.isVertial=!0,t.isHorizontal=!1,t.flashlight.switchOn(),t.reproducirNuevoAudio("../../assets/audio/dejalo.m4a"),setTimeout(()=>t.flashlight.switchOff(),5e3)),s.y<2&&s.z>8&&!t.isHorizontal&&(t.isHorizontal=!0,t.isVertial=!1,t.vibration.vibrate(5e3),t.reproducirNuevoAudio("../../assets/audio/dios.m4a"))});return function(s){return l.apply(this,arguments)}}())})()}lockOrientation(){this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT)}playAudio(t){var o=this;return(0,u.Z)(function*(){yield o.delay(3e3),new Audio("../../assets/audio/"+t).play()})()}delay(t){return(0,u.Z)(function*(){return new Promise(o=>setTimeout(o,t))})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.F0),e.Y36(C.e),e.Y36(P.S),e.Y36(g.w),e.Y36(m.y),e.Y36(x.E),e.Y36(a.IN),e.Y36(a.Br))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],decls:8,vars:4,consts:[[3,"translucent"],["horizontal","start","slot","start"],[3,"click"],["name","power-outline"],[3,"fullscreen"],["expand","full","shape","round",1,"full-screen-button",3,"color","click"],[1,"boton-imagen",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-fab",1)(3,"ion-fab-button",2),e.NdJ("click",function(){return o.logout()}),e._UZ(4,"ion-icon",3),e.qZA()()()(),e.TgZ(5,"ion-content",4)(6,"ion-button",5),e.NdJ("click",function(){return o.activarAlarma()}),e._UZ(7,"ion-img",6),e.qZA()()),2&t&&(e.Q6J("translucent",!0),e.xp6(5),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("color",o.fondoColor),e.xp6(1),e.Q6J("src",o.imgCandado))},dependencies:[a.YG,a.W2,a.IJ,a.W4,a.Gu,a.gu,a.Xz,a.sr],styles:['@charset "UTF-8";.full-screen-button[_ngcontent-%COMP%]{padding:2rem;width:100%;height:95vh;display:flex;align-items:center;justify-content:center}.boton-imagen[_ngcontent-%COMP%]{max-width:80%;max-height:80%}ion-icon[_ngcontent-%COMP%]{color:#000}ion-content[_ngcontent-%COMP%]{--background:rgb(28, 196, 28);--ion-content-background: #fff;--ion-content-padding: 0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;transform:rotate(0);transform-origin:center center;position:fixed;top:0;left:0}ion-toolbar[_ngcontent-%COMP%]{--background: url(rojo.7733a5f0f0a752bc.jpg);color:#f0f8ff}.fab-image[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain}@media (min-width: 768px){.full-screen-button[_ngcontent-%COMP%]{height:85vh}.boton-imagen[_ngcontent-%COMP%]{max-width:130px;max-height:130px}}']}),i})()}];let w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(A),c.Bz]}),i})(),O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[m.y,g.w],imports:[b.ez,h.u5,a.Pc,w,h.UX]}),i})()}}]);