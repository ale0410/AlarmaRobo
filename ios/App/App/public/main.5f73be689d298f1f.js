(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(ln,ct,L)=>{"use strict";L.d(ct,{nm:()=>Wr});var y=L(3324),be=(L(2223),L(3692),L(259),L(5861)),De=L(6881),he=L(4859),Ce=L(2090),$e=L(1877);const U=new Map,Ie={activated:!1,tokenObservers:[]},Ue={initialized:!1,enabled:!1};function ve(W){return U.get(W)||Object.assign({},Ie)}function qe(){return Ue}const bt="https://content-firebaseappcheck.googleapis.com/v1",vt="exchangeDebugToken",it={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class rt{constructor(ee,_e,oe,G,se){if(this.operation=ee,this.retryPolicy=_e,this.getWaitDuration=oe,this.lowerBound=G,this.upperBound=se,this.pending=null,this.nextErrorWaitInterval=G,G>se)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ee){var _e=this;return(0,be.Z)(function*(){_e.stop();try{_e.pending=new Ce.BH,yield function ft(W){return new Promise(ee=>{setTimeout(ee,W)})}(_e.getNextRun(ee)),_e.pending.resolve(),yield _e.pending.promise,_e.pending=new Ce.BH,yield _e.operation(),_e.pending.resolve(),yield _e.pending.promise,_e.process(!0).catch(()=>{})}catch(oe){_e.retryPolicy(oe)?_e.process(!1).catch(()=>{}):_e.stop()}})()}getNextRun(ee){if(ee)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_e}}}const Ye=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(W){if(!ve(W).activated)throw Ye.create("use-before-activation",{appName:W.name})}function yt(W,ee){return ce.apply(this,arguments)}function ce(){return(ce=(0,be.Z)(function*({url:W,body:ee},_e){const oe={"Content-Type":"application/json"},G=_e.getImmediate({optional:!0});if(G){const dn=yield G.getHeartbeatsHeader();dn&&(oe["X-Firebase-Client"]=dn)}const se={method:"POST",body:JSON.stringify(ee),headers:oe};let Be,Xe;try{Be=yield fetch(W,se)}catch(dn){throw Ye.create("fetch-network-error",{originalErrorMessage:null==dn?void 0:dn.message})}if(200!==Be.status)throw Ye.create("fetch-status-error",{httpStatus:Be.status});try{Xe=yield Be.json()}catch(dn){throw Ye.create("fetch-parse-error",{originalErrorMessage:null==dn?void 0:dn.message})}const dt=Xe.ttl.match(/^([\d.]+)(s)$/);if(!dt||!dt[2]||isNaN(Number(dt[1])))throw Ye.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xe.ttl}`});const xt=1e3*Number(dt[1]),on=Date.now();return{token:Xe.token,expireTimeMillis:on+xt,issuedAtTimeMillis:on}})).apply(this,arguments)}function We(W,ee){const{projectId:_e,appId:oe,apiKey:G}=W.options;return{url:`${bt}/projects/${_e}/apps/${oe}:${vt}?key=${G}`,body:{debug_token:ee}}}const ke="firebase-app-check-database",Fe=1,He="firebase-app-check-store";let ut=null;function Jt(){return(Jt=(0,be.Z)(function*(W,ee){const oe=(yield function Tt(){return ut||(ut=new Promise((W,ee)=>{try{const _e=indexedDB.open(ke,Fe);_e.onsuccess=oe=>{W(oe.target.result)},_e.onerror=oe=>{var G;ee(Ye.create("storage-open",{originalErrorMessage:null===(G=oe.target.error)||void 0===G?void 0:G.message}))},_e.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(He,{keyPath:"compositeKey"})}}catch(_e){ee(Ye.create("storage-open",{originalErrorMessage:null==_e?void 0:_e.message}))}}),ut)}()).transaction(He,"readwrite"),se=oe.objectStore(He).put({compositeKey:W,value:ee});return new Promise((Be,Xe)=>{se.onsuccess=dt=>{Be()},oe.onerror=dt=>{var xt;Xe(Ye.create("storage-set",{originalErrorMessage:null===(xt=dt.target.error)||void 0===xt?void 0:xt.message}))}})})).apply(this,arguments)}const Nt=new $e.Yd("@firebase/app-check");function rr(W,ee){return(0,Ce.hl)()?function sn(W,ee){return function Ot(W,ee){return Jt.apply(this,arguments)}(function En(W){return`${W.options.appId}-${W.name}`}(W),ee)}(W,ee).catch(_e=>{Nt.warn(`Failed to write token to IndexedDB. Error: ${_e}`)}):Promise.resolve()}function nn(){return qe().enabled}function Lr(){return sr.apply(this,arguments)}function sr(){return(sr=(0,be.Z)(function*(){const W=qe();if(W.enabled&&W.token)return W.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ar={error:"UNKNOWN_ERROR"};function Mr(W){return Ce.US.encodeString(JSON.stringify(W),!1)}function Sn(W){return vn.apply(this,arguments)}function vn(){return(vn=(0,be.Z)(function*(W,ee=!1){const _e=W.app;St(_e);const oe=ve(_e);let se,G=oe.token;if(G&&!xn(G)&&(oe.token=void 0,G=void 0),!G){const dt=yield oe.cachedTokenPromise;dt&&(xn(dt)?G=dt:yield rr(_e,void 0))}if(!ee&&G&&xn(G))return{token:G.token};let Xe,Be=!1;if(nn()){oe.exchangeTokenPromise||(oe.exchangeTokenPromise=yt(We(_e,yield Lr()),W.heartbeatServiceProvider).finally(()=>{oe.exchangeTokenPromise=void 0}),Be=!0);const dt=yield oe.exchangeTokenPromise;return yield rr(_e,dt),oe.token=dt,{token:dt.token}}try{oe.exchangeTokenPromise||(oe.exchangeTokenPromise=oe.provider.getToken().finally(()=>{oe.exchangeTokenPromise=void 0}),Be=!0),G=yield ve(_e).exchangeTokenPromise}catch(dt){"appCheck/throttled"===dt.code?Nt.warn(dt.message):Nt.error(dt),se=dt}return G?se?Xe=xn(G)?{token:G.token,internalError:se}:ei(se):(Xe={token:G.token},oe.token=G,yield rr(_e,G)):Xe=ei(se),Be&&function Kn(W,ee){const _e=ve(W).tokenObservers;for(const oe of _e)try{"EXTERNAL"===oe.type&&null!=ee.error?oe.error(ee.error):oe.next(ee)}catch{}}(_e,Xe),Xe})).apply(this,arguments)}function Vn(W){return br.apply(this,arguments)}function br(){return(br=(0,be.Z)(function*(W){const ee=W.app;St(ee);const{provider:_e}=ve(ee);if(nn()){const oe=yield Lr(),{token:G}=yield yt(We(ee,oe),W.heartbeatServiceProvider);return{token:G}}{const{token:oe}=yield _e.getToken();return{token:oe}}})).apply(this,arguments)}function ur(W,ee){const _e=ve(W),oe=_e.tokenObservers.filter(G=>G.next!==ee);0===oe.length&&_e.tokenRefresher&&_e.tokenRefresher.isRunning()&&_e.tokenRefresher.stop(),_e.tokenObservers=oe}function kr(W){const{app:ee}=W,_e=ve(ee);let oe=_e.tokenRefresher;oe||(oe=function Dr(W){const{app:ee}=W;return new rt((0,be.Z)(function*(){let oe;if(oe=ve(ee).token?yield Sn(W,!0):yield Sn(W),oe.error)throw oe.error;if(oe.internalError)throw oe.internalError}),()=>!0,()=>{const _e=ve(ee);if(_e.token){let oe=_e.token.issuedAtTimeMillis+.5*(_e.token.expireTimeMillis-_e.token.issuedAtTimeMillis)+3e5;return oe=Math.min(oe,_e.token.expireTimeMillis-3e5),Math.max(0,oe-Date.now())}return 0},it.RETRIAL_MIN_WAIT,it.RETRIAL_MAX_WAIT)}(W),_e.tokenRefresher=oe),!oe.isRunning()&&_e.isTokenAutoRefreshEnabled&&oe.start()}function xn(W){return W.expireTimeMillis-Date.now()>0}function ei(W){return{token:Mr(Ar),error:W}}class Hn{constructor(ee,_e){this.app=ee,this.heartbeatServiceProvider=_e}_delete(){const{tokenObservers:ee}=ve(this.app);for(const _e of ee)ur(this.app,_e.next);return Promise.resolve()}}const _n="app-check-internal";!function kn(){(0,De._registerComponent)(new he.wA("app-check",W=>function jt(W,ee){return new Hn(W,ee)}(W.getProvider("app").getImmediate(),W.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((W,ee,_e)=>{W.getProvider(_n).initialize()})),(0,De._registerComponent)(new he.wA(_n,W=>function fe(W){return{getToken:ee=>Sn(W,ee),getLimitedUseToken:()=>Vn(W),addTokenListener:ee=>function vr(W,ee,_e,oe){const{app:G}=W,se=ve(G);if(se.tokenObservers=[...se.tokenObservers,{next:_e,error:oe,type:ee}],se.token&&xn(se.token)){const Xe=se.token;Promise.resolve().then(()=>{_e({token:Xe.token}),kr(W)}).catch(()=>{})}se.cachedTokenPromise.then(()=>kr(W))}(W,"INTERNAL",ee),removeTokenListener:ee=>ur(W.app,ee)}}(W.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.8.0")}();class Wr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(ln,ct,L)=>{"use strict";L.d(ct,{Ot:()=>ye,ZF:()=>Me,hX:()=>ve,z6:()=>be});var y=L(259),g=L(2223),ae=L(3324);class ye{constructor(rt){return rt}}class be{constructor(){return(0,y.C6)()}}const Ce=new g.OlP("angularfire2._apps"),$e={provide:ye,useFactory:function he(Ge){return Ge&&1===Ge.length?Ge[0]:new ye((0,y.Mq)())},deps:[[new g.FiY,Ce]]},U={provide:be,deps:[[new g.FiY,Ce]]};function Ie(Ge){return(rt,ft)=>{const _t=rt.runOutsideAngular(()=>Ge(ft));return new ye(_t)}}let Ue=(()=>{class Ge{constructor(ft){(0,y.KN)("angularfire",ae.q4.full,"core"),(0,y.KN)("angularfire",ae.q4.full,"app"),(0,y.KN)("angular",g.q4F.full,ft.toString())}}return Ge.\u0275fac=function(ft){return new(ft||Ge)(g.LFG(g.Lbi))},Ge.\u0275mod=g.oAB({type:Ge}),Ge.\u0275inj=g.cJS({providers:[$e,U]}),Ge})();function ve(Ge,...rt){return{ngModule:Ue,providers:[{provide:Ce,useFactory:Ie(Ge),multi:!0,deps:[g.R0b,g.zs3,ae.HU,...rt]}]}}const Me=(0,ae.u3)(y.ZF,!0)},3385:(ln,ct,L)=>{"use strict";L.d(ct,{zQ:()=>pt,ww:()=>yt,rT:()=>Ye,f7:()=>St,L6:()=>ft,_Q:()=>_t,lh:()=>xe,Qv:()=>rt,nw:()=>tt});var y=L(2223),g=L(7579),ae=L(9646),ye=L(9751),be=L(8996),De=L(6451),he=L(5363),Ce=L(3900),$e=L(4004),U=L(3151),Ie=L(590),Ue=L(576);function ve(ce,Pe){return(0,Ue.m)(Pe)?(0,Ce.w)(()=>ce,Pe):(0,Ce.w)(()=>ce)}var Ve=L(9468),qe=L(9300),bt=L(3324),Me=L(2011),Ee=L(4755),vt=L(2313),it=L(9260);const rt=new y.OlP("angularfire2.auth.use-emulator"),ft=new y.OlP("angularfire2.auth.settings"),_t=new y.OlP("angularfire2.auth.tenant-id"),Ye=new y.OlP("angularfire2.auth.langugage-code"),xe=new y.OlP("angularfire2.auth.use-device-language"),St=new y.OlP("angularfire.auth.persistence"),tt=(ce,Pe,je,We,ke,Fe,He,mt)=>(0,Me.cc)(`${ce.name}.auth`,"AngularFireAuth",ce.name,()=>{const ut=Pe.runOutsideAngular(()=>ce.auth());if(je&&ut.useEmulator(...je),We&&(ut.tenantId=We),ut.languageCode=ke,Fe&&ut.useDeviceLanguage(),He)for(const[Tt,Pt]of Object.entries(He))ut.settings[Tt]=Pt;return mt&&ut.setPersistence(mt),ut},[je,We,ke,Fe,He,mt]);let pt=(()=>{class ce{constructor(je,We,ke,Fe,He,mt,ut,Tt,Pt,sn,At,et){const Ot=new g.x,Jt=(0,ae.of)(void 0).pipe((0,he.Q)(He.outsideAngular),(0,Ce.w)(()=>Fe.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,$e.U)(()=>(0,Me.on)(je,Fe,We)),(0,$e.U)(fn=>tt(fn,Fe,mt,Tt,Pt,sn,ut,At)),(0,U.d)({bufferSize:1,refCount:!1}));if((0,Ee.PM)(ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ae.of)(null);else{Jt.pipe((0,Ie.P)()).subscribe();const Tn=Jt.pipe((0,Ce.w)(In=>In.getRedirectResult().then(Lt=>Lt,()=>null)),bt.iC,(0,U.d)({bufferSize:1,refCount:!1})),En=Jt.pipe((0,Ce.w)(In=>new ye.y(Lt=>({unsubscribe:Fe.runOutsideAngular(()=>In.onAuthStateChanged(rr=>Lt.next(rr),rr=>Lt.error(rr),()=>Lt.complete()))})))),Nt=Jt.pipe((0,Ce.w)(In=>new ye.y(Lt=>({unsubscribe:Fe.runOutsideAngular(()=>In.onIdTokenChanged(rr=>Lt.next(rr),rr=>Lt.error(rr),()=>Lt.complete()))}))));this.authState=Tn.pipe(ve(En),(0,Ve.R)(He.outsideAngular),(0,he.Q)(He.insideAngular)),this.user=Tn.pipe(ve(Nt),(0,Ve.R)(He.outsideAngular),(0,he.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,Ce.w)(In=>In?(0,be.D)(In.getIdToken()):(0,ae.of)(null))),this.idTokenResult=this.user.pipe((0,Ce.w)(In=>In?(0,be.D)(In.getIdTokenResult()):(0,ae.of)(null))),this.credential=(0,De.T)(Tn,Ot,this.authState.pipe((0,qe.h)(In=>!In))).pipe((0,$e.U)(In=>null!=In&&In.user?In:null),(0,Ve.R)(He.outsideAngular),(0,he.Q)(He.insideAngular))}return(0,Me.pX)(this,Jt,Fe,{spy:{apply:(fn,Tn,En)=>{(fn.startsWith("signIn")||fn.startsWith("createUser"))&&En.then(Nt=>Ot.next(Nt))}}})}}return ce.\u0275fac=function(je){return new(je||ce)(y.LFG(Me.Dh),y.LFG(Me.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(bt.HU),y.LFG(rt,8),y.LFG(ft,8),y.LFG(_t,8),y.LFG(Ye,8),y.LFG(xe,8),y.LFG(St,8),y.LFG(vt.nm,8))},ce.\u0275prov=y.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})(),yt=(()=>{class ce{constructor(){it.Z.registerVersion("angularfire",bt.q4.full,"auth-compat")}}return ce.\u0275fac=function(je){return new(je||ce)},ce.\u0275mod=y.oAB({type:ce}),ce.\u0275inj=y.cJS({providers:[pt]}),ce})()},1085:(ln,ct,L)=>{"use strict";L.d(ct,{ST:()=>ei,yb:()=>Hn});var y=L(2223),g=L(4986),ae=L(9751),ye=L(8996),be=L(9646),De=L(3324),he=L(8675),Ce=L(1520),$e=L(4004),U=L(5026),Ie=L(1884),Ue=L(9300),ve=L(2011),Ve=L(4755),bt=(L(9568),L(3942)),Me=L(2810),Ee=L(2090),vt=L(4859);function rt(jt,fe){if(void 0===fe)return{merge:!1};if(void 0!==fe.mergeFields&&void 0!==fe.merge)throw new Me.WA("invalid-argument",`Invalid options passed to function ${jt}(): You cannot specify both "merge" and "mergeFields".`);return fe}function ft(){if(typeof Uint8Array>"u")throw new Me.WA("unimplemented","Uint8Arrays are not available in this environment.")}function _t(){if(!(0,Me.Me)())throw new Me.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ye{constructor(fe){this._delegate=fe}static fromBase64String(fe){return _t(),new Ye(Me.Jj.fromBase64String(fe))}static fromUint8Array(fe){return ft(),new Ye(Me.Jj.fromUint8Array(fe))}toBase64(){return _t(),this._delegate.toBase64()}toUint8Array(){return ft(),this._delegate.toUint8Array()}isEqual(fe){return this._delegate.isEqual(fe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xe(jt){return function St(jt,fe){if("object"!=typeof jt||null===jt)return!1;const ze=jt;for(const Mt of fe)if(Mt in ze&&"function"==typeof ze[Mt])return!0;return!1}(jt,["next","error","complete"])}class tt{enableIndexedDbPersistence(fe,ze){return(0,Me.ST)(fe._delegate,{forceOwnership:ze})}enableMultiTabIndexedDbPersistence(fe){return(0,Me.fH)(fe._delegate)}clearIndexedDbPersistence(fe){return(0,Me.Fc)(fe._delegate)}}class pt{constructor(fe,ze,Mt){this._delegate=ze,this._persistenceProvider=Mt,this.INTERNAL={delete:()=>this.terminate()},fe instanceof Me.l7||(this._appCompat=fe)}get _databaseId(){return this._delegate._databaseId}settings(fe){const ze=this._delegate._getSettings();!fe.merge&&ze.host!==fe.host&&(0,Me.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),fe.merge&&delete(fe=Object.assign(Object.assign({},ze),fe)).merge,this._delegate._setSettings(fe)}useEmulator(fe,ze,Mt={}){(0,Me.at)(this._delegate,fe,ze,Mt)}enableNetwork(){return(0,Me.Ix)(this._delegate)}disableNetwork(){return(0,Me.TF)(this._delegate)}enablePersistence(fe){let ze=!1,Mt=!1;return fe&&(ze=!!fe.synchronizeTabs,Mt=!!fe.experimentalForceOwningTab,(0,Me.Wi)("synchronizeTabs",ze,"experimentalForceOwningTab",Mt)),ze?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Mt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Me.Mx)(this._delegate)}onSnapshotsInSync(fe){return(0,Me.sc)(this._delegate,fe)}get app(){if(!this._appCompat)throw new Me.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(fe){try{return new et(this,(0,Me.hJ)(this._delegate,fe))}catch(ze){throw Fe(ze,"collection()","Firestore.collection()")}}doc(fe){try{return new ke(this,(0,Me.JU)(this._delegate,fe))}catch(ze){throw Fe(ze,"doc()","Firestore.doc()")}}collectionGroup(fe){try{return new Pt(this,(0,Me.B$)(this._delegate,fe))}catch(ze){throw Fe(ze,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(fe){return(0,Me.i3)(this._delegate,ze=>fe(new Pe(this,ze)))}batch(){return(0,Me.qY)(this._delegate),new je(new Me.PU(this._delegate,fe=>(0,Me.GL)(this._delegate,fe)))}loadBundle(fe){return(0,Me.Pb)(this._delegate,fe)}namedQuery(fe){return(0,Me.L$)(this._delegate,fe).then(ze=>ze?new Pt(this,ze):null)}}class yt extends Me.u7{constructor(fe){super(),this.firestore=fe}convertBytes(fe){return new Ye(new Me.Jj(fe))}convertReference(fe){const ze=this.convertDocumentKey(fe,this.firestore._databaseId);return ke.forKey(ze,this.firestore,null)}}class Pe{constructor(fe,ze){this._firestore=fe,this._delegate=ze,this._userDataWriter=new yt(fe)}get(fe){const ze=Ot(fe);return this._delegate.get(ze).then(Mt=>new ut(this._firestore,new Me.xU(this._firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,ze.converter)))}set(fe,ze,Mt){const an=Ot(fe);return Mt?(rt("Transaction.set",Mt),this._delegate.set(an,ze,Mt)):this._delegate.set(an,ze),this}update(fe,ze,Mt,...an){const gn=Ot(fe);return 2===arguments.length?this._delegate.update(gn,ze):this._delegate.update(gn,ze,Mt,...an),this}delete(fe){const ze=Ot(fe);return this._delegate.delete(ze),this}}class je{constructor(fe){this._delegate=fe}set(fe,ze,Mt){const an=Ot(fe);return Mt?(rt("WriteBatch.set",Mt),this._delegate.set(an,ze,Mt)):this._delegate.set(an,ze),this}update(fe,ze,Mt,...an){const gn=Ot(fe);return 2===arguments.length?this._delegate.update(gn,ze):this._delegate.update(gn,ze,Mt,...an),this}delete(fe){const ze=Ot(fe);return this._delegate.delete(ze),this}commit(){return this._delegate.commit()}}class We{constructor(fe,ze,Mt){this._firestore=fe,this._userDataWriter=ze,this._delegate=Mt}fromFirestore(fe,ze){const Mt=new Me.$q(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,null);return this._delegate.fromFirestore(new Tt(this._firestore,Mt),null!=ze?ze:{})}toFirestore(fe,ze){return ze?this._delegate.toFirestore(fe,ze):this._delegate.toFirestore(fe)}static getInstance(fe,ze){const Mt=We.INSTANCES;let an=Mt.get(fe);an||(an=new WeakMap,Mt.set(fe,an));let gn=an.get(ze);return gn||(gn=new We(fe,new yt(fe),ze),an.set(ze,gn)),gn}}We.INSTANCES=new WeakMap;class ke{constructor(fe,ze){this.firestore=fe,this._delegate=ze,this._userDataWriter=new yt(fe)}static forPath(fe,ze,Mt){if(fe.length%2!=0)throw new Me.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${fe.canonicalString()} has ${fe.length}`);return new ke(ze,new Me.my(ze._delegate,Mt,new Me.Ky(fe)))}static forKey(fe,ze,Mt){return new ke(ze,new Me.my(ze._delegate,Mt,fe))}get id(){return this._delegate.id}get parent(){return new et(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(fe){try{return new et(this.firestore,(0,Me.hJ)(this._delegate,fe))}catch(ze){throw Fe(ze,"collection()","DocumentReference.collection()")}}isEqual(fe){return(fe=(0,Ee.m9)(fe))instanceof Me.my&&(0,Me.Eo)(this._delegate,fe)}set(fe,ze){ze=rt("DocumentReference.set",ze);try{return ze?(0,Me.pl)(this._delegate,fe,ze):(0,Me.pl)(this._delegate,fe)}catch(Mt){throw Fe(Mt,"setDoc()","DocumentReference.set()")}}update(fe,ze,...Mt){try{return 1===arguments.length?(0,Me.r7)(this._delegate,fe):(0,Me.r7)(this._delegate,fe,ze,...Mt)}catch(an){throw Fe(an,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Me.oe)(this._delegate)}onSnapshot(...fe){const ze=He(fe),Mt=mt(fe,an=>new ut(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,an._key,an._document,an.metadata,this._delegate.converter)));return(0,Me.cf)(this._delegate,ze,Mt)}get(fe){let ze;return ze="cache"===(null==fe?void 0:fe.source)?(0,Me.kl)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Me.Xk)(this._delegate):(0,Me.QT)(this._delegate),ze.then(Mt=>new ut(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,this._delegate.converter)))}withConverter(fe){return new ke(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}function Fe(jt,fe,ze){return jt.message=jt.message.replace(fe,ze),jt}function He(jt){for(const fe of jt)if("object"==typeof fe&&!xe(fe))return fe;return{}}function mt(jt,fe){var ze,Mt;let an;return an=xe(jt[0])?jt[0]:xe(jt[1])?jt[1]:"function"==typeof jt[0]?{next:jt[0],error:jt[1],complete:jt[2]}:{next:jt[1],error:jt[2],complete:jt[3]},{next:gn=>{an.next&&an.next(fe(gn))},error:null===(ze=an.error)||void 0===ze?void 0:ze.bind(an),complete:null===(Mt=an.complete)||void 0===Mt?void 0:Mt.bind(an)}}class ut{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get ref(){return new ke(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(fe){return this._delegate.data(fe)}get(fe,ze){return this._delegate.get(fe,ze)}isEqual(fe){return(0,Me.qK)(this._delegate,fe._delegate)}}class Tt extends ut{data(fe){const ze=this._delegate.data(fe);return(0,Me.K9)(void 0!==ze,"Document in a QueryDocumentSnapshot should exist"),ze}}class Pt{constructor(fe,ze){this.firestore=fe,this._delegate=ze,this._userDataWriter=new yt(fe)}where(fe,ze,Mt){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.ar)(fe,ze,Mt)))}catch(an){throw Fe(an,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(fe,ze){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Xo)(fe,ze)))}catch(Mt){throw Fe(Mt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.b9)(fe)))}catch(ze){throw Fe(ze,"limit()","Query.limit()")}}limitToLast(fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.vh)(fe)))}catch(ze){throw Fe(ze,"limitToLast()","Query.limitToLast()")}}startAt(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.e0)(...fe)))}catch(ze){throw Fe(ze,"startAt()","Query.startAt()")}}startAfter(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.TQ)(...fe)))}catch(ze){throw Fe(ze,"startAfter()","Query.startAfter()")}}endBefore(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Lx)(...fe)))}catch(ze){throw Fe(ze,"endBefore()","Query.endBefore()")}}endAt(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Wu)(...fe)))}catch(ze){throw Fe(ze,"endAt()","Query.endAt()")}}isEqual(fe){return(0,Me.iE)(this._delegate,fe._delegate)}get(fe){let ze;return ze="cache"===(null==fe?void 0:fe.source)?(0,Me.UQ)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Me.zN)(this._delegate):(0,Me.PL)(this._delegate),ze.then(Mt=>new At(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,Mt._snapshot)))}onSnapshot(...fe){const ze=He(fe),Mt=mt(fe,an=>new At(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,an._snapshot)));return(0,Me.cf)(this._delegate,ze,Mt)}withConverter(fe){return new Pt(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}class sn{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get type(){return this._delegate.type}get doc(){return new Tt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class At{constructor(fe,ze){this._firestore=fe,this._delegate=ze}get query(){return new Pt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(fe=>new Tt(this._firestore,fe))}docChanges(fe){return this._delegate.docChanges(fe).map(ze=>new sn(this._firestore,ze))}forEach(fe,ze){this._delegate.forEach(Mt=>{fe.call(ze,new Tt(this._firestore,Mt))})}isEqual(fe){return(0,Me.qK)(this._delegate,fe._delegate)}}class et extends Pt{constructor(fe,ze){super(fe,ze),this.firestore=fe,this._delegate=ze}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const fe=this._delegate.parent;return fe?new ke(this.firestore,fe):null}doc(fe){try{return new ke(this.firestore,void 0===fe?(0,Me.JU)(this._delegate):(0,Me.JU)(this._delegate,fe))}catch(ze){throw Fe(ze,"doc()","CollectionReference.doc()")}}add(fe){return(0,Me.ET)(this._delegate,fe).then(ze=>new ke(this.firestore,ze))}isEqual(fe){return(0,Me.Eo)(this._delegate,fe._delegate)}withConverter(fe){return new et(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}function Ot(jt){return(0,Me.Cf)(jt,Me.my)}class Jt{constructor(...fe){this._delegate=new Me.Lz(...fe)}static documentId(){return new Jt(Me.Xb.keyField().canonicalString())}isEqual(fe){return(fe=(0,Ee.m9)(fe))instanceof Me.Lz&&this._delegate._internalPath.isEqual(fe._internalPath)}}class fn{constructor(fe){this._delegate=fe}static serverTimestamp(){const fe=(0,Me.Bt)();return fe._methodName="FieldValue.serverTimestamp",new fn(fe)}static delete(){const fe=(0,Me.AK)();return fe._methodName="FieldValue.delete",new fn(fe)}static arrayUnion(...fe){const ze=(0,Me.vr)(...fe);return ze._methodName="FieldValue.arrayUnion",new fn(ze)}static arrayRemove(...fe){const ze=(0,Me.Ab)(...fe);return ze._methodName="FieldValue.arrayRemove",new fn(ze)}static increment(fe){const ze=(0,Me.nP)(fe);return ze._methodName="FieldValue.increment",new fn(ze)}isEqual(fe){return this._delegate.isEqual(fe._delegate)}}const Tn={Firestore:pt,GeoPoint:Me.F8,Timestamp:Me.EK,Blob:Ye,Transaction:Pe,WriteBatch:je,DocumentReference:ke,DocumentSnapshot:ut,Query:Pt,QueryDocumentSnapshot:Tt,QuerySnapshot:At,CollectionReference:et,FieldPath:Jt,FieldValue:fn,setLogLevel:function ce(jt){(0,Me.Ub)(jt)},CACHE_SIZE_UNLIMITED:Me.IX};!function Nt(jt){(function En(jt,fe){jt.INTERNAL.registerComponent(new vt.wA("firestore-compat",ze=>{const Mt=ze.getProvider("app-compat").getImmediate(),an=ze.getProvider("firestore").getImmediate();return fe(Mt,an)},"PUBLIC").setServiceProps(Object.assign({},Tn)))})(jt,(fe,ze)=>new pt(fe,ze,new tt)),jt.registerVersion("@firebase/firestore-compat","0.3.10")}(bt.Z);var In=L(3385),Lt=L(2313),rr=L(9260);function gr(jt,fe){return function fr(jt,fe=g.z){return new ae.y(ze=>{let Mt;return null!=fe?fe.schedule(()=>{Mt=jt.onSnapshot({includeMetadataChanges:!0},ze)}):Mt=jt.onSnapshot({includeMetadataChanges:!0},ze),()=>{null!=Mt&&Mt()}})}(jt,fe)}function Lr(jt,fe){return gr(jt,fe).pipe((0,$e.U)(ze=>({payload:ze,type:"query"})))}function sr(jt,fe){return Lr(jt,fe).pipe((0,he.O)(void 0),(0,Ce.G)(),(0,$e.U)(([ze,Mt])=>{const an=Mt.payload.docChanges(),gn=an.map(pr=>({type:pr.type,payload:pr}));return ze&&JSON.stringify(ze.payload.metadata)!==JSON.stringify(Mt.payload.metadata)&&Mt.payload.docs.forEach((pr,Fn)=>{const mr=an.find(de=>de.doc.ref.isEqual(pr.ref)),Je=null==ze?void 0:ze.payload.docs.find(de=>de.ref.isEqual(pr.ref));mr&&JSON.stringify(mr.doc.metadata)===JSON.stringify(pr.metadata)||!mr&&Je&&JSON.stringify(Je.metadata)===JSON.stringify(pr.metadata)||gn.push({type:"modified",payload:{oldIndex:Fn,newIndex:Fn,type:"modified",doc:pr}})}),gn}))}function nr(jt,fe,ze){return sr(jt,ze).pipe((0,U.R)((Mt,an)=>function Ar(jt,fe,ze){return fe.forEach(Mt=>{ze.indexOf(Mt.type)>-1&&(jt=function Sn(jt,fe){switch(fe.type){case"added":if(!jt[fe.newIndex]||!jt[fe.newIndex].doc.ref.isEqual(fe.doc.ref))return Mr(jt,fe.newIndex,0,fe);break;case"modified":if(null==jt[fe.oldIndex]||jt[fe.oldIndex].doc.ref.isEqual(fe.doc.ref)){if(fe.oldIndex!==fe.newIndex){const ze=jt.slice();return ze.splice(fe.oldIndex,1),ze.splice(fe.newIndex,0,fe),ze}return Mr(jt,fe.newIndex,1,fe)}break;case"removed":if(jt[fe.oldIndex]&&jt[fe.oldIndex].doc.ref.isEqual(fe.doc.ref))return Mr(jt,fe.oldIndex,1)}return jt}(jt,Mt))}),jt}(Mt,an.map(gn=>gn.payload),fe),[]),(0,Ie.x)(),(0,$e.U)(Mt=>Mt.map(an=>({type:an.type,payload:an}))))}function Mr(jt,fe,ze,...Mt){const an=jt.slice();return an.splice(fe,ze,...Mt),an}function vn(jt){return(!jt||0===jt.length)&&(jt=["added","removed","modified"]),jt}class Vn{constructor(fe,ze,Mt){this.ref=fe,this.query=ze,this.afs=Mt}stateChanges(fe){let ze=sr(this.query,this.afs.schedulers.outsideAngular);return fe&&fe.length>0&&(ze=ze.pipe((0,$e.U)(Mt=>Mt.filter(an=>fe.indexOf(an.type)>-1)))),ze.pipe((0,he.O)(void 0),(0,Ce.G)(),(0,Ue.h)(([Mt,an])=>an.length>0||!Mt),(0,$e.U)(([Mt,an])=>an),De.iC)}auditTrail(fe){return this.stateChanges(fe).pipe((0,U.R)((ze,Mt)=>[...ze,...Mt],[]))}snapshotChanges(fe){const ze=vn(fe);return nr(this.query,ze,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(fe={}){return Lr(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(ze=>ze.payload.docs.map(Mt=>fe.idField?Object.assign(Object.assign({},Mt.data()),{[fe.idField]:Mt.id}):Mt.data())),De.iC)}get(fe){return(0,ye.D)(this.query.get(fe)).pipe(De.iC)}add(fe){return this.ref.add(fe)}doc(fe){return new br(this.ref.doc(fe),this.afs)}}class br{constructor(fe,ze){this.ref=fe,this.afs=ze}set(fe,ze){return this.ref.set(fe,ze)}update(fe){return this.ref.update(fe)}delete(){return this.ref.delete()}collection(fe,ze){const Mt=this.ref.collection(fe),{ref:an,query:gn}=xn(Mt,ze);return new Vn(an,gn,this.afs)}snapshotChanges(){return function nn(jt,fe){return gr(jt,fe).pipe((0,he.O)(void 0),(0,Ce.G)(),(0,$e.U)(([ze,Mt])=>Mt.exists?null!=ze&&ze.exists?{payload:Mt,type:"modified"}:{payload:Mt,type:"added"}:{payload:Mt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(fe={}){return this.snapshotChanges().pipe((0,$e.U)(({payload:ze})=>fe.idField?Object.assign(Object.assign({},ze.data()),{[fe.idField]:ze.id}):ze.data()))}get(fe){return(0,ye.D)(this.ref.get(fe)).pipe(De.iC)}}class vr{constructor(fe,ze){this.query=fe,this.afs=ze}stateChanges(fe){return fe&&0!==fe.length?sr(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(ze=>ze.filter(Mt=>fe.indexOf(Mt.type)>-1)),(0,Ue.h)(ze=>ze.length>0),De.iC):sr(this.query,this.afs.schedulers.outsideAngular).pipe(De.iC)}auditTrail(fe){return this.stateChanges(fe).pipe((0,U.R)((ze,Mt)=>[...ze,...Mt],[]))}snapshotChanges(fe){const ze=vn(fe);return nr(this.query,ze,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(fe={}){return Lr(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(Mt=>Mt.payload.docs.map(an=>fe.idField?Object.assign({[fe.idField]:an.id},an.data()):an.data())),De.iC)}get(fe){return(0,ye.D)(this.query.get(fe)).pipe(De.iC)}}const ur=new y.OlP("angularfire2.enableFirestorePersistence"),kr=new y.OlP("angularfire2.firestore.persistenceSettings"),Dr=new y.OlP("angularfire2.firestore.settings"),Kn=new y.OlP("angularfire2.firestore.use-emulator");function xn(jt,fe=(ze=>ze)){return{query:fe(jt),ref:jt}}let ei=(()=>{class jt{constructor(ze,Mt,an,gn,pr,Fn,mr,Je,de,K,z,q,Oe,st,Le,ht,It){this.schedulers=mr;const Gt=(0,ve.on)(ze,Fn,Mt),zt=de;K&&(0,In.nw)(Gt,Fn,z,Oe,st,Le,q,ht),[this.firestore,this.persistenceEnabled$]=(0,ve.cc)(`${Gt.name}.firestore`,"AngularFirestore",Gt.name,()=>{const rn=Fn.runOutsideAngular(()=>Gt.firestore());if(gn&&rn.settings(gn),zt&&rn.useEmulator(...zt),an&&!(0,Ve.PM)(pr)){const un=()=>{try{return(0,ye.D)(rn.enablePersistence(Je||void 0).then(()=>!0,()=>!1))}catch(Wn){return typeof console<"u"&&console.warn(Wn),(0,be.of)(!1)}};return[rn,Fn.runOutsideAngular(un)]}return[rn,(0,be.of)(!1)]},[gn,zt,an])}collection(ze,Mt){let an;an="string"==typeof ze?this.firestore.collection(ze):ze;const{ref:gn,query:pr}=xn(an,Mt),Fn=this.schedulers.ngZone.run(()=>gn);return new Vn(Fn,pr,this)}collectionGroup(ze,Mt){const an=Mt||(pr=>pr),gn=this.firestore.collectionGroup(ze);return new vr(an(gn),this)}doc(ze){let Mt;Mt="string"==typeof ze?this.firestore.doc(ze):ze;const an=this.schedulers.ngZone.run(()=>Mt);return new br(an,this)}createId(){return this.firestore.collection("_").doc().id}}return jt.\u0275fac=function(ze){return new(ze||jt)(y.LFG(ve.Dh),y.LFG(ve.xv,8),y.LFG(ur,8),y.LFG(Dr,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(De.HU),y.LFG(kr,8),y.LFG(Kn,8),y.LFG(In.zQ,8),y.LFG(In.Qv,8),y.LFG(In.L6,8),y.LFG(In._Q,8),y.LFG(In.rT,8),y.LFG(In.lh,8),y.LFG(In.f7,8),y.LFG(Lt.nm,8))},jt.\u0275prov=y.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"any"}),jt})(),Hn=(()=>{class jt{constructor(){rr.Z.registerVersion("angularfire",De.q4.full,"fst-compat")}static enablePersistence(ze){return{ngModule:jt,providers:[{provide:ur,useValue:!0},{provide:kr,useValue:ze}]}}}return jt.\u0275fac=function(ze){return new(ze||jt)},jt.\u0275mod=y.oAB({type:jt}),jt.\u0275inj=y.cJS({providers:[ei]}),jt})()},2011:(ln,ct,L)=>{"use strict";L.d(ct,{Dh:()=>Ce,GT:()=>De,Ot:()=>he,cc:()=>Ve,hO:()=>ve,on:()=>U,pX:()=>be,xv:()=>$e});var y=L(2223),g=L(9260),ae=L(3324);ln=L.hmd(ln);const ye=["ngOnDestroy"],be=(Ee,vt,it,Ge={})=>new Proxy(Ee,{get:(rt,ft)=>it.runOutsideAngular(()=>{var _t;if(Ee[ft])return!(null===(_t=null==Ge?void 0:Ge.spy)||void 0===_t)&&_t.get&&Ge.spy.get(ft,Ee[ft]),Ee[ft];if(ye.indexOf(ft)>-1)return()=>{};const Ye=vt.toPromise().then(xe=>{const St=xe&&xe[ft];return"function"==typeof St?St.bind(xe):St&&St.then?St.then(tt=>it.run(()=>tt)):it.run(()=>St)});return new Proxy(()=>{},{get:(xe,St)=>Ye[St],apply:(xe,St,tt)=>Ye.then(pt=>{var yt;const ce=pt&&pt(...tt);return!(null===(yt=null==Ge?void 0:Ge.spy)||void 0===yt)&&yt.apply&&Ge.spy.apply(ft,tt,ce),ce})})})}),De=(Ee,vt)=>{vt.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ge=>{Object.defineProperty(Ee.prototype,Ge,Object.getOwnPropertyDescriptor(it.prototype||it,Ge))})})};class he{constructor(vt){return vt}}const Ce=new y.OlP("angularfire2.app.options"),$e=new y.OlP("angularfire2.app.name");function U(Ee,vt,it){const rt="object"==typeof it&&it||{};rt.name=rt.name||"string"==typeof it&&it||"[DEFAULT]";const _t=g.Z.apps.filter(Ye=>Ye&&Ye.name===rt.name)[0]||vt.runOutsideAngular(()=>g.Z.initializeApp(Ee,rt));try{JSON.stringify(Ee)!==JSON.stringify(_t.options)&&Ie("error",`${_t.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(_t)}const Ie=(Ee,...vt)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ee](...vt)},Ue={provide:he,useFactory:U,deps:[Ce,y.R0b,[new y.FiY,$e]]};let ve=(()=>{class Ee{constructor(it){g.Z.registerVersion("angularfire",ae.q4.full,"core"),g.Z.registerVersion("angularfire",ae.q4.full,"app-compat"),g.Z.registerVersion("angular",y.q4F.full,it.toString())}static initializeApp(it,Ge){return{ngModule:Ee,providers:[{provide:Ce,useValue:it},{provide:$e,useValue:Ge}]}}}return Ee.\u0275fac=function(it){return new(it||Ee)(y.LFG(y.Lbi))},Ee.\u0275mod=y.oAB({type:Ee}),Ee.\u0275inj=y.cJS({providers:[Ue]}),Ee})();function Ve(Ee,vt,it,Ge,rt){const[,ft,_t]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===Ee)||[];if(ft)return function qe(Ee,vt){try{return Ee.toString()===vt.toString()}catch{return Ee===vt}}(rt,_t)||(Me("error",`${vt} was already initialized on the ${it} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:rt,was:_t})),ft;{const Ye=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Ye,rt]),Ye}}const bt=!!ln.hot,Me=(Ee,...vt)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ee](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(ln,ct,L)=>{"use strict";L.d(ct,{q4:()=>ys,iC:()=>Ws,fc:()=>ls,HU:()=>yr,vb:()=>Re,JM:()=>Q,nk:()=>T,u3:()=>j});var y=L(2223),g=L(259),ae=L(5861),ye=L(6881),be=L(2090),De=L(4859),he=L(1877);L(4727);const $e="@firebase/remote-config",U="0.4.4",Ve=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class We{constructor(N,pe,ot,Bt){this.client=N,this.storage=pe,this.storageCache=ot,this.logger=Bt}isCachedDataFresh(N,pe){if(!pe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ot=Date.now()-pe,Bt=ot<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ot}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Bt}.`),Bt}fetch(N){var pe=this;return(0,ae.Z)(function*(){const[ot,Bt]=yield Promise.all([pe.storage.getLastSuccessfulFetchTimestampMillis(),pe.storage.getLastSuccessfulFetchResponse()]);if(Bt&&pe.isCachedDataFresh(N.cacheMaxAgeMillis,ot))return Bt;N.eTag=Bt&&Bt.eTag;const Zt=yield pe.client.fetch(N),pn=[pe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Zt.status&&pn.push(pe.storage.setLastSuccessfulFetchResponse(Zt)),yield Promise.all(pn),Zt})()}}function ke(C=navigator){return C.languages&&C.languages[0]||C.language}class Fe{constructor(N,pe,ot,Bt,Zt,pn){this.firebaseInstallations=N,this.sdkVersion=pe,this.namespace=ot,this.projectId=Bt,this.apiKey=Zt,this.appId=pn}fetch(N){var pe=this;return(0,ae.Z)(function*(){const[ot,Bt]=yield Promise.all([pe.firebaseInstallations.getId(),pe.firebaseInstallations.getToken()]),pn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${pe.projectId}/namespaces/${pe.namespace}:fetch?key=${pe.apiKey}`,jr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Rr={sdk_version:pe.sdkVersion,app_instance_id:ot,app_instance_id_token:Bt,app_id:pe.appId,language_code:ke()},wr={method:"POST",headers:jr,body:JSON.stringify(Rr)},Qr=fetch(pn,wr),xr=new Promise((Mi,Hi)=>{N.signal.addEventListener(()=>{const ll=new Error("The operation was aborted.");ll.name="AbortError",Hi(ll)})});let Js;try{yield Promise.race([Qr,xr]),Js=yield Qr}catch(Mi){let Hi="fetch-client-network";throw"AbortError"===(null==Mi?void 0:Mi.name)&&(Hi="fetch-timeout"),Ve.create(Hi,{originalErrorMessage:null==Mi?void 0:Mi.message})}let As=Js.status;const Es=Js.headers.get("ETag")||void 0;let so,sa;if(200===Js.status){let Mi;try{Mi=yield Js.json()}catch(Hi){throw Ve.create("fetch-client-parse",{originalErrorMessage:null==Hi?void 0:Hi.message})}so=Mi.entries,sa=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===sa?As=500:"NO_CHANGE"===sa?As=304:("NO_TEMPLATE"===sa||"EMPTY_CONFIG"===sa)&&(so={}),304!==As&&200!==As)throw Ve.create("fetch-status",{httpStatus:As});return{status:As,eTag:Es,config:so}})()}}class ut{constructor(N,pe){this.client=N,this.storage=pe}fetch(N){var pe=this;return(0,ae.Z)(function*(){const ot=(yield pe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return pe.attemptFetch(N,ot)})()}attemptFetch(N,{throttleEndTimeMillis:pe,backoffCount:ot}){var Bt=this;return(0,ae.Z)(function*(){yield function He(C,N){return new Promise((pe,ot)=>{const Bt=Math.max(N-Date.now(),0),Zt=setTimeout(pe,Bt);C.addEventListener(()=>{clearTimeout(Zt),ot(Ve.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,pe);try{const Zt=yield Bt.client.fetch(N);return yield Bt.storage.deleteThrottleMetadata(),Zt}catch(Zt){if(!function mt(C){if(!(C instanceof be.ZR&&C.customData))return!1;const N=Number(C.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Zt))throw Zt;const pn={throttleEndTimeMillis:Date.now()+(0,be.$s)(ot),backoffCount:ot+1};return yield Bt.storage.setThrottleMetadata(pn),Bt.attemptFetch(N,pn)}})()}}class sn{constructor(N,pe,ot,Bt,Zt){this.app=N,this._client=pe,this._storageCache=ot,this._storage=Bt,this._logger=Zt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(C,N){const pe=C.target.error||void 0;return Ve.create(N,{originalErrorMessage:pe&&(null==pe?void 0:pe.message)})}const et="app_namespace_store";class Tn{constructor(N,pe,ot,Bt=function fn(){return new Promise((C,N)=>{try{const pe=indexedDB.open("firebase_remote_config",1);pe.onerror=ot=>{N(At(ot,"storage-open"))},pe.onsuccess=ot=>{C(ot.target.result)},pe.onupgradeneeded=ot=>{0===ot.oldVersion&&ot.target.result.createObjectStore(et,{keyPath:"compositeKey"})}}catch(pe){N(Ve.create("storage-open",{originalErrorMessage:null==pe?void 0:pe.message}))}})}()){this.appId=N,this.appName=pe,this.namespace=ot,this.openDbPromise=Bt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var pe=this;return(0,ae.Z)(function*(){const ot=yield pe.openDbPromise;return new Promise((Bt,Zt)=>{const jr=ot.transaction([et],"readonly").objectStore(et),Rr=pe.createCompositeKey(N);try{const wr=jr.get(Rr);wr.onerror=Qr=>{Zt(At(Qr,"storage-get"))},wr.onsuccess=Qr=>{const xr=Qr.target.result;Bt(xr?xr.value:void 0)}}catch(wr){Zt(Ve.create("storage-get",{originalErrorMessage:null==wr?void 0:wr.message}))}})})()}set(N,pe){var ot=this;return(0,ae.Z)(function*(){const Bt=yield ot.openDbPromise;return new Promise((Zt,pn)=>{const Rr=Bt.transaction([et],"readwrite").objectStore(et),wr=ot.createCompositeKey(N);try{const Qr=Rr.put({compositeKey:wr,value:pe});Qr.onerror=xr=>{pn(At(xr,"storage-set"))},Qr.onsuccess=()=>{Zt()}}catch(Qr){pn(Ve.create("storage-set",{originalErrorMessage:null==Qr?void 0:Qr.message}))}})})()}delete(N){var pe=this;return(0,ae.Z)(function*(){const ot=yield pe.openDbPromise;return new Promise((Bt,Zt)=>{const jr=ot.transaction([et],"readwrite").objectStore(et),Rr=pe.createCompositeKey(N);try{const wr=jr.delete(Rr);wr.onerror=Qr=>{Zt(At(Qr,"storage-delete"))},wr.onsuccess=()=>{Bt()}}catch(wr){Zt(Ve.create("storage-delete",{originalErrorMessage:null==wr?void 0:wr.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class En{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,ae.Z)(function*(){const pe=N.storage.getLastFetchStatus(),ot=N.storage.getLastSuccessfulFetchTimestampMillis(),Bt=N.storage.getActiveConfig(),Zt=yield pe;Zt&&(N.lastFetchStatus=Zt);const pn=yield ot;pn&&(N.lastSuccessfulFetchTimestampMillis=pn);const jr=yield Bt;jr&&(N.activeConfig=jr)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function rr(){return fr.apply(this,arguments)}function fr(){return(fr=(0,ae.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function Nt(){(0,ye._registerComponent)(new De.wA("remote-config",function C(N,{instanceIdentifier:pe}){const ot=N.getProvider("app").getImmediate(),Bt=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ve.create("registration-window");if(!(0,be.hl)())throw Ve.create("indexed-db-unavailable");const{projectId:Zt,apiKey:pn,appId:jr}=ot.options;if(!Zt)throw Ve.create("registration-project-id");if(!pn)throw Ve.create("registration-api-key");if(!jr)throw Ve.create("registration-app-id");const Rr=new Tn(jr,ot.name,pe=pe||"firebase"),wr=new En(Rr),Qr=new he.Yd($e);Qr.logLevel=he.in.ERROR;const xr=new Fe(Bt,ye.SDK_VERSION,pe,Zt,pn,jr),Js=new ut(xr,Rr),As=new We(Js,Rr,wr,Qr),Es=new sn(ot,As,wr,Rr,Qr);return function _t(C){const N=(0,be.m9)(C);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Es),Es},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)($e,U),(0,ye.registerVersion)($e,U,"esm2017")}();const gr=(C,N)=>N.some(pe=>C instanceof pe);let nn,Lr;const Ar=new WeakMap,Mr=new WeakMap,Sn=new WeakMap,vn=new WeakMap,Vn=new WeakMap;let ur={get(C,N,pe){if(C instanceof IDBTransaction){if("done"===N)return Mr.get(C);if("objectStoreNames"===N)return C.objectStoreNames||Sn.get(C);if("store"===N)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return xn(C[N])},set:(C,N,pe)=>(C[N]=pe,!0),has:(C,N)=>C instanceof IDBTransaction&&("done"===N||"store"===N)||N in C};function Kn(C){return"function"==typeof C?function Dr(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nr(){return Lr||(Lr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...N){return C.apply(ei(this),N),xn(Ar.get(this))}:function(...N){return xn(C.apply(ei(this),N))}:function(N,...pe){const ot=C.call(ei(this),N,...pe);return Sn.set(ot,N.sort?N.sort():[N]),xn(ot)}}(C):(C instanceof IDBTransaction&&function vr(C){if(Mr.has(C))return;const N=new Promise((pe,ot)=>{const Bt=()=>{C.removeEventListener("complete",Zt),C.removeEventListener("error",pn),C.removeEventListener("abort",pn)},Zt=()=>{pe(),Bt()},pn=()=>{ot(C.error||new DOMException("AbortError","AbortError")),Bt()};C.addEventListener("complete",Zt),C.addEventListener("error",pn),C.addEventListener("abort",pn)});Mr.set(C,N)}(C),gr(C,function sr(){return nn||(nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,ur):C)}function xn(C){if(C instanceof IDBRequest)return function br(C){const N=new Promise((pe,ot)=>{const Bt=()=>{C.removeEventListener("success",Zt),C.removeEventListener("error",pn)},Zt=()=>{pe(xn(C.result)),Bt()},pn=()=>{ot(C.error),Bt()};C.addEventListener("success",Zt),C.addEventListener("error",pn)});return N.then(pe=>{pe instanceof IDBCursor&&Ar.set(pe,C)}).catch(()=>{}),Vn.set(N,C),N}(C);if(vn.has(C))return vn.get(C);const N=Kn(C);return N!==C&&(vn.set(C,N),Vn.set(N,C)),N}const ei=C=>Vn.get(C);function Hn(C,N,{blocked:pe,upgrade:ot,blocking:Bt,terminated:Zt}={}){const pn=indexedDB.open(C,N),jr=xn(pn);return ot&&pn.addEventListener("upgradeneeded",Rr=>{ot(xn(pn.result),Rr.oldVersion,Rr.newVersion,xn(pn.transaction))}),pe&&pn.addEventListener("blocked",()=>pe()),jr.then(Rr=>{Zt&&Rr.addEventListener("close",()=>Zt()),Bt&&Rr.addEventListener("versionchange",()=>Bt())}).catch(()=>{}),jr}function jt(C,{blocked:N}={}){const pe=indexedDB.deleteDatabase(C);return N&&pe.addEventListener("blocked",()=>N()),xn(pe).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],Mt=new Map;function an(C,N){if(!(C instanceof IDBDatabase)||N in C||"string"!=typeof N)return;if(Mt.get(N))return Mt.get(N);const pe=N.replace(/FromIndex$/,""),ot=N!==pe,Bt=ze.includes(pe);if(!(pe in(ot?IDBIndex:IDBObjectStore).prototype)||!Bt&&!fe.includes(pe))return;const Zt=function(){var pn=(0,ae.Z)(function*(jr,...Rr){const wr=this.transaction(jr,Bt?"readwrite":"readonly");let Qr=wr.store;return ot&&(Qr=Qr.index(Rr.shift())),(yield Promise.all([Qr[pe](...Rr),Bt&&wr.done]))[0]});return function(Rr){return pn.apply(this,arguments)}}();return Mt.set(N,Zt),Zt}!function kr(C){ur=C(ur)}(C=>({...C,get:(N,pe,ot)=>an(N,pe)||C.get(N,pe,ot),has:(N,pe)=>!!an(N,pe)||C.has(N,pe)}));const gn="/firebase-messaging-sw.js",pr="/firebase-cloud-messaging-push-scope",Fn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mr="https://fcmregistrations.googleapis.com/v1",Je="google.c.a.c_id",de="google.c.a.c_l",K="google.c.a.ts";var Oe=(()=>((Oe=Oe||{}).PUSH_RECEIVED="push-received",Oe.NOTIFICATION_CLICKED="notification-clicked",Oe))();function st(C){const N=new Uint8Array(C);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Le(C){const pe=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ot=atob(pe),Bt=new Uint8Array(ot.length);for(let Zt=0;Zt<ot.length;++Zt)Bt[Zt]=ot.charCodeAt(Zt);return Bt}const ht="fcm_token_details_db",It=5,Gt="fcm_token_object_Store";function rn(){return rn=(0,ae.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Zt=>Zt.name).includes(ht))return null;let N=null;return(yield Hn(ht,It,{upgrade:(ot=(0,ae.Z)(function*(Bt,Zt,pn,jr){var Rr;if(Zt<2||!Bt.objectStoreNames.contains(Gt))return;const wr=jr.objectStore(Gt),Qr=yield wr.index("fcmSenderId").get(C);if(yield wr.clear(),Qr)if(2===Zt){const xr=Qr;if(!xr.auth||!xr.p256dh||!xr.endpoint)return;N={token:xr.fcmToken,createTime:null!==(Rr=xr.createTime)&&void 0!==Rr?Rr:Date.now(),subscriptionOptions:{auth:xr.auth,p256dh:xr.p256dh,endpoint:xr.endpoint,swScope:xr.swScope,vapidKey:"string"==typeof xr.vapidKey?xr.vapidKey:st(xr.vapidKey)}}}else if(3===Zt){const xr=Qr;N={token:xr.fcmToken,createTime:xr.createTime,subscriptionOptions:{auth:st(xr.auth),p256dh:st(xr.p256dh),endpoint:xr.endpoint,swScope:xr.swScope,vapidKey:st(xr.vapidKey)}}}else if(4===Zt){const xr=Qr;N={token:xr.fcmToken,createTime:xr.createTime,subscriptionOptions:{auth:st(xr.auth),p256dh:st(xr.p256dh),endpoint:xr.endpoint,swScope:xr.swScope,vapidKey:st(xr.vapidKey)}}}}),function(Zt,pn,jr,Rr){return ot.apply(this,arguments)})})).close(),yield jt(ht),yield jt("fcm_vapid_details_db"),yield jt("undefined"),function un(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:N}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var ot}),rn.apply(this,arguments)}const Wn="firebase-messaging-database",zn=1,Dt="firebase-messaging-store";let wt=null;function Kt(){return wt||(wt=Hn(Wn,zn,{upgrade:(C,N)=>{0===N&&C.createObjectStore(Dt)}})),wt}function _n(C){return kn.apply(this,arguments)}function kn(){return kn=(0,ae.Z)(function*(C){const N=or(C),ot=yield(yield Kt()).transaction(Dt).objectStore(Dt).get(N);if(ot)return ot;{const Bt=yield function zt(C){return rn.apply(this,arguments)}(C.appConfig.senderId);if(Bt)return yield Xn(C,Bt),Bt}}),kn.apply(this,arguments)}function Xn(C,N){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ae.Z)(function*(C,N){const pe=or(C),Bt=(yield Kt()).transaction(Dt,"readwrite");return yield Bt.objectStore(Dt).put(N,pe),yield Bt.done,N})).apply(this,arguments)}function _r(){return(_r=(0,ae.Z)(function*(C){const N=or(C),ot=(yield Kt()).transaction(Dt,"readwrite");yield ot.objectStore(Dt).delete(N),yield ot.done})).apply(this,arguments)}function or({appConfig:C}){return C.appId}const hi=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mi(C,N){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,ae.Z)(function*(C,N){const pe=yield Cs(C),ot=ps(N),Bt={method:"POST",headers:pe,body:JSON.stringify(ot)};let Zt;try{Zt=yield(yield fetch(ti(C.appConfig),Bt)).json()}catch(pn){throw hi.create("token-subscribe-failed",{errorInfo:null==pn?void 0:pn.toString()})}if(Zt.error)throw hi.create("token-subscribe-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw hi.create("token-subscribe-no-token");return Zt.token})).apply(this,arguments)}function ns(){return(ns=(0,ae.Z)(function*(C,N){const pe=yield Cs(C),ot=ps(N.subscriptionOptions),Bt={method:"PATCH",headers:pe,body:JSON.stringify(ot)};let Zt;try{Zt=yield(yield fetch(`${ti(C.appConfig)}/${N.token}`,Bt)).json()}catch(pn){throw hi.create("token-update-failed",{errorInfo:null==pn?void 0:pn.toString()})}if(Zt.error)throw hi.create("token-update-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw hi.create("token-update-no-token");return Zt.token})).apply(this,arguments)}function js(C,N){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,ae.Z)(function*(C,N){const ot={method:"DELETE",headers:yield Cs(C)};try{const Zt=yield(yield fetch(`${ti(C.appConfig)}/${N}`,ot)).json();if(Zt.error)throw hi.create("token-unsubscribe-failed",{errorInfo:Zt.error.message})}catch(Bt){throw hi.create("token-unsubscribe-failed",{errorInfo:null==Bt?void 0:Bt.toString()})}})).apply(this,arguments)}function ti({projectId:C}){return`${mr}/projects/${C}/registrations`}function Cs(C){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,ae.Z)(function*({appConfig:C,installations:N}){const pe=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${pe}`})})).apply(this,arguments)}function ps({p256dh:C,auth:N,endpoint:pe,vapidKey:ot}){const Bt={web:{endpoint:pe,auth:N,p256dh:C}};return ot!==Fn&&(Bt.web.applicationPubKey=ot),Bt}const Zs=6048e5;function ee(){return ee=(0,ae.Z)(function*(C){const N=yield function dt(C,N){return xt.apply(this,arguments)}(C.swRegistration,C.vapidKey),pe={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:N.endpoint,auth:st(N.getKey("auth")),p256dh:st(N.getKey("p256dh"))},ot=yield _n(C.firebaseDependencies);if(ot){if(function on(C,N){return N.vapidKey===C.vapidKey&&N.endpoint===C.endpoint&&N.auth===C.auth&&N.p256dh===C.p256dh}(ot.subscriptionOptions,pe))return Date.now()>=ot.createTime+Zs?function G(C,N){return se.apply(this,arguments)}(C,{token:ot.token,createTime:Date.now(),subscriptionOptions:pe}):ot.token;try{yield js(C.firebaseDependencies,ot.token)}catch(Bt){console.warn(Bt)}return Be(C.firebaseDependencies,pe)}return Be(C.firebaseDependencies,pe)}),ee.apply(this,arguments)}function oe(){return oe=(0,ae.Z)(function*(C){const N=yield _n(C.firebaseDependencies);N&&(yield js(C.firebaseDependencies,N.token),yield function Wr(C){return _r.apply(this,arguments)}(C.firebaseDependencies));const pe=yield C.swRegistration.pushManager.getSubscription();return!pe||pe.unsubscribe()}),oe.apply(this,arguments)}function se(){return se=(0,ae.Z)(function*(C,N){try{const pe=yield function yi(C,N){return ns.apply(this,arguments)}(C.firebaseDependencies,N),ot=Object.assign(Object.assign({},N),{token:pe,createTime:Date.now()});return yield Xn(C.firebaseDependencies,ot),pe}catch(pe){throw yield function _e(C){return oe.apply(this,arguments)}(C),pe}}),se.apply(this,arguments)}function Be(C,N){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,ae.Z)(function*(C,N){const ot={token:yield mi(C,N),createTime:Date.now(),subscriptionOptions:N};return yield Xn(C,ot),ot.token})).apply(this,arguments)}function xt(){return(xt=(0,ae.Z)(function*(C,N){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Le(N)})})).apply(this,arguments)}function dn(C){const N={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Un(C,N){if(!N.notification)return;C.notification={};const pe=N.notification.title;pe&&(C.notification.title=pe);const ot=N.notification.body;ot&&(C.notification.body=ot);const Bt=N.notification.image;Bt&&(C.notification.image=Bt);const Zt=N.notification.icon;Zt&&(C.notification.icon=Zt)}(N,C),function ar(C,N){N.data&&(C.data=N.data)}(N,C),function fi(C,N){var pe,ot,Bt,Zt,pn;if(!(N.fcmOptions||null!==(pe=N.notification)&&void 0!==pe&&pe.click_action))return;C.fcmOptions={};const jr=null!==(Bt=null===(ot=N.fcmOptions)||void 0===ot?void 0:ot.link)&&void 0!==Bt?Bt:null===(Zt=N.notification)||void 0===Zt?void 0:Zt.click_action;jr&&(C.fcmOptions.link=jr);const Rr=null===(pn=N.fcmOptions)||void 0===pn?void 0:pn.analytics_label;Rr&&(C.fcmOptions.analyticsLabel=Rr)}(N,C),N}function Fi(C,N){const pe=[];for(let ot=0;ot<C.length;ot++)pe.push(C.charAt(ot)),ot<N.length&&pe.push(N.charAt(ot));return pe.join("")}function Cn(C){return hi.create("missing-app-config-values",{valueName:C})}Fi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Er{constructor(N,pe,ot){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Bt=function Hr(C){if(!C||!C.options)throw Cn("App Configuration Object");if(!C.name)throw Cn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:pe}=C;for(const ot of N)if(!pe[ot])throw Cn(ot);return{appName:C.name,projectId:pe.projectId,apiKey:pe.apiKey,appId:pe.appId,senderId:pe.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Bt,installations:pe,analyticsProvider:ot}}_delete(){return Promise.resolve()}}function Ni(){return(Ni=(0,ae.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(gn,{scope:pr}),C.swRegistration.update().catch(()=>{})}catch(N){throw hi.create("failed-service-worker-registration",{browserErrorMessage:null==N?void 0:N.message})}})).apply(this,arguments)}function pi(){return(pi=(0,ae.Z)(function*(C,N){if(!N&&!C.swRegistration&&(yield function Kr(C){return Ni.apply(this,arguments)}(C)),N||!C.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw hi.create("invalid-sw-registration");C.swRegistration=N}})).apply(this,arguments)}function Ur(){return(Ur=(0,ae.Z)(function*(C,N){N?C.vapidKey=N:C.vapidKey||(C.vapidKey=Fn)})).apply(this,arguments)}function bs(){return bs=(0,ae.Z)(function*(C,N){if(!navigator)throw hi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hi.create("permission-blocked");return yield function rs(C,N){return Ur.apply(this,arguments)}(C,null==N?void 0:N.vapidKey),yield function Mo(C,N){return pi.apply(this,arguments)}(C,null==N?void 0:N.serviceWorkerRegistration),function W(C){return ee.apply(this,arguments)}(C)}),bs.apply(this,arguments)}function Qs(){return(Qs=(0,ae.Z)(function*(C,N,pe){const ot=function Fs(C){switch(C){case Oe.NOTIFICATION_CLICKED:return"notification_open";case Oe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ot,{message_id:pe[Je],message_name:pe[de],message_time:pe[K],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Si(){return Si=(0,ae.Z)(function*(C,N){const pe=N.data;if(!pe.isFirebaseMessaging)return;C.onMessageHandler&&pe.messageType===Oe.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(dn(pe)):C.onMessageHandler.next(dn(pe)));const ot=pe.data;(function Oi(C){return"object"==typeof C&&!!C&&Je in C})(ot)&&"1"===ot["google.c.a.e"]&&(yield function An(C,N,pe){return Qs.apply(this,arguments)}(C,pe.messageType,ot))}),Si.apply(this,arguments)}const Ss="@firebase/messaging",Ls=C=>{const N=new Er(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",pe=>function Wi(C,N){return Si.apply(this,arguments)}(N,pe)),N},Ro=C=>{const N=C.getProvider("messaging").getImmediate();return{getToken:ot=>function is(C,N){return bs.apply(this,arguments)}(N,ot)}};function gs(){return es.apply(this,arguments)}function es(){return(es=(0,ae.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vo(){(0,ye._registerComponent)(new De.wA("messaging",Ls,"PUBLIC")),(0,ye._registerComponent)(new De.wA("messaging-internal",Ro,"PRIVATE")),(0,ye.registerVersion)(Ss,"0.12.4"),(0,ye.registerVersion)(Ss,"0.12.4","esm2017")}();var Hs=L(5132),Bs=L(4408),pa=L(7565);const ji=new class ss extends pa.v{}(class gi extends Bs.o{constructor(N,pe){super(N,pe),this.scheduler=N,this.work=pe}schedule(N,pe=0){return pe>0?super.schedule(N,pe):(this.delay=pe,this.state=N,this.scheduler.flush(this),this)}execute(N,pe){return pe>0||this.closed?super.execute(N,pe):this._execute(N,pe)}requestAsyncId(N,pe,ot=0){return null!=ot&&ot>0||null==ot&&this.delay>0?super.requestAsyncId(N,pe,ot):(N.flush(this),0)}});var os=L(4986),as=L(9751),Xs=L(8505),Ki=L(5363),jo=L(9468);const ys=new y.GfV("7.6.1"),zs="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",Ti="__angularfire_symbol__remoteConfigIsSupportedValue",Gs="__angularfire_symbol__remoteConfigIsSupported",vs="__angularfire_symbol__messagingIsSupportedValue",Ai="__angularfire_symbol__messagingIsSupported";globalThis[Ho]||(globalThis[Ho]=(0,Hs.Gb)().then(C=>globalThis[zs]=C).catch(()=>globalThis[zs]=!1)),globalThis[Ai]||(globalThis[Ai]=gs().then(C=>globalThis[vs]=C).catch(()=>globalThis[vs]=!1)),globalThis[Gs]||(globalThis[Gs]=rr().then(C=>globalThis[Ti]=C).catch(()=>globalThis[Ti]=!1));const T={async:()=>globalThis[Ho],sync:()=>{const C=globalThis[zs];if(void 0===C)throw new Error((C=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${C} in the constructor, first ensure that ${C} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${C})\`.`)("Analytics"));return C}};function Q(C,N,pe){if(N){if(1===N.length)return N[0];const Zt=N.filter(pn=>pn.app===pe);if(1===Zt.length)return Zt[0]}return pe.container.getProvider(C).getImmediate({optional:!0})}const Re=(C,N)=>{const pe=N?[N]:(0,g.C6)(),ot=[];return pe.forEach(Bt=>{Bt.container.getProvider(C).instances.forEach(pn=>{ot.includes(pn)||ot.push(pn)})}),ot};function qt(){}class Nn{constructor(N,pe=ji){this.zone=N,this.delegate=pe}now(){return this.delegate.now()}schedule(N,pe,ot){const Bt=this.zone;return this.delegate.schedule(function(pn){Bt.runGuarded(()=>{N.apply(this,[pn])})},pe,ot)}}class er{constructor(N){this.zone=N,this.task=null}call(N,pe){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qt,{},qt,qt)),pe.pipe((0,Xs.b)({next:ot,complete:ot,error:ot})).subscribe(N).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yr=(()=>{class C{constructor(pe){this.ngZone=pe,this.outsideAngular=pe.runOutsideAngular(()=>new Nn(Zone.current)),this.insideAngular=pe.run(()=>new Nn(Zone.current,os.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(pe){return new(pe||C)(y.LFG(y.R0b))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Sr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ts(C){return Sr().ngZone.run(()=>C())}function ls(C){return C.pipe((0,Ki.Q)(Sr().outsideAngular))}function Ws(C){return Sr(),function xo(C){return function(pe){return(pe=pe.lift(new er(C.ngZone))).pipe((0,jo.R)(C.outsideAngular),(0,Ki.Q)(C.insideAngular))}}(Sr())(C)}const Z=(C,N)=>function(){const ot=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Ts(()=>C.apply(void 0,ot))},j=(C,N)=>function(){let pe;const ot=arguments;for(let Zt=0;Zt<arguments.length;Zt++)"function"==typeof ot[Zt]&&(N&&(pe||(pe=Ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qt,{},qt,qt)))),ot[Zt]=Z(ot[Zt],pe));const Bt=function qi(C){return Sr().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ot));if(!N){if(Bt instanceof as.y){const Zt=Sr();return Bt.pipe((0,jo.R)(Zt.outsideAngular),(0,Ki.Q)(Zt.insideAngular))}return Ts(()=>Bt)}return Bt instanceof as.y?Bt.pipe(Ws):Bt instanceof Promise?Ts(()=>new Promise((Zt,pn)=>Bt.then(jr=>Ts(()=>Zt(jr)),jr=>Ts(()=>pn(jr))))):"function"==typeof Bt&&pe?function(){return setTimeout(()=>{pe&&"scheduled"===pe.state&&pe.invoke()},10),Bt.apply(this,arguments)}:Ts(()=>Bt)}},1389:(ln,ct,L)=>{"use strict";L.d(ct,{$:()=>Sr,A:()=>Ie,D:()=>Ve,I:()=>Zs,J:()=>G,L:()=>Wi,N:()=>Fn,P:()=>gd,Q:()=>ms,R:()=>Ae,U:()=>gi,V:()=>pa,W:()=>ss,X:()=>Bs,Y:()=>as,Z:()=>Xs,_:()=>Ho,a:()=>Pl,a0:()=>Ts,a1:()=>_s,a2:()=>j,a3:()=>Zt,a4:()=>jr,a5:()=>wr,a6:()=>xr,a7:()=>As,a8:()=>so,a9:()=>Mi,aA:()=>xe,aB:()=>Hu,aC:()=>gn,aD:()=>mr,aE:()=>Jo,aF:()=>dh,aG:()=>tr,aH:()=>ti,aL:()=>Mc,aO:()=>Qo,aa:()=>Hi,ab:()=>eo,ac:()=>ul,ad:()=>vi,ae:()=>Sc,af:()=>Wa,ai:()=>Tc,aj:()=>oo,ak:()=>$s,an:()=>ia,ao:()=>Rl,aq:()=>ts,ar:()=>Mn,as:()=>tt,at:()=>It,au:()=>st,av:()=>Ge,aw:()=>Dd,ax:()=>tl,ay:()=>Gt,az:()=>rt,b:()=>xl,c:()=>Oc,d:()=>ch,e:()=>uh,f:()=>Ms,g:()=>Oo,h:()=>wf,i:()=>to,j:()=>su,k:()=>Vi,l:()=>lr,m:()=>bf,o:()=>ph,p:()=>Ce,r:()=>Bi,s:()=>tn,u:()=>pl});var y=L(5861),g=L(2090),ae=L(6881),ye=L(655),be=L(1877),De=L(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},qe=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bt=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new be.Yd("@firebase/auth");function it(R,..._){Ee.logLevel<=be.in.ERROR&&Ee.error(`Auth (${ae.SDK_VERSION}): ${R}`,..._)}function Ge(R,..._){throw Ye(R,..._)}function rt(R,..._){return Ye(R,..._)}function ft(R,_,I){const P=Object.assign(Object.assign({},qe()),{[_]:I});return new g.LL("auth","Firebase",P).create(_,{appName:R.name})}function _t(R,_,I){if(!(_ instanceof I))throw I.name!==_.constructor.name&&Ge(R,"argument-error"),ft(R,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(R,..._){if("string"!=typeof R){const I=_[0],P=[..._.slice(1)];return P[0]&&(P[0].appName=R.name),R._errorFactory.create(I,...P)}return bt.create(R,..._)}function xe(R,_,...I){if(!R)throw Ye(_,...I)}function St(R){const _="INTERNAL ASSERTION FAILED: "+R;throw it(_),new Error(_)}function tt(R,_){R||St(_)}function pt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function yt(){return"http:"===ce()||"https:"===ce()}function ce(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class We{constructor(_,I){this.shortDelay=_,this.longDelay=I,tt(I>_,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ke(R,_){tt(R.emulator,"Emulator should always be set here");const{url:I}=R.emulator;return _?`${I}${_.startsWith("/")?_.slice(1):_}`:I}class Fe{static initialize(_,I,P){this.fetchImpl=_,I&&(this.headersImpl=I),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mt=new We(3e4,6e4);function ut(R,_){return R.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:R.tenantId}):_}function Tt(R,_,I,P){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,y.Z)(function*(R,_,I,P,le={}){return sn(R,le,(0,y.Z)(function*(){let Te={},Ct={};P&&("GET"===_?Ct=P:Te={body:JSON.stringify(P)});const Wt=(0,g.xO)(Object.assign({key:R.config.apiKey},Ct)).slice(1),Dn=yield R._getAdditionalHeaders();return Dn["Content-Type"]="application/json",R.languageCode&&(Dn["X-Firebase-Locale"]=R.languageCode),Fe.fetch()(Jt(R,R.config.apiHost,I,Wt),Object.assign({method:_,headers:Dn,referrerPolicy:"no-referrer"},Te))}))})).apply(this,arguments)}function sn(R,_,I){return At.apply(this,arguments)}function At(){return(At=(0,y.Z)(function*(R,_,I){R._canInitEmulator=!1;const P=Object.assign(Object.assign({},He),_);try{const le=new fn(R),Te=yield Promise.race([I(),le.promise]);le.clearNetworkTimeout();const Ct=yield Te.json();if("needConfirmation"in Ct)throw Tn(R,"account-exists-with-different-credential",Ct);if(Te.ok&&!("errorMessage"in Ct))return Ct;{const Wt=Te.ok?Ct.errorMessage:Ct.error.message,[Dn,$n]=Wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Dn)throw Tn(R,"credential-already-in-use",Ct);if("EMAIL_EXISTS"===Dn)throw Tn(R,"email-already-in-use",Ct);if("USER_DISABLED"===Dn)throw Tn(R,"user-disabled",Ct);const cr=P[Dn]||Dn.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw ft(R,cr,$n);Ge(R,cr)}}catch(le){if(le instanceof g.ZR)throw le;Ge(R,"network-request-failed",{message:String(le)})}})).apply(this,arguments)}function et(R,_,I,P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(R,_,I,P,le={}){const Te=yield Tt(R,_,I,P,le);return"mfaPendingCredential"in Te&&Ge(R,"multi-factor-auth-required",{_serverResponse:Te}),Te})).apply(this,arguments)}function Jt(R,_,I,P){const le=`${_}${I}?${P}`;return R.config.emulator?ke(R.config,le):`${R.config.apiScheme}://${le}`}class fn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((I,P)=>{this.timer=setTimeout(()=>P(rt(this.auth,"network-request-failed")),mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(R,_,I){const P={appName:R.name};I.email&&(P.email=I.email),I.phoneNumber&&(P.phoneNumber=I.phoneNumber);const le=rt(R,_,P);return le.customData._tokenResponse=I,le}function Nt(){return(Nt=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Lt(){return(Lt=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function fr(){return(fr=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function gr(R){if(R)try{const _=new Date(Number(R));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function sr(){return(sr=(0,y.Z)(function*(R,_=!1){const I=(0,g.m9)(R),P=yield I.getIdToken(_),le=Ar(P);xe(le&&le.exp&&le.auth_time&&le.iat,I.auth,"internal-error");const Te="object"==typeof le.firebase?le.firebase:void 0,Ct=null==Te?void 0:Te.sign_in_provider;return{claims:le,token:P,authTime:gr(nr(le.auth_time)),issuedAtTime:gr(nr(le.iat)),expirationTime:gr(nr(le.exp)),signInProvider:Ct||null,signInSecondFactor:(null==Te?void 0:Te.sign_in_second_factor)||null}})).apply(this,arguments)}function nr(R){return 1e3*Number(R)}function Ar(R){const[_,I,P]=R.split(".");if(void 0===_||void 0===I||void 0===P)return it("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,g.tV)(I);return le?JSON.parse(le):(it("Failed to decode base64 JWT payload"),null)}catch(le){return it("Caught error parsing JWT payload as JSON",null==le?void 0:le.toString()),null}}function Sn(R,_){return vn.apply(this,arguments)}function vn(){return(vn=(0,y.Z)(function*(R,_,I=!1){if(I)return _;try{return yield _}catch(P){throw P instanceof g.ZR&&function Vn({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}(P)&&R.auth.currentUser===R&&(yield R.auth.signOut()),P}})).apply(this,arguments)}class br{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var I;if(_){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const le=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(_=!1){var I=this;if(!this.isRunning)return;const P=this.getInterval(_);this.timerId=setTimeout((0,y.Z)(function*(){yield I.iteration()}),P)}iteration(){var _=this;return(0,y.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null==I?void 0:I.code)&&_.schedule(!0))}_.schedule()})()}}class vr{constructor(_,I){this.createdAt=_,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=gr(this.lastLoginAt),this.creationTime=gr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ur(R){return kr.apply(this,arguments)}function kr(){return kr=(0,y.Z)(function*(R){var _;const I=R.auth,P=yield R.getIdToken(),le=yield Sn(R,function rr(R,_){return fr.apply(this,arguments)}(I,{idToken:P}));xe(null==le?void 0:le.users.length,I,"internal-error");const Te=le.users[0];R._notifyReloadListener(Te);const Ct=null!==(_=Te.providerUserInfo)&&void 0!==_&&_.length?function ei(R){return R.map(_=>{var{providerId:I}=_,P=(0,ye._T)(_,["providerId"]);return{providerId:I,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}(Te.providerUserInfo):[],Wt=function xn(R,_){return[...R.filter(P=>!_.some(le=>le.providerId===P.providerId)),..._]}(R.providerData,Ct),cr=!!R.isAnonymous&&!(R.email&&Te.passwordHash||null!=Wt&&Wt.length),si={uid:Te.localId,displayName:Te.displayName||null,photoURL:Te.photoUrl||null,email:Te.email||null,emailVerified:Te.emailVerified||!1,phoneNumber:Te.phoneNumber||null,tenantId:Te.tenantId||null,providerData:Wt,metadata:new vr(Te.createdAt,Te.lastLoginAt),isAnonymous:cr};Object.assign(R,si)}),kr.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(R){const _=(0,g.m9)(R);yield ur(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function jt(){return(jt=(0,y.Z)(function*(R,_){const I=yield sn(R,{},(0,y.Z)(function*(){const P=(0,g.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:le,apiKey:Te}=R.config,Ct=Jt(R,le,"/v1/token",`key=${Te}`),Wt=yield R._getAdditionalHeaders();return Wt["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(Ct,{method:"POST",headers:Wt,body:P})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){xe(_.idToken,"internal-error"),xe(typeof _.idToken<"u","internal-error"),xe(typeof _.refreshToken<"u","internal-error");const I="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Mr(R){const _=Ar(R);return xe(_,"internal-error"),xe(typeof _.exp<"u","internal-error"),xe(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,I)}getToken(_,I=!1){var P=this;return(0,y.Z)(function*(){return xe(!P.accessToken||P.refreshToken,_,"user-token-expired"),I||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(_,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,I){var P=this;return(0,y.Z)(function*(){const{accessToken:le,refreshToken:Te,expiresIn:Ct}=yield function Hn(R,_){return jt.apply(this,arguments)}(_,I);P.updateTokensAndExpiration(le,Te,Number(Ct))})()}updateTokensAndExpiration(_,I,P){this.refreshToken=I||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(_,I){const{refreshToken:P,accessToken:le,expirationTime:Te}=I,Ct=new fe;return P&&(xe("string"==typeof P,"internal-error",{appName:_}),Ct.refreshToken=P),le&&(xe("string"==typeof le,"internal-error",{appName:_}),Ct.accessToken=le),Te&&(xe("number"==typeof Te,"internal-error",{appName:_}),Ct.expirationTime=Te),Ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new fe,this.toJSON())}_performRefresh(){return St("not implemented")}}function ze(R,_){xe("string"==typeof R||typeof R>"u","internal-error",{appName:_})}class Mt{constructor(_){var{uid:I,auth:P,stsTokenManager:le}=_,Te=(0,ye._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=P,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=Te.displayName||null,this.email=Te.email||null,this.emailVerified=Te.emailVerified||!1,this.phoneNumber=Te.phoneNumber||null,this.photoURL=Te.photoURL||null,this.isAnonymous=Te.isAnonymous||!1,this.tenantId=Te.tenantId||null,this.providerData=Te.providerData?[...Te.providerData]:[],this.metadata=new vr(Te.createdAt||void 0,Te.lastLoginAt||void 0)}getIdToken(_){var I=this;return(0,y.Z)(function*(){const P=yield Sn(I,I.stsTokenManager.getToken(I.auth,_));return xe(P,I.auth,"internal-error"),I.accessToken!==P&&(I.accessToken=P,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),P})()}getIdTokenResult(_){return function Lr(R){return sr.apply(this,arguments)}(this,_)}reload(){return function Dr(R){return Kn.apply(this,arguments)}(this)}_assign(_){this!==_&&(xe(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(I=>Object.assign({},I)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const I=new Mt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(_){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,I=!1){var P=this;return(0,y.Z)(function*(){let le=!1;_.idToken&&_.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(_),le=!0),I&&(yield ur(P)),yield P.auth._persistUserIfCurrent(P),le&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var _=this;return(0,y.Z)(function*(){const I=yield _.getIdToken();return yield Sn(_,function En(R,_){return Nt.apply(this,arguments)}(_.auth,{idToken:I})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,I){var P,le,Te,Ct,Wt,Dn,$n,cr;const si=null!==(P=I.displayName)&&void 0!==P?P:void 0,la=null!==(le=I.email)&&void 0!==le?le:void 0,No=null!==(Te=I.phoneNumber)&&void 0!==Te?Te:void 0,gh=null!==(Ct=I.photoURL)&&void 0!==Ct?Ct:void 0,wo=null!==(Wt=I.tenantId)&&void 0!==Wt?Wt:void 0,Ju=null!==(Dn=I._redirectEventId)&&void 0!==Dn?Dn:void 0,cu=null!==($n=I.createdAt)&&void 0!==$n?$n:void 0,mh=null!==(cr=I.lastLoginAt)&&void 0!==cr?cr:void 0,{uid:Ea,emailVerified:wa,isAnonymous:du,providerData:Sf,stsTokenManager:kp}=I;xe(Ea&&kp,_,"internal-error");const Yr=fe.fromJSON(this.name,kp);xe("string"==typeof Ea,_,"internal-error"),ze(si,_.name),ze(la,_.name),xe("boolean"==typeof wa,_,"internal-error"),xe("boolean"==typeof du,_,"internal-error"),ze(No,_.name),ze(gh,_.name),ze(wo,_.name),ze(Ju,_.name),ze(cu,_.name),ze(mh,_.name);const Ad=new Mt({uid:Ea,auth:_,email:la,emailVerified:wa,displayName:si,isAnonymous:du,photoURL:gh,phoneNumber:No,tenantId:wo,stsTokenManager:Yr,createdAt:cu,lastLoginAt:mh});return Sf&&Array.isArray(Sf)&&(Ad.providerData=Sf.map(yh=>Object.assign({},yh))),Ju&&(Ad._redirectEventId=Ju),Ad}static _fromIdTokenResponse(_,I,P=!1){return(0,y.Z)(function*(){const le=new fe;le.updateFromServerResponse(I);const Te=new Mt({uid:I.localId,auth:_,stsTokenManager:le,isAnonymous:P});return yield ur(Te),Te})()}}const an=new Map;function gn(R){tt(R instanceof Function,"Expected a class definition");let _=an.get(R);return _?(tt(_ instanceof R,"Instance stored in cache mismatched with class"),_):(_=new R,an.set(R,_),_)}const Fn=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(I,P){var le=this;return(0,y.Z)(function*(){le.storage[I]=P})()}_get(I){var P=this;return(0,y.Z)(function*(){const le=P.storage[I];return void 0===le?null:le})()}_remove(I){var P=this;return(0,y.Z)(function*(){delete P.storage[I]})()}_addListener(I,P){}_removeListener(I,P){}}return R.type="NONE",R})();function mr(R,_,I){return`firebase:${R}:${_}:${I}`}class Je{constructor(_,I,P){this.persistence=_,this.auth=I,this.userKey=P;const{config:le,name:Te}=this.auth;this.fullUserKey=mr(this.userKey,le.apiKey,Te),this.fullPersistenceKey=mr("persistence",le.apiKey,Te),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,y.Z)(function*(){const I=yield _.persistence._get(_.fullUserKey);return I?Mt._fromJSON(_.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var I=this;return(0,y.Z)(function*(){if(I.persistence===_)return;const P=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=_,P?I.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,I,P="authUser"){return(0,y.Z)(function*(){if(!I.length)return new Je(gn(Fn),_,P);const le=(yield Promise.all(I.map(function(){var $n=(0,y.Z)(function*(cr){if(yield cr._isAvailable())return cr});return function(cr){return $n.apply(this,arguments)}}()))).filter($n=>$n);let Te=le[0]||gn(Fn);const Ct=mr(P,_.config.apiKey,_.name);let Wt=null;for(const $n of I)try{const cr=yield $n._get(Ct);if(cr){const si=Mt._fromJSON(_,cr);$n!==Te&&(Wt=si),Te=$n;break}}catch{}const Dn=le.filter($n=>$n._shouldAllowMigration);return Te._shouldAllowMigration&&Dn.length?(Te=Dn[0],Wt&&(yield Te._set(Ct,Wt.toJSON())),yield Promise.all(I.map(function(){var $n=(0,y.Z)(function*(cr){if(cr!==Te)try{yield cr._remove(Ct)}catch{}});return function(cr){return $n.apply(this,arguments)}}())),new Je(Te,_,P)):new Je(Te,_,P)})()}}function de(R){const _=R.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Oe(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(K(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Le(_))return"Blackberry";if(ht(_))return"Webos";if(z(_))return"Safari";if((_.includes("chrome/")||q(_))&&!_.includes("edge/"))return"Chrome";if(st(_))return"Android";{const P=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==P?void 0:P.length))return P[1]}return"Other"}function K(R=(0,g.z$)()){return/firefox\//i.test(R)}function z(R=(0,g.z$)()){const _=R.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function q(R=(0,g.z$)()){return/crios\//i.test(R)}function Oe(R=(0,g.z$)()){return/iemobile/i.test(R)}function st(R=(0,g.z$)()){return/android/i.test(R)}function Le(R=(0,g.z$)()){return/blackberry/i.test(R)}function ht(R=(0,g.z$)()){return/webos/i.test(R)}function It(R=(0,g.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Gt(R=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function un(R=(0,g.z$)()){return It(R)||st(R)||ht(R)||Le(R)||/windows phone/i.test(R)||Oe(R)}function zn(R,_=[]){let I;switch(R){case"Browser":I=de((0,g.z$)());break;case"Worker":I=`${de((0,g.z$)())}-${R}`;break;default:I=R}const P=_.length?_.join(","):"FirebaseCore-web";return`${I}/JsCore/${ae.SDK_VERSION}/${P}`}function wt(){return(wt=(0,y.Z)(function*(R){return(yield Tt(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kt(R,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,y.Z)(function*(R,_){return Tt(R,"GET","/v2/recaptchaConfig",ut(R,_))})).apply(this,arguments)}function kn(R){return void 0!==R&&void 0!==R.getResponse}function Xn(R){return void 0!==R&&void 0!==R.enterprise}class Jn{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function _r(R){return new Promise((_,I)=>{const P=document.createElement("script");P.setAttribute("src",R),P.onload=_,P.onerror=le=>{const Te=rt("internal-error");Te.customData=le,I(Te)},P.type="text/javascript",P.charset="UTF-8",function Wr(){var R,_;return null!==(_=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==_?_:document}().appendChild(P)})}function or(R){return`__${R}${Math.floor(1e6*Math.random())}`}class Ds{constructor(_){this.type="recaptcha-enterprise",this.auth=ti(_)}verify(_="verify",I=!1){var P=this;return(0,y.Z)(function*(){function Te(){return Te=(0,y.Z)(function*(Wt){if(!I){if(null==Wt.tenantId&&null!=Wt._agentRecaptchaConfig)return Wt._agentRecaptchaConfig.siteKey;if(null!=Wt.tenantId&&void 0!==Wt._tenantRecaptchaConfigs[Wt.tenantId])return Wt._tenantRecaptchaConfigs[Wt.tenantId].siteKey}return new Promise(function(){var Dn=(0,y.Z)(function*($n,cr){Kt(Wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(si=>{if(void 0!==si.recaptchaKey){const la=new Jn(si);return null==Wt.tenantId?Wt._agentRecaptchaConfig=la:Wt._tenantRecaptchaConfigs[Wt.tenantId]=la,$n(la.siteKey)}cr(new Error("recaptcha Enterprise site key undefined"))}).catch(si=>{cr(si)})});return function($n,cr){return Dn.apply(this,arguments)}}())}),Te.apply(this,arguments)}function Ct(Wt,Dn,$n){const cr=window.grecaptcha;Xn(cr)?cr.enterprise.ready(()=>{cr.enterprise.execute(Wt,{action:_}).then(si=>{Dn(si)}).catch(()=>{Dn("NO_RECAPTCHA")})}):$n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Wt,Dn)=>{(function le(Wt){return Te.apply(this,arguments)})(P.auth).then($n=>{if(!I&&Xn(window.grecaptcha))Ct($n,Wt,Dn);else{if(typeof window>"u")return void Dn(new Error("RecaptchaVerifier is only supported in browser"));_r("https://www.google.com/recaptcha/enterprise.js?render="+$n).then(()=>{Ct($n,Wt,Dn)}).catch(cr=>{Dn(cr)})}}).catch($n=>{Dn($n)})})})()}}function yi(R,_,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(R,_,I,P=!1){const le=new Ds(R);let Te;try{Te=yield le.verify(I)}catch{Te=yield le.verify(I,!0)}const Ct=Object.assign({},_);return Object.assign(Ct,P?{captchaResp:Te}:{captchaResponse:Te}),Object.assign(Ct,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ct,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ct})).apply(this,arguments)}class js{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,I){const P=Te=>new Promise((Ct,Wt)=>{try{Ct(_(Te))}catch(Dn){Wt(Dn)}});P.onAbort=I,this.queue.push(P);const le=this.queue.length-1;return()=>{this.queue[le]=()=>Promise.resolve()}}runMiddleware(_){var I=this;return(0,y.Z)(function*(){if(I.auth.currentUser===_)return;const P=[];try{for(const le of I.queue)yield le(_),le.onAbort&&P.push(le.onAbort)}catch(le){P.reverse();for(const Te of P)try{Te()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null==le?void 0:le.message})}})()}}class Pi{constructor(_,I,P,le){this.app=_,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=P,this.config=le,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cs(this),this.idTokenSubscription=new Cs(this),this.beforeStateQueue=new js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=le.sdkClientVersion}_initializeWithPersistence(_,I){var P=this;return I&&(this._popupRedirectResolver=gn(I)),this._initializationPromise=this.queue((0,y.Z)(function*(){var le,Te;if(!P._deleted&&(P.persistenceManager=yield Je.create(P,_),!P._deleted)){if(null!==(le=P._popupRedirectResolver)&&void 0!==le&&le._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(I),P.lastNotifiedUid=(null===(Te=P.currentUser)||void 0===Te?void 0:Te.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,y.Z)(function*(){if(_._deleted)return;const I=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||I){if(_.currentUser&&I&&_.currentUser.uid===I.uid)return _._currentUser._assign(I),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(I,!0)}})()}initializeCurrentUser(_){var I=this;return(0,y.Z)(function*(){var P;const le=yield I.assertedPersistence.getCurrentUser();let Te=le,Ct=!1;if(_&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Wt=null===(P=I.redirectUser)||void 0===P?void 0:P._redirectEventId,Dn=null==Te?void 0:Te._redirectEventId,$n=yield I.tryRedirectSignIn(_);(!Wt||Wt===Dn)&&null!=$n&&$n.user&&(Te=$n.user,Ct=!0)}if(!Te)return I.directlySetCurrentUser(null);if(!Te._redirectEventId){if(Ct)try{yield I.beforeStateQueue.runMiddleware(Te)}catch(Wt){Te=le,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Wt))}return Te?I.reloadAndSetCurrentUserOrClear(Te):I.directlySetCurrentUser(null)}return xe(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===Te._redirectEventId?I.directlySetCurrentUser(Te):I.reloadAndSetCurrentUserOrClear(Te)})()}tryRedirectSignIn(_){var I=this;return(0,y.Z)(function*(){let P=null;try{P=yield I._popupRedirectResolver._completeRedirectFn(I,_,!0)}catch{yield I._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(_){var I=this;return(0,y.Z)(function*(){try{yield ur(_)}catch(P){if("auth/network-request-failed"!==(null==P?void 0:P.code))return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var _=this;return(0,y.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var I=this;return(0,y.Z)(function*(){const P=_?(0,g.m9)(_):null;return P&&xe(P.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(P&&P._clone(I))})()}_updateCurrentUser(_,I=!1){var P=this;return(0,y.Z)(function*(){if(!P._deleted)return _&&xe(P.tenantId===_.tenantId,P,"tenant-id-mismatch"),I||(yield P.beforeStateQueue.runMiddleware(_)),P.queue((0,y.Z)(function*(){yield P.directlySetCurrentUser(_),P.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,y.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var I=this;return this.queue((0,y.Z)(function*(){yield I.assertedPersistence.setPersistence(gn(_))}))}initializeRecaptchaConfig(){var _=this;return(0,y.Z)(function*(){const I=yield Kt(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),P=new Jn(I);null==_.tenantId?_._agentRecaptchaConfig=P:_._tenantRecaptchaConfigs[_.tenantId]=P,P.emailPasswordEnabled&&new Ds(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new g.LL("auth","Firebase",_())}onAuthStateChanged(_,I,P){return this.registerStateListener(this.authStateSubscription,_,I,P)}beforeAuthStateChanged(_,I){return this.beforeStateQueue.pushCallback(_,I)}onIdTokenChanged(_,I,P){return this.registerStateListener(this.idTokenSubscription,_,I,P)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,I){var P=this;return(0,y.Z)(function*(){const le=yield P.getOrInitRedirectPersistenceManager(I);return null===_?le.removeCurrentUser():le.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var I=this;return(0,y.Z)(function*(){if(!I.redirectPersistenceManager){const P=_&&gn(_)||I._popupRedirectResolver;xe(P,I,"argument-error"),I.redirectPersistenceManager=yield Je.create(I,[gn(P._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(_){var I=this;return(0,y.Z)(function*(){var P,le;return I._isInitialized&&(yield I.queue((0,y.Z)(function*(){}))),(null===(P=I._currentUser)||void 0===P?void 0:P._redirectEventId)===_?I._currentUser:(null===(le=I.redirectUser)||void 0===le?void 0:le._redirectEventId)===_?I.redirectUser:null})()}_persistUserIfCurrent(_){var I=this;return(0,y.Z)(function*(){if(_===I.currentUser)return I.queue((0,y.Z)(function*(){return I.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(I=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,I,P,le){if(this._deleted)return()=>{};const Te="function"==typeof I?I:I.next.bind(I),Ct=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(Ct,this,"internal-error"),Ct.then(()=>Te(this.currentUser)),"function"==typeof I?_.addObserver(I,P,le):_.addObserver(I)}directlySetCurrentUser(_){var I=this;return(0,y.Z)(function*(){I.currentUser&&I.currentUser!==_&&I._currentUser._stopProactiveRefresh(),_&&I.isProactiveRefreshEnabled&&_._startProactiveRefresh(),I.currentUser=_,_?yield I.assertedPersistence.setCurrentUser(_):yield I.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,y.Z)(function*(){var I;const P={"X-Client-Version":_.clientVersion};_.app.options.appId&&(P["X-Firebase-gmpid"]=_.app.options.appId);const le=yield null===(I=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();le&&(P["X-Firebase-Client"]=le);const Te=yield _._getAppCheckToken();return Te&&(P["X-Firebase-AppCheck"]=Te),P})()}_getAppCheckToken(){var _=this;return(0,y.Z)(function*(){var I;const P=yield null===(I=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return null!=P&&P.error&&function vt(R,..._){Ee.logLevel<=be.in.WARN&&Ee.warn(`Auth (${ae.SDK_VERSION}): ${R}`,..._)}(`Error while retrieving App Check token: ${P.error}`),null==P?void 0:P.token})()}}function ti(R){return(0,g.m9)(R)}class Cs{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,g.ne)(I=>this.observer=I)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zs(R,_,I){const P=ti(R);xe(P._canInitEmulator,P,"emulator-config-failed"),xe(/^https?:\/\//.test(_),P,"invalid-emulator-scheme");const le=!(null==I||!I.disableWarnings),Te=W(_),{host:Ct,port:Wt}=function ee(R){const _=W(R),I=/(\/\/)?([^?#/]+)/.exec(R.substr(_.length));if(!I)return{host:"",port:null};const P=I[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(P);if(le){const Te=le[1];return{host:Te,port:_e(P.substr(Te.length+1))}}{const[Te,Ct]=P.split(":");return{host:Te,port:_e(Ct)}}}(_);P.config.emulator={url:`${Te}//${Ct}${null===Wt?"":`:${Wt}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:Ct,port:Wt,protocol:Te.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function oe(){function R(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function W(R){const _=R.indexOf(":");return _<0?"":R.substr(0,_+1)}function _e(R){if(!R)return null;const _=Number(R);return isNaN(_)?null:_}class G{constructor(_,I){this.providerId=_,this.signInMethod=I}toJSON(){return St("not implemented")}_getIdTokenResponse(_){return St("not implemented")}_linkToIdToken(_,I){return St("not implemented")}_getReauthenticationResolver(_){return St("not implemented")}}function se(R,_){return Be.apply(this,arguments)}function Be(){return(Be=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:resetPassword",ut(R,_))})).apply(this,arguments)}function Xe(R,_){return dt.apply(this,arguments)}function dt(){return(dt=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function on(){return(on=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",ut(R,_))})).apply(this,arguments)}function dn(R,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithPassword",ut(R,_))})).apply(this,arguments)}function ar(R,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:sendOobCode",ut(R,_))})).apply(this,arguments)}function Fi(){return(Fi=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function Hr(R,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function Er(R,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(R,_){return ar(R,_)})).apply(this,arguments)}function rs(){return(rs=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithEmailLink",ut(R,_))})).apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithEmailLink",ut(R,_))})).apply(this,arguments)}class bs extends G{constructor(_,I,P,le=null){super("password",P),this._email=_,this._password=I,this._tenantId=le}static _fromEmailAndPassword(_,I){return new bs(_,I,"password")}static _fromEmailAndCode(_,I,P=null){return new bs(_,I,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_;if(null!=I&&I.email&&null!=I&&I.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(_){var I=this;return(0,y.Z)(function*(){var P;switch(I.signInMethod){case"password":const le={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=_._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Te=yield yi(_,le,"signInWithPassword");return dn(_,Te)}return dn(_,le).catch(function(){var Te=(0,y.Z)(function*(Ct){if("auth/missing-recaptcha-token"===Ct.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Wt=yield yi(_,le,"signInWithPassword");return dn(_,Wt)}return Promise.reject(Ct)});return function(Ct){return Te.apply(this,arguments)}}());case"emailLink":return function pi(R,_){return rs.apply(this,arguments)}(_,{email:I._email,oobCode:I._password});default:Ge(_,"internal-error")}})()}_linkToIdToken(_,I){var P=this;return(0,y.Z)(function*(){switch(P.signInMethod){case"password":return Xe(_,{idToken:I,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function Ur(R,_){return is.apply(this,arguments)}(_,{idToken:I,email:P._email,oobCode:P._password});default:Ge(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function An(R,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithIdp",ut(R,_))})).apply(this,arguments)}class Wi extends G{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const I=new Wi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(I.idToken=_.idToken),_.accessToken&&(I.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(I.nonce=_.nonce),_.pendingToken&&(I.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(I.accessToken=_.oauthToken,I.secret=_.oauthTokenSecret):Ge("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:P,signInMethod:le}=I,Te=(0,ye._T)(I,["providerId","signInMethod"]);if(!P||!le)return null;const Ct=new Wi(P,le);return Ct.idToken=Te.idToken||void 0,Ct.accessToken=Te.accessToken||void 0,Ct.secret=Te.secret,Ct.nonce=Te.nonce,Ct.pendingToken=Te.pendingToken||null,Ct}_getIdTokenResponse(_){return An(_,this.buildRequest())}_linkToIdToken(_,I){const P=this.buildRequest();return P.idToken=I,An(_,P)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,An(_,I)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),_.postBody=(0,g.xO)(I)}return _}}function Ss(){return(Ss=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:sendVerificationCode",ut(R,_))})).apply(this,arguments)}function Ls(){return(Ls=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithPhoneNumber",ut(R,_))})).apply(this,arguments)}function vo(){return(vo=(0,y.Z)(function*(R,_){const I=yield et(R,"POST","/v1/accounts:signInWithPhoneNumber",ut(R,_));if(I.temporaryProof)throw Tn(R,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const gs={USER_NOT_FOUND:"user-not-found"};function Uo(){return(Uo=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithPhoneNumber",ut(R,Object.assign(Object.assign({},_),{operation:"REAUTH"})),gs)})).apply(this,arguments)}class Ui extends G{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,I){return new Ui({verificationId:_,verificationCode:I})}static _fromTokenResponse(_,I){return new Ui({phoneNumber:_,temporaryProof:I})}_getIdTokenResponse(_){return function yo(R,_){return Ls.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,I){return function Ro(R,_){return vo.apply(this,arguments)}(_,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function es(R,_){return Uo.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:I,verificationId:P,verificationCode:le}=this.params;return _&&I?{temporaryProof:_,phoneNumber:I}:{sessionInfo:P,code:le}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:I,verificationCode:P,phoneNumber:le,temporaryProof:Te}=_;return P||I||le||Te?new Ui({verificationId:I,verificationCode:P,phoneNumber:le,temporaryProof:Te}):null}}class _o{constructor(_){var I,P,le,Te,Ct,Wt;const Dn=(0,g.zd)((0,g.pd)(_)),$n=null!==(I=Dn.apiKey)&&void 0!==I?I:null,cr=null!==(P=Dn.oobCode)&&void 0!==P?P:null,si=function Br(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=Dn.mode)&&void 0!==le?le:null);xe($n&&cr&&si,"argument-error"),this.apiKey=$n,this.operation=si,this.code=cr,this.continueUrl=null!==(Te=Dn.continueUrl)&&void 0!==Te?Te:null,this.languageCode=null!==(Ct=Dn.languageCode)&&void 0!==Ct?Ct:null,this.tenantId=null!==(Wt=Dn.tenantId)&&void 0!==Wt?Wt:null}static parseLink(_){const I=function Zo(R){const _=(0,g.zd)((0,g.pd)(R)).link,I=_?(0,g.zd)((0,g.pd)(_)).deep_link_id:null,P=(0,g.zd)((0,g.pd)(R)).deep_link_id;return(P?(0,g.zd)((0,g.pd)(P)).link:null)||P||I||_||R}(_);try{return new _o(I)}catch{return null}}}let ms=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(I,P){return bs._fromEmailAndPassword(I,P)}static credentialWithLink(I,P){const le=_o.parseLink(P);return xe(le,"argument-error"),bs._fromEmailAndCode(I,le.code,le.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class di{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Hs extends di{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Bs extends Hs{static credentialFromJSON(_){const I="string"==typeof _?JSON.parse(_):_;return xe("providerId"in I&&"signInMethod"in I,"argument-error"),Wi._fromParams(I)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return xe(_.idToken||_.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Bs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Bs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:P,oauthTokenSecret:le,pendingToken:Te,nonce:Ct,providerId:Wt}=_;if(!P&&!le&&!I&&!Te||!Wt)return null;try{return new Bs(Wt)._credential({idToken:I,accessToken:P,nonce:Ct,pendingToken:Te})}catch{return null}}}let gi=(()=>{class R extends Hs{constructor(){super("facebook.com")}static credential(I){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),pa=(()=>{class R extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(I,P){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:P})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:P,oauthAccessToken:le}=I;if(!P&&!le)return null;try{return R.credential(P,le)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),ss=(()=>{class R extends Hs{constructor(){super("github.com")}static credential(I){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class Qo extends G{constructor(_,I){super(_,_),this.pendingToken=I}_getIdTokenResponse(_){return An(_,this.buildRequest())}_linkToIdToken(_,I){const P=this.buildRequest();return P.idToken=I,An(_,P)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,An(_,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:P,signInMethod:le,pendingToken:Te}=I;return P&&le&&Te&&P===le?new Qo(P,Te):null}static _create(_,I){return new Qo(_,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class as extends di{constructor(_){xe(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return as.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return as.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const I=Qo.fromJSON(_);return xe(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:I,providerId:P}=_;if(!I||!P)return null;try{return Qo._create(P,I)}catch{return null}}}let Xs=(()=>{class R extends Hs{constructor(){super("twitter.com")}static credential(I,P){return Wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:P})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:P,oauthTokenSecret:le}=I;if(!P||!le)return null;try{return R.credential(P,le)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function Ki(R,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signUp",ut(R,_))})).apply(this,arguments)}class ys{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,I,P,le=!1){return(0,y.Z)(function*(){const Te=yield Mt._fromIdTokenResponse(_,P,le),Ct=zs(P);return new ys({user:Te,providerId:Ct,_tokenResponse:P,operationType:I})})()}static _forOperation(_,I,P){return(0,y.Z)(function*(){yield _._updateTokensIfNecessary(P,!0);const le=zs(P);return new ys({user:_,providerId:le,_tokenResponse:P,operationType:I})})()}}function zs(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function Ho(R){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(R){var _;const I=ti(R);if(yield I._initializationPromise,null!==(_=I.currentUser)&&void 0!==_&&_.isAnonymous)return new ys({user:I.currentUser,providerId:null,operationType:"signIn"});const P=yield Ki(I,{returnSecureToken:!0}),le=yield ys._fromIdTokenResponse(I,"signIn",P,!0);return yield I._updateCurrentUser(le.user),le})).apply(this,arguments)}class Gs extends g.ZR{constructor(_,I,P,le){var Te;super(I.code,I.message),this.operationType=P,this.user=le,Object.setPrototypeOf(this,Gs.prototype),this.customData={appName:_.name,tenantId:null!==(Te=_.tenantId)&&void 0!==Te?Te:void 0,_serverResponse:I.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(_,I,P,le){return new Gs(_,I,P,le)}}function vs(R,_,I,P){return("reauthenticate"===_?I._getReauthenticationResolver(R):I._getIdTokenResponse(R)).catch(Te=>{throw"auth/multi-factor-auth-required"===Te.code?Gs._fromErrorAndOperation(R,Te,_,P):Te})}function Ai(R){return new Set(R.map(({providerId:_})=>_).filter(_=>!!_))}function ia(R,_){return S.apply(this,arguments)}function S(){return S=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R);yield Q(!0,I,_);const{providerUserInfo:P}=yield function In(R,_){return Lt.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[_]}),le=Ai(P||[]);return I.providerData=I.providerData.filter(Te=>le.has(Te.providerId)),le.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),S.apply(this,arguments)}function ne(R,_){return T.apply(this,arguments)}function T(){return(T=(0,y.Z)(function*(R,_,I=!1){const P=yield Sn(R,_._linkToIdToken(R.auth,yield R.getIdToken()),I);return ys._forOperation(R,"link",P)})).apply(this,arguments)}function Q(R,_,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,y.Z)(function*(R,_,I){yield ur(_);const le=!1===R?"provider-already-linked":"no-such-provider";xe(Ai(_.providerData).has(I)===R,_.auth,le)})).apply(this,arguments)}function qt(R,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,y.Z)(function*(R,_,I=!1){const{auth:P}=R,le="reauthenticate";try{const Te=yield Sn(R,vs(P,le,_,R),I);xe(Te.idToken,P,"internal-error");const Ct=Ar(Te.idToken);xe(Ct,P,"internal-error");const{sub:Wt}=Ct;return xe(R.uid===Wt,P,"user-mismatch"),ys._forOperation(R,le,Te)}catch(Te){throw"auth/user-not-found"===(null==Te?void 0:Te.code)&&Ge(P,"user-mismatch"),Te}})).apply(this,arguments)}function er(R,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,y.Z)(function*(R,_,I=!1){const P="signIn",le=yield vs(R,P,_),Te=yield ys._fromIdTokenResponse(R,P,le);return I||(yield R._updateCurrentUser(Te.user)),Te})).apply(this,arguments)}function Sr(R,_){return qi.apply(this,arguments)}function qi(){return(qi=(0,y.Z)(function*(R,_){return er(ti(R),_)})).apply(this,arguments)}function Ts(R,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R);return yield Q(!1,I,_.providerId),ne(I,_)})).apply(this,arguments)}function _s(R,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(R,_){return qt((0,g.m9)(R),_)})).apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(R,_){return et(R,"POST","/v1/accounts:signInWithCustomToken",ut(R,_))})).apply(this,arguments)}function j(R,_){return C.apply(this,arguments)}function C(){return C=(0,y.Z)(function*(R,_){const I=ti(R),P=yield function xo(R,_){return Z.apply(this,arguments)}(I,{token:_,returnSecureToken:!0}),le=yield ys._fromIdTokenResponse(I,"signIn",P);return yield I._updateCurrentUser(le.user),le}),C.apply(this,arguments)}class N{constructor(_,I){this.factorId=_,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(_,I){return"phoneInfo"in I?pe._fromServerResponse(_,I):"totpInfo"in I?ot._fromServerResponse(_,I):Ge(_,"internal-error")}}class pe extends N{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,I){return new pe(I)}}class ot extends N{constructor(_){super("totp",_)}static _fromServerResponse(_,I){return new ot(I)}}function Bt(R,_,I){var P;xe((null===(P=I.url)||void 0===P?void 0:P.length)>0,R,"invalid-continue-uri"),xe(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),_.continueUrl=I.url,_.dynamicLinkDomain=I.dynamicLinkDomain,_.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(xe(I.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),_.iOSBundleId=I.iOS.bundleId),I.android&&(xe(I.android.packageName.length>0,R,"missing-android-pkg-name"),_.androidInstallApp=I.android.installApp,_.androidMinimumVersionCode=I.android.minimumVersion,_.androidPackageName=I.android.packageName)}function Zt(R,_,I){return pn.apply(this,arguments)}function pn(){return pn=(0,y.Z)(function*(R,_,I){var P;const le=ti(R),Te={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=le._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Ct=yield yi(le,Te,"getOobCode",!0);I&&Bt(le,Ct,I),yield Hr(le,Ct)}else I&&Bt(le,Te,I),yield Hr(le,Te).catch(function(){var Ct=(0,y.Z)(function*(Wt){if("auth/missing-recaptcha-token"!==Wt.code)return Promise.reject(Wt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Dn=yield yi(le,Te,"getOobCode",!0);I&&Bt(le,Dn,I),yield Hr(le,Dn)}});return function(Wt){return Ct.apply(this,arguments)}}())}),pn.apply(this,arguments)}function jr(R,_,I){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,y.Z)(function*(R,_,I){yield se((0,g.m9)(R),{oobCode:_,newPassword:I})})).apply(this,arguments)}function wr(R,_){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,y.Z)(function*(R,_){yield function xt(R,_){return on.apply(this,arguments)}((0,g.m9)(R),{oobCode:_})}),Qr.apply(this,arguments)}function xr(R,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R),P=yield se(I,{oobCode:_}),le=P.requestType;switch(xe(le,I,"internal-error"),le){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(P.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(P.mfaInfo,I,"internal-error");default:xe(P.email,I,"internal-error")}let Te=null;return P.mfaInfo&&(Te=N._fromServerResponse(ti(I),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:Te},operation:le}})).apply(this,arguments)}function As(R,_){return Es.apply(this,arguments)}function Es(){return(Es=(0,y.Z)(function*(R,_){const{data:I}=yield xr((0,g.m9)(R),_);return I.email})).apply(this,arguments)}function so(R,_,I){return sa.apply(this,arguments)}function sa(){return sa=(0,y.Z)(function*(R,_,I){var P;const le=ti(R),Te={returnSecureToken:!0,email:_,password:I,clientType:"CLIENT_TYPE_WEB"};let Ct;if(null!==(P=le._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const $n=yield yi(le,Te,"signUpPassword");Ct=Ki(le,$n)}else Ct=Ki(le,Te).catch(function(){var $n=(0,y.Z)(function*(cr){if("auth/missing-recaptcha-token"===cr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const si=yield yi(le,Te,"signUpPassword");return Ki(le,si)}return Promise.reject(cr)});return function(cr){return $n.apply(this,arguments)}}());const Wt=yield Ct.catch($n=>Promise.reject($n)),Dn=yield ys._fromIdTokenResponse(le,"signIn",Wt);return yield le._updateCurrentUser(Dn.user),Dn}),sa.apply(this,arguments)}function Mi(R,_,I){return Sr((0,g.m9)(R),ms.credential(_,I))}function Hi(R,_,I){return ll.apply(this,arguments)}function ll(){return ll=(0,y.Z)(function*(R,_,I){var P;const le=ti(R),Te={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function Ct(Wt,Dn){xe(Dn.handleCodeInApp,le,"argument-error"),Dn&&Bt(le,Wt,Dn)}if(null!==(P=le._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Wt=yield yi(le,Te,"getOobCode",!0);Ct(Wt,I),yield Er(le,Wt)}else Ct(Te,I),yield Er(le,Te).catch(function(){var Wt=(0,y.Z)(function*(Dn){if("auth/missing-recaptcha-token"!==Dn.code)return Promise.reject(Dn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $n=yield yi(le,Te,"getOobCode",!0);Ct($n,I),yield Er(le,$n)}});return function(Dn){return Wt.apply(this,arguments)}}())}),ll.apply(this,arguments)}function eo(R,_){const I=_o.parseLink(_);return"EMAIL_SIGNIN"===(null==I?void 0:I.operation)}function ul(R,_,I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R),le=ms.credentialWithLink(_,I||pt());return xe(le._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Sr(P,le)})).apply(this,arguments)}function cl(){return(cl=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:createAuthUri",ut(R,_))})).apply(this,arguments)}function vi(R,_){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,y.Z)(function*(R,_){const P={identifier:_,continueUri:yt()?pt():"http://localhost"},{signinMethods:le}=yield function oa(R,_){return cl.apply(this,arguments)}((0,g.m9)(R),P);return le||[]}),Fu.apply(this,arguments)}function Sc(R,_){return zo.apply(this,arguments)}function zo(){return zo=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R),le={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};_&&Bt(I.auth,le,_);const{email:Te}=yield function Oi(R,_){return Fi.apply(this,arguments)}(I.auth,le);Te!==R.email&&(yield R.reload())}),zo.apply(this,arguments)}function Wa(R,_,I){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R),Te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:_};I&&Bt(P.auth,Te,I);const{email:Ct}=yield function Ni(R,_){return Mo.apply(this,arguments)}(P.auth,Te);Ct!==R.email&&(yield R.reload())}),Aa.apply(this,arguments)}function dl(){return(dl=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Tc(R,_){return us.apply(this,arguments)}function us(){return us=(0,y.Z)(function*(R,{displayName:_,photoURL:I}){if(void 0===_&&void 0===I)return;const P=(0,g.m9)(R),Te={idToken:yield P.getIdToken(),displayName:_,photoUrl:I,returnSecureToken:!0},Ct=yield Sn(P,function ga(R,_){return dl.apply(this,arguments)}(P.auth,Te));P.displayName=Ct.displayName||null,P.photoURL=Ct.photoUrl||null;const Wt=P.providerData.find(({providerId:Dn})=>"password"===Dn);Wt&&(Wt.displayName=P.displayName,Wt.photoURL=P.photoURL),yield P._updateTokensIfNecessary(Ct)}),us.apply(this,arguments)}function oo(R,_){return Ii((0,g.m9)(R),_,null)}function $s(R,_){return Ii((0,g.m9)(R),null,_)}function Ii(R,_,I){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,y.Z)(function*(R,_,I){const{auth:P}=R,Te={idToken:yield R.getIdToken(),returnSecureToken:!0};_&&(Te.email=_),I&&(Te.password=I);const Ct=yield Sn(R,Xe(P,Te));yield R._updateTokensIfNecessary(Ct,!0)})).apply(this,arguments)}class cs{constructor(_,I,P={}){this.isNewUser=_,this.providerId=I,this.profile=P}}class Lu extends cs{constructor(_,I,P,le){super(_,I,P),this.username=le}}class Ka extends cs{constructor(_,I){super(_,"facebook.com",I)}}class qa extends Lu{constructor(_,I){super(_,"github.com",I,"string"==typeof(null==I?void 0:I.login)?null==I?void 0:I.login:null)}}class Po extends cs{constructor(_,I){super(_,"google.com",I)}}class Bu extends Lu{constructor(_,I,P){super(_,"twitter.com",I,P)}}function Rl(R){const{user:_,_tokenResponse:I}=R;return _.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function ma(R){var _,I;if(!R)return null;const{providerId:P}=R,le=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Te=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!P&&null!=R&&R.idToken){const Ct=null===(I=null===(_=Ar(R.idToken))||void 0===_?void 0:_.firebase)||void 0===I?void 0:I.sign_in_provider;if(Ct)return new cs(Te,"anonymous"!==Ct&&"custom"!==Ct?Ct:null)}if(!P)return null;switch(P){case"facebook.com":return new Ka(Te,le);case"github.com":return new qa(Te,le);case"google.com":return new Po(Te,le);case"twitter.com":return new Bu(Te,le,R.screenName||null);case"custom":case"anonymous":return new cs(Te,null);default:return new cs(Te,P,le)}}(I)}class Pr{constructor(_,I,P){this.type=_,this.credential=I,this.auth=P}static _fromIdtoken(_,I){return new Pr("enroll",_,I)}static _fromMfaPendingCredential(_){return new Pr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var I,P;if(null!=_&&_.multiFactorSession){if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.pendingCredential)return Pr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(P=_.multiFactorSession)&&void 0!==P&&P.idToken)return Pr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Fr{constructor(_,I,P){this.session=_,this.hints=I,this.signInResolver=P}static _fromError(_,I){const P=ti(_),le=I.customData._serverResponse,Te=(le.mfaInfo||[]).map(Wt=>N._fromServerResponse(P,Wt));xe(le.mfaPendingCredential,P,"internal-error");const Ct=Pr._fromMfaPendingCredential(le.mfaPendingCredential);return new Fr(Ct,Te,function(){var Wt=(0,y.Z)(function*(Dn){const $n=yield Dn._process(P,Ct);delete le.mfaInfo,delete le.mfaPendingCredential;const cr=Object.assign(Object.assign({},le),{idToken:$n.idToken,refreshToken:$n.refreshToken});switch(I.operationType){case"signIn":const si=yield ys._fromIdTokenResponse(P,I.operationType,cr);return yield P._updateCurrentUser(si.user),si;case"reauthenticate":return xe(I.user,P,"internal-error"),ys._forOperation(I.user,I.operationType,cr);default:Ge(P,"internal-error")}});return function(Dn){return Wt.apply(this,arguments)}}())}resolveSignIn(_){var I=this;return(0,y.Z)(function*(){return I.signInResolver(_)})()}}function ts(R,_){var I;const P=(0,g.m9)(R),le=_;return xe(_.customData.operationType,P,"argument-error"),xe(null===(I=le.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,P,"argument-error"),Fr._fromError(P,le)}class Gn{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(P=>N._fromServerResponse(_.auth,P)))})}static _fromUser(_){return new Gn(_)}getSession(){var _=this;return(0,y.Z)(function*(){return Pr._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,I){var P=this;return(0,y.Z)(function*(){const le=_,Te=yield P.getSession(),Ct=yield Sn(P.user,le._process(P.user.auth,Te,I));return yield P.user._updateTokensIfNecessary(Ct),P.user.reload()})()}unenroll(_){var I=this;return(0,y.Z)(function*(){const P="string"==typeof _?_:_.uid,le=yield I.user.getIdToken();try{const Te=yield Sn(I.user,function Ln(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(R,_))}(I.user.auth,{idToken:le,mfaEnrollmentId:P}));I.enrolledFactors=I.enrolledFactors.filter(({uid:Ct})=>Ct!==P),yield I.user._updateTokensIfNecessary(Te),yield I.user.reload()}catch(Te){throw Te}})()}}const ya=new WeakMap;function Mn(R){const _=(0,g.m9)(R);return ya.has(_)||ya.set(_,Gn._fromUser(_)),ya.get(_)}const Ze="__sak";class Vt{constructor(_,I){this.storageRetriever=_,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Ze,"1"),this.storage.removeItem(Ze),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,I){return this.storage.setItem(_,JSON.stringify(I)),Promise.resolve()}_get(_){const I=this.storage.getItem(_);return Promise.resolve(I?JSON.parse(I):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const xl=(()=>{class R extends Vt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,P)=>this.onStorageEvent(I,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ks(){const R=(0,g.z$)();return z(R)||It(R)}()&&function Wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=un(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const P of Object.keys(this.listeners)){const le=this.storage.getItem(P),Te=this.localCache[P];le!==Te&&I(P,Te,le)}}onStorageEvent(I,P=!1){if(!I.key)return void this.forAllChangedKeys((Wt,Dn,$n)=>{this.notifyListeners(Wt,$n)});const le=I.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Wt=this.storage.getItem(le);if(I.newValue!==Wt)null!==I.newValue?this.storage.setItem(le,I.newValue):this.storage.removeItem(le);else if(this.localCache[le]===I.newValue&&!P)return}const Te=()=>{const Wt=this.storage.getItem(le);!P&&this.localCache[le]===Wt||this.notifyListeners(le,Wt)},Ct=this.storage.getItem(le);!function rn(){return(0,g.w1)()&&10===document.documentMode}()||Ct===I.newValue||I.newValue===I.oldValue?Te():setTimeout(Te,10)}notifyListeners(I,P){this.localCache[I]=P;const le=this.listeners[I];if(le)for(const Te of Array.from(le))Te(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,P,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:P,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,P){var le=()=>super._set,Te=this;return(0,y.Z)(function*(){yield le().call(Te,I,P),Te.localCache[I]=JSON.stringify(P)})()}_get(I){var P=()=>super._get,le=this;return(0,y.Z)(function*(){const Te=yield P().call(le,I);return le.localCache[I]=JSON.stringify(Te),Te})()}_remove(I){var P=()=>super._remove,le=this;return(0,y.Z)(function*(){yield P().call(le,I),delete le.localCache[I]})()}}return R.type="LOCAL",R})(),Pl=(()=>{class R extends Vt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,P){}_removeListener(I,P){}}return R.type="SESSION",R})();let Ac=(()=>{class R{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const P=this.receivers.find(Te=>Te.isListeningto(I));if(P)return P;const le=new R(I);return this.receivers.push(le),le}isListeningto(I){return this.eventTarget===I}handleEvent(I){var P=this;return(0,y.Z)(function*(){const le=I,{eventId:Te,eventType:Ct,data:Wt}=le.data,Dn=P.handlersMap[Ct];if(null==Dn||!Dn.size)return;le.ports[0].postMessage({status:"ack",eventId:Te,eventType:Ct});const $n=Array.from(Dn).map(function(){var si=(0,y.Z)(function*(la){return la(le.origin,Wt)});return function(la){return si.apply(this,arguments)}}()),cr=yield function Za(R){return Promise.all(R.map(function(){var _=(0,y.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(P){return{fulfilled:!1,reason:P}}});return function(I){return _.apply(this,arguments)}}()))}($n);le.ports[0].postMessage({status:"done",eventId:Te,eventType:Ct,response:cr})})()}_subscribe(I,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(P)}_unsubscribe(I,P){this.handlersMap[I]&&P&&this.handlersMap[I].delete(P),(!P||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function Mc(R="",_=10){let I="";for(let P=0;P<_;P++)I+=Math.floor(10*Math.random());return R+I}class vf{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,I,P=50){var le=this;return(0,y.Z)(function*(){const Te=typeof MessageChannel<"u"?new MessageChannel:null;if(!Te)throw new Error("connection_unavailable");let Ct,Wt;return new Promise((Dn,$n)=>{const cr=Mc("",20);Te.port1.start();const si=setTimeout(()=>{$n(new Error("unsupported_event"))},P);Wt={messageChannel:Te,onMessage(la){const No=la;if(No.data.eventId===cr)switch(No.data.status){case"ack":clearTimeout(si),Ct=setTimeout(()=>{$n(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ct),Dn(No.data.response);break;default:clearTimeout(si),clearTimeout(Ct),$n(new Error("invalid_response"))}}},le.handlers.add(Wt),Te.port1.addEventListener("message",Wt.onMessage),le.target.postMessage({eventType:_,eventId:cr,data:I},[Te.port2])}).finally(()=>{Wt&&le.removeMessageHandler(Wt)})})()}}function ai(){return window}function va(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function _i(){return(_i=(0,y.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ri="firebaseLocalStorageDb",zi="firebaseLocalStorage",On="fbase_key";class hl{constructor(_){this.request=_}toPromise(){return new Promise((_,I)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Ma(R,_){return R.transaction([zi],_?"readwrite":"readonly").objectStore(zi)}function xc(){const R=indexedDB.open(ri,1);return new Promise((_,I)=>{R.addEventListener("error",()=>{I(R.error)}),R.addEventListener("upgradeneeded",()=>{const P=R.result;try{P.createObjectStore(zi,{keyPath:On})}catch(le){I(le)}}),R.addEventListener("success",(0,y.Z)(function*(){const P=R.result;P.objectStoreNames.contains(zi)?_(P):(P.close(),yield function fl(){const R=indexedDB.deleteDatabase(ri);return new hl(R).toPromise()}(),_(yield xc()))}))})}function Qa(R,_,I){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,y.Z)(function*(R,_,I){const P=Ma(R,!0).put({[On]:_,value:I});return new hl(P).toPromise()})).apply(this,arguments)}function Ei(){return(Ei=(0,y.Z)(function*(R,_){const I=Ma(R,!1).get(_),P=yield new hl(I).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function li(R,_){const I=Ma(R,!0).delete(_);return new hl(I).toPromise()}const to=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,y.Z)(function*(){return I.db||(I.db=yield xc()),I.db})()}_withRetries(I){var P=this;return(0,y.Z)(function*(){let le=0;for(;;)try{const Te=yield P._openDb();return yield I(Te)}catch(Te){if(le++>3)throw Te;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,y.Z)(function*(){return va()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,y.Z)(function*(){I.receiver=Ac._getInstance(function Nl(){return va()?self:null}()),I.receiver._subscribe("keyChanged",function(){var P=(0,y.Z)(function*(le,Te){return{keyProcessed:(yield I._poll()).includes(Te.key)}});return function(le,Te){return P.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var P=(0,y.Z)(function*(le,Te){return["keyChanged"]});return function(le,Te){return P.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,y.Z)(function*(){var P,le;if(I.activeServiceWorker=yield function Ol(){return _i.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new vf(I.activeServiceWorker);const Te=yield I.sender._send("ping",{},800);Te&&null!==(P=Te[0])&&void 0!==P&&P.fulfilled&&null!==(le=Te[0])&&void 0!==le&&le.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var P=this;return(0,y.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function dr(){var R;return(null===(R=null==navigator?void 0:navigator.serviceWorker)||void 0===R?void 0:R.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:I},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const I=yield xc();return yield Qa(I,Ze,"1"),yield li(I,Ze),!0}catch{}return!1})()}_withPendingWrite(I){var P=this;return(0,y.Z)(function*(){P.pendingWrites++;try{yield I()}finally{P.pendingWrites--}})()}_set(I,P){var le=this;return(0,y.Z)(function*(){return le._withPendingWrite((0,y.Z)(function*(){return yield le._withRetries(Te=>Qa(Te,I,P)),le.localCache[I]=P,le.notifyServiceWorker(I)}))})()}_get(I){var P=this;return(0,y.Z)(function*(){const le=yield P._withRetries(Te=>function kl(R,_){return Ei.apply(this,arguments)}(Te,I));return P.localCache[I]=le,le})()}_remove(I){var P=this;return(0,y.Z)(function*(){return P._withPendingWrite((0,y.Z)(function*(){return yield P._withRetries(le=>li(le,I)),delete P.localCache[I],P.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,y.Z)(function*(){const P=yield I._withRetries(Ct=>{const Wt=Ma(Ct,!1).getAll();return new hl(Wt).toPromise()});if(!P)return[];if(0!==I.pendingWrites)return[];const le=[],Te=new Set;for(const{fbase_key:Ct,value:Wt}of P)Te.add(Ct),JSON.stringify(I.localCache[Ct])!==JSON.stringify(Wt)&&(I.notifyListeners(Ct,Wt),le.push(Ct));for(const Ct of Object.keys(I.localCache))I.localCache[Ct]&&!Te.has(Ct)&&(I.notifyListeners(Ct,null),le.push(Ct));return le})()}notifyListeners(I,P){this.localCache[I]=P;const le=this.listeners[I];if(le)for(const Te of Array.from(le))Te(P)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})(),ao=1e12;class $u{constructor(_){this.auth=_,this.counter=ao,this._widgets=new Map}render(_,I){const P=this.counter;return this._widgets.set(P,new xa(_,this.auth.name,I||{})),this.counter++,P}reset(_){var I;const P=_||ao;null===(I=this._widgets.get(P))||void 0===I||I.delete(),this._widgets.delete(P)}getResponse(_){var I;return(null===(I=this._widgets.get(_||ao))||void 0===I?void 0:I.getResponse())||""}execute(_){var I=this;return(0,y.Z)(function*(){var P;return null===(P=I._widgets.get(_||ao))||void 0===P||P.execute(),""})()}}class xa{constructor(_,I,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof _?document.getElementById(_):_;xe(le,"argument-error",{appName:I}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wo(R){const _=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<R;P++)_.push(I.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":I}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fo=or("rcb"),_f=new We(3e4,6e4);class M{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=ai().grecaptcha)||void 0===_||!_.render)}load(_,I=""){return xe(function O(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(I),_,"argument-error"),this.shouldResolveImmediately(I)&&kn(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((P,le)=>{const Te=ai().setTimeout(()=>{le(rt(_,"network-request-failed"))},_f.get());ai()[Fo]=()=>{ai().clearTimeout(Te),delete ai()[Fo];const Wt=ai().grecaptcha;if(!Wt||!kn(Wt))return void le(rt(_,"internal-error"));const Dn=Wt.render;Wt.render=($n,cr)=>{const si=Dn($n,cr);return this.counter++,si},this.hostLanguage=I,P(Wt)},_r(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Fo,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(Te),le(rt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var I;return!(null===(I=ai().grecaptcha)||void 0===I||!I.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class D{load(_){return(0,y.Z)(function*(){return new $u(_)})()}clearedOneInstance(){}}const F="recaptcha",te={theme:"light",type:"image"};class Ae{constructor(_,I=Object.assign({},te),P){this.parameters=I,this.type=F,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ti(P),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof _?document.getElementById(_):_;xe(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new D:new M,this.validateStartingState()}verify(){var _=this;return(0,y.Z)(function*(){_.assertNotDestroyed();const I=yield _.render(),P=_.getAssertedRecaptcha();return P.getResponse(I)||new Promise(Te=>{const Ct=Wt=>{Wt&&(_.tokenChangeListeners.delete(Ct),Te(Wt))};_.tokenChangeListeners.add(Ct),_.isInvisible&&P.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return I=>{if(this.tokenChangeListeners.forEach(P=>P(I)),"function"==typeof _)_(I);else if("string"==typeof _){const P=ai()[_];"function"==typeof P&&P(I)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,y.Z)(function*(){if(yield _.init(),!_.widgetId){let I=_.container;if(!_.isInvisible){const P=document.createElement("div");I.appendChild(P),I=P}_.widgetId=_.getAssertedRecaptcha().render(I,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,y.Z)(function*(){xe(yt()&&!va(),_.auth,"internal-error"),yield function we(){let R=null;return new Promise(_=>{"complete"!==document.readyState?(R=()=>_(),window.addEventListener("load",R)):_()}).catch(_=>{throw R&&window.removeEventListener("load",R),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const I=yield function Dt(R){return wt.apply(this,arguments)}(_.auth);xe(I,_.auth,"internal-error"),_.parameters.sitekey=I})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gt{constructor(_,I){this.verificationId=_,this.onConfirmation=I}confirm(_){const I=Ui._fromVerification(this.verificationId,_);return this.onConfirmation(I)}}function tn(R,_,I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*(R,_,I){const P=ti(R),le=yield Xo(P,_,(0,g.m9)(I));return new gt(le,Te=>Sr(P,Te))})).apply(this,arguments)}function lr(R,_,I){return mn.apply(this,arguments)}function mn(){return(mn=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);yield Q(!1,P,"phone");const le=yield Xo(P.auth,_,(0,g.m9)(I));return new gt(le,Te=>Ts(P,Te))})).apply(this,arguments)}function Bi(R,_,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R),le=yield Xo(P.auth,_,(0,g.m9)(I));return new gt(le,Te=>_s(P,Te))})).apply(this,arguments)}function Xo(R,_,I){return no.apply(this,arguments)}function no(){return no=(0,y.Z)(function*(R,_,I){var P;const le=yield I.verify();try{let Te;if(xe("string"==typeof le,R,"argument-error"),xe(I.type===F,R,"argument-error"),Te="string"==typeof _?{phoneNumber:_}:_,"session"in Te){const Ct=Te.session;if("phoneNumber"in Te)return xe("enroll"===Ct.type,R,"internal-error"),(yield function Qt(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:start",ut(R,_))}(R,{idToken:Ct.credential,phoneEnrollmentInfo:{phoneNumber:Te.phoneNumber,recaptchaToken:le}})).phoneSessionInfo.sessionInfo;{xe("signin"===Ct.type,R,"internal-error");const Wt=(null===(P=Te.multiFactorHint)||void 0===P?void 0:P.uid)||Te.multiFactorUid;return xe(Wt,R,"missing-multi-factor-info"),(yield function Go(R,_){return Tt(R,"POST","/v2/accounts/mfaSignIn:start",ut(R,_))}(R,{mfaPendingCredential:Ct.credential,mfaEnrollmentId:Wt,phoneSignInInfo:{recaptchaToken:le}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ct}=yield function Si(R,_){return Ss.apply(this,arguments)}(R,{phoneNumber:Te.phoneNumber,recaptchaToken:le});return Ct}}finally{I._reset()}}),no.apply(this,arguments)}function pl(R,_){return uo.apply(this,arguments)}function uo(){return(uo=(0,y.Z)(function*(R,_){yield ne((0,g.m9)(R),_)})).apply(this,arguments)}let gd=(()=>{class R{constructor(I){this.providerId=R.PROVIDER_ID,this.auth=ti(I)}verifyPhoneNumber(I,P){return Xo(this.auth,I,(0,g.m9)(P))}static credential(I,P){return Ui._fromVerification(I,P)}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:P,temporaryProof:le}=I;return P&&le?Ui._fromTokenResponse(P,le):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function hs(R,_){return _?gn(_):(xe(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class Uu extends G{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return An(_,this._buildIdpRequest())}_linkToIdToken(_,I){return An(_,this._buildIdpRequest(I))}_getReauthenticationResolver(_){return An(_,this._buildIdpRequest())}_buildIdpRequest(_){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(I.idToken=_),I}}function Xa(R){return er(R.auth,new Uu(R),R.bypassAuthState)}function xp(R){const{auth:_,user:I}=R;return xe(I,_,"internal-error"),qt(I,new Uu(R),R.bypassAuthState)}function Pp(R){return md.apply(this,arguments)}function md(){return(md=(0,y.Z)(function*(R){const{auth:_,user:I}=R;return xe(I,_,"internal-error"),ne(I,new Uu(R),R.bypassAuthState)})).apply(this,arguments)}class Ef{constructor(_,I,P,le,Te=!1){this.auth=_,this.resolver=P,this.user=le,this.bypassAuthState=Te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var _=this;return new Promise(function(){var I=(0,y.Z)(function*(P,le){_.pendingPromise={resolve:P,reject:le};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Te){_.reject(Te)}});return function(P,le){return I.apply(this,arguments)}}())}onAuthEvent(_){var I=this;return(0,y.Z)(function*(){const{urlResponse:P,sessionId:le,postBody:Te,tenantId:Ct,error:Wt,type:Dn}=_;if(Wt)return void I.reject(Wt);const $n={auth:I.auth,requestUri:P,sessionId:le,tenantId:Ct||void 0,postBody:Te||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Dn)($n))}catch(cr){I.reject(cr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Xa;case"linkViaPopup":case"linkViaRedirect":return Pp;case"reauthViaPopup":case"reauthViaRedirect":return xp;default:Ge(this.auth,"internal-error")}}resolve(_){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ja=new We(2e3,1e4);function Oc(R,_,I){return iu.apply(this,arguments)}function iu(){return(iu=(0,y.Z)(function*(R,_,I){const P=ti(R);_t(R,_,di);const le=hs(P,I);return new Gi(P,"signInViaPopup",_,le).executeNotNull()})).apply(this,arguments)}function uh(R,_,I){return yd.apply(this,arguments)}function yd(){return(yd=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di);const le=hs(P.auth,I);return new Gi(P.auth,"reauthViaPopup",_,le,P).executeNotNull()})).apply(this,arguments)}function ch(R,_,I){return vd.apply(this,arguments)}function vd(){return(vd=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di);const le=hs(P.auth,I);return new Gi(P.auth,"linkViaPopup",_,le,P).executeNotNull()})).apply(this,arguments)}let Gi=(()=>{class R extends Ef{constructor(I,P,le,Te,Ct){super(I,P,Te,Ct),this.provider=le,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var I=this;return(0,y.Z)(function*(){const P=yield I.execute();return xe(P,I.auth,"internal-error"),P})()}onExecution(){var I=this;return(0,y.Z)(function*(){tt(1===I.filter.length,"Popup operations only handle one event");const P=Mc();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],P),I.authWindow.associatedEvent=P,I.resolver._originValidation(I.auth).catch(le=>{I.reject(le)}),I.resolver._isIframeWebStorageSupported(I.auth,le=>{le||I.reject(rt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const I=()=>{var P,le;this.pollId=null!==(le=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==le&&le.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,Ja.get())};I()}}return R.currentPopupAction=null,R})();const Eo="pendingRedirect",ju=new Map;class Pa extends Ef{constructor(_,I,P=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,P),this.eventId=null}execute(){var _=()=>super.execute,I=this;return(0,y.Z)(function*(){let P=ju.get(I.auth._key());if(!P){try{const Te=(yield function _d(R,_){return Ri.apply(this,arguments)}(I.resolver,I.auth))?yield _().call(I):null;P=()=>Promise.resolve(Te)}catch(le){P=()=>Promise.reject(le)}ju.set(I.auth._key(),P)}return I.bypassAuthState||ju.set(I.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(_){var I=()=>super.onAuthEvent,P=this;return(0,y.Z)(function*(){if("signInViaRedirect"===_.type)return I().call(P,_);if("unknown"!==_.type){if(_.eventId){const le=yield P.auth._redirectUserForId(_.eventId);if(le)return P.user=le,I().call(P,_);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Ri(){return(Ri=(0,y.Z)(function*(R,_){const I=co(_),P=Oa(R);if(!(yield P._isAvailable()))return!1;const le="true"===(yield P._get(I));return yield P._remove(I),le})).apply(this,arguments)}function Lo(R,_){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,y.Z)(function*(R,_){return Oa(R)._set(co(_),"true")})).apply(this,arguments)}function tr(){ju.clear()}function dh(R,_){ju.set(R._key(),_)}function Oa(R){return gn(R._redirectPersistence)}function co(R){return mr(Eo,R.config.apiKey,R.name)}function Ms(R,_,I){return function hh(R,_,I){return Vs.apply(this,arguments)}(R,_,I)}function Vs(){return(Vs=(0,y.Z)(function*(R,_,I){const P=ti(R);_t(R,_,di),yield P._initializationPromise;const le=hs(P,I);return yield Lo(le,P),le._openRedirect(P,_,"signInViaRedirect")})).apply(this,arguments)}function wf(R,_,I){return function gl(R,_,I){return $i.apply(this,arguments)}(R,_,I)}function $i(){return($i=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di),yield P.auth._initializationPromise;const le=hs(P.auth,I);yield Lo(le,P.auth);const Te=yield Ed(P);return le._openRedirect(P.auth,_,"reauthViaRedirect",Te)})).apply(this,arguments)}function Oo(R,_,I){return function _a(R,_,I){return el.apply(this,arguments)}(R,_,I)}function el(){return(el=(0,y.Z)(function*(R,_,I){const P=(0,g.m9)(R);_t(P.auth,_,di),yield P.auth._initializationPromise;const le=hs(P.auth,I);yield Q(!1,P,_.providerId),yield Lo(le,P.auth);const Te=yield Ed(P);return le._openRedirect(P.auth,_,"linkViaRedirect",Te)})).apply(this,arguments)}function su(R,_){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,y.Z)(function*(R,_){return yield ti(R)._initializationPromise,Jo(R,_,!1)})).apply(this,arguments)}function Jo(R,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,y.Z)(function*(R,_,I=!1){const P=ti(R),le=hs(P,_),Ct=yield new Pa(P,le,I).execute();return Ct&&!I&&(delete Ct.user._redirectEventId,yield P._persistUserIfCurrent(Ct.user),yield P._setRedirectUser(null,_)),Ct})).apply(this,arguments)}function Ed(R){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,y.Z)(function*(R){const _=Mc(`${R.uid}:::`);return R._redirectEventId=_,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),_})).apply(this,arguments)}class Hu{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let I=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(_,P)&&(I=!0,this.sendToConsumer(_,P),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function wd(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fh(R);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=_,I=!0)),I}sendToConsumer(_,I){var P;if(_.error&&!fh(_)){const le=(null===(P=_.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";I.onError(rt(this.auth,le))}else I.onAuthEvent(_)}isEventForConsumer(_,I){const P=null===I.eventId||!!_.eventId&&_.eventId===I.eventId;return I.filter.includes(_.type)&&P}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ou(_))}saveEventToCache(_){this.cachedEventUids.add(ou(_)),this.lastProcessedEventTime=Date.now()}}function ou(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(_=>_).join("-")}function fh({type:R,error:_}){return"unknown"===R&&"auth/no-auth-event"===(null==_?void 0:_.code)}function tl(R){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,y.Z)(function*(R,_={}){return Tt(R,"GET","/v1/projects",_)})).apply(this,arguments)}const zu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rs=/^https?/;function nl(){return(nl=(0,y.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:_}=yield tl(R);for(const I of _)try{if(Gu(I))return}catch{}Ge(R,"unauthorized-domain")})).apply(this,arguments)}function Gu(R){const _=pt(),{protocol:I,hostname:P}=new URL(_);if(R.startsWith("chrome-extension://")){const Ct=new URL(R);return""===Ct.hostname&&""===P?"chrome-extension:"===I&&R.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===I&&Ct.hostname===P}if(!Rs.test(I))return!1;if(zu.test(R))return P===R;const le=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(P)}const Bo=new We(3e4,6e4);function ka(){const R=ai().___jsl;if(null!=R&&R.H)for(const _ of Object.keys(R.H))if(R.H[_].r=R.H[_].r||[],R.H[_].L=R.H[_].L||[],R.H[_].r=[...R.H[_].L],R.CP)for(let I=0;I<R.CP.length;I++)R.CP[I]=null}let Wu=null;const Op=new We(5e3,15e3),cm="__/auth/iframe",$o="emulator/auth/iframe",ho={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(R){const _=R.config;xe(_.authDomain,R,"auth-domain-config-required");const I=_.emulator?ke(_,$o):`https://${R.config.authDomain}/${cm}`,P={apiKey:_.apiKey,appName:R.name,v:ae.SDK_VERSION},le=ii.get(R.config.apiHost);le&&(P.eid=le);const Te=R._getFrameworks();return Te.length&&(P.fw=Te.join(",")),`${I}?${(0,g.xO)(P).slice(1)}`}function Fc(){return Fc=(0,y.Z)(function*(R){const _=yield function kc(R){return Wu=Wu||function If(R){return new Promise((_,I)=>{var P,le,Te;function Ct(){ka(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{ka(),I(rt(R,"network-request-failed"))},timeout:Bo.get()})}if(null!==(le=null===(P=ai().gapi)||void 0===P?void 0:P.iframes)&&void 0!==le&&le.Iframe)_(gapi.iframes.getContext());else{if(null===(Te=ai().gapi)||void 0===Te||!Te.load){const Wt=or("iframefcb");return ai()[Wt]=()=>{gapi.load?Ct():I(rt(R,"network-request-failed"))},_r(`https://apis.google.com/js/api.js?onload=${Wt}`).catch(Dn=>I(Dn))}Ct()}}).catch(_=>{throw Wu=null,_})}(R),Wu}(R),I=ai().gapi;return xe(I,R,"internal-error"),_.open({where:document.body,url:Fa(R),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ho,dontclear:!0},P=>new Promise(function(){var le=(0,y.Z)(function*(Te,Ct){yield P.restyle({setHideOnLeave:!1});const Wt=rt(R,"network-request-failed"),Dn=ai().setTimeout(()=>{Ct(Wt)},Op.get());function $n(){ai().clearTimeout(Dn),Te(P)}P.ping($n).then($n,()=>{Ct(Wt)})});return function(Te,Ct){return le.apply(this,arguments)}}()))}),Fc.apply(this,arguments)}const rl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yu{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bd="__/auth/handler",Lc="emulator/auth/handler",Vl=encodeURIComponent("fac");function Dd(R,_,I,P,le,Te){return ml.apply(this,arguments)}function ml(){return(ml=(0,y.Z)(function*(R,_,I,P,le,Te){xe(R.config.authDomain,R,"auth-domain-config-required"),xe(R.config.apiKey,R,"invalid-api-key");const Ct={apiKey:R.config.apiKey,appName:R.name,authType:I,redirectUrl:P,v:ae.SDK_VERSION,eventId:le};if(_ instanceof di){_.setDefaultLanguage(R.languageCode),Ct.providerId=_.providerId||"",(0,g.xb)(_.getCustomParameters())||(Ct.customParameters=JSON.stringify(_.getCustomParameters()));for(const[cr,si]of Object.entries(Te||{}))Ct[cr]=si}if(_ instanceof Hs){const cr=_.getScopes().filter(si=>""!==si);cr.length>0&&(Ct.scopes=cr.join(","))}R.tenantId&&(Ct.tid=R.tenantId);const Wt=Ct;for(const cr of Object.keys(Wt))void 0===Wt[cr]&&delete Wt[cr];const Dn=yield R._getAppCheckToken(),$n=Dn?`#${Vl}=${encodeURIComponent(Dn)}`:"";return`${function Qu({config:R}){return R.emulator?ke(R,Lc):`https://${R.authDomain}/${bd}`}(R)}?${(0,g.xO)(Wt).slice(1)}${$n}`})).apply(this,arguments)}const Bc="webStorageSupport",Vi=class Cf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pl,this._completeRedirectFn=Jo,this._overrideRedirectResult=dh}_openPopup(_,I,P,le){var Te=this;return(0,y.Z)(function*(){var Ct;tt(null===(Ct=Te.eventManagers[_._key()])||void 0===Ct?void 0:Ct.manager,"_initialize() not called before _openPopup()");const Wt=yield Dd(_,I,P,pt(),le);return function Zu(R,_,I,P=500,le=600){const Te=Math.max((window.screen.availHeight-le)/2,0).toString(),Ct=Math.max((window.screen.availWidth-P)/2,0).toString();let Wt="";const Dn=Object.assign(Object.assign({},rl),{width:P.toString(),height:le.toString(),top:Te,left:Ct}),$n=(0,g.z$)().toLowerCase();I&&(Wt=q($n)?"_blank":I),K($n)&&(_=_||"http://localhost",Dn.scrollbars="yes");const cr=Object.entries(Dn).reduce((la,[No,gh])=>`${la}${No}=${gh},`,"");if(function zt(R=(0,g.z$)()){var _;return It(R)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}($n)&&"_self"!==Wt)return function Cd(R,_){const I=document.createElement("a");I.href=R,I.target=_;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(P)}(_||"",Wt),new Yu(null);const si=window.open(_||"",Wt,cr);xe(si,R,"popup-blocked");try{si.focus()}catch{}return new Yu(si)}(_,Wt,Mc())})()}_openRedirect(_,I,P,le){var Te=this;return(0,y.Z)(function*(){return yield Te._originValidation(_),function ir(R){ai().location.href=R}(yield Dd(_,I,P,pt(),le)),new Promise(()=>{})})()}_initialize(_){const I=_._key();if(this.eventManagers[I]){const{manager:le,promise:Te}=this.eventManagers[I];return le?Promise.resolve(le):(tt(Te,"If manager is not set, promise should be"),Te)}const P=this.initAndGetManager(_);return this.eventManagers[I]={promise:P},P.catch(()=>{delete this.eventManagers[I]}),P}initAndGetManager(_){var I=this;return(0,y.Z)(function*(){const P=yield function $l(R){return Fc.apply(this,arguments)}(_),le=new Hu(_);return P.register("authEvent",Te=>(xe(null==Te?void 0:Te.authEvent,_,"invalid-auth-event"),{status:le.onEvent(Te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[_._key()]={manager:le},I.iframes[_._key()]=P,le})()}_isIframeWebStorageSupported(_,I){this.iframes[_._key()].send(Bc,{type:Bc},le=>{var Te;const Ct=null===(Te=null==le?void 0:le[0])||void 0===Te?void 0:Te[Bc];void 0!==Ct&&I(!!Ct),Ge(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Id(R){return nl.apply(this,arguments)}(_)),this.originValidationPromises[I]}get _shouldInitProactively(){return un()||z()||It()}};class La{constructor(_){this.factorId=_}_process(_,I,P){switch(I.type){case"enroll":return this._finalizeEnroll(_,I.credential,P);case"signin":return this._finalizeSignIn(_,I.credential);default:return St("unexpected MultiFactorSessionType")}}}class au extends La{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new au(_)}_finalizeEnroll(_,I,P){return function Gr(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:finalize",ut(R,_))}(_,{idToken:I,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,I){return function Li(R,_){return Tt(R,"POST","/v2/accounts/mfaSignIn:finalize",ut(R,_))}(_,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bf=(()=>{class R{constructor(){}static assertion(I){return au._fromCredential(I)}}return R.FACTOR_ID="phone",R})();var aa="@firebase/auth";class lu{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var I=this;return(0,y.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const I=this.auth.onIdTokenChanged(P=>{_((null==P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,I),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const I=this.internalListeners.get(_);I&&(this.internalListeners.delete(_),I(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Td=(0,g.Pz)("authIdTokenMaxAge")||300;let uu=null;const Np=R=>function(){var _=(0,y.Z)(function*(I){const P=I&&(yield I.getIdTokenResult()),le=P&&((new Date).getTime()-Date.parse(P.issuedAtTime))/1e3;if(le&&le>Td)return;const Te=null==P?void 0:P.token;uu!==Te&&(uu=Te,yield fetch(R,{method:Te?"POST":"DELETE",headers:Te?{Authorization:`Bearer ${Te}`}:{}}))});return function(I){return _.apply(this,arguments)}}();function ph(R=(0,ae.getApp)()){const _=(0,ae._getProvider)(R,"auth");if(_.isInitialized())return _.getImmediate();const I=function Ji(R,_){const I=(0,ae._getProvider)(R,"auth");if(I.isInitialized()){const le=I.getImmediate(),Te=I.getOptions();if((0,g.vZ)(Te,null!=_?_:{}))return le;Ge(le,"already-initialized")}return I.initialize({options:_})}(R,{popupRedirectResolver:Vi,persistence:[to,xl,Pl]}),P=(0,g.Pz)("authTokenSyncURL");if(P){const Te=Np(P);(function me(R,_,I){(0,g.m9)(R).beforeAuthStateChanged(_,I)})(I,Te,()=>Te(I.currentUser)),function H(R,_,I,P){(0,g.m9)(R).onIdTokenChanged(_,I,P)}(I,Ct=>Te(Ct))}const le=(0,g.q4)("auth");return le&&Zs(I,`http://${le}`),I}!function Sd(R){(0,ae._registerComponent)(new De.wA("auth",(_,{options:I})=>{const P=_.getProvider("app").getImmediate(),le=_.getProvider("heartbeat"),Te=_.getProvider("app-check-internal"),{apiKey:Ct,authDomain:Wt}=P.options;xe(Ct&&!Ct.includes(":"),"invalid-api-key",{appName:P.name});const Dn={apiKey:Ct,authDomain:Wt,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(R)},$n=new Pi(P,le,Te,Dn);return function ps(R,_){const I=(null==_?void 0:_.persistence)||[],P=(Array.isArray(I)?I:[I]).map(gn);null!=_&&_.errorMap&&R._updateErrorMap(_.errorMap),R._initializeWithPersistence(P,null==_?void 0:_.popupRedirectResolver)}($n,I),$n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,I,P)=>{_.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new De.wA("auth-internal",_=>{const I=ti(_.getProvider("auth").getImmediate());return new lu(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(aa,"0.23.2",function Df(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,ae.registerVersion)(aa,"0.23.2","esm2017")}("Browser")},2810:(ln,ct,L)=>{"use strict";L.d(ct,{u7:()=>Zg,Jj:()=>od,IX:()=>yy,my:()=>Os,xU:()=>vc,Lz:()=>Ru,WA:()=>Vt,F8:()=>Pu,$q:()=>Ua,W:()=>Ql,EK:()=>_i,PU:()=>R0,l7:()=>Jo,Ky:()=>On,Xb:()=>zi,Cf:()=>oi,K9:()=>ya,Me:()=>hh,yq:()=>ws,Wi:()=>Ug,ET:()=>o_,Ab:()=>P0,vr:()=>ky,Fc:()=>jg,hJ:()=>Qd,B$:()=>af,at:()=>po,oe:()=>E0,AK:()=>al,TF:()=>lf,JU:()=>Do,ST:()=>qv,fH:()=>Yl,Ix:()=>DE,Wu:()=>p0,Lx:()=>r_,qY:()=>io,GL:()=>ih,QT:()=>y0,kl:()=>rh,Xk:()=>Py,PL:()=>v0,UQ:()=>em,zN:()=>Oy,ad:()=>_y,nP:()=>O0,b9:()=>e_,vh:()=>t_,Pb:()=>a0,L$:()=>l0,cf:()=>w0,sc:()=>Yo,Xo:()=>Ty,IO:()=>Sy,iE:()=>id,Eo:()=>gc,i3:()=>Dl,Bt:()=>x0,pl:()=>ME,Ub:()=>ts,qK:()=>m0,TQ:()=>f0,e0:()=>n_,r7:()=>_0,Mx:()=>bE,ar:()=>d0});var Ce,y=L(5861),g=L(6881),ae=L(4859),ye=L(1877),be=L(2090),De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={},$e=$e||{},U=De||self;function Ie(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Ue(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Ve="closure_uid_"+(1e9*Math.random()>>>0),qe=0;function bt(s,e,t){return s.call.apply(s.bind,arguments)}function Me(s,e,t){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function Ee(s,e,t){return(Ee=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bt:Me).apply(null,arguments)}function vt(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function it(s,e){function t(){}t.prototype=e.prototype,s.$=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.ac=function(l,h,m){for(var E=Array(arguments.length-2),k=2;k<arguments.length;k++)E[k-2]=arguments[k];return e.prototype[h].apply(l,E)}}function Ge(){this.s=this.s,this.o=this.o}Ge.prototype.s=!1,Ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ve(s){Object.prototype.hasOwnProperty.call(s,Ve)&&s[Ve]||(s[Ve]=++qe)}(this)},Ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ft=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function _t(s){const e=s.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=s[l];return t}return[]}function Ye(s,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(Ie(l)){const h=s.length||0,m=l.length||0;s.length=h+m;for(let E=0;E<m;E++)s[h+E]=l[E]}else s.push(l)}}function xe(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{U.addEventListener("test",()=>{},e),U.removeEventListener("test",()=>{},e)}catch{}return s}();function tt(s){return/^[\s\xa0]*$/.test(s)}function pt(){var s=U.navigator;return s&&(s=s.userAgent)?s:""}function yt(s){return-1!=pt().indexOf(s)}function ce(s){return ce[" "](s),s}ce[" "]=function(){};var Tt,s,je=yt("Opera"),We=yt("Trident")||yt("MSIE"),ke=yt("Edge"),Fe=ke||We,He=yt("Gecko")&&!(-1!=pt().toLowerCase().indexOf("webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),mt=-1!=pt().toLowerCase().indexOf("webkit")&&!yt("Edge");function ut(){var s=U.document;return s?s.documentMode:void 0}e:{var Pt="",sn=(s=pt(),He?/rv:([^\);]+)(\)|;)/.exec(s):ke?/Edge\/([\d\.]+)/.exec(s):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):mt?/WebKit\/(\S+)/.exec(s):je?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(sn&&(Pt=sn?sn[1]:""),We){var At=ut();if(null!=At&&At>parseFloat(Pt)){Tt=String(At);break e}}Tt=Pt}var Jt=U.document&&We&&(ut()||parseInt(Tt,10))||void 0;function fn(s,e){if(xe.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(He){e:{try{ce(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Tn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&fn.$.h.call(this)}}it(fn,xe);var Tn={2:"touch",3:"pen",4:"mouse"};fn.prototype.h=function(){fn.$.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var En="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function In(s,e,t,l,h){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.la=h,this.key=++Nt,this.fa=this.ia=!1}function Lt(s){s.fa=!0,s.listener=null,s.proxy=null,s.src=null,s.la=null}function rr(s,e,t){for(const l in s)e.call(t,s[l],l,s)}function gr(s){const e={};for(const t in s)e[t]=s[t];return e}const nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(s,e){let t,l;for(let h=1;h<arguments.length;h++){for(t in l=arguments[h],l)s[t]=l[t];for(let m=0;m<nn.length;m++)t=nn[m],Object.prototype.hasOwnProperty.call(l,t)&&(s[t]=l[t])}}function sr(s){this.src=s,this.g={},this.h=0}function nr(s,e){var t=e.type;if(t in s.g){var m,l=s.g[t],h=ft(l,e);(m=0<=h)&&Array.prototype.splice.call(l,h,1),m&&(Lt(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function Ar(s,e,t,l){for(var h=0;h<s.length;++h){var m=s[h];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==l)return h}return-1}sr.prototype.add=function(s,e,t,l,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var E=Ar(s,e,l,h);return-1<E?(e=s[E],t||(e.ia=!1)):((e=new In(e,this.src,m,!!l,h)).ia=t,s.push(e)),e};var Mr="closure_lm_"+(1e6*Math.random()|0),Sn={};function vn(s,e,t,l,h){if(l&&l.once)return vr(s,e,t,l,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)vn(s,e[m],t,l,h);return null}return t=Hn(t),s&&s[En]?s.O(e,t,Ue(l)?!!l.capture:!!l,h):Vn(s,e,t,!1,l,h)}function Vn(s,e,t,l,h,m){if(!e)throw Error("Invalid event type");var E=Ue(h)?!!h.capture:!!h,k=xn(s);if(k||(s[Mr]=k=new sr(s)),(t=k.add(e,t,l,E,m)).proxy)return t;if(l=function br(){const e=Kn;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=l,l.src=s,l.listener=t,s.addEventListener)St||(h=E),void 0===h&&(h=!1),s.addEventListener(e.toString(),l,h);else if(s.attachEvent)s.attachEvent(Dr(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return t}function vr(s,e,t,l,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)vr(s,e[m],t,l,h);return null}return t=Hn(t),s&&s[En]?s.P(e,t,Ue(l)?!!l.capture:!!l,h):Vn(s,e,t,!0,l,h)}function ur(s,e,t,l,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)ur(s,e[m],t,l,h);else l=Ue(l)?!!l.capture:!!l,t=Hn(t),s&&s[En]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=Ar(m=s.g[e],t,l,h))&&(Lt(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=xn(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Ar(e,t,l,h)),(t=-1<s?e[s]:null)&&kr(t))}function kr(s){if("number"!=typeof s&&s&&!s.fa){var e=s.src;if(e&&e[En])nr(e.i,s);else{var t=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(t,l,s.capture):e.detachEvent?e.detachEvent(Dr(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=xn(e))?(nr(t,s),0==t.h&&(t.src=null,e[Mr]=null)):Lt(s)}}}function Dr(s){return s in Sn?Sn[s]:Sn[s]="on"+s}function Kn(s,e){if(s.fa)s=!0;else{e=new fn(e,this);var t=s.listener,l=s.la||s.src;s.ia&&kr(s),s=t.call(l,e)}return s}function xn(s){return(s=s[Mr])instanceof sr?s:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(s){return"function"==typeof s?s:(s[ei]||(s[ei]=function(e){return s.handleEvent(e)}),s[ei])}function jt(){Ge.call(this),this.i=new sr(this),this.S=this,this.J=null}function fe(s,e){var t,l=s.J;if(l)for(t=[];l;l=l.J)t.push(l);if(s=s.S,l=e.type||e,"string"==typeof e)e=new xe(e,s);else if(e instanceof xe)e.target=e.target||s;else{var h=e;Lr(e=new xe(l,s),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var E=e.g=t[m];h=ze(E,l,!0,e)&&h}if(h=ze(E=e.g=s,l,!0,e)&&h,h=ze(E,l,!1,e)&&h,t)for(m=0;m<t.length;m++)h=ze(E=e.g=t[m],l,!1,e)&&h}function ze(s,e,t,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var E=e[m];if(E&&!E.fa&&E.capture==t){var k=E.listener,Y=E.la||E.src;E.ia&&nr(s.i,E),h=!1!==k.call(Y,l)&&h}}return h&&!l.defaultPrevented}it(jt,Ge),jt.prototype[En]=!0,jt.prototype.removeEventListener=function(s,e,t,l){ur(this,s,e,t,l)},jt.prototype.N=function(){if(jt.$.N.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],l=0;l<t.length;l++)Lt(t[l]);delete s.g[e],s.h--}}this.J=null},jt.prototype.O=function(s,e,t,l){return this.i.add(String(s),e,!1,t,l)},jt.prototype.P=function(s,e,t,l){return this.i.add(String(s),e,!0,t,l)};var Mt=U.JSON.stringify;function gn(){var s=q;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Fn=new class an{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mr,s=>s.reset());class mr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Je(s){var e=1;s=s.split(":");const t=[];for(;0<e&&s.length;)t.push(s.shift()),e--;return s.length&&t.push(s.join(":")),t}function de(s){U.setTimeout(()=>{throw s},0)}let K,z=!1,q=new class pr{constructor(){this.h=this.g=null}add(e,t){const l=Fn.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}},Oe=()=>{const s=U.Promise.resolve(void 0);K=()=>{s.then(st)}};var st=()=>{for(var s;s=gn();){try{s.h.call(s.g)}catch(t){de(t)}var e=Fn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}z=!1};function Le(s,e){jt.call(this),this.h=s||1,this.g=e||U,this.j=Ee(this.qb,this),this.l=Date.now()}function ht(s){s.ga=!1,s.T&&(s.g.clearTimeout(s.T),s.T=null)}function It(s,e,t){if("function"==typeof s)t&&(s=Ee(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Ee(s.handleEvent,s)}return 2147483647<Number(e)?-1:U.setTimeout(s,e||0)}function Gt(s){s.g=It(()=>{s.g=null,s.i&&(s.i=!1,Gt(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}it(Le,jt),(Ce=Le.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-s):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fe(this,"tick"),this.ga&&(ht(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){Le.$.N.call(this),ht(this),delete this.g};class zt extends Ge{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(s){Ge.call(this),this.h=s,this.g={}}it(rn,Ge);var un=[];function Wn(s,e,t,l){Array.isArray(t)||(t&&(un[0]=t.toString()),t=un);for(var h=0;h<t.length;h++){var m=vn(e,t[h],l||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function zn(s){rr(s.g,function(e,t){this.g.hasOwnProperty(t)&&kr(e)},s),s.g={}}function Dt(){this.g=!0}function _n(s,e,t,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xn(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var l=t[s];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var E=1;E<h.length;E++)h[E]=""}}}return Mt(t)}catch{return e}}(s,t)+(l?" "+l:"")})}rn.prototype.N=function(){rn.$.N.call(this),zn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dt.prototype.Ea=function(){this.g=!1},Dt.prototype.info=function(){};var Jn={},Wr=null;function _r(){return Wr=Wr||new jt}function or(s){xe.call(this,Jn.Ta,s)}function Zn(s){const e=_r();fe(e,new or(e))}function hi(s,e){xe.call(this,Jn.STAT_EVENT,s),this.stat=e}function mi(s){const e=_r();fe(e,new hi(e,s))}function Ds(s,e){xe.call(this,Jn.Ua,s),this.size=e}function yi(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){s()},e)}Jn.Ta="serverreachability",it(or,xe),Jn.STAT_EVENT="statevent",it(hi,xe),Jn.Ua="timingevent",it(Ds,xe);var ns={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},js={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pi(){}function Cs(){}Pi.prototype.h=null;var W,Ji={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ps(){xe.call(this,"d")}function Zs(){xe.call(this,"c")}function ee(){}function _e(s,e,t,l){this.l=s,this.j=e,this.m=t,this.W=l||1,this.U=new rn(this),this.P=G,this.V=new Le(s=Fe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}it(ps,xe),it(Zs,xe),it(ee,Pi),ee.prototype.g=function(){return new XMLHttpRequest},ee.prototype.i=function(){return{}},W=new ee;var G=45e3,se={},Be={};function Xe(s,e,t){s.L=1,s.v=Qs(rs(e)),s.s=t,s.S=!0,dt(s,null)}function dt(s,e){s.G=Date.now(),Un(s),s.A=rs(s.v);var t=s.A,l=s.W;Array.isArray(l)||(l=[String(l)]),Br(t.i,"t",l),s.C=0,t=s.l.J,s.h=new oe,s.g=so(s.l,t?e:null,!s.s),0<s.O&&(s.M=new zt(Ee(s.Pa,s,s.g),s.O)),Wn(s.U,s.g,"readystatechange",s.nb),e=s.I?gr(s.I):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ha(s.A,s.u,s.s,e)):(s.u="GET",s.g.ha(s.A,s.u,null,e)),Zn(),function wt(s,e,t,l,h,m){s.info(function(){if(s.g)if(m)for(var E="",k=m.split("&"),Y=0;Y<k.length;Y++){var ie=k[Y].split("=");if(1<ie.length){var Se=ie[0];ie=ie[1];var nt=Se.split("_");E=2<=nt.length&&"type"==nt[1]?E+(Se+"=")+ie+"&":E+(Se+"=redacted&")}}else E=null;else E=m;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+t+"\n"+E})}(s.j,s.u,s.A,s.m,s.W,s.s)}function xt(s){return!!s.g&&"GET"==s.u&&2!=s.L&&s.l.Ha}function on(s,e,t){let h,l=!0;for(;!s.J&&s.C<t.length;){if(h=dn(s,t),h==Be){4==e&&(s.o=4,mi(14),l=!1),_n(s.j,s.m,null,"[Incomplete Response]");break}if(h==se){s.o=4,mi(15),_n(s.j,s.m,t,"[Invalid Chunk]"),l=!1;break}_n(s.j,s.m,h,null),Hr(s,h)}xt(s)&&h!=Be&&h!=se&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,mi(16),l=!1),s.i=s.i&&l,l?0<t.length&&!s.ba&&(s.ba=!0,(e=s.l).g==s&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),jr(e),e.M=!0,mi(11))):(_n(s.j,s.m,t,"[Invalid Chunked Response]"),Fi(s),Oi(s))}function dn(s,e){var t=s.C,l=e.indexOf("\n",t);return-1==l?Be:(t=Number(e.substring(t,l)),isNaN(t)?se:(l+=1)+t>e.length?Be:(e=e.slice(l,l+t),s.C=l+t,e))}function Un(s){s.Y=Date.now()+s.P,ar(s,s.P)}function ar(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=yi(Ee(s.lb,s),e)}function fi(s){s.B&&(U.clearTimeout(s.B),s.B=null)}function Oi(s){0==s.l.H||s.J||Qr(s.l,s)}function Fi(s){fi(s);var e=s.M;e&&"function"==typeof e.sa&&e.sa(),s.M=null,ht(s.V),zn(s.U),s.g&&(e=s.g,s.g=null,e.abort(),e.sa())}function Hr(s,e){try{var t=s.l;if(0!=t.H&&(t.g==s||gi(t.i,s)))if(!s.K&&gi(t.i,s)&&3==t.H){try{var l=t.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<s.G))break e;wr(t),Z(t)}pn(t),mi(18)}}else t.Fa=h[1],0<t.Fa-t.V&&37500>h[2]&&t.G&&0==t.A&&!t.v&&(t.v=yi(Ee(t.ib,t),6e3));if(1>=Bs(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Js(t,11)}else if((s.K||t.g==s)&&wr(t),!tt(e))for(h=t.Ja.g.parse(e),e=0;e<h.length;e++){let ie=h[e];if(t.V=ie[0],ie=ie[1],2==t.H)if("c"==ie[0]){t.K=ie[1],t.pa=ie[2];const Se=ie[3];null!=Se&&(t.ra=Se,t.l.info("VER="+t.ra));const nt=ie[4];null!=nt&&(t.Ga=nt,t.l.info("SVER="+t.Ga));const kt=ie[5];null!=kt&&"number"==typeof kt&&0<kt&&(t.L=l=1.5*kt,t.l.info("backChannelRequestTimeoutMs_="+l)),l=t;const Xt=s.g;if(Xt){const wn=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wn){var m=l.i;m.g||-1==wn.indexOf("spdy")&&-1==wn.indexOf("quic")&&-1==wn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(pa(m,m.h),m.h=null))}if(l.F){const jn=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;jn&&(l.Da=jn,An(l.I,l.F,jn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-s.G,t.l.info("Handshake RTT: "+t.S+"ms"));var E=s;if((l=t).wa=Es(l,l.J?l.pa:null,l.Y),E.K){ss(l.i,E);var k=E,Y=l.L;Y&&k.setTimeout(Y),k.B&&(fi(k),Un(k)),l.g=E}else Zt(l);0<t.j.length&&C(t)}else"stop"!=ie[0]&&"close"!=ie[0]||Js(t,7);else 3==t.H&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Js(t,7):xo(t):"noop"!=ie[0]&&t.h&&t.h.Aa(ie),t.A=0)}Zn()}catch{}}function Kr(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Ie(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function Er(s){if(s.ta&&"function"==typeof s.ta)return s.ta();if(!s.Z||"function"!=typeof s.Z){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Ie(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const l in s)e[t++]=l;return e}}}(s),l=function Cn(s){if(s.Z&&"function"==typeof s.Z)return s.Z();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Ie(s)){for(var e=[],t=s.length,l=0;l<t;l++)e.push(s[l]);return e}for(l in e=[],t=0,s)e[t++]=s[l];return e}(s),h=l.length,m=0;m<h;m++)e.call(void 0,l[m],t&&t[m],s)}(Ce=_e.prototype).setTimeout=function(s){this.P=s},Ce.nb=function(s){s=s.target;const e=this.M;e&&3==yr(s)?e.l():this.Pa(s)},Ce.Pa=function(s){try{if(s==this.g)e:{const Se=yr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Se)&&(3!=Se||Fe||this.g&&(this.h.h||this.g.ja()||Sr(this.g)))){this.J||4!=Se||7==e||Zn(),fi(this);var t=this.g.da();this.ca=t;t:if(xt(this)){var l=Sr(this.g);s="";var h=l.length,m=4==yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),Oi(this);var E="";break t}this.h.i=new U.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:m&&e==h-1});l.splice(0,h),this.h.g+=s,this.C=0,E=this.h.g}else E=this.g.ja();if(this.i=200==t,function Kt(s,e,t,l,h,m,E){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+E})}(this.j,this.u,this.A,this.m,this.W,Se,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(k)){var ie=k;break t}}ie=null}if(!(t=ie)){this.i=!1,this.o=3,mi(12),Fi(this),Oi(this);break e}_n(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,t)}this.S?(on(this,Se,E),Fe&&this.i&&3==Se&&(Wn(this.U,this.V,"tick",this.mb),this.V.start())):(_n(this.j,this.m,E,null),Hr(this,E)),4==Se&&Fi(this),this.i&&!this.J&&(4==Se?Qr(this.l,this):(this.i=!1,Un(this)))}else(function qi(s){const e={};s=(s.g&&2<=yr(s)&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<s.length;l++){if(tt(s[l]))continue;var t=Je(s[l]);const h=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[h]||[];e[h]=m,m.push(t)}!function fr(s,e){for(const t in s)e.call(void 0,s[t],t,s)}(e,function(l){return l.join(", ")})})(this.g),400==t&&0<E.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),Fi(this),Oi(this)}}}catch{}},Ce.mb=function(){if(this.g){var s=yr(this.g),e=this.g.ja();this.C<e.length&&(fi(this),on(this,s,e),this.i&&4!=s&&Un(this))}},Ce.cancel=function(){this.J=!0,Fi(this)},Ce.lb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function kn(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Zn(),mi(17)),Fi(this),this.o=2,Oi(this)):ar(this,this.Y-s)};var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pi(s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof pi){this.h=s.h,Ur(this,s.j),this.s=s.s,this.g=s.g,is(this,s.m),this.l=s.l;var e=s.i,t=new gs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),bs(this,t),this.o=s.o}else s&&(e=String(s).match(Ni))?(this.h=!1,Ur(this,e[1]||"",!0),this.s=Fs(e[2]||""),this.g=Fs(e[3]||"",!0),is(this,e[4]),this.l=Fs(e[5]||"",!0),bs(this,e[6]||"",!0),this.o=Fs(e[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}function rs(s){return new pi(s)}function Ur(s,e,t){s.j=t?Fs(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function is(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function bs(s,e,t){e instanceof gs?(s.i=e,function _o(s,e){e&&!s.j&&(es(s),s.i=null,s.g.forEach(function(t,l){var h=l.toLowerCase();l!=h&&(Uo(this,l),Br(this,h,t))},s)),s.j=e}(s.i,s.h)):(t||(e=Wi(e,Ro)),s.i=new gs(e,s.h))}function An(s,e,t){s.i.set(e,t)}function Qs(s){return An(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Fs(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Wi(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,Si),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Si(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}pi.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Wi(e,Ss,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Wi(e,Ss,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(Wi(t,"/"==t.charAt(0)?Ls:yo,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",Wi(t,vo)),s.join("")};var Ss=/[#\/\?@]/g,yo=/[#\?:]/g,Ls=/[#\?]/g,Ro=/[#\?@]/g,vo=/#/g;function gs(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function es(s){s.g||(s.g=new Map,s.h=0,s.i&&function Mo(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var l=s[t].indexOf("="),h=null;if(0<=l){var m=s[t].substring(0,l);h=s[t].substring(l+1)}else m=s[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Uo(s,e){es(s),e=Zo(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Ui(s,e){return es(s),e=Zo(s,e),s.g.has(e)}function Br(s,e,t){Uo(s,e),0<t.length&&(s.i=null,s.g.set(Zo(s,e),_t(t)),s.h+=t.length)}function Zo(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function ms(s){this.l=s||di,s=U.PerformanceNavigationTiming?0<(s=U.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().ec),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=gs.prototype).add=function(s,e){es(this),this.i=null,s=Zo(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},Ce.forEach=function(s,e){es(this),this.g.forEach(function(t,l){t.forEach(function(h){s.call(e,h,l,this)},this)},this)},Ce.ta=function(){es(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const h=s[l];for(let m=0;m<h.length;m++)t.push(e[l])}return t},Ce.Z=function(s){es(this);let e=[];if("string"==typeof s)Ui(this,s)&&(e=e.concat(this.g.get(Zo(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},Ce.set=function(s,e){return es(this),this.i=null,Ui(this,s=Zo(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Ce.get=function(s,e){return s&&0<(s=this.Z(s)).length?String(s[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const m=encodeURIComponent(String(l)),E=this.Z(l);for(l=0;l<E.length;l++){var h=m;""!==E[l]&&(h+="="+encodeURIComponent(String(E[l]))),s.push(h)}}return this.i=s.join("&")};var di=10;function Hs(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Bs(s){return s.h?1:s.g?s.g.size:0}function gi(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function pa(s,e){s.g?s.g.add(e):s.h=e}function ss(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function ji(s){if(null!=s.h)return s.i.concat(s.h.F);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.F);return e}return _t(s.i)}ms.prototype.cancel=function(){if(this.i=ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}};var Qo=class{stringify(s){return U.JSON.stringify(s,void 0)}parse(s){return U.JSON.parse(s,void 0)}};function os(){this.g=new Qo}function as(s,e,t){const l=t||"";try{Kr(s,function(h,m){let E=h;Ue(h)&&(E=Mt(h)),e.push(l+m+"="+encodeURIComponent(E))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function Ki(s,e,t,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch{}}function jo(s){this.l=s.fc||null,this.j=s.ob||!1}function ys(s,e){jt.call(this),this.F=s,this.u=e,this.m=void 0,this.readyState=zs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(jo,Pi),jo.prototype.g=function(){return new ys(this.l,this.j)},jo.prototype.i=function(s){return function(){return s}}({}),it(ys,jt);var zs=0;function Ho(s){s.j.read().then(s.Xa.bind(s)).catch(s.ka.bind(s))}function Ti(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Gs(s)}function Gs(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ce=ys.prototype).open=function(s,e){if(this.readyState!=zs)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Gs(this)},Ce.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ti(this)),this.readyState=zs},Ce.$a=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ho(this)}else s.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Ti(this):Gs(this),3==this.readyState&&Ho(this)}},Ce.Za=function(s){this.g&&(this.response=this.responseText=s,Ti(this))},Ce.Ya=function(s){this.g&&(this.response=s,Ti(this))},Ce.ka=function(){this.g&&Ti(this)},Ce.setRequestHeader=function(s,e){this.v.append(s,e)},Ce.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var vs=U.JSON.parse;function Ai(s){jt.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ia,this.L=this.M=!1}it(Ai,jt);var ia="",S=/^https?$/i,ne=["POST","PUT"];function Q(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Re(s),Nn(s)}function Re(s){s.F||(s.F=!0,fe(s,"complete"),fe(s,"error"))}function qt(s){if(s.h&&typeof $e<"u"&&(!s.C[1]||4!=yr(s)||2!=s.da()))if(s.v&&4==yr(s))It(s.La,0,s);else if(fe(s,"readystatechange"),4==yr(s)){s.h=!1;try{const E=s.da();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===E){var h=String(s.I).match(Ni)[1]||null;!h&&U.self&&U.self.location&&(h=U.self.location.protocol.slice(0,-1)),l=!S.test(h?h.toLowerCase():"")}t=l}if(t)fe(s,"complete"),fe(s,"success");else{s.m=6;try{var m=2<yr(s)?s.g.statusText:""}catch{m=""}s.j=m+" ["+s.da()+"]",Re(s)}}finally{Nn(s)}}}function Nn(s,e){if(s.g){er(s);const t=s.g,l=s.C[0]?()=>{}:null;s.g=null,s.C=null,e||fe(s,"ready");try{t.onreadystatechange=l}catch{}}}function er(s){s.g&&s.L&&(s.g.ontimeout=null),s.A&&(U.clearTimeout(s.A),s.A=null)}function yr(s){return s.g?s.g.readyState:0}function Sr(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.K){case ia:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(s){let e="";return rr(s,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function ls(s,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=Ts(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):An(s,e,t))}function _s(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Ws(s){this.Ga=0,this.j=[],this.l=new Dt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_s("failFast",!1,s),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_s("baseRetryDelayMs",5e3,s),this.hb=_s("retryDelaySeedMs",1e4,s),this.eb=_s("forwardChannelMaxRetries",2,s),this.xa=_s("forwardChannelRequestTimeoutMs",2e4,s),this.va=s&&s.xmlHttpFactory||void 0,this.Ha=s&&s.dc||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.i=new ms(s&&s.concurrentRequestLimit),this.Ja=new os,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=s&&s.bc||!1,s&&s.Ea&&this.l.Ea(),s&&s.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&s&&s.detectBufferingProxy||!1,this.qa=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.qa=s.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xo(s){if(j(s),3==s.H){var e=s.W++,t=rs(s.I);if(An(t,"SID",s.K),An(t,"RID",e),An(t,"TYPE","terminate"),ot(s,t),(e=new _e(s,s.l,e)).L=2,e.v=Qs(rs(t)),t=!1,U.navigator&&U.navigator.sendBeacon)try{t=U.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&U.Image&&((new Image).src=e.v,t=!0),t||(e.g=so(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Un(e)}As(s)}function Z(s){s.g&&(jr(s),s.g.cancel(),s.g=null)}function j(s){Z(s),s.u&&(U.clearTimeout(s.u),s.u=null),wr(s),s.i.cancel(),s.m&&("number"==typeof s.m&&U.clearTimeout(s.m),s.m=null)}function C(s){if(!Hs(s.i)&&!s.m){s.m=!0;var e=s.Na;K||Oe(),z||(K(),z=!0),q.add(e,s),s.C=0}}function pe(s,e){var t;t=e?e.m:s.W++;const l=rs(s.I);An(l,"SID",s.K),An(l,"RID",t),An(l,"AID",s.V),ot(s,l),s.o&&s.s&&ls(l,s.o,s.s),t=new _e(s,s.l,t,s.C+1),null===s.o&&(t.I=s.s),e&&(s.j=e.F.concat(s.j)),e=Bt(s,t,1e3),t.setTimeout(Math.round(.5*s.xa)+Math.round(.5*s.xa*Math.random())),pa(s.i,t),Xe(t,l,e)}function ot(s,e){s.na&&rr(s.na,function(t,l){An(e,l,t)}),s.h&&Kr({},function(t,l){An(e,l,t)})}function Bt(s,e,t){t=Math.min(s.j.length,t);var l=s.h?Ee(s.h.Va,s.h,s):null;e:{var h=s.j;let m=-1;for(;;){const E=["count="+t];-1==m?0<t?(m=h[0].g,E.push("ofs="+m)):m=0:E.push("ofs="+m);let k=!0;for(let Y=0;Y<t;Y++){let ie=h[Y].g;const Se=h[Y].map;if(ie-=m,0>ie)m=Math.max(0,h[Y].g-100),k=!1;else try{as(Se,E,"req"+ie+"_")}catch{l&&l(Se)}}if(k){l=E.join("&");break e}}}return s=s.j.splice(0,t),e.F=s,l}function Zt(s){if(!s.g&&!s.u){s.ba=1;var e=s.Ma;K||Oe(),z||(K(),z=!0),q.add(e,s),s.A=0}}function pn(s){return!(s.g||s.u||3<=s.A||(s.ba++,s.u=yi(Ee(s.Ma,s),xr(s,s.A)),s.A++,0))}function jr(s){null!=s.B&&(U.clearTimeout(s.B),s.B=null)}function Rr(s){s.g=new _e(s,s.l,"rpc",s.ba),null===s.o&&(s.g.I=s.s),s.g.O=0;var e=rs(s.wa);An(e,"RID","rpc"),An(e,"SID",s.K),An(e,"AID",s.V),An(e,"CI",s.G?"0":"1"),!s.G&&s.qa&&An(e,"TO",s.qa),An(e,"TYPE","xmlhttp"),ot(s,e),s.o&&s.s&&ls(e,s.o,s.s),s.L&&s.g.setTimeout(s.L);var t=s.g;s=s.pa,t.L=1,t.v=Qs(rs(e)),t.s=null,t.S=!0,dt(t,s)}function wr(s){null!=s.v&&(U.clearTimeout(s.v),s.v=null)}function Qr(s,e){var t=null;if(s.g==e){wr(s),jr(s),s.g=null;var l=2}else{if(!gi(s.i,e))return;t=e.F,ss(s.i,e),l=1}if(0!=s.H)if(e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.G;var h=s.C;fe(l=_r(),new Ds(l,t)),C(s)}else Zt(s);else if(3==(h=e.o)||0==h&&0<e.ca||!(1==l&&function N(s,e){return!(Bs(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.j=e.F.concat(s.j),0):1==s.H||2==s.H||s.C>=(s.cb?0:s.eb)||(s.m=yi(Ee(s.Na,s,e),xr(s,s.C)),s.C++,0)))}(s,e)||2==l&&pn(s)))switch(t&&0<t.length&&(e=s.i,e.i=e.i.concat(t)),h){case 1:Js(s,5);break;case 4:Js(s,10);break;case 3:Js(s,6);break;default:Js(s,2)}}function xr(s,e){let t=s.ab+Math.floor(Math.random()*s.hb);return s.isActive()||(t*=2),t*e}function Js(s,e){if(s.l.info("Error code "+e),2==e){var t=null;s.h&&(t=null);var l=Ee(s.pb,s);t||(t=new pi("//www.google.com/images/cleardot.gif"),U.location&&"http"==U.location.protocol||Ur(t,"https"),Qs(t)),function Xs(s,e){const t=new Dt;if(U.Image){const l=new Image;l.onload=vt(Ki,t,l,"TestLoadImage: loaded",!0,e),l.onerror=vt(Ki,t,l,"TestLoadImage: error",!1,e),l.onabort=vt(Ki,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=vt(Ki,t,l,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(t.toString(),l)}else mi(2);s.H=0,s.h&&s.h.za(e),As(s),j(s)}function As(s){if(s.H=0,s.ma=[],s.h){const e=ji(s.i);(0!=e.length||0!=s.j.length)&&(Ye(s.ma,e),Ye(s.ma,s.j),s.i.i.length=0,_t(s.j),s.j.length=0),s.h.ya()}}function Es(s,e,t){var l=t instanceof pi?rs(t):new pi(t);if(""!=l.g)e&&(l.g=e+"."+l.g),is(l,l.m);else{var h=U.location;l=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new pi(null);l&&Ur(m,l),e&&(m.g=e),h&&is(m,h),t&&(m.l=t),l=m}return e=s.Da,(t=s.F)&&e&&An(l,t,e),An(l,"VER",s.ra),ot(s,l),l}function so(s,e,t){if(e&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ai(t&&s.Ha&&!s.va?new jo({ob:!0}):s.va)).Oa(s.J),e}function sa(){}function Mi(){if(We&&!(10<=Number(Jt)))throw Error("Environmental error: no available transport.")}function Hi(s,e){jt.call(this),this.g=new Ws(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(s?s["X-WebChannel-Client-Profile"]=e.Ca:s={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=s,(s=e&&e.cc)&&!tt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tt(e)&&(this.g.F=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new ul(this)}function ll(s){ps.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function eo(){Zs.call(this),this.status=1}function ul(s){this.g=s}function oa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cl(s,e,t){t||(t=0);var l=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)l[h]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(h=0;16>h;++h)l[h]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=s.g[3],E=(e=s.g[0])+(m^(t=s.g[1])&((h=s.g[2])^m))+l[0]+3614090360&4294967295;E=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=t+(E<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[1]+3905402710&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[2]+606105819&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[3]+3250441966&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[4]+4118548399&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[5]+1200080426&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[6]+2821735955&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[7]+4249261313&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[8]+1770035416&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[9]+2336552879&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[10]+4294925233&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[11]+2304563134&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[12]+1804603682&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[13]+4254626195&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[14]+2792965006&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[15]+1236535329&4294967295)<<22&4294967295|E>>>10))+((E=e+(h^m&(t^h))+l[1]+4129170786&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[6]+3225465664&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[11]+643717713&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[0]+3921069994&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[5]+3593408605&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[10]+38016083&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[15]+3634488961&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[4]+3889429448&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[9]+568446438&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[14]+3275163606&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[3]+4107603335&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[8]+1163531501&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[13]+2850285829&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[2]+4243563512&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[7]+1735328473&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[12]+2368359562&4294967295)<<20&4294967295|E>>>12))+((E=e+(t^h^m)+l[5]+4294588738&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[8]+2272392833&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[11]+1839030562&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[14]+4259657740&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[1]+2763975236&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[4]+1272893353&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[7]+4139469664&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[10]+3200236656&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[13]+681279174&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[0]+3936430074&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[3]+3572445317&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[6]+76029189&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[9]+3654602809&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[12]+3873151461&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[15]+530742520&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[2]+3299628645&4294967295)<<23&4294967295|E>>>9))+((E=e+(h^(t|~m))+l[0]+4096336452&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[7]+1126891415&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[14]+2878612391&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[5]+4237533241&4294967295)<<21&4294967295|E>>>11))+((E=e+(h^(t|~m))+l[12]+1700485571&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[3]+2399980690&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[10]+4293915773&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[1]+2240044497&4294967295)<<21&4294967295|E>>>11))+((E=e+(h^(t|~m))+l[8]+1873313359&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[15]+4264355552&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[6]+2734768916&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[13]+1309151649&4294967295)<<21&4294967295|E>>>11))+((m=(e=t+((E=e+(h^(t|~m))+l[4]+4149444226&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[11]+3174756917&4294967295)<<10&4294967295|E>>>22))^((h=m+((E=h+(e^(m|~t))+l[2]+718787259&4294967295)<<15&4294967295|E>>>17))|~e))+l[9]+3951481745&4294967295,s.g[0]=s.g[0]+e&4294967295,s.g[1]=s.g[1]+(h+(E<<21&4294967295|E>>>11))&4294967295,s.g[2]=s.g[2]+h&4294967295,s.g[3]=s.g[3]+m&4294967295}function vi(s,e){this.h=e;for(var t=[],l=!0,h=s.length-1;0<=h;h--){var m=0|s[h];l&&m==e||(t[h]=m,l=!1)}this.g=t}(Ce=Ai.prototype).Oa=function(s){this.M=s},Ce.ha=function(s,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+s);e=e?e.toUpperCase():"GET",this.I=s,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():W.g(),this.C=function ti(s){return s.h||(s.h=s.i())}(this.u?this.u:W),this.g.onreadystatechange=Ee(this.La,this);try{this.G=!0,this.g.open(e,String(s),!0),this.G=!1}catch(m){return void Q(this,m)}if(s=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var h in l)t.set(h,l[h]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const m of l.keys())t.set(m,l.get(m))}l=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=U.FormData&&s instanceof U.FormData,!(0<=ft(ne,e))||l||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,E]of t)this.g.setRequestHeader(m,E);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{er(this),0<this.B&&((this.L=function T(s){return We&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.ua,this)):this.A=It(this.ua,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){Q(this,m)}},Ce.ua=function(){typeof $e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fe(this,"timeout"),this.abort(8))},Ce.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,fe(this,"complete"),fe(this,"abort"),Nn(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),Ai.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?qt(this):this.kb())},Ce.kb=function(){qt(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),vs(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=Ws.prototype).ra=8,Ce.H=1,Ce.Na=function(s){if(this.m)if(this.m=null,1==this.H){if(!s){this.W=Math.floor(1e5*Math.random()),s=this.W++;const h=new _e(this,this.l,s);let m=this.s;if(this.U&&(m?(m=gr(m),Lr(m,this.U)):m=this.U),null!==this.o||this.O||(h.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var l=this.j[t];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Bt(this,h,e),An(t=rs(this.I),"RID",s),An(t,"CVER",22),this.F&&An(t,"X-HTTP-Session-Id",this.F),ot(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(Ts(m)))+"&"+e:this.o&&ls(t,this.o,m)),pa(this.i,h),this.bb&&An(t,"TYPE","init"),this.P?(An(t,"$req",e),An(t,"SID","null"),h.aa=!0,Xe(h,t,null)):Xe(h,t,e),this.H=2}}else 3==this.H&&(s?pe(this,s):0==this.j.length||Hs(this.i)||pe(this))},Ce.Ma=function(){if(this.u=null,Rr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var s=2*this.S;this.l.info("BP detection timer enabled: "+s),this.B=yi(Ee(this.jb,this),s)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mi(10),Z(this),Rr(this))},Ce.ib=function(){null!=this.v&&(this.v=null,Z(this),pn(this),mi(19))},Ce.pb=function(s){s?(this.l.info("Successfully pinged google.com"),mi(2)):(this.l.info("Failed to ping google.com"),mi(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=sa.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},Mi.prototype.g=function(s,e){return new Hi(s,e)},it(Hi,jt),Hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var s=this.g,e=this.l,t=this.h||void 0;mi(0),s.Y=e,s.na=t||{},s.G=s.aa,s.I=Es(s,null,s.Y),C(s)},Hi.prototype.close=function(){xo(this.g)},Hi.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=Mt(s),s=t);e.j.push(new class{constructor(s,e){this.g=s,this.map=e}}(e.fb++,s)),3==e.H&&C(e)},Hi.prototype.N=function(){this.g.h=null,delete this.j,xo(this.g),delete this.g,Hi.$.N.call(this)},it(ll,ps),it(eo,Zs),it(ul,sa),ul.prototype.Ba=function(){fe(this.g,"a")},ul.prototype.Aa=function(s){fe(this.g,new ll(s))},ul.prototype.za=function(s){fe(this.g,new eo)},ul.prototype.ya=function(){fe(this.g,"b")},it(oa,function Ga(){this.blockSize=-1}),oa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},oa.prototype.j=function(s,e){void 0===e&&(e=s.length);for(var t=e-this.blockSize,l=this.m,h=this.h,m=0;m<e;){if(0==h)for(;m<=t;)cl(this,s,m),m+=this.blockSize;if("string"==typeof s){for(;m<e;)if(l[h++]=s.charCodeAt(m++),h==this.blockSize){cl(this,l),h=0;break}}else for(;m<e;)if(l[h++]=s[m++],h==this.blockSize){cl(this,l),h=0;break}}this.h=h,this.i+=e},oa.prototype.l=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var e=1;e<s.length-8;++e)s[e]=0;var t=8*this.i;for(e=s.length-8;e<s.length;++e)s[e]=255&t,t/=256;for(this.j(s),s=Array(16),e=t=0;4>e;++e)for(var l=0;32>l;l+=8)s[t++]=this.g[e]>>>l&255;return s};var Fu={};function Sc(s){return-128<=s&&128>s?function Pe(s,e){var t=Fu;return Object.prototype.hasOwnProperty.call(t,s)?t[s]:t[s]=e(s)}(s,function(e){return new vi([0|e],0>e?-1:0)}):new vi([0|s],0>s?-1:0)}function zo(s){if(isNaN(s)||!isFinite(s))return ga;if(0>s)return $s(zo(-s));for(var e=[],t=1,l=0;s>=t;l++)e[l]=s/t|0,t*=Aa;return new vi(e,0)}var Aa=4294967296,ga=Sc(0),dl=Sc(1),Tc=Sc(16777216);function us(s){if(0!=s.h)return!1;for(var e=0;e<s.g.length;e++)if(0!=s.g[e])return!1;return!0}function oo(s){return-1==s.h}function $s(s){for(var e=s.g.length,t=[],l=0;l<e;l++)t[l]=~s.g[l];return new vi(t,~s.h).add(dl)}function Ii(s,e){return s.add($s(e))}function Ml(s,e){for(;(65535&s[e])!=s[e];)s[e+1]+=s[e]>>>16,s[e]&=65535,e++}function ma(s,e){this.g=s,this.h=e}function cs(s,e){if(us(e))throw Error("division by zero");if(us(s))return new ma(ga,ga);if(oo(s))return e=cs($s(s),e),new ma($s(e.g),$s(e.h));if(oo(e))return e=cs(s,$s(e)),new ma($s(e.g),e.h);if(30<s.g.length){if(oo(s)||oo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=dl,l=e;0>=l.X(s);)t=Lu(t),l=Lu(l);var h=Ka(t,1),m=Ka(l,1);for(l=Ka(l,2),t=Ka(t,2);!us(l);){var E=m.add(l);0>=E.X(s)&&(h=h.add(t),m=E),l=Ka(l,1),t=Ka(t,1)}return e=Ii(s,h.R(e)),new ma(h,e)}for(h=ga;0<=s.X(e);){for(t=Math.max(1,Math.floor(s.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,l-48),E=(m=zo(t)).R(e);oo(E)||0<E.X(s);)E=(m=zo(t-=l)).R(e);us(m)&&(m=dl),h=h.add(m),s=Ii(s,E)}return new ma(h,s)}function Lu(s){for(var e=s.g.length+1,t=[],l=0;l<e;l++)t[l]=s.D(l)<<1|s.D(l-1)>>>31;return new vi(t,s.h)}function Ka(s,e){var t=e>>5;e%=32;for(var l=s.g.length-t,h=[],m=0;m<l;m++)h[m]=0<e?s.D(m+t)>>>e|s.D(m+t+1)<<32-e:s.D(m+t);return new vi(h,s.h)}(Ce=vi.prototype).ea=function(){if(oo(this))return-$s(this).ea();for(var s=0,e=1,t=0;t<this.g.length;t++){var l=this.D(t);s+=(0<=l?l:Aa+l)*e,e*=Aa}return s},Ce.toString=function(s){if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if(us(this))return"0";if(oo(this))return"-"+$s(this).toString(s);for(var e=zo(Math.pow(s,6)),t=this,l="";;){var h=cs(t,e).g,m=((0<(t=Ii(t,h.R(e))).g.length?t.g[0]:t.h)>>>0).toString(s);if(us(t=h))return m+l;for(;6>m.length;)m="0"+m;l=m+l}},Ce.D=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h},Ce.X=function(s){return oo(s=Ii(this,s))?-1:us(s)?0:1},Ce.abs=function(){return oo(this)?$s(this):this},Ce.add=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0,h=0;h<=e;h++){var m=l+(65535&this.D(h))+(65535&s.D(h)),E=(m>>>16)+(this.D(h)>>>16)+(s.D(h)>>>16);l=E>>>16,t[h]=(E&=65535)<<16|(m&=65535)}return new vi(t,-2147483648&t[t.length-1]?-1:0)},Ce.R=function(s){if(us(this)||us(s))return ga;if(oo(this))return oo(s)?$s(this).R($s(s)):$s($s(this).R(s));if(oo(s))return $s(this.R($s(s)));if(0>this.X(Tc)&&0>s.X(Tc))return zo(this.ea()*s.ea());for(var e=this.g.length+s.g.length,t=[],l=0;l<2*e;l++)t[l]=0;for(l=0;l<this.g.length;l++)for(var h=0;h<s.g.length;h++){var m=this.D(l)>>>16,E=65535&this.D(l),k=s.D(h)>>>16,Y=65535&s.D(h);t[2*l+2*h]+=E*Y,Ml(t,2*l+2*h),t[2*l+2*h+1]+=m*Y,Ml(t,2*l+2*h+1),t[2*l+2*h+1]+=E*k,Ml(t,2*l+2*h+1),t[2*l+2*h+2]+=m*k,Ml(t,2*l+2*h+2)}for(l=0;l<e;l++)t[l]=t[2*l+1]<<16|t[2*l];for(l=e;l<2*e;l++)t[l]=0;return new vi(t,0)},Ce.gb=function(s){return cs(this,s).h},Ce.and=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)&s.D(l);return new vi(t,this.h&s.h)},Ce.or=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)|s.D(l);return new vi(t,this.h|s.h)},Ce.xor=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)^s.D(l);return new vi(t,this.h^s.h)},Mi.prototype.createWebChannel=Mi.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,js.COMPLETE="complete",Cs.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",jt.prototype.listen=jt.prototype.O,Ai.prototype.listenOnce=Ai.prototype.P,Ai.prototype.getLastError=Ai.prototype.Sa,Ai.prototype.getLastErrorCode=Ai.prototype.Ia,Ai.prototype.getStatus=Ai.prototype.da,Ai.prototype.getResponseJson=Ai.prototype.Wa,Ai.prototype.getResponseText=Ai.prototype.ja,Ai.prototype.send=Ai.prototype.ha,Ai.prototype.setWithCredentials=Ai.prototype.Oa,oa.prototype.digest=oa.prototype.l,oa.prototype.reset=oa.prototype.reset,oa.prototype.update=oa.prototype.j,vi.prototype.add=vi.prototype.add,vi.prototype.multiply=vi.prototype.R,vi.prototype.modulo=vi.prototype.gb,vi.prototype.compare=vi.prototype.X,vi.prototype.toNumber=vi.prototype.ea,vi.prototype.toString=vi.prototype.toString,vi.prototype.getBits=vi.prototype.D,vi.fromNumber=zo,vi.fromString=function Wa(s,e){if(0==s.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==s.charAt(0))return $s(Wa(s.substring(1),e));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=zo(Math.pow(e,8)),l=ga,h=0;h<s.length;h+=8){var m=Math.min(8,s.length-h),E=parseInt(s.substring(h,h+m),e);8>m?(m=zo(Math.pow(e,m)),l=l.R(m).add(zo(E))):l=(l=l.R(t)).add(zo(E))}return l};var qa=he.createWebChannelTransport=function(){return new Mi},Po=he.getStatEventTarget=function(){return _r()},Bu=he.ErrorCode=ns,Rl=he.EventType=js,V=he.Event=Jn,re=he.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},H=he.FetchXmlHttpFactory=jo,me=he.WebChannel=Cs,Ke=he.XhrIo=Ai,Ut=he.Md5=oa,Yt=he.Integer=vi;const Qn="@firebase/firestore";class yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let zr="9.22.1";const Pr=new ye.Yd("@firebase/firestore");function Fr(){return Pr.logLevel}function ts(s){Pr.setLogLevel(s)}function Qt(s,...e){if(Pr.logLevel<=ye.in.DEBUG){const t=e.map(ds);Pr.debug(`Firestore (${zr}): ${s}`,...t)}}function Gr(s,...e){if(Pr.logLevel<=ye.in.ERROR){const t=e.map(ds);Pr.error(`Firestore (${zr}): ${s}`,...t)}}function ws(s,...e){if(Pr.logLevel<=ye.in.WARN){const t=e.map(ds);Pr.warn(`Firestore (${zr}): ${s}`,...t)}}function ds(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function Ln(s="Unexpected state"){const e=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: `+s;throw Gr(e),new Error(e)}function Gn(s,e){s||Ln()}function ya(s,e){s||Ln()}function Mn(s,e){return s}const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ru{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Is{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class pd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xl{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let h=this.i;const m=ie=>this.i!==h?(h=this.i,t(ie)):Promise.resolve();let E=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Ks,e.enqueueRetryable(()=>m(this.currentUser))};const k=()=>{const ie=E;e.enqueueRetryable((0,y.Z)(function*(){yield ie.promise,yield m(l.currentUser)}))},Y=ie=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ie=>Y(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?Y(ie):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Ks)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Gn("string"==typeof l.accessToken),new ru(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gn(null===e||"string"==typeof e),new yn(e)}}class Ya{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Pl{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new Ya(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Za{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ac{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const l=m=>{null!=m.error&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.T;return this.T=m.token,Qt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>l(m))};const h=m=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gn("string"==typeof t.token),this.T=t.token,new Za(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vf(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<s;l++)t[l]=Math.floor(256*Math.random());return t}class ai{static A(){const t=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=vf(40);for(let m=0;m<h.length;++m)l.length<20&&h[m]<t&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return l}}function ir(s,e){return s<e?-1:s>e?1:0}function va(s,e,t){return s.length===e.length&&s.every((l,h)=>t(l,e[h]))}function Ol(s){return s+"\0"}class _i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Vt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _i.fromMillis(Date.now())}static fromDate(e){return _i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new _i(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ir(this.nanoseconds,e.nanoseconds):ir(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dr(e)}static min(){return new dr(new _i(0,0))}static max(){return new dr(new _i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nl{constructor(e,t,l){void 0===t?t=0:t>e.length&&Ln(),void 0===l?l=e.length-t:l>e.length-t&&Ln(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===Nl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let h=0;h<l;h++){const m=e.get(h),E=t.get(h);if(m<E)return-1;if(m>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ri extends Nl{construct(e,t,l){return new ri(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new Vt(Ze.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(h=>h.length>0))}return new ri(t)}static emptyPath(){return new ri([])}}const Rc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends Nl{construct(e,t,l){return new zi(e,t,l)}static isValidIdentifier(e){return Rc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zi(["__name__"])}static fromServerFormat(e){const t=[];let l="",h=0;const m=()=>{if(0===l.length)throw new Vt(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let E=!1;for(;h<e.length;){const k=e[h];if("\\"===k){if(h+1===e.length)throw new Vt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[h+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new Vt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=Y,h+=2}else"`"===k?(E=!E,h++):"."!==k||E?(l+=k,h++):(m(),h++)}if(m(),E)throw new Vt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(t)}static emptyPath(){return new zi([])}}class On{constructor(e){this.path=e}static fromPath(e){return new On(ri.fromString(e))}static fromName(e){return new On(ri.fromString(e).popFirst(5))}static empty(){return new On(ri.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ri.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ri.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new On(new ri(e.slice()))}}class hl{constructor(e,t,l,h){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=h}}function Ma(s){return s.fields.find(e=>2===e.kind)}function fl(s){return s.fields.filter(e=>2!==e.kind)}hl.UNKNOWN_ID=-1;class Qa{constructor(e,t){this.fieldPath=e,this.kind=t}}class kl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kl(0,Ir.min())}}function Ei(s,e){const t=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,h=dr.fromTimestamp(1e9===l?new _i(t+1,0):new _i(t,l));return new Ir(h,On.empty(),e)}function li(s){return new Ir(s.readTime,s.key,-1)}class Ir{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new Ir(dr.min(),On.empty(),-1)}static max(){return new Ir(dr.max(),On.empty(),-1)}}function Ra(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=On.comparator(s.documentKey,e.documentKey),0!==t?t:ir(s.largestBatchId,e.largestBatchId))}const Yi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class to{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Go(s){return Li.apply(this,arguments)}function Li(){return Li=(0,y.Z)(function*(s){if(s.code!==Ze.FAILED_PRECONDITION||s.message!==Yi)throw s;Qt("LocalStore","Unexpectedly lost primary lease")}),Li.apply(this,arguments)}class Ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ft((l,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(l,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(l,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ft?t:Ft.resolve(t)}catch(t){return Ft.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ft.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ft.reject(t)}static resolve(e){return new Ft((t,l)=>{t(e)})}static reject(e){return new Ft((t,l)=>{l(e)})}static waitFor(e){return new Ft((t,l)=>{let h=0,m=0,E=!1;e.forEach(k=>{++h,k.next(()=>{++m,E&&m===h&&t()},Y=>l(Y))}),E=!0,m===h&&t()})}static or(e){let t=Ft.resolve(!1);for(const l of e)t=t.next(h=>h?Ft.resolve(h):l());return t}static forEach(e,t){const l=[];return e.forEach((h,m)=>{l.push(t.call(this,h,m))}),this.waitFor(l)}static mapArray(e,t){return new Ft((l,h)=>{const m=e.length,E=new Array(m);let k=0;for(let Y=0;Y<m;Y++){const ie=Y;t(e[ie]).next(Se=>{E[ie]=Se,++k,k===m&&l(E)},Se=>h(Se))}})}static doWhile(e,t){return new Ft((l,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):l()};m()})}}class Zi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ks,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new $u(e,t.error)):this.v.resolve()},this.transaction.onerror=l=>{const h=Vu(l.target.error);this.v.reject(new $u(e,h))}}static open(e,t,l,h){try{return new Zi(t,e.transaction(h,l))}catch(m){throw new $u(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Wo(t)}}class Tr{constructor(e,t,l){this.name=e,this.version=t,this.V=l,12.2===Tr.S((0,be.z$)())&&Gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qt("SimpleDb","Removing database:",e),Fo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,be.hl)())return!1;if(Tr.C())return!0;const e=(0,be.z$)(),t=Tr.S(e),l=0<t&&t<10,h=Tr.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(e){var t=this;return(0,y.Z)(function*(){return t.db||(Qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=E=>{l(E.target.result)},m.onblocked=()=>{h(new $u(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const k=E.target.error;h("VersionError"===k.name?new Vt(Ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new Vt(Ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new $u(e,k))},m.onupgradeneeded=E=>{Qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.V.O(E.target.result,m.transaction,E.oldVersion,t.version).next(()=>{Qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=l=>t.F(l)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,h){var m=this;return(0,y.Z)(function*(){const E="readonly"===t;let k=0;for(;;){++k;try{m.db=yield m.$(e);const Y=Zi.open(m.db,e,E?"readonly":"readwrite",l),ie=h(Y).next(Se=>(Y.P(),Se)).catch(Se=>(Y.abort(Se),Ft.reject(Se))).toPromise();return ie.catch(()=>{}),yield Y.R,ie}catch(Y){const ie=Y,Se="FirebaseError"!==ie.name&&k<3;if(Qt("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",Se),m.close(),!Se)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ao{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Fo(this.L.delete())}}class $u extends Vt{constructor(e,t){super(Ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xa(s){return"IndexedDbTransactionError"===s.name}class Wo{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(Qt("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Fo(l)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),Fo(this.store.add(e))}get(e){return Fo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),Fo(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),Fo(this.store.count())}j(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),m=[];return this.W(h,(E,k)=>{m.push(k)}).next(()=>m)}{const h=this.store.getAll(l.range);return new Ft((m,E)=>{h.onerror=k=>{E(k.target.error)},h.onsuccess=k=>{m(k.target.result)}})}}H(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new Ft((h,m)=>{l.onerror=E=>{m(E.target.error)},l.onsuccess=E=>{h(E.target.result)}})}J(e,t){Qt("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.Y=!1;const h=this.cursor(l);return this.W(h,(m,E,k)=>k.delete())}X(e,t){let l;t?l=e:(l={},t=e);const h=this.cursor(l);return this.W(h,t)}Z(e){const t=this.cursor({});return new Ft((l,h)=>{t.onerror=m=>{const E=Vu(m.target.error);h(E)},t.onsuccess=m=>{const E=m.target.result;E?e(E.primaryKey,E.value).next(k=>{k?E.continue():l()}):l()}})}W(e,t){const l=[];return new Ft((h,m)=>{e.onerror=E=>{m(E.target.error)},e.onsuccess=E=>{const k=E.target.result;if(!k)return void h();const Y=new ao(k),ie=t(k.primaryKey,k.value,Y);if(ie instanceof Ft){const Se=ie.catch(nt=>(Y.done(),Ft.reject(nt)));l.push(Se)}Y.isDone?h():null===Y.K?k.continue():k.continue(Y.K)}}).next(()=>Ft.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fo(s){return new Ft((e,t)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const h=Vu(l.target.error);t(h)}})}let _f=!1;function Vu(s){const e=Tr.S((0,be.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const l=new Vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _f||(_f=!0,setTimeout(()=>{throw l},0)),l}}return s}class M{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.Z)(function*(){t.task=null;try{Qt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(l){xa(l)?Qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield Go(l)}yield t.et(6e4)}))}}class O{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.st(l,e))})()}st(e,t){const l=new Set;let h=t,m=!0;return Ft.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!l.has(E))return Qt("IndexBackiller",`Processing collection: ${E}`),this.it(e,E,h).next(k=>{h-=k,l.add(E)});m=!1})).next(()=>t-h)}it(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,l).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.rt(h,m)).next(k=>(Qt("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>E.size)}))}rt(e,t){let l=e;return t.changes.forEach((h,m)=>{const E=li(m);Ra(E,l)>0&&(l=E)}),new Ir(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}let D=(()=>{class s{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>l.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return s.ct=-1,s})();function F(s){return null==s}function te(s){return 0===s&&1/s==-1/0}function Ae(s){return"number"==typeof s&&Number.isInteger(s)&&!te(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function we(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=tn(e)),e=gt(s.get(t),e);return tn(e)}function gt(s,e){let t=e;const l=s.length;for(let h=0;h<l;h++){const m=s.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function tn(s){return s+"\x01\x01"}function Rn(s){const e=s.length;if(Gn(e>=2),2===e)return Gn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),ri.emptyPath();const t=e-2,l=[];let h="";for(let m=0;m<e;){const E=s.indexOf("\x01",m);switch((E<0||E>t)&&Ln(),s.charAt(E+1)){case"\x01":const k=s.substring(m,E);let Y;0===h.length?Y=k:(h+=k,Y=h,h=""),l.push(Y);break;case"\x10":h+=s.substring(m,E),h+="\0";break;case"\x11":h+=s.substring(m,E+1);break;default:Ln()}m=E+2}return new ri(l)}const lr=["userId","batchId"];function mn(s,e){return[s,we(e)]}function Bi(s,e,t){return[s,we(e),t]}const lo={},Xo=["prefixPath","collectionGroup","readTime","documentId"],no=["prefixPath","collectionGroup","documentId"],pl=["collectionGroup","readTime","prefixPath","documentId"],uo=["canonicalId","targetId"],gd=["targetId","path"],hs=["path","targetId"],Uu=["collectionId","parent"],Xa=["indexId","uid"],xp=["uid","sequenceNumber"],Pp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],md=["indexId","uid","orderedDocumentKey"],Ef=["userId","collectionPath","documentId"],Ja=["userId","collectionPath","largestBatchId"],Oc=["userId","collectionGroup","largestBatchId"],iu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uh=[...iu,"documentOverlays"],yd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ch=yd,vd=[...ch,"indexConfiguration","indexState","indexEntries"];class Gi extends to{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Eo(s,e){const t=Mn(s);return Tr.M(t.ht,e)}function ju(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Pa(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function _d(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ri{constructor(e,t){this.comparator=e,this.root=t||Qi.EMPTY}insert(e,t){return new Ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return t+l.left.size;h<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}}class Lo{constructor(e,t,l,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?l(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,t,l,h,m){this.key=e,this.value=t,this.color=null!=l?l:Qi.RED,this.left=null!=h?h:Qi.EMPTY,this.right=null!=m?m:Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,h,m){return new Qi(null!=e?e:this.key,null!=t?t:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let h=this;const m=l(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,l),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Qi.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ln();const e=this.left.check();if(e!==this.right.check())throw Ln();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1,Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ln()}get value(){throw Ln()}get color(){throw Ln()}get left(){throw Ln()}get right(){throw Ln()}copy(s,e,t,l,h){return this}insert(s,e,t){return new Qi(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dh(this.data.getIterator())}getIteratorFrom(e){return new dh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class dh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oa(s){return s.hasNext()?s.getNext():void 0}class co{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new co([])}unionWith(e){let t=new tr(zi.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class Ms extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function hh(){return typeof atob<"u"}class Vs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ms("Invalid base64 string: "+h):h}}(e);return new Vs(t)}static fromUint8Array(e){const t=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(e);return new Vs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ir(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vs.EMPTY_BYTE_STRING=new Vs("");const wf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(s){if(Gn(!!s),"string"==typeof s){let e=0;const t=wf.exec(s);if(Gn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:$i(s.seconds),nanos:$i(s.nanos)}}function $i(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Oo(s){return"string"==typeof s?Vs.fromBase64String(s):Vs.fromUint8Array(s)}function _a(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function el(s){const e=s.mapValue.fields.__previous_value__;return _a(e)?el(e):e}function su(s){const e=gl(s.mapValue.fields.__local_write_time__.timestampValue);return new _i(e.seconds,e.nanos)}class Fl{constructor(e,t,l,h,m,E,k,Y,ie){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=k,this.longPollingOptions=Y,this.useFetchStreams=ie}}class Jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const Na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ed={nullValue:"NULL_VALUE"};function Ll(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_a(s)?4:If(s)?9007199254740991:10:Ln()}function Bl(s,e){if(s===e)return!0;const t=Ll(s);if(t!==Ll(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return su(s).isEqual(su(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=gl(l.timestampValue),E=gl(h.timestampValue);return m.seconds===E.seconds&&m.nanos===E.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,Oo(s.bytesValue).isEqual(Oo(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,h){return $i(l.geoPointValue.latitude)===$i(h.geoPointValue.latitude)&&$i(l.geoPointValue.longitude)===$i(h.geoPointValue.longitude)}(s,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return $i(l.integerValue)===$i(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=$i(l.doubleValue),E=$i(h.doubleValue);return m===E?te(m)===te(E):isNaN(m)&&isNaN(E)}return!1}(s,e);case 9:return va(s.arrayValue.values||[],e.arrayValue.values||[],Bl);case 10:return function(l,h){const m=l.mapValue.fields||{},E=h.mapValue.fields||{};if(ju(m)!==ju(E))return!1;for(const k in m)if(m.hasOwnProperty(k)&&(void 0===E[k]||!Bl(m[k],E[k])))return!1;return!0}(s,e);default:return Ln()}var h}function Hu(s,e){return void 0!==(s.values||[]).find(t=>Bl(t,e))}function ou(s,e){if(s===e)return 0;const t=Ll(s),l=Ll(e);if(t!==l)return ir(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return ir(s.booleanValue,e.booleanValue);case 2:return function(h,m){const E=$i(h.integerValue||h.doubleValue),k=$i(m.integerValue||m.doubleValue);return E<k?-1:E>k?1:E===k?0:isNaN(E)?isNaN(k)?0:-1:1}(s,e);case 3:return fh(s.timestampValue,e.timestampValue);case 4:return fh(su(s),su(e));case 5:return ir(s.stringValue,e.stringValue);case 6:return function(h,m){const E=Oo(h),k=Oo(m);return E.compareTo(k)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const E=h.split("/"),k=m.split("/");for(let Y=0;Y<E.length&&Y<k.length;Y++){const ie=ir(E[Y],k[Y]);if(0!==ie)return ie}return ir(E.length,k.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const E=ir($i(h.latitude),$i(m.latitude));return 0!==E?E:ir($i(h.longitude),$i(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const E=h.values||[],k=m.values||[];for(let Y=0;Y<E.length&&Y<k.length;++Y){const ie=ou(E[Y],k[Y]);if(ie)return ie}return ir(E.length,k.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===Na.mapValue&&m===Na.mapValue)return 0;if(h===Na.mapValue)return 1;if(m===Na.mapValue)return-1;const E=h.fields||{},k=Object.keys(E),Y=m.fields||{},ie=Object.keys(Y);k.sort(),ie.sort();for(let Se=0;Se<k.length&&Se<ie.length;++Se){const nt=ir(k[Se],ie[Se]);if(0!==nt)return nt;const kt=ou(E[k[Se]],Y[ie[Se]]);if(0!==kt)return kt}return ir(k.length,ie.length)}(s.mapValue,e.mapValue);default:throw Ln()}}function fh(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return ir(s,e);const t=gl(s),l=gl(e),h=ir(t.seconds,l.seconds);return 0!==h?h:ir(t.nanos,l.nanos)}function wd(s){return tl(s)}function tl(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const h=gl(l);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Oo(s.bytesValue).toBase64():"referenceValue"in s?On.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let h="[",m=!0;for(const E of l.values||[])m?m=!1:h+=",",h+=tl(E);return h+"]"}(s.arrayValue):"mapValue"in s?function(l){const h=Object.keys(l.fields||{}).sort();let m="{",E=!0;for(const k of h)E?E=!1:m+=",",m+=`${k}:${tl(l.fields[k])}`;return m+"}"}(s.mapValue):Ln();var e}function zu(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Rs(s){return!!s&&"integerValue"in s}function Id(s){return!!s&&"arrayValue"in s}function nl(s){return!!s&&"nullValue"in s}function Gu(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bo(s){return!!s&&"mapValue"in s}function ka(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Pa(s.mapValue.fields,(t,l)=>e.mapValue.fields[t]=ka(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ka(s.arrayValue.values[t]);return e}return Object.assign({},s)}function If(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wu(s){return"nullValue"in s?Ed:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?zu(Jo.empty(),On.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Ln()}function kc(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?zu(Jo.empty(),On.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Na:Ln()}function Op(s,e){const t=ou(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function cm(s,e){const t=ou(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class $o{constructor(e){this.value=e}static empty(){return new $o({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!Bo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(t)}setAll(e){let t=zi.emptyPath(),l={},h=[];e.forEach((E,k)=>{if(!t.isImmediateParentOf(k)){const Y=this.getFieldsMap(t);this.applyChanges(Y,l,h),l={},h=[],t=k.popLast()}E?l[k.lastSegment()]=ka(E):h.push(k.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,l,h)}delete(e){const t=this.field(e.popLast());Bo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=t.mapValue.fields[e.get(l)];Bo(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,l){Pa(t,(h,m)=>e[h]=m);for(const h of l)delete e[h]}clone(){return new $o(ka(this.value))}}function ho(s){const e=[];return Pa(s.fields,(t,l)=>{const h=new zi([t]);if(Bo(l)){const m=ho(l.mapValue).fields;if(0===m.length)e.push(h);else for(const E of m)e.push(h.child(E))}else e.push(h)}),new co(e)}class ii{constructor(e,t,l,h,m,E,k){this.key=e,this.documentType=t,this.version=l,this.readTime=h,this.createTime=m,this.data=E,this.documentState=k}static newInvalidDocument(e){return new ii(e,0,dr.min(),dr.min(),dr.min(),$o.empty(),0)}static newFoundDocument(e,t,l,h){return new ii(e,1,t,dr.min(),l,h,0)}static newNoDocument(e,t){return new ii(e,2,t,dr.min(),dr.min(),$o.empty(),0)}static newUnknownDocument(e,t){return new ii(e,3,t,dr.min(),dr.min(),$o.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$o.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(e,t){this.position=e,this.inclusive=t}}function $l(s,e,t){let l=0;for(let h=0;h<s.position.length;h++){const m=e[h],E=s.position[h];if(l=m.field.isKeyField()?On.comparator(On.fromName(E.referenceValue),t.key):ou(E,t.data.field(m.field)),"desc"===m.dir&&(l*=-1),0!==l)break}return l}function Fc(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Bl(s.position[t],e.position[t]))return!1;return!0}class rl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ku(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class qu{}class qr extends qu{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new Qu(e,t,l):"array-contains"===t?new La(e,l):"in"===t?new au(e,l):"not-in"===t?new bf(e,l):"array-contains-any"===t?new $c(e,l):new qr(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new Bc(e,l):new Cf(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ou(t,this.value)):null!==t&&Ll(this.value)===Ll(t)&&this.matchesComparison(ou(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xi extends qu{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Xi(e,t)}matches(e){return Yu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Yu(s){return"and"===s.op}function Zu(s){return"or"===s.op}function Cd(s){return bd(s)&&Yu(s)}function bd(s){for(const e of s.filters)if(e instanceof Xi)return!1;return!0}function Lc(s){if(s instanceof qr)return s.field.canonicalString()+s.op.toString()+wd(s.value);if(Cd(s))return s.filters.map(e=>Lc(e)).join(",");{const e=s.filters.map(t=>Lc(t)).join(",");return`${s.op}(${e})`}}function Vl(s,e){return s instanceof qr?(t=s,(l=e)instanceof qr&&t.op===l.op&&t.field.isEqual(l.field)&&Bl(t.value,l.value)):s instanceof Xi?function(t,l){return l instanceof Xi&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((h,m,E)=>h&&Vl(m,l.filters[E]),!0)}(s,e):void Ln();var t,l}function Dd(s,e){const t=s.filters.concat(e);return Xi.create(t,s.op)}function ml(s){return s instanceof qr?`${(e=s).field.canonicalString()} ${e.op} ${wd(e.value)}`:s instanceof Xi?function(e){return e.op.toString()+" {"+e.getFilters().map(ml).join(" ,")+"}"}(s):"Filter";var e}class Qu extends qr{constructor(e,t,l){super(e,t,l),this.key=On.fromName(l.referenceValue)}matches(e){const t=On.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bc extends qr{constructor(e,t){super(e,"in",t),this.keys=Vi(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cf extends qr{constructor(e,t){super(e,"not-in",t),this.keys=Vi(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vi(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>On.fromName(l.referenceValue))}class La extends qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Id(t)&&Hu(t.arrayValue,this.value)}}class au extends qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hu(this.value.arrayValue,t)}}class bf extends qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hu(this.value.arrayValue,t)}}class $c extends qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Id(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>Hu(this.value.arrayValue,l))}}class Ul{constructor(e,t=null,l=[],h=[],m=null,E=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=E,this.endAt=k,this.dt=null}}function yl(s,e=null,t=[],l=[],h=null,m=null,E=null){return new Ul(s,e,t,l,h,m,E)}function vl(s){const e=Mn(s);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>Lc(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),F(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>wd(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>wd(l)).join(",")),e.dt=t}return e.dt}function aa(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!Ku(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!Vl(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Fc(s.startAt,e.startAt)&&Fc(s.endAt,e.endAt)}function Xu(s){return On.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function lu(s,e){return s.filters.filter(t=>t instanceof qr&&t.field.isEqual(e))}function Df(s,e,t){let l=Ed,h=!0;for(const m of lu(s,e)){let E=Ed,k=!0;switch(m.op){case"<":case"<=":E=Wu(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,k=!1;break;case"!=":case"not-in":E=Ed}Op({value:l,inclusive:h},{value:E,inclusive:k})<0&&(l=E,h=k)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const E=t.position[m];Op({value:l,inclusive:h},{value:E,inclusive:t.inclusive})<0&&(l=E,h=t.inclusive);break}return{value:l,inclusive:h}}function Sd(s,e,t){let l=Na,h=!0;for(const m of lu(s,e)){let E=Na,k=!0;switch(m.op){case">=":case">":E=kc(m.value),k=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,k=!1;break;case"!=":case"not-in":E=Na}cm({value:l,inclusive:h},{value:E,inclusive:k})>0&&(l=E,h=k)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const E=t.position[m];cm({value:l,inclusive:h},{value:E,inclusive:t.inclusive})>0&&(l=E,h=t.inclusive);break}return{value:l,inclusive:h}}class jl{constructor(e,t=null,l=[],h=[],m=null,E="F",k=null,Y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=E,this.startAt=k,this.endAt=Y,this.wt=null,this._t=null}}function Td(s,e,t,l,h,m,E,k){return new jl(s,e,t,l,h,m,E,k)}function uu(s){return new jl(s)}function Np(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function ph(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function R(s){for(const e of s.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _(s){return null!==s.collectionGroup}function I(s){const e=Mn(s);if(null===e.wt){e.wt=[];const t=R(e),l=ph(e);if(null!==t&&null===l)t.isKeyField()||e.wt.push(new rl(t)),e.wt.push(new rl(zi.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new rl(zi.keyField(),m))}}}return e.wt}function P(s){const e=Mn(s);if(!e._t)if("F"===e.limitType)e._t=yl(e.path,e.collectionGroup,I(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of I(e))t.push(new rl(m.field,"desc"===m.dir?"asc":"desc"));const l=e.endAt?new Fa(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Fa(e.startAt.position,e.startAt.inclusive):null;e._t=yl(e.path,e.collectionGroup,t,e.filters,e.limit,l,h)}return e._t}function le(s,e){e.getFirstInequalityField(),R(s);const t=s.filters.concat([e]);return new jl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Te(s,e,t){return new jl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Ct(s,e){return aa(P(s),P(e))&&s.limitType===e.limitType}function Wt(s){return`${vl(P(s))}|lt:${s.limitType}`}function Dn(s){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>ml(l)).join(", ")}]`),F(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>wd(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>wd(l)).join(",")),`Target(${t})`}(P(s))}; limitType=${s.limitType})`}function $n(s,e){return e.isFoundDocument()&&function(t,l){const h=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):On.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(s,e)&&function(t,l){for(const h of I(t))if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(s,e)&&function(t,l){for(const h of t.filters)if(!h.matches(l))return!1;return!0}(s,e)&&(l=e,!((t=s).startAt&&!function(h,m,E){const k=$l(h,m,E);return h.inclusive?k<=0:k<0}(t.startAt,I(t),l)||t.endAt&&!function(h,m,E){const k=$l(h,m,E);return h.inclusive?k>=0:k>0}(t.endAt,I(t),l)));var t,l}function cr(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function si(s){return(e,t)=>{let l=!1;for(const h of I(s)){const m=la(h,e,t);if(0!==m)return m;l=l||h.field.isKeyField()}return 0}}function la(s,e,t){const l=s.field.isKeyField()?On.comparator(e.key,t.key):function(h,m,E){const k=m.data.field(h),Y=E.data.field(h);return null!==k&&null!==Y?ou(k,Y):Ln()}(s.field,e,t);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Ln()}}class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[h,m]of l)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[t]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(t,l)=>{for(const[h,m]of l)e(h,m)})}isEmpty(){return _d(this.inner)}size(){return this.innerSize}}const gh=new Ri(On.comparator);function wo(){return gh}const Ju=new Ri(On.comparator);function cu(...s){let e=Ju;for(const t of s)e=e.insert(t.key,t);return e}function mh(s){let e=Ju;return s.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function Ea(){return du()}function wa(){return du()}function du(){return new No(s=>s.toString(),(s,e)=>s.isEqual(e))}const Sf=new Ri(On.comparator),kp=new tr(On.comparator);function Yr(...s){let e=kp;for(const t of s)e=e.add(t);return e}const Ad=new tr(ir);function yh(){return Ad}function Tf(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:te(e)?"-0":e}}function Fp(s){return{integerValue:""+s}}function Lp(s,e){return Ae(e)?Fp(e):Tf(s,e)}class Bp{constructor(){this._=void 0}}function Xy(s,e,t){return s instanceof Md?function(l,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&_a(h)&&(h=el(h)),h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):s instanceof ec?ea(s,e):s instanceof Hl?dm(s,e):function(l,h){const m=$p(l,h),E=hm(m)+hm(l.gt);return Rs(m)&&Rs(l.gt)?Fp(E):Tf(l.serializer,E)}(s,e)}function ua(s,e,t){return s instanceof ec?ea(s,e):s instanceof Hl?dm(s,e):t}function $p(s,e){return s instanceof Rd?Rs(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class Md extends Bp{}class ec extends Bp{constructor(e){super(),this.elements=e}}function ea(s,e){const t=fm(e);for(const l of s.elements)t.some(h=>Bl(h,l))||t.push(l);return{arrayValue:{values:t}}}class Hl extends Bp{constructor(e){super(),this.elements=e}}function dm(s,e){let t=fm(e);for(const l of s.elements)t=t.filter(h=>!Bl(h,l));return{arrayValue:{values:t}}}class Rd extends Bp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function hm(s){return $i(s.integerValue||s.doubleValue)}function fm(s){return Id(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class vh{constructor(e,t){this.field=e,this.transform=t}}class R_{constructor(e,t){this.version=e,this.transformResults=t}}class xs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Af{}function Vp(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new fu(s.key,xs.none()):new _h(s.key,s.data,xs.none());{const t=s.data,l=$o.empty();let h=new tr(zi.comparator);for(let m of e.fields)if(!h.has(m)){let E=t.field(m);null===E&&m.length>1&&(m=m.popLast(),E=t.field(m)),null===E?l.delete(m):l.set(m,E),h=h.add(m)}return new zl(s.key,l,new co(h.toArray()),xs.none())}}function gm(s,e,t){s instanceof _h?function(l,h,m){const E=l.value.clone(),k=hu(l.fieldTransforms,h,m.transformResults);E.setAll(k),h.convertToFoundDocument(m.version,E).setHasCommittedMutations()}(s,e,t):s instanceof zl?function(l,h,m){if(!xd(l.precondition,h))return void h.convertToUnknownDocument(m.version);const E=hu(l.fieldTransforms,h,m.transformResults),k=h.data;k.setAll(Rf(l)),k.setAll(E),h.convertToFoundDocument(m.version,k).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mf(s,e,t,l){return s instanceof _h?function(h,m,E,k){if(!xd(h.precondition,m))return E;const Y=h.value.clone(),ie=Vc(h.fieldTransforms,k,m);return Y.setAll(ie),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null}(s,e,t,l):s instanceof zl?function(h,m,E,k){if(!xd(h.precondition,m))return E;const Y=Vc(h.fieldTransforms,k,m),ie=m.data;return ie.setAll(Rf(h)),ie.setAll(Y),m.convertToFoundDocument(m.version,ie).setHasLocalMutations(),null===E?null:E.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Se=>Se.field))}(s,e,t,l):(E=t,xd(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):E);var m,E}function Pd(s,e){let t=null;for(const l of s.fieldTransforms){const h=e.data.field(l.field),m=$p(l.transform,h||null);null!=m&&(null===t&&(t=$o.empty()),t.set(l.field,m))}return t||null}function mm(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===l||t&&l&&va(t,l,(h,m)=>function pm(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(t=s.transform)instanceof ec&&l instanceof ec||t instanceof Hl&&l instanceof Hl?va(t.elements,l.elements,Bl):t instanceof Rd&&l instanceof Rd?Bl(t.gt,l.gt):t instanceof Md&&l instanceof Md);var t,l}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,l}class _h extends Af{constructor(e,t,l,h=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class zl extends Af{constructor(e,t,l,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Rf(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=s.data.field(t);e.set(t,l)}}),e}function hu(s,e,t){const l=new Map;Gn(s.length===t.length);for(let h=0;h<t.length;h++){const m=s[h],E=m.transform,k=e.data.field(m.field);l.set(m.field,ua(E,k,t[h]))}return l}function Vc(s,e,t){const l=new Map;for(const h of s){const m=h.transform,E=t.data.field(h.field);l.set(h.field,Xy(m,E,e))}return l}class fu extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gl extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uc{constructor(e,t,l,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&gm(m,e,l[h])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=Mf(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=Mf(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=wa();return this.mutations.forEach(h=>{const m=e.get(h.key),E=m.overlayedDocument;let k=this.applyToLocalView(E,m.mutatedFields);k=t.has(h.key)?null:k;const Y=Vp(E,k);null!==Y&&l.set(h.key,Y),E.isValidDocument()||E.convertToNoDocument(dr.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yr())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,(t,l)=>mm(t,l))&&va(this.baseMutations,e.baseMutations,(t,l)=>mm(t,l))}}class tc{constructor(e,t,l,h){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=h}static from(e,t,l){Gn(e.mutations.length===l.length);let h=Sf;const m=e.mutations;for(let E=0;E<m.length;E++)h=h.insert(m[E].key,l[E].version);return new tc(e,t,l,h)}}class ym{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class P_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Io,Ci;function Jy(s){switch(s){default:return Ln();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0}}function pu(s){if(void 0===s)return Gr("GRPC error has no .code"),Ze.UNKNOWN;switch(s){case Io.OK:return Ze.OK;case Io.CANCELLED:return Ze.CANCELLED;case Io.UNKNOWN:return Ze.UNKNOWN;case Io.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case Io.INTERNAL:return Ze.INTERNAL;case Io.UNAVAILABLE:return Ze.UNAVAILABLE;case Io.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case Io.NOT_FOUND:return Ze.NOT_FOUND;case Io.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case Io.ABORTED:return Ze.ABORTED;case Io.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case Io.DATA_LOSS:return Ze.DATA_LOSS;default:return Ln()}}(Ci=Io||(Io={}))[Ci.OK=0]="OK",Ci[Ci.CANCELLED=1]="CANCELLED",Ci[Ci.UNKNOWN=2]="UNKNOWN",Ci[Ci.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ci[Ci.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ci[Ci.NOT_FOUND=5]="NOT_FOUND",Ci[Ci.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ci[Ci.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ci[Ci.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ci[Ci.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ci[Ci.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ci[Ci.ABORTED=10]="ABORTED",Ci[Ci.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ci[Ci.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ci[Ci.INTERNAL=13]="INTERNAL",Ci[Ci.UNAVAILABLE=14]="UNAVAILABLE",Ci[Ci.DATA_LOSS=15]="DATA_LOSS";class nc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xf}static getOrCreateInstance(){return null===xf&&(xf=new nc),xf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let xf=null;function Up(){return new TextEncoder}const O_=new Yt([4294967295,4294967295],0);function Pf(s){const e=Up().encode(s),t=new Ut;return t.update(e),new Uint8Array(t.digest())}function Of(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Yt([t,l],0),new Yt([h,m],0)]}class jp{constructor(e,t,l){if(this.bitmap=e,this.padding=t,this.hashCount=l,t<0||t>=8)throw new il(`Invalid padding: ${t}`);if(l<0)throw new il(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new il(`Invalid hash count: ${l}`);if(0===e.length&&0!==t)throw new il(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yt.fromNumber(this.It)}Et(e,t,l){let h=e.add(t.multiply(Yt.fromNumber(l)));return 1===h.compare(O_)&&(h=new Yt([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Pf(e),[l,h]=Of(t);for(let m=0;m<this.hashCount;m++){const E=this.Et(l,h,m);if(!this.At(E))return!1}return!0}static create(e,t,l){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),E=new jp(m,h,t);return l.forEach(k=>E.insert(k)),E}insert(e){if(0===this.It)return;const t=Pf(e),[l,h]=Of(t);for(let m=0;m<this.hashCount;m++){const E=this.Et(l,h,m);this.Rt(E)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rc{constructor(e,t,l,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const h=new Map;return h.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new rc(dr.min(),h,new Ri(ir),wo(),Yr())}}class Eh{constructor(e,t,l,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new Eh(l,t,Yr(),Yr(),Yr())}}class ic{constructor(e,t,l,h){this.Pt=e,this.removedTargetIds=t,this.key=l,this.bt=h}}class ev{constructor(e,t){this.targetId=e,this.Vt=t}}class wh{constructor(e,t,l=Vs.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=h}}class vm{constructor(){this.St=0,this.Dt=Nf(),this.Ct=Vs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Yr(),t=Yr(),l=Yr();return this.Dt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:l=l.add(h);break;default:Ln()}}),new Eh(this.Ct,this.xt,e,t,l)}Ft(){this.Nt=!1,this.Dt=Nf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ih{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wo(),this.zt=Ch(),this.Wt=new Ri(ir)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const l=this.Zt(t);switch(e.state){case 0:this.te(t)&&l.$t(e.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(e.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(t);break;case 3:this.te(t)&&(l.Kt(),l.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),l.$t(e.resumeToken));break;default:Ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((l,h)=>{this.te(h)&&t(h)})}ne(e){var t;const l=e.targetId,h=e.Vt.count,m=this.se(l);if(m){const E=m.target;if(Xu(E))if(0===h){const k=new On(E.path);this.Yt(l,k,ii.newNoDocument(k,dr.min()))}else Gn(1===h);else{const k=this.ie(l);if(k!==h){const Y=this.re(e,k);0!==Y&&(this.ee(l),this.Wt=this.Wt.insert(l,2===Y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=nc.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ie,Se,nt){var kt,Xt,wn,jn,qn,Jr;const xi={localCacheCount:Se,existenceFilterCount:nt.count},ui=nt.unchangedNames;return ui&&(xi.bloomFilter={applied:0===ie,hashCount:null!==(kt=null==ui?void 0:ui.hashCount)&&void 0!==kt?kt:0,bitmapLength:null!==(jn=null===(wn=null===(Xt=null==ui?void 0:ui.bits)||void 0===Xt?void 0:Xt.bitmap)||void 0===wn?void 0:wn.length)&&void 0!==jn?jn:0,padding:null!==(Jr=null===(qn=null==ui?void 0:ui.bits)||void 0===qn?void 0:qn.padding)&&void 0!==Jr?Jr:0}),xi}(Y,k,e.Vt))}}}}re(e,t){const{unchangedNames:l,count:h}=e.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:m="",padding:E=0},hashCount:k=0}=l;let Y,ie;try{Y=Oo(m).toUint8Array()}catch(Se){if(Se instanceof Ms)return ws("Decoding the base64 bloom filter in existence filter failed ("+Se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Se}try{ie=new jp(Y,E,k)}catch(Se){return ws(Se instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",Se),1}return 0===ie.It?1:h!==t-this.oe(e.targetId,ie)?2:0}oe(e,t){const l=this.Gt.getRemoteKeysForTarget(e);let h=0;return l.forEach(m=>{const E=this.Gt.ue(),k=`projects/${E.projectId}/databases/${E.database}/documents/${m.path.canonicalString()}`;t.vt(k)||(this.Yt(e,m,null),h++)}),h}ce(e){const t=new Map;this.Qt.forEach((m,E)=>{const k=this.se(E);if(k){if(m.current&&Xu(k.target)){const Y=new On(k.target.path);null!==this.jt.get(Y)||this.ae(E,Y)||this.Yt(E,Y,ii.newNoDocument(Y,e))}m.Mt&&(t.set(E,m.Ot()),m.Ft())}});let l=Yr();this.zt.forEach((m,E)=>{let k=!0;E.forEachWhile(Y=>{const ie=this.se(Y);return!ie||"TargetPurposeLimboResolution"===ie.purpose||(k=!1,!1)}),k&&(l=l.add(m))}),this.jt.forEach((m,E)=>E.setReadTime(e));const h=new rc(e,t,this.Wt,this.jt,l);return this.jt=wo(),this.zt=Ch(),this.Wt=new Ri(ir),h}Jt(e,t){if(!this.te(e))return;const l=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,l),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,l){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,t)?h.Bt(t,1):h.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),l&&(this.jt=this.jt.insert(t,l))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new vm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new tr(ir),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Qt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Ch(){return new Ri(On.comparator)}function Nf(){return new Ri(On.comparator)}const kf={asc:"ASCENDING",desc:"DESCENDING"},Hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zp={and:"AND",or:"OR"};class sc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gp(s,e){return s.useProto3Json||F(e)?e:{value:e}}function jc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ff(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Wp(s,e){return jc(s,e.toTimestamp())}function Us(s){return Gn(!!s),dr.fromTimestamp(function(e){const t=gl(e);return new _i(t.seconds,t.nanos)}(s))}function Od(s,e){return(t=s,new ri(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _m(s){const e=ri.fromString(s);return Gn(Th(e)),e}function bh(s,e){return Od(s.databaseId,e.path)}function gu(s,e){const t=_m(e);if(t.get(1)!==s.databaseId.projectId)throw new Vt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Vt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new On(Lf(t))}function Kp(s,e){return Od(s.databaseId,e)}function qp(s){const e=_m(s);return 4===e.length?ri.emptyPath():Lf(e)}function Hc(s){return new ri(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Lf(s){return Gn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function zc(s,e,t){return{name:bh(s,e),fields:t.value.mapValue.fields}}function mu(s,e,t){const l=gu(s,e.name),h=Us(e.updateTime),m=e.createTime?Us(e.createTime):dr.min(),E=new $o({mapValue:{fields:e.fields}}),k=ii.newFoundDocument(l,h,m,E);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function Bf(s,e){let t;if(e instanceof _h)t={update:zc(s,e.key,e.value)};else if(e instanceof fu)t={delete:bh(s,e.key)};else if(e instanceof zl)t={update:zc(s,e.key,e.data),updateMask:vu(e.fieldMask)};else{if(!(e instanceof Gl))return Ln();t={verify:bh(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(h,m){const E=m.transform;if(E instanceof Md)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof ec)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Hl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Rd)return{fieldPath:m.field.canonicalString(),increment:E.gt};throw Ln()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Wp(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Ln()),t;var h}function $f(s,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?xs.updateTime(Us(h.updateTime)):void 0!==h.exists?xs.exists(h.exists):xs.none():xs.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(m,E){let k=null;"setToServerValue"in E?(Gn("REQUEST_TIME"===E.setToServerValue),k=new Md):"appendMissingElements"in E?k=new ec(E.appendMissingElements.values||[]):"removeAllFromArray"in E?k=new Hl(E.removeAllFromArray.values||[]):"increment"in E?k=new Rd(m,E.increment):Ln();const Y=zi.fromServerFormat(E.fieldPath);return new vh(Y,k)}(s,h)):[];var h;if(e.update){const h=gu(s,e.update.name),m=new $o({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new co((e.updateMask.fieldPaths||[]).map(ie=>zi.fromServerFormat(ie)));return new zl(h,m,E,t,l)}return new _h(h,m,t,l)}if(e.delete){const h=gu(s,e.delete);return new fu(h,t)}if(e.verify){const h=gu(s,e.verify);return new Gl(h,t)}return Ln()}function Yp(s,e){return{documents:[Kp(s,e.path)]}}function Nd(s,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=Kp(s,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Kp(s,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(Y){if(0!==Y.length)return Sh(Xi.create(Y,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const m=function(Y){if(0!==Y.length)return Y.map(ie=>{return{field:yu((Se=ie).field),direction:rv(Se.dir)};var Se})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const E=Gp(s,e.limit);var k,Y;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),t}function Wc(s){let e=qp(s.parent);const t=s.structuredQuery,l=t.from?t.from.length:0;let h=null;if(l>0){Gn(1===l);const Se=t.from[0];Se.allDescendants?h=Se.collectionId:e=e.child(Se.collectionId)}let m=[];t.where&&(m=function(Se){const nt=Qp(Se);return nt instanceof Xi&&Cd(nt)?nt.getFilters():[nt]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(Se=>{return new rl(Dh((nt=Se).field),function(kt){switch(kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nt.direction));var nt}));let k=null;t.limit&&(k=function(Se){let nt;return nt="object"==typeof Se?Se.value:Se,F(nt)?null:nt}(t.limit));let Y=null;var Se;t.startAt&&(Y=new Fa((Se=t.startAt).values||[],!!Se.before));let ie=null;return t.endAt&&(ie=function(Se){return new Fa(Se.values||[],!Se.before)}(t.endAt)),Td(e,h,E,m,k,"F",Y,ie)}function Qp(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dh(e.unaryFilter.field);return qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=Dh(e.unaryFilter.field);return qr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Dh(e.unaryFilter.field);return qr.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Dh(e.unaryFilter.field);return qr.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Ln()}}(s):void 0!==s.fieldFilter?qr.create(Dh((e=s).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return Xi.create(e.compositeFilter.filters.map(t=>Qp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ln()}}(e.compositeFilter.op))}(s):Ln();var e}function rv(s){return kf[s]}function Xp(s){return Hp[s]}function Vf(s){return zp[s]}function yu(s){return{fieldPath:s.canonicalString()}}function Dh(s){return zi.fromServerFormat(s.fieldPath)}function Sh(s){return s instanceof qr?function(e){if("=="===e.op){if(Gu(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NAN"}};if(nl(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gu(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NAN"}};if(nl(e.value))return{unaryFilter:{field:yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(e.field),op:Xp(e.op),value:e.value}}}(s):s instanceof Xi?function(e){const t=e.getFilters().map(l=>Sh(l));return 1===t.length?t[0]:{compositeFilter:{op:Vf(e.op),filters:t}}}(s):Ln()}function vu(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Th(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class oc{constructor(e,t,l,h,m=dr.min(),E=dr.min(),k=Vs.EMPTY_BYTE_STRING,Y=null){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=k,this.expectedCount=Y}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _u{constructor(e){this.fe=e}}function Ah(s,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:bh(h=s.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:jc(h,m.version.toTimestamp()),createTime:jc(h,m.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:Mh(e.version)};else{if(!e.isUnknownDocument())return Ln();l.unknownDocument={path:t.path.toArray(),version:Mh(e.version)}}var h,m;return l}function Fd(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Mh(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ta(s){const e=new _i(s.seconds,s.nanoseconds);return dr.fromTimestamp(e)}function Ld(s,e){const t=(e.baseMutations||[]).map(m=>$f(s.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const l=e.mutations.map(m=>$f(s.fe,m)),h=_i.fromMillis(e.localWriteTimeMs);return new Uc(e.batchId,h,t,l)}function Jp(s){const e=ta(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?ta(s.lastLimboFreeSnapshotVersion):dr.min();let l;var h;return void 0!==s.query.documents?(Gn(1===(h=s.query).documents.length),l=P(uu(qp(h.documents[0])))):l=P(Wc(s.query)),new oc(l,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,Vs.fromBase64String(s.resumeToken))}function Rh(s,e){const t=Mh(e.snapshotVersion),l=Mh(e.lastLimboFreeSnapshotVersion);let h;h=Xu(e.target)?Yp(s.fe,e.target):Nd(s.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vl(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function eg(s){const e=Wc({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Te(e,e.limit,"L"):e}function Ia(s,e){return new ym(e.largestBatchId,$f(s.fe,e.overlayMutation))}function Em(s,e){const t=e.path.lastSegment();return[s,we(e.path.popLast()),t]}function iv(s,e,t,l){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:Mh(l.readTime),documentKey:we(l.documentKey.path),largestBatchId:l.largestBatchId}}class tg{getBundleMetadata(e,t){return Eu(e).get(t).next(l=>{if(l)return{id:(h=l).bundleId,createTime:ta(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return Eu(e).put({bundleId:(l=t).id,createTime:Mh(Us(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return xh(e).get(t).next(l=>{if(l)return{name:(h=l).name,query:eg(h.bundledQuery),readTime:ta(h.readTime)};var h})}saveNamedQuery(e,t){return xh(e).put({name:(l=t).name,readTime:Mh(Us(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Eu(s){return Eo(s,"bundles")}function xh(s){return Eo(s,"namedQueries")}class Uf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Uf(e,t.uid||"")}getOverlay(e,t){return Bd(e).get(Em(this.userId,t)).next(l=>l?Ia(this.serializer,l):null)}getOverlays(e,t){const l=Ea();return Ft.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){const h=[];return l.forEach((m,E)=>{const k=new ym(t,E);h.push(this.we(e,k))}),Ft.waitFor(h)}removeOverlaysForBatchId(e,t,l){const h=new Set;t.forEach(E=>h.add(we(E.getCollectionPath())));const m=[];return h.forEach(E=>{const k=IDBKeyRange.bound([this.userId,E,l],[this.userId,E,l+1],!1,!0);m.push(Bd(e).J("collectionPathOverlayIndex",k))}),Ft.waitFor(m)}getOverlaysForCollection(e,t,l){const h=Ea(),m=we(t),E=IDBKeyRange.bound([this.userId,m,l],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Bd(e).j("collectionPathOverlayIndex",E).next(k=>{for(const Y of k){const ie=Ia(this.serializer,Y);h.set(ie.getKey(),ie)}return h})}getOverlaysForCollectionGroup(e,t,l,h){const m=Ea();let E;const k=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bd(e).X({index:"collectionGroupOverlayIndex",range:k},(Y,ie,Se)=>{const nt=Ia(this.serializer,ie);m.size()<h||nt.largestBatchId===E?(m.set(nt.getKey(),nt),E=nt.largestBatchId):Se.done()}).next(()=>m)}we(e,t){return Bd(e).put(function(l,h,m){const[E,k,Y]=Em(h,m.mutation.key);return{userId:h,collectionPath:k,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Bf(l.fe,m.mutation)}}(this.serializer,this.userId,t))}}function Bd(s){return Eo(s,"documentOverlays")}class _l{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe($i(e.integerValue));else if("doubleValue"in e){const l=$i(e.doubleValue);isNaN(l)?this.ye(t,13):(this.ye(t,15),te(l)?t.pe(0):t.pe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ye(t,20),"string"==typeof l?t.Ie(l):(t.Ie(`${l.seconds||""}`),t.pe(l.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Oo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ye(t,45),t.pe(l.latitude||0),t.pe(l.longitude||0)}else"mapValue"in e?If(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const l=e.fields||{};this.ye(t,55);for(const h of Object.keys(l))this.Te(h,t),this.me(l[h],t)}Pe(e,t){const l=e.values||[];this.ye(t,50);for(const h of l)this.me(h,t)}ve(e,t){this.ye(t,37),On.fromName(e).path.forEach(l=>{this.ye(t,60),this.be(l,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function N_(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function sv(s){const e=64-function(t){let l=0;for(let h=0;h<8;++h){const m=N_(255&t[h]);if(l+=m,8!==m)break}return l}(s);return Math.ceil(e/8)}_l.Ve=new _l;class gE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.De(l.value),l=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Ne(l.value),l=t.next();this.ke()}Me(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.De(l);else if(l<2048)this.De(960|l>>>6),this.De(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.De(480|l>>>12),this.De(128|63&l>>>6),this.De(128|63&l);else{const h=t.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Ne(l);else if(l<2048)this.Ne(960|l>>>6),this.Ne(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l);else{const h=t.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const t=this.Fe(e),l=sv(t);this.Be(1+l),this.buffer[this.position++]=255&l;for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Le(e){const t=this.Fe(e),l=sv(t);this.Be(1+l),this.buffer[this.position++]=~(255&l);for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let h=1;h<t.length;++h)t[h]^=l?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class jf{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ph{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ng{constructor(){this.je=new gE,this.ze=new jf(this.je),this.We=new Ph(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Kc{constructor(e,t,l,h){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=h}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new Kc(this.indexId,this.documentKey,this.arrayValue,l)}}function ac(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=ov(s.arrayValue,e.arrayValue),0!==t?t:(t=ov(s.directionalValue,e.directionalValue),0!==t?t:On.comparator(s.documentKey,e.documentKey)))}function ov(s,e){for(let t=0;t<s.length&&t<e.length;++t){const l=s[t]-e[t];if(0!==l)return l}return s.length-e.length}class k_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const l=t;l.isInequality()?this.Ze=l:this.Xe.push(l)}}tn(e){Gn(e.collectionGroup===this.collectionId);const t=Ma(e);if(void 0!==t&&!this.en(t))return!1;const l=fl(e);let h=0,m=0;for(;h<l.length&&this.en(l[h]);++h);if(h===l.length)return!0;if(void 0!==this.Ze){const E=l[h];if(!this.nn(this.Ze,E)||!this.sn(this.Ye[m++],E))return!1;++h}for(;h<l.length;++h)if(m>=this.Ye.length||!this.sn(this.Ye[m++],l[h]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function wm(s){var e,t;if(Gn(s instanceof qr||s instanceof Xi),s instanceof qr){if(s instanceof au){const h=(null===(t=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>qr.create(s.field,"==",m)))||[];return Xi.create(h,"or")}return s}const l=s.filters.map(h=>wm(h));return Xi.create(l,s.op)}function F_(s){if(0===s.getFilters().length)return[];const e=Nh(wm(s));return Gn(ig(e)),rg(e)||Oh(e)?[e]:e.getFilters()}function rg(s){return s instanceof qr}function Oh(s){return s instanceof Xi&&Cd(s)}function ig(s){return rg(s)||Oh(s)||function(e){if(e instanceof Xi&&Zu(e)){for(const t of e.getFilters())if(!rg(t)&&!Oh(t))return!1;return!0}return!1}(s)}function Nh(s){if(Gn(s instanceof qr||s instanceof Xi),s instanceof qr)return s;if(1===s.filters.length)return Nh(s.filters[0]);const e=s.filters.map(l=>Nh(l));let t=Xi.create(e,s.op);return t=Wl(t),ig(t)?t:(Gn(t instanceof Xi),Gn(Yu(t)),Gn(t.filters.length>1),t.filters.reduce((l,h)=>Im(l,h)))}function Im(s,e){let t;return Gn(s instanceof qr||s instanceof Xi),Gn(e instanceof qr||e instanceof Xi),t=s instanceof qr?e instanceof qr?Xi.create([s,e],"and"):Ps(s,e):e instanceof qr?Ps(e,s):function(l,h){if(Gn(l.filters.length>0&&h.filters.length>0),Yu(l)&&Yu(h))return Dd(l,h.getFilters());const m=Zu(l)?l:h,E=Zu(l)?h:l,k=m.filters.map(Y=>Im(Y,E));return Xi.create(k,"or")}(s,e),Wl(t)}function Ps(s,e){if(Yu(e))return Dd(e,s.getFilters());{const t=e.filters.map(l=>Im(s,l));return Xi.create(t,"or")}}function Wl(s){if(Gn(s instanceof qr||s instanceof Xi),s instanceof qr)return s;const e=s.getFilters();if(1===e.length)return Wl(e[0]);if(bd(s))return s;const t=e.map(h=>Wl(h)),l=[];return t.forEach(h=>{h instanceof qr?l.push(h):h instanceof Xi&&(h.op===s.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:Xi.create(l,s.op)}class L_{constructor(){this.rn=new kh}addToCollectionParentIndex(e,t){return this.rn.add(t),Ft.resolve()}getCollectionParents(e,t){return Ft.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ft.resolve()}deleteFieldIndex(e,t){return Ft.resolve()}getDocumentsMatchingTarget(e,t){return Ft.resolve(null)}getIndexType(e,t){return Ft.resolve(0)}getFieldIndexes(e,t){return Ft.resolve([])}getNextCollectionGroupToUpdate(e){return Ft.resolve(null)}getMinOffset(e,t){return Ft.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return Ft.resolve(Ir.min())}updateCollectionGroup(e,t,l){return Ft.resolve()}updateIndexEntries(e,t){return Ft.resolve()}}class kh{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t]||new tr(ri.comparator),m=!h.has(l);return this.index[t]=h.add(l),m}has(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t];return h&&h.has(l)}getEntries(e){return(this.index[e]||new tr(ri.comparator)).toArray()}}const qc=new Uint8Array(0);class B_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new kh,this.un=new No(l=>vl(l),(l,h)=>aa(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const l=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:l,parent:we(h)};return $d(e).put(m)}return Ft.resolve()}getCollectionParents(e,t){const l=[],h=IDBKeyRange.bound([t,""],[Ol(t),""],!1,!0);return $d(e).j(h).next(m=>{for(const E of m){if(E.collectionId!==t)break;l.push(Rn(E.parent))}return l})}addFieldIndex(e,t){const l=zf(e),h={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var E;delete h.indexId;const m=l.add(h);if(t.indexState){const E=Vd(e);return m.next(k=>{E.put(iv(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const l=zf(e),h=Vd(e),m=Hf(e);return l.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=Hf(e);let h=!0;const m=new Map;return Ft.forEach(this.cn(t),E=>this.an(e,E).next(k=>{h&&(h=!!k),m.set(E,k)})).next(()=>{if(h){let E=Yr();const k=[];return Ft.forEach(m,(Y,ie)=>{var Se;Qt("IndexedDbIndexManager",`Using index ${Se=Y,`id=${Se.indexId}|cg=${Se.collectionGroup}|f=${Se.fields.map(ui=>`${ui.fieldPath}:${ui.kind}`).join(",")}`} to execute ${vl(t)}`);const nt=function(ui,ko){const To=Ma(ko);if(void 0===To)return null;for(const ks of lu(ui,To.fieldPath))switch(ks.op){case"array-contains-any":return ks.value.arrayValue.values||[];case"array-contains":return[ks.value]}return null}(ie,Y),kt=function(ui,ko){const To=new Map;for(const ks of fl(ko))for(const Da of lu(ui,ks.fieldPath))switch(Da.op){case"==":case"in":To.set(ks.fieldPath.canonicalString(),Da.value);break;case"not-in":case"!=":return To.set(ks.fieldPath.canonicalString(),Da.value),Array.from(To.values())}return null}(ie,Y),Xt=function(ui,ko){const To=[];let ks=!0;for(const Da of fl(ko)){const sh=0===Da.kind?Df(ui,Da.fieldPath,ui.startAt):Sd(ui,Da.fieldPath,ui.startAt);To.push(sh.value),ks&&(ks=sh.inclusive)}return new Fa(To,ks)}(ie,Y),wn=function(ui,ko){const To=[];let ks=!0;for(const Da of fl(ko)){const sh=0===Da.kind?Sd(ui,Da.fieldPath,ui.endAt):Df(ui,Da.fieldPath,ui.endAt);To.push(sh.value),ks&&(ks=sh.inclusive)}return new Fa(To,ks)}(ie,Y),jn=this.hn(Y,ie,Xt),qn=this.hn(Y,ie,wn),Jr=this.ln(Y,ie,kt),xi=this.fn(Y.indexId,nt,jn,Xt.inclusive,qn,wn.inclusive,Jr);return Ft.forEach(xi,ui=>l.H(ui,t.limit).next(ko=>{ko.forEach(To=>{const ks=On.fromSegments(To.documentKey);E.has(ks)||(E=E.add(ks),k.push(ks))})}))}).next(()=>k)}return Ft.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:F_(Xi.create(e.filters,"and")).map(l=>yl(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,l,h,m,E,k){const Y=(null!=t?t.length:1)*Math.max(l.length,m.length),ie=Y/(null!=t?t.length:1),Se=[];for(let nt=0;nt<Y;++nt){const kt=t?this.dn(t[nt/ie]):qc,Xt=this.wn(e,kt,l[nt%ie],h),wn=this._n(e,kt,m[nt%ie],E),jn=k.map(qn=>this.wn(e,kt,qn,!0));Se.push(...this.createRange(Xt,wn,jn))}return Se}wn(e,t,l,h){const m=new Kc(e,On.empty(),t,l);return h?m:m.Je()}_n(e,t,l,h){const m=new Kc(e,On.empty(),t,l);return h?m.Je():m}an(e,t){const l=new k_(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let E=null;for(const k of m)l.tn(k)&&(!E||k.fields.length>E.fields.length)&&(E=k);return E})}getIndexType(e,t){let l=2;const h=this.cn(t);return Ft.forEach(h,m=>this.an(e,m).next(E=>{E?0!==l&&E.fields.length<function(k){let Y=new tr(zi.comparator),ie=!1;for(const Se of k.filters)for(const nt of Se.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?ie=!0:Y=Y.add(nt.field));for(const Se of k.orderBy)Se.field.isKeyField()||(Y=Y.add(Se.field));return Y.size+(ie?1:0)}(m)&&(l=1):l=0})).next(()=>null!==t.limit&&h.length>1&&2===l?1:l)}mn(e,t){const l=new ng;for(const h of fl(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const E=l.He(h.kind);_l.Ve._e(m,E)}return l.Qe()}dn(e){const t=new ng;return _l.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const l=new ng;return _l.Ve._e(zu(this.databaseId,t),l.He(function(h){const m=fl(h);return 0===m.length?0:m[m.length-1].kind}(e))),l.Qe()}ln(e,t,l){if(null===l)return[];let h=[];h.push(new ng);let m=0;for(const E of fl(e)){const k=l[m++];for(const Y of h)if(this.yn(t,E.fieldPath)&&Id(k))h=this.pn(h,E,k);else{const ie=Y.He(E.kind);_l.Ve._e(k,ie)}}return this.In(h)}hn(e,t,l){return this.ln(e,t,l.position)}In(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].Qe();return t}pn(e,t,l){const h=[...e],m=[];for(const E of l.arrayValue.values||[])for(const k of h){const Y=new ng;Y.seed(k.Qe()),_l.Ve._e(E,Y.He(t.kind)),m.push(Y)}return m}yn(e,t){return!!e.filters.find(l=>l instanceof qr&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=zf(e),h=Vd(e);return(t?l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.j()).next(m=>{const E=[];return Ft.forEach(m,k=>h.get([k.indexId,this.uid]).next(Y=>{E.push(function(ie,Se){const nt=Se?new kl(Se.sequenceNumber,new Ir(ta(Se.readTime),new On(Rn(Se.documentKey)),Se.largestBatchId)):kl.empty(),kt=ie.fields.map(([Xt,wn])=>new Qa(zi.fromServerFormat(Xt),wn));return new hl(ie.indexId,ie.collectionGroup,kt,nt)}(k,Y))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,h)=>{const m=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:ir(l.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const h=zf(e),m=Vd(e);return this.Tn(e).next(E=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>Ft.forEach(k,Y=>m.put(iv(Y.indexId,this.user,E,l)))))}updateIndexEntries(e,t){const l=new Map;return Ft.forEach(t,(h,m)=>{const E=l.get(h.collectionGroup);return(E?Ft.resolve(E):this.getFieldIndexes(e,h.collectionGroup)).next(k=>(l.set(h.collectionGroup,k),Ft.forEach(k,Y=>this.En(e,h,Y).next(ie=>{const Se=this.An(m,Y);return ie.isEqual(Se)?Ft.resolve():this.vn(e,m,Y,ie,Se)}))))})}Rn(e,t,l,h){return Hf(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(l,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,l,h){return Hf(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(l,t.key),t.key.path.toArray()])}En(e,t,l){const h=Hf(e);let m=new tr(ac);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.gn(l,t)])},(E,k)=>{m=m.add(new Kc(l.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>m)}An(e,t){let l=new tr(ac);const h=this.mn(t,e);if(null==h)return l;const m=Ma(t);if(null!=m){const E=e.data.field(m.fieldPath);if(Id(E))for(const k of E.arrayValue.values||[])l=l.add(new Kc(t.indexId,e.key,this.dn(k),h))}else l=l.add(new Kc(t.indexId,e.key,qc,h));return l}vn(e,t,l,h,m){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(k,Y,ie,Se,nt){const kt=k.getIterator(),Xt=Y.getIterator();let wn=Oa(kt),jn=Oa(Xt);for(;wn||jn;){let qn=!1,Jr=!1;if(wn&&jn){const xi=ie(wn,jn);xi<0?Jr=!0:xi>0&&(qn=!0)}else null!=wn?Jr=!0:qn=!0;qn?(Se(jn),jn=Oa(Xt)):Jr?(nt(wn),wn=Oa(kt)):(wn=Oa(kt),jn=Oa(Xt))}}(h,m,ac,k=>{E.push(this.Rn(e,t,l,k))},k=>{E.push(this.Pn(e,t,l,k))}),Ft.waitFor(E)}Tn(e){let t=1;return Vd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((E,k)=>ac(E,k)).filter((E,k,Y)=>!k||0!==ac(E,Y[k-1]));const h=[];h.push(e);for(const E of l){const k=ac(E,e),Y=ac(E,t);if(0===k)h[0]=e.Je();else if(k>0&&Y<0)h.push(E),h.push(E.Je());else if(Y>0)break}h.push(t);const m=[];for(let E=0;E<h.length;E+=2){if(this.bn(h[E],h[E+1]))return[];m.push(IDBKeyRange.bound([h[E].indexId,this.uid,h[E].arrayValue,h[E].directionalValue,qc,[]],[h[E+1].indexId,this.uid,h[E+1].arrayValue,h[E+1].directionalValue,qc,[]]))}return m}bn(e,t){return ac(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(av)}getMinOffset(e,t){return Ft.mapArray(this.cn(t),l=>this.an(e,l).next(h=>h||Ln())).next(av)}}function $d(s){return Eo(s,"collectionParents")}function Hf(s){return Eo(s,"indexEntries")}function zf(s){return Eo(s,"indexConfiguration")}function Vd(s){return Eo(s,"indexState")}function av(s){Gn(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<s.length;l++){const h=s[l].indexState.offset;Ra(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}const sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fo{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ki(s,e,t){const l=s.store("mutations"),h=s.store("documentMutations"),m=[],E=IDBKeyRange.only(t.batchId);let k=0;const Y=l.X({range:E},(Se,nt,kt)=>(k++,kt.delete()));m.push(Y.next(()=>{Gn(1===k)}));const ie=[];for(const Se of t.mutations){const nt=Bi(e,Se.key.path,t.batchId);m.push(h.delete(nt)),ie.push(Se.key)}return Ft.waitFor(m).next(()=>ie)}function Yc(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Ln();e=s.noDocument}return JSON.stringify(e).length}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class Gf{constructor(e,t,l,h){this.userId=e,this.serializer=t,this.indexManager=l,this.referenceDelegate=h,this.Vn={}}static de(e,t,l,h){Gn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Gf(m,t,l,h)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lc(e).X({index:"userMutationsIndex",range:l},(h,m,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,l,h){const m=Zc(e),E=lc(e);return E.add({}).next(k=>{Gn("number"==typeof k);const Y=new Uc(k,t,l,h),ie=function(kt,Xt,wn){const jn=wn.baseMutations.map(Jr=>Bf(kt.fe,Jr)),qn=wn.mutations.map(Jr=>Bf(kt.fe,Jr));return{userId:Xt,batchId:wn.batchId,localWriteTimeMs:wn.localWriteTime.toMillis(),baseMutations:jn,mutations:qn}}(this.serializer,this.userId,Y),Se=[];let nt=new tr((kt,Xt)=>ir(kt.canonicalString(),Xt.canonicalString()));for(const kt of h){const Xt=Bi(this.userId,kt.key.path,k);nt=nt.add(kt.key.path.popLast()),Se.push(E.put(ie)),Se.push(m.put(Xt,lo))}return nt.forEach(kt=>{Se.push(this.indexManager.addToCollectionParentIndex(e,kt))}),e.addOnCommittedListener(()=>{this.Vn[k]=Y.keys()}),Ft.waitFor(Se).next(()=>Y)})}lookupMutationBatch(e,t){return lc(e).get(t).next(l=>l?(Gn(l.userId===this.userId),Ld(this.serializer,l)):null)}Sn(e,t){return this.Vn[t]?Ft.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const h=l.keys();return this.Vn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,h=IDBKeyRange.lowerBound([this.userId,l]);let m=null;return lc(e).X({index:"userMutationsIndex",range:h},(E,k,Y)=>{k.userId===this.userId&&(Gn(k.batchId>=l),m=Ld(this.serializer,k)),Y.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return lc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(h,m,E)=>{l=m.batchId,E.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lc(e).j("userMutationsIndex",t).next(l=>l.map(h=>Ld(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=mn(this.userId,t.path),h=IDBKeyRange.lowerBound(l),m=[];return Zc(e).X({range:h},(E,k,Y)=>{const[ie,Se,nt]=E,kt=Rn(Se);if(ie===this.userId&&t.path.isEqual(kt))return lc(e).get(nt).next(Xt=>{if(!Xt)throw Ln();Gn(Xt.userId===this.userId),m.push(Ld(this.serializer,Xt))});Y.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new tr(ir);const h=[];return t.forEach(m=>{const E=mn(this.userId,m.path),k=IDBKeyRange.lowerBound(E),Y=Zc(e).X({range:k},(ie,Se,nt)=>{const[kt,Xt,wn]=ie,jn=Rn(Xt);kt===this.userId&&m.path.isEqual(jn)?l=l.add(wn):nt.done()});h.push(Y)}),Ft.waitFor(h).next(()=>this.Dn(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1,m=mn(this.userId,l),E=IDBKeyRange.lowerBound(m);let k=new tr(ir);return Zc(e).X({range:E},(Y,ie,Se)=>{const[nt,kt,Xt]=Y,wn=Rn(kt);nt===this.userId&&l.isPrefixOf(wn)?wn.length===h&&(k=k.add(Xt)):Se.done()}).next(()=>this.Dn(e,k))}Dn(e,t){const l=[],h=[];return t.forEach(m=>{h.push(lc(e).get(m).next(E=>{if(null===E)throw Ln();Gn(E.userId===this.userId),l.push(Ld(this.serializer,E))}))}),Ft.waitFor(h).next(()=>l)}removeMutationBatch(e,t){return ki(e.ht,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ft.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ft.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return Zc(e).X({range:l},(m,E,k)=>{if(m[0]===this.userId){const Y=Rn(m[1]);h.push(Y)}else k.done()}).next(()=>{Gn(0===h.length)})})}containsKey(e,t){return Wf(e,this.userId,t)}xn(e){return lv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wf(s,e,t){const l=mn(e,t.path),h=l[1],m=IDBKeyRange.lowerBound(l);let E=!1;return Zc(s).X({range:m,Y:!0},(k,Y,ie)=>{const[Se,nt,kt]=k;Se===e&&nt===h&&(E=!0),ie.done()}).next(()=>E)}function lc(s){return Eo(s,"mutations")}function Zc(s){return Eo(s,"documentMutations")}function lv(s){return Eo(s,"mutationQueues")}class uc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new uc(0)}static Mn(){return new uc(-1)}}class Cm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const l=new uc(t.highestTargetId);return t.highestTargetId=l.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>dr.fromTimestamp(new _i(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.$n(e).next(h=>(h.highestListenSequenceNumber=t,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.On(e,h)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(l=>(l.targetCount+=1,this.Bn(t,l),this.On(e,l))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wu(e).delete(t.targetId)).next(()=>this.$n(e)).next(l=>(Gn(l.targetCount>0),l.targetCount-=1,this.On(e,l)))}removeTargets(e,t,l){let h=0;const m=[];return wu(e).X((E,k)=>{const Y=Jp(k);Y.sequenceNumber<=t&&null===l.get(Y.targetId)&&(h++,m.push(this.removeTargetData(e,Y)))}).next(()=>Ft.waitFor(m)).next(()=>h)}forEachTarget(e,t){return wu(e).X((l,h)=>{const m=Jp(h);t(m)})}$n(e){return uv(e).get("targetGlobalKey").next(t=>(Gn(null!==t),t))}On(e,t){return uv(e).put("targetGlobalKey",t)}Fn(e,t){return wu(e).put(Rh(this.serializer,t))}Bn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const l=vl(t),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let m=null;return wu(e).X({range:h,index:"queryTargetsIndex"},(E,k,Y)=>{const ie=Jp(k);aa(t,ie.target)&&(m=ie,Y.done())}).next(()=>m)}addMatchingKeys(e,t,l){const h=[],m=ro(e);return t.forEach(E=>{const k=we(E.path);h.push(m.put({targetId:l,path:k})),h.push(this.referenceDelegate.addReference(e,l,E))}),Ft.waitFor(h)}removeMatchingKeys(e,t,l){const h=ro(e);return Ft.forEach(t,m=>{const E=we(m.path);return Ft.waitFor([h.delete([l,E]),this.referenceDelegate.removeReference(e,l,m)])})}removeMatchingKeysForTargetId(e,t){const l=ro(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),h=ro(e);let m=Yr();return h.X({range:l,Y:!0},(E,k,Y)=>{const ie=Rn(E[1]),Se=new On(ie);m=m.add(Se)}).next(()=>m)}containsKey(e,t){const l=we(t.path),h=IDBKeyRange.bound([l],[Ol(l)],!1,!0);let m=0;return ro(e).X({index:"documentTargetsIndex",Y:!0,range:h},([E,k],Y,ie)=>{0!==E&&(m++,ie.done())}).next(()=>m>0)}le(e,t){return wu(e).get(t).next(l=>l?Jp(l):null)}}function wu(s){return Eo(s,"targets")}function uv(s){return Eo(s,"targetGlobal")}function ro(s){return Eo(s,"targetDocuments")}function Kf([s,e],[t,l]){const h=ir(s,t);return 0===h?ir(e,l):h}class Iu{constructor(e){this.Ln=e,this.buffer=new tr(Kf),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();Kf(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fh{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){xa(l)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Go(l)}yield t.Qn(3e5)}))}}class sl{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return Ft.resolve(D.ct);const l=new Iu(t);return this.jn.forEachTarget(e,h=>l.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>l.Kn(h))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.jn.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Ft.resolve(sg)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sg):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let l,h,m,E,k,Y,ie;const Se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(nt=>(nt>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${nt}`),h=this.params.maximumSequenceNumbersToCollect):h=nt,E=Date.now(),this.nthSequenceNumber(e,h))).next(nt=>(l=nt,k=Date.now(),this.removeTargets(e,l,t))).next(nt=>(m=nt,Y=Date.now(),this.removeOrphanedDocuments(e,l))).next(nt=>(ie=Date.now(),Fr()<=ye.in.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Se}ms\n\tDetermined least recently used ${h} in `+(k-E)+`ms\n\tRemoved ${m} targets in `+(Y-k)+`ms\n\tRemoved ${nt} documents in `+(ie-Y)+`ms\nTotal Duration: ${ie-Se}ms`),Ft.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:nt})))}}class cv{constructor(e,t){this.db=e,this.garbageCollector=function Ba(s,e){return new sl(s,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(h=>l+h))}Jn(e){let t=0;return this.Wn(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(l,h)=>t(h))}addReference(e,t,l){return Ud(e,l)}removeReference(e,t,l){return Ud(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return Ud(e,t)}Xn(e,t){return function(l,h){let m=!1;return lv(l).Z(E=>Wf(l,E,h).next(k=>(k&&(m=!0),Ft.resolve(!k)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Yn(e,(E,k)=>{if(k<=t){const Y=this.Xn(e,E).next(ie=>{if(!ie)return m++,l.getEntry(e,E).next(()=>(l.removeEntry(E,dr.min()),ro(e).delete([0,we(E.path)])))});h.push(Y)}}).next(()=>Ft.waitFor(h)).next(()=>l.apply(e)).next(()=>m)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return Ud(e,t)}Yn(e,t){const l=ro(e);let h,m=D.ct;return l.X({index:"documentTargetsIndex"},([E,k],{path:Y,sequenceNumber:ie})=>{0===E?(m!==D.ct&&t(new On(Rn(h)),m),m=ie,h=Y):m=D.ct}).next(()=>{m!==D.ct&&t(new On(Rn(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ud(s,e){return ro(s).put((l=s.currentSequenceNumber,{targetId:0,path:we(e.path),sequenceNumber:l}));var l}class Kl{constructor(){this.changes=new No(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?Ft.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return cc(e).put(l)}removeEntry(e,t,l){return cc(e).delete(function(h,m){const E=h.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Fd(m),E[E.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Zn(e,l)))}getEntry(e,t){let l=ii.newInvalidDocument(t);return cc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(jd(t))},(h,m)=>{l=this.ts(t,m)}).next(()=>l)}es(e,t){let l={size:0,document:ii.newInvalidDocument(t)};return cc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(jd(t))},(h,m)=>{l={document:this.ts(t,m),size:Yc(m)}}).next(()=>l)}getEntries(e,t){let l=wo();return this.ns(e,t,(h,m)=>{const E=this.ts(h,m);l=l.insert(h,E)}).next(()=>l)}ss(e,t){let l=wo(),h=new Ri(On.comparator);return this.ns(e,t,(m,E)=>{const k=this.ts(m,E);l=l.insert(m,k),h=h.insert(m,Yc(E))}).next(()=>({documents:l,rs:h}))}ns(e,t,l){if(t.isEmpty())return Ft.resolve();let h=new tr(hv);t.forEach(Y=>h=h.add(Y));const m=IDBKeyRange.bound(jd(h.first()),jd(h.last())),E=h.getIterator();let k=E.getNext();return cc(e).X({index:"documentKeyIndex",range:m},(Y,ie,Se)=>{const nt=On.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;k&&hv(k,nt)<0;)l(k,null),k=E.getNext();k&&k.isEqual(nt)&&(l(k,ie),k=E.hasNext()?E.getNext():null),k?Se.G(jd(k)):Se.done()}).next(()=>{for(;k;)l(k,null),k=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,t,l,h){const m=t.path,E=[m.popLast().toArray(),m.lastSegment(),Fd(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],k=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cc(e).j(IDBKeyRange.bound(E,k,!0)).next(Y=>{let ie=wo();for(const Se of Y){const nt=this.ts(On.fromSegments(Se.prefixPath.concat(Se.collectionGroup,Se.documentId)),Se);nt.isFoundDocument()&&($n(t,nt)||h.has(nt.key))&&(ie=ie.insert(nt.key,nt))}return ie})}getAllFromCollectionGroup(e,t,l,h){let m=wo();const E=dv(t,l),k=dv(t,Ir.max());return cc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,k,!0)},(Y,ie,Se)=>{const nt=this.ts(On.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);m=m.insert(nt.key,nt),m.size===h&&Se.done()}).next(()=>m)}newChangeBuffer(e){return new ag(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Cu(e).get("remoteDocumentGlobalKey").next(t=>(Gn(!!t),t))}Zn(e,t){return Cu(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const l=function kd(s,e){let t;if(e.document)t=mu(s.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=On.fromSegments(e.noDocument.path),h=ta(e.noDocument.readTime);t=ii.newNoDocument(l,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ln();{const l=On.fromSegments(e.unknownDocument.path),h=ta(e.unknownDocument.version);t=ii.newUnknownDocument(l,h)}}return e.readTime&&t.setReadTime(function(l){const h=new _i(l[0],l[1]);return dr.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!l.isNoDocument()||!l.version.isEqual(dr.min()))return l}return ii.newInvalidDocument(e)}}function og(s){return new mE(s)}class ag extends Kl{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new No(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const t=[];let l=0,h=new tr((m,E)=>ir(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const k=this.us.get(m);if(t.push(this.os.removeEntry(e,m,k.readTime)),E.isValidDocument()){const Y=Ah(this.os.serializer,E);h=h.add(m.path.popLast());const ie=Yc(Y);l+=ie-k.size,t.push(this.os.addEntry(e,m,Y))}else if(l-=k.size,this.trackRemovals){const Y=Ah(this.os.serializer,E.convertToNoDocument(dr.min()));t.push(this.os.addEntry(e,m,Y))}}),h.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,l)),Ft.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(l=>(this.us.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:l,rs:h})=>(h.forEach((m,E)=>{this.us.set(m,{size:E,readTime:l.get(m).readTime})}),l))}}function Cu(s){return Eo(s,"remoteDocumentGlobal")}function cc(s){return Eo(s,"remoteDocumentsV14")}function jd(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dv(s,e){const t=e.documentKey.path.toArray();return[s,Fd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hv(s,e){const t=s.path.toArray(),l=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<l.length-2;++m)if(h=ir(t[m],l[m]),h)return h;return h=ir(t.length,l.length),h||(h=ir(t[t.length-2],l[l.length-2]),h||ir(t[t.length-1],l[l.length-1]))}class Lh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bu{constructor(e,t,l,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==l&&Mf(l.mutation,h,co.empty(),_i.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,Yr()).next(()=>l))}getLocalViewOfDocuments(e,t,l=Yr()){const h=Ea();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,l).next(m=>{let E=cu();return m.forEach((k,Y)=>{E=E.insert(k,Y.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const l=Ea();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,Yr()))}populateOverlays(e,t,l){const h=[];return l.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((E,k)=>{t.set(E,k)})})}computeViews(e,t,l,h){let m=wo();const E=du(),k=du();return t.forEach((Y,ie)=>{const Se=l.get(ie.key);h.has(ie.key)&&(void 0===Se||Se.mutation instanceof zl)?m=m.insert(ie.key,ie):void 0!==Se?(E.set(ie.key,Se.mutation.getFieldMask()),Mf(Se.mutation,ie,Se.mutation.getFieldMask(),_i.now())):E.set(ie.key,co.empty())}),this.recalculateAndSaveOverlays(e,m).next(Y=>(Y.forEach((ie,Se)=>E.set(ie,Se)),t.forEach((ie,Se)=>{var nt;return k.set(ie,new Lh(Se,null!==(nt=E.get(ie))&&void 0!==nt?nt:null))}),k))}recalculateAndSaveOverlays(e,t){const l=du();let h=new Ri((E,k)=>E-k),m=Yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const k of E)k.keys().forEach(Y=>{const ie=t.get(Y);if(null===ie)return;let Se=l.get(Y)||co.empty();Se=k.applyToLocalView(ie,Se),l.set(Y,Se);const nt=(h.get(k.batchId)||Yr()).add(Y);h=h.insert(k.batchId,nt)})}).next(()=>{const E=[],k=h.getReverseIterator();for(;k.hasNext();){const Y=k.getNext(),ie=Y.key,Se=Y.value,nt=wa();Se.forEach(kt=>{if(!m.has(kt)){const Xt=Vp(t.get(kt),l.get(kt));null!==Xt&&nt.set(kt,Xt),m=m.add(kt)}}),E.push(this.documentOverlayCache.saveOverlays(e,ie,nt))}return Ft.waitFor(E)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return On.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var h}getNextDocuments(e,t,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,h).next(m=>{const E=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,h-m.size):Ft.resolve(Ea());let k=-1,Y=m;return E.next(ie=>Ft.forEach(ie,(Se,nt)=>(k<nt.largestBatchId&&(k=nt.largestBatchId),m.get(Se)?Ft.resolve():this.remoteDocumentCache.getEntry(e,Se).next(kt=>{Y=Y.insert(Se,kt)}))).next(()=>this.populateOverlays(e,ie,m)).next(()=>this.computeViews(e,Y,ie,Yr())).next(Se=>({batchId:k,changes:mh(Se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new On(t)).next(l=>{let h=cu();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const h=t.collectionGroup;let m=cu();return this.indexManager.getCollectionParents(e,h).next(E=>Ft.forEach(E,k=>{const Y=(ie=t,Se=k.child(h),new jl(Se,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,Se;return this.getDocumentsMatchingCollectionQuery(e,Y,l).next(ie=>{ie.forEach((Se,nt)=>{m=m.insert(Se,nt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,h))).next(m=>{h.forEach((k,Y)=>{const ie=Y.getKey();null===m.get(ie)&&(m=m.insert(ie,ii.newInvalidDocument(ie)))});let E=cu();return m.forEach((k,Y)=>{const ie=h.get(k);void 0!==ie&&Mf(ie.mutation,Y,co.empty(),_i.now()),$n(t,Y)&&(E=E.insert(k,Y))}),E})}}class qf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ft.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var l;return this.cs.set(t.id,{id:(l=t).id,version:l.version,createTime:Us(l.createTime)}),Ft.resolve()}getNamedQuery(e,t){return Ft.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(l=t).name,query:eg(l.bundledQuery),readTime:Us(l.readTime)}),Ft.resolve();var l}}class bm{constructor(){this.overlays=new Ri(On.comparator),this.ls=new Map}getOverlay(e,t){return Ft.resolve(this.overlays.get(t))}getOverlays(e,t){const l=Ea();return Ft.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((h,m)=>{this.we(e,t,m)}),Ft.resolve()}removeOverlaysForBatchId(e,t,l){const h=this.ls.get(l);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(l)),Ft.resolve()}getOverlaysForCollection(e,t,l){const h=Ea(),m=t.length+1,E=new On(t.child("")),k=this.overlays.getIteratorFrom(E);for(;k.hasNext();){const Y=k.getNext().value,ie=Y.getKey();if(!t.isPrefixOf(ie.path))break;ie.path.length===m&&Y.largestBatchId>l&&h.set(Y.getKey(),Y)}return Ft.resolve(h)}getOverlaysForCollectionGroup(e,t,l,h){let m=new Ri((ie,Se)=>ie-Se);const E=this.overlays.getIterator();for(;E.hasNext();){const ie=E.getNext().value;if(ie.getKey().getCollectionGroup()===t&&ie.largestBatchId>l){let Se=m.get(ie.largestBatchId);null===Se&&(Se=Ea(),m=m.insert(ie.largestBatchId,Se)),Se.set(ie.getKey(),ie)}}const k=Ea(),Y=m.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((ie,Se)=>k.set(ie,Se)),!(k.size()>=h)););return Ft.resolve(k)}we(e,t,l){const h=this.overlays.get(l.key);if(null!==h){const E=this.ls.get(h.largestBatchId).delete(l.key);this.ls.set(h.largestBatchId,E)}this.overlays=this.overlays.insert(l.key,new ym(t,l));let m=this.ls.get(t);void 0===m&&(m=Yr(),this.ls.set(t,m)),this.ls.set(t,m.add(l.key))}}class lg{constructor(){this.fs=new tr(Co.ds),this.ws=new tr(Co._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const l=new Co(e,t);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.ys(new Co(e,t))}ps(e,t){e.forEach(l=>this.removeReference(l,t))}Is(e){const t=new On(new ri([])),l=new Co(t,e),h=new Co(t,e+1),m=[];return this.ws.forEachInRange([l,h],E=>{this.ys(E),m.push(E.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new On(new ri([])),l=new Co(t,e),h=new Co(t,e+1);let m=Yr();return this.ws.forEachInRange([l,h],E=>{m=m.add(E.key)}),m}containsKey(e){const t=new Co(e,0),l=this.fs.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class Co{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return On.comparator(e.key,t.key)||ir(e.As,t.As)}static _s(e,t){return ir(e.As,t.As)||On.comparator(e.key,t.key)}}class Dm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new tr(Co.ds)}checkEmpty(e){return Ft.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,h){const m=this.vs;this.vs++;const E=new Uc(m,t,l,h);this.mutationQueue.push(E);for(const k of h)this.Rs=this.Rs.add(new Co(k.key,m)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Ft.resolve(E)}lookupMutationBatch(e,t){return Ft.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.bs(t+1),m=h<0?0:h;return Ft.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Ft.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new Co(t,0),h=new Co(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([l,h],E=>{const k=this.Ps(E.As);m.push(k)}),Ft.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new tr(ir);return t.forEach(h=>{const m=new Co(h,0),E=new Co(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,E],k=>{l=l.add(k.As)})}),Ft.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1;let m=l;On.isDocumentKey(m)||(m=m.child(""));const E=new Co(new On(m),0);let k=new tr(ir);return this.Rs.forEachWhile(Y=>{const ie=Y.key.path;return!!l.isPrefixOf(ie)&&(ie.length===h&&(k=k.add(Y.As)),!0)},E),Ft.resolve(this.Vs(k))}Vs(e){const t=[];return e.forEach(l=>{const h=this.Ps(l);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){Gn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return Ft.forEach(t.mutations,h=>{const m=new Co(h.key,t.batchId);return l=l.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=l})}Cn(e){}containsKey(e,t){const l=new Co(t,0),h=this.Rs.firstAfterOrEqual(l);return Ft.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Ft.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fv{constructor(e){this.Ds=e,this.docs=new Ri(On.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,h=this.docs.get(l),m=h?h.size:0,E=this.Ds(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return Ft.resolve(l?l.document.mutableCopy():ii.newInvalidDocument(t))}getEntries(e,t){let l=wo();return t.forEach(h=>{const m=this.docs.get(h);l=l.insert(h,m?m.document.mutableCopy():ii.newInvalidDocument(h))}),Ft.resolve(l)}getDocumentsMatchingQuery(e,t,l,h){let m=wo();const E=t.path,k=new On(E.child("")),Y=this.docs.getIteratorFrom(k);for(;Y.hasNext();){const{key:ie,value:{document:Se}}=Y.getNext();if(!E.isPrefixOf(ie.path))break;ie.path.length>E.length+1||Ra(li(Se),l)<=0||(h.has(Se.key)||$n(t,Se))&&(m=m.insert(Se.key,Se.mutableCopy()))}return Ft.resolve(m)}getAllFromCollectionGroup(e,t,l,h){Ln()}Cs(e,t){return Ft.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new Sm(this)}getSize(e){return Ft.resolve(this.size)}}class Sm extends Kl{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?t.push(this.os.addEntry(e,h)):this.os.removeEntry(l)}),Ft.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class El{constructor(e){this.persistence=e,this.xs=new No(t=>vl(t),aa),this.lastRemoteSnapshotVersion=dr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new lg,this.targetCount=0,this.Ms=uc.kn()}forEachTarget(e,t){return this.xs.forEach((l,h)=>t(h)),Ft.resolve()}getLastRemoteSnapshotVersion(e){return Ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ft.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ft.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.Ns&&(this.Ns=t),Ft.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new uc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ft.resolve()}updateTargetData(e,t){return this.Fn(t),Ft.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ft.resolve()}removeTargets(e,t,l){let h=0;const m=[];return this.xs.forEach((E,k)=>{k.sequenceNumber<=t&&null===l.get(k.targetId)&&(this.xs.delete(E),m.push(this.removeMatchingKeysForTargetId(e,k.targetId)),h++)}),Ft.waitFor(m).next(()=>h)}getTargetCount(e){return Ft.resolve(this.targetCount)}getTargetData(e,t){const l=this.xs.get(t)||null;return Ft.resolve(l)}addMatchingKeys(e,t,l){return this.ks.gs(t,l),Ft.resolve()}removeMatchingKeys(e,t,l){this.ks.ps(t,l);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(E=>{m.push(h.markPotentiallyOrphaned(e,E))}),Ft.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ft.resolve()}getMatchingKeysForTargetId(e,t){const l=this.ks.Es(t);return Ft.resolve(l)}containsKey(e,t){return Ft.resolve(this.ks.containsKey(t))}}class Tm{constructor(e,t){this.$s={},this.overlays={},this.Os=new D(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new El(this),this.indexManager=new L_,this.remoteDocumentCache=new fv(l=>this.referenceDelegate.Ls(l)),this.serializer=new _u(t),this.qs=new qf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.$s[e.toKey()];return l||(l=new Dm(t,this.referenceDelegate),this.$s[e.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,l){Qt("MemoryPersistence","Starting transaction:",e);const h=new $_(this.Os.next());return this.referenceDelegate.Us(),l(h).next(m=>this.referenceDelegate.Ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Gs(e,t){return Ft.or(Object.values(this.$s).map(l=>()=>l.containsKey(e,t)))}}class $_ extends to{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Qs=new lg,this.js=null}static zs(e){return new ug(e)}get Ws(){if(this.js)return this.js;throw Ln()}addReference(e,t,l){return this.Qs.addReference(l,t),this.Ws.delete(l.toString()),Ft.resolve()}removeReference(e,t,l){return this.Qs.removeReference(l,t),this.Ws.add(l.toString()),Ft.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ft.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(h=>this.Ws.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Ws.add(m.toString()))}).next(()=>l.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ft.forEach(this.Ws,l=>{const h=On.fromPath(l);return this.Hs(e,h).next(m=>{m||t.removeEntry(h,dr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(l=>{l?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ft.or([()=>Ft.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class V_{constructor(e){this.serializer=e}O(e,t,l,h){const m=new Zi("createOrUpgrade",t);var k;l<1&&h>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lr,{unique:!0}),k.createObjectStore("documentMutations"),pv(e),function(k){k.createObjectStore("remoteDocuments")}(e));let E=Ft.resolve();return l<3&&h>=3&&(0!==l&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),pv(e)),E=E.next(()=>function(k){const Y=k.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dr.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",ie)}(m))),l<4&&h>=4&&(0!==l&&(E=E.next(()=>function(k,Y){return Y.store("mutations").j().next(ie=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lr,{unique:!0});const Se=Y.store("mutations"),nt=ie.map(kt=>Se.put(kt));return Ft.waitFor(nt)})}(e,m))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(E=E.next(()=>this.Ys(m))),l<6&&h>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),l<7&&h>=7&&(E=E.next(()=>this.Zs(m))),l<8&&h>=8&&(E=E.next(()=>this.ti(e,m))),l<9&&h>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(E=E.next(()=>this.ei(m))),l<11&&h>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(E=E.next(()=>{!function(k){const Y=k.createObjectStore("documentOverlays",{keyPath:Ef});Y.createIndex("collectionPathOverlayIndex",Ja,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Oc,{unique:!1})}(e)})),l<13&&h>=13&&(E=E.next(()=>function(k){const Y=k.createObjectStore("remoteDocumentsV14",{keyPath:Xo});Y.createIndex("documentKeyIndex",no),Y.createIndex("collectionGroupIndex",pl)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(E=E.next(()=>this.si(e,m))),l<15&&h>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Xa}).createIndex("sequenceNumberIndex",xp,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Pp}).createIndex("documentKeyIndex",md,{unique:!1})}(e))),E}Xs(e){let t=0;return e.store("remoteDocuments").X((l,h)=>{t+=Yc(h)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Ys(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.j().next(h=>Ft.forEach(h,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",E).next(k=>Ft.forEach(k,Y=>{Gn(Y.userId===m.userId);const ie=Ld(this.serializer,Y);return ki(e,m.userId,ie).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return l.X((E,k)=>{const Y=new ri(E),ie=[0,we(Y)];m.push(t.get(ie).next(Se=>Se?Ft.resolve():t.put({targetId:0,path:we(Y),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Ft.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Uu});const l=t.store("collectionParents"),h=new kh,m=E=>{if(h.add(E)){const k=E.lastSegment(),Y=E.popLast();return l.put({collectionId:k,parent:we(Y)})}};return t.store("remoteDocuments").X({Y:!0},(E,k)=>{const Y=new ri(E);return m(Y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([E,k,Y],ie)=>{const Se=Rn(k);return m(Se.popLast())}))}ei(e){const t=e.store("targets");return t.X((l,h)=>{const m=Jp(h),E=Rh(this.serializer,m);return t.put(E)})}ni(e,t){const l=t.store("remoteDocuments"),h=[];return l.X((m,E)=>{const k=t.store("remoteDocumentsV14"),Y=(ie=E,ie.document?new On(ri.fromString(ie.document.name).popFirst(5)):ie.noDocument?On.fromSegments(ie.noDocument.path):ie.unknownDocument?On.fromSegments(ie.unknownDocument.path):Ln()).path.toArray();var ie;const Se={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};h.push(k.put(Se))}).next(()=>Ft.waitFor(h))}si(e,t){const l=t.store("mutations"),h=og(this.serializer),m=new Tm(ug.zs,this.serializer.fe);return l.j().next(E=>{const k=new Map;return E.forEach(Y=>{var ie;let Se=null!==(ie=k.get(Y.userId))&&void 0!==ie?ie:Yr();Ld(this.serializer,Y).keys().forEach(nt=>Se=Se.add(nt)),k.set(Y.userId,Se)}),Ft.forEach(k,(Y,ie)=>{const Se=new yn(ie),nt=Uf.de(this.serializer,Se),kt=m.getIndexManager(Se),Xt=Gf.de(Se,this.serializer,kt,m.referenceDelegate);return new bu(h,Xt,nt,kt).recalculateAndSaveOverlaysForDocumentKeys(new Gi(t,D.ct),Y).next()})})}}function pv(s){s.createObjectStore("targetDocuments",{keyPath:gd}).createIndex("documentTargetsIndex",hs,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uo,{unique:!0}),s.createObjectStore("targetGlobal")}const gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mv{constructor(e,t,l,h,m,E,k,Y,ie,Se,nt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.ii=m,this.window=E,this.document=k,this.ri=ie,this.oi=Se,this.ui=nt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=kt=>Promise.resolve(),!mv.D())throw new Vt(Ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cv(this,h),this.di=t+"main",this.serializer=new _u(Y),this.wi=new Tr(this.di,this.ui,new V_(this.serializer)),this.Bs=new Cm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=og(this.serializer),this.qs=new tg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Se&&Gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vt(Ze.FAILED_PRECONDITION,gv);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new D(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var l=(0,y.Z)(function*(h){if(t.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,y.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,y.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(xa(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Qc(e).get("owner").next(t=>Ft.resolve(this.Ri(t)))}Pi(e){return dg(e).delete(this.clientId)}bi(){var e=this;return(0,y.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=Eo(l,"clientMetadata");return h.j().next(m=>{const E=e.Si(m,18e5),k=m.filter(Y=>-1===E.indexOf(Y));return Ft.forEach(k,Y=>h.delete(Y.clientId)).next(()=>k)})}).catch(()=>[]);if(e._i)for(const l of t)e._i.removeItem(e.Di(l.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ft.resolve(!0):Qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Vt(Ze.FAILED_PRECONDITION,gv);return!1}}return!(!this.networkEnabled||!this.inForeground)||dg(e).j().next(l=>void 0===this.Si(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,y.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new Gi(t,D.ct);return e.Ai(l).next(()=>e.Pi(l))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(l=>this.Vi(l.updateTimeMs,t)&&!this.Ci(l.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>dg(e).j().next(t=>this.Si(t,18e5).map(l=>l.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Gf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new B_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Uf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,l){Qt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(E=this.ui)?vd:14===E?ch:13===E?yd:12===E?uh:11===E?iu:void Ln();var E;let k;return this.wi.runTransaction(e,h,m,Y=>(k=new Gi(Y,this.Os?this.Os.next():D.ct),"readwrite-primary"===t?this.Ti(k).next(ie=>!!ie||this.Ei(k)).next(ie=>{if(!ie)throw Gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Vt(Ze.FAILED_PRECONDITION,Yi);return l(k)}).next(ie=>this.vi(k).next(()=>ie)):this.Oi(k).next(()=>l(k)))).then(Y=>(k.raiseOnCommittedEvent(),Y))}Oi(e){return Qc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Vt(Ze.FAILED_PRECONDITION,gv)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qc(e).put("owner",t)}static D(){return Tr.D()}Ai(e){const t=Qc(e);return t.get("owner").next(l=>this.Ri(l)?(Qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ft.resolve())}Vi(e,t){const l=Date.now();return!(e<l-t||e>l&&(Gr(`Detected an update time that is in the future: ${e} > ${l}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,be.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const l=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Qt("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Gr("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Gr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qc(s){return Eo(s,"owner")}function dg(s){return Eo(s,"clientMetadata")}function Yf(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Zf{constructor(e,t,l,h){this.targetId=e,this.fromCache=t,this.Fi=l,this.Bi=h}static Li(e,t){let l=Yr(),h=Yr();for(const m of t.docChanges)switch(m.type){case 0:l=l.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Zf(e,t.fromCache,l,h)}}class Bh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,l,h){return this.Ki(e,t).next(m=>m||this.Gi(e,t,h,l)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(Np(t))return Ft.resolve(null);let l=P(t);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=Te(t,null,"F"),l=P(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(m=>{const E=Yr(...m);return this.Ui.getDocuments(e,E).next(k=>this.indexManager.getMinOffset(e,l).next(Y=>{const ie=this.ji(t,k);return this.zi(t,ie,E,Y.readTime)?this.Ki(e,Te(t,null,"F")):this.Wi(e,ie,t,Y)}))})))}Gi(e,t,l,h){return Np(t)||h.isEqual(dr.min())?this.Qi(e,t):this.Ui.getDocuments(e,l).next(m=>{const E=this.ji(t,m);return this.zi(t,E,l,h)?this.Qi(e,t):(Fr()<=ye.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Dn(t)),this.Wi(e,E,t,Ei(h,-1)))})}ji(e,t){let l=new tr(si(e));return t.forEach((h,m)=>{$n(e,m)&&(l=l.add(m))}),l}zi(e,t,l,h){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Qi(e,t){return Fr()<=ye.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Dn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ir.min())}Wi(e,t,l,h){return this.Ui.getDocumentsMatchingQuery(e,l,h).next(m=>(t.forEach(E=>{m=m.insert(E.key,E)}),m))}}class hg{constructor(e,t,l,h){this.persistence=e,this.Hi=t,this.serializer=h,this.Ji=new Ri(ir),this.Yi=new No(m=>vl(m),aa),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(l)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bu(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Qf(s,e,t,l){return new hg(s,e,t,l)}function Hd(s,e){return zd.apply(this,arguments)}function zd(){return zd=(0,y.Z)(function*(s,e){const t=Mn(s);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let h;return t.mutationQueue.getAllMutationBatches(l).next(m=>(h=m,t.tr(e),t.mutationQueue.getAllMutationBatches(l))).next(m=>{const E=[],k=[];let Y=Yr();for(const ie of h){E.push(ie.batchId);for(const Se of ie.mutations)Y=Y.add(Se.key)}for(const ie of m){k.push(ie.batchId);for(const Se of ie.mutations)Y=Y.add(Se.key)}return t.localDocuments.getDocuments(l,Y).next(ie=>({er:ie,removedBatchIds:E,addedBatchIds:k}))})})}),zd.apply(this,arguments)}function Am(s){const e=Mn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function $h(s,e,t){let l=Yr(),h=Yr();return t.forEach(m=>l=l.add(m)),e.getEntries(s,l).next(m=>{let E=wo();return t.forEach((k,Y)=>{const ie=m.get(k);Y.isFoundDocument()!==ie.isFoundDocument()&&(h=h.add(k)),Y.isNoDocument()&&Y.version.isEqual(dr.min())?(e.removeEntry(k,Y.readTime),E=E.insert(k,Y)):!ie.isValidDocument()||Y.version.compareTo(ie.version)>0||0===Y.version.compareTo(ie.version)&&ie.hasPendingWrites?(e.addEntry(Y),E=E.insert(k,Y)):Qt("LocalStore","Ignoring outdated watch update for ",k,". Current version:",ie.version," Watch version:",Y.version)}),{nr:E,sr:h}})}function yE(s,e){const t=Mn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Ko(s,e){const t=Mn(s);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return t.Bs.getTargetData(l,e).next(m=>m?(h=m,Ft.resolve(h)):t.Bs.allocateTargetId(l).next(E=>(h=new oc(e,E,"TargetPurposeListen",l.currentSequenceNumber),t.Bs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=t.Ji.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(l.targetId,l),t.Yi.set(e,l.targetId)),l})}function Xc(s,e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,y.Z)(function*(s,e,t){const l=Mn(s),h=l.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",m,E=>l.persistence.referenceDelegate.removeTarget(E,h)))}catch(E){if(!xa(E))throw E;Qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}l.Ji=l.Ji.remove(e),l.Yi.delete(h.target)}),Vh.apply(this,arguments)}function Jf(s,e,t){const l=Mn(s);let h=dr.min(),m=Yr();return l.persistence.runTransaction("Execute query","readonly",E=>function(k,Y,ie){const Se=Mn(k),nt=Se.Yi.get(ie);return void 0!==nt?Ft.resolve(Se.Ji.get(nt)):Se.Bs.getTargetData(Y,ie)}(l,E,P(e)).next(k=>{if(k)return h=k.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(E,k.targetId).next(Y=>{m=Y})}).next(()=>l.Hi.getDocumentsMatchingQuery(E,e,t?h:dr.min(),t?m:Yr())).next(k=>(Mm(l,cr(e),k),{documents:k,ir:m})))}function yv(s,e){const t=Mn(s),l=Mn(t.Bs),h=t.Ji.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>l.le(m,e).next(E=>E?E.target:null))}function pg(s,e){const t=Mn(s),l=t.Xi.get(e)||dr.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Zi.getAllFromCollectionGroup(h,e,Ei(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Mm(t,e,h),h))}function Mm(s,e,t){let l=s.Xi.get(e)||dr.min();t.forEach((h,m)=>{m.readTime.compareTo(l)>0&&(l=m.readTime)}),s.Xi.set(e,l)}function Rm(){return Rm=(0,y.Z)(function*(s,e,t,l){const h=Mn(s);let m=Yr(),E=wo();for(const ie of t){const Se=e.rr(ie.metadata.name);ie.document&&(m=m.add(Se));const nt=e.ur(ie);nt.setReadTime(e.cr(ie.metadata.readTime)),E=E.insert(Se,nt)}const k=h.Zi.newChangeBuffer({trackRemovals:!0}),Y=yield Ko(h,(ie=l,P(uu(ri.fromString(`__bundle__/docs/${ie}`)))));var ie;return h.persistence.runTransaction("Apply bundle documents","readwrite",ie=>$h(ie,k,E).next(Se=>(k.apply(ie),Se)).next(Se=>h.Bs.removeMatchingKeysForTargetId(ie,Y.targetId).next(()=>h.Bs.addMatchingKeys(ie,m,Y.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(ie,Se.nr,Se.sr)).next(()=>Se.nr)))}),Rm.apply(this,arguments)}function vE(s,e){return gg.apply(this,arguments)}function gg(){return gg=(0,y.Z)(function*(s,e,t=Yr()){const l=yield Ko(s,P(eg(e.bundledQuery))),h=Mn(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const E=Us(e.readTime);if(l.snapshotVersion.compareTo(E)>=0)return h.qs.saveNamedQuery(m,e);const k=l.withResumeToken(Vs.EMPTY_BYTE_STRING,E);return h.Ji=h.Ji.insert(k.targetId,k),h.Bs.updateTargetData(m,k).next(()=>h.Bs.removeMatchingKeysForTargetId(m,l.targetId)).next(()=>h.Bs.addMatchingKeys(m,t,l.targetId)).next(()=>h.qs.saveNamedQuery(m,e))})}),gg.apply(this,arguments)}function mg(s,e){return`firestore_clients_${s}_${e}`}function yg(s,e,t){let l=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function vv(s,e){return`firestore_targets_${s}_${e}`}class Uh{constructor(e,t,l,h){this.user=e,this.batchId=t,this.state=l,this.error=h}static ar(e,t,l){const h=JSON.parse(l);let m,E="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return E&&h.error&&(E="string"==typeof h.error.message&&"string"==typeof h.error.code,E&&(m=new Vt(h.error.code,h.error.message))),E?new Uh(e,t,h.state,m):(Gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gd{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static ar(e,t){const l=JSON.parse(t);let h,m="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new Vt(l.error.code,l.error.message))),m?new Gd(e,l.state,h):(Gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const l=JSON.parse(t);let h="object"==typeof l&&l.activeTargetIds instanceof Array,m=yh();for(let E=0;h&&E<l.activeTargetIds.length;++E)h=Ae(l.activeTargetIds[E]),m=m.add(l.activeTargetIds[E]);return h?new Wd(e,m):(Gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xm{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xm(t.clientId,t.onlineState):(Gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vg{constructor(){this.activeTargetIds=yh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pm{constructor(e,t,l,h,m){this.window=e,this.ii=t,this.persistenceKey=l,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ri(ir),this.started=!1,this.yr=[];const E=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=mg(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new vg),this.Tr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.Z)(function*(){const t=yield e.syncEngine.$i();for(const h of t){if(h===e.wr)continue;const m=e.getItem(mg(e.persistenceKey,h));if(m){const E=Wd.ar(h,m);E&&(e.gr=e.gr.insert(E.clientId,E))}}e.Pr();const l=e.storage.getItem(e.vr);if(l){const h=e.br(l);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((l,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,l){this.Dr(e,t,l),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(vv(this.persistenceKey,e));if(l){const h=Gd.ar(e,l);h&&(t=h.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vv(this.persistenceKey,e))}updateQueryState(e,t,l){this.kr(e,t,l)}handleUserChange(e,t,l){t.forEach(h=>{this.Cr(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qt("SharedClientState","READ",e,t),t}setItem(e,t){Qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const l=e;if(l.storageArea===this.storage){if(Qt("SharedClientState","EVENT",l.key,l.newValue),l.key===this.pr)return void Gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,y.Z)(function*(){if(t.started){if(null!==l.key)if(t.Tr.test(l.key)){if(null==l.newValue){const h=t.Or(l.key);return t.Fr(h,null)}{const h=t.Br(l.key,l.newValue);if(h)return t.Fr(h.clientId,h)}}else if(t.Er.test(l.key)){if(null!==l.newValue){const h=t.Lr(l.key,l.newValue);if(h)return t.qr(h)}}else if(t.Ar.test(l.key)){if(null!==l.newValue){const h=t.Ur(l.key,l.newValue);if(h)return t.Kr(h)}}else if(l.key===t.vr){if(null!==l.newValue){const h=t.br(l.newValue);if(h)return t.Vr(h)}}else if(l.key===t.Ir){const h=function(m){let E=D.ct;if(null!=m)try{const k=JSON.parse(m);Gn("number"==typeof k),E=k}catch(k){Gr("SharedClientState","Failed to read sequence number from WebStorage",k)}return E}(l.newValue);h!==D.ct&&t.sequenceNumberHandler(h)}else if(l.key===t.Rr){const h=t.Gr(l.newValue);yield Promise.all(h.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(l)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,l){const h=new Uh(this.currentUser,e,t,l),m=yg(this.persistenceKey,this.currentUser,e);this.setItem(m,h.hr())}Cr(e){const t=yg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,l){const h=vv(this.persistenceKey,e),m=new Gd(e,t,l);this.setItem(h,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const l=this.Or(e);return Wd.ar(l,t)}Lr(e,t){const l=this.Er.exec(e),h=Number(l[1]);return Uh.ar(new yn(void 0!==l[2]?l[2]:null),h,t)}Ur(e,t){const l=this.Ar.exec(e),h=Number(l[1]);return Gd.ar(h,t)}br(e){return xm.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const l=t?this.gr.insert(e,t):this.gr.remove(e),h=this.Sr(this.gr),m=this.Sr(l),E=[],k=[];return m.forEach(Y=>{h.has(Y)||E.push(Y)}),h.forEach(Y=>{m.has(Y)||k.push(Y)}),this.syncEngine.Wr(E,k).then(()=>{this.gr=l})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=yh();return e.forEach((l,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class Om{constructor(){this.Hr=new vg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,l){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vg,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _E{Yr(e){}shutdown(){}}class _v{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jc=null;function Ev(){return null===Jc?Jc=268435456+Math.round(2147483648*Math.random()):Jc++,"0x"+Jc.toString(16)}const ep={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ca="WebChannelConnection";class wv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,l,h,m){const E=Ev(),k=this.To(e,t);Qt("RestConnection",`Sending RPC '${e}' ${E}:`,k,l);const Y={};return this.Eo(Y,h,m),this.Ao(e,k,Y,l).then(ie=>(Qt("RestConnection",`Received RPC '${e}' ${E}: `,ie),ie),ie=>{throw ws("RestConnection",`RPC '${e}' ${E} failed with error: `,ie,"url: ",k,"request:",l),ie})}vo(e,t,l,h,m,E){return this.Io(e,t,l,h,m)}Eo(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+zr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),l&&l.headers.forEach((h,m)=>e[m]=h)}To(e,t){return`${this.mo}/v1/${t}:${ep[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,l,h){const m=Ev();return new Promise((E,k)=>{const Y=new Ke;Y.setWithCredentials(!0),Y.listenOnce(Rl.COMPLETE,()=>{try{switch(Y.getLastErrorCode()){case Bu.NO_ERROR:const Se=Y.getResponseJson();Qt(ca,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Se)),E(Se);break;case Bu.TIMEOUT:Qt(ca,`RPC '${e}' ${m} timed out`),k(new Vt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const nt=Y.getStatus();if(Qt(ca,`RPC '${e}' ${m} failed with status:`,nt,"response text:",Y.getResponseText()),nt>0){let kt=Y.getResponseJson();Array.isArray(kt)&&(kt=kt[0]);const Xt=null==kt?void 0:kt.error;if(Xt&&Xt.status&&Xt.message){const wn=function(jn){const qn=jn.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(qn)>=0?qn:Ze.UNKNOWN}(Xt.status);k(new Vt(wn,Xt.message))}else k(new Vt(Ze.UNKNOWN,"Server responded with status "+Y.getStatus()))}else k(new Vt(Ze.UNAVAILABLE,"Connection failed."));break;default:Ln()}}finally{Qt(ca,`RPC '${e}' ${m} completed.`)}});const ie=JSON.stringify(h);Qt(ca,`RPC '${e}' ${m} sending request:`,h),Y.send(t,"POST",ie,l,15)})}Ro(e,t,l){const h=Ev(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=qa(),k=Po(),Y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ie=this.longPollingOptions.timeoutSeconds;void 0!==ie&&(Y.longPollingTimeout=Math.round(1e3*ie)),this.useFetchStreams&&(Y.xmlHttpFactory=new H({})),this.Eo(Y.initMessageHeaders,t,l),Y.encodeInitMessageHeaders=!0;const Se=m.join("");Qt(ca,`Creating RPC '${e}' stream ${h}: ${Se}`,Y);const nt=E.createWebChannel(Se,Y);let kt=!1,Xt=!1;const wn=new tp({ro:qn=>{Xt?Qt(ca,`Not sending because RPC '${e}' stream ${h} is closed:`,qn):(kt||(Qt(ca,`Opening RPC '${e}' stream ${h} transport.`),nt.open(),kt=!0),Qt(ca,`RPC '${e}' stream ${h} sending:`,qn),nt.send(qn))},oo:()=>nt.close()}),jn=(qn,Jr,xi)=>{qn.listen(Jr,ui=>{try{xi(ui)}catch(ko){setTimeout(()=>{throw ko},0)}})};return jn(nt,me.EventType.OPEN,()=>{Xt||Qt(ca,`RPC '${e}' stream ${h} transport opened.`)}),jn(nt,me.EventType.CLOSE,()=>{Xt||(Xt=!0,Qt(ca,`RPC '${e}' stream ${h} transport closed`),wn.wo())}),jn(nt,me.EventType.ERROR,qn=>{Xt||(Xt=!0,ws(ca,`RPC '${e}' stream ${h} transport errored:`,qn),wn.wo(new Vt(Ze.UNAVAILABLE,"The operation could not be completed")))}),jn(nt,me.EventType.MESSAGE,qn=>{var Jr;if(!Xt){const xi=qn.data[0];Gn(!!xi);const ko=xi.error||(null===(Jr=xi[0])||void 0===Jr?void 0:Jr.error);if(ko){Qt(ca,`RPC '${e}' stream ${h} received error:`,ko);const To=ko.status;let ks=function(sh){const l_=Io[sh];if(void 0!==l_)return pu(l_)}(To),Da=ko.message;void 0===ks&&(ks=Ze.INTERNAL,Da="Unknown error status: "+To+" with message "+ko.message),Xt=!0,wn.wo(new Vt(ks,Da)),nt.close()}else Qt(ca,`RPC '${e}' stream ${h} received:`,xi),wn._o(xi)}}),jn(k,V.STAT_EVENT,qn=>{qn.stat===re.PROXY?Qt(ca,`RPC '${e}' stream ${h} detected buffering proxy`):qn.stat===re.NOPROXY&&Qt(ca,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{wn.fo()},0),wn}}function Nm(){return typeof window<"u"?window:null}function _g(){return typeof document<"u"?document:null}function np(s){return new sc(s,!0)}class Eg{constructor(e,t,l=1e3,h=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=l,this.bo=h,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),h=Math.max(0,t-l);h>0&&Qt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class km{constructor(e,t,l,h,m,E,k,Y){this.ii=e,this.$o=l,this.Oo=h,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=k,this.listener=Y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Eg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,y.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,y.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var l=this;return(0,y.Z)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==e?l.qo.reset():t&&t.code===Ze.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):t&&t.code===Ze.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Fo===t&&this.Zo(l,h)},l=>{e(()=>{const h=new Vt(Ze.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(h)})})}Zo(e,t){const l=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{l(()=>this.tu(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,y.Z)(function*(){e.state=0,e.start()}))}tu(e){return Qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Du extends km{constructor(e,t,l,h,m,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,h,E),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function tv(s,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Ln(),h=e.targetChange.targetIds||[],m=function(Y,ie){return Y.useProto3Json?(Gn(void 0===ie||"string"==typeof ie),Vs.fromBase64String(ie||"")):(Gn(void 0===ie||ie instanceof Uint8Array),Vs.fromUint8Array(ie||new Uint8Array))}(s,e.targetChange.resumeToken),E=e.targetChange.cause,k=E&&function(Y){const ie=void 0===Y.code?Ze.UNKNOWN:pu(Y.code);return new Vt(ie,Y.message||"")}(E);t=new wh(l,h,m,k||null)}else if("documentChange"in e){const l=e.documentChange,h=gu(s,l.document.name),m=Us(l.document.updateTime),E=l.document.createTime?Us(l.document.createTime):dr.min(),k=new $o({mapValue:{fields:l.document.fields}}),Y=ii.newFoundDocument(h,m,E,k);t=new ic(l.targetIds||[],l.removedTargetIds||[],Y.key,Y)}else if("documentDelete"in e){const l=e.documentDelete,h=gu(s,l.document),m=l.readTime?Us(l.readTime):dr.min(),E=ii.newNoDocument(h,m);t=new ic([],l.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const l=e.documentRemove,h=gu(s,l.document);t=new ic([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Ln();{const l=e.filter,{count:h=0,unchangedNames:m}=l,E=new P_(h,m);t=new ev(l.targetId,E)}}var Y;return t}(this.serializer,e),l=function(h){if(!("targetChange"in h))return dr.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?dr.min():m.readTime?Us(m.readTime):dr.min()}(e);return this.listener.nu(t,l)}su(e){const t={};t.database=Hc(this.serializer),t.addTarget=function(h,m){let E;const k=m.target;if(E=Xu(k)?{documents:Yp(h,k)}:{query:Nd(h,k)},E.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){E.resumeToken=Ff(h,m.resumeToken);const Y=Gp(h,m.expectedCount);null!==Y&&(E.expectedCount=Y)}else if(m.snapshotVersion.compareTo(dr.min())>0){E.readTime=jc(h,m.snapshotVersion.toTimestamp());const Y=Gp(h,m.expectedCount);null!==Y&&(E.expectedCount=Y)}return E}(this.serializer,e);const l=function Zp(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Wo(t)}iu(e){const t={};t.database=Hc(this.serializer),t.removeTarget=e,this.Wo(t)}}class bo extends km{constructor(e,t,l,h,m,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,h,E),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function nv(s,e){return s&&s.length>0?(Gn(void 0!==e),s.map(t=>function(l,h){let m=Us(l.updateTime?l.updateTime:h);return m.isEqual(dr.min())&&(m=Us(h)),new R_(m,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=Us(e.commitTime);return this.listener.cu(l,t)}return Gn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>Bf(this.serializer,l))};this.Wo(t)}}class $a extends class{}{constructor(e,t,l,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new Vt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Io(e,t,l,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Vt(Ze.UNKNOWN,h.toString())})}vo(e,t,l,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.vo(e,t,l,m,E,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Vt(Ze.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class jh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gr(t),this.mu=!1):Qt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hh{constructor(e,t,l,h,m){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(k=>{l.enqueueAndForget((0,y.Z)(function*(){var Y;hc(E)&&(Qt("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,y.Z)(function*(ie){const Se=Mn(ie);Se.vu.add(4),yield dc(Se),Se.bu.set("Unknown"),Se.vu.delete(4),yield zh(Se)}),function(ie){return Y.apply(this,arguments)})(E))}))}),this.bu=new jh(l,h)}}function zh(s){return Su.apply(this,arguments)}function Su(){return Su=(0,y.Z)(function*(s){if(hc(s))for(const e of s.Ru)yield e(!0)}),Su.apply(this,arguments)}function dc(s){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,y.Z)(function*(s){for(const e of s.Ru)yield e(!1)}),Ig.apply(this,arguments)}function Gh(s,e){const t=Mn(s);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Lm(t)?Kd(t):ed(t).Ko()&&Cg(t,e))}function Wh(s,e){const t=Mn(s),l=ed(t);t.Au.delete(e),l.Ko()&&Fm(t,e),0===t.Au.size&&(l.Ko()?l.jo():hc(t)&&t.bu.set("Unknown"))}function Cg(s,e){if(s.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dr.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ed(s).su(e)}function Fm(s,e){s.Vu.qt(e),ed(s).iu(e)}function Kd(s){s.Vu=new Ih({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),le:e=>s.Au.get(e)||null,ue:()=>s.datastore.serializer.databaseId}),ed(s).start(),s.bu.gu()}function Lm(s){return hc(s)&&!ed(s).Uo()&&s.Au.size>0}function hc(s){return 0===Mn(s).vu.size}function Bm(s){s.Vu=void 0}function Kh(s){return wl.apply(this,arguments)}function wl(){return wl=(0,y.Z)(function*(s){s.Au.forEach((e,t)=>{Cg(s,e)})}),wl.apply(this,arguments)}function j_(s,e){return bg.apply(this,arguments)}function bg(){return bg=(0,y.Z)(function*(s,e){Bm(s),Lm(s)?(s.bu.Iu(e),Kd(s)):s.bu.set("Unknown")}),bg.apply(this,arguments)}function EE(s,e,t){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,y.Z)(function*(s,e,t){if(s.bu.set("Online"),e instanceof wh&&2===e.state&&e.cause)try{yield(l=(0,y.Z)(function*(h,m){const E=m.cause;for(const k of m.targetIds)h.Au.has(k)&&(yield h.remoteSyncer.rejectListen(k,E),h.Au.delete(k),h.Vu.removeTarget(k))}),function(h,m){return l.apply(this,arguments)})(s,e)}catch(l){Qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield ip(s,l)}else if(e instanceof ic?s.Vu.Ht(e):e instanceof ev?s.Vu.ne(e):s.Vu.Xt(e),!t.isEqual(dr.min()))try{const l=yield Am(s.localStore);t.compareTo(l)>=0&&(yield function(h,m){const E=h.Vu.ce(m);return E.targetChanges.forEach((k,Y)=>{if(k.resumeToken.approximateByteSize()>0){const ie=h.Au.get(Y);ie&&h.Au.set(Y,ie.withResumeToken(k.resumeToken,m))}}),E.targetMismatches.forEach((k,Y)=>{const ie=h.Au.get(k);if(!ie)return;h.Au.set(k,ie.withResumeToken(Vs.EMPTY_BYTE_STRING,ie.snapshotVersion)),Fm(h,k);const Se=new oc(ie.target,k,Y,ie.sequenceNumber);Cg(h,Se)}),h.remoteSyncer.applyRemoteEvent(E)}(s,t))}catch(l){Qt("RemoteStore","Failed to raise snapshot:",l),yield ip(s,l)}var l}),Iv.apply(this,arguments)}function ip(s,e,t){return $m.apply(this,arguments)}function $m(){return $m=(0,y.Z)(function*(s,e,t){if(!xa(e))throw e;s.vu.add(1),yield dc(s),s.bu.set("Offline"),t||(t=()=>Am(s.localStore)),s.asyncQueue.enqueueRetryable((0,y.Z)(function*(){Qt("RemoteStore","Retrying IndexedDB access"),yield t(),s.vu.delete(1),yield zh(s)}))}),$m.apply(this,arguments)}function Vm(s,e){return e().catch(t=>ip(s,t,e))}function Tu(s){return sp.apply(this,arguments)}function sp(){return sp=(0,y.Z)(function*(s){const e=Mn(s),t=fc(e);let l=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Cv(e);)try{const h=yield yE(e.localStore,l);if(null===h){0===e.Eu.length&&t.jo();break}l=h.batchId,bv(e,h)}catch(h){yield ip(e,h)}Zr(e)&&Um(e)}),sp.apply(this,arguments)}function Cv(s){return hc(s)&&s.Eu.length<10}function bv(s,e){s.Eu.push(e);const t=fc(s);t.Ko()&&t.ou&&t.uu(e.mutations)}function Zr(s){return hc(s)&&!fc(s).Uo()&&s.Eu.length>0}function Um(s){fc(s).start()}function Dv(s){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,y.Z)(function*(s){fc(s).hu()}),Sv.apply(this,arguments)}function H_(s){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,y.Z)(function*(s){const e=fc(s);for(const t of s.Eu)e.uu(t.mutations)}),Dg.apply(this,arguments)}function z_(s,e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,y.Z)(function*(s,e,t){const l=s.Eu.shift(),h=tc.from(l,e,t);yield Vm(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield Tu(s)}),Sg.apply(this,arguments)}function Tv(s,e){return jm.apply(this,arguments)}function jm(){return jm=(0,y.Z)(function*(s,e){var t;e&&fc(s).ou&&(yield(t=(0,y.Z)(function*(l,h){if(Jy(m=h.code)&&m!==Ze.ABORTED){const E=l.Eu.shift();fc(l).Qo(),yield Vm(l,()=>l.remoteSyncer.rejectFailedWrite(E.batchId,h)),yield Tu(l)}var m}),function(l,h){return t.apply(this,arguments)})(s,e)),Zr(s)&&Um(s)}),jm.apply(this,arguments)}function Hm(s,e){return zm.apply(this,arguments)}function zm(){return zm=(0,y.Z)(function*(s,e){const t=Mn(s);t.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const l=hc(t);t.vu.add(3),yield dc(t),l&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zh(t)}),zm.apply(this,arguments)}function Gm(s,e){return op.apply(this,arguments)}function op(){return op=(0,y.Z)(function*(s,e){const t=Mn(s);e?(t.vu.delete(2),yield zh(t)):e||(t.vu.add(2),yield dc(t),t.bu.set("Unknown"))}),op.apply(this,arguments)}function ed(s){return s.Su||(s.Su=function(e,t,l){const h=Mn(e);return h.fu(),new Du(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:Kh.bind(null,s),ao:j_.bind(null,s),nu:EE.bind(null,s)}),s.Ru.push(function(){var e=(0,y.Z)(function*(t){t?(s.Su.Qo(),Lm(s)?Kd(s):s.bu.set("Unknown")):(yield s.Su.stop(),Bm(s))});return function(t){return e.apply(this,arguments)}}())),s.Su}function fc(s){return s.Du||(s.Du=function(e,t,l){const h=Mn(e);return h.fu(),new bo(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:Dv.bind(null,s),ao:Tv.bind(null,s),au:H_.bind(null,s),cu:z_.bind(null,s)}),s.Ru.push(function(){var e=(0,y.Z)(function*(t){t?(s.Du.Qo(),yield Tu(s)):(yield s.Du.stop(),s.Eu.length>0&&(Qt("RemoteStore",`Stopping write stream with ${s.Eu.length} pending writes`),s.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Du}class pc{constructor(e,t,l,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=h,this.removalCallback=m,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,l,h,m){const E=Date.now()+l,k=new pc(e,t,E,h,m);return k.start(l),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Au(s,e){if(Gr("AsyncQueue",`${e}: ${s}`),xa(s))return new Vt(Ze.UNAVAILABLE,`${e}: ${s}`);throw s}class qh{constructor(e){this.comparator=e?(t,l)=>e(t,l)||On.comparator(t.key,l.key):(t,l)=>On.comparator(t.key,l.key),this.keyedMap=cu(),this.sortedSet=new Ri(this.comparator)}static emptySet(e){return new qh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new qh;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class G_{constructor(){this.Cu=new Ri(On.comparator)}track(e){const t=e.doc.key,l=this.Cu.get(t);l?0!==e.type&&3===l.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==l.type?this.Cu=this.Cu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Cu=this.Cu.remove(t):1===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,l)=>{e.push(l)}),e}}class td{constructor(e,t,l,h,m,E,k,Y,ie){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=k,this.excludesMetadataChanges=Y,this.hasCachedResults=ie}static fromInitialDocuments(e,t,l,h,m){const E=[];return t.forEach(k=>{E.push({type:0,doc:k})}),new td(e,t,qh.emptySet(t),E,l,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ct(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==l[h].type||!t[h].doc.isEqual(l[h].doc))return!1;return!0}}class ap{constructor(){this.Nu=void 0,this.listeners=[]}}class Av{constructor(){this.queries=new No(e=>Wt(e),Ct),this.onlineState="Unknown",this.ku=new Set}}function Yh(s,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,y.Z)(function*(s,e){const t=Mn(s),l=e.query;let h=!1,m=t.queries.get(l);if(m||(h=!0,m=new ap),h)try{m.Nu=yield t.onListen(l)}catch(E){const k=Au(E,`Initialization of query '${Dn(e.query)}' failed`);return void e.onError(k)}t.queries.set(l,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&lp(t)}),Wm.apply(this,arguments)}function Tg(s,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,y.Z)(function*(s,e){const t=Mn(s),l=e.query;let h=!1;const m=t.queries.get(l);if(m){const E=m.listeners.indexOf(e);E>=0&&(m.listeners.splice(E,1),h=0===m.listeners.length)}if(h)return t.queries.delete(l),t.onUnlisten(l)}),Ag.apply(this,arguments)}function Km(s,e){const t=Mn(s);let l=!1;for(const h of e){const E=t.queries.get(h.query);if(E){for(const k of E.listeners)k.$u(h)&&(l=!0);E.Nu=h}}l&&lp(t)}function Mv(s,e,t){const l=Mn(s),h=l.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);l.queries.delete(e)}function lp(s){s.ku.forEach(e=>{e.next()})}class qm{constructor(e,t,l){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new td(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class W_{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Ym{constructor(e){this.serializer=e}rr(e){return gu(this.serializer,e)}ur(e){return e.metadata.exists?mu(this.serializer,e.document,!1):ii.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Us(e)}}class Rv{constructor(e,t,l){this.ju=e,this.localStore=t,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const l=ri.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,l=new Ym(this.serializer);for(const h of e)if(h.metadata.queries){const m=l.rr(h.metadata.name);for(const E of h.metadata.queries){const k=(t.get(E)||Yr()).add(m);t.set(E,k)}}return t}complete(){var e=this;return(0,y.Z)(function*(){const t=yield function U_(s,e,t,l){return Rm.apply(this,arguments)}(e.localStore,new Ym(e.serializer),e.documents,e.ju.id),l=e.Wu(e.documents);for(const h of e.queries)yield vE(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Mg(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class xv{constructor(e){this.key=e}}class Pv{constructor(e){this.key=e}}class Zh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Yr(),this.mutatedKeys=Yr(),this.tc=si(e),this.ec=new qh(this.tc)}get nc(){return this.Yu}sc(e,t){const l=t?t.ic:new G_,h=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,E=h,k=!1;const Y="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ie="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Se,nt)=>{const kt=h.get(Se),Xt=$n(this.query,nt)?nt:null,wn=!!kt&&this.mutatedKeys.has(kt.key),jn=!!Xt&&(Xt.hasLocalMutations||this.mutatedKeys.has(Xt.key)&&Xt.hasCommittedMutations);let qn=!1;kt&&Xt?kt.data.isEqual(Xt.data)?wn!==jn&&(l.track({type:3,doc:Xt}),qn=!0):this.rc(kt,Xt)||(l.track({type:2,doc:Xt}),qn=!0,(Y&&this.tc(Xt,Y)>0||ie&&this.tc(Xt,ie)<0)&&(k=!0)):!kt&&Xt?(l.track({type:0,doc:Xt}),qn=!0):kt&&!Xt&&(l.track({type:1,doc:kt}),qn=!0,(Y||ie)&&(k=!0)),qn&&(Xt?(E=E.add(Xt),m=jn?m.add(Se):m.delete(Se)):(E=E.delete(Se),m=m.delete(Se)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Se="F"===this.query.limitType?E.last():E.first();E=E.delete(Se.key),m=m.delete(Se.key),l.track({type:1,doc:Se})}return{ec:E,ic:l,zi:k,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((ie,Se)=>function(nt,kt){const Xt=wn=>{switch(wn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ln()}};return Xt(nt)-Xt(kt)}(ie.type,Se.type)||this.tc(ie.doc,Se.doc)),this.oc(l);const E=t?this.uc():[],k=0===this.Zu.size&&this.current?1:0,Y=k!==this.Xu;return this.Xu=k,0!==m.length||Y?{snapshot:new td(this.query,e.ec,h,m,e.mutatedKeys,0===k,Y,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:E}:{cc:E}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new G_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Yr(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const t=[];return e.forEach(l=>{this.Zu.has(l)||t.push(new Pv(l))}),this.Zu.forEach(l=>{e.has(l)||t.push(new xv(l))}),t}hc(e){this.Yu=e.ir,this.Zu=Yr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return td.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Zm{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class K_{constructor(e){this.key=e,this.fc=!1}}class q_{constructor(e,t,l,h,m,E){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.dc={},this.wc=new No(k=>Wt(k),Ct),this._c=new Map,this.mc=new Set,this.gc=new Ri(On.comparator),this.yc=new Map,this.Ic=new lg,this.Tc={},this.Ec=new Map,this.Ac=uc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Y_(s,e){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,y.Z)(function*(s,e){const t=$v(s);let l,h;const m=t.wc.get(e);if(m)l=m.targetId,t.sharedClientState.addLocalQueryTarget(l),h=m.view.lc();else{const E=yield Ko(t.localStore,P(e)),k=t.sharedClientState.addLocalQueryTarget(E.targetId);l=E.targetId,h=yield up(t,e,l,"current"===k,E.resumeToken),t.isPrimaryClient&&Gh(t.remoteStore,E)}return h}),Ca.apply(this,arguments)}function up(s,e,t,l,h){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,y.Z)(function*(s,e,t,l,h){s.Rc=(nt,kt,Xt)=>{return(wn=(0,y.Z)(function*(jn,qn,Jr,xi){let ui=qn.view.sc(Jr);ui.zi&&(ui=yield Jf(jn.localStore,qn.query,!1).then(({documents:ks})=>qn.view.sc(ks,ui)));const ko=xi&&xi.targetChanges.get(qn.targetId),To=qn.view.applyChanges(ui,jn.isPrimaryClient,ko);return Pg(jn,qn.targetId,To.cc),To.snapshot}),function(jn,qn,Jr,xi){return wn.apply(this,arguments)})(s,nt,kt,Xt);var wn};const m=yield Jf(s.localStore,e,!0),E=new Zh(e,m.ir),k=E.sc(m.documents),Y=Eh.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==s.onlineState,h),ie=E.applyChanges(k,s.isPrimaryClient,Y);Pg(s,t,ie.cc);const Se=new Zm(e,t,E);return s.wc.set(e,Se),s._c.has(t)?s._c.get(t).push(e):s._c.set(t,[e]),ie.snapshot}),Qm.apply(this,arguments)}function wE(s,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,y.Z)(function*(s,e){const t=Mn(s),l=t.wc.get(e),h=t._c.get(l.targetId);if(h.length>1)return t._c.set(l.targetId,h.filter(m=>!Ct(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Xc(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),Wh(t.remoteStore,l.targetId),Qh(t,l.targetId)}).catch(Go))):(Qh(t,l.targetId),yield Xc(t.localStore,l.targetId,!0))}),Rg.apply(this,arguments)}function Xm(){return Xm=(0,y.Z)(function*(s,e,t){const l=Fg(s);try{const h=yield function(m,E){const k=Mn(m),Y=_i.now(),ie=E.reduce((kt,Xt)=>kt.add(Xt.key),Yr());let Se,nt;return k.persistence.runTransaction("Locally write mutations","readwrite",kt=>{let Xt=wo(),wn=Yr();return k.Zi.getEntries(kt,ie).next(jn=>{Xt=jn,Xt.forEach((qn,Jr)=>{Jr.isValidDocument()||(wn=wn.add(qn))})}).next(()=>k.localDocuments.getOverlayedDocuments(kt,Xt)).next(jn=>{Se=jn;const qn=[];for(const Jr of E){const xi=Pd(Jr,Se.get(Jr.key).overlayedDocument);null!=xi&&qn.push(new zl(Jr.key,xi,ho(xi.value.mapValue),xs.exists(!0)))}return k.mutationQueue.addMutationBatch(kt,Y,qn,E)}).next(jn=>{nt=jn;const qn=jn.applyToLocalDocumentSet(Se,wn);return k.documentOverlayCache.saveOverlays(kt,jn.batchId,qn)})}).then(()=>({batchId:nt.batchId,changes:mh(Se)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(m,E,k){let Y=m.Tc[m.currentUser.toKey()];Y||(Y=new Ri(ir)),Y=Y.insert(E,k),m.Tc[m.currentUser.toKey()]=Y}(l,h.batchId,t),yield da(l,h.changes),yield Tu(l.remoteStore)}catch(h){const m=Au(h,"Failed to persist write");t.reject(m)}}),Xm.apply(this,arguments)}function Ov(s,e){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,y.Z)(function*(s,e){const t=Mn(s);try{const l=yield function fg(s,e){const t=Mn(s),l=e.snapshotVersion;let h=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=t.Zi.newChangeBuffer({trackRemovals:!0});h=t.Ji;const k=[];e.targetChanges.forEach((Se,nt)=>{const kt=h.get(nt);if(!kt)return;k.push(t.Bs.removeMatchingKeys(m,Se.removedDocuments,nt).next(()=>t.Bs.addMatchingKeys(m,Se.addedDocuments,nt)));let Xt=kt.withSequenceNumber(m.currentSequenceNumber);var wn,jn,qn;null!==e.targetMismatches.get(nt)?Xt=Xt.withResumeToken(Vs.EMPTY_BYTE_STRING,dr.min()).withLastLimboFreeSnapshotVersion(dr.min()):Se.resumeToken.approximateByteSize()>0&&(Xt=Xt.withResumeToken(Se.resumeToken,l)),h=h.insert(nt,Xt),jn=Xt,qn=Se,(0===(wn=kt).resumeToken.approximateByteSize()||jn.snapshotVersion.toMicroseconds()-wn.snapshotVersion.toMicroseconds()>=3e8||qn.addedDocuments.size+qn.modifiedDocuments.size+qn.removedDocuments.size>0)&&k.push(t.Bs.updateTargetData(m,Xt))});let Y=wo(),ie=Yr();if(e.documentUpdates.forEach(Se=>{e.resolvedLimboDocuments.has(Se)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(m,Se))}),k.push($h(m,E,e.documentUpdates).next(Se=>{Y=Se.nr,ie=Se.sr})),!l.isEqual(dr.min())){const Se=t.Bs.getLastRemoteSnapshotVersion(m).next(nt=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,l));k.push(Se)}return Ft.waitFor(k).next(()=>E.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,Y,ie)).next(()=>Y)}).then(m=>(t.Ji=h,m))}(t.localStore,e);e.targetChanges.forEach((h,m)=>{const E=t.yc.get(m);E&&(Gn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?E.fc=!0:h.modifiedDocuments.size>0?Gn(E.fc):h.removedDocuments.size>0&&(Gn(E.fc),E.fc=!1))}),yield da(t,l,e)}catch(l){yield Go(l)}}),Nv.apply(this,arguments)}function kv(s,e,t){const l=Mn(s);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const h=[];l.wc.forEach((m,E)=>{const k=E.view.Mu(e);k.snapshot&&h.push(k.snapshot)}),function(m,E){const k=Mn(m);k.onlineState=E;let Y=!1;k.queries.forEach((ie,Se)=>{for(const nt of Se.listeners)nt.Mu(E)&&(Y=!0)}),Y&&lp(k)}(l.eventManager,e),h.length&&l.dc.nu(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Z_(s,e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,y.Z)(function*(s,e,t){const l=Mn(s);l.sharedClientState.updateQueryState(e,"rejected",t);const h=l.yc.get(e),m=h&&h.key;if(m){let E=new Ri(On.comparator);E=E.insert(m,ii.newNoDocument(m,dr.min()));const k=Yr().add(m),Y=new rc(dr.min(),new Map,new Ri(ir),E,k);yield Ov(l,Y),l.gc=l.gc.remove(m),l.yc.delete(e),Og(l)}else yield Xc(l.localStore,e,!1).then(()=>Qh(l,e,t)).catch(Go)}),Fv.apply(this,arguments)}function Jm(s,e){return ey.apply(this,arguments)}function ey(){return ey=(0,y.Z)(function*(s,e){const t=Mn(s),l=e.batch.batchId;try{const h=yield function Xf(s,e){const t=Mn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(E,k,Y,ie){const Se=Y.batch,nt=Se.keys();let kt=Ft.resolve();return nt.forEach(Xt=>{kt=kt.next(()=>ie.getEntry(k,Xt)).next(wn=>{const jn=Y.docVersions.get(Xt);Gn(null!==jn),wn.version.compareTo(jn)<0&&(Se.applyToRemoteDocument(wn,Y),wn.isValidDocument()&&(wn.setReadTime(Y.commitVersion),ie.addEntry(wn)))})}),kt.next(()=>E.mutationQueue.removeMutationBatch(k,Se))}(t,l,e,m).next(()=>m.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(E){let k=Yr();for(let Y=0;Y<E.mutationResults.length;++Y)E.mutationResults[Y].transformResults.length>0&&(k=k.add(E.batch.mutations[Y].key));return k}(e))).next(()=>t.localDocuments.getDocuments(l,h))})}(t.localStore,e);cp(t,l,null),Il(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield da(t,h)}catch(h){yield Go(h)}}),ey.apply(this,arguments)}function Q_(s,e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,y.Z)(function*(s,e,t){const l=Mn(s);try{const h=yield function(m,E){const k=Mn(m);return k.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let ie;return k.mutationQueue.lookupMutationBatch(Y,E).next(Se=>(Gn(null!==Se),ie=Se.keys(),k.mutationQueue.removeMutationBatch(Y,Se))).next(()=>k.mutationQueue.performConsistencyCheck(Y)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(Y,ie,E)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,ie)).next(()=>k.localDocuments.getDocuments(Y,ie))})}(l.localStore,e);cp(l,e,t),Il(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield da(l,h)}catch(h){yield Go(h)}}),ty.apply(this,arguments)}function ny(){return ny=(0,y.Z)(function*(s,e){const t=Mn(s);hc(t.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(m){const E=Mn(m);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>E.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===l)return void e.resolve();const h=t.Ec.get(l)||[];h.push(e),t.Ec.set(l,h)}catch(l){const h=Au(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),ny.apply(this,arguments)}function Il(s,e){(s.Ec.get(e)||[]).forEach(t=>{t.resolve()}),s.Ec.delete(e)}function cp(s,e,t){const l=Mn(s);let h=l.Tc[l.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),l.Tc[l.currentUser.toKey()]=h}}function Qh(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s._c.get(e))s.wc.delete(l),t&&s.dc.Pc(l,t);s._c.delete(e),s.isPrimaryClient&&s.Ic.Is(e).forEach(l=>{s.Ic.containsKey(l)||ry(s,l)})}function ry(s,e){s.mc.delete(e.path.canonicalString());const t=s.gc.get(e);null!==t&&(Wh(s.remoteStore,t),s.gc=s.gc.remove(e),s.yc.delete(t),Og(s))}function Pg(s,e,t){for(const l of t)l instanceof xv?(s.Ic.addReference(l.key,e),dp(s,l)):l instanceof Pv?(Qt("SyncEngine","Document no longer in limbo: "+l.key),s.Ic.removeReference(l.key,e),s.Ic.containsKey(l.key)||ry(s,l.key)):Ln()}function dp(s,e){const t=e.key,l=t.path.canonicalString();s.gc.get(t)||s.mc.has(l)||(Qt("SyncEngine","New document in limbo: "+t),s.mc.add(l),Og(s))}function Og(s){for(;s.mc.size>0&&s.gc.size<s.maxConcurrentLimboResolutions;){const e=s.mc.values().next().value;s.mc.delete(e);const t=new On(ri.fromString(e)),l=s.Ac.next();s.yc.set(l,new K_(t)),s.gc=s.gc.insert(t,l),Gh(s.remoteStore,new oc(P(uu(t.path)),l,"TargetPurposeLimboResolution",D.ct))}}function da(s,e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,y.Z)(function*(s,e,t){const l=Mn(s),h=[],m=[],E=[];var k;l.wc.isEmpty()||(l.wc.forEach((k,Y)=>{E.push(l.Rc(Y,e,t).then(ie=>{if((ie||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(Y.targetId,null!=ie&&ie.fromCache?"not-current":"current"),ie){h.push(ie);const Se=Zf.Li(Y.targetId,ie);m.push(Se)}}))}),yield Promise.all(E),l.dc.nu(h),yield(k=(0,y.Z)(function*(Y,ie){const Se=Mn(Y);try{yield Se.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>Ft.forEach(ie,kt=>Ft.forEach(kt.Fi,Xt=>Se.persistence.referenceDelegate.addReference(nt,kt.targetId,Xt)).next(()=>Ft.forEach(kt.Bi,Xt=>Se.persistence.referenceDelegate.removeReference(nt,kt.targetId,Xt)))))}catch(nt){if(!xa(nt))throw nt;Qt("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of ie){const kt=nt.targetId;if(!nt.fromCache){const Xt=Se.Ji.get(kt),jn=Xt.withLastLimboFreeSnapshotVersion(Xt.snapshotVersion);Se.Ji=Se.Ji.insert(kt,jn)}}}),function(Y,ie){return k.apply(this,arguments)})(l.localStore,m))}),Xh.apply(this,arguments)}function IE(s,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,y.Z)(function*(s,e){const t=Mn(s);if(!t.currentUser.isEqual(e)){Qt("SyncEngine","User change. New user:",e.toKey());const l=yield Hd(t.localStore,e);t.currentUser=e,(h=t).Ec.forEach(E=>{E.forEach(k=>{k.reject(new Vt(Ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield da(t,l.er)}var h}),Ng.apply(this,arguments)}function Lv(s,e){const t=Mn(s),l=t.yc.get(e);if(l&&l.fc)return Yr().add(l.key);{let h=Yr();const m=t._c.get(e);if(!m)return h;for(const E of m){const k=t.wc.get(E);h=h.unionWith(k.view.nc)}return h}}function iy(s,e){return qd.apply(this,arguments)}function qd(){return qd=(0,y.Z)(function*(s,e){const t=Mn(s),l=yield Jf(t.localStore,e.query,!0),h=e.view.hc(l);return t.isPrimaryClient&&Pg(t,e.targetId,h.cc),h}),qd.apply(this,arguments)}function sy(s,e){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,y.Z)(function*(s,e){const t=Mn(s);return pg(t.localStore,e).then(l=>da(t,l))}),Cl.apply(this,arguments)}function Bv(s,e,t,l){return oy.apply(this,arguments)}function oy(){return oy=(0,y.Z)(function*(s,e,t,l){const h=Mn(s),m=yield function(E,k){const Y=Mn(E),ie=Mn(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Se=>ie.Sn(Se,k).next(nt=>nt?Y.localDocuments.getDocuments(Se,nt):Ft.resolve(null)))}(h.localStore,e);var k;null!==m?("pending"===t?yield Tu(h.remoteStore):"acknowledged"===t||"rejected"===t?(cp(h,e,l||null),Il(h,e),k=e,Mn(Mn(h.localStore).mutationQueue).Cn(k)):Ln(),yield da(h,m)):Qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),oy.apply(this,arguments)}function ly(){return ly=(0,y.Z)(function*(s,e){const t=Mn(s);if($v(t),Fg(t),!0===e&&!0!==t.vc){const l=t.sharedClientState.getAllActiveQueryTargets(),h=yield qs(t,l.toArray());t.vc=!0,yield Gm(t.remoteStore,!0);for(const m of h)Gh(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const l=[];let h=Promise.resolve();t._c.forEach((m,E)=>{t.sharedClientState.isLocalQueryTarget(E)?l.push(E):h=h.then(()=>(Qh(t,E),Xc(t.localStore,E,!0))),Wh(t.remoteStore,E)}),yield h,yield qs(t,l),function(m){const E=Mn(m);E.yc.forEach((k,Y)=>{Wh(E.remoteStore,Y)}),E.Ic.Ts(),E.yc=new Map,E.gc=new Ri(On.comparator)}(t),t.vc=!1,yield Gm(t.remoteStore,!1)}}),ly.apply(this,arguments)}function qs(s,e,t){return Or.apply(this,arguments)}function Or(){return Or=(0,y.Z)(function*(s,e,t){const l=Mn(s),h=[],m=[];for(const E of e){let k;const Y=l._c.get(E);if(Y&&0!==Y.length){k=yield Ko(l.localStore,P(Y[0]));for(const ie of Y){const Se=l.wc.get(ie),nt=yield iy(l,Se);nt.snapshot&&m.push(nt.snapshot)}}else{const ie=yield yv(l.localStore,E);k=yield Ko(l.localStore,ie),yield up(l,uy(ie),E,!1,k.resumeToken)}h.push(k)}return l.dc.nu(m),h}),Or.apply(this,arguments)}function uy(s){return Td(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function kg(s){const e=Mn(s);return Mn(Mn(e.localStore).persistence).$i()}function J_(s,e,t,l){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,y.Z)(function*(s,e,t,l){const h=Mn(s);if(h.vc)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const m=h._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const E=yield pg(h.localStore,cr(m[0])),k=rc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vs.EMPTY_BYTE_STRING);yield da(h,E,k);break}case"rejected":yield Xc(h.localStore,e,!0),Qh(h,e,l);break;default:Ln()}}),Jh.apply(this,arguments)}function hp(s,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,y.Z)(function*(s,e,t){const l=$v(s);if(l.vc){for(const h of e){if(l._c.has(h)){Qt("SyncEngine","Adding an already active target "+h);continue}const m=yield yv(l.localStore,h),E=yield Ko(l.localStore,m);yield up(l,uy(m),E.targetId,!1,E.resumeToken),Gh(l.remoteStore,E)}for(const h of t)l._c.has(h)&&(yield Xc(l.localStore,h,!1).then(()=>{Wh(l.remoteStore,h),Qh(l,h)}).catch(Go))}}),ef.apply(this,arguments)}function $v(s){const e=Mn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ov.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z_.bind(null,e),e.dc.nu=Km.bind(null,e.eventManager),e.dc.Pc=Mv.bind(null,e.eventManager),e}function Fg(s){const e=Mn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q_.bind(null,e),e}class pp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,y.Z)(function*(){t.serializer=np(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Qf(this.persistence,new Bh,e.initialUser,this.serializer)}createPersistence(e){return new Tm(ug.zs,this.serializer)}createSharedClientState(e){return new Om}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cy extends pp{constructor(e,t,l){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,y.Z)(function*(){yield t().call(l,e),yield l.Vc.initialize(l,e),yield Fg(l.Vc.syncEngine),yield Tu(l.Vc.remoteStore),yield l.persistence.Ii(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Qf(this.persistence,new Bh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Fh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const l=new O(t,this.persistence);return new M(e.asyncQueue,l)}createPersistence(e){const t=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new mv(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,Nm(),_g(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Om}}class gp extends cy{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,y.Z)(function*(){yield t().call(l,e);const h=l.Vc.syncEngine;l.sharedClientState instanceof Pm&&(l.sharedClientState.syncEngine={jr:Bv.bind(null,h),zr:J_.bind(null,h),Wr:hp.bind(null,h),$i:kg.bind(null,h),Qr:sy.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.Ii(function(){var m=(0,y.Z)(function*(E){yield function ay(s,e){return ly.apply(this,arguments)}(l.Vc.syncEngine,E),l.gcScheduler&&(E&&!l.gcScheduler.started?l.gcScheduler.start():E||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(E&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():E||l.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Nm();if(!Pm.D(t))throw new Vt(Ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pm(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class tf{initialize(e,t){var l=this;return(0,y.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>kv(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=IE.bind(null,l.syncEngine),yield Gm(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Av}createDatastore(e){const t=np(e.databaseInfo.databaseId),l=new wv(e.databaseInfo);return new $a(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,h=e.asyncQueue,m=k=>kv(this.syncEngine,k,0),E=_v.D()?new _v:new _E,new Hh(t,l,h,m,E);var t,l,h,m,E}createSyncEngine(e,t){return function(l,h,m,E,k,Y,ie){const Se=new q_(l,h,m,E,k,Y);return ie&&(Se.vc=!0),Se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,y.Z)(function*(t){const l=Mn(t);Qt("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield dc(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nf(s,e=10240){let t=0;return{read:()=>(0,y.Z)(function*(){if(t<s.byteLength){const l={value:s.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,y.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Yd{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ks,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(l=>{l&&l.Qu()?this.metadata.resolve(l.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.Gu)}`))},l=>this.metadata.reject(l))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,y.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,y.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,y.Z)(function*(){const t=yield e.kc();if(null===t)return null;const l=e.xc.decode(t),h=Number(l);isNaN(h)&&e.Mc(`length string (${l}) is not valid number`);const m=yield e.$c(h);return new W_(JSON.parse(m),t.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,y.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}$c(e){var t=this;return(0,y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const l=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,y.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class dy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Vt(Ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,y.Z)(function*(m,E){const k=Mn(m),Y=Hc(k.serializer)+"/documents",ie={documents:E.map(Xt=>bh(k.serializer,Xt))},Se=yield k.vo("BatchGetDocuments",Y,ie,E.length),nt=new Map;Se.forEach(Xt=>{const wn=function Gc(s,e){return"found"in e?function(t,l){Gn(!!l.found);const h=gu(t,l.found.name),m=Us(l.found.updateTime),E=l.found.createTime?Us(l.found.createTime):dr.min(),k=new $o({mapValue:{fields:l.found.fields}});return ii.newFoundDocument(h,m,E,k)}(s,e):"missing"in e?function(t,l){Gn(!!l.missing),Gn(!!l.readTime);const h=gu(t,l.missing),m=Us(l.readTime);return ii.newNoDocument(h,m)}(s,e):Ln()}(k.serializer,Xt);nt.set(wn.key.toString(),wn)});const kt=[];return E.forEach(Xt=>{const wn=nt.get(Xt.toString());Gn(!!wn),kt.push(wn)}),kt}),function(m,E){return h.apply(this,arguments)})(t.datastore,e);var h;return l.forEach(h=>t.recordVersion(h)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new fu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,h)=>{const m=On.fromPath(h);e.mutations.push(new Gl(m,e.precondition(m)))}),yield(l=(0,y.Z)(function*(h,m){const E=Mn(h),k=Hc(E.serializer)+"/documents",Y={writes:m.map(ie=>Bf(E.serializer,ie))};yield E.Io("Commit",k,Y)}),function(h,m){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ln();t=dr.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new Vt(Ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dr.min())?xs.exists(!1):xs.updateTime(t):xs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dr.min()))throw new Vt(Ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xs.updateTime(t)}return xs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Vv{constructor(e,t,l,h,m){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=h,this.deferred=m,this.Bc=l.maxAttempts,this.qo=new Eg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,y.Z)(function*(){const t=new dy(e.datastore),l=e.qc(t);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Uc(m)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const t=this.updateFunction(e);return!F(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Jy(t)}return!1}}class mp{constructor(e,t,l,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=h,this.user=yn.UNAUTHENTICATED,this.clientId=ai.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var E=(0,y.Z)(function*(k){Qt("FirestoreClient","Received user=",k.uid),yield m.authCredentialListener(k),m.user=k});return function(k){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(l,E=>(Qt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const h=Au(l,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function bl(s,e){return qo.apply(this,arguments)}function qo(){return qo=(0,y.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let l=t.initialUser;s.setCredentialChangeListener(function(){var h=(0,y.Z)(function*(m){l.isEqual(m)||(yield Hd(e.localStore,m),l=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),qo.apply(this,arguments)}function Uv(s,e){return hy.apply(this,arguments)}function hy(){return hy=(0,y.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield fy(s);Qt("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(t,l),s.setCredentialChangeListener(h=>Hm(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>Hm(e.remoteStore,m)),s._onlineComponents=e}),hy.apply(this,arguments)}function jv(s){return"FirebaseError"===s.name?s.code===Ze.FAILED_PRECONDITION||s.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function fy(s){return py.apply(this,arguments)}function py(){return py=(0,y.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Qt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bl(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!jv(t))throw t;ws("Error using user provided cache. Falling back to memory cache: "+t),yield bl(s,new pp)}}else Qt("FirestoreClient","Using default OfflineComponentProvider"),yield bl(s,new pp);return s._offlineComponents}),py.apply(this,arguments)}function Bg(s){return rf.apply(this,arguments)}function rf(){return rf=(0,y.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Qt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Uv(s,s._uninitializedComponentsProvider._online)):(Qt("FirestoreClient","Using default OnlineComponentProvider"),yield Uv(s,new tf))),s._onlineComponents}),rf.apply(this,arguments)}function gy(s){return fy(s).then(e=>e.persistence)}function Zd(s){return fy(s).then(e=>e.localStore)}function sf(s){return Bg(s).then(e=>e.remoteStore)}function ql(s){return Bg(s).then(e=>e.syncEngine)}function Vo(s){return $g.apply(this,arguments)}function $g(){return $g=(0,y.Z)(function*(s){const e=yield Bg(s),t=e.eventManager;return t.onListen=Y_.bind(null,e.syncEngine),t.onUnlisten=wE.bind(null,e.syncEngine),t}),$g.apply(this,arguments)}function Hv(s,e,t={}){const l=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,m,E,k,Y){const ie=new Lg({next:nt=>{m.enqueueAndForget(()=>Tg(h,Se));const kt=nt.docs.has(E);!kt&&nt.fromCache?Y.reject(new Vt(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):kt&&nt.fromCache&&k&&"server"===k.source?Y.reject(new Vt(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(nt)},error:nt=>Y.reject(nt)}),Se=new qm(uu(E.path),ie,{includeMetadataChanges:!0,Ku:!0});return Yh(h,Se)}(yield Vo(s),s.asyncQueue,e,t,l)})),l.promise}function my(s,e,t={}){const l=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,m,E,k,Y){const ie=new Lg({next:nt=>{m.enqueueAndForget(()=>Tg(h,Se)),nt.fromCache&&"server"===k.source?Y.reject(new Vt(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(nt)},error:nt=>Y.reject(nt)}),Se=new qm(E,ie,{includeMetadataChanges:!0,Ku:!0});return Yh(h,Se)}(yield Vo(s),s.asyncQueue,e,t,l)})),l.promise}function o0(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const na=new Map;function vp(s,e,t){if(!t)throw new Vt(Ze.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ug(s,e,t,l){if(!0===e&&!0===l)throw new Vt(Ze.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function _p(s){if(!On.isDocumentKey(s))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Wv(s){if(On.isDocumentKey(s))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Va(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":Ln()}function oi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Vt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Va(s);throw new Vt(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function ra(s,e){if(e<=0)throw new Vt(Ze.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class nd{constructor(e){var t,l;if(void 0===e.host){if(void 0!==e.ssl)throw new Vt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ug("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=o0(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Vt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Vt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Vt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,l,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Is;switch(t.type){case"firstParty":return new Pl(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Vt(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=na.get(e);t&&(Qt("ComponentProvider","Removing Datastore"),na.delete(e),t.terminate())}(this),Promise.resolve()}}function po(s,e,t,l={}){var h;const m=(s=oi(s,rd))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&ws("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),l.mockUserToken){let E,k;if("string"==typeof l.mockUserToken)E=l.mockUserToken,k=yn.MOCK_USER;else{E=(0,be.Sg)(l.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const Y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!Y)throw new Vt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new yn(Y)}s._authCredentials=new pd(new ru(E,k))}}class Os{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Os(this.firestore,e,this._key)}}class go{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class ba extends go{constructor(e,t,l){super(e,t,uu(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Os(this.firestore,null,new On(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function Qd(s,e,...t){if(s=(0,be.m9)(s),vp("collection","path",e),s instanceof rd){const l=ri.fromString(e,...t);return Wv(l),new ba(s,null,l)}{if(!(s instanceof Os||s instanceof ba))throw new Vt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ri.fromString(e,...t));return Wv(l),new ba(s.firestore,null,l)}}function af(s,e){if(s=oi(s,rd),vp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vt(Ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(s,null,(t=e,new jl(ri.emptyPath(),t)));var t}function Do(s,e,...t){if(s=(0,be.m9)(s),1===arguments.length&&(e=ai.A()),vp("doc","path",e),s instanceof rd){const l=ri.fromString(e,...t);return _p(l),new Os(s,null,new On(l))}{if(!(s instanceof Os||s instanceof ba))throw new Vt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ri.fromString(e,...t));return _p(l),new Os(s.firestore,s instanceof ba?s.converter:null,new On(l))}}function gc(s,e){return s=(0,be.m9)(s),e=(0,be.m9)(e),(s instanceof Os||s instanceof ba)&&(e instanceof Os||e instanceof ba)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function id(s,e){return s=(0,be.m9)(s),e=(0,be.m9)(e),s instanceof go&&e instanceof go&&s.firestore===e.firestore&&Ct(s._query,e._query)&&s.converter===e.converter}class Mu{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Eg(this,"async_queue_retry"),this.Xc=()=>{const t=_g();t&&Qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=_g();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=_g();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ks;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,y.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!xa(t))throw t;Qt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(l=>{throw this.Wc=l,this.Hc=!1,Gr("INTERNAL UNHANDLED ERROR: ",function(m){let E=m.message||"";return m.stack&&(E=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),E}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=t,t}enqueueAfterDelay(e,t,l){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const h=pc.createAndSchedule(this,e,t,l,m=>this.na(m));return this.zc.push(h),h}Zc(){this.Wc&&Ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,y.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function sd(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(s)}class Kv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ks,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const yy=-1;class Ns extends rd{constructor(e,t,l,h){super(e,t,l,h),this.type="firestore",this._queue=new Mu,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ey(this),this._firestoreClient.terminate()}}function _y(s,e){const t="object"==typeof s?s:(0,g.getApp)(),l="string"==typeof s?s:e||"(default)",h=(0,g._getProvider)(t,"firestore").getImmediate({identifier:l});if(!h._initialized){const m=(0,be.P0)("firestore");m&&po(h,...m)}return h}function io(s){return s._firestoreClient||Ey(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Ey(s){var e,t,l;const h=s._freezeSettings(),m=(k=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Fl(s._databaseId,k,s._persistenceKey,(ie=h).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,o0(ie.experimentalLongPollingOptions),ie.useFetchStreams));var k,ie;s._firestoreClient=new mp(s._authCredentials,s._appCheckCredentials,s._queue,m),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(l=h.cache)&&void 0!==l&&l._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function qv(s,e){Yv(s=oi(s,Ns));const t=io(s);if(t._uninitializedComponentsProvider)throw new Vt(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=s._freezeSettings(),h=new tf;return ol(t,h,new cy(h,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Yl(s){Yv(s=oi(s,Ns));const e=io(s);if(e._uninitializedComponentsProvider)throw new Vt(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");ws("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings(),l=new tf;return ol(e,l,new gp(l,t.cacheSizeBytes))}function ol(s,e,t){const l=new Ks;return s.asyncQueue.enqueue((0,y.Z)(function*(){try{yield bl(s,t),yield Uv(s,e),l.resolve()}catch(h){const m=h;if(!jv(m))throw m;ws("Error enabling indexeddb cache. Falling back to memory cache: "+m),l.reject(m)}})).then(()=>l.promise)}function jg(s){if(s._initialized&&!s._terminated)throw new Vt(Ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ks;return s._queue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{yield(t=(0,y.Z)(function*(l){if(!Tr.D())return Promise.resolve();const h=l+"main";yield Tr.delete(h)}),function(l){return t.apply(this,arguments)})(Yf(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function bE(s){return function(e){const t=new Ks;return e.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function X_(s,e){return ny.apply(this,arguments)}(yield ql(e),t)})),t.promise}(io(s=oi(s,Ns)))}function DE(s){return function t0(s){return s.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield gy(s),t=yield sf(s);return e.setNetworkEnabled(!0),function(l){const h=Mn(l);return h.vu.delete(0),zh(h)}(t)}))}(io(s=oi(s,Ns)))}function lf(s){return function Vg(s){return s.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield gy(s),t=yield sf(s);return e.setNetworkEnabled(!1),(l=(0,y.Z)(function*(h){const m=Mn(h);m.vu.add(0),yield dc(m),m.bu.set("Offline")}),function(h){return l.apply(this,arguments)})(t);var l}))}(io(s=oi(s,Ns)))}function a0(s,e){const t=io(s=oi(s,Ns)),l=new Kv;return function s0(s,e,t,l){const h=function(m,E){let k;return k="string"==typeof m?Up().encode(m):m,Y=function(Y,ie){if(Y instanceof Uint8Array)return nf(Y,void 0);if(Y instanceof ArrayBuffer)return nf(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new Yd(Y,E);var Y}(t,np(e));s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){!function fp(s,e,t){const l=Mn(s);var h;(h=(0,y.Z)(function*(m,E,k){try{const Y=yield E.getMetadata();if(yield function(kt,Xt){const wn=Mn(kt),jn=Us(Xt.createTime);return wn.persistence.runTransaction("hasNewerBundle","readonly",qn=>wn.qs.getBundleMetadata(qn,Xt.id)).then(qn=>!!qn&&qn.createTime.compareTo(jn)>=0)}(m.localStore,Y))return yield E.close(),k._completeWith({taskState:"Success",documentsLoaded:(kt=Y).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);k._updateProgress(Mg(Y));const ie=new Rv(Y,m.localStore,E.serializer);let Se=yield E.bc();for(;Se;){const kt=yield ie.zu(Se);kt&&k._updateProgress(kt),Se=yield E.bc()}const nt=yield ie.complete();return yield da(m,nt.Ju,void 0),yield function(kt,Xt){const wn=Mn(kt);return wn.persistence.runTransaction("Save bundle","readwrite",jn=>wn.qs.saveBundleMetadata(jn,Xt))}(m.localStore,Y),k._completeWith(nt.progress),Promise.resolve(nt.Hu)}catch(Y){return ws("SyncEngine",`Loading bundle failed with ${Y}`),k._failWith(Y),Promise.resolve(new Set)}var kt}),function(m,E,k){return h.apply(this,arguments)})(l,e,t).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield ql(s),h,l)}))}(t,s._databaseId,e,l),l}function l0(s,e){return function CE(s,e){return s.asyncQueue.enqueue((0,y.Z)(function*(){return function(t,l){const h=Mn(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.qs.getNamedQuery(m,l))}(yield Zd(s),e)}))}(io(s=oi(s,Ns)),e).then(t=>t?new go(s,null,t.query):null)}function Yv(s){if(s._initialized||s._terminated)throw new Vt(Ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new od(Vs.fromBase64String(e))}catch(t){throw new Vt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new od(Vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Vt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xu{constructor(e){this._methodName=e}}class Pu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ir(this._lat,e._lat)||ir(this._long,e._long)}}const zg=/^__.*__$/;class Ip{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new _h(e,this.data,t,this.fieldTransforms)}}class wy{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iy(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ln()}}class ad{constructor(e,t,l,h,m,E){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.fa(e),h}da(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Iy(this.ca)&&zg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class c0{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||np(e)}ya(e,t,l,h=!1){return new ad({ca:e,methodName:t,ga:l,path:zi.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function So(s){const e=s._freezeSettings(),t=np(s._databaseId);return new c0(s._databaseId,!!e.ignoreUndefinedProperties,t)}function uf(s,e,t,l,h,m={}){const E=s.ya(m.merge||m.mergeFields?2:0,e,t,h);Wg("Data must be an object, but it was:",E,l);const k=by(l,E);let Y,ie;if(m.merge)Y=new co(E.fieldMask),ie=E.fieldTransforms;else if(m.mergeFields){const Se=[];for(const nt of m.mergeFields){const kt=cf(e,nt,t);if(!E.contains(kt))throw new Vt(Ze.INVALID_ARGUMENT,`Field '${kt}' is specified in your field mask but missing from your input data.`);Qv(Se,kt)||Se.push(kt)}Y=new co(Se),ie=E.fieldTransforms.filter(nt=>Y.covers(nt.field))}else Y=null,ie=E.fieldTransforms;return new Ip(new $o(k),Y,ie)}class Cp extends xu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}function mc(s,e,t){return new ad({ca:3,ga:e.settings.ga,methodName:s._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xd extends xu{_toFieldTransform(e){return new vh(e.path,new Md)}isEqual(e){return e instanceof Xd}}class Gg extends xu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=mc(this,e,!0),l=this.pa.map(m=>ld(m,t)),h=new ec(l);return new vh(e.path,h)}isEqual(e){return this===e}}class SE extends xu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=mc(this,e,!0),l=this.pa.map(m=>ld(m,t)),h=new Hl(l);return new vh(e.path,h)}isEqual(e){return this===e}}class Zl extends xu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Rd(e.serializer,Lp(e.serializer,this.Ia));return new vh(e.path,t)}isEqual(e){return this===e}}function Cy(s,e,t,l){const h=s.ya(1,e,t);Wg("Data must be an object, but it was:",h,l);const m=[],E=$o.empty();Pa(l,(Y,ie)=>{const Se=Kg(e,Y,t);ie=(0,be.m9)(ie);const nt=h.da(Se);if(ie instanceof Cp)m.push(Se);else{const kt=ld(ie,nt);null!=kt&&(m.push(Se),E.set(Se,kt))}});const k=new co(m);return new wy(E,k,h.fieldTransforms)}function bp(s,e,t,l,h,m){const E=s.ya(1,e,t),k=[cf(e,l,t)],Y=[h];if(m.length%2!=0)throw new Vt(Ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let kt=0;kt<m.length;kt+=2)k.push(cf(e,m[kt])),Y.push(m[kt+1]);const ie=[],Se=$o.empty();for(let kt=k.length-1;kt>=0;--kt)if(!Qv(ie,k[kt])){const Xt=k[kt];let wn=Y[kt];wn=(0,be.m9)(wn);const jn=E.da(Xt);if(wn instanceof Cp)ie.push(Xt);else{const qn=ld(wn,jn);null!=qn&&(ie.push(Xt),Se.set(Xt,qn))}}const nt=new co(ie);return new wy(Se,nt,E.fieldTransforms)}function Zv(s,e,t,l=!1){return ld(t,s.ya(l?4:3,e))}function ld(s,e){if(ud(s=(0,be.m9)(s)))return Wg("Unsupported field value:",e,s),by(s,e);if(s instanceof xu)return function(t,l){if(!Iy(l.ca))throw l._a(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,l){const h=[];let m=0;for(const E of t){let k=ld(E,l.wa(m));null==k&&(k={nullValue:"NULL_VALUE"}),h.push(k),m++}return{arrayValue:{values:h}}}(s,e)}return function(t,l){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lp(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=_i.fromDate(t);return{timestampValue:jc(l.serializer,h)}}if(t instanceof _i){const h=new _i(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:jc(l.serializer,h)}}if(t instanceof Pu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof od)return{bytesValue:Ff(l.serializer,t._byteString)};if(t instanceof Os){const h=l.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw l._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l._a(`Unsupported field value: ${Va(t)}`)}(s,e)}function by(s,e){const t={};return _d(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(s,(l,h)=>{const m=ld(h,e.ha(l));null!=m&&(t[l]=m)}),{mapValue:{fields:t}}}function ud(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof _i||s instanceof Pu||s instanceof od||s instanceof Os||s instanceof xu)}function Wg(s,e,t){if(!ud(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Va(t);throw e._a("an object"===l?s+" a custom object":s+" "+l)}var l}function cf(s,e,t){if((e=(0,be.m9)(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return Kg(s,e);throw qg("Field path arguments must be of type string or ",s,!1,void 0,t)}const Dy=new RegExp("[~\\*/\\[\\]]");function Kg(s,e,t){if(e.search(Dy)>=0)throw qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Ru(...e.split("."))._internalPath}catch{throw qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function qg(s,e,t,l,h){const m=l&&!l.isEmpty(),E=void 0!==h;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let Y="";return(m||E)&&(Y+=" (found",m&&(Y+=` in field ${l}`),E&&(Y+=` in document ${h}`),Y+=")"),new Vt(Ze.INVALID_ARGUMENT,k+s+Y)}function Qv(s,e){return s.some(t=>t.isEqual(e))}class Jd{constructor(e,t,l,h,m){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dp extends Jd{data(){return super.data()}}function eh(s,e){return"string"==typeof e?Kg(s,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function Xv(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Vt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class cd extends df{}function Sy(s,e,...t){let l=[];e instanceof df&&l.push(e),l=l.concat(t),function(h){const m=h.filter(k=>k instanceof hf).length,E=h.filter(k=>k instanceof th).length;if(m>1||m>0&&E>0)throw new Vt(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)s=h._apply(s);return s}class th extends cd{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new th(e,t,l)}_apply(e){const t=this._parse(e);return xy(e._query,t),new go(e.firestore,e.converter,le(e._query,t))}_parse(e){const t=So(e.firestore);return function(h,m,E,k,Y,ie,Se){let nt;if(Y.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Vt(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){Ry(Se,ie);const kt=[];for(const Xt of Se)kt.push(My(k,h,Xt));nt={arrayValue:{values:kt}}}else nt=My(k,h,Se)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||Ry(Se,ie),nt=Zv(E,"where",Se,"in"===ie||"not-in"===ie);return qr.create(Y,ie,nt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function d0(s,e,t){const l=e,h=eh("where",s);return th._create(h,l,t)}class hf extends df{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hf(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:Xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,h){let m=l;const E=h.getFlattenedFilters();for(const k of E)xy(m,k),m=le(m,k)}(e._query,t),new go(e.firestore,e.converter,le(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ff extends cd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ff(e,t)}_apply(e){const t=function(l,h,m){if(null!==l.startAt)throw new Vt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Vt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new rl(h,m);return function(k,Y){if(null===ph(k)){const ie=R(k);null!==ie&&i_(0,ie,Y.field)}}(l,E),E}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(l,h){const m=l.explicitOrderBy.concat([h]);return new jl(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function Ty(s,e="asc"){const t=e,l=eh("orderBy",s);return ff._create(l,t)}class nh extends cd{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new nh(e,t,l)}_apply(e){return new go(e.firestore,e.converter,Te(e._query,this._limit,this._limitType))}}function e_(s){return ra("limit",s),nh._create("limit",s,"F")}function t_(s){return ra("limitToLast",s),nh._create("limitToLast",s,"L")}class pf extends cd{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new pf(e,t,l)}_apply(e){const t=Ay(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(h=t,new jl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}function n_(...s){return pf._create("startAt",s,!0)}function f0(...s){return pf._create("startAfter",s,!1)}class Sp extends cd{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new Sp(e,t,l)}_apply(e){const t=Ay(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(h=t,new jl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function r_(...s){return Sp._create("endBefore",s,!1)}function p0(...s){return Sp._create("endAt",s,!0)}function Ay(s,e,t,l){if(t[0]=(0,be.m9)(t[0]),t[0]instanceof Jd)return function(h,m,E,k,Y){if(!k)throw new Vt(Ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const ie=[];for(const Se of I(h))if(Se.field.isKeyField())ie.push(zu(m,k.key));else{const nt=k.data.field(Se.field);if(_a(nt))throw new Vt(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const kt=Se.field.canonicalString();throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${kt}' (used as the orderBy) does not exist.`)}ie.push(nt)}return new Fa(ie,Y)}(s._query,s.firestore._databaseId,e,t[0]._document,l);{const h=So(s.firestore);return function(m,E,k,Y,ie,Se){const nt=m.explicitOrderBy;if(ie.length>nt.length)throw new Vt(Ze.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const kt=[];for(let Xt=0;Xt<ie.length;Xt++){const wn=ie[Xt];if(nt[Xt].field.isKeyField()){if("string"!=typeof wn)throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof wn}`);if(!_(m)&&-1!==wn.indexOf("/"))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${wn}' contains a slash.`);const jn=m.path.child(ri.fromString(wn));if(!On.isDocumentKey(jn))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${jn}' is not because it contains an odd number of segments.`);const qn=new On(jn);kt.push(zu(E,qn))}else{const jn=Zv(k,Y,wn);kt.push(jn)}}return new Fa(kt,Se)}(s._query,s.firestore._databaseId,h,e,t,l)}}function My(s,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new Vt(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_(e)&&-1!==t.indexOf("/"))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(ri.fromString(t));if(!On.isDocumentKey(l))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return zu(s,new On(l))}if(t instanceof Os)return zu(s,t._key);throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Va(t)}.`)}function Ry(s,e){if(!Array.isArray(s)||0===s.length)throw new Vt(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xy(s,e){if(e.isInequality()){const l=R(s),h=e.field;if(null!==l&&!l.isEqual(h))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${h.toString()}'`);const m=ph(s);null!==m&&i_(0,h,m)}const t=function(l,h){for(const m of l)for(const E of m.getFlattenedFilters())if(h.indexOf(E.op)>=0)return E.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Vt(Ze.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function i_(s,e,t){if(!t.isEqual(e))throw new Vt(Ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Zg{convertValue(e,t="none"){switch(Ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const l={};return Pa(e,(h,m)=>{l[h]=this.convertValue(m,t)}),l}convertGeoPoint(e){return new Pu($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=el(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const t=gl(e);return new _i(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=ri.fromString(e);Gn(Th(l));const h=new Jo(l.get(1),l.get(3)),m=new On(l.popFirst(5));return h.isEqual(t)||Gr(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Qg(s,e,t){let l;return l=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,l}class Xg extends Zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends Jd{constructor(e,t,l,h,m,E){super(e,t,l,h,E),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(eh("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class Ua extends vc{data(e={}){return super.data(e)}}class Ql{constructor(e,t,l,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new yc(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new Ua(this._firestore,this._userDataWriter,l.key,l,new yc(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(E=>({type:"added",doc:new Ua(l._firestore,l._userDataWriter,E.doc.key,E.doc,new yc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(E=>h||3!==E.type).map(E=>{const k=new Ua(l._firestore,l._userDataWriter,E.doc.key,E.doc,new yc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter);let Y=-1,ie=-1;return 0!==E.type&&(Y=m.indexOf(E.doc.key),m=m.delete(E.doc.key)),1!==E.type&&(m=m.add(E.doc),ie=m.indexOf(E.doc.key)),{type:_c(E.type),doc:k,oldIndex:Y,newIndex:ie}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _c(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ln()}}function m0(s,e){return s instanceof vc&&e instanceof vc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Ql&&e instanceof Ql&&s._firestore===e._firestore&&id(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function y0(s){s=oi(s,Os);const e=oi(s.firestore,Ns);return Hv(io(e),s._key).then(t=>Ny(e,s,t))}class Ou extends Zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}function rh(s){s=oi(s,Os);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return function n0(s,e){const t=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(l=(0,y.Z)(function*(h,m,E){try{const k=yield function(Y,ie){const Se=Mn(Y);return Se.persistence.runTransaction("read document","readonly",nt=>Se.localDocuments.getDocument(nt,ie))}(h,m);k.isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new Vt(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const Y=Au(k,`Failed to get document '${m} from cache`);E.reject(Y)}}),function(h,m,E){return l.apply(this,arguments)})(yield Zd(s),e,t);var l})),t.promise}(t,s._key).then(h=>new vc(e,l,s._key,h,new yc(null!==h&&h.hasLocalMutations,!0),s.converter))}function Py(s){s=oi(s,Os);const e=oi(s.firestore,Ns);return Hv(io(e),s._key,{source:"server"}).then(t=>Ny(e,s,t))}function v0(s){s=oi(s,go);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return Xv(s._query),my(t,s._query).then(h=>new Ql(e,l,s,h))}function em(s){s=oi(s,go);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return function r0(s,e){const t=new Ks;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(l=(0,y.Z)(function*(h,m,E){try{const k=yield Jf(h,m,!0),Y=new Zh(m,k.ir),ie=Y.sc(k.documents),Se=Y.applyChanges(ie,!1);E.resolve(Se.snapshot)}catch(k){const Y=Au(k,`Failed to execute query '${m} against cache`);E.reject(Y)}}),function(h,m,E){return l.apply(this,arguments)})(yield Zd(s),e,t);var l})),t.promise}(t,s._query).then(h=>new Ql(e,l,s,h))}function Oy(s){s=oi(s,go);const e=oi(s.firestore,Ns),t=io(e),l=new Ou(e);return my(t,s._query,{source:"server"}).then(h=>new Ql(e,l,s,h))}function ME(s,e,t){s=oi(s,Os);const l=oi(s.firestore,Ns),h=Qg(s.converter,e,t);return ih(l,[uf(So(l),"setDoc",s._key,h,null!==s.converter,t).toMutation(s._key,xs.none())])}function _0(s,e,t,...l){s=oi(s,Os);const h=oi(s.firestore,Ns),m=So(h);let E;return E="string"==typeof(e=(0,be.m9)(e))||e instanceof Ru?bp(m,"updateDoc",s._key,e,t,l):Cy(m,"updateDoc",s._key,e),ih(h,[E.toMutation(s._key,xs.exists(!0))])}function E0(s){return ih(oi(s.firestore,Ns),[new fu(s._key,xs.none())])}function o_(s,e){const t=oi(s.firestore,Ns),l=Do(s),h=Qg(s.converter,e);return ih(t,[uf(So(s.firestore),"addDoc",l._key,h,null!==s.converter,{}).toMutation(l._key,xs.exists(!1))]).then(()=>l)}function w0(s,...e){var t,l,h;s=(0,be.m9)(s);let m={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||sd(e[E])||(m=e[E],E++);const k={includeMetadataChanges:m.includeMetadataChanges};if(sd(e[E])){const nt=e[E];e[E]=null===(t=nt.next)||void 0===t?void 0:t.bind(nt),e[E+1]=null===(l=nt.error)||void 0===l?void 0:l.bind(nt),e[E+2]=null===(h=nt.complete)||void 0===h?void 0:h.bind(nt)}let Y,ie,Se;if(s instanceof Os)ie=oi(s.firestore,Ns),Se=uu(s._key.path),Y={next:nt=>{e[E]&&e[E](Ny(ie,s,nt))},error:e[E+1],complete:e[E+2]};else{const nt=oi(s,go);ie=oi(nt.firestore,Ns),Se=nt._query;const kt=new Ou(ie);Y={next:Xt=>{e[E]&&e[E](new Ql(ie,kt,nt,Xt))},error:e[E+1],complete:e[E+2]},Xv(s._query)}return function(nt,kt,Xt,wn){const jn=new Lg(wn),qn=new qm(kt,jn,Xt);return nt.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Yh(yield Vo(nt),qn)})),()=>{jn.Dc(),nt.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Tg(yield Vo(nt),qn)}))}}(io(ie),Se,k,Y)}function Yo(s,e){return function zv(s,e){const t=new Lg(e);return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return l=yield Vo(s),h=t,Mn(l).ku.add(h),void h.next();var l,h})),()=>{t.Dc(),s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return l=yield Vo(s),h=t,void Mn(l).ku.delete(h);var l,h}))}}(io(s=oi(s,Ns)),sd(e)?e:{next:e})}function ih(s,e){return function(t,l){const h=new Ks;return t.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function xg(s,e,t){return Xm.apply(this,arguments)}(yield ql(t),l,h)})),h.promise}(io(s),e)}function Ny(s,e,t){const l=t.docs.get(e._key),h=new Ou(s);return new vc(s,h,e._key,l,new yc(t.hasPendingWrites,t.fromCache),e.converter)}const wc={maxAttempts:5};class R0{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=So(e)}set(e,t,l){this._verifyNotCommitted();const h=Ic(e,this._firestore),m=Qg(h.converter,t,l),E=uf(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,l);return this._mutations.push(E.toMutation(h._key,xs.none())),this}update(e,t,l,...h){this._verifyNotCommitted();const m=Ic(e,this._firestore);let E;return E="string"==typeof(t=(0,be.m9)(t))||t instanceof Ru?bp(this._dataReader,"WriteBatch.update",m._key,t,l,h):Cy(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(E.toMutation(m._key,xs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ic(e,this._firestore);return this._mutations=this._mutations.concat(new fu(t._key,xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ic(s,e){if((s=(0,be.m9)(s)).firestore!==e)throw new Vt(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class ja extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=So(e)}get(e){const t=Ic(e,this._firestore),l=new Xg(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Ln();const m=h[0];if(m.isFoundDocument())return new Jd(this._firestore,l,m.key,m,t.converter);if(m.isNoDocument())return new Jd(this._firestore,l,t._key,null,t.converter);throw Ln()})}set(e,t,l){const h=Ic(e,this._firestore),m=Qg(h.converter,t,l),E=uf(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,l);return this._transaction.set(h._key,E),this}update(e,t,l,...h){const m=Ic(e,this._firestore);let E;return E="string"==typeof(t=(0,be.m9)(t))||t instanceof Ru?bp(this._dataReader,"Transaction.update",m._key,t,l,h):Cy(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,E),this}delete(e){const t=Ic(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ic(e,this._firestore),l=new Ou(this._firestore);return super.get(e).then(h=>new vc(this._firestore,l,t._key,h._document,new yc(!1,!1),t.converter))}}function Dl(s,e,t){s=oi(s,Ns);const l=Object.assign(Object.assign({},wc),t);return function(h){if(h.maxAttempts<1)throw new Vt(Ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(h,m,E){const k=new Ks;return h.asyncQueue.enqueueAndForget((0,y.Z)(function*(){const Y=yield function yp(s){return Bg(s).then(e=>e.datastore)}(h);new Vv(h.asyncQueue,Y,E,m,k).run()})),k.promise}(io(s),h=>e(new ja(s,h)),l)}function al(){return new Cp("deleteField")}function x0(){return new Xd("serverTimestamp")}function ky(...s){return new Gg("arrayUnion",s)}function P0(...s){return new SE("arrayRemove",s)}function O0(s){return new Zl("increment",s)}!function(s,e=!0){zr=g.SDK_VERSION,(0,g._registerComponent)(new ae.wA("firestore",(t,{instanceIdentifier:l,options:h})=>{const m=t.getProvider("app").getImmediate(),E=new Ns(new xl(t.getProvider("auth-internal")),new Ac(t.getProvider("app-check-internal")),function(k,Y){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new Vt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(k.options.projectId,Y)}(m,l),m);return h=Object.assign({useFetchStreams:e},h),E._setSettings(h),E},"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(Qn,"3.12.1",s),(0,g.registerVersion)(Qn,"3.12.1","esm2017")}()},2090:(ln,ct,L)=>{"use strict";L.d(ct,{$s:()=>gn,BH:()=>ft,DV:()=>Lt,Dv:()=>ur,G6:()=>ke,GJ:()=>Nt,L:()=>$e,LL:()=>Pt,P0:()=>it,Pz:()=>rt,Sg:()=>_t,UG:()=>St,UI:()=>fr,US:()=>De,Wj:()=>Kn,Wl:()=>Ot,Yr:()=>We,ZB:()=>Ue,ZR:()=>Tt,aH:()=>Ge,b$:()=>yt,cI:()=>et,dS:()=>ei,eu:()=>He,g5:()=>ae,gK:()=>kr,gQ:()=>Mr,h$:()=>Ce,hl:()=>Fe,hu:()=>g,jU:()=>tt,lb:()=>xn,m9:()=>mr,ne:()=>Sn,p$:()=>Ie,pd:()=>Ar,q4:()=>vt,r3:()=>In,ru:()=>pt,tV:()=>U,uI:()=>xe,ug:()=>Hn,vZ:()=>gr,w1:()=>Pe,w9:()=>En,xO:()=>sr,xb:()=>rr,z$:()=>Ye,zI:()=>mt,zd:()=>nr});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},g=function(Je,de){if(!Je)throw ae(de)},ae=function(Je){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Je)},ye=function(Je){const de=[];let K=0;for(let z=0;z<Je.length;z++){let q=Je.charCodeAt(z);q<128?de[K++]=q:q<2048?(de[K++]=q>>6|192,de[K++]=63&q|128):55296==(64512&q)&&z+1<Je.length&&56320==(64512&Je.charCodeAt(z+1))?(q=65536+((1023&q)<<10)+(1023&Je.charCodeAt(++z)),de[K++]=q>>18|240,de[K++]=q>>12&63|128,de[K++]=q>>6&63|128,de[K++]=63&q|128):(de[K++]=q>>12|224,de[K++]=q>>6&63|128,de[K++]=63&q|128)}return de},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Je,de){if(!Array.isArray(Je))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let q=0;q<Je.length;q+=3){const Oe=Je[q],st=q+1<Je.length,Le=st?Je[q+1]:0,ht=q+2<Je.length,It=ht?Je[q+2]:0;let rn=(15&Le)<<2|It>>6,un=63&It;ht||(un=64,st||(rn=64)),z.push(K[Oe>>2],K[(3&Oe)<<4|Le>>4],K[rn],K[un])}return z.join("")},encodeString(Je,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(Je):this.encodeByteArray(ye(Je),de)},decodeString(Je,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(Je):function(Je){const de=[];let K=0,z=0;for(;K<Je.length;){const q=Je[K++];if(q<128)de[z++]=String.fromCharCode(q);else if(q>191&&q<224){const Oe=Je[K++];de[z++]=String.fromCharCode((31&q)<<6|63&Oe)}else if(q>239&&q<365){const ht=((7&q)<<18|(63&Je[K++])<<12|(63&Je[K++])<<6|63&Je[K++])-65536;de[z++]=String.fromCharCode(55296+(ht>>10)),de[z++]=String.fromCharCode(56320+(1023&ht))}else{const Oe=Je[K++],st=Je[K++];de[z++]=String.fromCharCode((15&q)<<12|(63&Oe)<<6|63&st)}}return de.join("")}(this.decodeStringToByteArray(Je,de))},decodeStringToByteArray(Je,de){this.init_();const K=de?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let q=0;q<Je.length;){const Oe=K[Je.charAt(q++)],Le=q<Je.length?K[Je.charAt(q)]:0;++q;const It=q<Je.length?K[Je.charAt(q)]:64;++q;const zt=q<Je.length?K[Je.charAt(q)]:64;if(++q,null==Oe||null==Le||null==It||null==zt)throw new he;z.push(Oe<<2|Le>>4),64!==It&&(z.push(Le<<4&240|It>>2),64!==zt&&z.push(It<<6&192|zt))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Je=0;Je<this.ENCODED_VALS.length;Je++)this.byteToCharMap_[Je]=this.ENCODED_VALS.charAt(Je),this.charToByteMap_[this.byteToCharMap_[Je]]=Je,this.byteToCharMapWebSafe_[Je]=this.ENCODED_VALS_WEBSAFE.charAt(Je),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Je]]=Je,Je>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Je)]=Je,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Je)]=Je)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(Je){const de=ye(Je);return De.encodeByteArray(de,!0)},$e=function(Je){return Ce(Je).replace(/\./g,"")},U=function(Je){try{return De.decodeString(Je,!0)}catch(de){console.error("base64Decode failed: ",de)}return null};function Ie(Je){return Ue(void 0,Je)}function Ue(Je,de){if(!(de instanceof Object))return de;switch(de.constructor){case Date:return new Date(de.getTime());case Object:void 0===Je&&(Je={});break;case Array:Je=[];break;default:return de}for(const K in de)!de.hasOwnProperty(K)||!ve(K)||(Je[K]=Ue(Je[K],de[K]));return Je}function ve(Je){return"__proto__"!==Je}const Ee=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Je=process.env.__FIREBASE_DEFAULTS__;return Je?JSON.parse(Je):void 0})()||(()=>{if(typeof document>"u")return;let Je;try{Je=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const de=Je&&U(Je[1]);return de&&JSON.parse(de)})()}catch(Je){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Je}`)}},vt=Je=>{var de,K;return null===(K=null===(de=Ee())||void 0===de?void 0:de.emulatorHosts)||void 0===K?void 0:K[Je]},it=Je=>{const de=vt(Je);if(!de)return;const K=de.lastIndexOf(":");if(K<=0||K+1===de.length)throw new Error(`Invalid host ${de} with no separate hostname and port!`);const z=parseInt(de.substring(K+1),10);return"["===de[0]?[de.substring(1,K-1),z]:[de.substring(0,K),z]},Ge=()=>{var Je;return null===(Je=Ee())||void 0===Je?void 0:Je.config},rt=Je=>{var de;return null===(de=Ee())||void 0===de?void 0:de[`_${Je}`]};class ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((de,K)=>{this.resolve=de,this.reject=K})}wrapCallback(de){return(K,z)=>{K?this.reject(K):this.resolve(z),"function"==typeof de&&(this.promise.catch(()=>{}),1===de.length?de(K):de(K,z))}}}function _t(Je,de){if(Je.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=de||"demo-project",q=Je.iat||0,Oe=Je.sub||Je.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const st=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:q,exp:q+3600,auth_time:q,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},Je);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(st)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function St(){var Je;const de=null===(Je=Ee())||void 0===Je?void 0:Je.forceEnvironment;if("node"===de)return!0;if("browser"===de)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tt(){return"object"==typeof self&&self.self===self}function pt(){const Je="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Je&&void 0!==Je.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const Je=Ye();return Je.indexOf("MSIE ")>=0||Je.indexOf("Trident/")>=0}function We(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function ke(){return!St()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((Je,de)=>{try{let K=!0;const z="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(z);q.onsuccess=()=>{q.result.close(),K||self.indexedDB.deleteDatabase(z),Je(!0)},q.onupgradeneeded=()=>{K=!1},q.onerror=()=>{var Oe;de((null===(Oe=q.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(K){de(K)}})}function mt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tt extends Error{constructor(de,K,z){super(K),this.code=de,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(de,K,z){this.service=de,this.serviceName=K,this.errors=z}create(de,...K){const z=K[0]||{},q=`${this.service}/${de}`,Oe=this.errors[de],st=Oe?function sn(Je,de){return Je.replace(At,(K,z)=>{const q=de[z];return null!=q?String(q):`<${z}?>`})}(Oe,z):"Error";return new Tt(q,`${this.serviceName}: ${st} (${q}).`,z)}}const At=/\{\$([^}]+)}/g;function et(Je){return JSON.parse(Je)}function Ot(Je){return JSON.stringify(Je)}const Jt=function(Je){let de={},K={},z={},q="";try{const Oe=Je.split(".");de=et(U(Oe[0])||""),K=et(U(Oe[1])||""),q=Oe[2],z=K.d||{},delete K.d}catch{}return{header:de,claims:K,data:z,signature:q}},En=function(Je){const K=Jt(Je).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},Nt=function(Je){const de=Jt(Je).claims;return"object"==typeof de&&!0===de.admin};function In(Je,de){return Object.prototype.hasOwnProperty.call(Je,de)}function Lt(Je,de){if(Object.prototype.hasOwnProperty.call(Je,de))return Je[de]}function rr(Je){for(const de in Je)if(Object.prototype.hasOwnProperty.call(Je,de))return!1;return!0}function fr(Je,de,K){const z={};for(const q in Je)Object.prototype.hasOwnProperty.call(Je,q)&&(z[q]=de.call(K,Je[q],q,Je));return z}function gr(Je,de){if(Je===de)return!0;const K=Object.keys(Je),z=Object.keys(de);for(const q of K){if(!z.includes(q))return!1;const Oe=Je[q],st=de[q];if(nn(Oe)&&nn(st)){if(!gr(Oe,st))return!1}else if(Oe!==st)return!1}for(const q of z)if(!K.includes(q))return!1;return!0}function nn(Je){return null!==Je&&"object"==typeof Je}function sr(Je){const de=[];for(const[K,z]of Object.entries(Je))Array.isArray(z)?z.forEach(q=>{de.push(encodeURIComponent(K)+"="+encodeURIComponent(q))}):de.push(encodeURIComponent(K)+"="+encodeURIComponent(z));return de.length?"&"+de.join("&"):""}function nr(Je){const de={};return Je.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[q,Oe]=z.split("=");de[decodeURIComponent(q)]=decodeURIComponent(Oe)}}),de}function Ar(Je){const de=Je.indexOf("?");if(!de)return"";const K=Je.indexOf("#",de);return Je.substring(de,K>0?K:void 0)}class Mr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let de=1;de<this.blockSize;++de)this.pad_[de]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(de,K){K||(K=0);const z=this.W_;if("string"==typeof de)for(let zt=0;zt<16;zt++)z[zt]=de.charCodeAt(K)<<24|de.charCodeAt(K+1)<<16|de.charCodeAt(K+2)<<8|de.charCodeAt(K+3),K+=4;else for(let zt=0;zt<16;zt++)z[zt]=de[K]<<24|de[K+1]<<16|de[K+2]<<8|de[K+3],K+=4;for(let zt=16;zt<80;zt++){const rn=z[zt-3]^z[zt-8]^z[zt-14]^z[zt-16];z[zt]=4294967295&(rn<<1|rn>>>31)}let It,Gt,q=this.chain_[0],Oe=this.chain_[1],st=this.chain_[2],Le=this.chain_[3],ht=this.chain_[4];for(let zt=0;zt<80;zt++){zt<40?zt<20?(It=Le^Oe&(st^Le),Gt=1518500249):(It=Oe^st^Le,Gt=1859775393):zt<60?(It=Oe&st|Le&(Oe|st),Gt=2400959708):(It=Oe^st^Le,Gt=3395469782);const rn=(q<<5|q>>>27)+It+ht+Gt+z[zt]&4294967295;ht=Le,Le=st,st=4294967295&(Oe<<30|Oe>>>2),Oe=q,q=rn}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+st&4294967295,this.chain_[3]=this.chain_[3]+Le&4294967295,this.chain_[4]=this.chain_[4]+ht&4294967295}update(de,K){if(null==de)return;void 0===K&&(K=de.length);const z=K-this.blockSize;let q=0;const Oe=this.buf_;let st=this.inbuf_;for(;q<K;){if(0===st)for(;q<=z;)this.compress_(de,q),q+=this.blockSize;if("string"==typeof de){for(;q<K;)if(Oe[st]=de.charCodeAt(q),++st,++q,st===this.blockSize){this.compress_(Oe),st=0;break}}else for(;q<K;)if(Oe[st]=de[q],++st,++q,st===this.blockSize){this.compress_(Oe),st=0;break}}this.inbuf_=st,this.total_+=K}digest(){const de=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&K,K/=256;this.compress_(this.buf_);let z=0;for(let q=0;q<5;q++)for(let Oe=24;Oe>=0;Oe-=8)de[z]=this.chain_[q]>>Oe&255,++z;return de}}function Sn(Je,de){const K=new vn(Je,de);return K.subscribe.bind(K)}class vn{constructor(de,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{de(this)}).catch(z=>{this.error(z)})}next(de){this.forEachObserver(K=>{K.next(de)})}error(de){this.forEachObserver(K=>{K.error(de)}),this.close(de)}complete(){this.forEachObserver(de=>{de.complete()}),this.close()}subscribe(de,K,z){let q;if(void 0===de&&void 0===K&&void 0===z)throw new Error("Missing Observer.");q=function br(Je,de){if("object"!=typeof Je||null===Je)return!1;for(const K of de)if(K in Je&&"function"==typeof Je[K])return!0;return!1}(de,["next","error","complete"])?de:{next:de,error:K,complete:z},void 0===q.next&&(q.next=vr),void 0===q.error&&(q.error=vr),void 0===q.complete&&(q.complete=vr);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Oe}unsubscribeOne(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(de){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,de)}sendOne(de,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[de])try{K(this.observers[de])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(de){this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const ur=function(Je,de,K,z){let q;if(z<de?q="at least "+de:z>K&&(q=0===K?"none":"no more than "+K),q)throw new Error(Je+" failed: Was called with "+z+(1===z?" argument.":" arguments.")+" Expects "+q+".")};function kr(Je,de){return`${Je} failed: ${de} argument `}function Kn(Je,de,K,z){if((!z||K)&&"function"!=typeof K)throw new Error(kr(Je,de)+"must be a valid function.")}function xn(Je,de,K,z){if((!z||K)&&("object"!=typeof K||null===K))throw new Error(kr(Je,de)+"must be a valid context object.")}const ei=function(Je){const de=[];let K=0;for(let z=0;z<Je.length;z++){let q=Je.charCodeAt(z);if(q>=55296&&q<=56319){const Oe=q-55296;z++,g(z<Je.length,"Surrogate pair missing trail surrogate."),q=65536+(Oe<<10)+(Je.charCodeAt(z)-56320)}q<128?de[K++]=q:q<2048?(de[K++]=q>>6|192,de[K++]=63&q|128):q<65536?(de[K++]=q>>12|224,de[K++]=q>>6&63|128,de[K++]=63&q|128):(de[K++]=q>>18|240,de[K++]=q>>12&63|128,de[K++]=q>>6&63|128,de[K++]=63&q|128)}return de},Hn=function(Je){let de=0;for(let K=0;K<Je.length;K++){const z=Je.charCodeAt(K);z<128?de++:z<2048?de+=2:z>=55296&&z<=56319?(de+=4,K++):de+=3}return de},fe=1e3,ze=2,Mt=144e5,an=.5;function gn(Je,de=fe,K=ze){const z=de*Math.pow(K,Je),q=Math.round(an*z*(Math.random()-.5)*2);return Math.min(Mt,z+q)}function mr(Je){return Je&&Je._delegate?Je._delegate:Je}},8261:(ln,ct,L)=>{"use strict";L.d(ct,{KY:()=>_t,DM:()=>Ye,J2:()=>pt,Iq:()=>yt});var g=L(9751),ae=L(4968),ye={error:"cordova_not_available"},be={error:"plugin_not_installed"};function De(ce){if(typeof window<"u"&&window.angular){var je=window.document,We=window.angular.element(je.querySelector("[ng-app]")||je.body).injector();if(We)return We.get("$q")(function(Fe,He){ce(Fe,He)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Fe,He){ce(Fe,He)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Ie(ce,Pe,je){var We,ke,Fe;return"string"==typeof ce?We=ce:(We=ce.constructor.getPluginRef(),je=ce.constructor.getPluginName(),Fe=ce.constructor.getPluginInstallName()),!(!(ke=bt(We))||Pe&&typeof ke[Pe]>"u")||(typeof window>"u"||!window.cordova?(function vt(ce,Pe){typeof process>"u"&&console.warn(Pe?"Native: tried calling "+ce+"."+Pe+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+ce+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(je,Pe),ye):(function Ee(ce,Pe,je){console.warn(je?"Native: tried calling "+ce+"."+je+", but the "+ce+" plugin is not installed.":"Native: tried accessing the "+ce+" plugin but it's not installed."),Pe&&console.warn("Install the "+ce+" plugin: 'ionic cordova plugin add "+Pe+"'")}(je,Fe,Pe),be))}function Ve(ce,Pe,je,We,ke,Fe){void 0===We&&(We={}),je=function ve(ce,Pe,je,We){if(void 0===Pe&&(Pe={}),Pe.sync)return ce;if("reverse"===Pe.callbackOrder)ce.unshift(We),ce.unshift(je);else if("node"===Pe.callbackStyle)ce.push(function(mt,ut){mt?We(mt):je(ut)});else if("object"===Pe.callbackStyle&&Pe.successName&&Pe.errorName){var ke={};ke[Pe.successName]=je,ke[Pe.errorName]=We,ce.push(ke)}else if(typeof Pe.successIndex<"u"||typeof Pe.errorIndex<"u"){var Fe=function(){Pe.successIndex>ce.length?ce[Pe.successIndex]=je:ce.splice(Pe.successIndex,0,je)},He=function(){Pe.errorIndex>ce.length?ce[Pe.errorIndex]=We:ce.splice(Pe.errorIndex,0,We)};Pe.successIndex>Pe.errorIndex?(He(),Fe()):(Fe(),He())}else ce.push(je),ce.push(We);return ce}(je,We,ke,Fe);var He=Ie(ce,Pe);if(!0===He){var mt=bt(ce.constructor.getPluginRef());return mt[Pe].apply(mt,je)}return He}function bt(ce){return typeof window<"u"?Me(window,ce):null}function Me(ce,Pe){for(var je=Pe.split("."),We=ce,ke=0;ke<je.length;ke++){if(!We)return null;We=We[je[ke]]}return We}var it=function(ce,Pe,je){return void 0===je&&(je={}),function(){for(var We=[],ke=0;ke<arguments.length;ke++)We[ke]=arguments[ke];return je.sync?Ve(ce,Pe,We,je):je.observable?function $e(ce,Pe,je,We){return void 0===We&&(We={}),new g.y(function(ke){var Fe;return Fe=We.destruct?Ve(ce,Pe,je,We,function(){for(var He=[],mt=0;mt<arguments.length;mt++)He[mt]=arguments[mt];return ke.next(He)},function(){for(var He=[],mt=0;mt<arguments.length;mt++)He[mt]=arguments[mt];return ke.error(He)}):Ve(ce,Pe,je,We,ke.next.bind(ke),ke.error.bind(ke)),Fe&&Fe.error&&(ke.error(Fe.error),ke.complete()),function(){try{if(We.clearFunction)return We.clearWithArgs?Ve(ce,We.clearFunction,je,We,ke.next.bind(ke),ke.error.bind(ke)):Ve(ce,We.clearFunction,[])}catch(He){console.warn("Unable to clear the previous observable watch for",ce.constructor.getPluginName(),Pe),console.warn(He)}}})}(ce,Pe,We,je):je.eventObservable&&je.event?function U(ce,Pe){return Pe=typeof window<"u"&&Pe?Me(window,Pe):Pe||(typeof window<"u"?window:{}),(0,ae.R)(Pe,ce)}(je.event,je.element):je.otherPromise?function Ce(ce,Pe,je,We){return void 0===We&&(We={}),De(function(ke,Fe){var He=Ve(ce,Pe,je,We);He?He.error?Fe(He.error):He.then&&He.then(ke).catch(Fe):Fe({error:"unexpected_error"})})}(ce,Pe,We,je):function he(ce,Pe,je,We){void 0===We&&(We={});var ke,Fe,He=De(function(mt,ut){ke=We.destruct?Ve(ce,Pe,je,We,function(){for(var Tt=[],Pt=0;Pt<arguments.length;Pt++)Tt[Pt]=arguments[Pt];return mt(Tt)},function(){for(var Tt=[],Pt=0;Pt<arguments.length;Pt++)Tt[Pt]=arguments[Pt];return ut(Tt)}):Ve(ce,Pe,je,We,mt,ut),Fe=ut});return ke&&ke.error&&(He.catch(function(){}),"function"==typeof Fe&&Fe(ke.error)),He}(ce,Pe,We,je)}},_t=function(){function ce(){}return ce.installed=function(){return!0===Ie(this.pluginRef)},ce.getPlugin=function(){return typeof window<"u"?function rt(ce,Pe){for(var je=Pe.split("."),We=ce,ke=0;ke<je.length;ke++){if(!We)return null;We=We[je[ke]]}return We}(window,this.pluginRef):null},ce.getPluginName=function(){return this.pluginName},ce.getPluginRef=function(){return this.pluginRef},ce.getPluginInstallName=function(){return this.plugin},ce.getSupportedPlatforms=function(){return this.platforms},ce.pluginName="",ce.pluginRef="",ce.plugin="",ce.repo="",ce.platforms=[],ce.install="",ce}();function Ye(ce,Pe,je,We){return it(ce,Pe,je).apply(this,We)}function pt(ce,Pe){return!0===Ie(ce,Pe)?bt(ce.constructor.getPluginRef())[Pe]:null}function yt(ce,Pe,je){!0===Ie(ce,Pe)&&(bt(ce.constructor.getPluginRef())[Pe]=je)}!function y(){if(typeof process>"u"){var ce=typeof window<"u"?window:{},je=Date.now(),We=!1;ce.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-je)+" ms"),We=!0}),setTimeout(function(){!We&&ce.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},83:(ln,ct,L)=>{"use strict";L.d(ct,{S:()=>ye});var y=L(655),g=L(2223),ae=L(8261),ye=function(be){function De(){return null!==be&&be.apply(this,arguments)||this}return(0,y.ZT)(De,be),De.prototype.getCurrentAcceleration=function(){return(0,ae.DM)(this,"getCurrentAcceleration",{},arguments)},De.prototype.watchAcceleration=function(he){return(0,ae.DM)(this,"watchAcceleration",{callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"},arguments)},De.pluginName="DeviceMotion",De.plugin="cordova-plugin-device-motion",De.pluginRef="navigator.accelerometer",De.repo="https://github.com/apache/cordova-plugin-device-motion",De.platforms=["Android","BlackBerry 10","Browser","Firefox OS","iOS","Tizen","Ubuntu","Windows","Windows Phone 8"],De.decorators=[{type:g.GSi}],De}(ae.KY)},2720:(ln,ct,L)=>{"use strict";L.d(ct,{y:()=>ye});var y=L(655),g=L(2223),ae=L(8261),ye=function(be){function De(){return null!==be&&be.apply(this,arguments)||this}return(0,y.ZT)(De,be),De.prototype.available=function(){return(0,ae.DM)(this,"available",{},arguments)},De.prototype.switchOn=function(){return(0,ae.DM)(this,"switchOn",{},arguments)},De.prototype.switchOff=function(){return(0,ae.DM)(this,"switchOff",{},arguments)},De.prototype.toggle=function(){return(0,ae.DM)(this,"toggle",{},arguments)},De.prototype.isSwitchedOn=function(){return(0,ae.DM)(this,"isSwitchedOn",{sync:!0},arguments)},De.pluginName="Flashlight",De.plugin="cordova-plugin-flashlight",De.pluginRef="window.plugins.flashlight",De.repo="https://github.com/EddyVerbruggen/Flashlight-PhoneGap-Plugin",De.platforms=["Android","iOS","Windows Phone 8"],De.decorators=[{type:g.GSi}],De}(ae.KY)},5789:(ln,ct,L)=>{"use strict";L.d(ct,{w:()=>ye});var y=L(655),g=L(2223),ae=L(8261),ye=function(be){function De(){return null!==be&&be.apply(this,arguments)||this}return(0,y.ZT)(De,be),De.prototype.vibrate=function(he){return(0,ae.DM)(this,"vibrate",{sync:!0},arguments)},De.pluginName="Vibration",De.plugin="cordova-plugin-vibration",De.pluginRef="navigator",De.repo="https://github.com/apache/cordova-plugin-vibration",De.platforms=["Android","iOS","Windows"],De.decorators=[{type:g.GSi}],De}(ae.KY)},9613:(ln,ct,L)=>{"use strict";L.d(ct,{c:()=>bt});var y=L(3577),g=L(3457);let ae;const be=Me=>Me.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),De=Me=>(void 0===ae&&(ae=void 0===Me.style.animationName&&void 0!==Me.style.webkitAnimationName?"-webkit-":""),ae),he=(Me,Ee,vt)=>{const it=Ee.startsWith("animation")?De(Me):"";Me.style.setProperty(it+Ee,vt)},Ce=(Me,Ee)=>{const vt=Ee.startsWith("animation")?De(Me):"";Me.style.removeProperty(vt+Ee)},Ie=[],qe=(Me=[],Ee)=>{if(void 0!==Ee){const vt=Array.isArray(Ee)?Ee:[Ee];return[...Me,...vt]}return Me},bt=Me=>{let Ee,vt,it,Ge,rt,ft,tt,Fe,He,mt,ut,At,et,_t=[],Ye=[],xe=[],St=!1,pt={},yt=[],ce=[],Pe={},je=0,We=!1,ke=!1,Tt=!0,Pt=!1,sn=!0,Ot=!1;const Jt=Me,fn=[],Tn=[],En=[],Nt=[],In=[],Lt=[],rr=[],fr=[],gr=[],nn=[],Lr="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Lr,Ar=()=>nn,br=(oe,G)=>((null!=G&&G.oneTimeCallback?Tn:fn).push({c:oe,o:G}),et),ur=()=>{if(sr)nn.forEach(oe=>{oe.cancel()}),nn.length=0;else{const oe=En.slice();(0,y.r)(()=>{oe.forEach(G=>{Ce(G,"animation-name"),Ce(G,"animation-duration"),Ce(G,"animation-timing-function"),Ce(G,"animation-iteration-count"),Ce(G,"animation-delay"),Ce(G,"animation-play-state"),Ce(G,"animation-fill-mode"),Ce(G,"animation-direction")})})}},kr=()=>{In.forEach(oe=>{null!=oe&&oe.parentNode&&oe.parentNode.removeChild(oe)}),In.length=0},Fn=()=>void 0!==rt?rt:tt?tt.getFill():"both",mr=()=>void 0!==He?He:void 0!==ft?ft:tt?tt.getDirection():"normal",Je=()=>We?"linear":void 0!==it?it:tt?tt.getEasing():"linear",de=()=>ke?0:void 0!==mt?mt:void 0!==vt?vt:tt?tt.getDuration():0,K=()=>void 0!==Ge?Ge:tt?tt.getIterations():1,z=()=>void 0!==ut?ut:void 0!==Ee?Ee:tt?tt.getDelay():0,Kt=()=>{0!==je&&(je--,0===je&&((()=>{js(),fr.forEach(Xe=>Xe()),gr.forEach(Xe=>Xe());const oe=Tt?1:0,G=yt,se=ce,Be=Pe;En.forEach(Xe=>{const dt=Xe.classList;G.forEach(xt=>dt.add(xt)),se.forEach(xt=>dt.remove(xt));for(const xt in Be)Be.hasOwnProperty(xt)&&he(Xe,xt,Be[xt])}),fn.forEach(Xe=>Xe.c(oe,et)),Tn.forEach(Xe=>Xe.c(oe,et)),Tn.length=0,sn=!0,Tt&&(Pt=!0),Tt=!0})(),tt&&tt.animationFinish()))},_n=(oe=!0)=>{kr();const G=(Me=>(Me.forEach(Ee=>{for(const vt in Ee)if(Ee.hasOwnProperty(vt)){const it=Ee[vt];if("easing"===vt)Ee["animation-timing-function"]=it,delete Ee[vt];else{const Ge=be(vt);Ge!==vt&&(Ee[Ge]=it,delete Ee[vt])}}}),Me))(_t);En.forEach(se=>{if(G.length>0){const Be=((Me=[])=>Me.map(Ee=>{const vt=Ee.offset,it=[];for(const Ge in Ee)Ee.hasOwnProperty(Ge)&&"offset"!==Ge&&it.push(`${Ge}: ${Ee[Ge]};`);return`${100*vt}% { ${it.join(" ")} }`}).join(" "))(G);At=void 0!==Me?Me:(Me=>{let Ee=Ie.indexOf(Me);return Ee<0&&(Ee=Ie.push(Me)-1),`ion-animation-${Ee}`})(Be);const Xe=((Me,Ee,vt)=>{var it;const Ge=(Me=>{const Ee=void 0!==Me.getRootNode?Me.getRootNode():Me;return Ee.head||Ee})(vt),rt=De(vt),ft=Ge.querySelector("#"+Me);if(ft)return ft;const _t=(null!==(it=vt.ownerDocument)&&void 0!==it?it:document).createElement("style");return _t.id=Me,_t.textContent=`@${rt}keyframes ${Me} { ${Ee} } @${rt}keyframes ${Me}-alt { ${Ee} }`,Ge.appendChild(_t),_t})(At,Be,se);In.push(Xe),he(se,"animation-duration",`${de()}ms`),he(se,"animation-timing-function",Je()),he(se,"animation-delay",`${z()}ms`),he(se,"animation-fill-mode",Fn()),he(se,"animation-direction",mr());const dt=K()===1/0?"infinite":K().toString();he(se,"animation-iteration-count",dt),he(se,"animation-play-state","paused"),oe&&he(se,"animation-name",`${Xe.id}-alt`),(0,y.r)(()=>{he(se,"animation-name",Xe.id||null)})}})},Xn=(oe=!0)=>{(()=>{Lt.forEach(Be=>Be()),rr.forEach(Be=>Be());const oe=Ye,G=xe,se=pt;En.forEach(Be=>{const Xe=Be.classList;oe.forEach(dt=>Xe.add(dt)),G.forEach(dt=>Xe.remove(dt));for(const dt in se)se.hasOwnProperty(dt)&&he(Be,dt,se[dt])})})(),_t.length>0&&(sr?(En.forEach(oe=>{const G=oe.animate(_t,{id:Jt,delay:z(),duration:de(),easing:Je(),iterations:K(),fill:Fn(),direction:mr()});G.pause(),nn.push(G)}),nn.length>0&&(nn[0].onfinish=()=>{Kt()})):_n(oe)),St=!0},Jn=oe=>{if(oe=Math.min(Math.max(oe,0),.9999),sr)nn.forEach(G=>{G.currentTime=G.effect.getComputedTiming().delay+de()*oe,G.pause()});else{const G=`-${de()*oe}ms`;En.forEach(se=>{_t.length>0&&(he(se,"animation-delay",G),he(se,"animation-play-state","paused"))})}},Wr=oe=>{nn.forEach(G=>{G.effect.updateTiming({delay:z(),duration:de(),easing:Je(),iterations:K(),fill:Fn(),direction:mr()})}),void 0!==oe&&Jn(oe)},_r=(oe=!0,G)=>{(0,y.r)(()=>{En.forEach(se=>{he(se,"animation-name",At||null),he(se,"animation-duration",`${de()}ms`),he(se,"animation-timing-function",Je()),he(se,"animation-delay",void 0!==G?`-${G*de()}ms`:`${z()}ms`),he(se,"animation-fill-mode",Fn()||null),he(se,"animation-direction",mr()||null);const Be=K()===1/0?"infinite":K().toString();he(se,"animation-iteration-count",Be),oe&&he(se,"animation-name",`${At}-alt`),(0,y.r)(()=>{he(se,"animation-name",At||null)})})})},or=(oe=!1,G=!0,se)=>(oe&&Nt.forEach(Be=>{Be.update(oe,G,se)}),sr?Wr(se):_r(G,se),et),Ds=()=>{St&&(sr?nn.forEach(oe=>{oe.pause()}):En.forEach(oe=>{he(oe,"animation-play-state","paused")}),Ot=!0)},ns=()=>{Fe=void 0,Kt()},js=()=>{Fe&&clearTimeout(Fe)},ps=oe=>new Promise(G=>{null!=oe&&oe.sync&&(ke=!0,br(()=>ke=!1,{oneTimeCallback:!0})),St||Xn(),Pt&&(sr?(Jn(0),Wr()):_r(),Pt=!1),sn&&(je=Nt.length+1,sn=!1),br(()=>G(),{oneTimeCallback:!0}),Nt.forEach(se=>{se.play()}),sr?(nn.forEach(oe=>{oe.play()}),(0===_t.length||0===En.length)&&Kt()):(()=>{if(js(),(0,y.r)(()=>{En.forEach(oe=>{_t.length>0&&he(oe,"animation-play-state","running")})}),0===_t.length||0===En.length)Kt();else{const oe=z()||0,G=de()||0,se=K()||1;isFinite(se)&&(Fe=setTimeout(ns,oe+G*se+100)),((Me,Ee)=>{let vt;const it={passive:!0},rt=ft=>{Me===ft.target&&(vt&&vt(),js(),(0,y.r)(()=>{En.forEach(oe=>{Ce(oe,"animation-duration"),Ce(oe,"animation-delay"),Ce(oe,"animation-play-state")}),(0,y.r)(Kt)}))};Me&&(Me.addEventListener("webkitAnimationEnd",rt,it),Me.addEventListener("animationend",rt,it),vt=()=>{Me.removeEventListener("webkitAnimationEnd",rt,it),Me.removeEventListener("animationend",rt,it)})})(En[0])}})(),Ot=!1}),W=(oe,G)=>{const se=_t[0];return void 0===se||void 0!==se.offset&&0!==se.offset?_t=[{offset:0,[oe]:G},..._t]:se[oe]=G,et};return et={parentAnimation:tt,elements:En,childAnimations:Nt,id:Jt,animationFinish:Kt,from:W,to:(oe,G)=>{const se=_t[_t.length-1];return void 0===se||void 0!==se.offset&&1!==se.offset?_t=[..._t,{offset:1,[oe]:G}]:se[oe]=G,et},fromTo:(oe,G,se)=>W(oe,G).to(oe,se),parent:oe=>(tt=oe,et),play:ps,pause:()=>(Nt.forEach(oe=>{oe.pause()}),Ds(),et),stop:()=>{Nt.forEach(oe=>{oe.stop()}),St&&(ur(),St=!1),We=!1,ke=!1,sn=!0,He=void 0,mt=void 0,ut=void 0,je=0,Pt=!1,Tt=!0,Ot=!1},destroy:oe=>(Nt.forEach(G=>{G.destroy(oe)}),(oe=>{ur(),oe&&kr()})(oe),En.length=0,Nt.length=0,_t.length=0,fn.length=0,Tn.length=0,St=!1,sn=!0,et),keyframes:oe=>{const G=_t!==oe;return _t=oe,G&&(oe=>{sr?Ar().forEach(G=>{if(G.effect.setKeyframes)G.effect.setKeyframes(oe);else{const se=new KeyframeEffect(G.effect.target,oe,G.effect.getTiming());G.effect=se}}):_n()})(_t),et},addAnimation:oe=>{if(null!=oe)if(Array.isArray(oe))for(const G of oe)G.parent(et),Nt.push(G);else oe.parent(et),Nt.push(oe);return et},addElement:oe=>{if(null!=oe)if(1===oe.nodeType)En.push(oe);else if(oe.length>=0)for(let G=0;G<oe.length;G++)En.push(oe[G]);else console.error("Invalid addElement value");return et},update:or,fill:oe=>(rt=oe,or(!0),et),direction:oe=>(ft=oe,or(!0),et),iterations:oe=>(Ge=oe,or(!0),et),duration:oe=>(!sr&&0===oe&&(oe=1),vt=oe,or(!0),et),easing:oe=>(it=oe,or(!0),et),delay:oe=>(Ee=oe,or(!0),et),getWebAnimations:Ar,getKeyframes:()=>_t,getFill:Fn,getDirection:mr,getDelay:z,getIterations:K,getEasing:Je,getDuration:de,afterAddRead:oe=>(fr.push(oe),et),afterAddWrite:oe=>(gr.push(oe),et),afterClearStyles:(oe=[])=>{for(const G of oe)Pe[G]="";return et},afterStyles:(oe={})=>(Pe=oe,et),afterRemoveClass:oe=>(ce=qe(ce,oe),et),afterAddClass:oe=>(yt=qe(yt,oe),et),beforeAddRead:oe=>(Lt.push(oe),et),beforeAddWrite:oe=>(rr.push(oe),et),beforeClearStyles:(oe=[])=>{for(const G of oe)pt[G]="";return et},beforeStyles:(oe={})=>(pt=oe,et),beforeRemoveClass:oe=>(xe=qe(xe,oe),et),beforeAddClass:oe=>(Ye=qe(Ye,oe),et),onFinish:br,isRunning:()=>0!==je&&!Ot,progressStart:(oe=!1,G)=>(Nt.forEach(se=>{se.progressStart(oe,G)}),Ds(),We=oe,St||Xn(),or(!1,!0,G),et),progressStep:oe=>(Nt.forEach(G=>{G.progressStep(oe)}),Jn(oe),et),progressEnd:(oe,G,se)=>(We=!1,Nt.forEach(Be=>{Be.progressEnd(oe,G,se)}),void 0!==se&&(mt=se),Pt=!1,Tt=!0,0===oe?(He="reverse"===mr()?"normal":"reverse","reverse"===He&&(Tt=!1),sr?(or(),Jn(1-G)):(ut=(1-G)*de()*-1,or(!1,!1))):1===oe&&(sr?(or(),Jn(G)):(ut=G*de()*-1,or(!1,!1))),void 0!==oe&&(br(()=>{mt=void 0,He=void 0,ut=void 0},{oneTimeCallback:!0}),tt||ps()),et)}}},3982:(ln,ct,L)=>{"use strict";L.d(ct,{E:()=>U,a:()=>y,s:()=>Ce});const y=Ie=>{try{if(Ie instanceof he)return Ie.value;if(!ye()||"string"!=typeof Ie||""===Ie)return Ie;if(Ie.includes("onload="))return"";const Ue=document.createDocumentFragment(),ve=document.createElement("div");Ue.appendChild(ve),ve.innerHTML=Ie,De.forEach(Me=>{const Ee=Ue.querySelectorAll(Me);for(let vt=Ee.length-1;vt>=0;vt--){const it=Ee[vt];it.parentNode?it.parentNode.removeChild(it):Ue.removeChild(it);const Ge=ae(it);for(let rt=0;rt<Ge.length;rt++)g(Ge[rt])}});const Ve=ae(Ue);for(let Me=0;Me<Ve.length;Me++)g(Ve[Me]);const qe=document.createElement("div");qe.appendChild(Ue);const bt=qe.querySelector("div");return null!==bt?bt.innerHTML:qe.innerHTML}catch(Ue){return console.error(Ue),""}},g=Ie=>{if(Ie.nodeType&&1!==Ie.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Ie.attributes instanceof NamedNodeMap))return void Ie.remove();for(let ve=Ie.attributes.length-1;ve>=0;ve--){const Ve=Ie.attributes.item(ve),qe=Ve.name;if(!be.includes(qe.toLowerCase())){Ie.removeAttribute(qe);continue}const bt=Ve.value,Me=Ie[qe];(null!=bt&&bt.toLowerCase().includes("javascript:")||null!=Me&&Me.toLowerCase().includes("javascript:"))&&Ie.removeAttribute(qe)}const Ue=ae(Ie);for(let ve=0;ve<Ue.length;ve++)g(Ue[ve])},ae=Ie=>null!=Ie.children?Ie.children:Ie.childNodes,ye=()=>{var Ie;const Ue=window,ve=null===(Ie=null==Ue?void 0:Ue.Ionic)||void 0===Ie?void 0:Ie.config;return!ve||(ve.get?ve.get("sanitizerEnabled",!0):!0===ve.sanitizerEnabled||void 0===ve.sanitizerEnabled)},be=["class","id","href","src","name","slot"],De=["script","style","iframe","meta","link","object","embed"];class he{constructor(Ue){this.value=Ue}}const Ce=Ie=>{const Ue=window,ve=Ue.Ionic;if(!ve||!ve.config||"Object"===ve.config.constructor.name)return Ue.Ionic=Ue.Ionic||{},Ue.Ionic.config=Object.assign(Object.assign({},Ue.Ionic.config),Ie),Ue.Ionic.config},U=!1},6782:(ln,ct,L)=>{"use strict";L.d(ct,{C:()=>be,a:()=>ae,d:()=>ye});var y=L(5861),g=L(3577);const ae=function(){var De=(0,y.Z)(function*(he,Ce,$e,U,Ie,Ue){var ve;if(he)return he.attachViewToDom(Ce,$e,Ie,U);if(!(Ue||"string"==typeof $e||$e instanceof HTMLElement))throw new Error("framework delegate is missing");const Ve="string"==typeof $e?null===(ve=Ce.ownerDocument)||void 0===ve?void 0:ve.createElement($e):$e;return U&&U.forEach(qe=>Ve.classList.add(qe)),Ie&&Object.assign(Ve,Ie),Ce.appendChild(Ve),yield new Promise(qe=>(0,g.c)(Ve,qe)),Ve});return function(Ce,$e,U,Ie,Ue,ve){return De.apply(this,arguments)}}(),ye=(De,he)=>{if(he){if(De)return De.removeViewFromDom(he.parentElement,he);he.remove()}return Promise.resolve()},be=()=>{let De,he;return{attachViewToDom:function(){var U=(0,y.Z)(function*(Ie,Ue,ve={},Ve=[]){var qe,bt;if(De=Ie,Ue){const Ee="string"==typeof Ue?null===(qe=De.ownerDocument)||void 0===qe?void 0:qe.createElement(Ue):Ue;Ve.forEach(vt=>Ee.classList.add(vt)),Object.assign(Ee,ve),De.appendChild(Ee),yield new Promise(vt=>(0,g.c)(Ee,vt))}else if(De.children.length>0&&("ION-MODAL"===De.tagName||"ION-POPOVER"===De.tagName)&&!De.children[0].classList.contains("ion-delegate-host")){const vt=null===(bt=De.ownerDocument)||void 0===bt?void 0:bt.createElement("div");vt.classList.add("ion-delegate-host"),Ve.forEach(it=>vt.classList.add(it)),vt.append(...De.children),De.appendChild(vt)}const Me=document.querySelector("ion-app")||document.body;return he=document.createComment("ionic teleport"),De.parentNode.insertBefore(he,De),Me.appendChild(De),De});return function(Ue,ve){return U.apply(this,arguments)}}(),removeViewFromDom:()=>(De&&he&&(he.parentNode.insertBefore(De,he),he.remove()),Promise.resolve())}}},4349:(ln,ct,L)=>{"use strict";L.d(ct,{G:()=>be});class g{constructor(he,Ce,$e,U,Ie){this.id=Ce,this.name=$e,this.disableScroll=Ie,this.priority=1e6*U+Ce,this.ctrl=he}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const he=this.ctrl.capture(this.name,this.id,this.priority);return he&&this.disableScroll&&this.ctrl.disableScroll(this.id),he}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ae{constructor(he,Ce,$e,U){this.id=Ce,this.disable=$e,this.disableScroll=U,this.ctrl=he}block(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.disableGesture(he,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.enableGesture(he,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ye="backdrop-no-scroll",be=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(he){var Ce;return new g(this,this.newID(),he.name,null!==(Ce=he.priority)&&void 0!==Ce?Ce:0,!!he.disableScroll)}createBlocker(he={}){return new ae(this,this.newID(),he.disable,!!he.disableScroll)}start(he,Ce,$e){return this.canStart(he)?(this.requestedStart.set(Ce,$e),!0):(this.requestedStart.delete(Ce),!1)}capture(he,Ce,$e){if(!this.start(he,Ce,$e))return!1;const U=this.requestedStart;let Ie=-1e4;if(U.forEach(Ue=>{Ie=Math.max(Ie,Ue)}),Ie===$e){this.capturedId=Ce,U.clear();const Ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:he}});return document.dispatchEvent(Ue),!0}return U.delete(Ce),!1}release(he){this.requestedStart.delete(he),this.capturedId===he&&(this.capturedId=void 0)}disableGesture(he,Ce){let $e=this.disabledGestures.get(he);void 0===$e&&($e=new Set,this.disabledGestures.set(he,$e)),$e.add(Ce)}enableGesture(he,Ce){const $e=this.disabledGestures.get(he);void 0!==$e&&$e.delete(Ce)}disableScroll(he){this.disabledScroll.add(he),1===this.disabledScroll.size&&document.body.classList.add(ye)}enableScroll(he){this.disabledScroll.delete(he),0===this.disabledScroll.size&&document.body.classList.remove(ye)}canStart(he){return!(void 0!==this.capturedId||this.isDisabled(he))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(he){const Ce=this.disabledGestures.get(he);return!!(Ce&&Ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(ln,ct,L)=>{"use strict";L.r(ct),L.d(ct,{MENU_BACK_BUTTON_PRIORITY:()=>be,OVERLAY_BACK_BUTTON_PRIORITY:()=>ye,blockHardwareBackButton:()=>g,startHardwareBackButton:()=>ae});var y=L(5861);const g=()=>{document.addEventListener("backbutton",()=>{})},ae=()=>{const De=document;let he=!1;De.addEventListener("backbutton",()=>{if(he)return;let Ce=0,$e=[];const U=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ve,Ve){$e.push({priority:ve,handler:Ve,id:Ce++})}}});De.dispatchEvent(U);const Ie=function(){var ve=(0,y.Z)(function*(Ve){try{if(null!=Ve&&Ve.handler){const qe=Ve.handler(Ue);null!=qe&&(yield qe)}}catch(qe){console.error(qe)}});return function(qe){return ve.apply(this,arguments)}}(),Ue=()=>{if($e.length>0){let ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(Ve=>{Ve.priority>=ve.priority&&(ve=Ve)}),he=!0,$e=$e.filter(Ve=>Ve.id!==ve.id),Ie(ve).then(()=>he=!1)}};Ue()})},ye=100,be=99},3577:(ln,ct,L)=>{"use strict";L.d(ct,{a:()=>Ce,b:()=>$e,c:()=>ae,d:()=>bt,e:()=>qe,f:()=>Ve,g:()=>U,h:()=>ve,i:()=>he,j:()=>rt,k:()=>be,l:()=>Me,m:()=>ye,n:()=>Ue,o:()=>Ee,p:()=>it,q:()=>Ge,r:()=>Ie,s:()=>_t,t:()=>y,u:()=>ft,v:()=>vt});const y=(Ye,xe=0)=>new Promise(St=>{g(Ye,xe,St)}),g=(Ye,xe=0,St)=>{let tt,pt;const yt={passive:!0},Pe=()=>{tt&&tt()},je=We=>{(void 0===We||Ye===We.target)&&(Pe(),St(We))};return Ye&&(Ye.addEventListener("webkitTransitionEnd",je,yt),Ye.addEventListener("transitionend",je,yt),pt=setTimeout(je,xe+500),tt=()=>{pt&&(clearTimeout(pt),pt=void 0),Ye.removeEventListener("webkitTransitionEnd",je,yt),Ye.removeEventListener("transitionend",je,yt)}),Pe},ae=(Ye,xe)=>{Ye.componentOnReady?Ye.componentOnReady().then(St=>xe(St)):Ie(()=>xe(Ye))},ye=Ye=>void 0!==Ye.componentOnReady,be=(Ye,xe=[])=>{const St={};return xe.forEach(tt=>{Ye.hasAttribute(tt)&&(null!==Ye.getAttribute(tt)&&(St[tt]=Ye.getAttribute(tt)),Ye.removeAttribute(tt))}),St},De=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],he=(Ye,xe)=>{let St=De;return xe&&xe.length>0&&(St=St.filter(tt=>!xe.includes(tt))),be(Ye,St)},Ce=(Ye,xe,St,tt)=>{var pt;if(typeof window<"u"){const yt=window,ce=null===(pt=null==yt?void 0:yt.Ionic)||void 0===pt?void 0:pt.config;if(ce){const Pe=ce.get("_ael");if(Pe)return Pe(Ye,xe,St,tt);if(ce._ael)return ce._ael(Ye,xe,St,tt)}}return Ye.addEventListener(xe,St,tt)},$e=(Ye,xe,St,tt)=>{var pt;if(typeof window<"u"){const yt=window,ce=null===(pt=null==yt?void 0:yt.Ionic)||void 0===pt?void 0:pt.config;if(ce){const Pe=ce.get("_rel");if(Pe)return Pe(Ye,xe,St,tt);if(ce._rel)return ce._rel(Ye,xe,St,tt)}}return Ye.removeEventListener(xe,St,tt)},U=(Ye,xe=Ye)=>Ye.shadowRoot||xe,Ie=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye),Ue=Ye=>!!Ye.shadowRoot&&!!Ye.attachShadow,ve=Ye=>{const xe=Ye.closest("ion-item");return xe?xe.querySelector("ion-label"):null},Ve=Ye=>{if(Ye.focus(),Ye.classList.contains("ion-focusable")){const xe=Ye.closest("ion-app");xe&&xe.setFocus([Ye])}},qe=(Ye,xe)=>{let St;const tt=Ye.getAttribute("aria-labelledby"),pt=Ye.id;let yt=null!==tt&&""!==tt.trim()?tt:xe+"-lbl",ce=null!==tt&&""!==tt.trim()?document.getElementById(tt):ve(Ye);return ce?(null===tt&&(ce.id=yt),St=ce.textContent,ce.setAttribute("aria-hidden","true")):""!==pt.trim()&&(ce=document.querySelector(`label[for="${pt}"]`),ce&&(""!==ce.id?yt=ce.id:ce.id=yt=`${pt}-lbl`,St=ce.textContent)),{label:ce,labelId:yt,labelText:St}},bt=(Ye,xe,St,tt,pt)=>{if(Ye||Ue(xe)){let yt=xe.querySelector("input.aux-input");yt||(yt=xe.ownerDocument.createElement("input"),yt.type="hidden",yt.classList.add("aux-input"),xe.appendChild(yt)),yt.disabled=pt,yt.name=St,yt.value=tt||""}},Me=(Ye,xe,St)=>Math.max(Ye,Math.min(xe,St)),Ee=(Ye,xe)=>{if(!Ye){const St="ASSERT: "+xe;throw console.error(St),new Error(St)}},vt=Ye=>Ye.timeStamp||Date.now(),it=Ye=>{if(Ye){const xe=Ye.changedTouches;if(xe&&xe.length>0){const St=xe[0];return{x:St.clientX,y:St.clientY}}if(void 0!==Ye.pageX)return{x:Ye.pageX,y:Ye.pageY}}return{x:0,y:0}},Ge=Ye=>{const xe="rtl"===document.dir;switch(Ye){case"start":return xe;case"end":return!xe;default:throw new Error(`"${Ye}" is not a valid value for [side]. Use "start" or "end" instead.`)}},rt=(Ye,xe)=>{const St=Ye._original||Ye;return{_original:Ye,emit:ft(St.emit.bind(St),xe)}},ft=(Ye,xe=0)=>{let St;return(...tt)=>{clearTimeout(St),St=setTimeout(Ye,xe,...tt)}},_t=(Ye,xe)=>{if(null!=Ye||(Ye={}),null!=xe||(xe={}),Ye===xe)return!0;const St=Object.keys(Ye);if(St.length!==Object.keys(xe).length)return!1;for(const tt of St)if(!(tt in xe)||Ye[tt]!==xe[tt])return!1;return!0}},3457:(ln,ct,L)=>{"use strict";L.d(ct,{w:()=>y});const y=typeof window<"u"?window:void 0},1898:(ln,ct,L)=>{"use strict";L.r(ct),L.d(ct,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>$e});var y=L(4349);const g=(ve,Ve,qe,bt)=>{const Me=ae(ve)?{capture:!!bt.capture,passive:!!bt.passive}:!!bt.capture;let Ee,vt;return ve.__zone_symbol__addEventListener?(Ee="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(Ee="addEventListener",vt="removeEventListener"),ve[Ee](Ve,qe,Me),()=>{ve[vt](Ve,qe,Me)}},ae=ve=>{if(void 0===ye)try{const Ve=Object.defineProperty({},"passive",{get:()=>{ye=!0}});ve.addEventListener("optsTest",()=>{},Ve)}catch{ye=!1}return!!ye};let ye;const he=ve=>ve instanceof Document?ve:ve.ownerDocument,$e=ve=>{let Ve=!1,qe=!1,bt=!0,Me=!1;const Ee=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ve),vt=Ee.canStart,it=Ee.onWillStart,Ge=Ee.onStart,rt=Ee.onEnd,ft=Ee.notCaptured,_t=Ee.onMove,Ye=Ee.threshold,xe=Ee.passive,St=Ee.blurOnStart,tt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},pt=((ve,Ve,qe)=>{const bt=qe*(Math.PI/180),Me="x"===ve,Ee=Math.cos(bt),vt=Ve*Ve;let it=0,Ge=0,rt=!1,ft=0;return{start(_t,Ye){it=_t,Ge=Ye,ft=0,rt=!0},detect(_t,Ye){if(!rt)return!1;const xe=_t-it,St=Ye-Ge,tt=xe*xe+St*St;if(tt<vt)return!1;const pt=Math.sqrt(tt),yt=(Me?xe:St)/pt;return ft=yt>Ee?1:yt<-Ee?-1:0,rt=!1,!0},isGesture:()=>0!==ft,getDirection:()=>ft}})(Ee.direction,Ee.threshold,Ee.maxAngle),yt=y.G.createGesture({name:ve.gestureName,priority:ve.gesturePriority,disableScroll:ve.disableScroll}),je=()=>{Ve&&(Me=!1,_t&&_t(tt))},We=()=>!!yt.capture()&&(Ve=!0,bt=!1,tt.startX=tt.currentX,tt.startY=tt.currentY,tt.startTime=tt.currentTime,it?it(tt).then(Fe):Fe(),!0),Fe=()=>{St&&(()=>{if(typeof document<"u"){const Pt=document.activeElement;null!=Pt&&Pt.blur&&Pt.blur()}})(),Ge&&Ge(tt),bt=!0},He=()=>{Ve=!1,qe=!1,Me=!1,bt=!0,yt.release()},mt=Pt=>{const sn=Ve,At=bt;if(He(),At){if(U(tt,Pt),sn)return void(rt&&rt(tt));ft&&ft(tt)}},ut=((ve,Ve,qe,bt,Me)=>{let Ee,vt,it,Ge,rt,ft,_t,Ye=0;const xe=ke=>{Ye=Date.now()+2e3,Ve(ke)&&(!vt&&qe&&(vt=g(ve,"touchmove",qe,Me)),it||(it=g(ke.target,"touchend",tt,Me)),Ge||(Ge=g(ke.target,"touchcancel",tt,Me)))},St=ke=>{Ye>Date.now()||Ve(ke)&&(!ft&&qe&&(ft=g(he(ve),"mousemove",qe,Me)),_t||(_t=g(he(ve),"mouseup",pt,Me)))},tt=ke=>{yt(),bt&&bt(ke)},pt=ke=>{ce(),bt&&bt(ke)},yt=()=>{vt&&vt(),it&&it(),Ge&&Ge(),vt=it=Ge=void 0},ce=()=>{ft&&ft(),_t&&_t(),ft=_t=void 0},Pe=()=>{yt(),ce()},je=(ke=!0)=>{ke?(Ee||(Ee=g(ve,"touchstart",xe,Me)),rt||(rt=g(ve,"mousedown",St,Me))):(Ee&&Ee(),rt&&rt(),Ee=rt=void 0,Pe())};return{enable:je,stop:Pe,destroy:()=>{je(!1),bt=qe=Ve=void 0}}})(Ee.el,Pt=>{const sn=Ue(Pt);return!(qe||!bt||(Ie(Pt,tt),tt.startX=tt.currentX,tt.startY=tt.currentY,tt.startTime=tt.currentTime=sn,tt.velocityX=tt.velocityY=tt.deltaX=tt.deltaY=0,tt.event=Pt,vt&&!1===vt(tt))||(yt.release(),!yt.start()))&&(qe=!0,0===Ye?We():(pt.start(tt.startX,tt.startY),!0))},Pt=>{Ve?!Me&&bt&&(Me=!0,U(tt,Pt),requestAnimationFrame(je)):(U(tt,Pt),pt.detect(tt.currentX,tt.currentY)&&(!pt.isGesture()||!We())&&Tt())},mt,{capture:!1,passive:xe}),Tt=()=>{He(),ut.stop(),ft&&ft(tt)};return{enable(Pt=!0){Pt||(Ve&&mt(void 0),He()),ut.enable(Pt)},destroy(){yt.destroy(),ut.destroy()}}},U=(ve,Ve)=>{if(!Ve)return;const qe=ve.currentX,bt=ve.currentY,Me=ve.currentTime;Ie(Ve,ve);const Ee=ve.currentX,vt=ve.currentY,Ge=(ve.currentTime=Ue(Ve))-Me;if(Ge>0&&Ge<100){const ft=(vt-bt)/Ge;ve.velocityX=(Ee-qe)/Ge*.7+.3*ve.velocityX,ve.velocityY=.7*ft+.3*ve.velocityY}ve.deltaX=Ee-ve.startX,ve.deltaY=vt-ve.startY,ve.event=Ve},Ie=(ve,Ve)=>{let qe=0,bt=0;if(ve){const Me=ve.changedTouches;if(Me&&Me.length>0){const Ee=Me[0];qe=Ee.clientX,bt=Ee.clientY}else void 0!==ve.pageX&&(qe=ve.pageX,bt=ve.pageY)}Ve.currentX=qe,Ve.currentY=bt},Ue=ve=>ve.timeStamp||Date.now()},4083:(ln,ct,L)=>{"use strict";L.d(ct,{B:()=>Ie,H:()=>Pe,a:()=>hi,b:()=>ht,c:()=>Pt,d:()=>Ot,e:()=>ps,f:()=>et,g:()=>sn,h:()=>yt,i:()=>gn,j:()=>Ue,p:()=>Ds,r:()=>Dt,w:()=>Zs});var y=L(5861);let ae,ye,be,De=!1,he=!1,Ce=!1,$e=!1,U=!1;const Ie={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ue=W=>{const ee=new URL(W,Zn.$resourcesUrl$);return ee.origin!==_r.location.origin?ee.href:ee.pathname},vt="s-id",it="sty-id",ft="http://www.w3.org/1999/xlink",_t={},tt=W=>"object"==(W=typeof W)||"function"===W;function pt(W){var ee,_e,oe;return null!==(oe=null===(_e=null===(ee=W.head)||void 0===ee?void 0:ee.querySelector('meta[name="csp-nonce"]'))||void 0===_e?void 0:_e.getAttribute("content"))&&void 0!==oe?oe:void 0}const yt=(W,ee,..._e)=>{let oe=null,G=null,se=null,Be=!1,Xe=!1;const dt=[],xt=dn=>{for(let Un=0;Un<dn.length;Un++)oe=dn[Un],Array.isArray(oe)?xt(oe):null!=oe&&"boolean"!=typeof oe&&((Be="function"!=typeof W&&!tt(oe))&&(oe=String(oe)),Be&&Xe?dt[dt.length-1].$text$+=oe:dt.push(Be?ce(null,oe):oe),Xe=Be)};if(xt(_e),ee){ee.key&&(G=ee.key),ee.name&&(se=ee.name);{const dn=ee.className||ee.class;dn&&(ee.class="object"!=typeof dn?dn:Object.keys(dn).filter(Un=>dn[Un]).join(" "))}}if("function"==typeof W)return W(null===ee?{}:ee,dt,We);const on=ce(W,null);return on.$attrs$=ee,dt.length>0&&(on.$children$=dt),on.$key$=G,on.$name$=se,on},ce=(W,ee)=>({$flags$:0,$tag$:W,$text$:ee,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pe={},We={forEach:(W,ee)=>W.map(ke).forEach(ee),map:(W,ee)=>W.map(ke).map(ee).map(Fe)},ke=W=>({vattrs:W.$attrs$,vchildren:W.$children$,vkey:W.$key$,vname:W.$name$,vtag:W.$tag$,vtext:W.$text$}),Fe=W=>{if("function"==typeof W.vtag){const _e=Object.assign({},W.vattrs);return W.vkey&&(_e.key=W.vkey),W.vname&&(_e.name=W.vname),yt(W.vtag,_e,...W.vchildren||[])}const ee=ce(W.vtag,W.vtext);return ee.$attrs$=W.vattrs,ee.$children$=W.vchildren,ee.$key$=W.vkey,ee.$name$=W.vname,ee},mt=(W,ee,_e,oe,G,se,Be)=>{let Xe,dt,xt,on;if(1===se.nodeType){for(Xe=se.getAttribute("c-id"),Xe&&(dt=Xe.split("."),(dt[0]===Be||"0"===dt[0])&&(xt={$flags$:0,$hostId$:dt[0],$nodeId$:dt[1],$depth$:dt[2],$index$:dt[3],$tag$:se.tagName.toLowerCase(),$elm$:se,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ee.push(xt),se.removeAttribute("c-id"),W.$children$||(W.$children$=[]),W.$children$[xt.$index$]=xt,W=xt,oe&&"0"===xt.$depth$&&(oe[xt.$index$]=xt.$elm$))),on=se.childNodes.length-1;on>=0;on--)mt(W,ee,_e,oe,G,se.childNodes[on],Be);if(se.shadowRoot)for(on=se.shadowRoot.childNodes.length-1;on>=0;on--)mt(W,ee,_e,oe,G,se.shadowRoot.childNodes[on],Be)}else if(8===se.nodeType)dt=se.nodeValue.split("."),(dt[1]===Be||"0"===dt[1])&&(Xe=dt[0],xt={$flags$:0,$hostId$:dt[1],$nodeId$:dt[2],$depth$:dt[3],$index$:dt[4],$elm$:se,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xe?(xt.$elm$=se.nextSibling,xt.$elm$&&3===xt.$elm$.nodeType&&(xt.$text$=xt.$elm$.textContent,ee.push(xt),se.remove(),W.$children$||(W.$children$=[]),W.$children$[xt.$index$]=xt,oe&&"0"===xt.$depth$&&(oe[xt.$index$]=xt.$elm$))):xt.$hostId$===Be&&("s"===Xe?(xt.$tag$="slot",se["s-sn"]=dt[5]?xt.$name$=dt[5]:"",se["s-sr"]=!0,oe&&(xt.$elm$=or.createElement(xt.$tag$),xt.$name$&&xt.$elm$.setAttribute("name",xt.$name$),se.parentNode.insertBefore(xt.$elm$,se),se.remove(),"0"===xt.$depth$&&(oe[xt.$index$]=xt.$elm$)),_e.push(xt),W.$children$||(W.$children$=[]),W.$children$[xt.$index$]=xt):"r"===Xe&&(oe?se.remove():(G["s-cr"]=se,se["s-cn"]=!0))));else if(W&&"style"===W.$tag$){const dn=ce(null,se.textContent);dn.$elm$=se,dn.$index$="0",W.$children$=[dn]}},ut=(W,ee)=>{if(1===W.nodeType){let _e=0;for(;_e<W.childNodes.length;_e++)ut(W.childNodes[_e],ee);if(W.shadowRoot)for(_e=0;_e<W.shadowRoot.childNodes.length;_e++)ut(W.shadowRoot.childNodes[_e],ee)}else if(8===W.nodeType){const _e=W.nodeValue.split(".");"o"===_e[0]&&(ee.set(_e[1]+"."+_e[2],W),W.nodeValue="",W["s-en"]=_e[3])}},Pt=W=>Wr.push(W),sn=W=>zn(W).$modeName$,et=W=>zn(W).$hostElement$,Ot=(W,ee,_e)=>{const oe=et(W);return{emit:G=>Jt(oe,ee,{bubbles:!!(4&_e),composed:!!(2&_e),cancelable:!!(1&_e),detail:G})}},Jt=(W,ee,_e)=>{const oe=Zn.ce(ee,_e);return W.dispatchEvent(oe),oe},fn=new WeakMap,Tn=(W,ee,_e)=>{let oe=Jn.get(W);yi&&_e?(oe=oe||new CSSStyleSheet,"string"==typeof oe?oe=ee:oe.replaceSync(ee)):oe=ee,Jn.set(W,oe)},En=(W,ee,_e,oe)=>{var G;let se=In(ee,_e);const Be=Jn.get(se);if(W=11===W.nodeType?W:or,Be)if("string"==typeof Be){let dt,Xe=fn.get(W=W.head||W);if(Xe||fn.set(W,Xe=new Set),!Xe.has(se)){if(W.host&&(dt=W.querySelector(`[${it}="${se}"]`)))dt.innerHTML=Be;else{dt=or.createElement("style"),dt.innerHTML=Be;const xt=null!==(G=Zn.$nonce$)&&void 0!==G?G:pt(or);null!=xt&&dt.setAttribute("nonce",xt),W.insertBefore(dt,W.querySelector("link"))}Xe&&Xe.add(se)}}else W.adoptedStyleSheets.includes(Be)||(W.adoptedStyleSheets=[...W.adoptedStyleSheets,Be]);return se},In=(W,ee)=>"sc-"+(ee&&32&W.$flags$?W.$tagName$+"-"+ee:W.$tagName$),Lt=W=>W.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),rr=(W,ee,_e,oe,G,se)=>{if(_e!==oe){let Be=Kt(W,ee),Xe=ee.toLowerCase();if("class"===ee){const dt=W.classList,xt=gr(_e),on=gr(oe);dt.remove(...xt.filter(dn=>dn&&!on.includes(dn))),dt.add(...on.filter(dn=>dn&&!xt.includes(dn)))}else if("style"===ee){for(const dt in _e)(!oe||null==oe[dt])&&(dt.includes("-")?W.style.removeProperty(dt):W.style[dt]="");for(const dt in oe)(!_e||oe[dt]!==_e[dt])&&(dt.includes("-")?W.style.setProperty(dt,oe[dt]):W.style[dt]=oe[dt])}else if("key"!==ee)if("ref"===ee)oe&&oe(W);else if(Be||"o"!==ee[0]||"n"!==ee[1]){const dt=tt(oe);if((Be||dt&&null!==oe)&&!G)try{if(W.tagName.includes("-"))W[ee]=oe;else{const on=null==oe?"":oe;"list"===ee?Be=!1:(null==_e||W[ee]!=on)&&(W[ee]=on)}}catch{}let xt=!1;Xe!==(Xe=Xe.replace(/^xlink\:?/,""))&&(ee=Xe,xt=!0),null==oe||!1===oe?(!1!==oe||""===W.getAttribute(ee))&&(xt?W.removeAttributeNS(ft,ee):W.removeAttribute(ee)):(!Be||4&se||G)&&!dt&&(oe=!0===oe?"":oe,xt?W.setAttributeNS(ft,ee,oe):W.setAttribute(ee,oe))}else ee="-"===ee[2]?ee.slice(3):Kt(_r,Xe)?Xe.slice(2):Xe[2]+ee.slice(3),_e&&Zn.rel(W,ee,_e,!1),oe&&Zn.ael(W,ee,oe,!1)}},fr=/\s/,gr=W=>W?W.split(fr):[],nn=(W,ee,_e,oe)=>{const G=11===ee.$elm$.nodeType&&ee.$elm$.host?ee.$elm$.host:ee.$elm$,se=W&&W.$attrs$||_t,Be=ee.$attrs$||_t;for(oe in se)oe in Be||rr(G,oe,se[oe],void 0,_e,ee.$flags$);for(oe in Be)rr(G,oe,se[oe],Be[oe],_e,ee.$flags$)},Lr=(W,ee,_e,oe)=>{const G=ee.$children$[_e];let Be,Xe,dt,se=0;if(De||(Ce=!0,"slot"===G.$tag$&&(ae&&oe.classList.add(ae+"-s"),G.$flags$|=G.$children$?2:1)),null!==G.$text$)Be=G.$elm$=or.createTextNode(G.$text$);else if(1&G.$flags$)Be=G.$elm$=or.createTextNode("");else{if($e||($e="svg"===G.$tag$),Be=G.$elm$=or.createElementNS($e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&G.$flags$?"slot-fb":G.$tag$),$e&&"foreignObject"===G.$tag$&&($e=!1),nn(null,G,$e),(W=>null!=W)(ae)&&Be["s-si"]!==ae&&Be.classList.add(Be["s-si"]=ae),G.$children$)for(se=0;se<G.$children$.length;++se)Xe=Lr(W,G,se,Be),Xe&&Be.appendChild(Xe);"svg"===G.$tag$?$e=!1:"foreignObject"===Be.tagName&&($e=!0)}return Be["s-hn"]=be,3&G.$flags$&&(Be["s-sr"]=!0,Be["s-cr"]=ye,Be["s-sn"]=G.$name$||"",dt=W&&W.$children$&&W.$children$[_e],dt&&dt.$tag$===G.$tag$&&W.$elm$&&sr(W.$elm$,!1)),Be},sr=(W,ee)=>{Zn.$flags$|=1;const _e=W.childNodes;for(let oe=_e.length-1;oe>=0;oe--){const G=_e[oe];G["s-hn"]!==be&&G["s-ol"]&&(Vn(G).insertBefore(G,vn(G)),G["s-ol"].remove(),G["s-ol"]=void 0,Ce=!0),ee&&sr(G,ee)}Zn.$flags$&=-2},nr=(W,ee,_e,oe,G,se)=>{let Xe,Be=W["s-cr"]&&W["s-cr"].parentNode||W;for(Be.shadowRoot&&Be.tagName===be&&(Be=Be.shadowRoot);G<=se;++G)oe[G]&&(Xe=Lr(null,_e,G,W),Xe&&(oe[G].$elm$=Xe,Be.insertBefore(Xe,vn(ee))))},Ar=(W,ee,_e)=>{for(let oe=ee;oe<=_e;++oe){const G=W[oe];if(G){const se=G.$elm$;Kn(G),se&&(he=!0,se["s-ol"]?se["s-ol"].remove():sr(se,!0),se.remove())}}},Sn=(W,ee)=>W.$tag$===ee.$tag$&&("slot"===W.$tag$?W.$name$===ee.$name$:W.$key$===ee.$key$),vn=W=>W&&W["s-ol"]||W,Vn=W=>(W["s-ol"]?W["s-ol"]:W).parentNode,br=(W,ee)=>{const _e=ee.$elm$=W.$elm$,oe=W.$children$,G=ee.$children$,se=ee.$tag$,Be=ee.$text$;let Xe;null===Be?($e="svg"===se||"foreignObject"!==se&&$e,"slot"===se||nn(W,ee,$e),null!==oe&&null!==G?((W,ee,_e,oe)=>{let fi,Oi,G=0,se=0,Be=0,Xe=0,dt=ee.length-1,xt=ee[0],on=ee[dt],dn=oe.length-1,Un=oe[0],ar=oe[dn];for(;G<=dt&&se<=dn;)if(null==xt)xt=ee[++G];else if(null==on)on=ee[--dt];else if(null==Un)Un=oe[++se];else if(null==ar)ar=oe[--dn];else if(Sn(xt,Un))br(xt,Un),xt=ee[++G],Un=oe[++se];else if(Sn(on,ar))br(on,ar),on=ee[--dt],ar=oe[--dn];else if(Sn(xt,ar))("slot"===xt.$tag$||"slot"===ar.$tag$)&&sr(xt.$elm$.parentNode,!1),br(xt,ar),W.insertBefore(xt.$elm$,on.$elm$.nextSibling),xt=ee[++G],ar=oe[--dn];else if(Sn(on,Un))("slot"===xt.$tag$||"slot"===ar.$tag$)&&sr(on.$elm$.parentNode,!1),br(on,Un),W.insertBefore(on.$elm$,xt.$elm$),on=ee[--dt],Un=oe[++se];else{for(Be=-1,Xe=G;Xe<=dt;++Xe)if(ee[Xe]&&null!==ee[Xe].$key$&&ee[Xe].$key$===Un.$key$){Be=Xe;break}Be>=0?(Oi=ee[Be],Oi.$tag$!==Un.$tag$?fi=Lr(ee&&ee[se],_e,Be,W):(br(Oi,Un),ee[Be]=void 0,fi=Oi.$elm$),Un=oe[++se]):(fi=Lr(ee&&ee[se],_e,se,W),Un=oe[++se]),fi&&Vn(xt.$elm$).insertBefore(fi,vn(xt.$elm$))}G>dt?nr(W,null==oe[dn+1]?null:oe[dn+1].$elm$,_e,oe,se,dn):se>dn&&Ar(ee,G,dt)})(_e,oe,ee,G):null!==G?(null!==W.$text$&&(_e.textContent=""),nr(_e,null,ee,G,0,G.length-1)):null!==oe&&Ar(oe,0,oe.length-1),$e&&"svg"===se&&($e=!1)):(Xe=_e["s-cr"])?Xe.parentNode.textContent=Be:W.$text$!==Be&&(_e.data=Be)},vr=W=>{const ee=W.childNodes;let _e,oe,G,se,Be,Xe;for(oe=0,G=ee.length;oe<G;oe++)if(_e=ee[oe],1===_e.nodeType){if(_e["s-sr"])for(Be=_e["s-sn"],_e.hidden=!1,se=0;se<G;se++)if(Xe=ee[se].nodeType,ee[se]["s-hn"]!==_e["s-hn"]||""!==Be){if(1===Xe&&Be===ee[se].getAttribute("slot")){_e.hidden=!0;break}}else if(1===Xe||3===Xe&&""!==ee[se].textContent.trim()){_e.hidden=!0;break}vr(_e)}},ur=[],kr=W=>{let ee,_e,oe,G,se,Be,Xe=0;const dt=W.childNodes,xt=dt.length;for(;Xe<xt;Xe++){if(ee=dt[Xe],ee["s-sr"]&&(_e=ee["s-cr"])&&_e.parentNode)for(oe=_e.parentNode.childNodes,G=ee["s-sn"],Be=oe.length-1;Be>=0;Be--)_e=oe[Be],!_e["s-cn"]&&!_e["s-nr"]&&_e["s-hn"]!==ee["s-hn"]&&(Dr(_e,G)?(se=ur.find(on=>on.$nodeToRelocate$===_e),he=!0,_e["s-sn"]=_e["s-sn"]||G,se?se.$slotRefNode$=ee:ur.push({$slotRefNode$:ee,$nodeToRelocate$:_e}),_e["s-sr"]&&ur.map(on=>{Dr(on.$nodeToRelocate$,_e["s-sn"])&&(se=ur.find(dn=>dn.$nodeToRelocate$===_e),se&&!on.$slotRefNode$&&(on.$slotRefNode$=se.$slotRefNode$))})):ur.some(on=>on.$nodeToRelocate$===_e)||ur.push({$nodeToRelocate$:_e}));1===ee.nodeType&&kr(ee)}},Dr=(W,ee)=>1===W.nodeType?null===W.getAttribute("slot")&&""===ee||W.getAttribute("slot")===ee:W["s-sn"]===ee||""===ee,Kn=W=>{W.$attrs$&&W.$attrs$.ref&&W.$attrs$.ref(null),W.$children$&&W.$children$.map(Kn)},ei=(W,ee)=>{ee&&!W.$onRenderResolve$&&ee["s-p"]&&ee["s-p"].push(new Promise(_e=>W.$onRenderResolve$=_e))},Hn=(W,ee)=>{if(W.$flags$|=16,!(4&W.$flags$))return ei(W,W.$ancestorComponent$),Zs(()=>jt(W,ee));W.$flags$|=512},jt=(W,ee)=>{const oe=W.$lazyInstance$;let G;return ee&&(W.$flags$|=256,W.$queuedListeners$&&(W.$queuedListeners$.map(([se,Be])=>Fn(oe,se,Be)),W.$queuedListeners$=null),G=Fn(oe,"componentWillLoad")),G=fe(G,()=>Fn(oe,"componentWillRender")),fe(G,()=>ze(W,oe,ee))},fe=(W,ee)=>W instanceof Promise?W.then(ee):ee(),ze=function(){var W=(0,y.Z)(function*(ee,_e,oe){const G=ee.$hostElement$,Be=G["s-rc"];oe&&(W=>{const ee=W.$cmpMeta$,_e=W.$hostElement$,oe=ee.$flags$,se=En(_e.shadowRoot?_e.shadowRoot:_e.getRootNode(),ee,W.$modeName$);10&oe&&(_e["s-sc"]=se,_e.classList.add(se+"-h"),2&oe&&_e.classList.add(se+"-s"))})(ee);Mt(ee,_e),Be&&(Be.map(dt=>dt()),G["s-rc"]=void 0);{const dt=G["s-p"],xt=()=>an(ee);0===dt.length?xt():(Promise.all(dt).then(xt),ee.$flags$|=4,dt.length=0)}});return function(_e,oe,G){return W.apply(this,arguments)}}(),Mt=(W,ee,_e)=>{try{ee=ee.render&&ee.render(),W.$flags$&=-17,W.$flags$|=2,((W,ee)=>{const _e=W.$hostElement$,oe=W.$cmpMeta$,G=W.$vnode$||ce(null,null),se=(W=>W&&W.$tag$===Pe)(ee)?ee:yt(null,null,ee);if(be=_e.tagName,oe.$attrsToReflect$&&(se.$attrs$=se.$attrs$||{},oe.$attrsToReflect$.map(([Be,Xe])=>se.$attrs$[Xe]=_e[Be])),se.$tag$=null,se.$flags$|=4,W.$vnode$=se,se.$elm$=G.$elm$=_e.shadowRoot||_e,ae=_e["s-sc"],ye=_e["s-cr"],De=0!=(1&oe.$flags$),he=!1,br(G,se),Zn.$flags$|=1,Ce){kr(se.$elm$);let Be,Xe,dt,xt,on,dn,Un=0;for(;Un<ur.length;Un++)Be=ur[Un],Xe=Be.$nodeToRelocate$,Xe["s-ol"]||(dt=or.createTextNode(""),dt["s-nr"]=Xe,Xe.parentNode.insertBefore(Xe["s-ol"]=dt,Xe));for(Un=0;Un<ur.length;Un++)if(Be=ur[Un],Xe=Be.$nodeToRelocate$,Be.$slotRefNode$){for(xt=Be.$slotRefNode$.parentNode,on=Be.$slotRefNode$.nextSibling,dt=Xe["s-ol"];dt=dt.previousSibling;)if(dn=dt["s-nr"],dn&&dn["s-sn"]===Xe["s-sn"]&&xt===dn.parentNode&&(dn=dn.nextSibling,!dn||!dn["s-nr"])){on=dn;break}(!on&&xt!==Xe.parentNode||Xe.nextSibling!==on)&&Xe!==on&&(!Xe["s-hn"]&&Xe["s-ol"]&&(Xe["s-hn"]=Xe["s-ol"].parentNode.nodeName),xt.insertBefore(Xe,on))}else 1===Xe.nodeType&&(Xe.hidden=!0)}he&&vr(se.$elm$),Zn.$flags$&=-2,ur.length=0})(W,ee)}catch(oe){_n(oe,W.$hostElement$)}return null},an=W=>{const _e=W.$hostElement$,G=W.$lazyInstance$,se=W.$ancestorComponent$;Fn(G,"componentDidRender"),64&W.$flags$?Fn(G,"componentDidUpdate"):(W.$flags$|=64,mr(_e),Fn(G,"componentDidLoad"),W.$onReadyResolve$(_e),se||pr()),W.$onInstanceResolve$(_e),W.$onRenderResolve$&&(W.$onRenderResolve$(),W.$onRenderResolve$=void 0),512&W.$flags$&&Ji(()=>Hn(W,!1)),W.$flags$&=-517},gn=W=>{{const ee=zn(W),_e=ee.$hostElement$.isConnected;return _e&&2==(18&ee.$flags$)&&Hn(ee,!1),_e}},pr=W=>{mr(or.documentElement),Ji(()=>Jt(_r,"appload",{detail:{namespace:"ionic"}}))},Fn=(W,ee,_e)=>{if(W&&W[ee])try{return W[ee](_e)}catch(oe){_n(oe)}},mr=W=>W.classList.add("hydrated"),K=(W,ee,_e)=>{if(ee.$members$){W.watchers&&(ee.$watchers$=W.watchers);const oe=Object.entries(ee.$members$),G=W.prototype;if(oe.map(([se,[Be]])=>{31&Be||2&_e&&32&Be?Object.defineProperty(G,se,{get(){return((W,ee)=>zn(this).$instanceValues$.get(ee))(0,se)},set(Xe){((W,ee,_e,oe)=>{const G=zn(W),se=G.$hostElement$,Be=G.$instanceValues$.get(ee),Xe=G.$flags$,dt=G.$lazyInstance$;_e=((W,ee)=>null==W||tt(W)?W:4&ee?"false"!==W&&(""===W||!!W):2&ee?parseFloat(W):1&ee?String(W):W)(_e,oe.$members$[ee][0]);const xt=Number.isNaN(Be)&&Number.isNaN(_e);if((!(8&Xe)||void 0===Be)&&_e!==Be&&!xt&&(G.$instanceValues$.set(ee,_e),dt)){if(oe.$watchers$&&128&Xe){const dn=oe.$watchers$[ee];dn&&dn.map(Un=>{try{dt[Un](_e,Be,ee)}catch(ar){_n(ar,se)}})}2==(18&Xe)&&Hn(G,!1)}})(this,se,Xe,ee)},configurable:!0,enumerable:!0}):1&_e&&64&Be&&Object.defineProperty(G,se,{value(...Xe){const dt=zn(this);return dt.$onInstancePromise$.then(()=>dt.$lazyInstance$[se](...Xe))}})}),1&_e){const se=new Map;G.attributeChangedCallback=function(Be,Xe,dt){Zn.jmp(()=>{const xt=se.get(Be);if(this.hasOwnProperty(xt))dt=this[xt],delete this[xt];else if(G.hasOwnProperty(xt)&&"number"==typeof this[xt]&&this[xt]==dt)return;this[xt]=(null!==dt||"boolean"!=typeof this[xt])&&dt})},W.observedAttributes=oe.filter(([Be,Xe])=>15&Xe[0]).map(([Be,Xe])=>{const dt=Xe[1]||Be;return se.set(dt,Be),512&Xe[0]&&ee.$attrsToReflect$.push([Be,dt]),dt})}}return W},z=function(){var W=(0,y.Z)(function*(ee,_e,oe,G,se){if(!(32&_e.$flags$)){_e.$flags$|=32;{if((se=Xn(oe)).then){const xt=()=>{};se=yield se,xt()}se.isProxied||(oe.$watchers$=se.watchers,K(se,oe,2),se.isProxied=!0);const dt=()=>{};_e.$flags$|=8;try{new se(_e)}catch(xt){_n(xt)}_e.$flags$&=-9,_e.$flags$|=128,dt(),q(_e.$lazyInstance$)}if(se.style){let dt=se.style;"string"!=typeof dt&&(dt=dt[_e.$modeName$=(W=>Wr.map(ee=>ee(W)).find(ee=>!!ee))(ee)]);const xt=In(oe,_e.$modeName$);if(!Jn.has(xt)){const on=()=>{};Tn(xt,dt,!!(1&oe.$flags$)),on()}}}const Be=_e.$ancestorComponent$,Xe=()=>Hn(_e,!0);Be&&Be["s-rc"]?Be["s-rc"].push(Xe):Xe()});return function(_e,oe,G,se,Be){return W.apply(this,arguments)}}(),q=W=>{Fn(W,"connectedCallback")},st=W=>{const ee=W["s-cr"]=or.createComment("");ee["s-cn"]=!0,W.insertBefore(ee,W.firstChild)},ht=(W,ee={})=>{var _e;const G=[],se=ee.exclude||[],Be=_r.customElements,Xe=or.head,dt=Xe.querySelector("meta[charset]"),xt=or.createElement("style"),on=[],dn=or.querySelectorAll(`[${it}]`);let Un,ar=!0,fi=0;for(Object.assign(Zn,ee),Zn.$resourcesUrl$=new URL(ee.resourcesUrl||"./",or.baseURI).href,Zn.$flags$|=2;fi<dn.length;fi++)Tn(dn[fi].getAttribute(it),Lt(dn[fi].innerHTML),!0);W.map(Oi=>{Oi[1].map(Fi=>{const Hr={$flags$:Fi[0],$tagName$:Fi[1],$members$:Fi[2],$listeners$:Fi[3]};Hr.$members$=Fi[2],Hr.$listeners$=Fi[3],Hr.$attrsToReflect$=[],Hr.$watchers$={};const Cn=Hr.$tagName$,Er=class extends HTMLElement{constructor(Kr){super(Kr),wt(Kr=this,Hr),1&Hr.$flags$&&Kr.attachShadow({mode:"open",delegatesFocus:!!(16&Hr.$flags$)})}connectedCallback(){Un&&(clearTimeout(Un),Un=null),ar?on.push(this):Zn.jmp(()=>(W=>{if(!(1&Zn.$flags$)){const ee=zn(W),_e=ee.$cmpMeta$,oe=()=>{};if(1&ee.$flags$)It(W,ee,_e.$listeners$),q(ee.$lazyInstance$);else{let G;if(ee.$flags$|=1,G=W.getAttribute(vt),G){if(1&_e.$flags$){const se=En(W.shadowRoot,_e,W.getAttribute("s-mode"));W.classList.remove(se+"-h",se+"-s")}((W,ee,_e,oe)=>{const se=W.shadowRoot,Be=[],dt=se?[]:null,xt=oe.$vnode$=ce(ee,null);Zn.$orgLocNodes$||ut(or.body,Zn.$orgLocNodes$=new Map),W[vt]=_e,W.removeAttribute(vt),mt(xt,Be,[],dt,W,W,_e),Be.map(on=>{const dn=on.$hostId$+"."+on.$nodeId$,Un=Zn.$orgLocNodes$.get(dn),ar=on.$elm$;Un&&mi&&""===Un["s-en"]&&Un.parentNode.insertBefore(ar,Un.nextSibling),se||(ar["s-hn"]=ee,Un&&(ar["s-ol"]=Un,ar["s-ol"]["s-nr"]=ar)),Zn.$orgLocNodes$.delete(dn)}),se&&dt.map(on=>{on&&se.appendChild(on)})})(W,_e.$tagName$,G,ee)}G||12&_e.$flags$&&st(W);{let se=W;for(;se=se.parentNode||se.host;)if(1===se.nodeType&&se.hasAttribute("s-id")&&se["s-p"]||se["s-p"]){ei(ee,ee.$ancestorComponent$=se);break}}_e.$members$&&Object.entries(_e.$members$).map(([se,[Be]])=>{if(31&Be&&W.hasOwnProperty(se)){const Xe=W[se];delete W[se],W[se]=Xe}}),z(W,ee,_e)}oe()}})(this))}disconnectedCallback(){Zn.jmp(()=>(W=>{if(!(1&Zn.$flags$)){const ee=zn(this),_e=ee.$lazyInstance$;ee.$rmListeners$&&(ee.$rmListeners$.map(oe=>oe()),ee.$rmListeners$=void 0),Fn(_e,"disconnectedCallback")}})())}componentOnReady(){return zn(this).$onReadyPromise$}};Hr.$lazyBundleId$=Oi[0],!se.includes(Cn)&&!Be.get(Cn)&&(G.push(Cn),Be.define(Cn,K(Er,Hr,1)))})});{xt.innerHTML=G+"{visibility:hidden}.hydrated{visibility:inherit}",xt.setAttribute("data-styles","");const Oi=null!==(_e=Zn.$nonce$)&&void 0!==_e?_e:pt(or);null!=Oi&&xt.setAttribute("nonce",Oi),Xe.insertBefore(xt,dt?dt.nextSibling:Xe.firstChild)}ar=!1,on.length?on.map(Oi=>Oi.connectedCallback()):Zn.jmp(()=>Un=setTimeout(pr,30))},It=(W,ee,_e,oe)=>{_e&&_e.map(([G,se,Be])=>{const Xe=zt(W,G),dt=Gt(ee,Be),xt=rn(G);Zn.ael(Xe,se,dt,xt),(ee.$rmListeners$=ee.$rmListeners$||[]).push(()=>Zn.rel(Xe,se,dt,xt))})},Gt=(W,ee)=>_e=>{try{256&W.$flags$?W.$lazyInstance$[ee](_e):(W.$queuedListeners$=W.$queuedListeners$||[]).push([ee,_e])}catch(oe){_n(oe)}},zt=(W,ee)=>4&ee?or:8&ee?_r:16&ee?or.body:W,rn=W=>0!=(2&W),Wn=new WeakMap,zn=W=>Wn.get(W),Dt=(W,ee)=>Wn.set(ee.$lazyInstance$=W,ee),wt=(W,ee)=>{const _e={$flags$:0,$hostElement$:W,$cmpMeta$:ee,$instanceValues$:new Map};return _e.$onInstancePromise$=new Promise(oe=>_e.$onInstanceResolve$=oe),_e.$onReadyPromise$=new Promise(oe=>_e.$onReadyResolve$=oe),W["s-p"]=[],W["s-rc"]=[],It(W,_e,ee.$listeners$),Wn.set(W,_e)},Kt=(W,ee)=>ee in W,_n=(W,ee)=>(0,console.error)(W,ee),kn=new Map,Xn=(W,ee,_e)=>{const oe=W.$tagName$.replace(/-/g,"_"),G=W.$lazyBundleId$,se=kn.get(G);return se?se[oe]:L(863)(`./${G}.entry.js`).then(Be=>(kn.set(G,Be),Be[oe]),_n)},Jn=new Map,Wr=[],_r=typeof window<"u"?window:{},or=_r.document||{head:{}},Zn={$flags$:0,$resourcesUrl$:"",jmp:W=>W(),raf:W=>requestAnimationFrame(W),ael:(W,ee,_e,oe)=>W.addEventListener(ee,_e,oe),rel:(W,ee,_e,oe)=>W.removeEventListener(ee,_e,oe),ce:(W,ee)=>new CustomEvent(W,ee)},hi=W=>{Object.assign(Zn,W)},mi=!0,Ds=W=>Promise.resolve(W),yi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ns=[],js=[],Pi=(W,ee)=>_e=>{W.push(_e),U||(U=!0,ee&&4&Zn.$flags$?Ji(Cs):Zn.raf(Cs))},ti=W=>{for(let ee=0;ee<W.length;ee++)try{W[ee](performance.now())}catch(_e){_n(_e)}W.length=0},Cs=()=>{ti(ns),ti(js),(U=ns.length>0)&&Zn.raf(Cs)},Ji=W=>Ds().then(W),ps=Pi(ns,!1),Zs=Pi(js,!0)},8126:(ln,ct,L)=>{"use strict";L.d(ct,{m:()=>Ie});var y=L(5861),g=L(7593),ae=L(3577),ye=L(5273),be=L(9613);const De=Ue=>(0,be.c)().duration(Ue?400:300),he=Ue=>{let ve,Ve;const qe=Ue.width+8,bt=(0,be.c)(),Me=(0,be.c)();Ue.isEndSide?(ve=qe+"px",Ve="0px"):(ve=-qe+"px",Ve="0px"),bt.addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${ve})`,`translateX(${Ve})`);const vt="ios"===(0,ye.b)(Ue),it=vt?.2:.25;return Me.addElement(Ue.backdropEl).fromTo("opacity",.01,it),De(vt).addAnimation([bt,Me])},Ce=Ue=>{let ve,Ve;const qe=(0,ye.b)(Ue),bt=Ue.width;Ue.isEndSide?(ve=-bt+"px",Ve=bt+"px"):(ve=bt+"px",Ve=-bt+"px");const Me=(0,be.c)().addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${Ve})`,"translateX(0px)"),Ee=(0,be.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`),vt=(0,be.c)().addElement(Ue.backdropEl).fromTo("opacity",.01,.32);return De("ios"===qe).addAnimation([Me,Ee,vt])},$e=Ue=>{const ve=(0,ye.b)(Ue),Ve=Ue.width*(Ue.isEndSide?-1:1)+"px",qe=(0,be.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ve})`);return De("ios"===ve).addAnimation(qe)},Ie=(()=>{const Ue=new Map,ve=[],Ve=function(){var Fe=(0,y.Z)(function*(He){const mt=yield Ge(He);return!!mt&&mt.open()});return function(mt){return Fe.apply(this,arguments)}}(),qe=function(){var Fe=(0,y.Z)(function*(He){const mt=yield void 0!==He?Ge(He):rt();return void 0!==mt&&mt.close()});return function(mt){return Fe.apply(this,arguments)}}(),bt=function(){var Fe=(0,y.Z)(function*(He){const mt=yield Ge(He);return!!mt&&mt.toggle()});return function(mt){return Fe.apply(this,arguments)}}(),Me=function(){var Fe=(0,y.Z)(function*(He,mt){const ut=yield Ge(mt);return ut&&(ut.disabled=!He),ut});return function(mt,ut){return Fe.apply(this,arguments)}}(),Ee=function(){var Fe=(0,y.Z)(function*(He,mt){const ut=yield Ge(mt);return ut&&(ut.swipeGesture=He),ut});return function(mt,ut){return Fe.apply(this,arguments)}}(),vt=function(){var Fe=(0,y.Z)(function*(He){if(null!=He){const mt=yield Ge(He);return void 0!==mt&&mt.isOpen()}return void 0!==(yield rt())});return function(mt){return Fe.apply(this,arguments)}}(),it=function(){var Fe=(0,y.Z)(function*(He){const mt=yield Ge(He);return!!mt&&!mt.disabled});return function(mt){return Fe.apply(this,arguments)}}(),Ge=function(){var Fe=(0,y.Z)(function*(He){return yield ke(),"start"===He||"end"===He?We(Tt=>Tt.side===He&&!Tt.disabled)||We(Tt=>Tt.side===He):null!=He?We(ut=>ut.menuId===He):We(ut=>!ut.disabled)||(ve.length>0?ve[0].el:void 0)});return function(mt){return Fe.apply(this,arguments)}}(),rt=function(){var Fe=(0,y.Z)(function*(){return yield ke(),ce()});return function(){return Fe.apply(this,arguments)}}(),ft=function(){var Fe=(0,y.Z)(function*(){return yield ke(),Pe()});return function(){return Fe.apply(this,arguments)}}(),_t=function(){var Fe=(0,y.Z)(function*(){return yield ke(),je()});return function(){return Fe.apply(this,arguments)}}(),Ye=(Fe,He)=>{Ue.set(Fe,He)},tt=Fe=>{const He=Fe.side;ve.filter(mt=>mt.side===He&&mt!==Fe).forEach(mt=>mt.disabled=!0)},pt=function(){var Fe=(0,y.Z)(function*(He,mt,ut){if(je())return!1;if(mt){const Tt=yield rt();Tt&&He.el!==Tt&&(yield Tt.setOpen(!1,!1))}return He._setOpen(mt,ut)});return function(mt,ut,Tt){return Fe.apply(this,arguments)}}(),ce=()=>We(Fe=>Fe._isOpen),Pe=()=>ve.map(Fe=>Fe.el),je=()=>ve.some(Fe=>Fe.isAnimating),We=Fe=>{const He=ve.find(Fe);if(void 0!==He)return He.el},ke=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Fe=>new Promise(He=>(0,ae.c)(Fe,He))));return Ye("reveal",$e),Ye("push",Ce),Ye("overlay",he),typeof document<"u"&&document.addEventListener("ionBackButton",Fe=>{const He=ce();He&&Fe.detail.register(g.MENU_BACK_BUTTON_PRIORITY,()=>He.close())}),{registerAnimation:Ye,get:Ge,getMenus:ft,getOpen:rt,isEnabled:it,swipeGesture:Ee,isAnimating:_t,isOpen:vt,enable:Me,toggle:bt,close:qe,open:Ve,_getOpenSync:ce,_createAnimation:(Fe,He)=>{const mt=Ue.get(Fe);if(!mt)throw new Error("animation not registered");return mt(He)},_register:Fe=>{ve.indexOf(Fe)<0&&(Fe.disabled||tt(Fe),ve.push(Fe))},_unregister:Fe=>{const He=ve.indexOf(Fe);He>-1&&ve.splice(He,1)},_setOpen:pt,_setActiveMenu:tt}})()},1178:(ln,ct,L)=>{"use strict";L.d(ct,{a:()=>g,b:()=>ae,p:()=>y});const y=(ye,...be)=>console.warn(`[Ionic Warning]: ${ye}`,...be),g=(ye,...be)=>console.error(`[Ionic Error]: ${ye}`,...be),ae=(ye,...be)=>console.error(`<${ye.tagName.toLowerCase()}> must be used inside ${be.join(" or ")}.`)},9866:(ln,ct,L)=>{"use strict";L.d(ct,{L:()=>ye,a:()=>be,b:()=>De,c:()=>he,d:()=>Ce,e:()=>_t,g:()=>St,l:()=>ft,s:()=>Ye,t:()=>Ie});var y=L(5861),g=L(4083),ae=L(3577);const ye="ionViewWillEnter",be="ionViewDidEnter",De="ionViewWillLeave",he="ionViewDidLeave",Ce="ionViewWillUnload",Ie=tt=>new Promise((pt,yt)=>{(0,g.w)(()=>{Ue(tt),ve(tt).then(ce=>{ce.animation&&ce.animation.destroy(),Ve(tt),pt(ce)},ce=>{Ve(tt),yt(ce)})})}),Ue=tt=>{const pt=tt.enteringEl,yt=tt.leavingEl;xe(pt,yt,tt.direction),tt.showGoBack?pt.classList.add("can-go-back"):pt.classList.remove("can-go-back"),Ye(pt,!1),pt.style.setProperty("pointer-events","none"),yt&&(Ye(yt,!1),yt.style.setProperty("pointer-events","none"))},ve=function(){var tt=(0,y.Z)(function*(pt){const yt=yield qe(pt);return yt&&g.B.isBrowser?bt(yt,pt):Me(pt)});return function(yt){return tt.apply(this,arguments)}}(),Ve=tt=>{const pt=tt.enteringEl,yt=tt.leavingEl;pt.classList.remove("ion-page-invisible"),pt.style.removeProperty("pointer-events"),void 0!==yt&&(yt.classList.remove("ion-page-invisible"),yt.style.removeProperty("pointer-events"))},qe=function(){var tt=(0,y.Z)(function*(pt){return pt.leavingEl&&pt.animated&&0!==pt.duration?pt.animationBuilder?pt.animationBuilder:"ios"===pt.mode?(yield Promise.resolve().then(L.bind(L,3551))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,1138))).mdTransitionAnimation:void 0});return function(yt){return tt.apply(this,arguments)}}(),bt=function(){var tt=(0,y.Z)(function*(pt,yt){yield Ee(yt,!0);const ce=pt(yt.baseEl,yt);Ge(yt.enteringEl,yt.leavingEl);const Pe=yield it(ce,yt);return yt.progressCallback&&yt.progressCallback(void 0),Pe&&rt(yt.enteringEl,yt.leavingEl),{hasCompleted:Pe,animation:ce}});return function(yt,ce){return tt.apply(this,arguments)}}(),Me=function(){var tt=(0,y.Z)(function*(pt){const yt=pt.enteringEl,ce=pt.leavingEl;return yield Ee(pt,!1),Ge(yt,ce),rt(yt,ce),{hasCompleted:!0}});return function(yt){return tt.apply(this,arguments)}}(),Ee=function(){var tt=(0,y.Z)(function*(pt,yt){(void 0!==pt.deepWait?pt.deepWait:yt)&&(yield Promise.all([_t(pt.enteringEl),_t(pt.leavingEl)])),yield vt(pt.viewIsReady,pt.enteringEl)});return function(yt,ce){return tt.apply(this,arguments)}}(),vt=function(){var tt=(0,y.Z)(function*(pt,yt){pt&&(yield pt(yt))});return function(yt,ce){return tt.apply(this,arguments)}}(),it=(tt,pt)=>{const yt=pt.progressCallback,ce=new Promise(Pe=>{tt.onFinish(je=>Pe(1===je))});return yt?(tt.progressStart(!0),yt(tt)):tt.play(),ce},Ge=(tt,pt)=>{ft(pt,De),ft(tt,ye)},rt=(tt,pt)=>{ft(tt,be),ft(pt,he)},ft=(tt,pt)=>{if(tt){const yt=new CustomEvent(pt,{bubbles:!1,cancelable:!1});tt.dispatchEvent(yt)}},_t=function(){var tt=(0,y.Z)(function*(pt){const yt=pt;if(yt){if(null!=yt.componentOnReady){if(null!=(yield yt.componentOnReady()))return}else if(null!=yt.__registerHost)return void(yield new Promise(Pe=>(0,ae.r)(Pe)));yield Promise.all(Array.from(yt.children).map(_t))}});return function(yt){return tt.apply(this,arguments)}}(),Ye=(tt,pt)=>{pt?(tt.setAttribute("aria-hidden","true"),tt.classList.add("ion-page-hidden")):(tt.hidden=!1,tt.removeAttribute("aria-hidden"),tt.classList.remove("ion-page-hidden"))},xe=(tt,pt,yt)=>{void 0!==tt&&(tt.style.zIndex="back"===yt?"99":"101"),void 0!==pt&&(pt.style.zIndex="100")},St=tt=>tt.classList.contains("ion-page")?tt:tt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||tt},5273:(ln,ct,L)=>{"use strict";L.d(ct,{a:()=>Ie,b:()=>je,c:()=>ae,g:()=>U,i:()=>We});var y=L(4083);class g{constructor(){this.m=new Map}reset(Fe){this.m=new Map(Object.entries(Fe))}get(Fe,He){const mt=this.m.get(Fe);return void 0!==mt?mt:He}getBoolean(Fe,He=!1){const mt=this.m.get(Fe);return void 0===mt?He:"string"==typeof mt?"true"===mt:!!mt}getNumber(Fe,He){const mt=parseFloat(this.m.get(Fe));return isNaN(mt)?void 0!==He?He:NaN:mt}set(Fe,He){this.m.set(Fe,He)}}const ae=new g,$e="ionic-persist-config",U=ke=>Ue(ke),Ie=(ke,Fe)=>("string"==typeof ke&&(Fe=ke,ke=void 0),U(ke).includes(Fe)),Ue=(ke=window)=>{if(typeof ke>"u")return[];ke.Ionic=ke.Ionic||{};let Fe=ke.Ionic.platforms;return null==Fe&&(Fe=ke.Ionic.platforms=ve(ke),Fe.forEach(He=>ke.document.documentElement.classList.add(`plt-${He}`))),Fe},ve=ke=>{const Fe=ae.get("platform");return Object.keys(ce).filter(He=>{const mt=null==Fe?void 0:Fe[He];return"function"==typeof mt?mt(ke):ce[He](ke)})},qe=ke=>!!(pt(ke,/iPad/i)||pt(ke,/Macintosh/i)&&rt(ke)),Ee=ke=>pt(ke,/android|sink/i),rt=ke=>yt(ke,"(any-pointer:coarse)"),_t=ke=>Ye(ke)||xe(ke),Ye=ke=>!!(ke.cordova||ke.phonegap||ke.PhoneGap),xe=ke=>{const Fe=ke.Capacitor;return!(null==Fe||!Fe.isNative)},pt=(ke,Fe)=>Fe.test(ke.navigator.userAgent),yt=(ke,Fe)=>{var He;return null===(He=ke.matchMedia)||void 0===He?void 0:He.call(ke,Fe).matches},ce={ipad:qe,iphone:ke=>pt(ke,/iPhone/i),ios:ke=>pt(ke,/iPhone|iPod/i)||qe(ke),android:Ee,phablet:ke=>{const Fe=ke.innerWidth,He=ke.innerHeight,mt=Math.min(Fe,He),ut=Math.max(Fe,He);return mt>390&&mt<520&&ut>620&&ut<800},tablet:ke=>{const Fe=ke.innerWidth,He=ke.innerHeight,mt=Math.min(Fe,He),ut=Math.max(Fe,He);return qe(ke)||(ke=>Ee(ke)&&!pt(ke,/mobile/i))(ke)||mt>460&&mt<820&&ut>780&&ut<1400},cordova:Ye,capacitor:xe,electron:ke=>pt(ke,/electron/i),pwa:ke=>{var Fe;return!!(null!==(Fe=ke.matchMedia)&&void 0!==Fe&&Fe.call(ke,"(display-mode: standalone)").matches||ke.navigator.standalone)},mobile:rt,mobileweb:ke=>rt(ke)&&!_t(ke),desktop:ke=>!rt(ke),hybrid:_t};let Pe;const je=ke=>ke&&(0,y.g)(ke)||Pe,We=(ke={})=>{if(typeof window>"u")return;const Fe=window.document,He=window,mt=He.Ionic=He.Ionic||{},ut={};ke._ael&&(ut.ael=ke._ael),ke._rel&&(ut.rel=ke._rel),ke._ce&&(ut.ce=ke._ce),(0,y.a)(ut);const Tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ke=>{try{const Fe=ke.sessionStorage.getItem($e);return null!==Fe?JSON.parse(Fe):{}}catch{return{}}})(He)),{persistConfig:!1}),mt.config),(ke=>{const Fe={};return ke.location.search.slice(1).split("&").map(He=>He.split("=")).map(([He,mt])=>[decodeURIComponent(He),decodeURIComponent(mt)]).filter(([He])=>((ke,Fe)=>ke.substr(0,Fe.length)===Fe)(He,"ionic:")).map(([He,mt])=>[He.slice(6),mt]).forEach(([He,mt])=>{Fe[He]=mt}),Fe})(He)),ke);ae.reset(Tt),ae.getBoolean("persistConfig")&&((ke,Fe)=>{try{ke.sessionStorage.setItem($e,JSON.stringify(Fe))}catch{return}})(He,Tt),Ue(He),mt.config=ae,mt.mode=Pe=ae.get("mode",Fe.documentElement.getAttribute("mode")||(Ie(He,"ios")?"ios":"md")),ae.set("mode",Pe),Fe.documentElement.setAttribute("mode",Pe),Fe.documentElement.classList.add(Pe),ae.getBoolean("_testing")&&ae.set("animated",!1);const Pt=At=>{var et;return null===(et=At.tagName)||void 0===et?void 0:et.startsWith("ION-")},sn=At=>["ios","md"].includes(At);(0,y.c)(At=>{for(;At;){const et=At.mode||At.getAttribute("mode");if(et){if(sn(et))return et;Pt(At)&&console.warn('Invalid ionic mode: "'+et+'", expected: "ios" or "md"')}At=At.parentElement}return Pe})}},3551:(ln,ct,L)=>{"use strict";L.r(ct),L.d(ct,{iosTransitionAnimation:()=>ve,shadow:()=>he});var y=L(9613),g=L(9866);L(3457),L(4083);const De=Ve=>document.querySelector(`${Ve}.ion-cloned-element`),he=Ve=>Ve.shadowRoot||Ve,Ce=Ve=>{const qe="ION-TABS"===Ve.tagName?Ve:Ve.querySelector("ion-tabs"),bt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qe){const Me=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Me?Me.querySelector(bt):null}return Ve.querySelector(bt)},$e=(Ve,qe)=>{const bt="ION-TABS"===Ve.tagName?Ve:Ve.querySelector("ion-tabs");let Me=[];if(null!=bt){const Ee=bt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ee&&(Me=Ee.querySelectorAll("ion-buttons"))}else Me=Ve.querySelectorAll("ion-buttons");for(const Ee of Me){const vt=Ee.closest("ion-header"),it=vt&&!vt.classList.contains("header-collapse-condense-inactive"),Ge=Ee.querySelector("ion-back-button"),rt=Ee.classList.contains("buttons-collapse");if(null!==Ge&&("start"===Ee.slot||""===Ee.slot)&&(rt&&it&&qe||!rt))return Ge}return null},Ie=(Ve,qe,bt,Me,Ee,vt)=>{const it=qe?`calc(100% - ${vt.right+4}px)`:vt.left-4+"px",Ge=qe?"7px":"-7px",rt=qe?"-4px":"4px",ft=qe?"-4px":"4px",_t=qe?"right":"left",Ye=qe?"left":"right",tt=bt?[{offset:0,opacity:1,transform:`translate3d(${rt}, ${vt.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${Ee.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${Ee.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${rt}, ${vt.top-46}px, 0) scale(1)`}],ce=bt?[{offset:0,opacity:1,transform:`translate3d(${ft}, ${vt.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ft}, ${vt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ft}, ${vt.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ft}, ${vt.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ft}, ${vt.top-46}px, 0) scale(1)`}],Pe=(0,y.c)(),je=(0,y.c)(),We=De("ion-back-button"),ke=he(We).querySelector(".button-text"),Fe=he(We).querySelector("ion-icon");We.text=Me.text,We.mode=Me.mode,We.icon=Me.icon,We.color=Me.color,We.disabled=Me.disabled,We.style.setProperty("display","block"),We.style.setProperty("position","fixed"),je.addElement(Fe),Pe.addElement(ke),Pe.beforeStyles({"transform-origin":`${_t} center`}).beforeAddWrite(()=>{Me.style.setProperty("display","none"),We.style.setProperty(_t,it)}).afterAddWrite(()=>{Me.style.setProperty("display",""),We.style.setProperty("display","none"),We.style.removeProperty(_t)}).keyframes(tt),je.beforeStyles({"transform-origin":`${Ye} center`}).keyframes(ce),Ve.addAnimation([Pe,je])},Ue=(Ve,qe,bt,Me,Ee,vt)=>{const it=qe?`calc(100% - ${Ee.right}px)`:`${Ee.left}px`,Ge=qe?"-18px":"18px",rt=qe?"right":"left",Ye=bt?[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${vt.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${vt.top-4}px, 0) scale(0.5)`}],xe=De("ion-title"),St=(0,y.c)();xe.innerText=Me.innerText,xe.size=Me.size,xe.color=Me.color,St.addElement(xe),St.beforeStyles({"transform-origin":`${rt} center`,height:"46px",display:"",position:"relative",[rt]:it}).beforeAddWrite(()=>{Me.style.setProperty("display","none")}).afterAddWrite(()=>{Me.style.setProperty("display",""),xe.style.setProperty("display","none")}).keyframes(Ye),Ve.addAnimation(St)},ve=(Ve,qe)=>{var bt;try{const Me="cubic-bezier(0.32,0.72,0,1)",Ee="opacity",vt="transform",it="0%",rt="rtl"===Ve.ownerDocument.dir,ft=rt?"-99.5%":"99.5%",_t=rt?"33%":"-33%",Ye=qe.enteringEl,xe=qe.leavingEl,St="back"===qe.direction,tt=Ye.querySelector(":scope > ion-content"),pt=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),yt=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),ce=(0,y.c)(),Pe=(0,y.c)();if(ce.addElement(Ye).duration((null!==(bt=qe.duration)&&void 0!==bt?bt:0)||540).easing(qe.easing||Me).fill("both").beforeRemoveClass("ion-page-invisible"),xe&&null!=Ve){const Fe=(0,y.c)();Fe.addElement(Ve),ce.addAnimation(Fe)}if(tt||0!==yt.length||0!==pt.length?(Pe.addElement(tt),Pe.addElement(pt)):Pe.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(Pe),St?Pe.beforeClearStyles([Ee]).fromTo("transform",`translateX(${_t})`,`translateX(${it})`).fromTo(Ee,.8,1):Pe.beforeClearStyles([Ee]).fromTo("transform",`translateX(${ft})`,`translateX(${it})`),tt){const Fe=he(tt).querySelector(".transition-effect");if(Fe){const He=Fe.querySelector(".transition-cover"),mt=Fe.querySelector(".transition-shadow"),ut=(0,y.c)(),Tt=(0,y.c)(),Pt=(0,y.c)();ut.addElement(Fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(He).beforeClearStyles([Ee]).fromTo(Ee,0,.1),Pt.addElement(mt).beforeClearStyles([Ee]).fromTo(Ee,.03,.7),ut.addAnimation([Tt,Pt]),Pe.addAnimation([ut])}}const je=Ye.querySelector("ion-header.header-collapse-condense"),{forward:We,backward:ke}=((Ve,qe,bt,Me,Ee)=>{const vt=$e(Me,bt),it=Ce(Ee),Ge=Ce(Me),rt=$e(Ee,bt),ft=null!==vt&&null!==it&&!bt,_t=null!==Ge&&null!==rt&&bt;if(ft){const Ye=it.getBoundingClientRect(),xe=vt.getBoundingClientRect();Ue(Ve,qe,bt,it,Ye,xe),Ie(Ve,qe,bt,vt,Ye,xe)}else if(_t){const Ye=Ge.getBoundingClientRect(),xe=rt.getBoundingClientRect();Ue(Ve,qe,bt,Ge,Ye,xe),Ie(Ve,qe,bt,rt,Ye,xe)}return{forward:ft,backward:_t}})(ce,rt,St,Ye,xe);if(yt.forEach(Fe=>{const He=(0,y.c)();He.addElement(Fe),ce.addAnimation(He);const mt=(0,y.c)();mt.addElement(Fe.querySelector("ion-title"));const ut=(0,y.c)(),Tt=Array.from(Fe.querySelectorAll("ion-buttons,[menuToggle]")),Pt=Fe.closest("ion-header"),sn=null==Pt?void 0:Pt.classList.contains("header-collapse-condense-inactive");let At;At=Tt.filter(St?Tn=>{const En=Tn.classList.contains("buttons-collapse");return En&&!sn||!En}:Tn=>!Tn.classList.contains("buttons-collapse")),ut.addElement(At);const et=(0,y.c)();et.addElement(Fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ot=(0,y.c)();Ot.addElement(he(Fe).querySelector(".toolbar-background"));const Jt=(0,y.c)(),fn=Fe.querySelector("ion-back-button");if(fn&&Jt.addElement(fn),He.addAnimation([mt,ut,et,Ot,Jt]),ut.fromTo(Ee,.01,1),et.fromTo(Ee,.01,1),St)sn||mt.fromTo("transform",`translateX(${_t})`,`translateX(${it})`).fromTo(Ee,.01,1),et.fromTo("transform",`translateX(${_t})`,`translateX(${it})`),Jt.fromTo(Ee,.01,1);else if(je||mt.fromTo("transform",`translateX(${ft})`,`translateX(${it})`).fromTo(Ee,.01,1),et.fromTo("transform",`translateX(${ft})`,`translateX(${it})`),Ot.beforeClearStyles([Ee,"transform"]),(null==Pt?void 0:Pt.translucent)?Ot.fromTo("transform",rt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ot.fromTo(Ee,.01,"var(--opacity)"),We||Jt.fromTo(Ee,.01,1),fn&&!We){const En=(0,y.c)();En.addElement(he(fn).querySelector(".button-text")).fromTo("transform",rt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),He.addAnimation(En)}}),xe){const Fe=(0,y.c)(),He=xe.querySelector(":scope > ion-content"),mt=xe.querySelectorAll(":scope > ion-header > ion-toolbar"),ut=xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(He||0!==mt.length||0!==ut.length?(Fe.addElement(He),Fe.addElement(ut)):Fe.addElement(xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(Fe),St){Fe.beforeClearStyles([Ee]).fromTo("transform",`translateX(${it})`,rt?"translateX(-100%)":"translateX(100%)");const Tt=(0,g.g)(xe);ce.afterAddWrite(()=>{"normal"===ce.getDirection()&&Tt.style.setProperty("display","none")})}else Fe.fromTo("transform",`translateX(${it})`,`translateX(${_t})`).fromTo(Ee,1,.8);if(He){const Tt=he(He).querySelector(".transition-effect");if(Tt){const Pt=Tt.querySelector(".transition-cover"),sn=Tt.querySelector(".transition-shadow"),At=(0,y.c)(),et=(0,y.c)(),Ot=(0,y.c)();At.addElement(Tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),et.addElement(Pt).beforeClearStyles([Ee]).fromTo(Ee,.1,0),Ot.addElement(sn).beforeClearStyles([Ee]).fromTo(Ee,.7,.03),At.addAnimation([et,Ot]),Fe.addAnimation([At])}}mt.forEach(Tt=>{const Pt=(0,y.c)();Pt.addElement(Tt);const sn=(0,y.c)();sn.addElement(Tt.querySelector("ion-title"));const At=(0,y.c)(),et=Tt.querySelectorAll("ion-buttons,[menuToggle]"),Ot=Tt.closest("ion-header"),Jt=null==Ot?void 0:Ot.classList.contains("header-collapse-condense-inactive"),fn=Array.from(et).filter(rr=>{const fr=rr.classList.contains("buttons-collapse");return fr&&!Jt||!fr});At.addElement(fn);const Tn=(0,y.c)(),En=Tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");En.length>0&&Tn.addElement(En);const Nt=(0,y.c)();Nt.addElement(he(Tt).querySelector(".toolbar-background"));const In=(0,y.c)(),Lt=Tt.querySelector("ion-back-button");if(Lt&&In.addElement(Lt),Pt.addAnimation([sn,At,Tn,In,Nt]),ce.addAnimation(Pt),In.fromTo(Ee,.99,0),At.fromTo(Ee,.99,0),Tn.fromTo(Ee,.99,0),St){if(Jt||sn.fromTo("transform",`translateX(${it})`,rt?"translateX(-100%)":"translateX(100%)").fromTo(Ee,.99,0),Tn.fromTo("transform",`translateX(${it})`,rt?"translateX(-100%)":"translateX(100%)"),Nt.beforeClearStyles([Ee,"transform"]),(null==Ot?void 0:Ot.translucent)?Nt.fromTo("transform","translateX(0px)",rt?"translateX(-100%)":"translateX(100%)"):Nt.fromTo(Ee,"var(--opacity)",0),Lt&&!ke){const fr=(0,y.c)();fr.addElement(he(Lt).querySelector(".button-text")).fromTo("transform",`translateX(${it})`,`translateX(${(rt?-124:124)+"px"})`),Pt.addAnimation(fr)}}else Jt||sn.fromTo("transform",`translateX(${it})`,`translateX(${_t})`).fromTo(Ee,.99,0).afterClearStyles([vt,Ee]),Tn.fromTo("transform",`translateX(${it})`,`translateX(${_t})`).afterClearStyles([vt,Ee]),In.afterClearStyles([Ee]),sn.afterClearStyles([Ee]),At.afterClearStyles([Ee])})}return ce}catch(Me){throw Me}}},1138:(ln,ct,L)=>{"use strict";L.r(ct),L.d(ct,{mdTransitionAnimation:()=>be});var y=L(9613),g=L(9866);L(3457),L(4083);const be=(De,he)=>{var Ce,$e,U;const ve="back"===he.direction,qe=he.leavingEl,bt=(0,g.g)(he.enteringEl),Me=bt.querySelector("ion-toolbar"),Ee=(0,y.c)();if(Ee.addElement(bt).fill("both").beforeRemoveClass("ion-page-invisible"),ve?Ee.duration((null!==(Ce=he.duration)&&void 0!==Ce?Ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ee.duration((null!==($e=he.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Me){const vt=(0,y.c)();vt.addElement(Me),Ee.addAnimation(vt)}if(qe&&ve){Ee.duration((null!==(U=he.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const vt=(0,y.c)();vt.addElement((0,g.g)(qe)).onFinish(it=>{1===it&&vt.elements.length>0&&vt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ee.addAnimation(vt)}return Ee}},2583:(ln,ct,L)=>{"use strict";L.d(ct,{B:()=>ut,G:()=>Tt,a:()=>U,b:()=>Ie,c:()=>qe,d:()=>Pt,e:()=>sn,f:()=>pt,g:()=>ce,h:()=>We,i:()=>Fe,j:()=>Me,k:()=>Ce,m:()=>ve,n:()=>it,o:()=>St,s:()=>mt});var y=L(5861),g=L(5273),ae=L(6782),ye=L(7593),be=L(3577),De=L(1178);let he=0;const Ce=new WeakMap,$e=At=>({create:et=>Ee(At,et),dismiss:(et,Ot,Jt)=>Ye(document,et,Ot,At,Jt),getTop:()=>(0,y.Z)(function*(){return St(document,At)})()}),U=$e("ion-alert"),Ie=$e("ion-action-sheet"),ve=$e("ion-modal"),qe=$e("ion-popover"),Me=At=>{typeof document<"u"&&_t(document);const et=he++;At.overlayIndex=et,At.hasAttribute("id")||(At.id=`ion-overlay-${et}`)},Ee=(At,et)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(At).then(()=>{const Ot=document.createElement(At);return Ot.classList.add("overlay-hidden"),Object.assign(Ot,Object.assign(Object.assign({},et),{hasController:!0})),Pe(document).appendChild(Ot),new Promise(Jt=>(0,be.c)(Ot,Jt))}):Promise.resolve(),vt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',it=(At,et)=>{let Ot=At.querySelector(vt);const Jt=null==Ot?void 0:Ot.shadowRoot;Jt&&(Ot=Jt.querySelector(vt)||Ot),Ot?(0,be.f)(Ot):et.focus()},rt=(At,et)=>{const Ot=Array.from(At.querySelectorAll(vt));let Jt=Ot.length>0?Ot[Ot.length-1]:null;const fn=null==Jt?void 0:Jt.shadowRoot;fn&&(Jt=fn.querySelector(vt)||Jt),Jt?Jt.focus():et.focus()},_t=At=>{0===he&&(he=1,At.addEventListener("focus",et=>{((At,et)=>{const Ot=St(et,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Jt=At.target;Ot&&Jt&&!Ot.classList.contains("ion-disable-focus-trap")&&(Ot.shadowRoot?(()=>{if(Ot.contains(Jt))Ot.lastFocus=Jt;else{const En=Ot.lastFocus;it(Ot,Ot),En===et.activeElement&&rt(Ot,Ot),Ot.lastFocus=et.activeElement}})():(()=>{if(Ot===Jt)Ot.lastFocus=void 0;else{const En=(0,be.g)(Ot);if(!En.contains(Jt))return;const Nt=En.querySelector(".ion-overlay-wrapper");if(!Nt)return;if(Nt.contains(Jt))Ot.lastFocus=Jt;else{const In=Ot.lastFocus;it(Nt,Ot),In===et.activeElement&&rt(Nt,Ot),Ot.lastFocus=et.activeElement}}})())})(et,At)},!0),At.addEventListener("ionBackButton",et=>{const Ot=St(At);null!=Ot&&Ot.backdropDismiss&&et.detail.register(ye.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ot.dismiss(void 0,ut))}),At.addEventListener("keydown",et=>{if("Escape"===et.key){const Ot=St(At);null!=Ot&&Ot.backdropDismiss&&Ot.dismiss(void 0,ut)}}))},Ye=(At,et,Ot,Jt,fn)=>{const Tn=St(At,Jt,fn);return Tn?Tn.dismiss(et,Ot):Promise.reject("overlay does not exist")},St=(At,et,Ot)=>{const Jt=((At,et)=>(void 0===et&&(et="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(At.querySelectorAll(et)).filter(Ot=>Ot.overlayIndex>0)))(At,et).filter(fn=>!(At=>At.classList.contains("overlay-hidden"))(fn));return void 0===Ot?Jt[Jt.length-1]:Jt.find(fn=>fn.id===Ot)},tt=(At=!1)=>{const Ot=Pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ot&&(At?Ot.setAttribute("aria-hidden","true"):Ot.removeAttribute("aria-hidden"))},pt=function(){var At=(0,y.Z)(function*(et,Ot,Jt,fn,Tn){var En,Nt;if(et.presented)return;tt(!0),et.presented=!0,et.willPresent.emit(),null===(En=et.willPresentShorthand)||void 0===En||En.emit();const In=(0,g.b)(et),Lt=et.enterAnimation?et.enterAnimation:g.c.get(Ot,"ios"===In?Jt:fn);(yield je(et,Lt,et.el,Tn))&&(et.didPresent.emit(),null===(Nt=et.didPresentShorthand)||void 0===Nt||Nt.emit()),"ION-TOAST"!==et.el.tagName&&yt(et.el),et.keyboardClose&&(null===document.activeElement||!et.el.contains(document.activeElement))&&et.el.focus()});return function(Ot,Jt,fn,Tn,En){return At.apply(this,arguments)}}(),yt=function(){var At=(0,y.Z)(function*(et){let Ot=document.activeElement;if(!Ot)return;const Jt=null==Ot?void 0:Ot.shadowRoot;Jt&&(Ot=Jt.querySelector(vt)||Ot),yield et.onDidDismiss(),Ot.focus()});return function(Ot){return At.apply(this,arguments)}}(),ce=function(){var At=(0,y.Z)(function*(et,Ot,Jt,fn,Tn,En,Nt){var In,Lt;if(!et.presented)return!1;tt(!1),et.presented=!1;try{et.el.style.setProperty("pointer-events","none"),et.willDismiss.emit({data:Ot,role:Jt}),null===(In=et.willDismissShorthand)||void 0===In||In.emit({data:Ot,role:Jt});const rr=(0,g.b)(et),fr=et.leaveAnimation?et.leaveAnimation:g.c.get(fn,"ios"===rr?Tn:En);Jt!==Tt&&(yield je(et,fr,et.el,Nt)),et.didDismiss.emit({data:Ot,role:Jt}),null===(Lt=et.didDismissShorthand)||void 0===Lt||Lt.emit({data:Ot,role:Jt}),Ce.delete(et),et.el.classList.add("overlay-hidden"),et.el.style.removeProperty("pointer-events"),void 0!==et.el.lastFocus&&(et.el.lastFocus=void 0)}catch(rr){console.error(rr)}return et.el.remove(),!0});return function(Ot,Jt,fn,Tn,En,Nt,In){return At.apply(this,arguments)}}(),Pe=At=>At.querySelector("ion-app")||At.body,je=function(){var At=(0,y.Z)(function*(et,Ot,Jt,fn){Jt.classList.remove("overlay-hidden");const En=Ot(et.el,fn);(!et.animated||!g.c.getBoolean("animated",!0))&&En.duration(0),et.keyboardClose&&En.beforeAddWrite(()=>{const In=Jt.ownerDocument.activeElement;null!=In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const Nt=Ce.get(et)||[];return Ce.set(et,[...Nt,En]),yield En.play(),!0});return function(Ot,Jt,fn,Tn){return At.apply(this,arguments)}}(),We=(At,et)=>{let Ot;const Jt=new Promise(fn=>Ot=fn);return ke(At,et,fn=>{Ot(fn.detail)}),Jt},ke=(At,et,Ot)=>{const Jt=fn=>{(0,be.b)(At,et,Jt),Ot(fn)};(0,be.a)(At,et,Jt)},Fe=At=>"cancel"===At||At===ut,He=At=>At(),mt=(At,et)=>{if("function"==typeof At)return g.c.get("_zoneGate",He)(()=>{try{return At(et)}catch(Jt){throw Jt}})},ut="backdrop",Tt="gesture",Pt=At=>{let Ot,et=!1;const Jt=(0,ae.C)(),fn=(Nt=!1)=>{if(Ot&&!Nt)return{delegate:Ot,inline:et};const{el:In,hasController:Lt,delegate:rr}=At;return et=null!==In.parentNode&&!Lt,Ot=et?rr||Jt:rr,{inline:et,delegate:Ot}};return{attachViewToDom:function(){var Nt=(0,y.Z)(function*(In){const{delegate:Lt}=fn(!0);if(Lt)return yield Lt.attachViewToDom(At.el,In);const{hasController:rr}=At;if(rr&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(Lt){return Nt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Nt}=fn();Nt&&void 0!==At.el&&Nt.removeViewFromDom(At.el.parentElement,At.el)}}},sn=()=>{let At;const et=()=>{At&&(At(),At=void 0)};return{addClickListener:(Jt,fn)=>{et();const Tn=void 0!==fn?document.getElementById(fn):null;Tn?At=((Nt,In)=>{const Lt=()=>{In.present()};return Nt.addEventListener("click",Lt),()=>{Nt.removeEventListener("click",Lt)}})(Tn,Jt):(0,De.p)(`A trigger element with the ID "${fn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Jt)},removeClickListener:et}}},6118:(ln,ct,L)=>{"use strict";L.d(ct,{e:()=>De});var y=L(5861),g=L(9260);let ae=(()=>{class he{}return he.email=Ce=>{if(!(Ce.endsWith("@admin.com")||Ce.endsWith("@invitado.com")||Ce.endsWith("@usuario.com")||Ce.endsWith("@anonimo.com")||Ce.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return Ce},he})();var ye=L(2223),be=L(3385);let De=(()=>{class he{constructor($e){var U=this;this.angularFireAuth=$e,this.signIn=function(){var Ie=(0,y.Z)(function*(Ue,ve){return yield U.angularFireAuth.signInWithEmailAndPassword(ae.email(Ue),ve).then(Ve=>Ve).catch(Ve=>{throw"auth/user-disabled"===Ve.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===Ve.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(Ue,ve){return Ie.apply(this,arguments)}}(),this.signUp=function(){var Ie=(0,y.Z)(function*(Ue,ve){return yield U.angularFireAuth.createUserWithEmailAndPassword(ae.email(Ue),ve).then(Ve=>Ve).catch(Ve=>{throw"auth/operation-not-allowed"===Ve.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===Ve.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(Ue,ve){return Ie.apply(this,arguments)}}(),this.signOut=(0,y.Z)(function*(){yield U.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,y.Z)(function*(){const Ie=new g.Z.auth.GoogleAuthProvider;return Ie.addScope("profile"),Ie.addScope("email"),yield U.signUpWithProvider(Ie)}),this.signUpWithProvider=function(){var Ie=(0,y.Z)(function*(Ue){return yield U.angularFireAuth.signInWithPopup(Ue).then(ve=>ve).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(Ue){return Ie.apply(this,arguments)}}(),this.userData=$e.authState}getUser(){return"123456"}}return he.\u0275fac=function($e){return new($e||he)(ye.LFG(be.zQ))},he.\u0275prov=ye.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},7979:(ln,ct,L)=>{"use strict";var y=L(6550),g=L(2223),ae=L(96),ye=L(9972),be=L(3324),De=L(3692),he=L(259),Ce=L(2313),$e=L(1389),U=L(2090),Ie=L(6881),Ue=L(1877),ve=L(4859);class qe{constructor(r){return r}}class bt{constructor(){return(0,be.vb)("auth")}}const Ee=new g.OlP("angularfire2.auth-instances");function it(u){return(r,o)=>{const c=r.runOutsideAngular(()=>u(o));return new qe(c)}}const Ge={provide:bt,deps:[[new g.FiY,Ee]]},rt={provide:qe,useFactory:function vt(u,r){const o=(0,be.JM)("auth",u,r);return o&&new qe(o)},deps:[[new g.FiY,Ee],De.Ot]};let ft=(()=>{class u{constructor(){(0,he.KN)("angularfire",be.q4.full,"auth")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[rt,Ge]}),u})();function _t(u,...r){return{ngModule:ft,providers:[{provide:Ee,useFactory:it(u),multi:!0,deps:[g.R0b,g.zs3,be.HU,De.z6,[new g.FiY,Ce.nm],...r]}]}}const He=(0,be.u3)($e.o,!0);var gn=L(2810),pr=L(9751),Fn=L(4004),mr={includeMetadataChanges:!1};function Dt(u,r){return void 0===r&&(r={}),function un(u){return function Je(u,r){return void 0===r&&(r=mr),new pr.y(function(o){return{unsubscribe:(0,gn.cf)(u,r,{next:o.next.bind(o),error:o.error.bind(o),complete:o.complete.bind(o)})}})}(u,{includeMetadataChanges:!0}).pipe((0,Fn.U)(function(r){return r.docs}))}(u).pipe((0,Fn.U)(function(o){return o.map(function(c){return function z(u,r){void 0===r&&(r={});var o=u.data();return!u.exists()||"object"!=typeof o||null===o||r.idField&&(o[r.idField]=u.id),o}(c,r)})}))}class wt{constructor(r){return r}}const Kt="firestore",Xn=new g.OlP("angularfire2.firestore-instances");function Wr(u){return(r,o)=>{const c=r.runOutsideAngular(()=>u(o));return new wt(c)}}const _r={provide:class _n{constructor(){return(0,be.vb)(Kt)}},deps:[[new g.FiY,Xn]]},or={provide:wt,useFactory:function Jn(u,r){const o=(0,be.JM)(Kt,u,r);return o&&new wt(o)},deps:[[new g.FiY,Xn],De.Ot]};let Zn=(()=>{class u{constructor(){(0,he.KN)("angularfire",be.q4.full,"fst")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[or,_r]}),u})();function hi(u,...r){return{ngModule:Zn,providers:[{provide:Xn,useFactory:Wr(u),multi:!0,deps:[g.R0b,g.zs3,be.HU,De.z6,[new g.FiY,bt],[new g.FiY,Ce.nm],...r]}]}}const js=(0,be.u3)(Dt,!0),_e=(0,be.u3)(gn.hJ,!0),Ni=(0,be.u3)(gn.ad,!0);var ms=L(655),di=L(8261),Hs=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return(0,ms.ZT)(r,u),r.prototype.show=function(){return(0,di.DM)(this,"show",{sync:!0},arguments)},r.prototype.hide=function(){return(0,di.DM)(this,"hide",{sync:!0},arguments)},r.pluginName="SplashScreen",r.plugin="cordova-plugin-splashscreen",r.pluginRef="navigator.splashscreen",r.repo="https://github.com/apache/cordova-plugin-splashscreen",r.platforms=["Amazon Fire OS","Android","iOS","Windows"],r.decorators=[{type:g.GSi}],r}(di.KY),Bs=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return(0,ms.ZT)(r,u),r.prototype.overlaysWebView=function(o){return(0,di.DM)(this,"overlaysWebView",{sync:!0},arguments)},r.prototype.styleDefault=function(){return(0,di.DM)(this,"styleDefault",{sync:!0},arguments)},r.prototype.styleLightContent=function(){return(0,di.DM)(this,"styleLightContent",{sync:!0},arguments)},r.prototype.styleBlackTranslucent=function(){return(0,di.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},r.prototype.styleBlackOpaque=function(){return(0,di.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},r.prototype.backgroundColorByName=function(o){return(0,di.DM)(this,"backgroundColorByName",{sync:!0},arguments)},r.prototype.backgroundColorByHexString=function(o){return(0,di.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},r.prototype.hide=function(){return(0,di.DM)(this,"hide",{sync:!0},arguments)},r.prototype.show=function(){return(0,di.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(r.prototype,"isVisible",{get:function(){return(0,di.J2)(this,"isVisible")},set:function(o){(0,di.Iq)(this,"isVisible",o)},enumerable:!1,configurable:!0}),r.pluginName="StatusBar",r.plugin="cordova-plugin-statusbar",r.pluginRef="StatusBar",r.repo="https://github.com/apache/cordova-plugin-statusbar",r.platforms=["Android","iOS","Windows"],r.decorators=[{type:g.GSi}],r}(di.KY),gi=L(4755);function pa(u,r){if(1&u&&(g.TgZ(0,"li",2),g._uU(1),g.qZA()),2&u){const o=r.$implicit;g.xp6(1),g.hij(" ",o.name," ")}}let ss=(()=>{class u{constructor(o,c,p){this.platform=o,this.splashScreen=c,this.statusBar=p,this.firestore=(0,g.f3M)(wt);const w=_e(this.firestore,"items");this.items$=js(w)}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return u.\u0275fac=function(o){return new(o||u)(g.Y36(ye.t4),g.Y36(Hs),g.Y36(Bs))},u.\u0275cmp=g.Xpm({type:u,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],["id","main-content"],[1,"text"]],template:function(o,c){1&o&&(g.TgZ(0,"ul"),g.YNc(1,pa,2,1,"li",0),g.ALo(2,"async"),g.qZA(),g.TgZ(3,"ion-app"),g._UZ(4,"ion-router-outlet",1),g.qZA()),2&o&&(g.xp6(1),g.Q6J("ngForOf",g.lcZ(2,1,c.items$)))},dependencies:[gi.sg,ye.dr,ye.jP,gi.Ov],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),u})();const ji=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>L.e(1910).then(L.bind(L,1910)).then(u=>u.FolderPageModule)},{path:"admin",loadChildren:()=>L.e(3015).then(L.bind(L,3015)).then(u=>u.AdminPageModule)},{path:"home",loadChildren:()=>L.e(4851).then(L.bind(L,4851)).then(u=>u.HomePageModule)},{path:"login",loadChildren:()=>Promise.all([L.e(8592),L.e(4987)]).then(L.bind(L,4987)).then(u=>u.LoginPageModule)},{path:"register",loadChildren:()=>L.e(4275).then(L.bind(L,4275)).then(u=>u.RegisterPageModule)},{path:"signup",loadChildren:()=>Promise.all([L.e(8592),L.e(6533)]).then(L.bind(L,6533)).then(u=>u.SignupPageModule)},{path:"splash",loadChildren:()=>L.e(8663).then(L.bind(L,8663)).then(u=>u.SplashPageModule)}];let Qo=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({imports:[ae.Bz.forRoot(ji,{preloadingStrategy:ae.wm}),ae.Bz]}),u})();var os=L(2011),as=L(3385),Xs=L(4986),Ki=L(9646),jo=L(6451),ys=L(3099),zs=L(3900),Ho=L(5026),Ti=L(1884),Gs=L(4482),vs=L(5403),Ai=L(8421),ia=L(4671),S=L(5032),ne=L(7669);L(9568);var qt=L(3942),Nn=L(5861);const er="@firebase/database";let Sr="";function qi(u){Sr=u}class Ts{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,o){null==o?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,U.Wl)(o))}get(r){const o=this.domStorage_.getItem(this.prefixedName_(r));return null==o?null:(0,U.cI)(o)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class ls{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,o){null==o?delete this.cache_[r]:this.cache_[r]=o}get(r){return(0,U.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const _s=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const r=window[u];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Ts(r)}}catch{}return new ls},Ws=_s("localStorage"),xo=_s("sessionStorage"),Z=new Ue.Yd("@firebase/database"),j=function(){let u=1;return function(){return u++}}(),C=function(u){const r=(0,U.dS)(u),o=new U.gQ;o.update(r);const c=o.digest();return U.US.encodeByteArray(c)},N=function(...u){let r="";for(let o=0;o<u.length;o++){const c=u[o];Array.isArray(c)||c&&"object"==typeof c&&"number"==typeof c.length?r+=N.apply(null,c):r+="object"==typeof c?(0,U.Wl)(c):c,r+=" "}return r};let pe=null,ot=!0;const Bt=function(u,r){(0,U.hu)(!r||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(Z.logLevel=Ue.in.VERBOSE,pe=Z.log.bind(Z),r&&xo.set("logging_enabled",!0)):"function"==typeof u?pe=u:(pe=null,xo.remove("logging_enabled"))},Zt=function(...u){if(!0===ot&&(ot=!1,null===pe&&!0===xo.get("logging_enabled")&&Bt(!0)),pe){const r=N.apply(null,u);pe(r)}},pn=function(u){return function(...r){Zt(u,...r)}},jr=function(...u){const r="FIREBASE INTERNAL ERROR: "+N(...u);Z.error(r)},Rr=function(...u){const r=`FIREBASE FATAL ERROR: ${N(...u)}`;throw Z.error(r),new Error(r)},wr=function(...u){const r="FIREBASE WARNING: "+N(...u);Z.warn(r)},xr=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},As="[MIN_NAME]",Es="[MAX_NAME]",so=function(u,r){if(u===r)return 0;if(u===As||r===Es)return-1;if(r===As||u===Es)return 1;{const o=zo(u),c=zo(r);return null!==o?null!==c?o-c==0?u.length-r.length:o-c:-1:null!==c?1:u<r?-1:1}},sa=function(u,r){return u===r?0:u<r?-1:1},Mi=function(u,r){if(r&&u in r)return r[u];throw new Error("Missing required key ("+u+") in object: "+(0,U.Wl)(r))},Hi=function(u){if("object"!=typeof u||null===u)return(0,U.Wl)(u);const r=[];for(const c in u)r.push(c);r.sort();let o="{";for(let c=0;c<r.length;c++)0!==c&&(o+=","),o+=(0,U.Wl)(r[c]),o+=":",o+=Hi(u[r[c]]);return o+="}",o},ll=function(u,r){const o=u.length;if(o<=r)return[u];const c=[];for(let p=0;p<o;p+=r)c.push(u.substring(p,p+r>o?o:p+r));return c};function eo(u,r){for(const o in u)u.hasOwnProperty(o)&&r(o,u[o])}const ul=function(u){(0,U.hu)(!xr(u),"Invalid JSON number");const c=1023;let p,w,A,$,X;0===u?(w=0,A=0,p=1/u==-1/0?1:0):(p=u<0,(u=Math.abs(u))>=Math.pow(2,1-c)?($=Math.min(Math.floor(Math.log(u)/Math.LN2),c),w=$+c,A=Math.round(u*Math.pow(2,52-$)-Math.pow(2,52))):(w=0,A=Math.round(u/Math.pow(2,-1074))));const ue=[];for(X=52;X;X-=1)ue.push(A%2?1:0),A=Math.floor(A/2);for(X=11;X;X-=1)ue.push(w%2?1:0),w=Math.floor(w/2);ue.push(p?1:0),ue.reverse();const Qe=ue.join("");let at="";for(X=0;X<64;X+=8){let Et=parseInt(Qe.substr(X,8),2).toString(16);1===Et.length&&(Et="0"+Et),at+=Et}return at.toLowerCase()},vi=new RegExp("^-?(0*)\\d{1,10}$"),zo=function(u){if(vi.test(u)){const r=Number(u);if(r>=-2147483648&&r<=2147483647)return r}return null},Wa=function(u){try{u()}catch(r){setTimeout(()=>{throw wr("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},ga=function(u,r){const o=setTimeout(u,r);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class dl{constructor(r,o){this.appName_=r,this.appCheckProvider=o,this.appCheck=null==o?void 0:o.getImmediate({optional:!0}),this.appCheck||null==o||o.get().then(c=>this.appCheck=c)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((o,c)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(o,c):o(null)},0)})}addTokenChangeListener(r){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(c=>c.addTokenListener(r))}notifyForInvalidToken(){wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Tc{constructor(r,o,c){this.appName_=r,this.firebaseOptions_=o,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(p=>this.auth_=p)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(o=>o&&"auth/token-not-initialized"===o.code?(Zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,c)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(o,c):o(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(o=>o.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(o=>o.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wr(r)}}let us=(()=>{class u{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const cs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Po="websocket",Bu="long_polling";class Rl{constructor(r,o,c,p,w=!1,A="",$=!1,X=!1){this.secure=o,this.namespace=c,this.webSocketOnly=p,this.nodeAdmin=w,this.persistenceKey=A,this.includeNamespaceInQueryParams=$,this.isUsingEmulator=X,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ws.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Ws.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function re(u,r,o){let c;if((0,U.hu)("string"==typeof r,"typeof type must == string"),(0,U.hu)("object"==typeof o,"typeof params must == object"),r===Po)c=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(r!==Bu)throw new Error("Unknown connection type: "+r);c=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function V(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(o.ns=u.namespace);const p=[];return eo(o,(w,A)=>{p.push(w+"="+A)}),c+p.join("&")}class H{constructor(){this.counters_={}}incrementCounter(r,o=1){(0,U.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=o}get(){return(0,U.p$)(this.counters_)}}const me={},Ke={};function Ut(u){const r=u.toString();return me[r]||(me[r]=new H),me[r]}class Qn{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,o){this.closeAfterResponse=r,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,o){for(this.pendingResponses[r]=o;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<c.length;++p)c[p]&&Wa(()=>{this.onMessage_(c[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Is{constructor(r,o,c,p,w,A,$){this.connId=r,this.repoInfo=o,this.applicationId=c,this.appCheckToken=p,this.authToken=w,this.transportSessionId=A,this.lastSessionId=$,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pn(r),this.stats_=Ut(o),this.urlFn=X=>(this.appCheckToken&&(X.ac=this.appCheckToken),re(o,Bu,X))}open(r,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new Qn(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,U.Yr)()||"complete"===document.readyState)u();else{let r=!1;const o=function(){document.body?r||(r=!0,u()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pd((...w)=>{const[A,$,X,ue,Qe]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===A)this.id=$,this.password=X;else{if("close"!==A)throw new Error("Unrecognized command received: "+A);$?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter($,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[A,$]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(A,$)},()=>{this.onClosed_()},this.urlFn);const c={start:"t"};c.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(c.cb=this.scriptTagHolder.uniqueCallbackIdentifier),c.v="5",this.transportSessionId&&(c.s=this.transportSessionId),this.lastSessionId&&(c.ls=this.lastSessionId),this.applicationId&&(c.p=this.applicationId),this.appCheckToken&&(c.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&cs.test(location.hostname)&&(c.r="f");const p=this.urlFn(c);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Is.forceAllow_=!0}static forceDisallow(){Is.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Is.forceAllow_&&(Is.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const o=(0,U.Wl)(r);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const c=(0,U.h$)(o),p=ll(c,1840);for(let w=0;w<p.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[w]),this.curSegmentNum++}addDisconnectPingFrame(r,o){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const c={dframe:"t"};c.id=r,c.pw=o,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const o=(0,U.Wl)(r).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class pd{constructor(r,o,c,p){if(this.onDisconnect=c,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=r,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=j(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=pd.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const A="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(A),this.myIFrame.doc.close()}catch($){Zt("frame writing exception"),$.stack&&Zt($.stack),Zt($)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Zt("No IE domain setting required")}catch{const c=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,o){for(this.myID=r,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let o=this.urlFn(r),c="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+c.length<=1870;){const A=this.pendingSegs.shift();c=c+"&seg"+p+"="+A.seg+"&ts"+p+"="+A.ts+"&d"+p+"="+A.d,p++}return o+=c,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(r,o,c){this.pendingSegs.push({seg:r,ts:o,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(r,o){this.outstandingRequests.add(o);const c=()=>{this.outstandingRequests.delete(o),this.newRequest_()},p=setTimeout(c,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(p),c()})}addTag(r,o){(0,U.Yr)()?this.doNodeLongPoll(r,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=r,c.onload=c.onreadystatechange=function(){const p=c.readyState;(!p||"loaded"===p||"complete"===p)&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),o())},c.onerror=()=>{Zt("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}let Pl=null;typeof MozWebSocket<"u"?Pl=MozWebSocket:typeof WebSocket<"u"&&(Pl=WebSocket);let Za=(()=>{class u{constructor(o,c,p,w,A,$,X){this.connId=o,this.applicationId=p,this.appCheckToken=w,this.authToken=A,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pn(this.connId),this.stats_=Ut(c),this.connURL=u.connectionURL_(c,$,X,w,p),this.nodeAdmin=c.nodeAdmin}static connectionURL_(o,c,p,w,A){const $={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&cs.test(location.hostname)&&($.r="f"),c&&($.s=c),p&&($.ls=p),w&&($.ac=w),A&&($.p=A),re(o,Po,$)}open(o,c){this.onDisconnect=c,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ws.set("previous_websocket_failure",!0);try{let p;if((0,U.Yr)()){p={headers:{"User-Agent":`Firebase/5/${Sr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const A=process.env,$=0===this.connURL.indexOf("wss://")?A.HTTPS_PROXY||A.https_proxy:A.HTTP_PROXY||A.http_proxy;$&&(p.proxy={origin:$})}this.mySock=new Pl(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const w=p.message||p.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const w=p.message||p.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(o=!0)}return!o&&null!==Pl&&!u.forceDisallow_}static previouslyFailed(){return Ws.isInMemoryStorage||!0===Ws.get("previous_websocket_failure")}markConnectionHealthy(){Ws.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const c=this.frames.join("");this.frames=null;const p=(0,U.cI)(c);this.onMessage(p)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const c=Number(o);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const c=o.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{const p=this.extractFrameCount_(c);null!==p&&this.appendFrame_(p)}}send(o){this.resetKeepAlive();const c=(0,U.Wl)(o);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const p=ll(c,16384);p.length>1&&this.sendString_(String(p.length));for(let w=0;w<p.length;w++)this.sendString_(p[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Ac=(()=>{class u{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[Is,Za]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const c=Za&&Za.isAvailable();let p=c&&!Za.previouslyFailed();if(o.webSocketOnly&&(c||wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[Za];else{const w=this.transports_=[];for(const A of u.ALL_TRANSPORTS)A&&A.isAvailable()&&w.push(A);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class Ma{constructor(r,o,c,p,w,A,$,X,ue,Qe){this.id=r,this.repoInfo_=o,this.applicationId_=c,this.appCheckToken_=p,this.authToken_=w,this.onMessage_=A,this.onReady_=$,this.onDisconnect_=X,this.onKill_=ue,this.lastSessionId=Qe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pn("c:"+this.id+":"),this.transportManager_=new Ac(o),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,c)},Math.floor(0));const p=r.healthyTimeout||0;p>0&&(this.healthyTimeout_=ga(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return o=>{r===this.conn_?this.onConnectionLost_(o):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return o=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(o):r===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const o=r.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const o=Mi("t",r),c=Mi("d",r);if("c"===o)this.onSecondaryControl_(c);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(c)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const o=Mi("t",r),c=Mi("d",r);"c"===o?this.onControl_(c):"d"===o&&this.onDataMessage_(c)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const o=Mi("t",r);if("d"in r){const c=r.d;if("h"===o){const p=Object.assign({},c);this.repoInfo_.isUsingEmulator&&(p.h=this.repoInfo_.host),this.onHandshake_(p)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(c):"r"===o?this.onReset_(c):"e"===o?jr("Server Error: "+c):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jr("Unknown control packet command: "+o)}}onHandshake_(r){const o=r.ts,c=r.v,p=r.h;this.sessionId=r.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==c&&wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,c),ga(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,o){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ga(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ws.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fl{put(r,o,c,p){}merge(r,o,c,p){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,o,c){}onDisconnectMerge(r,o,c){}onDisconnectCancel(r,o){}reportStats(r){}}class xc{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,U.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...o){if(Array.isArray(this.listeners_[r])){const c=[...this.listeners_[r]];for(let p=0;p<c.length;p++)c[p].callback.apply(c[p].context,o)}}on(r,o,c){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:o,context:c});const p=this.getInitialEvent(r);p&&o.apply(c,p)}off(r,o,c){this.validateEventType_(r);const p=this.listeners_[r]||[];for(let w=0;w<p.length;w++)if(p[w].callback===o&&(!c||c===p[w].context))return void p.splice(w,1)}validateEventType_(r){(0,U.hu)(this.allowedEvents_.find(o=>o===r),"Unknown event: "+r)}}class Qa extends xc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qa}getInitialEvent(r){return(0,U.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Ei{constructor(r,o){if(void 0===o){this.pieces_=r.split("/");let c=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[c]=this.pieces_[p],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=o}toString(){let r="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(r+="/"+this.pieces_[o]);return r||"/"}}function li(){return new Ei("")}function Ir(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function Ra(u){return u.pieces_.length-u.pieceNum_}function Yi(u){let r=u.pieceNum_;return r<u.pieces_.length&&r++,new Ei(u.pieces_,r)}function to(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function Li(u,r=0){return u.pieces_.slice(u.pieceNum_+r)}function Ft(u){if(u.pieceNum_>=u.pieces_.length)return null;const r=[];for(let o=u.pieceNum_;o<u.pieces_.length-1;o++)r.push(u.pieces_[o]);return new Ei(r,0)}function Zi(u,r){const o=[];for(let c=u.pieceNum_;c<u.pieces_.length;c++)o.push(u.pieces_[c]);if(r instanceof Ei)for(let c=r.pieceNum_;c<r.pieces_.length;c++)o.push(r.pieces_[c]);else{const c=r.split("/");for(let p=0;p<c.length;p++)c[p].length>0&&o.push(c[p])}return new Ei(o,0)}function Tr(u){return u.pieceNum_>=u.pieces_.length}function ao(u,r){const o=Ir(u),c=Ir(r);if(null===o)return r;if(o===c)return ao(Yi(u),Yi(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+u+")")}function $u(u,r){const o=Li(u,0),c=Li(r,0);for(let p=0;p<o.length&&p<c.length;p++){const w=so(o[p],c[p]);if(0!==w)return w}return o.length===c.length?0:o.length<c.length?-1:1}function xa(u,r){if(Ra(u)!==Ra(r))return!1;for(let o=u.pieceNum_,c=r.pieceNum_;o<=u.pieces_.length;o++,c++)if(u.pieces_[o]!==r.pieces_[c])return!1;return!0}function Wo(u,r){let o=u.pieceNum_,c=r.pieceNum_;if(Ra(u)>Ra(r))return!1;for(;o<u.pieces_.length;){if(u.pieces_[o]!==r.pieces_[c])return!1;++o,++c}return!0}class Fo{constructor(r,o){this.errorPrefix_=o,this.parts_=Li(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=(0,U.ug)(this.parts_[c]);M(this)}}function M(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+O(u))}function O(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class D extends xc{constructor(){let r,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const c=!document[r];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}static getInstance(){return new D}getInitialEvent(r){return(0,U.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const F=1e3;let lo,lr=(()=>{class u extends fl{constructor(o,c,p,w,A,$,X,ue){if(super(),this.repoInfo_=o,this.applicationId_=c,this.onDataUpdate_=p,this.onConnectStatus_=w,this.onServerInfoUpdate_=A,this.authTokenProvider_=$,this.appCheckTokenProvider_=X,this.authOverride_=ue,this.id=u.nextPersistentConnectionId_++,this.log_=pn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=F,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ue&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");D.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Qa.getInstance().on("online",this.onOnline_,this)}sendRequest(o,c,p){const w=++this.requestNumber_,A={r:w,a:o,b:c};this.log_((0,U.Wl)(A)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(A),p&&(this.requestCBHash_[w]=p)}get(o){this.initConnection_();const c=new U.BH,w={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:$=>{const X=$.d;"ok"===$.s?c.resolve(X):c.reject(X)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),c.promise}listen(o,c,p,w){this.initConnection_();const A=o._queryIdentifier,$=o._path.toString();this.log_("Listen called for "+$+" "+A),this.listens.has($)||this.listens.set($,new Map),(0,U.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get($).has(A),"listen() called twice for same path/queryId.");const X={onComplete:w,hashFn:c,query:o,tag:p};this.listens.get($).set(A,X),this.connected_&&this.sendListen_(X)}sendGet_(o){const c=this.outstandingGets_[o];this.sendRequest("g",c.request,p=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),c.onComplete&&c.onComplete(p)})}sendListen_(o){const c=o.query,p=c._path.toString(),w=c._queryIdentifier;this.log_("Listen on "+p+" for "+w);const A={p};o.tag&&(A.q=c._queryObject,A.t=o.tag),A.h=o.hashFn(),this.sendRequest("q",A,X=>{const ue=X.d,Qe=X.s;u.warnOnListenWarnings_(ue,c),(this.listens.get(p)&&this.listens.get(p).get(w))===o&&(this.log_("listen response",X),"ok"!==Qe&&this.removeListen_(p,w),o.onComplete&&o.onComplete(Qe,ue))})}static warnOnListenWarnings_(o,c){if(o&&"object"==typeof o&&(0,U.r3)(o,"w")){const p=(0,U.DV)(o,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const w='".indexOn": "'+c._queryParams.getIndex().toString()+'"',A=c._path.toString();wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${A} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,U.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,c=(0,U.w9)(o)?"auth":"gauth",p={cred:o};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(c,p,w=>{const A=w.s,$=w.d||"error";this.authToken_===o&&("ok"===A?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(A,$))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const c=o.s,p=o.d||"error";"ok"===c?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(c,p)})}unlisten(o,c){const p=o._path.toString(),w=o._queryIdentifier;this.log_("Unlisten called for "+p+" "+w),(0,U.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,w)&&this.connected_&&this.sendUnlisten_(p,w,o._queryObject,c)}sendUnlisten_(o,c,p,w){this.log_("Unlisten on "+o+" for "+c);const A={p:o};w&&(A.q=p,A.t=w),this.sendRequest("n",A)}onDisconnectPut(o,c,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,c,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:c,onComplete:p})}onDisconnectMerge(o,c,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,c,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:c,onComplete:p})}onDisconnectCancel(o,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,c):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:c})}sendOnDisconnect_(o,c,p,w){const A={p:c,d:p};this.log_("onDisconnect "+o,A),this.sendRequest(o,A,$=>{w&&setTimeout(()=>{w($.s,$.d)},Math.floor(0))})}put(o,c,p,w){this.putInternal("p",o,c,p,w)}merge(o,c,p,w){this.putInternal("m",o,c,p,w)}putInternal(o,c,p,w,A){this.initConnection_();const $={p:c,d:p};void 0!==A&&($.h=A),this.outstandingPuts_.push({action:o,request:$,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+c)}sendPut_(o){const c=this.outstandingPuts_[o].action,p=this.outstandingPuts_[o].request,w=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(c,p,A=>{this.log_(c+" response",A),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(A.s,A.d)})}reportStats(o){if(this.connected_){const c={c:o};this.log_("reportStats",c),this.sendRequest("s",c,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,U.Wl)(o));const c=o.r,p=this.requestCBHash_[c];p&&(delete this.requestCBHash_[c],p(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,c){this.log_("handleServerMessage",o,c),"d"===o?this.onDataUpdate_(c.p,c.d,!1,c.t):"m"===o?this.onDataUpdate_(c.p,c.d,!0,c.t):"c"===o?this.onListenRevoked_(c.p,c.q):"ac"===o?this.onAuthRevoked_(c.s,c.d):"apc"===o?this.onAppCheckRevoked_(c.s,c.d):"sd"===o?this.onSecurityDebugPacket_(c):jr("Unrecognized action received from server: "+(0,U.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,c){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=c,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=F,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=F,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=F),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let c=Math.max(0,this.reconnectDelay_-o);c=Math.random()*c,this.log_("Trying to reconnect in "+c+"ms"),this.scheduleConnect_(c),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Nn.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const c=o.onDataMessage_.bind(o),p=o.onReady_.bind(o),w=o.onRealtimeDisconnect_.bind(o),A=o.id+":"+u.nextConnectionId_++,$=o.lastSessionId;let X=!1,ue=null;const Qe=function(){ue?ue.close():(X=!0,w())};o.realtime_={close:Qe,sendRequest:function($t){(0,U.hu)(ue,"sendRequest call when we're not connected not allowed."),ue.sendRequest($t)}};const Et=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[$t,Ht]=yield Promise.all([o.authTokenProvider_.getToken(Et),o.appCheckTokenProvider_.getToken(Et)]);X?Zt("getToken() completed but was canceled"):(Zt("getToken() completed. Creating connection."),o.authToken_=$t&&$t.accessToken,o.appCheckToken_=Ht&&Ht.token,ue=new Ma(A,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,c,p,w,cn=>{wr(cn+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},$))}catch($t){o.log_("Failed to get token: "+$t),X||(o.repoInfo_.nodeAdmin&&wr($t),Qe())}}})()}interrupt(o){Zt("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){Zt("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=F,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const c=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:c})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const c=this.outstandingPuts_[o];c&&"h"in c.request&&c.queued&&(c.onComplete&&c.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,c){let p;p=c?c.map(A=>Hi(A)).join("$"):"default";const w=this.removeListen_(o,p);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(o,c){const p=new Ei(o).toString();let w;if(this.listens.has(p)){const A=this.listens.get(p);w=A.get(c),A.delete(c),0===A.size&&this.listens.delete(p)}else w=void 0;return w}onAuthRevoked_(o,c){Zt("Auth token revoked: "+o+"/"+c),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,c){Zt("App check token revoked: "+o+"/"+c),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const c of o.values())this.sendListen_(c);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let c="js";(0,U.Yr)()&&(c=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+c+"."+Sr.replace(/\./g,"-")]=1,(0,U.uI)()?o["framework.cordova"]=1:(0,U.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Qa.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&o}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class mn{constructor(r,o){this.name=r,this.node=o}static Wrap(r,o){return new mn(r,o)}}class Bi{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,o){const c=new mn(As,r),p=new mn(As,o);return 0!==this.compare(c,p)}minPost(){return mn.MIN}}class Xo extends Bi{static get __EMPTY_NODE(){return lo}static set __EMPTY_NODE(r){lo=r}compare(r,o){return so(r.name,o.name)}isDefinedOn(r){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,o){return!1}minPost(){return mn.MIN}maxPost(){return new mn(Es,lo)}makePost(r,o){return(0,U.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new mn(r,lo)}toString(){return".key"}}const no=new Xo;class pl{constructor(r,o,c,p,w=null){this.isReverse_=p,this.resultGenerator_=w,this.nodeStack_=[];let A=1;for(;!r.isEmpty();)if(A=o?c(r.key,o):1,p&&(A*=-1),A<0)r=this.isReverse_?r.left:r.right;else{if(0===A){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,r=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let xp,uo=(()=>{class u{constructor(o,c,p,w,A){this.key=o,this.value=c,this.color=null!=p?p:u.RED,this.left=null!=w?w:hs.EMPTY_NODE,this.right=null!=A?A:hs.EMPTY_NODE}copy(o,c,p,w,A){return new u(null!=o?o:this.key,null!=c?c:this.value,null!=p?p:this.color,null!=w?w:this.left,null!=A?A:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,c,p){let w=this;const A=p(o,w.key);return w=A<0?w.copy(null,null,null,w.left.insert(o,c,p),null):0===A?w.copy(null,c,null,null,null):w.copy(null,null,null,null,w.right.insert(o,c,p)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return hs.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,c){let p,w;if(p=this,c(o,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(o,c),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===c(o,p.key)){if(p.right.isEmpty())return hs.EMPTY_NODE;w=p.right.min_(),p=p.copy(w.key,w.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(o,c))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,c)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class hs{constructor(r,o=hs.EMPTY_NODE){this.comparator_=r,this.root_=o}insert(r,o){return new hs(this.comparator_,this.root_.insert(r,o,this.comparator_).copy(null,null,uo.BLACK,null,null))}remove(r){return new hs(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,uo.BLACK,null,null))}get(r){let o,c=this.root_;for(;!c.isEmpty();){if(o=this.comparator_(r,c.key),0===o)return c.value;o<0?c=c.left:o>0&&(c=c.right)}return null}getPredecessorKey(r){let o,c=this.root_,p=null;for(;!c.isEmpty();){if(o=this.comparator_(r,c.key),0===o){if(c.left.isEmpty())return p?p.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}o<0?c=c.left:o>0&&(p=c,c=c.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new pl(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,o){return new pl(this.root_,r,this.comparator_,!1,o)}getReverseIteratorFrom(r,o){return new pl(this.root_,r,this.comparator_,!0,o)}getReverseIterator(r){return new pl(this.root_,null,this.comparator_,!0,r)}}function Uu(u,r){return so(u.name,r.name)}function Xa(u,r){return so(u,r)}hs.EMPTY_NODE=new class gd{copy(r,o,c,p,w){return this}insert(r,o,c){return new uo(r,o,null)}remove(r,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const md=function(u){return"number"==typeof u?"number:"+ul(u):"string:"+u},Ef=function(u){if(u.isLeafNode()){const r=u.val();(0,U.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,U.r3)(r,".sv"),"Priority must be a string or number.")}else(0,U.hu)(u===xp||u.isEmpty(),"priority of unexpected type.");(0,U.hu)(u===xp||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ja,iu,uh,Oc=(()=>{class u{constructor(o,c=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=c,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ef(this.priorityNode_)}static set __childrenNodeConstructor(o){Ja=o}static get __childrenNodeConstructor(){return Ja}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new u(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Tr(o)?this:".priority"===Ir(o)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,c){return null}updateImmediateChild(o,c){return".priority"===o?this.updatePriority(c):c.isEmpty()&&".priority"!==o?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,c).updatePriority(this.priorityNode_)}updateChild(o,c){const p=Ir(o);return null===p?c:c.isEmpty()&&".priority"!==p?this:((0,U.hu)(".priority"!==p||1===Ra(o),".priority must be the last token in a path"),this.updateImmediateChild(p,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yi(o),c)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,c){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+md(this.priorityNode_.val())+":");const c=typeof this.value_;o+=c+":",o+="number"===c?ul(this.value_):this.value_,this.lazyHash_=C(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===u.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof u.__childrenNodeConstructor?-1:((0,U.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const c=typeof o.value_,p=typeof this.value_,w=u.VALUE_TYPE_ORDER.indexOf(c),A=u.VALUE_TYPE_ORDER.indexOf(p);return(0,U.hu)(w>=0,"Unknown leaf type: "+c),(0,U.hu)(A>=0,"Unknown leaf type: "+p),w===A?"object"===p?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:A-w}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const Gi=new class vd extends Bi{compare(r,o){const c=r.node.getPriority(),p=o.node.getPriority(),w=c.compareTo(p);return 0===w?so(r.name,o.name):w}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,o){return!r.getPriority().equals(o.getPriority())}minPost(){return mn.MIN}maxPost(){return new mn(Es,new Oc("[PRIORITY-POST]",uh))}makePost(r,o){const c=iu(r);return new mn(o,new Oc("[PRIORITY-POST]",c))}toString(){return".priority"}},Eo=Math.log(2);class ju{constructor(r){this.count=parseInt(Math.log(r+1)/Eo,10),this.current_=this.count-1;const p=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&p}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Pa=function(u,r,o,c){u.sort(r);const p=function(X,ue){const Qe=ue-X;let at,Et;if(0===Qe)return null;if(1===Qe)return at=u[X],Et=o?o(at):at,new uo(Et,at.node,uo.BLACK,null,null);{const $t=parseInt(Qe/2,10)+X,Ht=p(X,$t),cn=p($t+1,ue);return at=u[$t],Et=o?o(at):at,new uo(Et,at.node,uo.BLACK,Ht,cn)}},$=function(X){let ue=null,Qe=null,at=u.length;const Et=function(Ht,cn){const Pn=at-Ht,Cr=at;at-=Ht;const ni=p(Pn+1,Cr),wi=u[Pn],bi=o?o(wi):wi;$t(new uo(bi,wi.node,cn,null,ni))},$t=function(Ht){ue?(ue.left=Ht,ue=Ht):(Qe=Ht,ue=Ht)};for(let Ht=0;Ht<X.count;++Ht){const cn=X.nextBitIsOne(),Pn=Math.pow(2,X.count-(Ht+1));cn?Et(Pn,uo.BLACK):(Et(Pn,uo.BLACK),Et(Pn,uo.RED))}return Qe}(new ju(u.length));return new hs(c||r,$)};let _d;const Ri={};class Lo{constructor(r,o){this.indexes_=r,this.indexSet_=o}static get Default(){return(0,U.hu)(Ri&&Gi,"ChildrenNode.ts has not been loaded"),_d=_d||new Lo({".priority":Ri},{".priority":Gi}),_d}get(r){const o=(0,U.DV)(this.indexes_,r);if(!o)throw new Error("No index defined for "+r);return o instanceof hs?o:null}hasIndex(r){return(0,U.r3)(this.indexSet_,r.toString())}addIndex(r,o){(0,U.hu)(r!==no,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let p=!1;const w=o.getIterator(mn.Wrap);let $,A=w.getNext();for(;A;)p=p||r.isDefinedOn(A.node),c.push(A),A=w.getNext();$=p?Pa(c,r.getCompare()):Ri;const X=r.toString(),ue=Object.assign({},this.indexSet_);ue[X]=r;const Qe=Object.assign({},this.indexes_);return Qe[X]=$,new Lo(Qe,ue)}addToIndexes(r,o){const c=(0,U.UI)(this.indexes_,(p,w)=>{const A=(0,U.DV)(this.indexSet_,w);if((0,U.hu)(A,"Missing index implementation for "+w),p===Ri){if(A.isDefinedOn(r.node)){const $=[],X=o.getIterator(mn.Wrap);let ue=X.getNext();for(;ue;)ue.name!==r.name&&$.push(ue),ue=X.getNext();return $.push(r),Pa($,A.getCompare())}return Ri}{const $=o.get(r.name);let X=p;return $&&(X=X.remove(new mn(r.name,$))),X.insert(r,r.node)}});return new Lo(c,this.indexSet_)}removeFromIndexes(r,o){const c=(0,U.UI)(this.indexes_,p=>{if(p===Ri)return p;{const w=o.get(r.name);return w?p.remove(new mn(r.name,w)):p}});return new Lo(c,this.indexSet_)}}let Qi,tr=(()=>{class u{constructor(o,c,p){this.children_=o,this.priorityNode_=c,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&Ef(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qi||(Qi=new u(new hs(Xa),null,Lo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qi}updatePriority(o){return this.children_.isEmpty()?this:new u(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const c=this.children_.get(o);return null===c?Qi:c}}getChild(o){const c=Ir(o);return null===c?this:this.getImmediateChild(c).getChild(Yi(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,c){if((0,U.hu)(c,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(c);{const p=new mn(o,c);let w,A;c.isEmpty()?(w=this.children_.remove(o),A=this.indexMap_.removeFromIndexes(p,this.children_)):(w=this.children_.insert(o,c),A=this.indexMap_.addToIndexes(p,this.children_));const $=w.isEmpty()?Qi:this.priorityNode_;return new u(w,$,A)}}updateChild(o,c){const p=Ir(o);if(null===p)return c;{(0,U.hu)(".priority"!==Ir(o)||1===Ra(o),".priority must be the last token in a path");const w=this.getImmediateChild(p).updateChild(Yi(o),c);return this.updateImmediateChild(p,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const c={};let p=0,w=0,A=!0;if(this.forEachChild(Gi,($,X)=>{c[$]=X.val(o),p++,A&&u.INTEGER_REGEXP_.test($)?w=Math.max(w,Number($)):A=!1}),!o&&A&&w<2*p){const $=[];for(const X in c)$[X]=c[X];return $}return o&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+md(this.getPriority().val())+":"),this.forEachChild(Gi,(c,p)=>{const w=p.hash();""!==w&&(o+=":"+c+":"+w)}),this.lazyHash_=""===o?"":C(o)}return this.lazyHash_}getPredecessorChildName(o,c,p){const w=this.resolveIndex_(p);if(w){const A=w.getPredecessorKey(new mn(o,c));return A?A.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const c=this.resolveIndex_(o);if(c){const p=c.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(o){const c=this.getFirstChildName(o);return c?new mn(c,this.children_.get(c)):null}getLastChildName(o){const c=this.resolveIndex_(o);if(c){const p=c.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(o){const c=this.getLastChildName(o);return c?new mn(c,this.children_.get(c)):null}forEachChild(o,c){const p=this.resolveIndex_(o);return p?p.inorderTraversal(w=>c(w.name,w.node)):this.children_.inorderTraversal(c)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,c){const p=this.resolveIndex_(c);if(p)return p.getIteratorFrom(o,w=>w);{const w=this.children_.getIteratorFrom(o.name,mn.Wrap);let A=w.peek();for(;null!=A&&c.compare(A,o)<0;)w.getNext(),A=w.peek();return w}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,c){const p=this.resolveIndex_(c);if(p)return p.getReverseIteratorFrom(o,w=>w);{const w=this.children_.getReverseIteratorFrom(o.name,mn.Wrap);let A=w.peek();for(;null!=A&&c.compare(A,o)>0;)w.getNext(),A=w.peek();return w}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Oa?-1:0}withIndex(o){if(o===no||this.indexMap_.hasIndex(o))return this;{const c=this.indexMap_.addIndex(o,this.children_);return new u(this.children_,this.priorityNode_,c)}}isIndexed(o){return o===no||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const c=o;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){const p=this.getIterator(Gi),w=c.getIterator(Gi);let A=p.getNext(),$=w.getNext();for(;A&&$;){if(A.name!==$.name||!A.node.equals($.node))return!1;A=p.getNext(),$=w.getNext()}return null===A&&null===$}return!1}return!1}}resolveIndex_(o){return o===no?null:this.indexMap_.get(o.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const Oa=new class dh extends tr{constructor(){super(new hs(Xa),tr.EMPTY_NODE,Lo.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return tr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(mn,{MIN:{value:new mn(As,tr.EMPTY_NODE)},MAX:{value:new mn(Es,Oa)}}),Xo.__EMPTY_NODE=tr.EMPTY_NODE,Oc.__childrenNodeConstructor=tr,function Pp(u){xp=u}(Oa),function ch(u){uh=u}(Oa);const co=!0;function Ms(u,r=null){if(null===u)return tr.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(r=u[".priority"]),(0,U.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new Oc(u,Ms(r));if(u instanceof Array||!co){let o=tr.EMPTY_NODE;return eo(u,(c,p)=>{if((0,U.r3)(u,c)&&"."!==c.substring(0,1)){const w=Ms(p);(w.isLeafNode()||!w.isEmpty())&&(o=o.updateImmediateChild(c,w))}}),o.updatePriority(Ms(r))}{const o=[];let c=!1;if(eo(u,(A,$)=>{if("."!==A.substring(0,1)){const X=Ms($);X.isEmpty()||(c=c||!X.getPriority().isEmpty(),o.push(new mn(A,X)))}}),0===o.length)return tr.EMPTY_NODE;const w=Pa(o,Uu,A=>A.name,Xa);if(c){const A=Pa(o,Gi.getCompare());return new tr(w,Ms(r),new Lo({".priority":A},{".priority":Gi}))}return new tr(w,Ms(r),Lo.Default)}}!function yd(u){iu=u}(Ms);class hh extends Bi{constructor(r){super(),this.indexPath_=r,(0,U.hu)(!Tr(r)&&".priority"!==Ir(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,o){const c=this.extractChild(r.node),p=this.extractChild(o.node),w=c.compareTo(p);return 0===w?so(r.name,o.name):w}makePost(r,o){const c=Ms(r),p=tr.EMPTY_NODE.updateChild(this.indexPath_,c);return new mn(o,p)}maxPost(){const r=tr.EMPTY_NODE.updateChild(this.indexPath_,Oa);return new mn(Es,r)}toString(){return Li(this.indexPath_,0).join("/")}}const wf=new class Vs extends Bi{compare(r,o){const c=r.node.compareTo(o.node);return 0===c?so(r.name,o.name):c}isDefinedOn(r){return!0}indexedValueChanged(r,o){return!r.equals(o)}minPost(){return mn.MIN}maxPost(){return mn.MAX}makePost(r,o){const c=Ms(r);return new mn(o,c)}toString(){return".value"}};function gl(u){return{type:"value",snapshotNode:u}}function $i(u,r){return{type:"child_added",snapshotNode:r,childName:u}}function Oo(u,r){return{type:"child_removed",snapshotNode:r,childName:u}}function _a(u,r,o){return{type:"child_changed",snapshotNode:r,childName:u,oldSnap:o}}class su{constructor(r){this.index_=r}updateChild(r,o,c,p,w,A){(0,U.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const $=r.getImmediateChild(o);return $.getChild(p).equals(c.getChild(p))&&$.isEmpty()===c.isEmpty()||(null!=A&&(c.isEmpty()?r.hasChild(o)?A.trackChildChange(Oo(o,$)):(0,U.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):$.isEmpty()?A.trackChildChange($i(o,c)):A.trackChildChange(_a(o,c,$))),r.isLeafNode()&&c.isEmpty())?r:r.updateImmediateChild(o,c).withIndex(this.index_)}updateFullNode(r,o,c){return null!=c&&(r.isLeafNode()||r.forEachChild(Gi,(p,w)=>{o.hasChild(p)||c.trackChildChange(Oo(p,w))}),o.isLeafNode()||o.forEachChild(Gi,(p,w)=>{if(r.hasChild(p)){const A=r.getImmediateChild(p);A.equals(w)||c.trackChildChange(_a(p,w,A))}else c.trackChildChange($i(p,w))})),o.withIndex(this.index_)}updatePriority(r,o){return r.isEmpty()?tr.EMPTY_NODE:r.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fl{constructor(r){this.indexedFilter_=new su(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Fl.getStartPost_(r),this.endPost_=Fl.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,c=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return o&&c}updateChild(r,o,c,p,w,A){return this.matches(new mn(o,c))||(c=tr.EMPTY_NODE),this.indexedFilter_.updateChild(r,o,c,p,w,A)}updateFullNode(r,o,c){o.isLeafNode()&&(o=tr.EMPTY_NODE);let p=o.withIndex(this.index_);p=p.updatePriority(tr.EMPTY_NODE);const w=this;return o.forEachChild(Gi,(A,$)=>{w.matches(new mn(A,$))||(p=p.updateImmediateChild(A,tr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,p,c)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const o=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),o)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const o=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),o)}return r.getIndex().maxPost()}}class Jo{constructor(r){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=o=>{const c=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new Fl(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,o,c,p,w,A){return this.rangedFilter_.matches(new mn(o,c))||(c=tr.EMPTY_NODE),r.getImmediateChild(o).equals(c)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,o,c,p,w,A):this.fullLimitUpdateChild_(r,o,c,w,A)}updateFullNode(r,o,c){let p;if(o.isLeafNode()||o.isEmpty())p=tr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let w;p=tr.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let A=0;for(;w.hasNext()&&A<this.limit_;){const $=w.getNext();if(this.withinDirectionalStart($)){if(!this.withinDirectionalEnd($))break;p=p.updateImmediateChild($.name,$.node),A++}}}else{let w;p=o.withIndex(this.index_),p=p.updatePriority(tr.EMPTY_NODE),w=this.reverse_?p.getReverseIterator(this.index_):p.getIterator(this.index_);let A=0;for(;w.hasNext();){const $=w.getNext();A<this.limit_&&this.withinDirectionalStart($)&&this.withinDirectionalEnd($)?A++:p=p.updateImmediateChild($.name,tr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,p,c)}updatePriority(r,o){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,o,c,p,w){let A;if(this.reverse_){const at=this.index_.getCompare();A=(Et,$t)=>at($t,Et)}else A=this.index_.getCompare();const $=r;(0,U.hu)($.numChildren()===this.limit_,"");const X=new mn(o,c),ue=this.reverse_?$.getFirstChild(this.index_):$.getLastChild(this.index_),Qe=this.rangedFilter_.matches(X);if($.hasChild(o)){const at=$.getImmediateChild(o);let Et=p.getChildAfterChild(this.index_,ue,this.reverse_);for(;null!=Et&&(Et.name===o||$.hasChild(Et.name));)Et=p.getChildAfterChild(this.index_,Et,this.reverse_);const $t=null==Et?1:A(Et,X);if(Qe&&!c.isEmpty()&&$t>=0)return null!=w&&w.trackChildChange(_a(o,c,at)),$.updateImmediateChild(o,c);{null!=w&&w.trackChildChange(Oo(o,at));const cn=$.updateImmediateChild(o,tr.EMPTY_NODE);return null!=Et&&this.rangedFilter_.matches(Et)?(null!=w&&w.trackChildChange($i(Et.name,Et.node)),cn.updateImmediateChild(Et.name,Et.node)):cn}}return c.isEmpty()?r:Qe&&A(ue,X)>=0?(null!=w&&(w.trackChildChange(Oo(ue.name,ue.node)),w.trackChildChange($i(o,c))),$.updateImmediateChild(o,c).updateImmediateChild(ue.name,tr.EMPTY_NODE)):r}}class Na{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:As}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gi}copy(){const r=new Na;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Hu(u,r,o){const c=u.copy();return c.startSet_=!0,void 0===r&&(r=null),c.indexStartValue_=r,null!=o?(c.startNameSet_=!0,c.indexStartName_=o):(c.startNameSet_=!1,c.indexStartName_=""),c}function fh(u,r,o){const c=u.copy();return c.endSet_=!0,void 0===r&&(r=null),c.indexEndValue_=r,void 0!==o?(c.endNameSet_=!0,c.indexEndName_=o):(c.endNameSet_=!1,c.indexEndName_=""),c}function tl(u,r){const o=u.copy();return o.index_=r,o}function Nc(u){const r={};if(u.isDefault())return r;let o;if(u.index_===Gi?o="$priority":u.index_===wf?o="$value":u.index_===no?o="$key":((0,U.hu)(u.index_ instanceof hh,"Unrecognized index type!"),o=u.index_.toString()),r.orderBy=(0,U.Wl)(o),u.startSet_){const c=u.startAfterSet_?"startAfter":"startAt";r[c]=(0,U.Wl)(u.indexStartValue_),u.startNameSet_&&(r[c]+=","+(0,U.Wl)(u.indexStartName_))}if(u.endSet_){const c=u.endBeforeSet_?"endBefore":"endAt";r[c]=(0,U.Wl)(u.indexEndValue_),u.endNameSet_&&(r[c]+=","+(0,U.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?r.limitToFirst=u.limit_:r.limitToLast=u.limit_),r}function zu(u){const r={};if(u.startSet_&&(r.sp=u.indexStartValue_,u.startNameSet_&&(r.sn=u.indexStartName_),r.sin=!u.startAfterSet_),u.endSet_&&(r.ep=u.indexEndValue_,u.endNameSet_&&(r.en=u.indexEndName_),r.ein=!u.endBeforeSet_),u.limitSet_){r.l=u.limit_;let o=u.viewFrom_;""===o&&(o=u.isViewFromLeft()?"l":"r"),r.vf=o}return u.index_!==Gi&&(r.i=u.index_.toString()),r}class Rs extends fl{constructor(r,o,c,p){super(),this.repoInfo_=r,this.onDataUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=p,this.log_=pn("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,o){return void 0!==o?"tag$"+o:((0,U.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,o,c,p){const w=r._path.toString();this.log_("Listen called for "+w+" "+r._queryIdentifier);const A=Rs.getListenId_(r,c),$={};this.listens_[A]=$;const X=Nc(r._queryParams);this.restRequest_(w+".json",X,(ue,Qe)=>{let at=Qe;if(404===ue&&(at=null,ue=null),null===ue&&this.onDataUpdate_(w,at,!1,c),(0,U.DV)(this.listens_,A)===$){let Et;Et=ue?401===ue?"permission_denied":"rest_error:"+ue:"ok",p(Et,null)}})}unlisten(r,o){const c=Rs.getListenId_(r,o);delete this.listens_[c]}get(r){const o=Nc(r._queryParams),c=r._path.toString(),p=new U.BH;return this.restRequest_(c+".json",o,(w,A)=>{let $=A;404===w&&($=null,w=null),null===w?(this.onDataUpdate_(c,$,!1,null),p.resolve($)):p.reject(new Error($))}),p.promise}refreshAuthToken(r){}restRequest_(r,o={},c){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,w])=>{p&&p.accessToken&&(o.auth=p.accessToken),w&&w.token&&(o.ac=w.token);const A=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,U.xO)(o);this.log_("Sending REST request for "+A);const $=new XMLHttpRequest;$.onreadystatechange=()=>{if(c&&4===$.readyState){this.log_("REST Response for "+A+" received. status:",$.status,"response:",$.responseText);let X=null;if($.status>=200&&$.status<300){try{X=(0,U.cI)($.responseText)}catch{wr("Failed to parse JSON response for "+A+": "+$.responseText)}c(null,X)}else 401!==$.status&&404!==$.status&&wr("Got unsuccessful REST response for "+A+" Status: "+$.status),c($.status);c=null}},$.open("GET",A,!0),$.send()})}}class Id{constructor(){this.rootNode_=tr.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,o){this.rootNode_=this.rootNode_.updateChild(r,o)}}function nl(){return{value:null,children:new Map}}function Gu(u,r,o){if(Tr(r))u.value=o,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(r,o);else{const c=Ir(r);u.children.has(c)||u.children.set(c,nl()),Gu(u.children.get(c),r=Yi(r),o)}}function Bo(u,r){if(Tr(r))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const o=u.value;return u.value=null,o.forEachChild(Gi,(c,p)=>{Gu(u,new Ei(c),p)}),Bo(u,r)}}if(u.children.size>0){const o=Ir(r);return r=Yi(r),u.children.has(o)&&Bo(u.children.get(o),r)&&u.children.delete(o),0===u.children.size}return!0}function ka(u,r,o){null!==u.value?o(r,u.value):function If(u,r){u.children.forEach((o,c)=>{r(c,o)})}(u,(c,p)=>{ka(p,new Ei(r.toString()+"/"+c),o)})}class Wu{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),o=Object.assign({},r);return this.last_&&eo(this.last_,(c,p)=>{o[c]=o[c]-p}),this.last_=r,o}}class $o{constructor(r,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Wu(r);const c=1e4+2e4*Math.random();ga(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const r=this.statsListener_.get(),o={};let c=!1;eo(r,(p,w)=>{w>0&&(0,U.r3)(this.statsToReport_,p)&&(o[p]=w,c=!0)}),c&&this.server_.reportStats(o),ga(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ho=(()=>((ho=ho||{})[ho.OVERWRITE=0]="OVERWRITE",ho[ho.MERGE=1]="MERGE",ho[ho.ACK_USER_WRITE=2]="ACK_USER_WRITE",ho[ho.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ho))();function $l(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class Fc{constructor(r,o,c){this.path=r,this.affectedTree=o,this.revert=c,this.type=ho.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Tr(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new Ei(r));return new Fc(li(),o,this.revert)}}return(0,U.hu)(Ir(this.path)===r,"operationForChild called for unrelated child."),new Fc(Yi(this.path),this.affectedTree,this.revert)}}class rl{constructor(r,o){this.source=r,this.path=o,this.type=ho.LISTEN_COMPLETE}operationForChild(r){return Tr(this.path)?new rl(this.source,li()):new rl(this.source,Yi(this.path))}}class Ku{constructor(r,o,c){this.source=r,this.path=o,this.snap=c,this.type=ho.OVERWRITE}operationForChild(r){return Tr(this.path)?new Ku(this.source,li(),this.snap.getImmediateChild(r)):new Ku(this.source,Yi(this.path),this.snap)}}class qu{constructor(r,o,c){this.source=r,this.path=o,this.children=c,this.type=ho.MERGE}operationForChild(r){if(Tr(this.path)){const o=this.children.subtree(new Ei(r));return o.isEmpty()?null:o.value?new Ku(this.source,li(),o.value):new qu(this.source,li(),o)}return(0,U.hu)(Ir(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new qu(this.source,Yi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qr{constructor(r,o,c){this.node_=r,this.fullyInitialized_=o,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Tr(r))return this.isFullyInitialized()&&!this.filtered_;const o=Ir(r);return this.isCompleteForChild(o)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Xi{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Zu(u,r,o,c,p,w){const A=c.filter($=>$.type===o);A.sort(($,X)=>function bd(u,r,o){if(null==r.childName||null==o.childName)throw(0,U.g5)("Should only compare child_ events.");const c=new mn(r.childName,r.snapshotNode),p=new mn(o.childName,o.snapshotNode);return u.index_.compare(c,p)}(u,$,X)),A.forEach($=>{const X=function Cd(u,r,o){return"value"===r.type||"child_removed"===r.type||(r.prevName=o.getPredecessorChildName(r.childName,r.snapshotNode,u.index_)),r}(u,$,w);p.forEach(ue=>{ue.respondsTo($.type)&&r.push(ue.createEvent(X,u.query_))})})}function Lc(u,r){return{eventCache:u,serverCache:r}}function Vl(u,r,o,c){return Lc(new qr(r,o,c),u.serverCache)}function Dd(u,r,o,c){return Lc(u.eventCache,new qr(r,o,c))}function ml(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Qu(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Bc;class Vi{constructor(r,o=(()=>(Bc||(Bc=new hs(sa)),Bc))()){this.value=r,this.children=o}static fromObject(r){let o=new Vi(null);return eo(r,(c,p)=>{o=o.set(new Ei(c),p)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,o){if(null!=this.value&&o(this.value))return{path:li(),value:this.value};if(Tr(r))return null;{const c=Ir(r),p=this.children.get(c);if(null!==p){const w=p.findRootMostMatchingPathAndValue(Yi(r),o);return null!=w?{path:Zi(new Ei(c),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Tr(r))return this;{const o=Ir(r),c=this.children.get(o);return null!==c?c.subtree(Yi(r)):new Vi(null)}}set(r,o){if(Tr(r))return new Vi(o,this.children);{const c=Ir(r),w=(this.children.get(c)||new Vi(null)).set(Yi(r),o),A=this.children.insert(c,w);return new Vi(this.value,A)}}remove(r){if(Tr(r))return this.children.isEmpty()?new Vi(null):new Vi(null,this.children);{const o=Ir(r),c=this.children.get(o);if(c){const p=c.remove(Yi(r));let w;return w=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),null===this.value&&w.isEmpty()?new Vi(null):new Vi(this.value,w)}return this}}get(r){if(Tr(r))return this.value;{const o=Ir(r),c=this.children.get(o);return c?c.get(Yi(r)):null}}setTree(r,o){if(Tr(r))return o;{const c=Ir(r),w=(this.children.get(c)||new Vi(null)).setTree(Yi(r),o);let A;return A=w.isEmpty()?this.children.remove(c):this.children.insert(c,w),new Vi(this.value,A)}}fold(r){return this.fold_(li(),r)}fold_(r,o){const c={};return this.children.inorderTraversal((p,w)=>{c[p]=w.fold_(Zi(r,p),o)}),o(r,this.value,c)}findOnPath(r,o){return this.findOnPath_(r,li(),o)}findOnPath_(r,o,c){const p=!!this.value&&c(o,this.value);if(p)return p;if(Tr(r))return null;{const w=Ir(r),A=this.children.get(w);return A?A.findOnPath_(Yi(r),Zi(o,w),c):null}}foreachOnPath(r,o){return this.foreachOnPath_(r,li(),o)}foreachOnPath_(r,o,c){if(Tr(r))return this;{this.value&&c(o,this.value);const p=Ir(r),w=this.children.get(p);return w?w.foreachOnPath_(Yi(r),Zi(o,p),c):new Vi(null)}}foreach(r){this.foreach_(li(),r)}foreach_(r,o){this.children.inorderTraversal((c,p)=>{p.foreach_(Zi(r,c),o)}),this.value&&o(r,this.value)}foreachChild(r){this.children.inorderTraversal((o,c)=>{c.value&&r(o,c.value)})}}class La{constructor(r){this.writeTree_=r}static empty(){return new La(new Vi(null))}}function au(u,r,o){if(Tr(r))return new La(new Vi(o));{const c=u.writeTree_.findRootMostValueAndPath(r);if(null!=c){const p=c.path;let w=c.value;const A=ao(p,r);return w=w.updateChild(A,o),new La(u.writeTree_.set(p,w))}{const p=new Vi(o),w=u.writeTree_.setTree(r,p);return new La(w)}}}function bf(u,r,o){let c=u;return eo(o,(p,w)=>{c=au(c,Zi(r,p),w)}),c}function $c(u,r){if(Tr(r))return La.empty();{const o=u.writeTree_.setTree(r,new Vi(null));return new La(o)}}function Ul(u,r){return null!=yl(u,r)}function yl(u,r){const o=u.writeTree_.findRootMostValueAndPath(r);return null!=o?u.writeTree_.get(o.path).getChild(ao(o.path,r)):null}function vl(u){const r=[],o=u.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(Gi,(c,p)=>{r.push(new mn(c,p))}):u.writeTree_.children.inorderTraversal((c,p)=>{null!=p.value&&r.push(new mn(c,p.value))}),r}function aa(u,r){if(Tr(r))return u;{const o=yl(u,r);return new La(null!=o?new Vi(o):u.writeTree_.subtree(r))}}function Xu(u){return u.writeTree_.isEmpty()}function lu(u,r){return Df(li(),u.writeTree_,r)}function Df(u,r,o){if(null!=r.value)return o.updateChild(u,r.value);{let c=null;return r.children.inorderTraversal((p,w)=>{".priority"===p?((0,U.hu)(null!==w.value,"Priority writes must always be leaf nodes"),c=w.value):o=Df(Zi(u,p),w,o)}),!o.getChild(u).isEmpty()&&null!==c&&(o=o.updateChild(Zi(u,".priority"),c)),o}}function Sd(u,r){return cu(r,u)}function ph(u,r){if(u.snap)return Wo(u.path,r);for(const o in u.children)if(u.children.hasOwnProperty(o)&&Wo(Zi(u.path,o),r))return!0;return!1}function _(u){return u.visible}function I(u,r,o){let c=La.empty();for(let p=0;p<u.length;++p){const w=u[p];if(r(w)){const A=w.path;let $;if(w.snap)Wo(o,A)?($=ao(o,A),c=au(c,$,w.snap)):Wo(A,o)&&($=ao(A,o),c=au(c,li(),w.snap.getChild($)));else{if(!w.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Wo(o,A))$=ao(o,A),c=bf(c,$,w.children);else if(Wo(A,o))if($=ao(A,o),Tr($))c=bf(c,li(),w.children);else{const X=(0,U.DV)(w.children,Ir($));if(X){const ue=X.getChild(Yi($));c=au(c,li(),ue)}}}}}return c}function P(u,r,o,c,p){if(c||p){const w=aa(u.visibleWrites,r);return!p&&Xu(w)?o:p||null!=o||Ul(w,li())?lu(I(u.allWrites,function(ue){return(ue.visible||p)&&(!c||!~c.indexOf(ue.writeId))&&(Wo(ue.path,r)||Wo(r,ue.path))},r),o||tr.EMPTY_NODE):null}{const w=yl(u.visibleWrites,r);if(null!=w)return w;{const A=aa(u.visibleWrites,r);return Xu(A)?o:null!=o||Ul(A,li())?lu(A,o||tr.EMPTY_NODE):null}}}function cr(u,r,o,c){return P(u.writeTree,u.treePath,r,o,c)}function si(u,r){return function le(u,r,o){let c=tr.EMPTY_NODE;const p=yl(u.visibleWrites,r);if(p)return p.isLeafNode()||p.forEachChild(Gi,(w,A)=>{c=c.updateImmediateChild(w,A)}),c;if(o){const w=aa(u.visibleWrites,r);return o.forEachChild(Gi,(A,$)=>{const X=lu(aa(w,new Ei(A)),$);c=c.updateImmediateChild(A,X)}),vl(w).forEach(A=>{c=c.updateImmediateChild(A.name,A.node)}),c}return vl(aa(u.visibleWrites,r)).forEach(A=>{c=c.updateImmediateChild(A.name,A.node)}),c}(u.writeTree,u.treePath,r)}function la(u,r,o,c){return function Te(u,r,o,c,p){(0,U.hu)(c||p,"Either existingEventSnap or existingServerSnap must exist");const w=Zi(r,o);if(Ul(u.visibleWrites,w))return null;{const A=aa(u.visibleWrites,w);return Xu(A)?p.getChild(o):lu(A,p.getChild(o))}}(u.writeTree,u.treePath,r,o,c)}function No(u,r){return function Wt(u,r){return yl(u.visibleWrites,r)}(u.writeTree,Zi(u.treePath,r))}function wo(u,r,o){return function Ct(u,r,o,c){const p=Zi(r,o),w=yl(u.visibleWrites,p);return null!=w?w:c.isCompleteForChild(o)?lu(aa(u.visibleWrites,p),c.getNode().getImmediateChild(o)):null}(u.writeTree,u.treePath,r,o)}function Ju(u,r){return cu(Zi(u.treePath,r),u.writeTree)}function cu(u,r){return{treePath:u,writeTree:r}}class mh{constructor(){this.changeMap=new Map}trackChildChange(r){const o=r.type,c=r.childName;(0,U.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==c,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(c);if(p){const w=p.type;if("child_added"===o&&"child_removed"===w)this.changeMap.set(c,_a(c,r.snapshotNode,p.snapshotNode));else if("child_removed"===o&&"child_added"===w)this.changeMap.delete(c);else if("child_removed"===o&&"child_changed"===w)this.changeMap.set(c,Oo(c,p.oldSnap));else if("child_changed"===o&&"child_added"===w)this.changeMap.set(c,$i(c,r.snapshotNode));else{if("child_changed"!==o||"child_changed"!==w)throw(0,U.g5)("Illegal combination of changes: "+r+" occurred after "+p);this.changeMap.set(c,_a(c,r.snapshotNode,p.oldSnap))}}else this.changeMap.set(c,r)}getChanges(){return Array.from(this.changeMap.values())}}const wa=new class Ea{getCompleteChild(r){return null}getChildAfterChild(r,o,c){return null}};class du{constructor(r,o,c=null){this.writes_=r,this.viewCache_=o,this.optCompleteServerCache_=c}getCompleteChild(r){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(r))return o.getNode().getImmediateChild(r);{const c=null!=this.optCompleteServerCache_?new qr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wo(this.writes_,r,c)}}getChildAfterChild(r,o,c){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qu(this.viewCache_),w=function gh(u,r,o,c,p,w){return function Dn(u,r,o,c,p,w,A){let $;const X=aa(u.visibleWrites,r),ue=yl(X,li());if(null!=ue)$=ue;else{if(null==o)return[];$=lu(X,o)}if($=$.withIndex(A),$.isEmpty()||$.isLeafNode())return[];{const Qe=[],at=A.getCompare(),Et=w?$.getReverseIteratorFrom(c,A):$.getIteratorFrom(c,A);let $t=Et.getNext();for(;$t&&Qe.length<p;)0!==at($t,c)&&Qe.push($t),$t=Et.getNext();return Qe}}(u.writeTree,u.treePath,r,o,c,p,w)}(this.writes_,p,o,1,c,r);return 0===w.length?null:w[0]}}function yh(u,r,o,c,p,w){const A=r.eventCache;if(null!=No(c,o))return r;{let $,X;if(Tr(o))if((0,U.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const ue=Qu(r),at=si(c,ue instanceof tr?ue:tr.EMPTY_NODE);$=u.filter.updateFullNode(r.eventCache.getNode(),at,w)}else{const ue=cr(c,Qu(r));$=u.filter.updateFullNode(r.eventCache.getNode(),ue,w)}else{const ue=Ir(o);if(".priority"===ue){(0,U.hu)(1===Ra(o),"Can't have a priority with additional path components");const Qe=A.getNode();X=r.serverCache.getNode();const at=la(c,o,Qe,X);$=null!=at?u.filter.updatePriority(Qe,at):A.getNode()}else{const Qe=Yi(o);let at;if(A.isCompleteForChild(ue)){X=r.serverCache.getNode();const Et=la(c,o,A.getNode(),X);at=null!=Et?A.getNode().getImmediateChild(ue).updateChild(Qe,Et):A.getNode().getImmediateChild(ue)}else at=wo(c,ue,r.serverCache);$=null!=at?u.filter.updateChild(A.getNode(),ue,at,Qe,p,w):A.getNode()}}return Vl(r,$,A.isFullyInitialized()||Tr(o),u.filter.filtersNodes())}}function Tf(u,r,o,c,p,w,A,$){const X=r.serverCache;let ue;const Qe=A?u.filter:u.filter.getIndexedFilter();if(Tr(o))ue=Qe.updateFullNode(X.getNode(),c,null);else if(Qe.filtersNodes()&&!X.isFiltered()){const $t=X.getNode().updateChild(o,c);ue=Qe.updateFullNode(X.getNode(),$t,null)}else{const $t=Ir(o);if(!X.isCompleteForPath(o)&&Ra(o)>1)return r;const Ht=Yi(o),Pn=X.getNode().getImmediateChild($t).updateChild(Ht,c);ue=".priority"===$t?Qe.updatePriority(X.getNode(),Pn):Qe.updateChild(X.getNode(),$t,Pn,Ht,wa,null)}const at=Dd(r,ue,X.isFullyInitialized()||Tr(o),Qe.filtersNodes());return yh(u,at,o,p,new du(p,at,w),$)}function Fp(u,r,o,c,p,w,A){const $=r.eventCache;let X,ue;const Qe=new du(p,r,w);if(Tr(o))ue=u.filter.updateFullNode(r.eventCache.getNode(),c,A),X=Vl(r,ue,!0,u.filter.filtersNodes());else{const at=Ir(o);if(".priority"===at)ue=u.filter.updatePriority(r.eventCache.getNode(),c),X=Vl(r,ue,$.isFullyInitialized(),$.isFiltered());else{const Et=Yi(o),$t=$.getNode().getImmediateChild(at);let Ht;if(Tr(Et))Ht=c;else{const cn=Qe.getCompleteChild(at);Ht=null!=cn?".priority"===to(Et)&&cn.getChild(Ft(Et)).isEmpty()?cn:cn.updateChild(Et,c):tr.EMPTY_NODE}X=$t.equals(Ht)?r:Vl(r,u.filter.updateChild($.getNode(),at,Ht,Et,Qe,A),$.isFullyInitialized(),u.filter.filtersNodes())}}return X}function Lp(u,r){return u.eventCache.isCompleteForChild(r)}function Xy(u,r,o){return o.foreach((c,p)=>{r=r.updateChild(c,p)}),r}function ua(u,r,o,c,p,w,A,$){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let ue,X=r;ue=Tr(o)?c:new Vi(null).setTree(o,c);const Qe=r.serverCache.getNode();return ue.children.inorderTraversal((at,Et)=>{if(Qe.hasChild(at)){const Ht=Xy(0,r.serverCache.getNode().getImmediateChild(at),Et);X=Tf(u,X,new Ei(at),Ht,p,w,A,$)}}),ue.children.inorderTraversal((at,Et)=>{const $t=!r.serverCache.isCompleteForChild(at)&&null===Et.value;if(!Qe.hasChild(at)&&!$t){const cn=Xy(0,r.serverCache.getNode().getImmediateChild(at),Et);X=Tf(u,X,new Ei(at),cn,p,w,A,$)}}),X}class ea{constructor(r,o){this.query_=r,this.eventRegistrations_=[];const c=this.query_._queryParams,p=new su(c.getIndex()),w=function Ed(u){return u.loadsAllData()?new su(u.getIndex()):u.hasLimit()?new Jo(u):new Fl(u)}(c);this.processor_=function Sf(u){return{filter:u}}(w);const A=o.serverCache,$=o.eventCache,X=p.updateFullNode(tr.EMPTY_NODE,A.getNode(),null),ue=w.updateFullNode(tr.EMPTY_NODE,$.getNode(),null),Qe=new qr(X,A.isFullyInitialized(),p.filtersNodes()),at=new qr(ue,$.isFullyInitialized(),w.filtersNodes());this.viewCache_=Lc(at,Qe),this.eventGenerator_=new Xi(this.query_)}get query(){return this.query_}}function Rd(u,r){const o=Qu(u.viewCache_);return o&&(u.query._queryParams.loadsAllData()||!Tr(r)&&!o.getImmediateChild(Ir(r)).isEmpty())?o.getChild(r):null}function hm(u){return 0===u.eventRegistrations_.length}function vh(u,r,o){const c=[];if(o){(0,U.hu)(null==r,"A cancel should cancel all event registrations.");const p=u.query._path;u.eventRegistrations_.forEach(w=>{const A=w.createCancelEvent(o,p);A&&c.push(A)})}if(r){let p=[];for(let w=0;w<u.eventRegistrations_.length;++w){const A=u.eventRegistrations_[w];if(A.matches(r)){if(r.hasAnyCallback()){p=p.concat(u.eventRegistrations_.slice(w+1));break}}else p.push(A)}u.eventRegistrations_=p}else u.eventRegistrations_=[];return c}function pm(u,r,o,c){r.type===ho.MERGE&&null!==r.source.queryId&&((0,U.hu)(Qu(u.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(ml(u.viewCache_),"Missing event cache, even though we have a server cache"));const p=u.viewCache_,w=function Yr(u,r,o,c,p){const w=new mh;let A,$;if(o.type===ho.OVERWRITE){const ue=o;ue.source.fromUser?A=Fp(u,r,ue.path,ue.snap,c,p,w):((0,U.hu)(ue.source.fromServer,"Unknown source."),$=ue.source.tagged||r.serverCache.isFiltered()&&!Tr(ue.path),A=Tf(u,r,ue.path,ue.snap,c,p,$,w))}else if(o.type===ho.MERGE){const ue=o;ue.source.fromUser?A=function Bp(u,r,o,c,p,w,A){let $=r;return c.foreach((X,ue)=>{const Qe=Zi(o,X);Lp(r,Ir(Qe))&&($=Fp(u,$,Qe,ue,p,w,A))}),c.foreach((X,ue)=>{const Qe=Zi(o,X);Lp(r,Ir(Qe))||($=Fp(u,$,Qe,ue,p,w,A))}),$}(u,r,ue.path,ue.children,c,p,w):((0,U.hu)(ue.source.fromServer,"Unknown source."),$=ue.source.tagged||r.serverCache.isFiltered(),A=ua(u,r,ue.path,ue.children,c,p,$,w))}else if(o.type===ho.ACK_USER_WRITE){const ue=o;A=ue.revert?function ec(u,r,o,c,p,w){let A;if(null!=No(c,o))return r;{const $=new du(c,r,p),X=r.eventCache.getNode();let ue;if(Tr(o)||".priority"===Ir(o)){let Qe;if(r.serverCache.isFullyInitialized())Qe=cr(c,Qu(r));else{const at=r.serverCache.getNode();(0,U.hu)(at instanceof tr,"serverChildren would be complete if leaf node"),Qe=si(c,at)}ue=u.filter.updateFullNode(X,Qe,w)}else{const Qe=Ir(o);let at=wo(c,Qe,r.serverCache);null==at&&r.serverCache.isCompleteForChild(Qe)&&(at=X.getImmediateChild(Qe)),ue=null!=at?u.filter.updateChild(X,Qe,at,Yi(o),$,w):r.eventCache.getNode().hasChild(Qe)?u.filter.updateChild(X,Qe,tr.EMPTY_NODE,Yi(o),$,w):X,ue.isEmpty()&&r.serverCache.isFullyInitialized()&&(A=cr(c,Qu(r)),A.isLeafNode()&&(ue=u.filter.updateFullNode(ue,A,w)))}return A=r.serverCache.isFullyInitialized()||null!=No(c,li()),Vl(r,ue,A,u.filter.filtersNodes())}}(u,r,ue.path,c,p,w):function $p(u,r,o,c,p,w,A){if(null!=No(p,o))return r;const $=r.serverCache.isFiltered(),X=r.serverCache;if(null!=c.value){if(Tr(o)&&X.isFullyInitialized()||X.isCompleteForPath(o))return Tf(u,r,o,X.getNode().getChild(o),p,w,$,A);if(Tr(o)){let ue=new Vi(null);return X.getNode().forEachChild(no,(Qe,at)=>{ue=ue.set(new Ei(Qe),at)}),ua(u,r,o,ue,p,w,$,A)}return r}{let ue=new Vi(null);return c.foreach((Qe,at)=>{const Et=Zi(o,Qe);X.isCompleteForPath(Et)&&(ue=ue.set(Qe,X.getNode().getChild(Et)))}),ua(u,r,o,ue,p,w,$,A)}}(u,r,ue.path,ue.affectedTree,c,p,w)}else{if(o.type!==ho.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+o.type);A=function Md(u,r,o,c,p){const w=r.serverCache;return yh(u,Dd(r,w.getNode(),w.isFullyInitialized()||Tr(o),w.isFiltered()),o,c,wa,p)}(u,r,o.path,c,w)}const X=w.getChanges();return function Ad(u,r,o){const c=r.eventCache;if(c.isFullyInitialized()){const p=c.getNode().isLeafNode()||c.getNode().isEmpty(),w=ml(u);(o.length>0||!u.eventCache.isFullyInitialized()||p&&!c.getNode().equals(w)||!c.getNode().getPriority().equals(w.getPriority()))&&o.push(gl(ml(r)))}}(r,A,X),{viewCache:A,changes:X}}(u.processor_,p,r,o,c);return function kp(u,r){(0,U.hu)(r.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(r.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,w.viewCache),(0,U.hu)(w.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=w.viewCache,xs(u,w.changes,w.viewCache.eventCache.getNode(),null)}function xs(u,r,o,c){return function Yu(u,r,o,c){const p=[],w=[];return r.forEach(A=>{"child_changed"===A.type&&u.index_.indexedValueChanged(A.oldSnap,A.snapshotNode)&&w.push(function el(u,r){return{type:"child_moved",snapshotNode:r,childName:u}}(A.childName,A.snapshotNode))}),Zu(u,p,"child_removed",r,c,o),Zu(u,p,"child_added",r,c,o),Zu(u,p,"child_moved",w,c,o),Zu(u,p,"child_changed",r,c,o),Zu(u,p,"value",r,c,o),p}(u.eventGenerator_,r,o,c?[c]:u.eventRegistrations_)}let xd,tc;class Af{constructor(){this.views=new Map}}function Pd(u,r,o,c){const p=r.source.queryId;if(null!==p){const w=u.views.get(p);return(0,U.hu)(null!=w,"SyncTree gave us an op for an invalid query."),pm(w,r,o,c)}{let w=[];for(const A of u.views.values())w=w.concat(pm(A,r,o,c));return w}}function mm(u,r,o,c,p){const A=u.views.get(r._queryIdentifier);if(!A){let $=cr(o,p?c:null),X=!1;$?X=!0:c instanceof tr?($=si(o,c),X=!1):($=tr.EMPTY_NODE,X=!1);const ue=Lc(new qr($,X,!1),new qr(c,p,!1));return new ea(r,ue)}return A}function Rf(u){const r=[];for(const o of u.views.values())o.query._queryParams.loadsAllData()||r.push(o);return r}function hu(u,r){let o=null;for(const c of u.views.values())o=o||Rd(c,r);return o}function Vc(u,r){return r._queryParams.loadsAllData()?Uc(u):u.views.get(r._queryIdentifier)}function fu(u,r){return null!=Vc(u,r)}function Gl(u){return null!=Uc(u)}function Uc(u){for(const r of u.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let P_=1;class Io{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Vi(null),this.pendingWriteTree_=function $n(){return{visibleWrites:La.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ci(u,r,o,c,p){return function jl(u,r,o,c,p){(0,U.hu)(c>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),u.allWrites.push({path:r,snap:o,writeId:c,visible:p}),p&&(u.visibleWrites=au(u.visibleWrites,r,o)),u.lastWriteId=c}(u.pendingWriteTree_,r,o,c,p),p?ic(u,new Ku({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,o)):[]}function pu(u,r,o=!1){const c=function uu(u,r){for(let o=0;o<u.allWrites.length;o++){const c=u.allWrites[o];if(c.writeId===r)return c}return null}(u.pendingWriteTree_,r);if(function Np(u,r){const o=u.allWrites.findIndex($=>$.writeId===r);(0,U.hu)(o>=0,"removeWrite called with nonexistent writeId.");const c=u.allWrites[o];u.allWrites.splice(o,1);let p=c.visible,w=!1,A=u.allWrites.length-1;for(;p&&A>=0;){const $=u.allWrites[A];$.visible&&(A>=o&&ph($,c.path)?p=!1:Wo(c.path,$.path)&&(w=!0)),A--}return!!p&&(w?(function R(u){u.visibleWrites=I(u.allWrites,_,li()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(c.snap?u.visibleWrites=$c(u.visibleWrites,c.path):eo(c.children,X=>{u.visibleWrites=$c(u.visibleWrites,Zi(c.path,X))}),!0))}(u.pendingWriteTree_,r)){let w=new Vi(null);return null!=c.snap?w=w.set(li(),!0):eo(c.children,A=>{w=w.set(new Ei(A),!0)}),ic(u,new Fc(c.path,w,o))}return[]}function nc(u,r,o){return ic(u,new Ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}function Pf(u,r,o,c,p=!1){const w=r._path,A=u.syncPointTree_.get(w);let $=[];if(A&&("default"===r._queryIdentifier||fu(A,r))){const X=function zl(u,r,o,c){const p=r._queryIdentifier,w=[];let A=[];const $=Gl(u);if("default"===p)for(const[X,ue]of u.views.entries())A=A.concat(vh(ue,o,c)),hm(ue)&&(u.views.delete(X),ue.query._queryParams.loadsAllData()||w.push(ue.query));else{const X=u.views.get(p);X&&(A=A.concat(vh(X,o,c)),hm(X)&&(u.views.delete(p),X.query._queryParams.loadsAllData()||w.push(X.query)))}return $&&!Gl(u)&&w.push(new(function gm(){return(0,U.hu)(xd,"Reference.ts has not been loaded"),xd}())(r._repo,r._path)),{removed:w,events:A}}(A,r,o,c);(function Mf(u){return 0===u.views.size})(A)&&(u.syncPointTree_=u.syncPointTree_.remove(w));const ue=X.removed;if($=X.events,!p){const Qe=-1!==ue.findIndex(Et=>Et._queryParams.loadsAllData()),at=u.syncPointTree_.findOnPath(w,(Et,$t)=>Gl($t));if(Qe&&!at){const Et=u.syncPointTree_.subtree(w);if(!Et.isEmpty()){const $t=function zp(u){return u.fold((r,o,c)=>{if(o&&Gl(o))return[Uc(o)];{let p=[];return o&&(p=Rf(o)),eo(c,(w,A)=>{p=p.concat(A)}),p}})}(Et);for(let Ht=0;Ht<$t.length;++Ht){const cn=$t[Ht],Pn=cn.query,Cr=vm(u,cn);u.listenProvider_.startListening(sc(Pn),Ih(u,Pn),Cr.hashFn,Cr.onComplete)}}}!at&&ue.length>0&&!c&&(Qe?u.listenProvider_.stopListening(sc(r),null):ue.forEach(Et=>{const $t=u.queryToTagMap.get(Ch(Et));u.listenProvider_.stopListening(sc(Et),$t)}))}!function Gp(u,r){for(let o=0;o<r.length;++o){const c=r[o];if(!c._queryParams.loadsAllData()){const p=Ch(c),w=u.queryToTagMap.get(p);u.queryToTagMap.delete(p),u.tagToQueryMap.delete(w)}}}(u,ue)}return $}function Of(u,r,o,c){const p=Nf(u,c);if(null!=p){const w=kf(p),A=w.path,$=w.queryId,X=ao(A,r);return Hp(u,A,new Ku($l($),X,o))}return[]}function il(u,r,o,c=!1){const p=r._path;let w=null,A=!1;u.syncPointTree_.foreachOnPath(p,(Et,$t)=>{const Ht=ao(Et,p);w=w||hu($t,Ht),A=A||Gl($t)});let X,$=u.syncPointTree_.get(p);$?(A=A||Gl($),w=w||hu($,li())):($=new Af,u.syncPointTree_=u.syncPointTree_.set(p,$)),null!=w?X=!0:(X=!1,w=tr.EMPTY_NODE,u.syncPointTree_.subtree(p).foreachChild(($t,Ht)=>{const cn=hu(Ht,li());cn&&(w=w.updateImmediateChild($t,cn))}));const ue=fu($,r);if(!ue&&!r._queryParams.loadsAllData()){const Et=Ch(r);(0,U.hu)(!u.queryToTagMap.has(Et),"View does not exist, but we have a tag");const $t=function jc(){return P_++}();u.queryToTagMap.set(Et,$t),u.tagToQueryMap.set($t,Et)}let at=function _h(u,r,o,c,p,w){const A=mm(u,r,c,p,w);return u.views.has(r._queryIdentifier)||u.views.set(r._queryIdentifier,A),function fm(u,r){u.eventRegistrations_.push(r)}(A,o),function R_(u,r){const o=u.viewCache_.eventCache,c=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(Gi,(w,A)=>{c.push($i(w,A))}),o.isFullyInitialized()&&c.push(gl(o.getNode())),xs(u,c,o.getNode(),r)}(A,o)}($,r,o,Sd(u.pendingWriteTree_,p),w,X);if(!ue&&!A&&!c){const Et=Vc($,r);at=at.concat(function Ff(u,r,o){const c=r._path,p=Ih(u,r),w=vm(u,o),A=u.listenProvider_.startListening(sc(r),p,w.hashFn,w.onComplete),$=u.syncPointTree_.subtree(c);if(p)(0,U.hu)(!Gl($.value),"If we're adding a query, it shouldn't be shadowed");else{const X=$.fold((ue,Qe,at)=>{if(!Tr(ue)&&Qe&&Gl(Qe))return[Uc(Qe).query];{let Et=[];return Qe&&(Et=Et.concat(Rf(Qe).map($t=>$t.query))),eo(at,($t,Ht)=>{Et=Et.concat(Ht)}),Et}});for(let ue=0;ue<X.length;++ue){const Qe=X[ue];u.listenProvider_.stopListening(sc(Qe),Ih(u,Qe))}}return A}(u,r,Et))}return at}function rc(u,r,o){const p=u.pendingWriteTree_,w=u.syncPointTree_.findOnPath(r,(A,$)=>{const ue=hu($,ao(A,r));if(ue)return ue});return P(p,r,w,o,!0)}function ic(u,r){return ev(r,u.syncPointTree_,null,Sd(u.pendingWriteTree_,li()))}function ev(u,r,o,c){if(Tr(u.path))return wh(u,r,o,c);{const p=r.get(li());null==o&&null!=p&&(o=hu(p,li()));let w=[];const A=Ir(u.path),$=u.operationForChild(A),X=r.children.get(A);if(X&&$){const ue=o?o.getImmediateChild(A):null,Qe=Ju(c,A);w=w.concat(ev($,X,ue,Qe))}return p&&(w=w.concat(Pd(p,u,c,o))),w}}function wh(u,r,o,c){const p=r.get(li());null==o&&null!=p&&(o=hu(p,li()));let w=[];return r.children.inorderTraversal((A,$)=>{const X=o?o.getImmediateChild(A):null,ue=Ju(c,A),Qe=u.operationForChild(A);Qe&&(w=w.concat(wh(Qe,$,X,ue)))}),p&&(w=w.concat(Pd(p,u,c,o))),w}function vm(u,r){const o=r.query,c=Ih(u,o);return{hashFn:()=>(function Hl(u){return u.viewCache_.serverCache.getNode()}(r)||tr.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return c?function O_(u,r,o){const c=Nf(u,o);if(c){const p=kf(c),w=p.path,A=p.queryId,$=ao(w,r);return Hp(u,w,new rl($l(A),$))}return[]}(u,o._path,c):function Up(u,r){return ic(u,new rl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(u,o._path);{const w=function cl(u,r){let o="Unknown Error";"too_big"===u?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?o="Client doesn't have permission to access the desired data.":"unavailable"===u&&(o="The service is unavailable");const c=new Error(u+" at "+r._path.toString()+": "+o);return c.code=u.toUpperCase(),c}(p,o);return Pf(u,o,null,w)}}}}function Ih(u,r){const o=Ch(r);return u.queryToTagMap.get(o)}function Ch(u){return u._path.toString()+"$"+u._queryIdentifier}function Nf(u,r){return u.tagToQueryMap.get(r)}function kf(u){const r=u.indexOf("$");return(0,U.hu)(-1!==r&&r<u.length-1,"Bad queryKey."),{queryId:u.substr(r+1),path:new Ei(u.substr(0,r))}}function Hp(u,r,o){const c=u.syncPointTree_.get(r);return(0,U.hu)(c,"Missing sync point for query tag that we're tracking"),Pd(c,o,Sd(u.pendingWriteTree_,r),null)}function sc(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function x_(){return(0,U.hu)(tc,"Reference.ts has not been loaded"),tc}())(u._repo,u._path):u}class Wp{constructor(r){this.node_=r}getImmediateChild(r){const o=this.node_.getImmediateChild(r);return new Wp(o)}node(){return this.node_}}class Us{constructor(r,o){this.syncTree_=r,this.path_=o}getImmediateChild(r){const o=Zi(this.path_,r);return new Us(this.syncTree_,o)}node(){return rc(this.syncTree_,this.path_)}}const Od=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},_m=function(u,r,o){return u&&"object"==typeof u?((0,U.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?bh(u[".sv"],r,o):"object"==typeof u[".sv"]?gu(u[".sv"],r):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},bh=function(u,r,o){if("timestamp"===u)return o.timestamp;(0,U.hu)(!1,"Unexpected server value: "+u)},gu=function(u,r,o){u.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const c=u.increment;"number"!=typeof c&&(0,U.hu)(!1,"Unexpected increment value: "+c);const p=r.node();if((0,U.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return c;const A=p.getValue();return"number"!=typeof A?c:A+c},Kp=function(u,r,o,c){return Hc(r,new Us(o,u),c)},qp=function(u,r,o){return Hc(u,new Wp(r),o)};function Hc(u,r,o){const c=u.getPriority().val(),p=_m(c,r.getImmediateChild(".priority"),o);let w;if(u.isLeafNode()){const A=u,$=_m(A.getValue(),r,o);return $!==A.getValue()||p!==A.getPriority().val()?new Oc($,Ms(p)):u}{const A=u;return w=A,p!==A.getPriority().val()&&(w=w.updatePriority(new Oc(p))),A.forEachChild(Gi,($,X)=>{const ue=Hc(X,r.getImmediateChild($),o);ue!==X&&(w=w.updateImmediateChild($,ue))}),w}}class Lf{constructor(r="",o=null,c={children:{},childCount:0}){this.name=r,this.parent=o,this.node=c}}function zc(u,r){let o=r instanceof Ei?r:new Ei(r),c=u,p=Ir(o);for(;null!==p;){const w=(0,U.DV)(c.node.children,p)||{children:{},childCount:0};c=new Lf(p,c,w),o=Yi(o),p=Ir(o)}return c}function mu(u){return u.node.value}function Gc(u,r){u.node.value=r,Wc(u)}function tv(u){return u.node.childCount>0}function $f(u,r){eo(u.node.children,(o,c)=>{r(new Lf(o,u,c))})}function nv(u,r,o,c){o&&!c&&r(u),$f(u,p=>{nv(p,r,!0,c)}),o&&c&&r(u)}function Nd(u){return new Ei(null===u.parent?u.name:Nd(u.parent)+"/"+u.name)}function Wc(u){null!==u.parent&&function Zp(u,r,o){const c=function Bf(u){return void 0===mu(u)&&!tv(u)}(o),p=(0,U.r3)(u.node.children,r);c&&p?(delete u.node.children[r],u.node.childCount--,Wc(u)):!c&&!p&&(u.node.children[r]=o.node,u.node.childCount++,Wc(u))}(u.parent,u.name,u)}const Qp=/[\[\].#$\/\u0000-\u001F\u007F]/,rv=/[\[\].#$\u0000-\u001F\u007F]/,Xp=10485760,Vf=function(u){return"string"==typeof u&&0!==u.length&&!Qp.test(u)},yu=function(u){return"string"==typeof u&&0!==u.length&&!rv.test(u)},Sh=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!xr(u)||u&&"object"==typeof u&&(0,U.r3)(u,".sv")},vu=function(u,r,o,c){c&&void 0===r||Th((0,U.gK)(u,"value"),r,o)},Th=function(u,r,o){const c=o instanceof Ei?new Fo(o,u):o;if(void 0===r)throw new Error(u+"contains undefined "+O(c));if("function"==typeof r)throw new Error(u+"contains a function "+O(c)+" with contents = "+r.toString());if(xr(r))throw new Error(u+"contains "+r.toString()+" "+O(c));if("string"==typeof r&&r.length>Xp/3&&(0,U.ug)(r)>Xp)throw new Error(u+"contains a string greater than "+Xp+" utf8 bytes "+O(c)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let p=!1,w=!1;if(eo(r,(A,$)=>{if(".value"===A)p=!0;else if(".priority"!==A&&".sv"!==A&&(w=!0,!Vf(A)))throw new Error(u+" contains an invalid key ("+A+") "+O(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function _f(u,r){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(r),u.byteLength_+=(0,U.ug)(r),M(u)})(c,A),Th(u,$,c),function Vu(u){const r=u.parts_.pop();u.byteLength_-=(0,U.ug)(r),u.parts_.length>0&&(u.byteLength_-=1)}(c)}),p&&w)throw new Error(u+' contains ".value" child '+O(c)+" in addition to actual children.")}},_u=function(u,r,o,c){if(c&&void 0===r)return;const p=(0,U.gK)(u,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(p+" must be an object containing the children to replace.");const w=[];eo(r,(A,$)=>{const X=new Ei(A);if(Th(p,$,Zi(o,X)),".priority"===to(X)&&!Sh($))throw new Error(p+"contains an invalid value for '"+X.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(X)}),function(u,r){let o,c;for(o=0;o<r.length;o++){c=r[o];const w=Li(c);for(let A=0;A<w.length;A++)if((".priority"!==w[A]||A!==w.length-1)&&!Vf(w[A]))throw new Error(u+"contains an invalid key ("+w[A]+") in path "+c.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort($u);let p=null;for(o=0;o<r.length;o++){if(c=r[o],null!==p&&Wo(p,c))throw new Error(u+"contains a path "+p.toString()+" that is ancestor of another path "+c.toString());p=c}}(p,w)},kd=function(u,r,o){if(!o||void 0!==r){if(xr(r))throw new Error((0,U.gK)(u,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sh(r))throw new Error((0,U.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ah=function(u,r,o,c){if(!(c&&void 0===o||Vf(o)))throw new Error((0,U.gK)(u,r)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Fd=function(u,r,o,c){if(!(c&&void 0===o||yu(o)))throw new Error((0,U.gK)(u,r)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mh=function(u,r,o,c){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Fd(u,r,o,c)},ta=function(u,r){if(".info"===Ir(r))throw new Error(u+" failed = Can't modify data under /.info/")},Ld=function(u,r){const o=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Vf(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==o.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),yu(u)}(o))throw new Error((0,U.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Jp{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rh(u,r){let o=null;for(let c=0;c<r.length;c++){const p=r[c],w=p.getPath();null!==o&&!xa(w,o.path)&&(u.eventLists_.push(o),o=null),null===o&&(o={events:[],path:w}),o.events.push(p)}o&&u.eventLists_.push(o)}function eg(u,r,o){Rh(u,o),Em(u,c=>xa(c,r))}function Ia(u,r,o){Rh(u,o),Em(u,c=>Wo(c,r)||Wo(r,c))}function Em(u,r){u.recursionDepth_++;let o=!0;for(let c=0;c<u.eventLists_.length;c++){const p=u.eventLists_[c];p&&(r(p.path)?(iv(u.eventLists_[c]),u.eventLists_[c]=null):o=!1)}o&&(u.eventLists_=[]),u.recursionDepth_--}function iv(u){for(let r=0;r<u.events.length;r++){const o=u.events[r];if(null!==o){u.events[r]=null;const c=o.getEventRunner();pe&&Zt("event: "+o.toString()),Wa(c)}}}const tg="repo_interrupt",Eu=25;class xh{constructor(r,o,c,p){this.repoInfo_=r,this.forceRestClient_=o,this.authTokenProvider_=c,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nl(),this.transactionQueueTree_=new Lf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bd(u){const o=u.infoData_.getNode(new Ei(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function _l(u){return Od({timestamp:Bd(u)})}function N_(u,r,o,c,p){u.dataUpdateCount++;const w=new Ei(r);o=u.interceptServerDataCallback_?u.interceptServerDataCallback_(r,o):o;let A=[];if(p)if(c){const X=(0,U.UI)(o,ue=>Ms(ue));A=function jp(u,r,o,c){const p=Nf(u,c);if(p){const w=kf(p),A=w.path,$=w.queryId,X=ao(A,r),ue=Vi.fromObject(o);return Hp(u,A,new qu($l($),X,ue))}return[]}(u.serverSyncTree_,w,X,p)}else{const X=Ms(o);A=Of(u.serverSyncTree_,w,X,p)}else if(c){const X=(0,U.UI)(o,ue=>Ms(ue));A=function xf(u,r,o){const c=Vi.fromObject(o);return ic(u,new qu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,c))}(u.serverSyncTree_,w,X)}else{const X=Ms(o);A=nc(u.serverSyncTree_,w,X)}let $=w;A.length>0&&($=$d(u,w)),Ia(u.eventQueue_,$,A)}function sv(u,r){jf(u,"connected",r),!1===r&&function ov(u){Ps(u,"onDisconnectEvents");const r=_l(u),o=nl();ka(u.onDisconnect_,li(),(p,w)=>{const A=Kp(p,w,u.serverSyncTree_,r);Gu(o,p,A)});let c=[];ka(o,li(),(p,w)=>{c=c.concat(nc(u.serverSyncTree_,p,w));const A=fo(u,p);$d(u,A)}),u.onDisconnect_=nl(),Ia(u.eventQueue_,li(),c)}(u)}function jf(u,r,o){const c=new Ei("/.info/"+r),p=Ms(o);u.infoData_.updateSnapshot(c,p);const w=nc(u.infoSyncTree_,c,p);Ia(u.eventQueue_,c,w)}function Ph(u){return u.nextWriteId_++}function Kc(u,r,o,c,p){Ps(u,"set",{path:r.toString(),value:o,priority:c});const w=_l(u),A=Ms(o,c),$=rc(u.serverSyncTree_,r),X=qp(A,$,w),ue=Ph(u),Qe=Ci(u.serverSyncTree_,r,X,ue,!0);Rh(u.eventQueue_,Qe),u.server_.put(r.toString(),A.val(!0),(Et,$t)=>{const Ht="ok"===Et;Ht||wr("set at "+r+" failed: "+Et);const cn=pu(u.serverSyncTree_,ue,!Ht);Ia(u.eventQueue_,r,cn),Wl(0,p,Et,$t)});const at=fo(u,r);$d(u,at),Ia(u.eventQueue_,at,[])}function k_(u,r,o){u.server_.onDisconnectCancel(r.toString(),(c,p)=>{"ok"===c&&Bo(u.onDisconnect_,r),Wl(0,o,c,p)})}function wm(u,r,o,c){const p=Ms(o);u.server_.onDisconnectPut(r.toString(),p.val(!0),(w,A)=>{"ok"===w&&Gu(u.onDisconnect_,r,p),Wl(0,c,w,A)})}function ig(u,r,o){let c;c=".info"===Ir(r._path)?Pf(u.infoSyncTree_,r,o):Pf(u.serverSyncTree_,r,o),eg(u.eventQueue_,r._path,c)}function Nh(u){u.persistentConnection_&&u.persistentConnection_.interrupt(tg)}function Ps(u,...r){let o="";u.persistentConnection_&&(o=u.persistentConnection_.id+":"),Zt(o,...r)}function Wl(u,r,o,c){r&&Wa(()=>{if("ok"===o)r(null);else{const p=(o||"error").toUpperCase();let w=p;c&&(w+=": "+c);const A=new Error(w);A.code=p,r(A)}})}function kh(u,r,o){return rc(u.serverSyncTree_,r,o)||tr.EMPTY_NODE}function qc(u,r=u.transactionQueueTree_){if(r||sg(u,r),mu(r)){const o=Vd(u,r);(0,U.hu)(o.length>0,"Sending zero length transaction queue"),o.every(p=>0===p.status)&&function B_(u,r,o){const c=o.map(ue=>ue.currentWriteId),p=kh(u,r,c);let w=p;const A=p.hash();for(let ue=0;ue<o.length;ue++){const Qe=o[ue];(0,U.hu)(0===Qe.status,"tryToSendTransactionQueue_: items in queue should all be run."),Qe.status=1,Qe.retryCount++;const at=ao(r,Qe.path);w=w.updateChild(at,Qe.currentOutputSnapshotRaw)}const $=w.val(!0),X=r;u.server_.put(X.toString(),$,ue=>{Ps(u,"transaction put response",{path:X.toString(),status:ue});let Qe=[];if("ok"===ue){const at=[];for(let Et=0;Et<o.length;Et++)o[Et].status=2,Qe=Qe.concat(pu(u.serverSyncTree_,o[Et].currentWriteId)),o[Et].onComplete&&at.push(()=>o[Et].onComplete(null,!0,o[Et].currentOutputSnapshotResolved)),o[Et].unwatcher();sg(u,zc(u.transactionQueueTree_,r)),qc(u,u.transactionQueueTree_),Ia(u.eventQueue_,r,Qe);for(let Et=0;Et<at.length;Et++)Wa(at[Et])}else{if("datastale"===ue)for(let at=0;at<o.length;at++)o[at].status=3===o[at].status?4:0;else{wr("transaction at "+X.toString()+" failed: "+ue);for(let at=0;at<o.length;at++)o[at].status=4,o[at].abortReason=ue}$d(u,r)}},A)}(u,Nd(r),o)}else tv(r)&&$f(r,o=>{qc(u,o)})}function $d(u,r){const o=zf(u,r),c=Nd(o);return function Hf(u,r,o){if(0===r.length)return;const c=[];let p=[];const A=r.filter($=>0===$.status).map($=>$.currentWriteId);for(let $=0;$<r.length;$++){const X=r[$],ue=ao(o,X.path);let at,Qe=!1;if((0,U.hu)(null!==ue,"rerunTransactionsUnderNode_: relativePath should not be null."),4===X.status)Qe=!0,at=X.abortReason,p=p.concat(pu(u.serverSyncTree_,X.currentWriteId,!0));else if(0===X.status)if(X.retryCount>=Eu)Qe=!0,at="maxretry",p=p.concat(pu(u.serverSyncTree_,X.currentWriteId,!0));else{const Et=kh(u,X.path,A);X.currentInputSnapshot=Et;const $t=r[$].update(Et.val());if(void 0!==$t){Th("transaction failed: Data returned ",$t,X.path);let Ht=Ms($t);"object"==typeof $t&&null!=$t&&(0,U.r3)($t,".priority")||(Ht=Ht.updatePriority(Et.getPriority()));const Pn=X.currentWriteId,Cr=_l(u),ni=qp(Ht,Et,Cr);X.currentOutputSnapshotRaw=Ht,X.currentOutputSnapshotResolved=ni,X.currentWriteId=Ph(u),A.splice(A.indexOf(Pn),1),p=p.concat(Ci(u.serverSyncTree_,X.path,ni,X.currentWriteId,X.applyLocally)),p=p.concat(pu(u.serverSyncTree_,Pn,!0))}else Qe=!0,at="nodata",p=p.concat(pu(u.serverSyncTree_,X.currentWriteId,!0))}Ia(u.eventQueue_,o,p),p=[],Qe&&(r[$].status=2,setTimeout(r[$].unwatcher,Math.floor(0)),r[$].onComplete&&c.push("nodata"===at?()=>r[$].onComplete(null,!1,r[$].currentInputSnapshot):()=>r[$].onComplete(new Error(at),!1,null)))}sg(u,u.transactionQueueTree_);for(let $=0;$<c.length;$++)Wa(c[$]);qc(u,u.transactionQueueTree_)}(u,Vd(u,o),c),c}function zf(u,r){let o,c=u.transactionQueueTree_;for(o=Ir(r);null!==o&&void 0===mu(c);)c=zc(c,o),o=Ir(r=Yi(r));return c}function Vd(u,r){const o=[];return av(u,r,o),o.sort((c,p)=>c.order-p.order),o}function av(u,r,o){const c=mu(r);if(c)for(let p=0;p<c.length;p++)o.push(c[p]);$f(r,p=>{av(u,p,o)})}function sg(u,r){const o=mu(r);if(o){let c=0;for(let p=0;p<o.length;p++)2!==o[p].status&&(o[c]=o[p],c++);o.length=c,Gc(r,o.length>0?o:void 0)}$f(r,c=>{sg(u,c)})}function fo(u,r){const o=Nd(zf(u,r)),c=zc(u.transactionQueueTree_,r);return function Yp(u,r,o){let c=o?u:u.parent;for(;null!==c;){if(r(c))return!0;c=c.parent}}(c,p=>{ki(u,p)}),ki(u,c),nv(c,p=>{ki(u,p)}),o}function ki(u,r){const o=mu(r);if(o){const c=[];let p=[],w=-1;for(let A=0;A<o.length;A++)3===o[A].status||(1===o[A].status?((0,U.hu)(w===A-1,"All SENT items should be at beginning of queue."),w=A,o[A].status=3,o[A].abortReason="set"):((0,U.hu)(0===o[A].status,"Unexpected transaction status in abort"),o[A].unwatcher(),p=p.concat(pu(u.serverSyncTree_,o[A].currentWriteId,!0)),o[A].onComplete&&c.push(o[A].onComplete.bind(null,new Error("set"),!1,null))));-1===w?Gc(r,void 0):o.length=w+1,Ia(u.eventQueue_,Nd(r),p);for(let A=0;A<c.length;A++)Wa(c[A])}}const Wf=function(u,r){const o=lc(u),c=o.namespace;return"firebase.com"===o.domain&&Rr(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||"undefined"===c)&&"localhost"!==o.domain&&Rr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Rl(o.host,o.secure,c,"ws"===o.scheme||"wss"===o.scheme,r,"",c!==o.subdomain),path:new Ei(o.pathString)}},lc=function(u){let r="",o="",c="",p="",w="",A=!0,$="https",X=443;if("string"==typeof u){let ue=u.indexOf("//");ue>=0&&($=u.substring(0,ue-1),u=u.substring(ue+2));let Qe=u.indexOf("/");-1===Qe&&(Qe=u.length);let at=u.indexOf("?");-1===at&&(at=u.length),r=u.substring(0,Math.min(Qe,at)),Qe<at&&(p=function Yc(u){let r="";const o=u.split("/");for(let c=0;c<o.length;c++)if(o[c].length>0){let p=o[c];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}r+="/"+p}return r}(u.substring(Qe,at)));const Et=function Gf(u){const r={};"?"===u.charAt(0)&&(u=u.substring(1));for(const o of u.split("&")){if(0===o.length)continue;const c=o.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):wr(`Invalid query segment '${o}' in query '${u}'`)}return r}(u.substring(Math.min(u.length,at)));ue=r.indexOf(":"),ue>=0?(A="https"===$||"wss"===$,X=parseInt(r.substring(ue+1),10)):ue=r.length;const $t=r.slice(0,ue);if("localhost"===$t.toLowerCase())o="localhost";else if($t.split(".").length<=2)o=$t;else{const Ht=r.indexOf(".");c=r.substring(0,Ht).toLowerCase(),o=r.substring(Ht+1),w=c}"ns"in Et&&(w=Et.ns)}return{host:r,port:X,domain:o,subdomain:c,secure:A,scheme:$,pathString:p,namespace:w}},Zc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lv=function(){let u=0;const r=[];return function(o){const c=o===u;let p;u=o;const w=new Array(8);for(p=7;p>=0;p--)w[p]=Zc.charAt(o%64),o=Math.floor(o/64);(0,U.hu)(0===o,"Cannot push at time == 0");let A=w.join("");if(c){for(p=11;p>=0&&63===r[p];p--)r[p]=0;r[p]++}else for(p=0;p<12;p++)r[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)A+=Zc.charAt(r[p]);return(0,U.hu)(20===A.length,"nextPushId: Length should be 20."),A}}();class uc{constructor(r,o,c,p){this.eventType=r,this.eventRegistration=o,this.snapshot=c,this.prevName=p}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class Cm{constructor(r,o,c){this.eventRegistration=r,this.error=o,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class wu{constructor(r,o){this.snapshotCallback=r,this.cancelCallback=o}onValue(r,o){this.snapshotCallback.call(null,r,o)}onCancel(r){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class uv{constructor(r,o){this._repo=r,this._path=o}cancel(){const r=new U.BH;return k_(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){ta("OnDisconnect.remove",this._path);const r=new U.BH;return wm(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){ta("OnDisconnect.set",this._path),vu("OnDisconnect.set",r,this._path,!1);const o=new U.BH;return wm(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}setWithPriority(r,o){ta("OnDisconnect.setWithPriority",this._path),vu("OnDisconnect.setWithPriority",r,this._path,!1),kd("OnDisconnect.setWithPriority",o,!1);const c=new U.BH;return function F_(u,r,o,c,p){const w=Ms(o,c);u.server_.onDisconnectPut(r.toString(),w.val(!0),(A,$)=>{"ok"===A&&Gu(u.onDisconnect_,r,w),Wl(0,p,A,$)})}(this._repo,this._path,r,o,c.wrapCallback(()=>{})),c.promise}update(r){ta("OnDisconnect.update",this._path),_u("OnDisconnect.update",r,this._path,!1);const o=new U.BH;return function rg(u,r,o,c){if((0,U.xb)(o))return Zt("onDisconnect().update() called with empty data.  Don't do anything."),void Wl(0,c,"ok",void 0);u.server_.onDisconnectMerge(r.toString(),o,(p,w)=>{"ok"===p&&eo(o,(A,$)=>{const X=Ms($);Gu(u.onDisconnect_,Zi(r,A),X)}),Wl(0,c,p,w)})}(this._repo,this._path,r,o.wrapCallback(()=>{})),o.promise}}class ro{constructor(r,o,c,p){this._repo=r,this._path=o,this._queryParams=c,this._orderByCalled=p}get key(){return Tr(this._path)?null:to(this._path)}get ref(){return new sl(this._repo,this._path)}get _queryIdentifier(){const r=zu(this._queryParams),o=Hi(r);return"{}"===o?"default":o}get _queryObject(){return zu(this._queryParams)}isEqual(r){if(!((r=(0,U.m9)(r))instanceof ro))return!1;const o=this._repo===r._repo,c=xa(this._path,r._path);return o&&c&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Go(u){let r="";for(let o=u.pieceNum_;o<u.pieces_.length;o++)""!==u.pieces_[o]&&(r+="/"+encodeURIComponent(String(u.pieces_[o])));return r||"/"}(this._path)}}function Kf(u,r){if(!0===u._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Iu(u){let r=null,o=null;if(u.hasStart()&&(r=u.getIndexStartValue()),u.hasEnd()&&(o=u.getIndexEndValue()),u.getIndex()===no){const c="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==As)throw new Error(c);if("string"!=typeof r)throw new Error(p)}if(u.hasEnd()){if(u.getIndexEndName()!==Es)throw new Error(c);if("string"!=typeof o)throw new Error(p)}}else if(u.getIndex()===Gi){if(null!=r&&!Sh(r)||null!=o&&!Sh(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(u.getIndex()instanceof hh||u.getIndex()===wf,"unknown index type."),null!=r&&"object"==typeof r||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fh(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class sl extends ro{constructor(r,o){super(r,o,new Na,!1)}get parent(){const r=Ft(this._path);return null===r?null:new sl(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ba{constructor(r,o,c){this._node=r,this.ref=o,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const o=new Ei(r),c=Kl(this.ref,r);return new Ba(this._node.getChild(o),c,Gi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(c,p)=>r(new Ba(p,Kl(this.ref,c),Gi)))}hasChild(r){const o=new Ei(r);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cv(u,r){return(u=(0,U.m9)(u))._checkNotDeleted("ref"),void 0!==r?Kl(u._root,r):u._root}function Ud(u,r){(u=(0,U.m9)(u))._checkNotDeleted("refFromURL");const o=Wf(r,u._repo.repoInfo_.nodeAdmin);Ld("refFromURL",o);const c=o.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&c.host!==u._repo.repoInfo_.host&&Rr("refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+u._repo.repoInfo_.host+")"),cv(u,o.path.toString())}function Kl(u,r){return null===Ir((u=(0,U.m9)(u))._path)?Mh("child","path",r,!1):Fd("child","path",r,!1),new sl(u._repo,Zi(u._path,r))}function Cu(u,r){u=(0,U.m9)(u),ta("set",u._path),vu("set",r,u._path,!1);const o=new U.BH;return Kc(u._repo,u._path,r,null,o.wrapCallback(()=>{})),o.promise}function dv(u,r){_u("update",r,u._path,!1);const o=new U.BH;return function ac(u,r,o,c){Ps(u,"update",{path:r.toString(),value:o});let p=!0;const w=_l(u),A={};if(eo(o,($,X)=>{p=!1,A[$]=Kp(Zi(r,$),Ms(X),u.serverSyncTree_,w)}),p)Zt("update() called with empty data.  Don't do anything."),Wl(0,c,"ok",void 0);else{const $=Ph(u),X=function Jy(u,r,o,c){!function Td(u,r,o,c){(0,U.hu)(c>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:r,children:o,writeId:c,visible:!0}),u.visibleWrites=bf(u.visibleWrites,r,o),u.lastWriteId=c}(u.pendingWriteTree_,r,o,c);const p=Vi.fromObject(o);return ic(u,new qu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,p))}(u.serverSyncTree_,r,A,$);Rh(u.eventQueue_,X),u.server_.merge(r.toString(),o,(ue,Qe)=>{const at="ok"===ue;at||wr("update at "+r+" failed: "+ue);const Et=pu(u.serverSyncTree_,$,!at),$t=Et.length>0?$d(u,r):r;Ia(u.eventQueue_,$t,Et),Wl(0,c,ue,Qe)}),eo(o,ue=>{const Qe=fo(u,Zi(r,ue));$d(u,Qe)}),Ia(u.eventQueue_,r,[])}}(u._repo,u._path,r,o.wrapCallback(()=>{})),o.promise}function hv(u){u=(0,U.m9)(u);const r=new wu(()=>{}),o=new Lh(r);return function ng(u,r,o){const c=function Eh(u,r){const o=r._path;let c=null;u.syncPointTree_.foreachOnPath(o,(ue,Qe)=>{const at=ao(ue,o);c=c||hu(Qe,at)});let p=u.syncPointTree_.get(o);p?c=c||hu(p,li()):(p=new Af,u.syncPointTree_=u.syncPointTree_.set(o,p));const w=null!=c,A=w?new qr(c,!0,!1):null;return function dm(u){return ml(u.viewCache_)}(mm(p,r,Sd(u.pendingWriteTree_,r._path),w?A.getNode():tr.EMPTY_NODE,w))}(u.serverSyncTree_,r);return null!=c?Promise.resolve(c):u.server_.get(r).then(p=>{const w=Ms(p).withIndex(r._queryParams.getIndex());let A;if(il(u.serverSyncTree_,r,o,!0),r._queryParams.loadsAllData())A=nc(u.serverSyncTree_,r._path,w);else{const $=Ih(u.serverSyncTree_,r);A=Of(u.serverSyncTree_,r._path,w,$)}return Ia(u.eventQueue_,r._path,A),Pf(u.serverSyncTree_,r,o,null,!0),w},p=>(Ps(u,"get for query "+(0,U.Wl)(r)+" failed: "+p),Promise.reject(new Error(p))))}(u._repo,u,o).then(c=>new Ba(c,new sl(u._repo,u._path),u._queryParams.getIndex()))}class Lh{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,o){const c=o._queryParams.getIndex();return new uc("value",this,new Ba(r.snapshotNode,new sl(o._repo,o._path),c))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new Cm(this,r,o):null}matches(r){return r instanceof Lh&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bu{constructor(r,o){this.eventType=r,this.callbackContext=o}respondsTo(r){let o="children_added"===r?"child_added":r;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(r,o){return this.callbackContext.hasCancelCallback?new Cm(this,r,o):null}createEvent(r,o){(0,U.hu)(null!=r.childName,"Child events should have a childName.");const c=Kl(new sl(o._repo,o._path),r.childName),p=o._queryParams.getIndex();return new uc(r.type,this,new Ba(r.snapshotNode,c,p),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof bu&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qf(u,r,o,c,p){let w;if("object"==typeof c&&(w=void 0,p=c),"function"==typeof c&&(w=c),p&&p.onlyOnce){const X=o,ue=(Qe,at)=>{ig(u._repo,u,$),X(Qe,at)};ue.userCallback=o.userCallback,ue.context=o.context,o=ue}const A=new wu(o,w||void 0),$="value"===r?new Lh(A):new bu(r,A);return function Oh(u,r,o){let c;c=".info"===Ir(r._path)?il(u.infoSyncTree_,r,o):il(u.serverSyncTree_,r,o),eg(u.eventQueue_,r._path,c)}(u._repo,u,$),()=>ig(u._repo,u,$)}function bm(u,r,o,c){return qf(u,"value",r,o,c)}function lg(u,r,o,c){return qf(u,"child_added",r,o,c)}function Co(u,r,o,c){return qf(u,"child_changed",r,o,c)}function Dm(u,r,o,c){return qf(u,"child_moved",r,o,c)}function fv(u,r,o,c){return qf(u,"child_removed",r,o,c)}function Sm(u,r,o){let c=null;const p=o?new wu(o):null;"value"===r?c=new Lh(p):r&&(c=new bu(r,p)),ig(u._repo,u,c)}class El{}class Tm extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("endAt",this._value,r._path,!0);const o=fh(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class ug extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("endBefore",this._value,r._path,!1);const o=function wd(u,r,o){let c;return c=fh(u,r,u.index_===no||o?o:As),c.endBeforeSet_=!0,c}(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class V_ extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("startAt",this._value,r._path,!0);const o=Hu(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class gv extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){vu("startAfter",this._value,r._path,!1);const o=function ou(u,r,o){let c;return c=Hu(u,r,u.index_===no||o?o:Es),c.startAfterSet_=!0,c}(r._queryParams,this._value,this._key);if(Fh(o),Iu(o),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ro(r._repo,r._path,o,r._orderByCalled)}}class Qc extends El{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(r._repo,r._path,function Ll(u,r){const o=u.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="l",o}(r._queryParams,this._limit),r._orderByCalled)}}class Yf extends El{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ro(r._repo,r._path,function Bl(u,r){const o=u.copy();return o.limitSet_=!0,o.limit_=r,o.viewFrom_="r",o}(r._queryParams,this._limit),r._orderByCalled)}}class Bh extends El{constructor(r){super(),this._path=r}_apply(r){Kf(r,"orderByChild");const o=new Ei(this._path);if(Tr(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const c=new hh(o),p=tl(r._queryParams,c);return Iu(p),new ro(r._repo,r._path,p,!0)}}class Qf extends El{_apply(r){Kf(r,"orderByKey");const o=tl(r._queryParams,no);return Iu(o),new ro(r._repo,r._path,o,!0)}}class zd extends El{_apply(r){Kf(r,"orderByPriority");const o=tl(r._queryParams,Gi);return Iu(o),new ro(r._repo,r._path,o,!0)}}class Am extends El{_apply(r){Kf(r,"orderByValue");const o=tl(r._queryParams,wf);return Iu(o),new ro(r._repo,r._path,o,!0)}}class $h extends El{constructor(r,o){super(),this._value=r,this._key=o}_apply(r){if(vu("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Tm(this._value,this._key)._apply(new V_(this._value,this._key)._apply(r))}}function Ko(u,...r){let o=(0,U.m9)(u);for(const c of r)o=c._apply(o);return o}(function Vp(u){(0,U.hu)(!xd,"__referenceConstructor has already been defined"),xd=u})(sl),function ym(u){(0,U.hu)(!tc,"__referenceConstructor has already been defined"),tc=u}(sl);const Vh={};function pg(u,r,o,c,p){let w=c||u.options.databaseURL;void 0===w&&(u.options.projectId||Rr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zt("Using default host for project ",u.options.projectId),w=`${u.options.projectId}-default-rtdb.firebaseio.com`);let X,ue,A=Wf(w,p),$=A.repoInfo;typeof process<"u"&&process.env&&(ue=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ue?(X=!0,w=`http://${ue}?ns=${$.namespace}`,A=Wf(w,p),$=A.repoInfo):X=!A.repoInfo.secure;const Qe=p&&X?new us(us.OWNER):new Tc(u.name,u.options,r);Ld("Invalid Firebase Database URL",A),Tr(A.path)||Rr("Database URL must point to the root of a Firebase Database (not including a child path).");const at=function U_(u,r,o,c){let p=Vh[r.name];p||(p={},Vh[r.name]=p);let w=p[u.toURLString()];return w&&Rr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new xh(u,false,o,c),p[u.toURLString()]=w,w}($,u,Qe,new dl(u.name,o));return new vE(at,u)}class vE{constructor(r,o){this._repoInternal=r,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Uf(u,r,o){if(u.stats_=Ut(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new Rs(u.repoInfo_,(c,p,w,A)=>{N_(u,c,p,w,A)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>sv(u,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(o)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}u.persistentConnection_=new lr(u.repoInfo_,r,(c,p,w,A)=>{N_(u,c,p,w,A)},c=>{sv(u,c)},c=>{!function gE(u,r){eo(r,(o,c)=>{jf(u,o,c)})}(u,c)},u.authTokenProvider_,u.appCheckProvider_,o),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(c=>{u.server_.refreshAuthToken(c)}),u.appCheckProvider_.addTokenChangeListener(c=>{u.server_.refreshAppCheckToken(c.token)}),u.statsReporter_=function Yt(u,r){const o=u.toString();return Ke[o]||(Ke[o]=r()),Ke[o]}(u.repoInfo_,()=>new $o(u.stats_,u.server_)),u.infoData_=new Id,u.infoSyncTree_=new Io({startListening:(c,p,w,A)=>{let $=[];const X=u.infoData_.getNode(c._path);return X.isEmpty()||($=nc(u.infoSyncTree_,c._path,X),setTimeout(()=>{A("ok")},0)),$},stopListening:()=>{}}),jf(u,"connected",!1),u.serverSyncTree_=new Io({startListening:(c,p,w,A)=>(u.server_.listen(c,w,p,($,X)=>{const ue=A($,X);Ia(u.eventQueue_,c._path,ue)}),[]),stopListening:(c,p)=>{u.server_.unlisten(c,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sl(this._repo,li())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Mm(u,r){const o=Vh[r];(!o||o[u.key]!==u)&&Rr(`Database ${r}(${u.repoInfo_}) has already been deleted.`),Nh(u),delete o[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&Rr("Cannot call "+r+" on a deleted database.")}}function gg(){Ac.IS_TRANSPORT_INITIALIZED&&wr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function mg(){gg(),Is.forceDisallow()}function yg(){gg(),Za.forceDisallow(),Is.forceAllow()}function xm(u,r){Bt(u,r)}const Pm={".sv":"timestamp"};class _v{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}lr.prototype.simpleListen=function(u,r){this.sendRequest("q",{p:u},r)},lr.prototype.echo=function(u,r){this.sendRequest("echo",{d:u},r)},function vg(u){qi(Ie.SDK_VERSION),(0,Ie._registerComponent)(new ve.wA("database",(r,{instanceIdentifier:o})=>pg(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(er,"0.14.4",u),(0,Ie.registerVersion)(er,"0.14.4","esm2017")}();const wv=new Ue.Yd("@firebase/database-compat"),Nm=function(u){wv.warn("FIREBASE WARNING: "+u)};class Eg{constructor(r){this._delegate=r}cancel(r){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",r,!0);const o=this._delegate.cancel();return r&&o.then(()=>r(null),c=>r(c)),o}remove(r){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",r,!0);const o=this._delegate.remove();return r&&o.then(()=>r(null),c=>r(c)),o}set(r,o){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",o,!0);const c=this._delegate.set(r);return o&&c.then(()=>o(null),p=>o(p)),c}setWithPriority(r,o,c){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",c,!0);const p=this._delegate.setWithPriority(r,o);return c&&p.then(()=>c(null),w=>c(w)),p}update(r,o){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let w=0;w<r.length;++w)p[""+w]=r[w];r=p,Nm("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",o,!0);const c=this._delegate.update(r);return o&&c.then(()=>o(null),p=>o(p)),c}}class km{constructor(r,o){this.committed=r,this.snapshot=o}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Du{constructor(r,o){this._database=r,this._delegate=o}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),Fd("DataSnapshot.child","path",r,!1),new Du(this._database,this._delegate.child(r))}hasChild(r){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Fd("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(o=>r(new Du(this._database,o)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new $a(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class bo{constructor(r,o){this.database=r,this._delegate=o}on(r,o,c,p){var w;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",o,!1);const A=bo.getCancelAndContextArgs_("Query.on",c,p),$=(ue,Qe)=>{o.call(A.context,new Du(this.database,ue),Qe)};$.userCallback=o,$.context=A.context;const X=null===(w=A.cancel)||void 0===w?void 0:w.bind(A.context);switch(r){case"value":return bm(this._delegate,$,X),o;case"child_added":return lg(this._delegate,$,X),o;case"child_removed":return fv(this._delegate,$,X),o;case"child_changed":return Co(this._delegate,$,X),o;case"child_moved":return Dm(this._delegate,$,X),o;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,o,c){if((0,U.Dv)("Query.off",0,3,arguments.length),function(u,r,o){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,U.Wj)("Query.off","callback",o,!0),(0,U.lb)("Query.off","context",c,!0),o){const p=()=>{};p.userCallback=o,p.context=c,Sm(this._delegate,r,p)}else Sm(this._delegate,r)}get(){return hv(this._delegate).then(r=>new Du(this.database,r))}once(r,o,c,p){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",o,!0);const w=bo.getCancelAndContextArgs_("Query.once",c,p),A=new U.BH,$=(ue,Qe)=>{const at=new Du(this.database,ue);o&&o.call(w.context,at,Qe),A.resolve(at)};$.userCallback=o,$.context=w.context;const X=ue=>{w.cancel&&w.cancel.call(w.context,ue),A.reject(ue)};switch(r){case"value":bm(this._delegate,$,X,{onlyOnce:!0});break;case"child_added":lg(this._delegate,$,X,{onlyOnce:!0});break;case"child_removed":fv(this._delegate,$,X,{onlyOnce:!0});break;case"child_changed":Co(this._delegate,$,X,{onlyOnce:!0});break;case"child_moved":Dm(this._delegate,$,X,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return A.promise}limitToFirst(r){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new bo(this.database,Ko(this._delegate,function dg(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Qc(u)}(r)))}limitToLast(r){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new bo(this.database,Ko(this._delegate,function Zf(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Yf(u)}(r)))}orderByChild(r){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new bo(this.database,Ko(this._delegate,function hg(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Fd("orderByChild","path",u,!1),new Bh(u)}(r)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new bo(this.database,Ko(this._delegate,function Hd(){return new Qf}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new bo(this.database,Ko(this._delegate,function Xf(){return new zd}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new bo(this.database,Ko(this._delegate,function fg(){return new Am}()))}startAt(r=null,o){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new bo(this.database,Ko(this._delegate,function pv(u=null,r){return Ah("startAt","key",r,!0),new V_(u,r)}(r,o)))}startAfter(r=null,o){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new bo(this.database,Ko(this._delegate,function mv(u,r){return Ah("startAfter","key",r,!0),new gv(u,r)}(r,o)))}endAt(r=null,o){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new bo(this.database,Ko(this._delegate,function $_(u,r){return Ah("endAt","key",r,!0),new Tm(u,r)}(r,o)))}endBefore(r=null,o){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new bo(this.database,Ko(this._delegate,function cg(u,r){return Ah("endBefore","key",r,!0),new ug(u,r)}(r,o)))}equalTo(r,o){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new bo(this.database,Ko(this._delegate,function yE(u,r){return Ah("equalTo","key",r,!0),new $h(u,r)}(r,o)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof bo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,o,c){const p={cancel:void 0,context:void 0};if(o&&c)p.cancel=o,(0,U.Wj)(r,"cancel",p.cancel,!0),p.context=c,(0,U.lb)(r,"context",p.context,!0);else if(o)if("object"==typeof o&&null!==o)p.context=o;else{if("function"!=typeof o)throw new Error((0,U.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=o}return p}get ref(){return new $a(this.database,new sl(this._delegate._repo,this._delegate._path))}}class $a extends bo{constructor(r,o){super(r,new ro(o._repo,o._path,new Na,!1)),this.database=r,this._delegate=o}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new $a(this.database,Kl(this._delegate,r))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new $a(this.database,r):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new $a(this.database,this._delegate.root)}set(r,o){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",o,!0);const c=Cu(this._delegate,r);return o&&c.then(()=>o(null),p=>o(p)),c}update(r,o){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const p={};for(let w=0;w<r.length;++w)p[""+w]=r[w];r=p,Nm("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ta("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",o,!0);const c=dv(this._delegate,r);return o&&c.then(()=>o(null),p=>o(p)),c}setWithPriority(r,o,c){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",c,!0);const p=function jd(u,r,o){if(ta("setWithPriority",u._path),vu("setWithPriority",r,u._path,!1),kd("setWithPriority",o,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const c=new U.BH;return Kc(u._repo,u._path,r,o,c.wrapCallback(()=>{})),c.promise}(this._delegate,r,o);return c&&p.then(()=>c(null),w=>c(w)),p}remove(r){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",r,!0);const o=function ag(u){return ta("remove",u._path),Cu(u,null)}(this._delegate);return r&&o.then(()=>r(null),c=>r(c)),o}transaction(r,o,c){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,U.Wj)("Reference.transaction","onComplete",o,!0),function(u,r,o,c){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,c);const p=function Jc(u,r,o){var c;if(u=(0,U.m9)(u),ta("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const p=null===(c=null==o?void 0:o.applyLocally)||void 0===c||c,w=new U.BH,$=bm(u,()=>{});return function L_(u,r,o,c,p,w){Ps(u,"transaction on "+r);const A={path:r,update:o,onComplete:c,status:null,order:j(),applyLocally:w,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},$=kh(u,r,void 0);A.currentInputSnapshot=$;const X=A.update($.val());if(void 0===X)A.unwatcher(),A.currentOutputSnapshotRaw=null,A.currentOutputSnapshotResolved=null,A.onComplete&&A.onComplete(null,!1,A.currentInputSnapshot);else{Th("transaction failed: Data returned ",X,A.path),A.status=0;const ue=zc(u.transactionQueueTree_,r),Qe=mu(ue)||[];let at;Qe.push(A),Gc(ue,Qe),"object"==typeof X&&null!==X&&(0,U.r3)(X,".priority")?(at=(0,U.DV)(X,".priority"),(0,U.hu)(Sh(at),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):at=(rc(u.serverSyncTree_,r)||tr.EMPTY_NODE).getPriority().val();const Et=_l(u),$t=Ms(X,at),Ht=qp($t,$,Et);A.currentOutputSnapshotRaw=$t,A.currentOutputSnapshotResolved=Ht,A.currentWriteId=Ph(u);const cn=Ci(u.serverSyncTree_,r,Ht,A.currentWriteId,A.applyLocally);Ia(u.eventQueue_,r,cn),qc(u,u.transactionQueueTree_)}}(u._repo,u._path,r,(X,ue,Qe)=>{let at=null;X?w.reject(X):(at=new Ba(Qe,new sl(u._repo,u._path),Gi),w.resolve(new _v(ue,at)))},$,p),w.promise}(this._delegate,r,{applyLocally:c}).then(w=>new km(w.committed,new Du(this.database,w.snapshot)));return o&&p.then(w=>o(null,w.committed,w.snapshot),w=>o(w,!1,null)),p}setPriority(r,o){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",o,!0);const c=function cc(u,r){u=(0,U.m9)(u),ta("setPriority",u._path),kd("setPriority",r,!1);const o=new U.BH;return Kc(u._repo,Zi(u._path,".priority"),r,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,r);return o&&c.then(()=>o(null),p=>o(p)),c}push(r,o){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",o,!0);const c=function og(u,r){u=(0,U.m9)(u),ta("push",u._path),vu("push",r,u._path,!0);const o=Bd(u._repo),c=lv(o),p=Kl(u,c),w=Kl(u,c);let A;return A=null!=r?Cu(w,r).then(()=>w):Promise.resolve(w),p.then=A.then.bind(A),p.catch=A.then.bind(A,void 0),p}(this._delegate,r),p=c.then(A=>new $a(this.database,A));o&&p.then(()=>o(null),A=>o(A));const w=new $a(this.database,c);return w.then=p.then.bind(p),w.catch=p.catch.bind(p,void 0),w}onDisconnect(){return ta("Reference.onDisconnect",this._delegate._path),new Eg(new uv(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wg{constructor(r,o){this._delegate=r,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:mg,forceLongPolling:yg}}useEmulator(r,o,c={}){!function Uh(u,r,o,c={}){(u=(0,U.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&Rr("Cannot call useEmulator() after instance has already been initialized.");const p=u._repoInternal;let w;if(p.repoInfo_.nodeAdmin)c.mockUserToken&&Rr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new us(us.OWNER);else if(c.mockUserToken){const A="string"==typeof c.mockUserToken?c.mockUserToken:(0,U.Sg)(c.mockUserToken,u.app.options.projectId);w=new us(A)}!function yv(u,r,o,c){u.repoInfo_=new Rl(`${r}:${o}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),c&&(u.authTokenProvider_=c)}(p,r,o,w)}(this._delegate,r,o,c)}ref(r){if((0,U.Dv)("database.ref",0,1,arguments.length),r instanceof $a){const o=Ud(this._delegate,r.toString());return new $a(this,o)}{const o=cv(this._delegate,r);return new $a(this,o)}}refFromURL(r){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const c=Ud(this._delegate,r);return new $a(this,c)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function Gd(u){(u=(0,U.m9)(u))._checkNotDeleted("goOffline"),Nh(u._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function Wd(u){(u=(0,U.m9)(u))._checkNotDeleted("goOnline"),function Im(u){u.persistentConnection_&&u.persistentConnection_.resume(tg)}(u._repo)}(this._delegate)}}wg.ServerValue={TIMESTAMP:function Om(){return Pm}(),increment:u=>function _E(u){return{".sv":{increment:u}}}(u)};var jh=Object.freeze({__proto__:null,initStandalone:function rp({app:u,url:r,version:o,customAuthImpl:c,namespace:p,nodeAdmin:w=!1}){qi(o);const A=new ve.zt("auth-internal",new ve.H0("database-standalone"));return A.setComponent(new ve.wA("auth-internal",()=>c,"PRIVATE")),{instance:new wg(pg(u,A,void 0,r,w),u),namespace:p}}});const Hh=wg.ServerValue;!function zh(u){u.INTERNAL.registerComponent(new ve.wA("database-compat",(r,{instanceIdentifier:o})=>{const c=r.getProvider("app-compat").getImmediate(),p=r.getProvider("database").getImmediate({identifier:o});return new wg(p,c)},"PUBLIC").setServiceProps({Reference:$a,Query:bo,Database:wg,DataSnapshot:Du,enableLogging:xm,INTERNAL:jh,ServerValue:Hh}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.4")}(qt.Z);var Su=L(9260);function Gh(u){return null==u}function Wh(u){return"function"==typeof u.set}function Cg(u,r){return Wh(r)?r:u.ref(r)}function Fm(u,r){if(function dc(u){return"string"==typeof u}(u))return r.stringCase();if(Wh(u))return r.firebaseCase();if(function Ig(u){return"function"==typeof u.exportVal}(u))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function Kd(u,r,o="on",c=Xs.z){return new pr.y(p=>{let w=null;return w=u[o](r,(A,$)=>{c.schedule(()=>{p.next({snapshot:A,prevKey:$})}),"once"===o&&c.schedule(()=>p.complete())},A=>{c.schedule(()=>p.error(A))}),"on"===o?{unsubscribe(){null!=w&&u.off(r,w)}}:{unsubscribe(){}}}).pipe((0,Fn.U)(p=>{const{snapshot:w,prevKey:A}=p;let $=null;return w.exists()&&($=w.key),{type:r,payload:w,prevKey:A,key:$}}),(0,ys.B)())}function hc(u,r){const o=u.length;for(let c=0;c<o;c++)if(u[c].payload.key===r)return c;return-1}function Kh(u,r){const{payload:o,prevKey:c,key:p}=r,w=hc(u,p),A=function Bm(u,r){if(Gh(r))return 0;{const o=hc(u,r);return-1===o?u.length:o+1}}(u,c);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let $=null;r.payload.forEach(X=>{const ue={payload:X,type:"value",prevKey:$,key:X.key};return $=X.key,u=[...u,ue],!1})}return u;case"child_added":if(w>-1){const $=u[w-1];($&&$.key||null)!==c&&(u=u.filter(X=>X.payload.key!==o.key)).splice(A,0,r)}else{if(null==c)return[r,...u];(u=u.slice()).splice(A,0,r)}return u;case"child_removed":return u.filter($=>$.payload.key!==o.key);case"child_changed":return u.map($=>$.payload.key===p?r:$);case"child_moved":if(w>-1){const $=u.splice(w,1)[0];return(u=u.slice()).splice(A,0,$),u}return u;default:return u}}function wl(u){return(Gh(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function j_(u,r,o){return function Lm(u,r,o){return Kd(u,"value","once",o).pipe((0,zs.w)(c=>{const p=[(0,Ki.of)(c)];return r.forEach(w=>p.push(Kd(u,w,"on",o))),(0,jo.T)(...p).pipe((0,Ho.R)(Kh,[]))}),(0,Ti.x)())}(u,r=wl(r),o)}function bg(u,r,o){const c=(r=wl(r)).map(p=>Kd(u,p,"on",o));return(0,jo.T)(...c)}function $m(u,r){return function(c,p){return Fm(c,{stringCase:()=>u.child(c)[r](p),firebaseCase:()=>c[r](p),snapshotCase:()=>c.ref[r](p)})}}function Vm(u){return function(o){return o?Fm(o,{stringCase:()=>u.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):u.remove()}}function sp(u,r){return function(){return Kd(u,"value","on",r)}}const bv=new g.OlP("angularfire2.realtimeDatabaseURL"),Zr=new g.OlP("angularfire2.database.use-emulator");let Um=(()=>{class u{constructor(o,c,p,w,A,$,X,ue,Qe,at,Et,$t,Ht,cn,Pn){this.schedulers=$;const Cr=X,ni=(0,os.on)(o,A,c);ue&&(0,as.nw)(ni,A,Qe,Et,$t,Ht,at,cn),this.database=(0,os.cc)(`${ni.name}.database.${p}`,"AngularFireDatabase",ni.name,()=>{const wi=A.runOutsideAngular(()=>ni.database(p||void 0));return Cr&&wi.useEmulator(...Cr),wi},[Cr])}list(o,c){const p=this.schedulers.ngZone.runOutsideAngular(()=>Cg(this.database,o));let w=p;return c&&(w=c(p)),function Tu(u,r){const o=r.schedulers.outsideAngular,c=r.schedulers.ngZone.run(()=>u.ref);return{query:u,update:$m(c,"update"),set:$m(c,"set"),push:p=>c.push(p),remove:Vm(c),snapshotChanges:p=>j_(u,p,o).pipe(be.iC),stateChanges:p=>bg(u,p,o).pipe(be.iC),auditTrail:p=>function EE(u,r,o){return function ip(u,r,o){return function Iv(u,r){return Kd(u,"value","on",r).pipe((0,Fn.U)(o=>{let c;return o.payload.forEach(p=>(c=p.key,!1)),{data:o,lastKeyToLoad:c}}))}(u,o).pipe(function T(...u){const r=(0,ne.jO)(u);return(0,Gs.e)((o,c)=>{const p=u.length,w=new Array(p);let A=u.map(()=>!1),$=!1;for(let X=0;X<p;X++)(0,Ai.Xf)(u[X]).subscribe((0,vs.x)(c,ue=>{w[X]=ue,!$&&!A[X]&&(A[X]=!0,($=A.every(ia.y))&&(A=null))},S.Z));o.subscribe((0,vs.x)(c,X=>{if($){const ue=[X,...w];c.next(r?r(...ue):ue)}}))})}(r),(0,Fn.U)(([p,w])=>{const A=p.lastKeyToLoad,$=w.map(X=>X.key);return{actions:w,lastKeyToLoad:A,loadedKeys:$}}),function Q(u){return(0,Gs.e)((r,o)=>{let c=!1,p=0;r.subscribe((0,vs.x)(o,w=>(c||(c=!u(w,p++)))&&o.next(w)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,Fn.U)(p=>p.actions))}(u,bg(u,r).pipe((0,Ho.R)((p,w)=>[...p,w],[])),o)}(u,p,o).pipe(be.iC),valueChanges:(p,w)=>j_(u,p,o).pipe((0,Fn.U)($=>$.map(X=>w&&w.idField?Object.assign(Object.assign({},X.payload.val()),{[w.idField]:X.key}):X.payload.val())),be.iC)}}(w,this)}object(o){return function Cv(u,r){return{query:u,snapshotChanges:()=>sp(u,r.schedulers.outsideAngular)().pipe(be.iC),update:o=>u.ref.update(o),set:o=>u.ref.set(o),remove:()=>u.ref.remove(),valueChanges:()=>sp(u,r.schedulers.outsideAngular)().pipe(be.iC,(0,Fn.U)(c=>c.payload.exists()?c.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Cg(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(os.Dh),g.LFG(os.xv,8),g.LFG(bv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(be.HU),g.LFG(Zr,8),g.LFG(as.zQ,8),g.LFG(as.Qv,8),g.LFG(as.L6,8),g.LFG(as._Q,8),g.LFG(as.rT,8),g.LFG(as.lh,8),g.LFG(as.f7,8),g.LFG(Ce.nm,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Dv=(()=>{class u{constructor(){Su.Z.registerVersion("angularfire",be.q4.full,"rtdb-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[Um]}),u})();var Sv=L(515),H_=L(5363),Dg=L(3151),z_=L(5132),Sg=L(9300),Tv=L(7579);var Hm=L(5577),zm=L(8675),Gm=L(1520);const Ym="firebase_screen_id",Mg="outlet",Zh="screen_class",Zm="screen_name";let Ca=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const up={},Qm=u=>{const r=[u[Zh],u[Mg]].join("#");if(up.hasOwnProperty(r))return up[r];{const o=Ca++;return up[r]=o,o}},ey=new g.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Q_=new g.OlP("angularfire2.analytics.appVersion"),ty=new g.OlP("angularfire2.analytics.appName"),X_=new g.OlP("angularfire2.analytics.debugMode"),ny=new g.OlP("angularfire2.analytics.config"),dp="dataLayer";let da=(()=>{class u{constructor(o,c,p,w,A,$,X,ue,Qe){if(this.analyticsInitialized=new Promise(()=>{}),(0,gi.NF)(X)){window[dp]=window[dp]||[];const Et=(...cn)=>"config"===cn[0]&&"firebase"===cn[2].origin&&(this.measurementId=cn[1],!0),$t=cn=>{window.gtag=(...Pn)=>{cn&&cn(...Pn),"event"===Pn[0]&&Pn[2].send_to===this.measurementId&&(w&&(Pn[2].app_name=w),p&&(Pn[2].app_version=p)),A&&typeof console<"u"&&console.info(...Pn),function(...Cr){window[dp].push(arguments)}(...Pn)}};window[dp].some(Et)?(this.analyticsInitialized=Promise.resolve(),$t()):this.analyticsInitialized=new Promise(cn=>{$t((...Pn)=>{Et(...Pn)&&cn()})}),$&&this.updateConfig($),A&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const at=(0,Ki.of)(void 0).pipe((0,H_.Q)(Qe.outsideAngular),(0,zs.w)(z_.Gb),(0,zs.w)(Et=>Et?ue.runOutsideAngular(()=>L.e(3814).then(L.bind(L,3814))):Sv.E),(0,Fn.U)(()=>(0,os.cc)("analytics","AngularFireAnalytics",o.name,()=>{const Et=o.analytics();return!1===c&&Et.setAnalyticsCollectionEnabled(!1),Et},[o,c,$,A])),(0,Dg.d)({bufferSize:1,refCount:!1}));return(0,os.pX)(this,at,ue)}updateConfig(o){return(0,ms.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},o),{update:!0}))})}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(os.Ot),g.LFG(ey,8),g.LFG(Q_,8),g.LFG(ty,8),g.LFG(X_,8),g.LFG(ny,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(be.HU))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Xh=(()=>{class u{constructor(o,c,p,w){if(this.disposables=[],Su.Z.registerVersion("angularfire",be.q4.full,"compat-user-tracking"),(0,gi.PM)(c))this.initialized=Promise.resolve();else{let A;this.initialized=w.runOutsideAngular(()=>new Promise($=>A=$)),this.disposables=[p.authState.subscribe($=>{o.setUserId(null==$?void 0:$.uid),A()}),p.credential.subscribe($=>{if($){const X=$.user.isAnonymous?"anonymous":$.additionalUserInfo.providerId;$.additionalUserInfo.isNewUser&&o.logEvent("sign_up",{method:X}),o.logEvent("login",{method:X})}})]}}ngOnDestroy(){this.disposables.forEach(o=>o.unsubscribe())}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(da),g.LFG(g.Lbi),g.LFG(as.zQ),g.LFG(g.R0b))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),Ng=(()=>{class u{constructor(o,c,p,w,A,$){if(Su.Z.registerVersion("angularfire",be.q4.full,"compat-screen-tracking"),!c||!o)return this;A.runOutsideAngular(()=>{this.disposable=((u,r,o)=>u.events.pipe((0,Sg.h)(p=>p instanceof ae.jw)).pipe((0,zs.w)(p=>{var w;const $=(null===(w=u.parseUrl(u.url.replace(/(?:\().+(?:\))/g,$t=>$t.replace("://",":///"))).root.children[p.snapshot.outlet])||void 0===w?void 0:w.toString())||"",X=u.routerState.root.children.map($t=>$t).find($t=>$t.outlet===p.snapshot.outlet);if(!X)return(0,Ki.of)(null);let ue=X;for(;ue.firstChild;)ue=ue.firstChild;const Qe=ue.pathFromRoot.map($t=>{var Ht;return null===(Ht=$t.routeConfig)||void 0===Ht?void 0:Ht.path}).filter($t=>$t).join("/")||"/",at={[Zm]:Qe,page_path:`/${$}`,firebase_event_origin:"auto",firebase_screen:Qe,[Mg]:p.snapshot.outlet};r&&(at.page_title=r.getTitle());let Et=X.component;if(Et){if(Et===ae.fw){let $t=p.snapshot;for(;$t.firstChild;)$t=$t.firstChild;Et=$t.component}}else Et=p.snapshot.component;if("string"==typeof Et)return(0,Ki.of)(Object.assign(Object.assign({},at),{[Zh]:Et}));if(Et){const $t=o.resolveComponentFactory(Et);return(0,Ki.of)(Object.assign(Object.assign({},at),{[Zh]:$t.selector}))}return(0,Ki.of)(null)}),(0,Sg.h)(p=>!!p),(0,Fn.U)(p=>Object.assign({firebase_screen_class:p[Zh],[Ym]:Qm(p)},p)),function jm(u,r,o,c){return(0,Gs.e)((p,w)=>{let A;r&&"function"!=typeof r?({duration:o,element:A,connector:c}=r):A=r;const $=new Map,X=Ht=>{$.forEach(Ht),Ht(w)},ue=Ht=>X(cn=>cn.error(Ht));let Qe=0,at=!1;const Et=new vs.Q(w,Ht=>{try{const cn=u(Ht);let Pn=$.get(cn);if(!Pn){$.set(cn,Pn=c?c():new Tv.x);const Cr=function $t(Ht,cn){const Pn=new pr.y(Cr=>{Qe++;const ni=cn.subscribe(Cr);return()=>{ni.unsubscribe(),0==--Qe&&at&&Et.unsubscribe()}});return Pn.key=Ht,Pn}(cn,Pn);if(w.next(Cr),o){const ni=(0,vs.x)(Pn,()=>{Pn.complete(),null==ni||ni.unsubscribe()},void 0,void 0,()=>$.delete(cn));Et.add((0,Ai.Xf)(o(Cr)).subscribe(ni))}}Pn.next(A?A(Ht):Ht)}catch(cn){ue(cn)}},()=>X(Ht=>Ht.complete()),ue,()=>$.clear(),()=>(at=!0,0===Qe));p.subscribe(Et)})}(p=>p[Mg]),(0,Hm.z)(p=>p.pipe((0,Ti.x)((w,A)=>JSON.stringify(w)===JSON.stringify(A)),(0,zm.O)(void 0),(0,Gm.G)(),(0,Fn.U)(([w,A])=>w?Object.assign({firebase_previous_class:w[Zh],firebase_previous_screen:w[Zm],firebase_previous_id:w[Ym]},A):A)))))(c,p,w).pipe((0,zs.w)(X=>(0,ms.mG)(this,void 0,void 0,function*(){return $&&(yield $.initialized),yield o.logEvent("screen_view",X)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(da),g.LFG(ae.F0,8),g.LFG(y.Dx,8),g.LFG(g._Vd),g.LFG(g.R0b),g.LFG(Xh,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),Lv=(()=>{class u{constructor(o,c,p){Su.Z.registerVersion("angularfire",be.q4.full,"analytics-compat"),o.app.then(()=>{})}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(da),g.LFG(Ng,8),g.LFG(Xh,8))},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[da]}),u})();var iy=L(1085),qd=L(8996);const Cl="firebasestorage.googleapis.com",Bv="storageBucket";class qs extends U.ZR{constructor(r,o,c=0){super(uy(r),`Firebase Storage: ${o} (${uy(r)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qs.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return uy(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Or=(()=>((Or=Or||{}).UNKNOWN="unknown",Or.OBJECT_NOT_FOUND="object-not-found",Or.BUCKET_NOT_FOUND="bucket-not-found",Or.PROJECT_NOT_FOUND="project-not-found",Or.QUOTA_EXCEEDED="quota-exceeded",Or.UNAUTHENTICATED="unauthenticated",Or.UNAUTHORIZED="unauthorized",Or.UNAUTHORIZED_APP="unauthorized-app",Or.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Or.INVALID_CHECKSUM="invalid-checksum",Or.CANCELED="canceled",Or.INVALID_EVENT_NAME="invalid-event-name",Or.INVALID_URL="invalid-url",Or.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Or.NO_DEFAULT_BUCKET="no-default-bucket",Or.CANNOT_SLICE_BLOB="cannot-slice-blob",Or.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Or.NO_DOWNLOAD_URL="no-download-url",Or.INVALID_ARGUMENT="invalid-argument",Or.INVALID_ARGUMENT_COUNT="invalid-argument-count",Or.APP_DELETED="app-deleted",Or.INVALID_ROOT_OPERATION="invalid-root-operation",Or.INVALID_FORMAT="invalid-format",Or.INTERNAL_ERROR="internal-error",Or.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Or))();function uy(u){return"storage/"+u}function kg(){return new qs(Or.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Fg(){return new qs(Or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fp(){return new qs(Or.CANCELED,"User canceled the upload/download.")}function gp(){return new qs(Or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yd(u){return new qs(Or.INVALID_ARGUMENT,u)}function dy(){return new qs(Or.APP_DELETED,"The Firebase app was deleted.")}function Vv(u){return new qs(Or.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mp(u,r){return new qs(Or.INVALID_FORMAT,"String does not match format '"+u+"': "+r)}function bl(u){throw new qs(Or.INTERNAL_ERROR,"Internal error: "+u)}class qo{constructor(r,o){this.bucket=r,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,o){let c;try{c=qo.makeFromUrl(r,o)}catch{return new qo(r,"")}if(""===c.path)return c;throw function e0(u){return new qs(Or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(r)}static makeFromUrl(r,o){let c=null;const p="([A-Za-z0-9.\\-_]+)",$=new RegExp("^gs://"+p+"(/(.*))?$","i");function ue(bi){bi.path_=decodeURIComponent(bi.path)}const at=o.replace(/[.]/g,"\\."),wi=[{regex:$,indices:{bucket:1,path:3},postModify:function w(bi){"/"===bi.path.charAt(bi.path.length-1)&&(bi.path_=bi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${at}/v[A-Za-z0-9_]+/b/${p}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ue},{regex:new RegExp(`^https?://${o===Cl?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${p}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ue}];for(let bi=0;bi<wi.length;bi++){const Sa=wi[bi],Ha=Sa.regex.exec(r);if(Ha){let fa=Ha[Sa.indices.path];fa||(fa=""),c=new qo(Ha[Sa.indices.bucket],fa),Sa.postModify(c);break}}if(null==c)throw function pp(u){return new qs(Or.INVALID_URL,"Invalid URL '"+u+"'.")}(r);return c}}class Uv{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function rf(u){return"string"==typeof u||u instanceof String}function gy(u){return Zd()&&u instanceof Blob}function Zd(){return typeof Blob<"u"&&!(0,U.UG)()}function sf(u,r,o,c){if(c<r)throw Yd(`Invalid value for '${u}'. Expected ${r} or greater.`);if(c>o)throw Yd(`Invalid value for '${u}'. Expected ${o} or less.`)}function ql(u,r,o){let c=r;return null==o&&(c=`https://${r}`),`${o}://${c}/v0${u}`}function yp(u){const r=encodeURIComponent;let o="?";for(const c in u)u.hasOwnProperty(c)&&(o=o+(r(c)+"=")+r(u[c])+"&");return o=o.slice(0,-1),o}var Vo=(()=>((Vo=Vo||{})[Vo.NO_ERROR=0]="NO_ERROR",Vo[Vo.NETWORK_ERROR=1]="NETWORK_ERROR",Vo[Vo.ABORT=2]="ABORT",Vo))();function $g(u,r){const o=u>=500&&u<600,p=-1!==[408,429].indexOf(u),w=-1!==r.indexOf(u);return o||p||w}class t0{constructor(r,o,c,p,w,A,$,X,ue,Qe,at,Et=!0){this.url_=r,this.method_=o,this.headers_=c,this.body_=p,this.successCodes_=w,this.additionalRetryCodes_=A,this.callback_=$,this.errorCallback_=X,this.timeout_=ue,this.progressCallback_=Qe,this.connectionFactory_=at,this.retry=Et,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($t,Ht)=>{this.resolve_=$t,this.reject_=Ht,this.start_()})}start_(){const o=(c,p)=>{const w=this.resolve_,A=this.reject_,$=p.connection;if(p.wasSuccessCode)try{const X=this.callback_($,$.getResponse());!function fy(u){return void 0!==u}(X)?w():w(X)}catch(X){A(X)}else if(null!==$){const X=kg();X.serverResponse=$.getErrorText(),A(this.errorCallback_?this.errorCallback_($,X):X)}else A(p.canceled?this.appDelete_?dy():fp():Fg())};this.canceled_?o(0,new Vg(!1,null,!0)):this.backoffId_=function hy(u,r,o){let c=1,p=null,w=null,A=!1,$=0;function X(){return 2===$}let ue=!1;function Qe(...Pn){ue||(ue=!0,r.apply(null,Pn))}function at(Pn){p=setTimeout(()=>{p=null,u($t,X())},Pn)}function Et(){w&&clearTimeout(w)}function $t(Pn,...Cr){if(ue)return void Et();if(Pn)return Et(),void Qe.call(null,Pn,...Cr);if(X()||A)return Et(),void Qe.call(null,Pn,...Cr);let wi;c<64&&(c*=2),1===$?($=2,wi=0):wi=1e3*(c+Math.random()),at(wi)}let Ht=!1;function cn(Pn){Ht||(Ht=!0,Et(),!ue&&(null!==p?(Pn||($=2),clearTimeout(p),at(0)):Pn||($=1)))}return at(0),w=setTimeout(()=>{A=!0,cn(!0)},o),cn}((c,p)=>{if(p)return void c(!1,new Vg(!1,null,!0));const w=this.connectionFactory_();this.pendingConnection_=w;const A=$=>{null!==this.progressCallback_&&this.progressCallback_($.loaded,$.lengthComputable?$.total:-1)};null!==this.progressCallback_&&w.addUploadProgressListener(A),w.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&w.removeUploadProgressListener(A),this.pendingConnection_=null;const $=w.getErrorCode()===Vo.NO_ERROR,X=w.getStatus();if(!$||$g(X,this.additionalRetryCodes_)&&this.retry){const Qe=w.getErrorCode()===Vo.ABORT;return void c(!1,new Vg(!1,null,Qe))}const ue=-1!==this.successCodes_.indexOf(X);c(!0,new Vg(ue,w))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function jv(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Vg{constructor(r,o,c){this.wasSuccessCode=r,this.connection=o,this.canceled=!!c}}function CE(...u){const r=function s0(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const o=new r;for(let c=0;c<u.length;c++)o.append(u[c]);return o.getBlob()}if(Zd())return new Blob(u);throw new qs(Or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vp{constructor(r,o){this.data=r,this.contentType=o||null}}function Ug(u,r){switch(u){case na.RAW:return new vp(_p(r));case na.BASE64:case na.BASE64URL:return new vp(Va(u,r));case na.DATA_URL:return new vp(function ra(u){const r=new oi(u);return r.base64?Va(na.BASE64,r.rest):function Wv(u){let r;try{r=decodeURIComponent(u)}catch{throw mp(na.DATA_URL,"Malformed data URL.")}return _p(r)}(r.rest)}(r),function nd(u){return new oi(u).contentType}(r))}throw kg()}function _p(u){const r=[];for(let o=0;o<u.length;o++){let c=u.charCodeAt(o);c<=127?r.push(c):c<=2047?r.push(192|c>>6,128|63&c):55296==(64512&c)?o<u.length-1&&56320==(64512&u.charCodeAt(o+1))?(c=65536|(1023&c)<<10|1023&u.charCodeAt(++o),r.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|63&c)):r.push(239,191,189):56320==(64512&c)?r.push(239,191,189):r.push(224|c>>12,128|c>>6&63,128|63&c)}return new Uint8Array(r)}function Va(u,r){switch(u){case na.BASE64:{const p=-1!==r.indexOf("-"),w=-1!==r.indexOf("_");if(p||w)throw mp(u,"Invalid character '"+(p?"-":"_")+"' found: is it base64url encoded?");break}case na.BASE64URL:{const p=-1!==r.indexOf("+"),w=-1!==r.indexOf("/");if(p||w)throw mp(u,"Invalid character '"+(p?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function o0(u){if(typeof atob>"u")throw function Lg(u){return new qs(Or.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(r)}catch(p){throw p.message.includes("polyfill")?p:mp(u,"Invalid character found")}const c=new Uint8Array(o.length);for(let p=0;p<o.length;p++)c[p]=o.charCodeAt(p);return c}class oi{constructor(r){this.base64=!1,this.contentType=null;const o=r.match(/^data:([^,]+)?,/);if(null===o)throw mp(na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=o[1]||null;null!=c&&(this.base64=function rd(u,r){return u.length>=r.length&&u.substring(u.length-r.length)===r}(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=r.substring(r.indexOf(",")+1)}}class po{constructor(r,o){let c=0,p="";gy(r)?(this.data_=r,c=r.size,p=r.type):r instanceof ArrayBuffer?(o?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),c=this.data_.length):r instanceof Uint8Array&&(o?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),c=r.length),this.size_=c,this.type_=p}size(){return this.size_}type(){return this.type_}slice(r,o){if(gy(this.data_)){const p=function Gv(u,r,o){return u.webkitSlice?u.webkitSlice(r,o):u.mozSlice?u.mozSlice(r,o):u.slice?u.slice(r,o):null}(this.data_,r,o);return null===p?null:new po(p)}{const c=new Uint8Array(this.data_.buffer,r,o-r);return new po(c,!0)}}static getBlob(...r){if(Zd()){const o=r.map(c=>c instanceof po?c.data_:c);return new po(CE.apply(null,o))}{const o=r.map(A=>rf(A)?Ug(na.RAW,A).data:A.data_);let c=0;o.forEach(A=>{c+=A.byteLength});const p=new Uint8Array(c);let w=0;return o.forEach(A=>{for(let $=0;$<A.length;$++)p[w++]=A[$]}),new po(p,!0)}}uploadData(){return this.data_}}function Os(u){let r;try{r=JSON.parse(u)}catch{return null}return function Bg(u){return"object"==typeof u&&!Array.isArray(u)}(r)?r:null}function Qd(u){const r=u.lastIndexOf("/",u.length-2);return-1===r?u:u.slice(r+1)}function af(u,r){return r}class Do{constructor(r,o,c,p){this.server=r,this.local=o||r,this.writable=!!c,this.xform=p||af}}let gc=null;function Mu(){if(gc)return gc;const u=[];u.push(new Do("bucket")),u.push(new Do("generation")),u.push(new Do("metageneration")),u.push(new Do("name","fullPath",!0));const o=new Do("name");o.xform=function r(w,A){return function id(u){return!rf(u)||u.length<2?u:Qd(u)}(A)},u.push(o);const p=new Do("size");return p.xform=function c(w,A){return void 0!==A?Number(A):A},u.push(p),u.push(new Do("timeCreated")),u.push(new Do("updated")),u.push(new Do("md5Hash",null,!0)),u.push(new Do("cacheControl",null,!0)),u.push(new Do("contentDisposition",null,!0)),u.push(new Do("contentEncoding",null,!0)),u.push(new Do("contentLanguage",null,!0)),u.push(new Do("contentType",null,!0)),u.push(new Do("metadata","customMetadata",!0)),gc=u,gc}function yy(u,r,o){const c=Os(r);return null===c?null:function Kv(u,r,o){const c={type:"file"},p=o.length;for(let w=0;w<p;w++){const A=o[w];c[A.local]=A.xform(c,r[A.server])}return function sd(u,r){Object.defineProperty(u,"ref",{get:function o(){const w=new qo(u.bucket,u.fullPath);return r._makeStorageReference(w)}})}(c,u),c}(u,c,o)}function vy(u,r){const o={},c=r.length;for(let p=0;p<c;p++){const w=r[p];w.writable&&(o[w.server]=u[w.local])}return JSON.stringify(o)}const _y="prefixes",io="items";class Yl{constructor(r,o,c,p){this.url=r,this.method=o,this.handler=c,this.timeout=p,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ol(u){if(!u)throw kg()}function jg(u,r){return function o(c,p){const w=yy(u,p,r);return ol(null!==w),w}}function lf(u){return function r(o,c){let p;return p=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function ef(){return new qs(Or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function hp(){return new qs(Or.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function Jh(u){return new qs(Or.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===o.getStatus()?function $v(u){return new qs(Or.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):c,p.status=o.getStatus(),p.serverResponse=c.serverResponse,p}}function Hg(u){const r=lf(u);return function o(c,p){let w=r(c,p);return 404===c.getStatus()&&(w=function J_(u){return new qs(Or.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),w.serverResponse=p.serverResponse,w}}function a0(u,r,o){const p=ql(r.fullServerUrl(),u.host,u._protocol),A=u.maxOperationRetryTime,$=new Yl(p,"GET",jg(u,o),A);return $.errorHandler=Hg(r),$}function l0(u,r,o,c,p){const w={};w.prefix=r.isRoot?"":r.path+"/",o&&o.length>0&&(w.delimiter=o),c&&(w.pageToken=c),p&&(w.maxResults=p);const $=ql(r.bucketOnlyServerUrl(),u.host,u._protocol),ue=u.maxOperationRetryTime,Qe=new Yl($,"GET",function bE(u,r){return function o(c,p){const w=function qv(u,r,o){const c=Os(o);return null===c?null:function Ey(u,r,o){const c={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[_y])for(const p of o[_y]){const w=p.replace(/\/$/,""),A=u._makeStorageReference(new qo(r,w));c.prefixes.push(A)}if(o[io])for(const p of o[io]){const w=u._makeStorageReference(new qo(r,p.name));c.items.push(w)}return c}(u,r,c)}(u,r,p);return ol(null!==w),w}}(u,r.bucket),ue);return Qe.urlParams=w,Qe.errorHandler=lf(r),Qe}function wp(u,r,o){const c=Object.assign({},o);return c.fullPath=u.path,c.size=r.size(),c.contentType||(c.contentType=function Ru(u,r){return u&&u.contentType||r&&r.type()||"application/octet-stream"}(null,r)),c}class Pu{constructor(r,o,c,p){this.current=r,this.total=o,this.finalized=!!c,this.metadata=p||null}}function zg(u,r){let o=null;try{o=u.getResponseHeader("X-Goog-Upload-Status")}catch{ol(!1)}return ol(!!o&&-1!==(r||["active"]).indexOf(o)),o}const c0={STATE_CHANGED:"state_changed"},So={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uf(u){switch(u){case"running":case"pausing":case"canceling":return So.RUNNING;case"paused":return So.PAUSED;case"success":return So.SUCCESS;case"canceled":return So.CANCELED;default:return So.ERROR}}class Cp{constructor(r,o,c){if(function py(u){return"function"==typeof u}(r)||null!=o||null!=c)this.next=r,this.error=null!=o?o:void 0,this.complete=null!=c?c:void 0;else{const w=r;this.next=w.next,this.error=w.error,this.complete=w.complete}}}function mc(u){return(...r)=>{Promise.resolve().then(()=>u(...r))}}let Xd=null;class Gg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vo.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vo.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vo.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,o,c,p){if(this.sent_)throw bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,r,!0),void 0!==p)for(const w in p)p.hasOwnProperty(w)&&this.xhr_.setRequestHeader(w,p[w].toString());return void 0!==c?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class SE extends Gg{initXhr(){this.xhr_.responseType="text"}}function Zl(){return Xd?Xd():new SE}class by{constructor(r,o,c=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=o,this._metadata=c,this._mappings=Mu(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=p=>{if(this._request=void 0,this._chunkMultiplier=1,p._codeEquals(Or.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const w=this.isExponentialBackoffExpired();if($g(p.status,[])){if(!w)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();p=Fg()}this._error=p,this._transition("error")}},this._metadataErrorHandler=p=>{this._request=void 0,p._codeEquals(Or.CANCELED)?this.completeTransitions_():(this._error=p,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((p,w)=>{this._resolve=p,this._reject=w,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return o=>this._updateProgress(r+o)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,c])=>{switch(this._state){case"running":r(o,c);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,o)=>{const c=function Ip(u,r,o,c,p){const w=r.bucketOnlyServerUrl(),A=wp(r,c,p),$={name:A.fullPath},X=ql(w,u.host,u._protocol),Qe={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${c.size()}`,"X-Goog-Upload-Header-Content-Type":A.contentType,"Content-Type":"application/json; charset=utf-8"},at=vy(A,o),Ht=new Yl(X,"POST",function $t(cn){let Pn;zg(cn);try{Pn=cn.getResponseHeader("X-Goog-Upload-URL")}catch{ol(!1)}return ol(rf(Pn)),Pn},u.maxUploadRetryTime);return Ht.urlParams=$,Ht.headers=Qe,Ht.body=at,Ht.errorHandler=lf(r),Ht}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(c,Zl,r,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._uploadUrl=w,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((o,c)=>{const p=function wy(u,r,o,c){const X=new Yl(o,"POST",function w(ue){const Qe=zg(ue,["active","final"]);let at=null;try{at=ue.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ol(!1)}at||ol(!1);const Et=Number(at);return ol(!isNaN(Et)),new Pu(Et,c.size(),"final"===Qe)},u.maxUploadRetryTime);return X.headers={"X-Goog-Upload-Command":"query"},X.errorHandler=lf(r),X}(this._ref.storage,this._ref._location,r,this._blob),w=this._ref.storage._makeRequest(p,Zl,o,c);this._request=w,w.getPromise().then(A=>{this._request=void 0,this._updateProgress(A.current),this._needToFetchStatus=!1,A.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,o=new Pu(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken((p,w)=>{let A;try{A=function ad(u,r,o,c,p,w,A,$){const X=new Pu(0,0);if(A?(X.current=A.current,X.total=A.total):(X.current=0,X.total=c.size()),c.size()!==X.total)throw function tf(){return new qs(Or.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ue=X.total-X.current;let Qe=ue;p>0&&(Qe=Math.min(Qe,p));const at=X.current;let $t="";$t=0===Qe?"finalize":ue===Qe?"upload, finalize":"upload";const Ht={"X-Goog-Upload-Command":$t,"X-Goog-Upload-Offset":`${X.current}`},cn=c.slice(at,at+Qe);if(null===cn)throw gp();const wi=new Yl(o,"POST",function Pn(bi,Sa){const Ha=zg(bi,["active","final"]),ha=X.current+Qe,fa=c.size();let fd;return fd="final"===Ha?jg(r,w)(bi,Sa):null,new Pu(ha,fa,"final"===Ha,fd)},r.maxUploadRetryTime);return wi.headers=Ht,wi.body=cn.uploadData(),wi.progressCallback=$||null,wi.errorHandler=lf(u),wi}(this._ref._location,this._ref.storage,c,this._blob,r,this._mappings,o,this._makeProgressCallback())}catch(X){return this._error=X,void this._transition("error")}const $=this._ref.storage._makeRequest(A,Zl,p,w,!1);this._request=$,$.getPromise().then(X=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(X.current),X.finalized?(this._metadata=X.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,o)=>{const c=a0(this._ref.storage,this._ref._location,this._mappings),p=this._ref.storage._makeRequest(c,Zl,r,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,o)=>{const c=function xu(u,r,o,c,p){const w=r.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"},X=function $(){let wi="";for(let bi=0;bi<2;bi++)wi+=Math.random().toString().slice(2);return wi}();A["Content-Type"]="multipart/related; boundary="+X;const ue=wp(r,c,p),Qe=vy(ue,o),$t=po.getBlob("--"+X+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Qe+"\r\n--"+X+"\r\nContent-Type: "+ue.contentType+"\r\n\r\n",c,"\r\n--"+X+"--");if(null===$t)throw gp();const Ht={name:ue.fullPath},cn=ql(w,u.host,u._protocol),Cr=u.maxUploadRetryTime,ni=new Yl(cn,"POST",jg(u,o),Cr);return ni.urlParams=Ht,ni.headers=A,ni.body=$t.uploadData(),ni.errorHandler=lf(r),ni}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(c,Zl,r,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const o=this._transferred;this._transferred=r,this._transferred!==o&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=r,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=fp(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=uf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,o,c,p){const w=new Cp(o||void 0,c||void 0,p||void 0);return this._addObserver(w),()=>{this._removeObserver(w)}}then(r,o){return this._promise.then(r,o)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const o=this._observers.indexOf(r);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(uf(this._state)){case So.SUCCESS:mc(this._resolve.bind(null,this.snapshot))();break;case So.CANCELED:case So.ERROR:mc(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(uf(this._state)){case So.RUNNING:case So.PAUSED:r.next&&mc(r.next.bind(r,this.snapshot))();break;case So.SUCCESS:r.complete&&mc(r.complete.bind(r))();break;default:r.error&&mc(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class ud{constructor(r,o){this._service=r,this._location=o instanceof qo?o:qo.makeFromUrl(o,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,o){return new ud(r,o)}get root(){const r=new qo(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qd(this._location.path)}get storage(){return this._service}get parent(){const r=function go(u){if(0===u.length)return null;const r=u.lastIndexOf("/");return-1===r?"":u.slice(0,r)}(this._location.path);if(null===r)return null;const o=new qo(this._location.bucket,r);return new ud(this._service,o)}_throwIfRoot(r){if(""===this._location.path)throw Vv(r)}}function Jd(u,r,o){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,Nn.Z)(function*(u,r,o){const p=yield eh(u,{pageToken:o});r.prefixes.push(...p.prefixes),r.items.push(...p.items),null!=p.nextPageToken&&(yield Jd(u,r,p.nextPageToken))})).apply(this,arguments)}function eh(u,r){null!=r&&"number"==typeof r.maxResults&&sf("options.maxResults",1,1e3,r.maxResults);const o=r||{},c=l0(u.storage,u._location,"/",o.pageToken,o.maxResults);return u.storage.makeRequestWithTokens(c,Zl)}function cd(u){u._throwIfRoot("getDownloadURL");const r=function Ep(u,r,o){const p=ql(r.fullServerUrl(),u.host,u._protocol),A=u.maxOperationRetryTime,$=new Yl(p,"GET",function DE(u,r){return function o(c,p){const w=yy(u,p,r);return ol(null!==w),function Ns(u,r,o,c){const p=Os(r);if(null===p||!rf(p.downloadTokens))return null;const w=p.downloadTokens;if(0===w.length)return null;const A=encodeURIComponent;return w.split(",").map(ue=>{const at=u.fullPath;return ql("/b/"+A(u.bucket)+"/o/"+A(at),o,c)+yp({alt:"media",token:ue})})[0]}(w,p,u.host,u._protocol)}}(u,o),A);return $.errorHandler=Hg(r),$}(u.storage,u._location,Mu());return u.storage.makeRequestWithTokens(r,Zl).then(o=>{if(null===o)throw function nf(){return new qs(Or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function th(u,r){const o=function ba(u,r){const o=r.split("/").filter(c=>c.length>0).join("/");return 0===u.length?o:u+"/"+o}(u._location.path,r),c=new qo(u._location.bucket,o);return new ud(u.storage,c)}function h0(u,r){if(u instanceof nh){const o=u;if(null==o._bucket)throw function cy(){return new qs(Or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Bv+"' property when initializing the app?")}();const c=new ud(o,o._bucket);return null!=r?h0(c,r):c}return void 0!==r?th(u,r):u}function Jv(u,r){if(r&&function d0(u){return/^[A-Za-z]+:\/\//.test(u)}(r)){if(u instanceof nh)return function hf(u,r){return new ud(u,r)}(u,r);throw Yd("To use ref(service, url), the first argument must be a Storage instance.")}return h0(u,r)}function ff(u,r){const o=null==r?void 0:r[Bv];return null==o?null:qo.makeFromBucketSpec(o,u)}class nh{constructor(r,o,c,p,w){this.app=r,this._authProvider=o,this._appCheckProvider=c,this._url=p,this._firebaseVersion=w,this._bucket=null,this._host=Cl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=p?qo.makeFromBucketSpec(p,this._host):ff(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?qo.makeFromBucketSpec(this._url,r):ff(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){sf("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){sf("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,Nn.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const o=r._authProvider.getImmediate({optional:!0});if(o){const c=yield o.getToken();if(null!==c)return c.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,Nn.Z)(function*(){const o=r._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new ud(this,r)}_makeRequest(r,o,c,p,w=!0){if(this._deleted)return new Uv(dy());{const A=function zv(u,r,o,c,p,w,A=!0){const $=yp(u.urlParams),X=u.url+$,ue=Object.assign({},u.headers);return function r0(u,r){r&&(u["X-Firebase-GMPID"]=r)}(ue,r),function n0(u,r){null!==r&&r.length>0&&(u.Authorization="Firebase "+r)}(ue,o),function Hv(u,r){u["X-Firebase-Storage-Version"]="webjs/"+(null!=r?r:"AppManager")}(ue,w),function my(u,r){null!==r&&(u["X-Firebase-AppCheck"]=r)}(ue,c),new t0(X,u.method,ue,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,p,A)}(r,this._appId,c,p,o,this._firebaseVersion,w);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}makeRequestWithTokens(r,o){var c=this;return(0,Nn.Z)(function*(){const[p,w]=yield Promise.all([c._getAuthToken(),c._getAppCheckToken()]);return c._makeRequest(r,o,p,w).getPromise()})()}}const e_="@firebase/storage";function Yg(u,r){return Jv(u=(0,U.m9)(u),r)}function s_(u,{instanceIdentifier:r}){const o=u.getProvider("app").getImmediate(),c=u.getProvider("auth-internal"),p=u.getProvider("app-check-internal");return new nh(o,c,p,r,Ie.SDK_VERSION)}!function g0(){(0,Ie._registerComponent)(new ve.wA("storage",s_,"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(e_,"0.11.2",""),(0,Ie.registerVersion)(e_,"0.11.2","esm2017")}();class Jg{constructor(r,o,c){this._delegate=r,this.task=o,this.ref=c}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yc{constructor(r,o){this._delegate=r,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Jg(this._delegate.snapshot,this,this._ref)}then(r,o){return this._delegate.then(c=>{if(r)return r(new Jg(c,this,this._ref))},o)}on(r,o,c,p){let w;return o&&(w="function"==typeof o?A=>o(new Jg(A,this,this._ref)):{next:o.next?A=>o.next(new Jg(A,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(r,w,c||void 0,p||void 0)}}class vc{constructor(r,o){this._delegate=r,this._service=o}get prefixes(){return this._delegate.prefixes.map(r=>new Ua(r,this._service))}get items(){return this._delegate.items.map(r=>new Ua(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ua{constructor(r,o){this._delegate=r,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const o=function Zg(u,r){return th(u,r)}(this._delegate,r);return new Ua(o,this.storage)}get root(){return new Ua(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new Ua(r,this.storage)}put(r,o){return this._throwIfRoot("put"),new yc(function r_(u,r,o){return function Kg(u,r,o){return u._throwIfRoot("uploadBytesResumable"),new by(u,new po(r),o)}(u=(0,U.m9)(u),r,o)}(this._delegate,r,o),this)}putString(r,o=na.RAW,c){this._throwIfRoot("putString");const p=Ug(o,r),w=Object.assign({},c);return null==w.contentType&&null!=p.contentType&&(w.contentType=p.contentType),new yc(new by(this._delegate,new po(p.data,!0),w),this)}listAll(){return function Ry(u){return function Qv(u){const r={prefixes:[],items:[]};return Jd(u,r).then(()=>r)}(u=(0,U.m9)(u))}(this._delegate).then(r=>new vc(r,this.storage))}list(r){return function My(u,r){return eh(u=(0,U.m9)(u),r)}(this._delegate,r||void 0).then(o=>new vc(o,this.storage))}getMetadata(){return function p0(u){return function Xv(u){u._throwIfRoot("getMetadata");const r=a0(u.storage,u._location,Mu());return u.storage.makeRequestWithTokens(r,Zl)}(u=(0,U.m9)(u))}(this._delegate)}updateMetadata(r){return function Ay(u,r){return function df(u,r){u._throwIfRoot("updateMetadata");const o=function u0(u,r,o,c){const w=ql(r.fullServerUrl(),u.host,u._protocol),$=vy(o,c),ue=u.maxOperationRetryTime,Qe=new Yl(w,"PATCH",jg(u,c),ue);return Qe.headers={"Content-Type":"application/json; charset=utf-8"},Qe.body=$,Qe.errorHandler=Hg(r),Qe}(u.storage,u._location,r,Mu());return u.storage.makeRequestWithTokens(o,Zl)}(u=(0,U.m9)(u),r)}(this._delegate,r)}getDownloadURL(){return function xy(u){return cd(u=(0,U.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function i_(u){return function Sy(u){u._throwIfRoot("deleteObject");const r=function od(u,r){const c=ql(r.fullServerUrl(),u.host,u._protocol),$=new Yl(c,"DELETE",function A(X,ue){},u.maxOperationRetryTime);return $.successCodes=[200,204],$.errorHandler=Hg(r),$}(u.storage,u._location);return u.storage.makeRequestWithTokens(r,Zl)}(u=(0,U.m9)(u))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw Vv(r)}}class Ql{constructor(r,o){this.app=r,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(_c(r))throw Yd("ref() expected a child path but got a URL, use refFromURL instead.");return new Ua(Yg(this._delegate,r),this)}refFromURL(r){if(!_c(r))throw Yd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qo.makeFromUrl(r,this._delegate.host)}catch{throw Yd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ua(Yg(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,o,c={}){!function Xg(u,r,o,c={}){!function Ty(u,r,o,c={}){u.host=`${r}:${o}`,u._protocol="http";const{mockUserToken:p}=c;p&&(u._overrideAuthToken="string"==typeof p?p:(0,U.Sg)(p,u.app.options.projectId))}(u,r,o,c)}(this._delegate,r,o,c)}}function _c(u){return/^[A-Za-z]+:\/\//.test(u)}function rh(u,{instanceIdentifier:r}){const o=u.getProvider("app-compat").getImmediate(),c=u.getProvider("storage").getImmediate({identifier:r});return new Ql(o,c)}function em(u){const r=function v0(u){return new pr.y(r=>{const o=A=>r.next(A);o(u.snapshot);const w=u.on("state_changed",o);return u.then(A=>{o(A),r.complete()},A=>{o(u.snapshot),(A=>{r.error(A)})(A)}),function(){w()}}).pipe(function sy(u,r=Xs.z){return(0,Gs.e)((o,c)=>{let p=null,w=null,A=null;const $=()=>{if(p){p.unsubscribe(),p=null;const ue=w;w=null,c.next(ue)}};function X(){const ue=A+u,Qe=r.now();if(Qe<ue)return p=this.schedule(void 0,ue-Qe),void c.add(p);$()}o.subscribe((0,vs.x)(c,ue=>{w=ue,A=r.now(),p||(p=r.schedule(X,u),c.add(p))},()=>{$(),c.complete()},void 0,()=>{w=p=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,Fn.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Oy(u){return{getDownloadURL:()=>(0,Ki.of)(void 0).pipe(be.fc,(0,zs.w)(()=>u.getDownloadURL()),be.iC),getMetadata:()=>(0,Ki.of)(void 0).pipe(be.fc,(0,zs.w)(()=>u.getMetadata()),be.iC),delete:()=>(0,qd.D)(u.delete()),child:r=>Oy(u.child(r)),updateMetadata:r=>(0,qd.D)(u.updateMetadata(r)),put:(r,o)=>em(u.put(r,o)),putString:(r,o,c)=>em(u.putString(r,o,c)),list:r=>(0,qd.D)(u.list(r)),listAll:()=>(0,qd.D)(u.listAll())}}!function Py(u){const r={TaskState:So,TaskEvent:c0,StringFormat:na,Storage:Ql,Reference:Ua};u.INTERNAL.registerComponent(new ve.wA("storage-compat",rh,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(qt.Z);const ME=new g.OlP("angularfire2.storageBucket"),_0=new g.OlP("angularfire2.storage.maxUploadRetryTime"),E0=new g.OlP("angularfire2.storage.maxOperationRetryTime"),o_=new g.OlP("angularfire2.storage.use-emulator");let w0=(()=>{class u{constructor(o,c,p,w,A,$,X,ue,Qe,at){const Et=(0,os.on)(o,A,c);this.storage=(0,os.cc)(`${Et.name}.storage.${p}`,"AngularFireStorage",Et.name,()=>{const $t=A.runOutsideAngular(()=>Et.storage(p||void 0)),Ht=Qe;return Ht&&$t.useEmulator(...Ht),X&&$t.setMaxUploadRetryTime(X),ue&&$t.setMaxOperationRetryTime(ue),$t},[X,ue])}ref(o){return Oy(this.storage.ref(o))}refFromURL(o){return Oy(this.storage.refFromURL(o))}upload(o,c,p){return Oy(this.storage.ref(o)).put(c,p)}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(os.Dh),g.LFG(os.xv,8),g.LFG(ME,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(be.HU),g.LFG(_0,8),g.LFG(E0,8),g.LFG(o_,8),g.LFG(Ce.nm,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),ih=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({}),u})(),Ny=(()=>{class u{constructor(){Su.Z.registerVersion("angularfire",be.q4.full,"gcs-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[w0],imports:[ih]}),u})();class I0{}class a_{}const Ec="*";function D0(u,r=null){return{type:2,steps:u,options:r}}function S0(u){return{type:6,styles:u,offset:null}}function Ic(u){Promise.resolve().then(u)}class ja{constructor(r=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ic(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const o="start"==r?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class Dl{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let o=0,c=0,p=0;const w=this.players.length;0==w?Ic(()=>this._onFinish()):this.players.forEach(A=>{A.onDone(()=>{++o==w&&this._onFinish()}),A.onDestroy(()=>{++c==w&&this._onDestroy()}),A.onStart(()=>{++p==w&&this._onStart()})}),this.totalTime=this.players.reduce((A,$)=>Math.max(A,$.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const o=r*this.totalTime;this.players.forEach(c=>{const p=c.totalTime?Math.min(1,o/c.totalTime):1;c.setPosition(p)})}getPosition(){const r=this.players.reduce((o,c)=>null===o||c.totalTime>o.totalTime?c:o,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const o="start"==r?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}const al="!";function ky(u){return new g.vHH(3e3,!1)}function gf(u){switch(u.length){case 0:return new ja;case 1:return u[0];default:return new Dl(u)}}function OE(u,r,o,c,p=new Map,w=new Map){const A=[],$=[];let X=-1,ue=null;if(c.forEach(Qe=>{const at=Qe.get("offset"),Et=at==X,$t=Et&&ue||new Map;Qe.forEach((Ht,cn)=>{let Pn=cn,Cr=Ht;if("offset"!==cn)switch(Pn=r.normalizePropertyName(Pn,A),Cr){case al:Cr=p.get(cn);break;case Ec:Cr=w.get(cn);break;default:Cr=r.normalizeStyleValue(cn,Pn,Cr,A)}$t.set(Pn,Cr)}),Et||$.push($t),ue=$t,X=at}),A.length)throw function xi(u){return new g.vHH(3502,!1)}();return $}function N0(u,r,o,c){switch(r){case"start":u.onStart(()=>c(o&&k0(o,"start",u)));break;case"done":u.onDone(()=>c(o&&k0(o,"done",u)));break;case"destroy":u.onDestroy(()=>c(o&&k0(o,"destroy",u)))}}function k0(u,r,o){const c=o.totalTime,w=F0(u.element,u.triggerName,u.fromState,u.toState,r||u.phaseName,null==c?u.totalTime:c,!!o.disabled),A=u._data;return null!=A&&(w._data=A),w}function F0(u,r,o,c,p="",w=0,A){return{element:u,triggerName:r,fromState:o,toState:c,phaseName:p,totalTime:w,disabled:!!A}}function Xl(u,r,o){let c=u.get(r);return c||u.set(r,c=o),c}function NE(u){const r=u.indexOf(":");return[u.substring(1,r),u.slice(r+1)]}const Mw=(()=>typeof document>"u"?null:document.documentElement)();function L0(u){const r=u.parentNode||u.host||null;return r===Mw?null:r}let Ap=null,B0=!1;function $0(u,r){for(;r;){if(r===u)return!0;r=L0(r)}return!1}function V0(u,r,o){if(o)return Array.from(u.querySelectorAll(r));const c=u.querySelector(r);return c?[c]:[]}let U0=(()=>{class u{validateStyleProperty(o){return function kE(u){Ap||(Ap=function FE(){return typeof document<"u"?document.body:null}()||{},B0=!!Ap.style&&"WebkitAppearance"in Ap.style);let r=!0;return Ap.style&&!function Rw(u){return"ebkit"==u.substring(1,6)}(u)&&(r=u in Ap.style,!r&&B0&&(r="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Ap.style)),r}(o)}matchesElement(o,c){return!1}containsElement(o,c){return $0(o,c)}getParentElement(o){return L0(o)}query(o,c,p){return V0(o,c,p)}computeStyle(o,c,p){return p||""}animate(o,c,p,w,A,$=[],X){return new ja(p,w)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),u_=(()=>{class u{}return u.NOOP=new U0,u})();const LE=1e3,H0="ng-enter",c_="ng-leave",oh="ng-trigger",z0=".ng-trigger",d_="ng-animating",BE=".ng-animating";function dd(u){if("number"==typeof u)return u;const r=u.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:h_(parseFloat(r[1]),r[2])}function h_(u,r){return"s"===r?u*LE:u}function G0(u,r,o){return u.hasOwnProperty("duration")?u:function $r(u,r,o){let p,w=0,A="";if("string"==typeof u){const $=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===$)return r.push(ky()),{duration:0,delay:0,easing:""};p=h_(parseFloat($[1]),$[2]);const X=$[3];null!=X&&(w=h_(parseFloat(X),$[4]));const ue=$[5];ue&&(A=ue)}else p=u;if(!o){let $=!1,X=r.length;p<0&&(r.push(function P0(){return new g.vHH(3100,!1)}()),$=!0),w<0&&(r.push(function O0(){return new g.vHH(3101,!1)}()),$=!0),$&&r.splice(X,0,ky())}return{duration:p,delay:w,easing:A}}(u,r,o)}function Fy(u,r={}){return Object.keys(u).forEach(o=>{r[o]=u[o]}),r}function $E(u){const r=new Map;return Object.keys(u).forEach(o=>{r.set(o,u[o])}),r}function mf(u,r=new Map,o){if(o)for(let[c,p]of o)r.set(c,p);for(let[c,p]of u)r.set(c,p);return r}function Jl(u,r,o){r.forEach((c,p)=>{const w=p_(p);o&&!o.has(p)&&o.set(p,u.style[w]),u.style[w]=c})}function hd(u,r){r.forEach((o,c)=>{const p=p_(c);u.style[p]=""})}function Ys(u){return Array.isArray(u)?1==u.length?u[0]:D0(u):u}const f_=new RegExp("{{\\s*(.+?)\\s*}}","g");function W0(u){let r=[];if("string"==typeof u){let o;for(;o=f_.exec(u);)r.push(o[1]);f_.lastIndex=0}return r}function Ly(u,r,o){const c=u.toString(),p=c.replace(f_,(w,A)=>{let $=r[A];return null==$&&(o.push(function PE(u){return new g.vHH(3003,!1)}()),$=""),$.toString()});return p==c?u:p}function By(u){const r=[];let o=u.next();for(;!o.done;)r.push(o.value),o=u.next();return r}const VE=/-+([a-z0-9])/g;function p_(u){return u.replace(VE,(...r)=>r[1].toUpperCase())}function eu(u,r,o){switch(r.type){case 7:return u.visitTrigger(r,o);case 0:return u.visitState(r,o);case 1:return u.visitTransition(r,o);case 2:return u.visitSequence(r,o);case 3:return u.visitGroup(r,o);case 4:return u.visitAnimate(r,o);case 5:return u.visitKeyframes(r,o);case 6:return u.visitStyle(r,o);case 8:return u.visitReference(r,o);case 9:return u.visitAnimateChild(r,o);case 10:return u.visitAnimateRef(r,o);case 11:return u.visitQuery(r,o);case 12:return u.visitStagger(r,o);default:throw function tm(u){return new g.vHH(3004,!1)}()}}function nm(u,r){return window.getComputedStyle(u)[r]}const $y="*";function $w(u,r){const o=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(c=>function Vy(u,r,o){if(":"==u[0]){const X=function Uy(u,r){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,c)=>parseFloat(c)>parseFloat(o);case":decrement":return(o,c)=>parseFloat(c)<parseFloat(o);default:return r.push(function wn(u){return new g.vHH(3016,!1)}()),"* => *"}}(u,o);if("function"==typeof X)return void r.push(X);u=X}const c=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return o.push(function Xt(u){return new g.vHH(3015,!1)}()),r;const p=c[1],w=c[2],A=c[3];r.push(UE(p,A));"<"==w[0]&&!(p==$y&&A==$y)&&r.push(UE(A,p))}(c,o,r)):o.push(u),o}const g_=new Set(["true","1"]),m_=new Set(["false","0"]);function UE(u,r){const o=g_.has(u)||m_.has(u),c=g_.has(r)||m_.has(r);return(p,w)=>{let A=u==$y||u==p,$=r==$y||r==w;return!A&&o&&"boolean"==typeof p&&(A=p?g_.has(u):m_.has(u)),!$&&c&&"boolean"==typeof w&&($=w?g_.has(r):m_.has(r)),A&&$}}const jE=new RegExp("s*:selfs*,?","g");function y_(u,r,o,c){return new zE(u).build(r,o,c)}class zE{constructor(r){this._driver=r}build(r,o,c){const p=new GI(o);return this._resetContextStyleTimingState(p),eu(this,Ys(r),p)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,o){let c=o.queryCount=0,p=o.depCount=0;const w=[],A=[];return"@"==r.name.charAt(0)&&o.errors.push(function e(){return new g.vHH(3006,!1)}()),r.definitions.forEach($=>{if(this._resetContextStyleTimingState(o),0==$.type){const X=$,ue=X.name;ue.toString().split(/\s*,\s*/).forEach(Qe=>{X.name=Qe,w.push(this.visitState(X,o))}),X.name=ue}else if(1==$.type){const X=this.visitTransition($,o);c+=X.queryCount,p+=X.depCount,A.push(X)}else o.errors.push(function t(){return new g.vHH(3007,!1)}())}),{type:7,name:r.name,states:w,transitions:A,queryCount:c,depCount:p,options:null}}visitState(r,o){const c=this.visitStyle(r.styles,o),p=r.options&&r.options.params||null;if(c.containsDynamicStyles){const w=new Set,A=p||{};c.styles.forEach($=>{$ instanceof Map&&$.forEach(X=>{W0(X).forEach(ue=>{A.hasOwnProperty(ue)||w.add(ue)})})}),w.size&&(By(w.values()),o.errors.push(function l(u,r){return new g.vHH(3008,!1)}()))}return{type:0,name:r.name,style:c,options:p?{params:p}:null}}visitTransition(r,o){o.queryCount=0,o.depCount=0;const c=eu(this,Ys(r.animation),o);return{type:1,matchers:$w(r.expr,o.errors),animation:c,queryCount:o.queryCount,depCount:o.depCount,options:rm(r.options)}}visitSequence(r,o){return{type:2,steps:r.steps.map(c=>eu(this,c,o)),options:rm(r.options)}}visitGroup(r,o){const c=o.currentTime;let p=0;const w=r.steps.map(A=>{o.currentTime=c;const $=eu(this,A,o);return p=Math.max(p,o.currentTime),$});return o.currentTime=p,{type:3,steps:w,options:rm(r.options)}}visitAnimate(r,o){const c=function KI(u,r){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return v_(G0(u,r).duration,0,"");const o=u;if(o.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=v_(0,0,"");return w.dynamic=!0,w.strValue=o,w}const p=G0(o,r);return v_(p.duration,p.delay,p.easing)}(r.timings,o.errors);o.currentAnimateTimings=c;let p,w=r.styles?r.styles:S0({});if(5==w.type)p=this.visitKeyframes(w,o);else{let A=r.styles,$=!1;if(!A){$=!0;const ue={};c.easing&&(ue.easing=c.easing),A=S0(ue)}o.currentTime+=c.duration+c.delay;const X=this.visitStyle(A,o);X.isEmptyStep=$,p=X}return o.currentAnimateTimings=null,{type:4,timings:c,style:p,options:null}}visitStyle(r,o){const c=this._makeStyleAst(r,o);return this._validateStyleAst(c,o),c}_makeStyleAst(r,o){const c=[],p=Array.isArray(r.styles)?r.styles:[r.styles];for(let $ of p)"string"==typeof $?$===Ec?c.push($):o.errors.push(new g.vHH(3002,!1)):c.push($E($));let w=!1,A=null;return c.forEach($=>{if($ instanceof Map&&($.has("easing")&&(A=$.get("easing"),$.delete("easing")),!w))for(let X of $.values())if(X.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:c,easing:A,offset:r.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(r,o){const c=o.currentAnimateTimings;let p=o.currentTime,w=o.currentTime;c&&w>0&&(w-=c.duration+c.delay),r.styles.forEach(A=>{"string"!=typeof A&&A.forEach(($,X)=>{const ue=o.collectedStyles.get(o.currentQuerySelector),Qe=ue.get(X);let at=!0;Qe&&(w!=p&&w>=Qe.startTime&&p<=Qe.endTime&&(o.errors.push(function E(u,r,o,c,p){return new g.vHH(3010,!1)}()),at=!1),w=Qe.startTime),at&&ue.set(X,{startTime:w,endTime:p}),o.options&&function UI(u,r,o){const c=r.params||{},p=W0(u);p.length&&p.forEach(w=>{c.hasOwnProperty(w)||o.push(function xE(u){return new g.vHH(3001,!1)}())})}($,o.options,o.errors)})})}visitKeyframes(r,o){const c={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function k(){return new g.vHH(3011,!1)}()),c;let w=0;const A=[];let $=!1,X=!1,ue=0;const Qe=r.steps.map(Cr=>{const ni=this._makeStyleAst(Cr,o);let wi=null!=ni.offset?ni.offset:function WI(u){if("string"==typeof u)return null;let r=null;if(Array.isArray(u))u.forEach(o=>{if(o instanceof Map&&o.has("offset")){const c=o;r=parseFloat(c.get("offset")),c.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const o=u;r=parseFloat(o.get("offset")),o.delete("offset")}return r}(ni.styles),bi=0;return null!=wi&&(w++,bi=ni.offset=wi),X=X||bi<0||bi>1,$=$||bi<ue,ue=bi,A.push(bi),ni});X&&o.errors.push(function Y(){return new g.vHH(3012,!1)}()),$&&o.errors.push(function ie(){return new g.vHH(3200,!1)}());const at=r.steps.length;let Et=0;w>0&&w<at?o.errors.push(function Se(){return new g.vHH(3202,!1)}()):0==w&&(Et=1/(at-1));const $t=at-1,Ht=o.currentTime,cn=o.currentAnimateTimings,Pn=cn.duration;return Qe.forEach((Cr,ni)=>{const wi=Et>0?ni==$t?1:Et*ni:A[ni],bi=wi*Pn;o.currentTime=Ht+cn.delay+bi,cn.duration=bi,this._validateStyleAst(Cr,o),Cr.offset=wi,c.styles.push(Cr)}),c}visitReference(r,o){return{type:8,animation:eu(this,Ys(r.animation),o),options:rm(r.options)}}visitAnimateChild(r,o){return o.depCount++,{type:9,options:rm(r.options)}}visitAnimateRef(r,o){return{type:10,animation:this.visitReference(r.animation,o),options:rm(r.options)}}visitQuery(r,o){const c=o.currentQuerySelector,p=r.options||{};o.queryCount++,o.currentQuery=r;const[w,A]=function Vw(u){const r=!!u.split(/\s*,\s*/).find(o=>":self"==o);return r&&(u=u.replace(jE,"")),u=u.replace(/@\*/g,z0).replace(/@\w+/g,o=>z0+"-"+o.slice(1)).replace(/:animating/g,BE),[u,r]}(r.selector);o.currentQuerySelector=c.length?c+" "+w:w,Xl(o.collectedStyles,o.currentQuerySelector,new Map);const $=eu(this,Ys(r.animation),o);return o.currentQuery=null,o.currentQuerySelector=c,{type:11,selector:w,limit:p.limit||0,optional:!!p.optional,includeSelf:A,animation:$,originalSelector:r.selector,options:rm(r.options)}}visitStagger(r,o){o.currentQuery||o.errors.push(function nt(){return new g.vHH(3013,!1)}());const c="full"===r.timings?{duration:0,delay:0,easing:"full"}:G0(r.timings,o.errors,!0);return{type:12,animation:eu(this,Ys(r.animation),o),timings:c,options:null}}}class GI{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rm(u){return u?(u=Fy(u)).params&&(u.params=function Uw(u){return u?Fy(u):null}(u.params)):u={},u}function v_(u,r,o){return{duration:u,delay:r,easing:o}}function im(u,r,o,c,p,w,A=null,$=!1){return{type:1,element:u,keyframes:r,preStyleProps:o,postStyleProps:c,duration:p,delay:w,totalTime:p+w,easing:A,subTimeline:$}}class __{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,o){let c=this._map.get(r);c||this._map.set(r,c=[]),c.push(...o)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const jy=new RegExp(":enter","g"),zw=new RegExp(":leave","g");function Y0(u,r,o,c,p,w=new Map,A=new Map,$,X,ue=[]){return(new Gw).buildKeyframes(u,r,o,c,p,w,A,$,X,ue)}class Gw{buildKeyframes(r,o,c,p,w,A,$,X,ue,Qe=[]){ue=ue||new __;const at=new Q0(r,o,ue,p,w,Qe,[]);at.options=X;const Et=X.delay?dd(X.delay):0;at.currentTimeline.delayNextStep(Et),at.currentTimeline.setStyles([A],null,at.errors,X),eu(this,c,at);const $t=at.timelines.filter(Ht=>Ht.containsAnimation());if($t.length&&$.size){let Ht;for(let cn=$t.length-1;cn>=0;cn--){const Pn=$t[cn];if(Pn.element===o){Ht=Pn;break}}Ht&&!Ht.allowOnlyTimelineStyles()&&Ht.setStyles([$],null,at.errors,X)}return $t.length?$t.map(Ht=>Ht.buildKeyframes()):[im(o,[],[],[],0,Et,"",!1)]}visitTrigger(r,o){}visitState(r,o){}visitTransition(r,o){}visitAnimateChild(r,o){const c=o.subInstructions.get(o.element);if(c){const p=o.createSubContext(r.options),w=o.currentTimeline.currentTime,A=this._visitSubInstructions(c,p,p.options);w!=A&&o.transformIntoNewTimeline(A)}o.previousNode=r}visitAnimateRef(r,o){const c=o.createSubContext(r.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],o,c),this.visitReference(r.animation,c),o.transformIntoNewTimeline(c.currentTimeline.currentTime),o.previousNode=r}_applyAnimationRefDelays(r,o,c){for(const w of r){const A=null==w?void 0:w.delay;if(A){var p;const $="number"==typeof A?A:dd(Ly(A,null!==(p=null==w?void 0:w.params)&&void 0!==p?p:{},o.errors));c.delayNextStep($)}}}_visitSubInstructions(r,o,c){let w=o.currentTimeline.currentTime;const A=null!=c.duration?dd(c.duration):null,$=null!=c.delay?dd(c.delay):null;return 0!==A&&r.forEach(X=>{const ue=o.appendInstructionToTimeline(X,A,$);w=Math.max(w,ue.duration+ue.delay)}),w}visitReference(r,o){o.updateOptions(r.options,!0),eu(this,r.animation,o),o.previousNode=r}visitSequence(r,o){const c=o.subContextCount;let p=o;const w=r.options;if(w&&(w.params||w.delay)&&(p=o.createSubContext(w),p.transformIntoNewTimeline(),null!=w.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=Z0);const A=dd(w.delay);p.delayNextStep(A)}r.steps.length&&(r.steps.forEach(A=>eu(this,A,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>c&&p.transformIntoNewTimeline()),o.previousNode=r}visitGroup(r,o){const c=[];let p=o.currentTimeline.currentTime;const w=r.options&&r.options.delay?dd(r.options.delay):0;r.steps.forEach(A=>{const $=o.createSubContext(r.options);w&&$.delayNextStep(w),eu(this,A,$),p=Math.max(p,$.currentTimeline.currentTime),c.push($.currentTimeline)}),c.forEach(A=>o.currentTimeline.mergeTimelineCollectedStyles(A)),o.transformIntoNewTimeline(p),o.previousNode=r}_visitTiming(r,o){if(r.dynamic){const c=r.strValue;return G0(o.params?Ly(c,o.params,o.errors):c,o.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,o){const c=o.currentAnimateTimings=this._visitTiming(r.timings,o),p=o.currentTimeline;c.delay&&(o.incrementTime(c.delay),p.snapshotCurrentStyles());const w=r.style;5==w.type?this.visitKeyframes(w,o):(o.incrementTime(c.duration),this.visitStyle(w,o),p.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=r}visitStyle(r,o){const c=o.currentTimeline,p=o.currentAnimateTimings;!p&&c.hasCurrentStyleProperties()&&c.forwardFrame();const w=p&&p.easing||r.easing;r.isEmptyStep?c.applyEmptyStep(w):c.setStyles(r.styles,w,o.errors,o.options),o.previousNode=r}visitKeyframes(r,o){const c=o.currentAnimateTimings,p=o.currentTimeline.duration,w=c.duration,$=o.createSubContext().currentTimeline;$.easing=c.easing,r.styles.forEach(X=>{$.forwardTime((X.offset||0)*w),$.setStyles(X.styles,X.easing,o.errors,o.options),$.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles($),o.transformIntoNewTimeline(p+w),o.previousNode=r}visitQuery(r,o){const c=o.currentTimeline.currentTime,p=r.options||{},w=p.delay?dd(p.delay):0;w&&(6===o.previousNode.type||0==c&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Z0);let A=c;const $=o.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!p.optional,o.errors);o.currentQueryTotal=$.length;let X=null;$.forEach((ue,Qe)=>{o.currentQueryIndex=Qe;const at=o.createSubContext(r.options,ue);w&&at.delayNextStep(w),ue===o.element&&(X=at.currentTimeline),eu(this,r.animation,at),at.currentTimeline.applyStylesToKeyframe(),A=Math.max(A,at.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(A),X&&(o.currentTimeline.mergeTimelineCollectedStyles(X),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=r}visitStagger(r,o){const c=o.parentContext,p=o.currentTimeline,w=r.timings,A=Math.abs(w.duration),$=A*(o.currentQueryTotal-1);let X=A*o.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":X=$-X;break;case"full":X=c.currentStaggerTime}const Qe=o.currentTimeline;X&&Qe.delayNextStep(X);const at=Qe.currentTime;eu(this,r.animation,o),o.previousNode=r,c.currentStaggerTime=p.currentTime-at+(p.startTime-c.currentTimeline.startTime)}}const Z0={};class Q0{constructor(r,o,c,p,w,A,$,X){this._driver=r,this.element=o,this.subInstructions=c,this._enterClassName=p,this._leaveClassName=w,this.errors=A,this.timelines=$,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Z0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=X||new Hy(this._driver,o,0),$.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,o){if(!r)return;const c=r;let p=this.options;null!=c.duration&&(p.duration=dd(c.duration)),null!=c.delay&&(p.delay=dd(c.delay));const w=c.params;if(w){let A=p.params;A||(A=this.options.params={}),Object.keys(w).forEach($=>{(!o||!A.hasOwnProperty($))&&(A[$]=Ly(w[$],A,this.errors))})}}_copyOptions(){const r={};if(this.options){const o=this.options.params;if(o){const c=r.params={};Object.keys(o).forEach(p=>{c[p]=o[p]})}}return r}createSubContext(r=null,o,c){const p=o||this.element,w=new Q0(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,c||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(r),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(r){return this.previousNode=Z0,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,o,c){const p={duration:null!=o?o:r.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+r.delay,easing:""},w=new Ww(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,p,r.stretchStartingKeyframe);return this.timelines.push(w),p}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,o,c,p,w,A){let $=[];if(p&&$.push(this.element),r.length>0){r=(r=r.replace(jy,"."+this._enterClassName)).replace(zw,"."+this._leaveClassName);let ue=this._driver.query(this.element,r,1!=c);0!==c&&(ue=c<0?ue.slice(ue.length+c,ue.length):ue.slice(0,c)),$.push(...ue)}return!w&&0==$.length&&A.push(function kt(u){return new g.vHH(3014,!1)}()),$}}class Hy{constructor(r,o,c,p){this._driver=r,this.element=o,this.startTime=c,this._elementTimelineStylesLookup=p,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+r),o&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,o){return this.applyStylesToKeyframe(),new Hy(this._driver,r,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,o){this._localTimelineStyles.set(r,o),this._globalTimelineStyles.set(r,o),this._styleSummary.set(r,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[o,c]of this._globalTimelineStyles)this._backFill.set(o,c||Ec),this._currentKeyframe.set(o,Ec);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,o,c,p){o&&this._previousKeyframe.set("easing",o);const w=p&&p.params||{},A=function zy(u,r){const o=new Map;let c;return u.forEach(p=>{if("*"===p){c=c||r.keys();for(let w of c)o.set(w,Ec)}else mf(p,o)}),o}(r,this._globalTimelineStyles);for(let[X,ue]of A){const Qe=Ly(ue,w,c);var $;this._pendingStyles.set(X,Qe),this._localTimelineStyles.has(X)||this._backFill.set(X,null!==($=this._globalTimelineStyles.get(X))&&void 0!==$?$:Ec),this._updateStyle(X,Qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,o)=>{this._currentKeyframe.set(o,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,r)}))}snapshotCurrentStyles(){for(let[r,o]of this._localTimelineStyles)this._pendingStyles.set(r,o),this._updateStyle(r,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let o in this._currentKeyframe)r.push(o);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((o,c)=>{const p=this._styleSummary.get(c);(!p||o.time>p.time)&&this._updateStyle(c,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,o=new Set,c=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach(($,X)=>{const ue=mf($,new Map,this._backFill);ue.forEach((Qe,at)=>{Qe===al?r.add(at):Qe===Ec&&o.add(at)}),c||ue.set("offset",X/this.duration),p.push(ue)});const w=r.size?By(r.values()):[],A=o.size?By(o.values()):[];if(c){const $=p[0],X=new Map($);$.set("offset",0),X.set("offset",1),p=[$,X]}return im(this.element,p,w,A,this.duration,this.startTime,this.easing,!1)}}class Ww extends Hy{constructor(r,o,c,p,w,A,$=!1){super(r,o,A.delay),this.keyframes=c,this.preStyleProps=p,this.postStyleProps=w,this._stretchStartingKeyframe=$,this.timings={duration:A.duration,delay:A.delay,easing:A.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:o,duration:c,easing:p}=this.timings;if(this._stretchStartingKeyframe&&o){const w=[],A=c+o,$=o/A,X=mf(r[0]);X.set("offset",0),w.push(X);const ue=mf(r[0]);ue.set("offset",WE($)),w.push(ue);const Qe=r.length-1;for(let at=1;at<=Qe;at++){let Et=mf(r[at]);const $t=Et.get("offset");Et.set("offset",WE((o+$t*c)/A)),w.push(Et)}c=A,o=0,p="",r=w}return im(this.element,r,this.preStyleProps,this.postStyleProps,c,o,p,!0)}}function WE(u,r=3){const o=Math.pow(10,r-1);return Math.round(u*o)/o}class E_{}const KE=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kw extends E_{normalizePropertyName(r,o){return p_(r)}normalizeStyleValue(r,o,c,p){let w="";const A=c.toString().trim();if(KE.has(o)&&0!==c&&"0"!==c)if("number"==typeof c)w="px";else{const $=c.match(/^[+-]?[\d\.]+([a-z]*)$/);$&&0==$[1].length&&p.push(function s(u,r){return new g.vHH(3005,!1)}())}return A+w}}function X0(u,r,o,c,p,w,A,$,X,ue,Qe,at,Et){return{type:0,element:u,triggerName:r,isRemovalTransition:p,fromState:o,fromStyles:w,toState:c,toStyles:A,timelines:$,queriedElements:X,preStyleProps:ue,postStyleProps:Qe,totalTime:at,errors:Et}}const J0={};class w_{constructor(r,o,c){this._triggerName=r,this.ast=o,this._stateStyles=c}match(r,o,c,p){return function qE(u,r,o,c,p){return u.some(w=>w(r,o,c,p))}(this.ast.matchers,r,o,c,p)}buildStyles(r,o,c){let p=this._stateStyles.get("*");return void 0!==r&&(p=this._stateStyles.get(null==r?void 0:r.toString())||p),p?p.buildStyles(o,c):new Map}build(r,o,c,p,w,A,$,X,ue,Qe){var at;const Et=[],$t=this.ast.options&&this.ast.options.params||J0,cn=this.buildStyles(c,$&&$.params||J0,Et),Pn=X&&X.params||J0,Cr=this.buildStyles(p,Pn,Et),ni=new Set,wi=new Map,bi=new Map,Sa="void"===p,Ha={params:YE(Pn,$t),delay:null===(at=this.ast.options)||void 0===at?void 0:at.delay},ha=Qe?[]:Y0(r,o,this.ast.animation,w,A,cn,Cr,Ha,ue,Et);let fa=0;if(ha.forEach(bc=>{fa=Math.max(bc.duration+bc.delay,fa)}),Et.length)return X0(o,this._triggerName,c,p,Sa,cn,Cr,[],[],wi,bi,fa,Et);ha.forEach(bc=>{const Ky=bc.element,am=Xl(wi,Ky,new Set);bc.preStyleProps.forEach(lm=>am.add(lm));const qy=Xl(bi,Ky,new Set);bc.postStyleProps.forEach(lm=>qy.add(lm)),Ky!==o&&ni.add(Ky)});const fd=By(ni.values());return X0(o,this._triggerName,c,p,Sa,cn,Cr,ha,fd,wi,bi,fa)}}function YE(u,r){const o=Fy(r);for(const c in u)u.hasOwnProperty(c)&&null!=u[c]&&(o[c]=u[c]);return o}class qw{constructor(r,o,c){this.styles=r,this.defaultParams=o,this.normalizer=c}buildStyles(r,o){const c=new Map,p=Fy(this.defaultParams);return Object.keys(r).forEach(w=>{const A=r[w];null!==A&&(p[w]=A)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((A,$)=>{A&&(A=Ly(A,p,o));const X=this.normalizer.normalizePropertyName($,o);A=this.normalizer.normalizeStyleValue($,X,A,o),c.set($,A)})}),c}}class Zw{constructor(r,o,c){this.name=r,this.ast=o,this._normalizer=c,this.transitionFactories=[],this.states=new Map,o.states.forEach(p=>{this.states.set(p.name,new qw(p.style,p.options&&p.options.params||{},c))}),ZE(this.states,"true","1"),ZE(this.states,"false","0"),o.transitions.forEach(p=>{this.transitionFactories.push(new w_(r,p,this.states))}),this.fallbackTransition=function eE(u,r,o){return new w_(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(A,$)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,o,c,p){return this.transitionFactories.find(A=>A.match(r,o,c,p))||null}matchStyles(r,o,c){return this.fallbackTransition.buildStyles(r,o,c)}}function ZE(u,r,o){u.has(r)?u.has(o)||u.set(o,u.get(r)):u.has(o)&&u.set(r,u.get(o))}const QE=new __;class Qw{constructor(r,o,c){this.bodyNode=r,this._driver=o,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,o){const c=[],w=y_(this._driver,o,c,[]);if(c.length)throw function ui(u){return new g.vHH(3503,!1)}();this._animations.set(r,w)}_buildPlayer(r,o,c){const p=r.element,w=OE(0,this._normalizer,0,r.keyframes,o,c);return this._driver.animate(p,w,r.duration,r.delay,r.easing,[],!0)}create(r,o,c={}){const p=[],w=this._animations.get(r);let A;const $=new Map;if(w?(A=Y0(this._driver,o,w,H0,c_,new Map,new Map,c,QE,p),A.forEach(Qe=>{const at=Xl($,Qe.element,new Map);Qe.postStyleProps.forEach(Et=>at.set(Et,null))})):(p.push(function ko(){return new g.vHH(3300,!1)}()),A=[]),p.length)throw function To(u){return new g.vHH(3504,!1)}();$.forEach((Qe,at)=>{Qe.forEach((Et,$t)=>{Qe.set($t,this._driver.computeStyle(at,$t,Ec))})});const ue=gf(A.map(Qe=>{const at=$.get(Qe.element);return this._buildPlayer(Qe,new Map,at)}));return this._playersById.set(r,ue),ue.onDestroy(()=>this.destroy(r)),this.players.push(ue),ue}destroy(r){const o=this._getPlayer(r);o.destroy(),this._playersById.delete(r);const c=this.players.indexOf(o);c>=0&&this.players.splice(c,1)}_getPlayer(r){const o=this._playersById.get(r);if(!o)throw function ks(u){return new g.vHH(3301,!1)}();return o}listen(r,o,c,p){const w=F0(o,"","","");return N0(this._getPlayer(r),c,w,p),()=>{}}command(r,o,c,p){if("register"==c)return void this.register(r,p[0]);if("create"==c)return void this.create(r,o,p[0]||{});const w=this._getPlayer(r);switch(c){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(r)}}}const XE="ng-animate-queued",tE="ng-animate-disabled",nI=[],nE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nu="__ng_removed";class rE{get params(){return this.options.params}constructor(r,o=""){this.namespaceId=o;const c=r&&r.hasOwnProperty("value");if(this.value=function ew(u){return null!=u?u:null}(c?r.value:r),c){const w=Fy(r);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const o=r.params;if(o){const c=this.options.params;Object.keys(o).forEach(p=>{null==c[p]&&(c[p]=o[p])})}}}const sm="void",iE=new rE(sm);class rI{constructor(r,o,c){this.id=r,this.hostElement=o,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,tu(o,this._hostClassName)}listen(r,o,c,p){if(!this._triggers.has(o))throw function Da(u,r){return new g.vHH(3302,!1)}();if(null==c||0==c.length)throw function sh(u){return new g.vHH(3303,!1)}();if(!function sI(u){return"start"==u||"done"==u}(c))throw function l_(u,r){return new g.vHH(3400,!1)}();const w=Xl(this._elementListeners,r,[]),A={name:o,phase:c,callback:p};w.push(A);const $=Xl(this._engine.statesByElement,r,new Map);return $.has(o)||(tu(r,oh),tu(r,oh+"-"+o),$.set(o,iE)),()=>{this._engine.afterFlush(()=>{const X=w.indexOf(A);X>=0&&w.splice(X,1),this._triggers.has(o)||$.delete(o)})}}register(r,o){return!this._triggers.has(r)&&(this._triggers.set(r,o),!0)}_getTrigger(r){const o=this._triggers.get(r);if(!o)throw function Dw(u){return new g.vHH(3401,!1)}();return o}trigger(r,o,c,p=!0){const w=this._getTrigger(o),A=new Gy(this.id,o,r);let $=this._engine.statesByElement.get(r);$||(tu(r,oh),tu(r,oh+"-"+o),this._engine.statesByElement.set(r,$=new Map));let X=$.get(o);const ue=new rE(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&X&&ue.absorbOptions(X.options),$.set(o,ue),X||(X=iE),ue.value!==sm&&X.value===ue.value){if(!function oE(u,r){const o=Object.keys(u),c=Object.keys(r);if(o.length!=c.length)return!1;for(let p=0;p<o.length;p++){const w=o[p];if(!r.hasOwnProperty(w)||u[w]!==r[w])return!1}return!0}(X.params,ue.params)){const cn=[],Pn=w.matchStyles(X.value,X.params,cn),Cr=w.matchStyles(ue.value,ue.params,cn);cn.length?this._engine.reportError(cn):this._engine.afterFlush(()=>{hd(r,Pn),Jl(r,Cr)})}return}const Et=Xl(this._engine.playersByElement,r,[]);Et.forEach(cn=>{cn.namespaceId==this.id&&cn.triggerName==o&&cn.queued&&cn.destroy()});let $t=w.matchTransition(X.value,ue.value,r,ue.params),Ht=!1;if(!$t){if(!p)return;$t=w.fallbackTransition,Ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:o,transition:$t,fromState:X,toState:ue,player:A,isFallbackTransition:Ht}),Ht||(tu(r,XE),A.onStart(()=>{Cc(r,XE)})),A.onDone(()=>{let cn=this.players.indexOf(A);cn>=0&&this.players.splice(cn,1);const Pn=this._engine.playersByElement.get(r);if(Pn){let Cr=Pn.indexOf(A);Cr>=0&&Pn.splice(Cr,1)}}),this.players.push(A),Et.push(A),A}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(o=>o.delete(r)),this._elementListeners.forEach((o,c)=>{this._elementListeners.set(c,o.filter(p=>p.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const o=this._engine.playersByElement.get(r);o&&(o.forEach(c=>c.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,o){const c=this._engine.driver.query(r,z0,!0);c.forEach(p=>{if(p[Nu])return;const w=this._engine.fetchNamespacesByElement(p);w.size?w.forEach(A=>A.triggerLeaveAnimation(p,o,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(r,o,c,p){const w=this._engine.statesByElement.get(r),A=new Map;if(w){const $=[];if(w.forEach((X,ue)=>{if(A.set(ue,X.value),this._triggers.has(ue)){const Qe=this.trigger(r,ue,sm,p);Qe&&$.push(Qe)}}),$.length)return this._engine.markElementAsRemoved(this.id,r,!0,o,A),c&&gf($).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const o=this._elementListeners.get(r),c=this._engine.statesByElement.get(r);if(o&&c){const p=new Set;o.forEach(w=>{const A=w.name;if(p.has(A))return;p.add(A);const X=this._triggers.get(A).fallbackTransition,ue=c.get(A)||iE,Qe=new rE(sm),at=new Gy(this.id,A,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:A,transition:X,fromState:ue,toState:Qe,player:at,isFallbackTransition:!0})})}}removeNode(r,o){const c=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,o),this.triggerLeaveAnimation(r,o,!0))return;let p=!1;if(c.totalAnimations){const w=c.players.length?c.playersByQueriedElement.get(r):[];if(w&&w.length)p=!0;else{let A=r;for(;A=A.parentNode;)if(c.statesByElement.get(A)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(r),p)c.markElementAsRemoved(this.id,r,!1,o);else{const w=r[Nu];(!w||w===nE)&&(c.afterFlush(()=>this.clearElementCache(r)),c.destroyInnerAnimations(r),c._onRemovalComplete(r,o))}}insertNode(r,o){tu(r,this._hostClassName)}drainQueuedTransitions(r){const o=[];return this._queue.forEach(c=>{const p=c.player;if(p.destroyed)return;const w=c.element,A=this._elementListeners.get(w);A&&A.forEach($=>{if($.name==c.triggerName){const X=F0(w,c.triggerName,c.fromState.value,c.toState.value);X._data=r,N0(c.player,$.phase,X,$.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):o.push(c)}),this._queue=[],o.sort((c,p)=>{const w=c.transition.ast.depCount,A=p.transition.ast.depCount;return 0==w||0==A?w-A:this._engine.driver.containsElement(c.element,p.element)?1:-1})}destroy(r){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let o=!1;return this._elementListeners.has(r)&&(o=!0),o=!!this._queue.find(c=>c.element===r)||o,o}}class iI{_onRemovalComplete(r,o){this.onRemovalComplete(r,o)}constructor(r,o,c){this.bodyNode=r,this.driver=o,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,w)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(o=>{o.players.forEach(c=>{c.queued&&r.push(c)})}),r}createNamespace(r,o){const c=new rI(r,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(c,o):(this.newHostElements.set(o,c),this.collectEnterElement(o)),this._namespaceLookup[r]=c}_balanceNamespaceList(r,o){const c=this._namespaceList,p=this.namespacesByHostElement;if(c.length-1>=0){let A=!1,$=this.driver.getParentElement(o);for(;$;){const X=p.get($);if(X){const ue=c.indexOf(X);c.splice(ue+1,0,r),A=!0;break}$=this.driver.getParentElement($)}A||c.unshift(r)}else c.push(r);return p.set(o,r),r}register(r,o){let c=this._namespaceLookup[r];return c||(c=this.createNamespace(r,o)),c}registerTrigger(r,o,c){let p=this._namespaceLookup[r];p&&p.register(o,c)&&this.totalAnimations++}destroy(r,o){if(!r)return;const c=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[r];const p=this._namespaceList.indexOf(c);p>=0&&this._namespaceList.splice(p,1)}),this.afterFlushAnimationsDone(()=>c.destroy(o))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const o=new Set,c=this.statesByElement.get(r);if(c)for(let p of c.values())if(p.namespaceId){const w=this._fetchNamespace(p.namespaceId);w&&o.add(w)}return o}trigger(r,o,c,p){if(om(o)){const w=this._fetchNamespace(r);if(w)return w.trigger(o,c,p),!0}return!1}insertNode(r,o,c,p){if(!om(o))return;const w=o[Nu];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const A=this.collectedLeaveElements.indexOf(o);A>=0&&this.collectedLeaveElements.splice(A,1)}if(r){const A=this._fetchNamespace(r);A&&A.insertNode(o,c)}p&&this.collectEnterElement(o)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,o){o?this.disabledNodes.has(r)||(this.disabledNodes.add(r),tu(r,tE)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Cc(r,tE))}removeNode(r,o,c,p){if(om(o)){const w=r?this._fetchNamespace(r):null;if(w?w.removeNode(o,p):this.markElementAsRemoved(r,o,!1,p),c){const A=this.namespacesByHostElement.get(o);A&&A.id!==r&&A.removeNode(o,p)}}else this._onRemovalComplete(o,p)}markElementAsRemoved(r,o,c,p,w){this.collectedLeaveElements.push(o),o[Nu]={namespaceId:r,setForRemoval:p,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:w}}listen(r,o,c,p,w){return om(o)?this._fetchNamespace(r).listen(o,c,p,w):()=>{}}_buildInstruction(r,o,c,p,w){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,c,p,r.fromState.options,r.toState.options,o,w)}destroyInnerAnimations(r){let o=this.driver.query(r,z0,!0);o.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(r,BE,!0),o.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(r){const o=this.playersByElement.get(r);o&&o.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(r){const o=this.playersByQueriedElement.get(r);o&&o.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return gf(this.players).onDone(()=>r());r()})}processLeaveNode(r){var o;const c=r[Nu];if(c&&c.setForRemoval){if(r[Nu]=nE,c.namespaceId){this.destroyInnerAnimations(r);const p=this._fetchNamespace(c.namespaceId);p&&p.clearElementCache(r)}this._onRemovalComplete(r,c.setForRemoval)}null!==(o=r.classList)&&void 0!==o&&o.contains(tE)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(r=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,p)=>this._balanceNamespaceList(c,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)tu(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{o=this._flushAnimations(c,r)}finally{for(let p=0;p<c.length;p++)c[p]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],o.length?gf(o).onDone(()=>{c.forEach(p=>p())}):c.forEach(p=>p())}}reportError(r){throw function Sw(u){return new g.vHH(3402,!1)}()}_flushAnimations(r,o){const c=new __,p=[],w=new Map,A=[],$=new Map,X=new Map,ue=new Map,Qe=new Set;this.disabledNodes.forEach(hr=>{Qe.add(hr);const Nr=this.driver.query(hr,".ng-animate-queued",!0);for(let Vr=0;Vr<Nr.length;Vr++)Qe.add(Nr[Vr])});const at=this.bodyNode,Et=Array.from(this.statesByElement.keys()),$t=nw(Et,this.collectedEnterElements),Ht=new Map;let cn=0;$t.forEach((hr,Nr)=>{const Vr=H0+cn++;Ht.set(Nr,Vr),hr.forEach(Di=>tu(Di,Vr))});const Pn=[],Cr=new Set,ni=new Set;for(let hr=0;hr<this.collectedLeaveElements.length;hr++){const Nr=this.collectedLeaveElements[hr],Vr=Nr[Nu];Vr&&Vr.setForRemoval&&(Pn.push(Nr),Cr.add(Nr),Vr.hasAnimation?this.driver.query(Nr,".ng-star-inserted",!0).forEach(Di=>Cr.add(Di)):ni.add(Nr))}const wi=new Map,bi=nw(Et,Array.from(Cr));bi.forEach((hr,Nr)=>{const Vr=c_+cn++;wi.set(Nr,Vr),hr.forEach(Di=>tu(Di,Vr))}),r.push(()=>{$t.forEach((hr,Nr)=>{const Vr=Ht.get(Nr);hr.forEach(Di=>Cc(Di,Vr))}),bi.forEach((hr,Nr)=>{const Vr=wi.get(Nr);hr.forEach(Di=>Cc(Di,Vr))}),Pn.forEach(hr=>{this.processLeaveNode(hr)})});const Sa=[],Ha=[];for(let hr=this._namespaceList.length-1;hr>=0;hr--)this._namespaceList[hr].drainQueuedTransitions(o).forEach(Vr=>{const Di=Vr.player,Ao=Vr.element;if(Sa.push(Di),this.collectedEnterElements.length){const za=Ao[Nu];if(za&&za.setForMove){if(za.previousTriggersValues&&za.previousTriggersValues.has(Vr.triggerName)){const ah=za.previousTriggersValues.get(Vr.triggerName),Tl=this.statesByElement.get(Vr.element);if(Tl&&Tl.has(Vr.triggerName)){const Yy=Tl.get(Vr.triggerName);Yy.value=ah,Tl.set(Vr.triggerName,Yy)}}return void Di.destroy()}}const ku=!at||!this.driver.containsElement(at,Ao),Sl=wi.get(Ao),yf=Ht.get(Ao),mo=this._buildInstruction(Vr,c,yf,Sl,ku);if(mo.errors&&mo.errors.length)return void Ha.push(mo);if(ku)return Di.onStart(()=>hd(Ao,mo.fromStyles)),Di.onDestroy(()=>Jl(Ao,mo.toStyles)),void p.push(Di);if(Vr.isFallbackTransition)return Di.onStart(()=>hd(Ao,mo.fromStyles)),Di.onDestroy(()=>Jl(Ao,mo.toStyles)),void p.push(Di);const fE=[];mo.timelines.forEach(za=>{za.stretchStartingKeyframe=!0,this.disabledNodes.has(za.element)||fE.push(za)}),mo.timelines=fE,c.append(Ao,mo.timelines),A.push({instruction:mo,player:Di,element:Ao}),mo.queriedElements.forEach(za=>Xl($,za,[]).push(Di)),mo.preStyleProps.forEach((za,ah)=>{if(za.size){let Tl=X.get(ah);Tl||X.set(ah,Tl=new Set),za.forEach((Yy,Zy)=>Tl.add(Zy))}}),mo.postStyleProps.forEach((za,ah)=>{let Tl=ue.get(ah);Tl||ue.set(ah,Tl=new Set),za.forEach((Yy,Zy)=>Tl.add(Zy))})});if(Ha.length){const hr=[];Ha.forEach(Nr=>{hr.push(function Tw(u,r){return new g.vHH(3505,!1)}())}),Sa.forEach(Nr=>Nr.destroy()),this.reportError(hr)}const ha=new Map,fa=new Map;A.forEach(hr=>{const Nr=hr.element;c.has(Nr)&&(fa.set(Nr,Nr),this._beforeAnimationBuild(hr.player.namespaceId,hr.instruction,ha))}),p.forEach(hr=>{const Nr=hr.element;this._getPreviousPlayers(Nr,!1,hr.namespaceId,hr.triggerName,null).forEach(Di=>{Xl(ha,Nr,[]).push(Di),Di.destroy()})});const fd=Pn.filter(hr=>C_(hr,X,ue)),bc=new Map;I_(bc,this.driver,ni,ue,Ec).forEach(hr=>{C_(hr,X,ue)&&fd.push(hr)});const am=new Map;$t.forEach((hr,Nr)=>{I_(am,this.driver,new Set(hr),X,al)}),fd.forEach(hr=>{var Nr,Vr;const Di=bc.get(hr),Ao=am.get(hr);bc.set(hr,new Map([...Array.from(null!==(Nr=null==Di?void 0:Di.entries())&&void 0!==Nr?Nr:[]),...Array.from(null!==(Vr=null==Ao?void 0:Ao.entries())&&void 0!==Vr?Vr:[])]))});const qy=[],lm=[],hE={};A.forEach(hr=>{const{element:Nr,player:Vr,instruction:Di}=hr;if(c.has(Nr)){if(Qe.has(Nr))return Vr.onDestroy(()=>Jl(Nr,Di.toStyles)),Vr.disabled=!0,Vr.overrideTotalTime(Di.totalTime),void p.push(Vr);let Ao=hE;if(fa.size>1){let Sl=Nr;const yf=[];for(;Sl=Sl.parentNode;){const mo=fa.get(Sl);if(mo){Ao=mo;break}yf.push(Sl)}yf.forEach(mo=>fa.set(mo,Ao))}const ku=this._buildAnimation(Vr.namespaceId,Di,ha,w,am,bc);if(Vr.setRealPlayer(ku),Ao===hE)qy.push(Vr);else{const Sl=this.playersByElement.get(Ao);Sl&&Sl.length&&(Vr.parentPlayer=gf(Sl)),p.push(Vr)}}else hd(Nr,Di.fromStyles),Vr.onDestroy(()=>Jl(Nr,Di.toStyles)),lm.push(Vr),Qe.has(Nr)&&p.push(Vr)}),lm.forEach(hr=>{const Nr=w.get(hr.element);if(Nr&&Nr.length){const Vr=gf(Nr);hr.setRealPlayer(Vr)}}),p.forEach(hr=>{hr.parentPlayer?hr.syncPlayerEvents(hr.parentPlayer):hr.destroy()});for(let hr=0;hr<Pn.length;hr++){const Nr=Pn[hr],Vr=Nr[Nu];if(Cc(Nr,c_),Vr&&Vr.hasAnimation)continue;let Di=[];if($.size){let ku=$.get(Nr);ku&&ku.length&&Di.push(...ku);let Sl=this.driver.query(Nr,BE,!0);for(let yf=0;yf<Sl.length;yf++){let mo=$.get(Sl[yf]);mo&&mo.length&&Di.push(...mo)}}const Ao=Di.filter(ku=>!ku.destroyed);Ao.length?rw(this,Nr,Ao):this.processLeaveNode(Nr)}return Pn.length=0,qy.forEach(hr=>{this.players.push(hr),hr.onDone(()=>{hr.destroy();const Nr=this.players.indexOf(hr);this.players.splice(Nr,1)}),hr.play()}),qy}elementContainsData(r,o){let c=!1;const p=o[Nu];return p&&p.setForRemoval&&(c=!0),this.playersByElement.has(o)&&(c=!0),this.playersByQueriedElement.has(o)&&(c=!0),this.statesByElement.has(o)&&(c=!0),this._fetchNamespace(r).elementContainsData(o)||c}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,o,c,p,w){let A=[];if(o){const $=this.playersByQueriedElement.get(r);$&&(A=$)}else{const $=this.playersByElement.get(r);if($){const X=!w||w==sm;$.forEach(ue=>{ue.queued||!X&&ue.triggerName!=p||A.push(ue)})}}return(c||p)&&(A=A.filter($=>!(c&&c!=$.namespaceId||p&&p!=$.triggerName))),A}_beforeAnimationBuild(r,o,c){const w=o.element,A=o.isRemovalTransition?void 0:r,$=o.isRemovalTransition?void 0:o.triggerName;for(const X of o.timelines){const ue=X.element,Qe=ue!==w,at=Xl(c,ue,[]);this._getPreviousPlayers(ue,Qe,A,$,o.toState).forEach($t=>{const Ht=$t.getRealPlayer();Ht.beforeDestroy&&Ht.beforeDestroy(),$t.destroy(),at.push($t)})}hd(w,o.fromStyles)}_buildAnimation(r,o,c,p,w,A){const $=o.triggerName,X=o.element,ue=[],Qe=new Set,at=new Set,Et=o.timelines.map(Ht=>{const cn=Ht.element;Qe.add(cn);const Pn=cn[Nu];if(Pn&&Pn.removedBeforeQueried)return new ja(Ht.duration,Ht.delay);const Cr=cn!==X,ni=function oI(u){const r=[];return aI(u,r),r}((c.get(cn)||nI).map(ha=>ha.getRealPlayer())).filter(ha=>!!ha.element&&ha.element===cn),wi=w.get(cn),bi=A.get(cn),Sa=OE(0,this._normalizer,0,Ht.keyframes,wi,bi),Ha=this._buildPlayer(Ht,Sa,ni);if(Ht.subTimeline&&p&&at.add(cn),Cr){const ha=new Gy(r,$,cn);ha.setRealPlayer(Ha),ue.push(ha)}return Ha});ue.forEach(Ht=>{Xl(this.playersByQueriedElement,Ht.element,[]).push(Ht),Ht.onDone(()=>function sE(u,r,o){let c=u.get(r);if(c){if(c.length){const p=c.indexOf(o);c.splice(p,1)}0==c.length&&u.delete(r)}return c}(this.playersByQueriedElement,Ht.element,Ht))}),Qe.forEach(Ht=>tu(Ht,d_));const $t=gf(Et);return $t.onDestroy(()=>{Qe.forEach(Ht=>Cc(Ht,d_)),Jl(X,o.toStyles)}),at.forEach(Ht=>{Xl(p,Ht,[]).push($t)}),$t}_buildPlayer(r,o,c){return o.length>0?this.driver.animate(r.element,o,r.duration,r.delay,r.easing,c):new ja(r.duration,r.delay)}}class Gy{constructor(r,o,c){this.namespaceId=r,this.triggerName=o,this.element=c,this._player=new ja,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((o,c)=>{o.forEach(p=>N0(r,c,void 0,p))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const o=this._player;o.triggerCallback&&r.onStart(()=>o.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,o){Xl(this._queuedCallbacks,r,[]).push(o)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const o=this._player;o.triggerCallback&&o.triggerCallback(r)}}function om(u){return u&&1===u.nodeType}function tw(u,r){const o=u.style.display;return u.style.display=null!=r?r:"none",o}function I_(u,r,o,c,p){const w=[];o.forEach(X=>w.push(tw(X)));const A=[];c.forEach((X,ue)=>{const Qe=new Map;X.forEach(at=>{const Et=r.computeStyle(ue,at,p);Qe.set(at,Et),(!Et||0==Et.length)&&(ue[Nu]=JE,A.push(ue))}),u.set(ue,Qe)});let $=0;return o.forEach(X=>tw(X,w[$++])),A}function nw(u,r){const o=new Map;if(u.forEach($=>o.set($,[])),0==r.length)return o;const c=1,p=new Set(r),w=new Map;function A($){if(!$)return c;let X=w.get($);if(X)return X;const ue=$.parentNode;return X=o.has(ue)?ue:p.has(ue)?c:A(ue),w.set($,X),X}return r.forEach($=>{const X=A($);X!==c&&o.get(X).push($)}),o}function tu(u,r){var o;null===(o=u.classList)||void 0===o||o.add(r)}function Cc(u,r){var o;null===(o=u.classList)||void 0===o||o.remove(r)}function rw(u,r,o){gf(o).onDone(()=>u.processLeaveNode(r))}function aI(u,r){for(let o=0;o<u.length;o++){const c=u[o];c instanceof Dl?aI(c.players,r):r.push(c)}}function C_(u,r,o){const c=o.get(u);if(!c)return!1;let p=r.get(u);return p?c.forEach(w=>p.add(w)):r.set(u,c),o.delete(u),!0}class b_{constructor(r,o,c){this.bodyNode=r,this._driver=o,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(p,w)=>{},this._transitionEngine=new iI(r,o,c),this._timelineEngine=new Qw(r,o,c),this._transitionEngine.onRemovalComplete=(p,w)=>this.onRemovalComplete(p,w)}registerTrigger(r,o,c,p,w){const A=r+"-"+p;let $=this._triggerCache[A];if(!$){const X=[],Qe=y_(this._driver,w,X,[]);if(X.length)throw function Jr(u,r){return new g.vHH(3404,!1)}();$=function Yw(u,r,o){return new Zw(u,r,o)}(p,Qe,this._normalizer),this._triggerCache[A]=$}this._transitionEngine.registerTrigger(o,p,$)}register(r,o){this._transitionEngine.register(r,o)}destroy(r,o){this._transitionEngine.destroy(r,o)}onInsert(r,o,c,p){this._transitionEngine.insertNode(r,o,c,p)}onRemove(r,o,c,p){this._transitionEngine.removeNode(r,o,p||!1,c)}disableAnimations(r,o){this._transitionEngine.markElementAsDisabled(r,o)}process(r,o,c,p){if("@"==c.charAt(0)){const[w,A]=NE(c);this._timelineEngine.command(w,o,A,p)}else this._transitionEngine.trigger(r,o,c,p)}listen(r,o,c,p,w){if("@"==c.charAt(0)){const[A,$]=NE(c);return this._timelineEngine.listen(A,o,$,w)}return this._transitionEngine.listen(r,o,c,p,w)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let sw=(()=>{class u{constructor(o,c,p){this._element=o,this._startStyles=c,this._endStyles=p,this._state=0;let w=u.initialStylesByElement.get(o);w||u.initialStylesByElement.set(o,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&Jl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jl(this._element,this._initialStyles),this._endStyles&&(Jl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(hd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hd(this._element,this._endStyles),this._endStyles=null),Jl(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function aE(u){let r=null;return u.forEach((o,c)=>{(function ow(u){return"display"===u||"position"===u})(c)&&(r=r||new Map,r.set(c,o))}),r}class D_{constructor(r,o,c,p){this.element=r,this.keyframes=o,this.options=c,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const o=[];return r.forEach(c=>{o.push(Object.fromEntries(c))}),o}_triggerWebAnimation(r,o,c){return r.animate(this._convertKeyframesToObject(o),c)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,p)=>{"offset"!==p&&r.set(p,this._finished?c:nm(this.element,p))}),this.currentSnapshot=r}triggerCallback(r){const o="start"===r?this._onStartFns:this._onDoneFns;o.forEach(c=>c()),o.length=0}}class aw{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,o){return!1}containsElement(r,o){return $0(r,o)}getParentElement(r){return L0(r)}query(r,o,c){return V0(r,o,c)}computeStyle(r,o,c){return window.getComputedStyle(r)[o]}animate(r,o,c,p,w,A=[]){const X={duration:c,delay:p,fill:0==p?"both":"forwards"};w&&(X.easing=w);const ue=new Map,Qe=A.filter($t=>$t instanceof D_);(function kw(u,r){return 0===u||0===r})(c,p)&&Qe.forEach($t=>{$t.currentSnapshot.forEach((Ht,cn)=>ue.set(cn,Ht))});let at=function Ow(u){return u.length?u[0]instanceof Map?u:u.map(r=>$E(r)):[]}(o).map($t=>mf($t));at=function Fw(u,r,o){if(o.size&&r.length){let c=r[0],p=[];if(o.forEach((w,A)=>{c.has(A)||p.push(A),c.set(A,w)}),p.length)for(let w=1;w<r.length;w++){let A=r[w];p.forEach($=>A.set($,nm(u,$)))}}return r}(r,at,ue);const Et=function iw(u,r){let o=null,c=null;return Array.isArray(r)&&r.length?(o=aE(r[0]),r.length>1&&(c=aE(r[r.length-1]))):r instanceof Map&&(o=aE(r)),o||c?new sw(u,o,c):null}(r,at);return new D_(r,at,X,Et)}}let lw=(()=>{class u extends I0{constructor(o,c){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(c.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(o){const c=this._nextAnimationId.toString();this._nextAnimationId++;const p=Array.isArray(o)?D0(o):o;return dw(this._renderer,null,c,"register",[p]),new uw(c,this._renderer)}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(g.FYo),g.LFG(gi.K0))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})();class uw extends a_{constructor(r,o){super(),this._id=r,this._renderer=o}create(r,o){return new cw(this._id,r,o||{},this._renderer)}}class cw{constructor(r,o,c,p){this.id=r,this.element=o,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(r,o){return this._renderer.listen(this.element,`@@${this.id}:${r}`,o)}_command(r,...o){return dw(this._renderer,this.element,this.id,r,o)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,o;return null!==(r=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==r?r:0}}function dw(u,r,o,c,p){return u.setProperty(r,`@@${o}:${c}`,p)}const hw="@.disabled";let lI=(()=>{class u{constructor(o,c,p){this.delegate=o,this.engine=c,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(w,A)=>{const $=null==A?void 0:A.parentNode(w);$&&A.removeChild($,w)}}createRenderer(o,c){const w=this.delegate.createRenderer(o,c);if(!(o&&c&&c.data&&c.data.animation)){let Qe=this._rendererCache.get(w);return Qe||(Qe=new lE("",w,this.engine,()=>this._rendererCache.delete(w)),this._rendererCache.set(w,Qe)),Qe}const A=c.id,$=c.id+"-"+this._currentId;this._currentId++,this.engine.register($,o);const X=Qe=>{Array.isArray(Qe)?Qe.forEach(X):this.engine.registerTrigger(A,$,o,Qe.name,Qe)};return c.data.animation.forEach(X),new QI(this,$,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,c,p){o>=0&&o<this._microtaskId?this._zone.run(()=>c(p)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(w=>{const[A,$]=w;A($)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,p]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(g.FYo),g.LFG(b_),g.LFG(g.R0b))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})();class lE{constructor(r,o,c,p){this.namespaceId=r,this.delegate=o,this.engine=c,this._onDestroy=p,this.destroyNode=this.delegate.destroyNode?w=>o.destroyNode(w):null}get data(){return this.delegate.data}destroy(){var r;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(r=this._onDestroy)||void 0===r||r.call(this)}createElement(r,o){return this.delegate.createElement(r,o)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,o){this.delegate.appendChild(r,o),this.engine.onInsert(this.namespaceId,o,r,!1)}insertBefore(r,o,c,p=!0){this.delegate.insertBefore(r,o,c),this.engine.onInsert(this.namespaceId,o,r,p)}removeChild(r,o,c){this.engine.onRemove(this.namespaceId,o,this.delegate,c)}selectRootElement(r,o){return this.delegate.selectRootElement(r,o)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,o,c,p){this.delegate.setAttribute(r,o,c,p)}removeAttribute(r,o,c){this.delegate.removeAttribute(r,o,c)}addClass(r,o){this.delegate.addClass(r,o)}removeClass(r,o){this.delegate.removeClass(r,o)}setStyle(r,o,c,p){this.delegate.setStyle(r,o,c,p)}removeStyle(r,o,c){this.delegate.removeStyle(r,o,c)}setProperty(r,o,c){"@"==o.charAt(0)&&o==hw?this.disableAnimations(r,!!c):this.delegate.setProperty(r,o,c)}setValue(r,o){this.delegate.setValue(r,o)}listen(r,o,c){return this.delegate.listen(r,o,c)}disableAnimations(r,o){this.engine.disableAnimations(r,o)}}class QI extends lE{constructor(r,o,c,p,w){super(o,c,p,w),this.factory=r,this.namespaceId=o}setProperty(r,o,c){"@"==o.charAt(0)?"."==o.charAt(1)&&o==hw?this.disableAnimations(r,c=void 0===c||!!c):this.engine.process(this.namespaceId,r,o.slice(1),c):this.delegate.setProperty(r,o,c)}listen(r,o,c){if("@"==o.charAt(0)){const p=function fw(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(r);let w=o.slice(1),A="";return"@"!=w.charAt(0)&&([w,A]=function uI(u){const r=u.indexOf(".");return[u.substring(0,r),u.slice(r+1)]}(w)),this.engine.listen(this.namespaceId,p,w,A,$=>{this.factory.scheduleListenerCallback($._data||-1,c,$)})}return this.delegate.listen(r,o,c)}}const pw=[{provide:I0,useClass:lw},{provide:E_,useFactory:function XI(){return new Kw}},{provide:b_,useClass:(()=>{class u extends b_{constructor(o,c,p,w){super(o.body,c,p)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(gi.K0),g.LFG(u_),g.LFG(E_),g.LFG(g.z2F))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:g.FYo,useFactory:function dI(u,r,o){return new lI(u,r,o)},deps:[y.se,b_,g.R0b]}],uE=[{provide:u_,useFactory:()=>new aw},{provide:g.QbO,useValue:"BrowserAnimations"},...pw],gw=[{provide:u_,useClass:U0},{provide:g.QbO,useValue:"NoopAnimations"},...pw];let hI=(()=>{class u{static withConfig(o){return{ngModule:u,providers:o.disableAnimations?gw:uE}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:uE,imports:[y.b2]}),u})();const cE_firebase={projectId:"app3alarma",appId:"1:8095028083:web:96e5b0d643fdaa7f702b06",storageBucket:"app3alarma.appspot.com",locationId:"us-central",apiKey:"AIzaSyAFmUx-1FmcLBfHBMv-3XheagBNElki7qY",authDomain:"app3alarma.firebaseapp.com",messagingSenderId:"8095028083"};var fI=L(6118),pI=L(83),gI=L(2720),Wy=L(5789),dE=L(5030);let mw=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u,bootstrap:[ss]}),u.\u0275inj=g.cJS({providers:[Bs,Hs,fI.e,pI.S,gI.y,Wy.w,iy.yb,{provide:ae.wN,useClass:ye.r4}],imports:[y.b2,ye.Pc.forRoot(),Qo,dE.u5,os.hO.initializeApp(cE_firebase),as.ww,Dv,Lv,iy.yb,hI,Ny,dE.UX,(0,De.hX)(()=>(0,De.ZF)(cE_firebase)),_t(()=>He()),hi(()=>Ni())]}),u})();(0,g.G48)(),y.q6().bootstrapModule(mw).catch(u=>console.log(u))},1135:(ln,ct,L)=>{"use strict";L.d(ct,{X:()=>g});var y=L(7579);class g extends y.x{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const be=super._subscribe(ye);return!be.closed&&ye.next(this._value),be}getValue(){const{hasError:ye,thrownError:be,_value:De}=this;if(ye)throw be;return this._throwIfClosed(),De}next(ye){super.next(this._value=ye)}}},9751:(ln,ct,L)=>{"use strict";L.d(ct,{y:()=>Ce});var y=L(930),g=L(727),ae=L(8822),ye=L(9635),be=L(2416),De=L(576),he=L(2806);let Ce=(()=>{class Ue{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const qe=new Ue;return qe.source=this,qe.operator=Ve,qe}subscribe(Ve,qe,bt){const Me=function Ie(Ue){return Ue&&Ue instanceof y.Lv||function U(Ue){return Ue&&(0,De.m)(Ue.next)&&(0,De.m)(Ue.error)&&(0,De.m)(Ue.complete)}(Ue)&&(0,g.Nn)(Ue)}(Ve)?Ve:new y.Hp(Ve,qe,bt);return(0,he.x)(()=>{const{operator:Ee,source:vt}=this;Me.add(Ee?Ee.call(Me,vt):vt?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(qe){Ve.error(qe)}}forEach(Ve,qe){return new(qe=$e(qe))((bt,Me)=>{const Ee=new y.Hp({next:vt=>{try{Ve(vt)}catch(it){Me(it),Ee.unsubscribe()}},error:Me,complete:bt});this.subscribe(Ee)})}_subscribe(Ve){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(Ve)}[ae.L](){return this}pipe(...Ve){return(0,ye.U)(Ve)(this)}toPromise(Ve){return new(Ve=$e(Ve))((qe,bt)=>{let Me;this.subscribe(Ee=>Me=Ee,Ee=>bt(Ee),()=>qe(Me))})}}return Ue.create=ve=>new Ue(ve),Ue})();function $e(Ue){var ve;return null!==(ve=null!=Ue?Ue:be.config.Promise)&&void 0!==ve?ve:Promise}},7579:(ln,ct,L)=>{"use strict";L.d(ct,{x:()=>he});var y=L(9751),g=L(727);const ye=(0,L(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=L(8737),De=L(2806);let he=(()=>{class $e extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const Ue=new Ce(this,this);return Ue.operator=Ie,Ue}_throwIfClosed(){if(this.closed)throw new ye}next(Ie){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ue of this.currentObservers)Ue.next(Ie)}})}error(Ie){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:Ue}=this;for(;Ue.length;)Ue.shift().error(Ie)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:Ue,isStopped:ve,observers:Ve}=this;return Ue||ve?g.Lc:(this.currentObservers=null,Ve.push(Ie),new g.w0(()=>{this.currentObservers=null,(0,be.P)(Ve,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:Ue,thrownError:ve,isStopped:Ve}=this;Ue?Ie.error(ve):Ve&&Ie.complete()}asObservable(){const Ie=new y.y;return Ie.source=this,Ie}}return $e.create=(U,Ie)=>new Ce(U,Ie),$e})();class Ce extends he{constructor(U,Ie){super(),this.destination=U,this.source=Ie}next(U){var Ie,Ue;null===(Ue=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===Ue||Ue.call(Ie,U)}error(U){var Ie,Ue;null===(Ue=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===Ue||Ue.call(Ie,U)}complete(){var U,Ie;null===(Ie=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===Ie||Ie.call(U)}_subscribe(U){var Ie,Ue;return null!==(Ue=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(U))&&void 0!==Ue?Ue:g.Lc}}},930:(ln,ct,L)=>{"use strict";L.d(ct,{Hp:()=>bt,Lv:()=>Ue});var y=L(576),g=L(727),ae=L(2416),ye=L(7849),be=L(5032);const De=$e("C",void 0,void 0);function $e(Ge,rt,ft){return{kind:Ge,value:rt,error:ft}}var U=L(3410),Ie=L(2806);class Ue extends g.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,g.Nn)(rt)&&rt.add(this)):this.destination=it}static create(rt,ft,_t){return new bt(rt,ft,_t)}next(rt){this.isStopped?vt(function Ce(Ge){return $e("N",Ge,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?vt(function he(Ge){return $e("E",void 0,Ge)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?vt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function Ve(Ge,rt){return ve.call(Ge,rt)}class qe{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:ft}=this;if(ft.next)try{ft.next(rt)}catch(_t){Me(_t)}}error(rt){const{partialObserver:ft}=this;if(ft.error)try{ft.error(rt)}catch(_t){Me(_t)}else Me(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(ft){Me(ft)}}}class bt extends Ue{constructor(rt,ft,_t){let Ye;if(super(),(0,y.m)(rt)||!rt)Ye={next:null!=rt?rt:void 0,error:null!=ft?ft:void 0,complete:null!=_t?_t:void 0};else{let xe;this&&ae.config.useDeprecatedNextContext?(xe=Object.create(rt),xe.unsubscribe=()=>this.unsubscribe(),Ye={next:rt.next&&Ve(rt.next,xe),error:rt.error&&Ve(rt.error,xe),complete:rt.complete&&Ve(rt.complete,xe)}):Ye=rt}this.destination=new qe(Ye)}}function Me(Ge){ae.config.useDeprecatedSynchronousErrorHandling?(0,Ie.O)(Ge):(0,ye.h)(Ge)}function vt(Ge,rt){const{onStoppedNotification:ft}=ae.config;ft&&U.z.setTimeout(()=>ft(Ge,rt))}const it={closed:!0,next:be.Z,error:function Ee(Ge){throw Ge},complete:be.Z}},727:(ln,ct,L)=>{"use strict";L.d(ct,{Lc:()=>De,w0:()=>be,Nn:()=>he});var y=L(576);const ae=(0,L(3888).d)($e=>function(Ie){$e(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((Ue,ve)=>`${ve+1}) ${Ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var ye=L(8737);class be{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const Ve of Ie)Ve.remove(this);else Ie.remove(this);const{initialTeardown:Ue}=this;if((0,y.m)(Ue))try{Ue()}catch(Ve){U=Ve instanceof ae?Ve.errors:[Ve]}const{_finalizers:ve}=this;if(ve){this._finalizers=null;for(const Ve of ve)try{Ce(Ve)}catch(qe){U=null!=U?U:[],qe instanceof ae?U=[...U,...qe.errors]:U.push(qe)}}if(U)throw new ae(U)}}add(U){var Ie;if(U&&U!==this)if(this.closed)Ce(U);else{if(U instanceof be){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(U)}}_hasParent(U){const{_parentage:Ie}=this;return Ie===U||Array.isArray(Ie)&&Ie.includes(U)}_addParent(U){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(U),Ie):Ie?[Ie,U]:U}_removeParent(U){const{_parentage:Ie}=this;Ie===U?this._parentage=null:Array.isArray(Ie)&&(0,ye.P)(Ie,U)}remove(U){const{_finalizers:Ie}=this;Ie&&(0,ye.P)(Ie,U),U instanceof be&&U._removeParent(this)}}be.EMPTY=(()=>{const $e=new be;return $e.closed=!0,$e})();const De=be.EMPTY;function he($e){return $e instanceof be||$e&&"closed"in $e&&(0,y.m)($e.remove)&&(0,y.m)($e.add)&&(0,y.m)($e.unsubscribe)}function Ce($e){(0,y.m)($e)?$e():$e.unsubscribe()}},2416:(ln,ct,L)=>{"use strict";L.d(ct,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(ln,ct,L)=>{"use strict";L.d(ct,{z:()=>be});var y=L(8189),ae=L(7669),ye=L(8996);function be(...De){return function g(){return(0,y.J)(1)}()((0,ye.D)(De,(0,ae.yG)(De)))}},515:(ln,ct,L)=>{"use strict";L.d(ct,{E:()=>g});const g=new(L(9751).y)(be=>be.complete())},8996:(ln,ct,L)=>{"use strict";L.d(ct,{D:()=>rt});var y=L(8421),g=L(5363),ae=L(9468),De=L(9751),Ce=L(2202),$e=L(576),U=L(9672);function Ue(ft,_t){if(!ft)throw new Error("Iterable cannot be null");return new De.y(Ye=>{(0,U.f)(Ye,_t,()=>{const xe=ft[Symbol.asyncIterator]();(0,U.f)(Ye,_t,()=>{xe.next().then(St=>{St.done?Ye.complete():Ye.next(St.value)})},0,!0)})})}var ve=L(3670),Ve=L(8239),qe=L(1144),bt=L(6495),Me=L(2206),Ee=L(4532),vt=L(3260);function rt(ft,_t){return _t?function Ge(ft,_t){if(null!=ft){if((0,ve.c)(ft))return function ye(ft,_t){return(0,y.Xf)(ft).pipe((0,ae.R)(_t),(0,g.Q)(_t))}(ft,_t);if((0,qe.z)(ft))return function he(ft,_t){return new De.y(Ye=>{let xe=0;return _t.schedule(function(){xe===ft.length?Ye.complete():(Ye.next(ft[xe++]),Ye.closed||this.schedule())})})}(ft,_t);if((0,Ve.t)(ft))return function be(ft,_t){return(0,y.Xf)(ft).pipe((0,ae.R)(_t),(0,g.Q)(_t))}(ft,_t);if((0,Me.D)(ft))return Ue(ft,_t);if((0,bt.T)(ft))return function Ie(ft,_t){return new De.y(Ye=>{let xe;return(0,U.f)(Ye,_t,()=>{xe=ft[Ce.h](),(0,U.f)(Ye,_t,()=>{let St,tt;try{({value:St,done:tt}=xe.next())}catch(pt){return void Ye.error(pt)}tt?Ye.complete():Ye.next(St)},0,!0)}),()=>(0,$e.m)(null==xe?void 0:xe.return)&&xe.return()})}(ft,_t);if((0,vt.L)(ft))return function it(ft,_t){return Ue((0,vt.Q)(ft),_t)}(ft,_t)}throw(0,Ee.z)(ft)}(ft,_t):(0,y.Xf)(ft)}},4968:(ln,ct,L)=>{"use strict";L.d(ct,{R:()=>U});var y=L(8421),g=L(9751),ae=L(5577),ye=L(1144),be=L(576),De=L(3268);const he=["addListener","removeListener"],Ce=["addEventListener","removeEventListener"],$e=["on","off"];function U(qe,bt,Me,Ee){if((0,be.m)(Me)&&(Ee=Me,Me=void 0),Ee)return U(qe,bt,Me).pipe((0,De.Z)(Ee));const[vt,it]=function Ve(qe){return(0,be.m)(qe.addEventListener)&&(0,be.m)(qe.removeEventListener)}(qe)?Ce.map(Ge=>rt=>qe[Ge](bt,rt,Me)):function Ue(qe){return(0,be.m)(qe.addListener)&&(0,be.m)(qe.removeListener)}(qe)?he.map(Ie(qe,bt)):function ve(qe){return(0,be.m)(qe.on)&&(0,be.m)(qe.off)}(qe)?$e.map(Ie(qe,bt)):[];if(!vt&&(0,ye.z)(qe))return(0,ae.z)(Ge=>U(Ge,bt,Me))((0,y.Xf)(qe));if(!vt)throw new TypeError("Invalid event target");return new g.y(Ge=>{const rt=(...ft)=>Ge.next(1<ft.length?ft:ft[0]);return vt(rt),()=>it(rt)})}function Ie(qe,bt){return Me=>Ee=>qe[Me](bt,Ee)}},8421:(ln,ct,L)=>{"use strict";L.d(ct,{Xf:()=>ve});var y=L(655),g=L(1144),ae=L(8239),ye=L(9751),be=L(3670),De=L(2206),he=L(4532),Ce=L(6495),$e=L(3260),U=L(576),Ie=L(7849),Ue=L(8822);function ve(Ge){if(Ge instanceof ye.y)return Ge;if(null!=Ge){if((0,be.c)(Ge))return function Ve(Ge){return new ye.y(rt=>{const ft=Ge[Ue.L]();if((0,U.m)(ft.subscribe))return ft.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,g.z)(Ge))return function qe(Ge){return new ye.y(rt=>{for(let ft=0;ft<Ge.length&&!rt.closed;ft++)rt.next(Ge[ft]);rt.complete()})}(Ge);if((0,ae.t)(Ge))return function bt(Ge){return new ye.y(rt=>{Ge.then(ft=>{rt.closed||(rt.next(ft),rt.complete())},ft=>rt.error(ft)).then(null,Ie.h)})}(Ge);if((0,De.D)(Ge))return Ee(Ge);if((0,Ce.T)(Ge))return function Me(Ge){return new ye.y(rt=>{for(const ft of Ge)if(rt.next(ft),rt.closed)return;rt.complete()})}(Ge);if((0,$e.L)(Ge))return function vt(Ge){return Ee((0,$e.Q)(Ge))}(Ge)}throw(0,he.z)(Ge)}function Ee(Ge){return new ye.y(rt=>{(function it(Ge,rt){var ft,_t,Ye,xe;return(0,y.mG)(this,void 0,void 0,function*(){try{for(ft=(0,y.KL)(Ge);!(_t=yield ft.next()).done;)if(rt.next(_t.value),rt.closed)return}catch(St){Ye={error:St}}finally{try{_t&&!_t.done&&(xe=ft.return)&&(yield xe.call(ft))}finally{if(Ye)throw Ye.error}}rt.complete()})})(Ge,rt).catch(ft=>rt.error(ft))})}},6451:(ln,ct,L)=>{"use strict";L.d(ct,{T:()=>De});var y=L(8189),g=L(8421),ae=L(515),ye=L(7669),be=L(8996);function De(...he){const Ce=(0,ye.yG)(he),$e=(0,ye._6)(he,1/0),U=he;return U.length?1===U.length?(0,g.Xf)(U[0]):(0,y.J)($e)((0,be.D)(U,Ce)):ae.E}},9646:(ln,ct,L)=>{"use strict";L.d(ct,{of:()=>ae});var y=L(7669),g=L(8996);function ae(...ye){const be=(0,y.yG)(ye);return(0,g.D)(ye,be)}},5403:(ln,ct,L)=>{"use strict";L.d(ct,{Q:()=>ae,x:()=>g});var y=L(930);function g(ye,be,De,he,Ce){return new ae(ye,be,De,he,Ce)}class ae extends y.Lv{constructor(be,De,he,Ce,$e,U){super(be),this.onFinalize=$e,this.shouldUnsubscribe=U,this._next=De?function(Ie){try{De(Ie)}catch(Ue){be.error(Ue)}}:super._next,this._error=Ce?function(Ie){try{Ce(Ie)}catch(Ue){be.error(Ue)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(Ie){be.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},6590:(ln,ct,L)=>{"use strict";L.d(ct,{d:()=>ae});var y=L(4482),g=L(5403);function ae(ye){return(0,y.e)((be,De)=>{let he=!1;be.subscribe((0,g.x)(De,Ce=>{he=!0,De.next(Ce)},()=>{he||De.next(ye),De.complete()}))})}},1884:(ln,ct,L)=>{"use strict";L.d(ct,{x:()=>ye});var y=L(4671),g=L(4482),ae=L(5403);function ye(De,he=y.y){return De=null!=De?De:be,(0,g.e)((Ce,$e)=>{let U,Ie=!0;Ce.subscribe((0,ae.x)($e,Ue=>{const ve=he(Ue);(Ie||!De(U,ve))&&(Ie=!1,U=ve,$e.next(Ue))}))})}function be(De,he){return De===he}},9300:(ln,ct,L)=>{"use strict";L.d(ct,{h:()=>ae});var y=L(4482),g=L(5403);function ae(ye,be){return(0,y.e)((De,he)=>{let Ce=0;De.subscribe((0,g.x)(he,$e=>ye.call(be,$e,Ce++)&&he.next($e)))})}},590:(ln,ct,L)=>{"use strict";L.d(ct,{P:()=>he});var y=L(6805),g=L(9300),ae=L(5698),ye=L(6590),be=L(8068),De=L(4671);function he(Ce,$e){const U=arguments.length>=2;return Ie=>Ie.pipe(Ce?(0,g.h)((Ue,ve)=>Ce(Ue,ve,Ie)):De.y,(0,ae.q)(1),U?(0,ye.d)($e):(0,be.T)(()=>new y.K))}},4004:(ln,ct,L)=>{"use strict";L.d(ct,{U:()=>ae});var y=L(4482),g=L(5403);function ae(ye,be){return(0,y.e)((De,he)=>{let Ce=0;De.subscribe((0,g.x)(he,$e=>{he.next(ye.call(be,$e,Ce++))}))})}},8189:(ln,ct,L)=>{"use strict";L.d(ct,{J:()=>ae});var y=L(5577),g=L(4671);function ae(ye=1/0){return(0,y.z)(g.y,ye)}},5577:(ln,ct,L)=>{"use strict";L.d(ct,{z:()=>Ce});var y=L(4004),g=L(8421),ae=L(4482),ye=L(9672),be=L(5403),he=L(576);function Ce($e,U,Ie=1/0){return(0,he.m)(U)?Ce((Ue,ve)=>(0,y.U)((Ve,qe)=>U(Ue,Ve,ve,qe))((0,g.Xf)($e(Ue,ve))),Ie):("number"==typeof U&&(Ie=U),(0,ae.e)((Ue,ve)=>function De($e,U,Ie,Ue,ve,Ve,qe,bt){const Me=[];let Ee=0,vt=0,it=!1;const Ge=()=>{it&&!Me.length&&!Ee&&U.complete()},rt=_t=>Ee<Ue?ft(_t):Me.push(_t),ft=_t=>{Ve&&U.next(_t),Ee++;let Ye=!1;(0,g.Xf)(Ie(_t,vt++)).subscribe((0,be.x)(U,xe=>{null==ve||ve(xe),Ve?rt(xe):U.next(xe)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(Ee--;Me.length&&Ee<Ue;){const xe=Me.shift();qe?(0,ye.f)(U,qe,()=>ft(xe)):ft(xe)}Ge()}catch(xe){U.error(xe)}}))};return $e.subscribe((0,be.x)(U,rt,()=>{it=!0,Ge()})),()=>{null==bt||bt()}}(Ue,ve,$e,Ie)))}},5363:(ln,ct,L)=>{"use strict";L.d(ct,{Q:()=>ye});var y=L(9672),g=L(4482),ae=L(5403);function ye(be,De=0){return(0,g.e)((he,Ce)=>{he.subscribe((0,ae.x)(Ce,$e=>(0,y.f)(Ce,be,()=>Ce.next($e),De),()=>(0,y.f)(Ce,be,()=>Ce.complete(),De),$e=>(0,y.f)(Ce,be,()=>Ce.error($e),De)))})}},1520:(ln,ct,L)=>{"use strict";L.d(ct,{G:()=>ae});var y=L(4482),g=L(5403);function ae(){return(0,y.e)((ye,be)=>{let De,he=!1;ye.subscribe((0,g.x)(be,Ce=>{const $e=De;De=Ce,he&&be.next([$e,Ce]),he=!0}))})}},5026:(ln,ct,L)=>{"use strict";L.d(ct,{R:()=>ye});var y=L(4482),g=L(5403);function ye(be,De){return(0,y.e)(function ae(be,De,he,Ce,$e){return(U,Ie)=>{let Ue=he,ve=De,Ve=0;U.subscribe((0,g.x)(Ie,qe=>{const bt=Ve++;ve=Ue?be(ve,qe,bt):(Ue=!0,qe),Ce&&Ie.next(ve)},$e&&(()=>{Ue&&Ie.next(ve),Ie.complete()})))}}(be,De,arguments.length>=2,!0))}},3099:(ln,ct,L)=>{"use strict";L.d(ct,{B:()=>be});var y=L(8421),g=L(7579),ae=L(930),ye=L(4482);function be(he={}){const{connector:Ce=(()=>new g.x),resetOnError:$e=!0,resetOnComplete:U=!0,resetOnRefCountZero:Ie=!0}=he;return Ue=>{let ve,Ve,qe,bt=0,Me=!1,Ee=!1;const vt=()=>{null==Ve||Ve.unsubscribe(),Ve=void 0},it=()=>{vt(),ve=qe=void 0,Me=Ee=!1},Ge=()=>{const rt=ve;it(),null==rt||rt.unsubscribe()};return(0,ye.e)((rt,ft)=>{bt++,!Ee&&!Me&&vt();const _t=qe=null!=qe?qe:Ce();ft.add(()=>{bt--,0===bt&&!Ee&&!Me&&(Ve=De(Ge,Ie))}),_t.subscribe(ft),!ve&&bt>0&&(ve=new ae.Hp({next:Ye=>_t.next(Ye),error:Ye=>{Ee=!0,vt(),Ve=De(it,$e,Ye),_t.error(Ye)},complete:()=>{Me=!0,vt(),Ve=De(it,U),_t.complete()}}),(0,y.Xf)(rt).subscribe(ve))})(Ue)}}function De(he,Ce,...$e){if(!0===Ce)return void he();if(!1===Ce)return;const U=new ae.Hp({next:()=>{U.unsubscribe(),he()}});return(0,y.Xf)(Ce(...$e)).subscribe(U)}},3151:(ln,ct,L)=>{"use strict";L.d(ct,{d:()=>be});var y=L(7579),g=L(6063);class ae extends y.x{constructor(he=1/0,Ce=1/0,$e=g.l){super(),this._bufferSize=he,this._windowTime=Ce,this._timestampProvider=$e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,he),this._windowTime=Math.max(1,Ce)}next(he){const{isStopped:Ce,_buffer:$e,_infiniteTimeWindow:U,_timestampProvider:Ie,_windowTime:Ue}=this;Ce||($e.push(he),!U&&$e.push(Ie.now()+Ue)),this._trimBuffer(),super.next(he)}_subscribe(he){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(he),{_infiniteTimeWindow:$e,_buffer:U}=this,Ie=U.slice();for(let Ue=0;Ue<Ie.length&&!he.closed;Ue+=$e?1:2)he.next(Ie[Ue]);return this._checkFinalizedStatuses(he),Ce}_trimBuffer(){const{_bufferSize:he,_timestampProvider:Ce,_buffer:$e,_infiniteTimeWindow:U}=this,Ie=(U?1:2)*he;if(he<1/0&&Ie<$e.length&&$e.splice(0,$e.length-Ie),!U){const Ue=Ce.now();let ve=0;for(let Ve=1;Ve<$e.length&&$e[Ve]<=Ue;Ve+=2)ve=Ve;ve&&$e.splice(0,ve+1)}}}var ye=L(3099);function be(De,he,Ce){let $e,U=!1;return De&&"object"==typeof De?({bufferSize:$e=1/0,windowTime:he=1/0,refCount:U=!1,scheduler:Ce}=De):$e=null!=De?De:1/0,(0,ye.B)({connector:()=>new ae($e,he,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:U})}},8675:(ln,ct,L)=>{"use strict";L.d(ct,{O:()=>ye});var y=L(7272),g=L(7669),ae=L(4482);function ye(...be){const De=(0,g.yG)(be);return(0,ae.e)((he,Ce)=>{(De?(0,y.z)(be,he,De):(0,y.z)(be,he)).subscribe(Ce)})}},9468:(ln,ct,L)=>{"use strict";L.d(ct,{R:()=>g});var y=L(4482);function g(ae,ye=0){return(0,y.e)((be,De)=>{De.add(ae.schedule(()=>be.subscribe(De),ye))})}},3900:(ln,ct,L)=>{"use strict";L.d(ct,{w:()=>ye});var y=L(8421),g=L(4482),ae=L(5403);function ye(be,De){return(0,g.e)((he,Ce)=>{let $e=null,U=0,Ie=!1;const Ue=()=>Ie&&!$e&&Ce.complete();he.subscribe((0,ae.x)(Ce,ve=>{null==$e||$e.unsubscribe();let Ve=0;const qe=U++;(0,y.Xf)(be(ve,qe)).subscribe($e=(0,ae.x)(Ce,bt=>Ce.next(De?De(ve,bt,qe,Ve++):bt),()=>{$e=null,Ue()}))},()=>{Ie=!0,Ue()}))})}},5698:(ln,ct,L)=>{"use strict";L.d(ct,{q:()=>ye});var y=L(515),g=L(4482),ae=L(5403);function ye(be){return be<=0?()=>y.E:(0,g.e)((De,he)=>{let Ce=0;De.subscribe((0,ae.x)(he,$e=>{++Ce<=be&&(he.next($e),be<=Ce&&he.complete())}))})}},8505:(ln,ct,L)=>{"use strict";L.d(ct,{b:()=>be});var y=L(576),g=L(4482),ae=L(5403),ye=L(4671);function be(De,he,Ce){const $e=(0,y.m)(De)||he||Ce?{next:De,error:he,complete:Ce}:De;return $e?(0,g.e)((U,Ie)=>{var Ue;null===(Ue=$e.subscribe)||void 0===Ue||Ue.call($e);let ve=!0;U.subscribe((0,ae.x)(Ie,Ve=>{var qe;null===(qe=$e.next)||void 0===qe||qe.call($e,Ve),Ie.next(Ve)},()=>{var Ve;ve=!1,null===(Ve=$e.complete)||void 0===Ve||Ve.call($e),Ie.complete()},Ve=>{var qe;ve=!1,null===(qe=$e.error)||void 0===qe||qe.call($e,Ve),Ie.error(Ve)},()=>{var Ve,qe;ve&&(null===(Ve=$e.unsubscribe)||void 0===Ve||Ve.call($e)),null===(qe=$e.finalize)||void 0===qe||qe.call($e)}))}):ye.y}},8068:(ln,ct,L)=>{"use strict";L.d(ct,{T:()=>ye});var y=L(6805),g=L(4482),ae=L(5403);function ye(De=be){return(0,g.e)((he,Ce)=>{let $e=!1;he.subscribe((0,ae.x)(Ce,U=>{$e=!0,Ce.next(U)},()=>$e?Ce.complete():Ce.error(De())))})}function be(){return new y.K}},4408:(ln,ct,L)=>{"use strict";L.d(ct,{o:()=>be});var y=L(727);class g extends y.w0{constructor(he,Ce){super()}schedule(he,Ce=0){return this}}const ae={setInterval(De,he,...Ce){const{delegate:$e}=ae;return null!=$e&&$e.setInterval?$e.setInterval(De,he,...Ce):setInterval(De,he,...Ce)},clearInterval(De){const{delegate:he}=ae;return((null==he?void 0:he.clearInterval)||clearInterval)(De)},delegate:void 0};var ye=L(8737);class be extends g{constructor(he,Ce){super(he,Ce),this.scheduler=he,this.work=Ce,this.pending=!1}schedule(he,Ce=0){var $e;if(this.closed)return this;this.state=he;const U=this.id,Ie=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(Ie,U,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(Ie,this.id,Ce),this}requestAsyncId(he,Ce,$e=0){return ae.setInterval(he.flush.bind(he,this),$e)}recycleAsyncId(he,Ce,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Ce;null!=Ce&&ae.clearInterval(Ce)}execute(he,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(he,Ce);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Ce){let U,$e=!1;try{this.work(he)}catch(Ie){$e=!0,U=Ie||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:he,scheduler:Ce}=this,{actions:$e}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)($e,this),null!=he&&(this.id=this.recycleAsyncId(Ce,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(ln,ct,L)=>{"use strict";L.d(ct,{v:()=>ae});var y=L(6063);class g{constructor(be,De=g.now){this.schedulerActionCtor=be,this.now=De}schedule(be,De=0,he){return new this.schedulerActionCtor(this,be).schedule(he,De)}}g.now=y.l.now;class ae extends g{constructor(be,De=g.now){super(be,De),this.actions=[],this._active=!1}flush(be){const{actions:De}=this;if(this._active)return void De.push(be);let he;this._active=!0;do{if(he=be.execute(be.state,be.delay))break}while(be=De.shift());if(this._active=!1,he){for(;be=De.shift();)be.unsubscribe();throw he}}}},4986:(ln,ct,L)=>{"use strict";L.d(ct,{z:()=>ae});var y=L(4408);const ae=new(L(7565).v)(y.o)},6063:(ln,ct,L)=>{"use strict";L.d(ct,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(ln,ct,L)=>{"use strict";L.d(ct,{z:()=>y});const y={setTimeout(g,ae,...ye){const{delegate:be}=y;return null!=be&&be.setTimeout?be.setTimeout(g,ae,...ye):setTimeout(g,ae,...ye)},clearTimeout(g){const{delegate:ae}=y;return((null==ae?void 0:ae.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(ln,ct,L)=>{"use strict";L.d(ct,{h:()=>g});const g=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ln,ct,L)=>{"use strict";L.d(ct,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ln,ct,L)=>{"use strict";L.d(ct,{K:()=>g});const g=(0,L(3888).d)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(ln,ct,L)=>{"use strict";L.d(ct,{_6:()=>De,jO:()=>ye,yG:()=>be});var y=L(576);function ae(he){return he[he.length-1]}function ye(he){return(0,y.m)(ae(he))?he.pop():void 0}function be(he){return function g(he){return he&&(0,y.m)(he.schedule)}(ae(he))?he.pop():void 0}function De(he,Ce){return"number"==typeof ae(he)?he.pop():Ce}},4742:(ln,ct,L)=>{"use strict";L.d(ct,{D:()=>be});const{isArray:y}=Array,{getPrototypeOf:g,prototype:ae,keys:ye}=Object;function be(he){if(1===he.length){const Ce=he[0];if(y(Ce))return{args:Ce,keys:null};if(function De(he){return he&&"object"==typeof he&&g(he)===ae}(Ce)){const $e=ye(Ce);return{args:$e.map(U=>Ce[U]),keys:$e}}}return{args:he,keys:null}}},8737:(ln,ct,L)=>{"use strict";function y(g,ae){if(g){const ye=g.indexOf(ae);0<=ye&&g.splice(ye,1)}}L.d(ct,{P:()=>y})},3888:(ln,ct,L)=>{"use strict";function y(g){const ye=g(be=>{Error.call(be),be.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}L.d(ct,{d:()=>y})},1810:(ln,ct,L)=>{"use strict";function y(g,ae){return g.reduce((ye,be,De)=>(ye[be]=ae[De],ye),{})}L.d(ct,{n:()=>y})},2806:(ln,ct,L)=>{"use strict";L.d(ct,{O:()=>ye,x:()=>ae});var y=L(2416);let g=null;function ae(be){if(y.config.useDeprecatedSynchronousErrorHandling){const De=!g;if(De&&(g={errorThrown:!1,error:null}),be(),De){const{errorThrown:he,error:Ce}=g;if(g=null,he)throw Ce}}else be()}function ye(be){y.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=be)}},9672:(ln,ct,L)=>{"use strict";function y(g,ae,ye,be=0,De=!1){const he=ae.schedule(function(){ye(),De?g.add(this.schedule(null,be)):this.unsubscribe()},be);if(g.add(he),!De)return he}L.d(ct,{f:()=>y})},4671:(ln,ct,L)=>{"use strict";function y(g){return g}L.d(ct,{y:()=>y})},1144:(ln,ct,L)=>{"use strict";L.d(ct,{z:()=>y});const y=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(ln,ct,L)=>{"use strict";L.d(ct,{D:()=>g});var y=L(576);function g(ae){return Symbol.asyncIterator&&(0,y.m)(null==ae?void 0:ae[Symbol.asyncIterator])}},576:(ln,ct,L)=>{"use strict";function y(g){return"function"==typeof g}L.d(ct,{m:()=>y})},3670:(ln,ct,L)=>{"use strict";L.d(ct,{c:()=>ae});var y=L(8822),g=L(576);function ae(ye){return(0,g.m)(ye[y.L])}},6495:(ln,ct,L)=>{"use strict";L.d(ct,{T:()=>ae});var y=L(2202),g=L(576);function ae(ye){return(0,g.m)(null==ye?void 0:ye[y.h])}},8239:(ln,ct,L)=>{"use strict";L.d(ct,{t:()=>g});var y=L(576);function g(ae){return(0,y.m)(null==ae?void 0:ae.then)}},3260:(ln,ct,L)=>{"use strict";L.d(ct,{L:()=>ye,Q:()=>ae});var y=L(655),g=L(576);function ae(be){return(0,y.FC)(this,arguments,function*(){const he=be.getReader();try{for(;;){const{value:Ce,done:$e}=yield(0,y.qq)(he.read());if($e)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ce)}}finally{he.releaseLock()}})}function ye(be){return(0,g.m)(null==be?void 0:be.getReader)}},4482:(ln,ct,L)=>{"use strict";L.d(ct,{A:()=>g,e:()=>ae});var y=L(576);function g(ye){return(0,y.m)(null==ye?void 0:ye.lift)}function ae(ye){return be=>{if(g(be))return be.lift(function(De){try{return ye(De,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ln,ct,L)=>{"use strict";L.d(ct,{Z:()=>ye});var y=L(4004);const{isArray:g}=Array;function ye(be){return(0,y.U)(De=>function ae(be,De){return g(De)?be(...De):be(De)}(be,De))}},5032:(ln,ct,L)=>{"use strict";function y(){}L.d(ct,{Z:()=>y})},9635:(ln,ct,L)=>{"use strict";L.d(ct,{U:()=>ae,z:()=>g});var y=L(4671);function g(...ye){return ae(ye)}function ae(ye){return 0===ye.length?y.y:1===ye.length?ye[0]:function(De){return ye.reduce((he,Ce)=>Ce(he),De)}}},7849:(ln,ct,L)=>{"use strict";L.d(ct,{h:()=>ae});var y=L(2416),g=L(3410);function ae(ye){g.z.setTimeout(()=>{const{onUnhandledError:be}=y.config;if(!be)throw ye;be(ye)})}},4532:(ln,ct,L)=>{"use strict";function y(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ct,{z:()=>y})},863:(ln,ct,L)=>{var y={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function g(ae){if(!L.o(y,ae))return Promise.resolve().then(()=>{var De=new Error("Cannot find module '"+ae+"'");throw De.code="MODULE_NOT_FOUND",De});var ye=y[ae],be=ye[0];return Promise.all(ye.slice(1).map(L.e)).then(()=>L(be))}g.keys=()=>Object.keys(y),g.id=863,ln.exports=g},655:(ln,ct,L)=>{"use strict";L.d(ct,{FC:()=>rt,KL:()=>_t,ZT:()=>g,_T:()=>ye,gn:()=>be,mG:()=>Ue,qq:()=>Ge});var y=function(Pe,je){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(We,ke){We.__proto__=ke}||function(We,ke){for(var Fe in ke)Object.prototype.hasOwnProperty.call(ke,Fe)&&(We[Fe]=ke[Fe])})(Pe,je)};function g(Pe,je){if("function"!=typeof je&&null!==je)throw new TypeError("Class extends value "+String(je)+" is not a constructor or null");function We(){this.constructor=Pe}y(Pe,je),Pe.prototype=null===je?Object.create(je):(We.prototype=je.prototype,new We)}function ye(Pe,je){var We={};for(var ke in Pe)Object.prototype.hasOwnProperty.call(Pe,ke)&&je.indexOf(ke)<0&&(We[ke]=Pe[ke]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ke=Object.getOwnPropertySymbols(Pe);Fe<ke.length;Fe++)je.indexOf(ke[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Pe,ke[Fe])&&(We[ke[Fe]]=Pe[ke[Fe]])}return We}function be(Pe,je,We,ke){var mt,Fe=arguments.length,He=Fe<3?je:null===ke?ke=Object.getOwnPropertyDescriptor(je,We):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(Pe,je,We,ke);else for(var ut=Pe.length-1;ut>=0;ut--)(mt=Pe[ut])&&(He=(Fe<3?mt(He):Fe>3?mt(je,We,He):mt(je,We))||He);return Fe>3&&He&&Object.defineProperty(je,We,He),He}function Ue(Pe,je,We,ke){return new(We||(We=Promise))(function(He,mt){function ut(sn){try{Pt(ke.next(sn))}catch(At){mt(At)}}function Tt(sn){try{Pt(ke.throw(sn))}catch(At){mt(At)}}function Pt(sn){sn.done?He(sn.value):function Fe(He){return He instanceof We?He:new We(function(mt){mt(He)})}(sn.value).then(ut,Tt)}Pt((ke=ke.apply(Pe,je||[])).next())})}function Ge(Pe){return this instanceof Ge?(this.v=Pe,this):new Ge(Pe)}function rt(Pe,je,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ke=We.apply(Pe,je||[]),He=[];return Fe={},mt("next"),mt("throw"),mt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function mt(et){ke[et]&&(Fe[et]=function(Ot){return new Promise(function(Jt,fn){He.push([et,Ot,Jt,fn])>1||ut(et,Ot)})})}function ut(et,Ot){try{!function Tt(et){et.value instanceof Ge?Promise.resolve(et.value.v).then(Pt,sn):At(He[0][2],et)}(ke[et](Ot))}catch(Jt){At(He[0][3],Jt)}}function Pt(et){ut("next",et)}function sn(et){ut("throw",et)}function At(et,Ot){et(Ot),He.shift(),He.length&&ut(He[0][0],He[0][1])}}function _t(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,je=Pe[Symbol.asyncIterator];return je?je.call(Pe):(Pe=function bt(Pe){var je="function"==typeof Symbol&&Symbol.iterator,We=je&&Pe[je],ke=0;if(We)return We.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&ke>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[ke++],done:!Pe}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),We={},ke("next"),ke("throw"),ke("return"),We[Symbol.asyncIterator]=function(){return this},We);function ke(He){We[He]=Pe[He]&&function(mt){return new Promise(function(ut,Tt){!function Fe(He,mt,ut,Tt){Promise.resolve(Tt).then(function(Pt){He({value:Pt,done:ut})},mt)}(ut,Tt,(mt=Pe[He](mt)).done,mt.value)})}}}},4755:(ln,ct,L)=>{"use strict";L.d(ct,{Do:()=>vt,EM:()=>pa,HT:()=>ye,JF:()=>as,K0:()=>De,Mx:()=>Ds,NF:()=>ms,O5:()=>W,Ov:()=>Cn,PM:()=>di,S$:()=>bt,V_:()=>$e,Ye:()=>it,b0:()=>Ee,bD:()=>Br,ez:()=>Ui,q:()=>ae,sg:()=>Ji,tP:()=>dn,w_:()=>be});var y=L(2223);let g=null;function ae(){return g}function ye(V){g||(g=V)}class be{}const De=new y.OlP("DocumentToken");let he=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Ce(){return(0,y.LFG)(U)}()},providedIn:"platform"}),V})();const $e=new y.OlP("Location Initialized");let U=(()=>{class V extends he{constructor(H){super(),this._doc=H,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(H){const me=ae().getGlobalEventTarget(this._doc,"window");return me.addEventListener("popstate",H,!1),()=>me.removeEventListener("popstate",H)}onHashChange(H){const me=ae().getGlobalEventTarget(this._doc,"window");return me.addEventListener("hashchange",H,!1),()=>me.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,me,Ke){Ie()?this._history.pushState(H,me,Ke):this._location.hash=Ke}replaceState(H,me,Ke){Ie()?this._history.replaceState(H,me,Ke):this._location.hash=Ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return V.\u0275fac=function(H){return new(H||V)(y.LFG(De))},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Ue(){return new U((0,y.LFG)(De))}()},providedIn:"platform"}),V})();function Ie(){return!!window.history.pushState}function ve(V,re){if(0==V.length)return re;if(0==re.length)return V;let H=0;return V.endsWith("/")&&H++,re.startsWith("/")&&H++,2==H?V+re.substring(1):1==H?V+re:V+"/"+re}function Ve(V){const re=V.match(/#|\?|$/),H=re&&re.index||V.length;return V.slice(0,H-("/"===V[H-1]?1:0))+V.slice(H)}function qe(V){return V&&"?"!==V[0]?"?"+V:V}let bt=(()=>{class V{historyGo(H){throw new Error("Not implemented")}}return V.\u0275fac=function(H){return new(H||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return(0,y.f3M)(Ee)},providedIn:"root"}),V})();const Me=new y.OlP("appBaseHref");let Ee=(()=>{class V extends bt{constructor(H,me){var Ke,Ut,Yt;super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=null!==(Ke=null!==(Ut=null!=me?me:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ut?Ut:null===(Yt=(0,y.f3M)(De).location)||void 0===Yt?void 0:Yt.origin)&&void 0!==Ke?Ke:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return ve(this._baseHref,H)}path(H=!1){const me=this._platformLocation.pathname+qe(this._platformLocation.search),Ke=this._platformLocation.hash;return Ke&&H?`${me}${Ke}`:me}pushState(H,me,Ke,Ut){const Yt=this.prepareExternalUrl(Ke+qe(Ut));this._platformLocation.pushState(H,me,Yt)}replaceState(H,me,Ke,Ut){const Yt=this.prepareExternalUrl(Ke+qe(Ut));this._platformLocation.replaceState(H,me,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var me,Ke;null===(me=(Ke=this._platformLocation).historyGo)||void 0===me||me.call(Ke,H)}}return V.\u0275fac=function(H){return new(H||V)(y.LFG(he),y.LFG(Me,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),vt=(()=>{class V extends bt{constructor(H,me){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=me&&(this._baseHref=me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let me=this._platformLocation.hash;return null==me&&(me="#"),me.length>0?me.substring(1):me}prepareExternalUrl(H){const me=ve(this._baseHref,H);return me.length>0?"#"+me:me}pushState(H,me,Ke,Ut){let Yt=this.prepareExternalUrl(Ke+qe(Ut));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.pushState(H,me,Yt)}replaceState(H,me,Ke,Ut){let Yt=this.prepareExternalUrl(Ke+qe(Ut));0==Yt.length&&(Yt=this._platformLocation.pathname),this._platformLocation.replaceState(H,me,Yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var me,Ke;null===(me=(Ke=this._platformLocation).historyGo)||void 0===me||me.call(Ke,H)}}return V.\u0275fac=function(H){return new(H||V)(y.LFG(he),y.LFG(Me,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})(),it=(()=>{class V{constructor(H){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const me=this._locationStrategy.getBaseHref();this._basePath=function _t(V){if(new RegExp("^(https?:)?//").test(V)){const[,H]=V.split(/\/\/[^\/]+/);return H}return V}(Ve(ft(me))),this._locationStrategy.onPopState(Ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ke.state,type:Ke.type})})}ngOnDestroy(){var H;null===(H=this._urlChangeSubscription)||void 0===H||H.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,me=""){return this.path()==this.normalize(H+qe(me))}normalize(H){return V.stripTrailingSlash(function rt(V,re){if(!V||!re.startsWith(V))return re;const H=re.substring(V.length);return""===H||["/",";","?","#"].includes(H[0])?H:re}(this._basePath,ft(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,me="",Ke=null){this._locationStrategy.pushState(Ke,"",H,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(me)),Ke)}replaceState(H,me="",Ke=null){this._locationStrategy.replaceState(Ke,"",H,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(me)),Ke)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){var me,Ke;null===(me=(Ke=this._locationStrategy).historyGo)||void 0===me||me.call(Ke,H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(me=>{this._notifyUrlChangeListeners(me.url,me.state)})),()=>{const me=this._urlChangeListeners.indexOf(H);var Ke;this._urlChangeListeners.splice(me,1),0===this._urlChangeListeners.length&&(null===(Ke=this._urlChangeSubscription)||void 0===Ke||Ke.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",me){this._urlChangeListeners.forEach(Ke=>Ke(H,me))}subscribe(H,me,Ke){return this._subject.subscribe({next:H,error:me,complete:Ke})}}return V.normalizeQueryParams=qe,V.joinWithSlash=ve,V.stripTrailingSlash=Ve,V.\u0275fac=function(H){return new(H||V)(y.LFG(bt))},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Ge(){return new it((0,y.LFG)(bt))}()},providedIn:"root"}),V})();function ft(V){return V.replace(/\/index.html$/,"")}function Ds(V,re){re=encodeURIComponent(re);for(const H of V.split(";")){const me=H.indexOf("="),[Ke,Ut]=-1==me?[H,""]:[H.slice(0,me),H.slice(me+1)];if(Ke.trim()===re)return decodeURIComponent(Ut)}return null}class Cs{constructor(re,H,me,Ke){this.$implicit=re,this.ngForOf=H,this.index=me,this.count=Ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class V{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,me,Ke){this._viewContainer=H,this._template=me,this._differs=Ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const me=this._viewContainer;H.forEachOperation((Ke,Ut,Yt)=>{if(null==Ke.previousIndex)me.createEmbeddedView(this._template,new Cs(Ke.item,this._ngForOf,-1,-1),null===Yt?void 0:Yt);else if(null==Yt)me.remove(null===Ut?void 0:Ut);else if(null!==Ut){const Qn=me.get(Ut);me.move(Qn,Yt),ps(Qn,Ke)}});for(let Ke=0,Ut=me.length;Ke<Ut;Ke++){const Qn=me.get(Ke).context;Qn.index=Ke,Qn.count=Ut,Qn.ngForOf=this._ngForOf}H.forEachIdentityChange(Ke=>{ps(me.get(Ke.currentIndex),Ke)})}static ngTemplateContextGuard(H,me){return!0}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function ps(V,re){V.context.$implicit=re.item}let W=(()=>{class V{constructor(H,me){this._viewContainer=H,this._context=new ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=me}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){_e("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){_e("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,me){return!0}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.s_b),y.Y36(y.Rgc))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class ee{constructor(){this.$implicit=null,this.ngIf=null}}function _e(V,re){if(re&&!re.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,y.AaK)(re)}'.`)}let dn=(()=>{class V{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(H.ngTemplateOutlet||H.ngTemplateOutletInjector){const me=this._viewContainerRef;if(this._viewRef&&me.remove(me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ke,ngTemplateOutletContext:Ut,ngTemplateOutletInjector:Yt}=this;this._viewRef=me.createEmbeddedView(Ke,Ut,Yt?{injector:Yt}:void 0)}else this._viewRef=null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.s_b))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),V})();class fi{createSubscription(re,H){return re.subscribe({next:H,error:me=>{throw me}})}dispose(re){re.unsubscribe()}}class Oi{createSubscription(re,H){return re.then(H,me=>{throw me})}dispose(re){}}const Fi=new Oi,Hr=new fi;let Cn=(()=>{class V{constructor(H){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=H}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,me=>this._updateLatestValue(H,me))}_selectStrategy(H){if((0,y.QGY)(H))return Fi;if((0,y.F4k)(H))return Hr;throw function ar(V,re){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,me){H===this._obj&&(this._latestValue=me,this._ref.markForCheck())}}return V.\u0275fac=function(H){return new(H||V)(y.Y36(y.sBO,16))},V.\u0275pipe=y.Yjl({name:"async",type:V,pure:!1,standalone:!0}),V})(),Ui=(()=>{class V{}return V.\u0275fac=function(H){return new(H||V)},V.\u0275mod=y.oAB({type:V}),V.\u0275inj=y.cJS({}),V})();const Br="browser",Zo="server";function ms(V){return V===Br}function di(V){return V===Zo}let pa=(()=>{class V{}return V.\u0275prov=(0,y.Yz7)({token:V,providedIn:"root",factory:()=>new ss((0,y.LFG)(De),window)}),V})();class ss{constructor(re,H){this.document=re,this.window=H,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const H=function Qo(V,re){const H=V.getElementById(re)||V.getElementsByName(re)[0];if(H)return H;if("function"==typeof V.createTreeWalker&&V.body&&"function"==typeof V.body.attachShadow){const me=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Ke=me.currentNode;for(;Ke;){const Ut=Ke.shadowRoot;if(Ut){const Yt=Ut.getElementById(re)||Ut.querySelector(`[name="${re}"]`);if(Yt)return Yt}Ke=me.nextNode()}}return null}(this.document,re);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=re)}}scrollToElement(re){const H=re.getBoundingClientRect(),me=H.left+this.window.pageXOffset,Ke=H.top+this.window.pageYOffset,Ut=this.offset();this.window.scrollTo(me-Ut[0],Ke-Ut[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=ji(this.window.history)||ji(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ji(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class as{}},2223:(ln,ct,L)=>{"use strict";L.d(ct,{$8M:()=>$i,$WT:()=>on,$Z:()=>qh,AFp:()=>Dm,ALo:()=>c,AaK:()=>$e,CHM:()=>Ks,CRH:()=>oC,D6c:()=>LD,EJc:()=>Ub,EpF:()=>pf,F$t:()=>Yg,F4k:()=>f0,FYo:()=>wv,FiY:()=>Vl,G48:()=>dD,GSi:()=>op,Gf:()=>iC,GfV:()=>Eg,GkF:()=>Ty,Gpc:()=>Ue,HDt:()=>cb,Hsn:()=>Zg,JOm:()=>wa,KtG:()=>ru,LFG:()=>Mt,LMc:()=>$D,Lbi:()=>El,Lck:()=>oI,MAs:()=>Jd,MMx:()=>sw,NdJ:()=>Sp,Ojb:()=>ug,OlP:()=>ki,Oqu:()=>wn,P3R:()=>Vd,PXZ:()=>nD,Q6J:()=>Dp,QGY:()=>n_,QbO:()=>$_,Qsj:()=>Nm,R0b:()=>Al,RDi:()=>Nd,Rgc:()=>Cr,SBq:()=>tp,Sil:()=>Hb,Suo:()=>sC,TTD:()=>vi,TgZ:()=>df,X6Q:()=>cD,XFs:()=>nn,Xpm:()=>ps,Xts:()=>Yc,Y36:()=>Au,YKP:()=>rw,YNc:()=>Wg,Yjl:()=>Be,Yz7:()=>et,Z0I:()=>Tn,ZZ4:()=>FI,_Bn:()=>tu,_UZ:()=>Sy,_Vd:()=>Jc,_c5:()=>TD,_uU:()=>Se,aQg:()=>LI,c2e:()=>TC,cJS:()=>Jt,cg1:()=>d_,dDg:()=>Xb,dqk:()=>Sn,eFA:()=>UC,eJc:()=>_I,ekj:()=>M0,eoX:()=>LC,f3M:()=>gn,g9A:()=>Sm,h0i:()=>Cc,hGG:()=>AD,hij:()=>jn,iGM:()=>rC,ifc:()=>Oe,ip1:()=>SC,jDz:()=>ow,kL8:()=>dd,lG2:()=>se,lcZ:()=>A,lqb:()=>Cu,lri:()=>kC,n5z:()=>hh,oAB:()=>_e,oxw:()=>xy,q4F:()=>km,qFp:()=>VD,qLn:()=>jh,qOj:()=>sf,qZA:()=>cd,rWj:()=>FC,sBO:()=>hD,s_b:()=>hr,soG:()=>vw,tb:()=>RI,tp0:()=>ml,uIk:()=>Os,vHH:()=>Ee,vpe:()=>Ht,wAp:()=>$r,xp6:()=>Um,z2F:()=>M_,zSh:()=>Ud,zs3:()=>pc});var De,y=L(7579),g=L(727),ae=L(9751),ye=L(6451),be=L(3099);function he(n){for(let i in n)if(n[i]===he)return i;throw Error("Could not find renamed property on target object.")}function Ce(n,i){for(const a in i)i.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=i[a])}function $e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const a=i.indexOf("\n");return-1===a?i:i.substring(0,a)}function U(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ie=he({__forward_ref__:he});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return $e(this())},n}function ve(n){return Ve(n)?n():n}function Ve(n){return"function"==typeof n&&n.hasOwnProperty(Ie)&&n.__forward_ref__===Ue}function qe(n){return n&&!!n.\u0275providers}const Me="https://g.co/ng/security#xss";class Ee extends Error{constructor(i,a){super(function vt(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,a)),this.code=i}}function it(n){return"string"==typeof n?n:null==n?"":String(n)}function Ye(n,i){throw new Ee(-201,!1)}function ut(n,i){null==n&&function Tt(n,i,a,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${a} ${d} ${i} <=Actual]`))}(i,n,null,"!=")}function et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function fn(n){return En(n,Lt)||En(n,fr)}function Tn(n){return null!==fn(n)}function En(n,i){return n.hasOwnProperty(i)?n[i]:null}function In(n){return n&&(n.hasOwnProperty(rr)||n.hasOwnProperty(gr))?n[rr]:null}const Lt=he({\u0275prov:he}),rr=he({\u0275inj:he}),fr=he({ngInjectableDef:he}),gr=he({ngInjectorDef:he});var nn=(()=>((nn=nn||{})[nn.Default=0]="Default",nn[nn.Host=1]="Host",nn[nn.Self=2]="Self",nn[nn.SkipSelf=4]="SkipSelf",nn[nn.Optional=8]="Optional",nn))();let Lr;function nr(n){const i=Lr;return Lr=n,i}function Ar(n,i,a){const d=fn(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:a&nn.Optional?null:void 0!==i?i:void Ye($e(n))}const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vr={},ur="__NG_DI_FLAG__",kr="ngTempTokenPath",Kn=/\n/gm,ei="__source";let Hn;function fe(n){const i=Hn;return Hn=n,i}function ze(n,i=nn.Default){if(void 0===Hn)throw new Ee(-203,!1);return null===Hn?Ar(n,void 0,i):Hn.get(n,i&nn.Optional?null:void 0,i)}function Mt(n,i=nn.Default){return(function sr(){return Lr}()||ze)(ve(n),i)}function gn(n,i=nn.Default){return Mt(n,pr(i))}function pr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fn(n){const i=[];for(let a=0;a<n.length;a++){const d=ve(n[a]);if(Array.isArray(d)){if(0===d.length)throw new Ee(900,!1);let f,v=nn.Default;for(let b=0;b<d.length;b++){const x=d[b],B=Je(x);"number"==typeof B?-1===B?f=x.token:v|=B:f=x}i.push(Mt(f,v))}else i.push(Mt(d))}return i}function mr(n,i){return n[ur]=i,n.prototype[ur]=i,n}function Je(n){return n[ur]}function z(n){return{toString:n}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),Oe=(()=>{return(n=Oe||(Oe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Oe;var n})();const st={},Le=[],ht=he({\u0275cmp:he}),It=he({\u0275dir:he}),Gt=he({\u0275pipe:he}),zt=he({\u0275mod:he}),rn=he({\u0275fac:he}),un=he({__NG_ELEMENT_ID__:he}),Wn=he({__NG_ENV_ID__:he});function zn(n,i,a){let d=n.length;for(;;){const f=n.indexOf(i,a);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const v=i.length;if(f+v===d||n.charCodeAt(f+v)<=32)return f}a=f+1}}function Dt(n,i,a){let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const v=a[d++],b=a[d++],x=a[d++];n.setAttribute(i,b,x,v)}else{const v=f,b=a[++d];Kt(v)?n.setProperty(i,v,b):n.setAttribute(i,v,b),d++}}return d}function wt(n){return 3===n||4===n||6===n}function Kt(n){return 64===n.charCodeAt(0)}function _n(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let a=-1;for(let d=0;d<i.length;d++){const f=i[d];"number"==typeof f?a=f:0===a||kn(n,a,f,null,-1===a||2===a?i[++d]:null)}}return n}function kn(n,i,a,d,f){let v=0,b=n.length;if(-1===i)b=-1;else for(;v<n.length;){const x=n[v++];if("number"==typeof x){if(x===i){b=-1;break}if(x>i){b=v-1;break}}}for(;v<n.length;){const x=n[v];if("number"==typeof x)break;if(x===a){if(null===d)return void(null!==f&&(n[v+1]=f));if(d===n[v+1])return void(n[v+2]=f)}v++,null!==d&&v++,null!==f&&v++}-1!==b&&(n.splice(b,0,i),v=b+1),n.splice(v++,0,a),null!==d&&n.splice(v++,0,d),null!==f&&n.splice(v++,0,f)}const Xn="ng-template";function Jn(n,i,a){let d=0,f=!0;for(;d<n.length;){let v=n[d++];if("string"==typeof v&&f){const b=n[d++];if(a&&"class"===v&&-1!==zn(b.toLowerCase(),i,0))return!0}else{if(1===v){for(;d<n.length&&"string"==typeof(v=n[d++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function Wr(n){return 4===n.type&&n.value!==Xn}function _r(n,i,a){return i===(4!==n.type||a?n.value:Xn)}function or(n,i,a){let d=4;const f=n.attrs||[],v=function yi(n){for(let i=0;i<n.length;i++)if(wt(n[i]))return i;return n.length}(f);let b=!1;for(let x=0;x<i.length;x++){const B=i[x];if("number"!=typeof B){if(!b)if(4&d){if(d=2|1&d,""!==B&&!_r(n,B,a)||""===B&&1===i.length){if(Zn(d))return!1;b=!0}}else{const J=8&d?B:i[++x];if(8&d&&null!==n.attrs){if(!Jn(n.attrs,J,a)){if(Zn(d))return!1;b=!0}continue}const Ne=hi(8&d?"class":B,f,Wr(n),a);if(-1===Ne){if(Zn(d))return!1;b=!0;continue}if(""!==J){let lt;lt=Ne>v?"":f[Ne+1].toLowerCase();const Rt=8&d?lt:null;if(Rt&&-1!==zn(Rt,J,0)||2&d&&J!==lt){if(Zn(d))return!1;b=!0}}}}else{if(!b&&!Zn(d)&&!Zn(B))return!1;if(b&&Zn(B))continue;b=!1,d=B|1&d}}return Zn(d)||b}function Zn(n){return 0==(1&n)}function hi(n,i,a,d){if(null===i)return-1;let f=0;if(d||!a){let v=!1;for(;f<i.length;){const b=i[f];if(b===n)return f;if(3===b||6===b)v=!0;else{if(1===b||2===b){let x=i[++f];for(;"string"==typeof x;)x=i[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=v?1:2}return-1}return function ns(n,i){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const d=n[a];if("number"==typeof d)return-1;if(d===i)return a;a++}return-1}(i,n)}function mi(n,i,a=!1){for(let d=0;d<i.length;d++)if(or(n,i[d],a))return!0;return!1}function js(n,i){e:for(let a=0;a<i.length;a++){const d=i[a];if(n.length===d.length){for(let f=0;f<n.length;f++)if(n[f]!==d[f])continue e;return!0}}return!1}function Pi(n,i){return n?":not("+i.trim()+")":i}function ti(n){let i=n[0],a=1,d=2,f="",v=!1;for(;a<n.length;){let b=n[a];if("string"==typeof b)if(2&d){const x=n[++a];f+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!Zn(b)&&(i+=Pi(v,f),f=""),d=b,v=v||!Zn(d);a++}return""!==f&&(i+=Pi(v,f)),i}function ps(n){return z(()=>{const i=Un(n),a={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Oe.Emulated,styles:n.styles||Le,_:null,schemas:n.schemas||null,tView:null,id:""};ar(a);const d=n.dependencies;return a.directiveDefs=fi(d,!1),a.pipeDefs=fi(d,!0),a.id=function Fi(n){let i=0;const a=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const f of a)i=Math.imul(31,i)+f.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(a),a})}function W(n){return Xe(n)||dt(n)}function ee(n){return null!==n}function _e(n){return z(()=>({type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function G(n,i){if(null==n)return st;const a={};for(const d in n)if(n.hasOwnProperty(d)){let f=n[d],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),a[f]=d,i&&(i[f]=v)}return a}function se(n){return z(()=>{const i=Un(n);return ar(i),i})}function Be(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xe(n){return n[ht]||null}function dt(n){return n[It]||null}function xt(n){return n[Gt]||null}function on(n){const i=Xe(n)||dt(n)||xt(n);return null!==i&&i.standalone}function dn(n,i){const a=n[zt]||null;if(!a&&!0===i)throw new Error(`Type ${$e(n)} does not have '\u0275mod' property.`);return a}function Un(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:G(n.inputs,i),outputs:G(n.outputs)}}function ar(n){var i;null===(i=n.features)||void 0===i||i.forEach(a=>a(n))}function fi(n,i){if(!n)return null;const a=i?xt:W;return()=>("function"==typeof n?n():n).map(d=>a(d)).filter(ee)}const Hr=0,Cn=1,Er=2,Kr=3,Ni=4,Mo=5,pi=6,rs=7,Ur=8,is=9,bs=10,An=11,Qs=12,Fs=13,Wi=14,Si=15,Ss=16,yo=17,Ls=18,Ro=19,vo=20,gs=21,es=22,Uo=23,Ui=24,Br=25,_o=1,Ta=2,ms=7,di=8,Hs=9,gi=11;function ss(n){return Array.isArray(n)&&"object"==typeof n[_o]}function ji(n){return Array.isArray(n)&&!0===n[_o]}function Qo(n){return 0!=(4&n.flags)}function os(n){return n.componentOffset>-1}function as(n){return 1==(1&n.flags)}function Xs(n){return!!n.template}function Ki(n){return 0!=(512&n[Er])}function ls(n,i){return n.hasOwnProperty(rn)?n[rn]:null}let C=null!==(De=Sn.WeakRef)&&void 0!==De?De:class j{constructor(i){this.ref=i}deref(){return this.ref}},ot=0,Bt=null,Zt=!1;function pn(n){const i=Bt;return Bt=n,i}class jr{constructor(){this.id=ot++,this.ref=function N(n){return new C(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,a]of this.producers){const d=a.producerNode.deref();if(void 0!==d&&a.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(i),null==d||d.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Zt;Zt=!0;try{for(const[a,d]of this.consumers){const f=d.consumerNode.deref();void 0!==f&&f.trackingVersion===d.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),null==f||f.producers.delete(this.id))}}finally{Zt=i}}producerAccessed(){if(Zt)throw new Error("");if(null===Bt)return;let i=Bt.producers.get(this.id);void 0===i?(i={consumerNode:Bt.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Bt.trackingVersion},Bt.producers.set(this.id,i),this.consumers.set(Bt.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Bt.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var i;return!1!==(null===(i=Bt)||void 0===i?void 0:i.consumerAllowSignalWrites)}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let Es=null;const Ga=()=>{};class oa extends jr{constructor(i,a,d){super(),this.watch=i,this.schedule=a,this.dirty=!1,this.cleanupFn=Ga,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=pn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ga,this.watch(this.registerOnCleanup)}finally{pn(i)}}cleanup(){this.cleanupFn()}}class cl{constructor(i,a,d){this.previousValue=i,this.currentValue=a,this.firstChange=d}isFirstChange(){return this.firstChange}}function vi(){return Fu}function Fu(n){return n.type.prototype.ngOnChanges&&(n.setInput=zo),Sc}function Sc(){const n=Aa(this),i=null==n?void 0:n.current;if(i){const a=n.previous;if(a===st)n.previous=i;else for(let d in i)a[d]=i[d];n.current=null,this.ngOnChanges(i)}}function zo(n,i,a,d){const f=this.declaredInputs[a],v=Aa(n)||function ga(n,i){return n[Wa]=i}(n,{previous:st,current:null}),b=v.current||(v.current={}),x=v.previous,B=x[f];b[f]=new cl(B&&B.currentValue,i,x===st),n[d]=i}vi.ngInherit=!0;const Wa="__ngSimpleChanges__";function Aa(n){return n[Wa]||null}const us=function(n,i,a){};function Ii(n){for(;Array.isArray(n);)n=n[Hr];return n}function ma(n,i){return Ii(i[n])}function cs(n,i){return Ii(i[n.index])}function Ka(n,i){return n.data[i]}function qa(n,i){return n[i]}function Po(n,i){const a=i[n];return ss(a)?a:a[Hr]}function Rl(n){return 128==(128&n[Er])}function re(n,i){return null==i?null:n[i]}function H(n){n[yo]=0}function me(n){1024&n[Er]||(n[Er]|=1024,Ut(n,1))}function Ke(n){1024&n[Er]&&(n[Er]&=-1025,Ut(n,-1))}function Ut(n,i){let a=n[Kr];if(null===a)return;a[Mo]+=i;let d=a;for(a=a[Kr];null!==a&&(1===i&&1===d[Mo]||-1===i&&0===d[Mo]);)a[Mo]+=i,d=a,a=a[Kr]}const yn={lFrame:kl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gr(){return yn.bindingsEnabled}function Ze(){return yn.lFrame.lView}function Vt(){return yn.lFrame.tView}function Ks(n){return yn.lFrame.contextLView=n,n[Ur]}function ru(n){return yn.lFrame.contextLView=null,n}function Is(){let n=pd();for(;null!==n&&64===n.type;)n=n.parent;return n}function pd(){return yn.lFrame.currentTNode}function Ya(n,i){const a=yn.lFrame;a.currentTNode=n,a.isParent=i}function Pl(){return yn.lFrame.isParent}function Za(){yn.lFrame.isParent=!1}function Ol(){return yn.lFrame.bindingIndex++}function ri(n,i){const a=yn.lFrame;a.bindingIndex=a.bindingRootIndex=n,zi(i)}function zi(n){yn.lFrame.currentDirectiveIndex=n}function hl(){return yn.lFrame.currentQueryIndex}function Ma(n){yn.lFrame.currentQueryIndex=n}function fl(n){const i=n[Cn];return 2===i.type?i.declTNode:1===i.type?n[pi]:null}function xc(n,i,a){if(a&nn.SkipSelf){let f=i,v=n;for(;!(f=f.parent,null!==f||a&nn.Host||(f=fl(v),null===f||(v=v[Wi],10&f.type))););if(null===f)return!1;i=f,n=v}const d=yn.lFrame=Pc();return d.currentTNode=i,d.lView=n,!0}function Qa(n){const i=Pc(),a=n[Cn];yn.lFrame=i,i.currentTNode=a.firstChild,i.lView=n,i.tView=a,i.contextLView=n,i.bindingIndex=a.bindingStartIndex,i.inI18n=!1}function Pc(){const n=yn.lFrame,i=null===n?null:n.child;return null===i?kl(n):i}function kl(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Ei(){const n=yn.lFrame;return yn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const li=Ei;function Ir(){const n=Ei();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function to(){return yn.lFrame.selectedIndex}function Go(n){yn.lFrame.selectedIndex=n}function Li(){const n=yn.lFrame;return Ka(n.tView,n.selectedIndex)}let xa=!0;function Wo(){return xa}function Fo(n){xa=n}function Vu(n,i){for(let J=i.directiveStart,ge=i.directiveEnd;J<ge;J++){const lt=n.data[J].type.prototype,{ngAfterContentInit:Rt,ngAfterContentChecked:en,ngAfterViewInit:bn,ngAfterViewChecked:Bn,ngOnDestroy:Yn}=lt;var a,d,f,v,b,x,B;Rt&&(null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(-J,Rt),en&&((null!==(d=n.contentHooks)&&void 0!==d?d:n.contentHooks=[]).push(J,en),(null!==(f=n.contentCheckHooks)&&void 0!==f?f:n.contentCheckHooks=[]).push(J,en)),bn&&(null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(-J,bn),Bn&&((null!==(b=n.viewHooks)&&void 0!==b?b:n.viewHooks=[]).push(J,Bn),(null!==(x=n.viewCheckHooks)&&void 0!==x?x:n.viewCheckHooks=[]).push(J,Bn)),null!=Yn&&(null!==(B=n.destroyHooks)&&void 0!==B?B:n.destroyHooks=[]).push(J,Yn)}}function M(n,i,a){F(n,i,3,a)}function O(n,i,a,d){(3&n[Er])===a&&F(n,i,a,d)}function D(n,i){let a=n[Er];(3&a)===i&&(a&=4095,a+=1,n[Er]=a)}function F(n,i,a,d){const v=null!=d?d:-1,b=i.length-1;let x=0;for(let B=void 0!==d?65535&n[yo]:0;B<b;B++)if("number"==typeof i[B+1]){if(x=i[B],null!=d&&x>=d)break}else i[B]<0&&(n[yo]+=65536),(x<v||-1==v)&&(Ae(n,a,i,B),n[yo]=(4294901760&n[yo])+B+2),B++}function te(n,i){us(4,n,i);const a=pn(null);try{i.call(n)}finally{pn(a),us(5,n,i)}}function Ae(n,i,a,d){const f=a[d]<0,v=a[d+1],x=n[f?-a[d]:a[d]];f?n[Er]>>12<n[yo]>>16&&(3&n[Er])===i&&(n[Er]+=4096,te(x,v)):te(x,v)}const we=-1;class gt{constructor(i,a,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=d}}function pl(n){return n!==we}function uo(n){return 32767&n}function hs(n,i){let a=function gd(n){return n>>16}(n),d=i;for(;a>0;)d=d[Wi],a--;return d}let Uu=!0;function Xa(n){const i=Uu;return Uu=n,i}const Pp=255,md=5;let Ef=0;const Ja={};function iu(n,i){const a=yd(n,i);if(-1!==a)return a;const d=i[Cn];d.firstCreatePass&&(n.injectorIndex=i.length,uh(d.data,n),uh(i,null),uh(d.blueprint,null));const f=ch(n,i),v=n.injectorIndex;if(pl(f)){const b=uo(f),x=hs(f,i),B=x[Cn].data;for(let J=0;J<8;J++)i[v+J]=x[b+J]|B[b+J]}return i[v+8]=f,v}function uh(n,i){n.push(0,0,0,0,0,0,0,0,i)}function yd(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ch(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,d=null,f=i;for(;null!==f;){if(d=gl(f),null===d)return we;if(a++,f=f[Wi],-1!==d.injectorIndex)return d.injectorIndex|a<<16}return we}function vd(n,i,a){!function Oc(n,i,a){let d;"string"==typeof a?d=a.charCodeAt(0)||0:a.hasOwnProperty(un)&&(d=a[un]),null==d&&(d=a[un]=Ef++);const f=d&Pp;i.data[n+(f>>md)]|=1<<f}(n,i,a)}function Eo(n,i,a){if(a&nn.Optional||void 0!==n)return n;Ye()}function ju(n,i,a,d){if(a&nn.Optional&&void 0===d&&(d=null),!(a&(nn.Self|nn.Host))){const f=n[is],v=nr(void 0);try{return f?f.get(i,d,a&nn.Optional):Ar(i,d,a&nn.Optional)}finally{nr(v)}}return Eo(d,0,a)}function Pa(n,i,a,d=nn.Default,f){if(null!==n){if(2048&i[Er]){const b=function wf(n,i,a,d,f){let v=n,b=i;for(;null!==v&&null!==b&&2048&b[Er]&&!(512&b[Er]);){const x=_d(v,b,a,d|nn.Self,Ja);if(x!==Ja)return x;let B=v.parent;if(!B){const J=b[vo];if(J){const ge=J.get(a,Ja,d);if(ge!==Ja)return ge}B=gl(b),b=b[Wi]}v=B}return f}(n,i,a,d,Ja);if(b!==Ja)return b}const v=_d(n,i,a,d,Ja);if(v!==Ja)return v}return ju(i,a,d,f)}function _d(n,i,a,d,f){const v=function tr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(un)?n[un]:void 0;return"number"==typeof i?i>=0?i&Pp:Ms:i}(a);if("function"==typeof v){if(!xc(i,n,d))return d&nn.Host?Eo(f,0,d):ju(i,a,d,f);try{const b=v(d);if(null!=b||d&nn.Optional)return b;Ye()}finally{li()}}else if("number"==typeof v){let b=null,x=yd(n,i),B=we,J=d&nn.Host?i[Si][pi]:null;for((-1===x||d&nn.SkipSelf)&&(B=-1===x?ch(n,i):i[x+8],B!==we&&Oa(d,!1)?(b=i[Cn],x=uo(B),i=hs(B,i)):x=-1);-1!==x;){const ge=i[Cn];if(dh(v,x,ge.data)){const Ne=Ri(x,i,a,b,d,J);if(Ne!==Ja)return Ne}B=i[x+8],B!==we&&Oa(d,i[Cn].data[x+8]===J)&&dh(v,x,i)?(b=ge,x=uo(B),i=hs(B,i)):x=-1}}return f}function Ri(n,i,a,d,f,v){const b=i[Cn],x=b.data[n+8],ge=Lo(x,b,a,null==d?os(x)&&Uu:d!=b&&0!=(3&x.type),f&nn.Host&&v===x);return null!==ge?Qi(i,b,ge,x):Ja}function Lo(n,i,a,d,f){const v=n.providerIndexes,b=i.data,x=1048575&v,B=n.directiveStart,ge=v>>20,lt=f?x+ge:n.directiveEnd;for(let Rt=d?x:x+ge;Rt<lt;Rt++){const en=b[Rt];if(Rt<B&&a===en||Rt>=B&&en.type===a)return Rt}if(f){const Rt=b[B];if(Rt&&Xs(Rt)&&Rt.type===a)return B}return null}function Qi(n,i,a,d){let f=n[a];const v=i.data;if(function tn(n){return n instanceof gt}(f)){const b=f;b.resolving&&function rt(n,i){const a=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():it(n)}(v[a]));const x=Xa(b.canSeeViewProviders);b.resolving=!0;const B=b.injectImpl?nr(b.injectImpl):null;xc(n,d,nn.Default);try{f=n[a]=b.factory(void 0,v,n,d),i.firstCreatePass&&a>=d.directiveStart&&function _f(n,i,a){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:v}=i.type.prototype;if(d){var b,x;const Ne=Fu(i);(null!==(b=a.preOrderHooks)&&void 0!==b?b:a.preOrderHooks=[]).push(n,Ne),(null!==(x=a.preOrderCheckHooks)&&void 0!==x?x:a.preOrderCheckHooks=[]).push(n,Ne)}var B,J,ge;f&&(null!==(B=a.preOrderHooks)&&void 0!==B?B:a.preOrderHooks=[]).push(0-n,f),v&&((null!==(J=a.preOrderHooks)&&void 0!==J?J:a.preOrderHooks=[]).push(n,v),(null!==(ge=a.preOrderCheckHooks)&&void 0!==ge?ge:a.preOrderCheckHooks=[]).push(n,v))}(a,v[a],i)}finally{null!==B&&nr(B),Xa(x),b.resolving=!1,li()}}return f}function dh(n,i,a){return!!(a[i+(n>>md)]&1<<n)}function Oa(n,i){return!(n&nn.Self||n&nn.Host&&i)}class co{constructor(i,a){this._tNode=i,this._lView=a}get(i,a,d){return Pa(this._tNode,this._lView,i,pr(d),a)}}function Ms(){return new co(Is(),Ze())}function hh(n){return z(()=>{const i=n.prototype.constructor,a=i[rn]||Vs(i),d=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==d;){const v=f[rn]||Vs(f);if(v&&v!==a)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function Vs(n){return Ve(n)?()=>{const i=Vs(ve(n));return i&&i()}:ls(n)}function gl(n){const i=n[Cn],a=i.type;return 2===a?i.declTNode:1===a?n[pi]:null}function $i(n){return function Gi(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const a=n.attrs;if(a){const d=a.length;let f=0;for(;f<d;){const v=a[f];if(wt(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<d&&"string"==typeof a[f];)f++;else{if(v===i)return a[f+1];f+=2}}}return null}(Is(),n)}const Oo="__annotations__",_a="__parameters__",el="__prop__metadata__";function su(n,i,a,d,f){return z(()=>{const v=Fl(i);function b(...x){if(this instanceof b)return v.call(this,...x),this;const B=new b(...x);return function(ge){return f&&f(ge,...x),(ge.hasOwnProperty(Oo)?ge[Oo]:Object.defineProperty(ge,Oo,{value:[]})[Oo]).push(B),d&&d(ge),ge}}return a&&(b.prototype=Object.create(a.prototype)),b.prototype.ngMetadataName=n,b.annotationCls=b,b})}function Fl(n){return function(...a){if(n){const d=n(...a);for(const f in d)this[f]=d[f]}}}function Jo(n,i,a){return z(()=>{const d=Fl(i);function f(...v){if(this instanceof f)return d.apply(this,v),this;const b=new f(...v);return x.annotation=b,x;function x(B,J,ge){const Ne=B.hasOwnProperty(_a)?B[_a]:Object.defineProperty(B,_a,{value:[]})[_a];for(;Ne.length<=ge;)Ne.push(null);return(Ne[ge]=Ne[ge]||[]).push(b),B}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}const Ed=Jo("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>$i(n)}));function Rs(n){const i=Sn.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Id=Function;function nl(n){return"function"==typeof n}function ka(n,i){n.forEach(a=>Array.isArray(a)?ka(a,i):i(a))}function If(n,i,a){i>=n.length?n.push(a):n.splice(i,0,a)}function Wu(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function kc(n,i){const a=[];for(let d=0;d<n;d++)a.push(i);return a}function ii(n,i,a){let d=$l(n,i);return d>=0?n[1|d]=a:(d=~d,function $o(n,i,a,d){let f=n.length;if(f==i)n.push(a,d);else if(1===f)n.push(d,n[0]),n[0]=a;else{for(f--,n.push(n[f-1],n[f]);f>i;)n[f]=n[f-2],f--;n[i]=a,n[i+1]=d}}(n,d,i,a)),d}function Fa(n,i){const a=$l(n,i);if(a>=0)return n[1|a]}function $l(n,i){return function rl(n,i,a){let d=0,f=n.length>>a;for(;f!==d;){const v=d+(f-d>>1),b=n[v<<a];if(i===b)return v<<a;b>i?f=v:d=v+1}return~(f<<a)}(n,i,1)}const Ku=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,qu=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,qr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Xi=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Zu{constructor(i){this._reflect=i||Sn.Reflect}factory(i){return(...a)=>new i(...a)}_zipTypesAndAnnotations(i,a){let d;d=kc(typeof i>"u"?a.length:i.length);for(let f=0;f<d.length;f++)d[f]=typeof i>"u"?[]:i[f]&&i[f]!=Object?[i[f]]:[],a&&null!=a[f]&&(d[f]=d[f].concat(a[f]));return d}_ownParameters(i,a){if(function Yu(n){return Ku.test(n)||Xi.test(n)||qu.test(n)&&!qr.test(n)}(i.toString()))return null;if(i.parameters&&i.parameters!==a.parameters)return i.parameters;const f=i.ctorParameters;if(f&&f!==a.ctorParameters){const x="function"==typeof f?f():f,B=x.map(ge=>ge&&ge.type),J=x.map(ge=>ge&&Cd(ge.decorators));return this._zipTypesAndAnnotations(B,J)}const v=i.hasOwnProperty(_a)&&i[_a],b=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",i);return b||v?this._zipTypesAndAnnotations(b,v):kc(i.length)}parameters(i){if(!nl(i))return[];const a=bd(i);let d=this._ownParameters(i,a);return!d&&a!==Object&&(d=this.parameters(a)),d||[]}_ownAnnotations(i,a){if(i.annotations&&i.annotations!==a.annotations){let d=i.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return i.decorators&&i.decorators!==a.decorators?Cd(i.decorators):i.hasOwnProperty(Oo)?i[Oo]:null}annotations(i){if(!nl(i))return[];const a=bd(i),d=this._ownAnnotations(i,a)||[];return(a!==Object?this.annotations(a):[]).concat(d)}_ownPropMetadata(i,a){if(i.propMetadata&&i.propMetadata!==a.propMetadata){let d=i.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(i.propDecorators&&i.propDecorators!==a.propDecorators){const d=i.propDecorators,f={};return Object.keys(d).forEach(v=>{f[v]=Cd(d[v])}),f}return i.hasOwnProperty(el)?i[el]:null}propMetadata(i){if(!nl(i))return{};const a=bd(i),d={};if(a!==Object){const v=this.propMetadata(a);Object.keys(v).forEach(b=>{d[b]=v[b]})}const f=this._ownPropMetadata(i,a);return f&&Object.keys(f).forEach(v=>{const b=[];d.hasOwnProperty(v)&&b.push(...d[v]),b.push(...f[v]),d[v]=b}),d}ownPropMetadata(i){return nl(i)&&this._ownPropMetadata(i,bd(i))||{}}hasLifecycleHook(i,a){return i instanceof Id&&a in i.prototype}}function Cd(n){return n?n.map(i=>new(0,i.type.annotationCls)(...i.args?i.args:[])):[]}function bd(n){const i=n.prototype?Object.getPrototypeOf(n.prototype):null;return(i?i.constructor:null)||Object}const Lc=mr(Jo("Inject",n=>({token:n})),-1),Vl=mr(Jo("Optional"),8),Dd=mr(Jo("Self"),2),ml=mr(Jo("SkipSelf"),4),Qu=mr(Jo("Host"),1);let Bc=null;function Vi(n){return La(function Cf(){return Bc=Bc||new Zu}().parameters(n))}function La(n){return n.map(i=>function au(n){const i={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let a=0;a<n.length;a++){const d=n[a];if(void 0===d)continue;const f=Object.getPrototypeOf(d);if(d instanceof Vl||"Optional"===f.ngMetadataName)i.optional=!0;else if(d instanceof ml||"SkipSelf"===f.ngMetadataName)i.skipSelf=!0;else if(d instanceof Dd||"Self"===f.ngMetadataName)i.self=!0;else if(d instanceof Qu||"Host"===f.ngMetadataName)i.host=!0;else if(d instanceof Lc)i.token=d.token;else if(d instanceof Ed){if(void 0===d.attributeName)throw new Ee(204,!1);i.attribute=d.attributeName}else i.token=d}else i.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return i}(i))}var wa=(()=>((wa=wa||{})[wa.Important=1]="Important",wa[wa.DashCase=2]="DashCase",wa))();const du=/^>|^->|<!--|-->|--!>|<!-$/g,Sf=/(<|>)/,kp="\u200b$1\u200b";const Ad=new Map;let yh=0;const ec="__ngContext__";function ea(n,i){ss(i)?(n[ec]=i[Ro],function Fp(n){Ad.set(n[Ro],n)}(i)):n[ec]=i}let Vp;function gm(n,i){return Vp(n,i)}function Pd(n){const i=n[Kr];return ji(i)?i[Kr]:i}function zl(n){return hu(n[Qs])}function Rf(n){return hu(n[Ni])}function hu(n){for(;null!==n&&!ji(n);)n=n[Ni];return n}function Vc(n,i,a,d,f){if(null!=d){let v,b=!1;ji(d)?v=d:ss(d)&&(b=!0,d=d[Hr]);const x=Ii(d);0===n&&null!==a?null==f?rc(i,a,x):il(i,a,x,f||null,!0):1===n&&null!==a?il(i,a,x,f||null,!0):2===n?function Ff(n,i,a){const d=wh(n,i);d&&function ic(n,i,a,d){n.removeChild(i,a,d)}(n,d,i,a)}(i,x,b):3===n&&i.destroyNode(x),null!=v&&function gu(n,i,a,d,f){const v=a[ms];v!==Ii(a)&&Vc(i,n,d,v,f);for(let x=gi;x<a.length;x++){const B=a[x];Od(B[Cn],B,n,i,d,v)}}(i,n,v,a,f)}}function Uc(n,i){return n.createComment(function Yr(n){return n.replace(du,i=>i.replace(Sf,kp))}(i))}function tc(n,i,a){return n.createElement(i,a)}function pu(n,i){const a=n[Hs],d=a.indexOf(i);Ke(i),a.splice(d,1)}function nc(n,i){if(n.length<=gi)return;const a=gi+i,d=n[a];if(d){const f=d[Ss];null!==f&&f!==n&&pu(f,d),i>0&&(n[a-1][Ni]=d[Ni]);const v=Wu(n,gi+i);!function ym(n,i){Od(n,i,i[An],2,null,null),i[Hr]=null,i[pi]=null}(d[Cn],d);const b=v[Ls];null!==b&&b.detachView(v[Cn]),d[Kr]=null,d[Ni]=null,d[Er]&=-129}return d}function xf(n,i){if(!(256&i[Er])){var a,d;const f=i[An];null===(a=i[Uo])||void 0===a||a.destroy(),null===(d=i[Ui])||void 0===d||d.destroy(),f.destroyNode&&Od(n,i,f,3,null,null),function Io(n){let i=n[Qs];if(!i)return Up(n[Cn],n);for(;i;){let a=null;if(ss(i))a=i[Qs];else{const d=i[gi];d&&(a=d)}if(!a){for(;i&&!i[Ni]&&i!==n;)ss(i)&&Up(i[Cn],i),i=i[Kr];null===i&&(i=n),ss(i)&&Up(i[Cn],i),a=i&&i[Ni]}i=a}}(i)}}function Up(n,i){if(!(256&i[Er])){i[Er]&=-129,i[Er]|=256,function Pf(n,i){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let d=0;d<a.length;d+=2){const f=i[a[d]];if(!(f instanceof gt)){const v=a[d+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const x=f[v[b]],B=v[b+1];us(4,x,B);try{B.call(x)}finally{us(5,x,B)}}else{us(4,f,v);try{v.call(f)}finally{us(5,f,v)}}}}}(n,i),function O_(n,i){const a=n.cleanup,d=i[rs];if(null!==a)for(let v=0;v<a.length-1;v+=2)if("string"==typeof a[v]){const b=a[v+3];b>=0?d[b]():d[-b].unsubscribe(),v+=2}else a[v].call(d[a[v+1]]);null!==d&&(i[rs]=null);const f=i[gs];if(null!==f){for(let v=0;v<f.length;v++)(0,f[v])();i[gs]=null}}(n,i),1===i[Cn].type&&i[An].destroy();const a=i[Ss];if(null!==a&&ji(i[Kr])){a!==i[Kr]&&pu(a,i);const d=i[Ls];null!==d&&d.detachView(n)}!function Bp(n){Ad.delete(n[Ro])}(i)}}function Of(n,i,a){return function jp(n,i,a){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return a[Hr];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:v}=n.data[d.directiveStart+f];if(v===Oe.None||v===Oe.Emulated)return null}return cs(d,a)}}(n,i.parent,a)}function il(n,i,a,d,f){n.insertBefore(i,a,d,f)}function rc(n,i,a){n.appendChild(i,a)}function Eh(n,i,a,d,f){null!==d?il(n,i,a,d,f):rc(n,i,a)}function wh(n,i){return n.parentNode(i)}function Ih(n,i,a){return Nf(n,i,a)}let kf,Yp,Zp,Nf=function Ch(n,i,a){return 40&n.type?cs(n,a):null};function zp(n,i,a,d){const f=Of(n,d,i),v=i[An],x=Ih(d.parent||i[pi],d,i);if(null!=f)if(Array.isArray(a))for(let B=0;B<a.length;B++)Eh(v,f,a[B],x,!1);else Eh(v,f,a,x,!1);void 0!==kf&&kf(v,d,i,a,f)}function sc(n,i){if(null!==i){const a=i.type;if(3&a)return cs(i,n);if(4&a)return jc(-1,n[i.index]);if(8&a){const d=i.child;if(null!==d)return sc(n,d);{const f=n[i.index];return ji(f)?jc(-1,f):Ii(f)}}if(32&a)return gm(i,n)()||Ii(n[i.index]);{const d=Gp(n,i);return null!==d?Array.isArray(d)?d[0]:sc(Pd(n[Si]),d):sc(n,i.next)}}return null}function Gp(n,i){return null!==i?n[Si][pi].projection[i.projection]:null}function jc(n,i){const a=gi+n+1;if(a<i.length){const d=i[a],f=d[Cn].firstChild;if(null!==f)return sc(d,f)}return i[ms]}function Us(n,i,a,d,f,v,b){for(;null!=a;){const x=d[a.index],B=a.type;if(b&&0===i&&(x&&ea(Ii(x),d),a.flags|=2),32!=(32&a.flags))if(8&B)Us(n,i,a.child,d,f,v,!1),Vc(i,n,f,x,v);else if(32&B){const J=gm(a,d);let ge;for(;ge=J();)Vc(i,n,f,ge,v);Vc(i,n,f,x,v)}else 16&B?bh(n,i,d,a,f,v):Vc(i,n,f,x,v);a=b?a.projectionNext:a.next}}function Od(n,i,a,d,f,v){Us(a,d,n.firstChild,i,f,v,!1)}function bh(n,i,a,d,f,v){const b=a[Si],B=b[pi].projection[d.projection];if(Array.isArray(B))for(let J=0;J<B.length;J++)Vc(i,n,f,B[J],v);else Us(n,i,B,b[Kr],f,v,!0)}function Hc(n,i,a){""===a?n.removeAttribute(i,"class"):n.setAttribute(i,"class",a)}function Lf(n,i,a){const{mergedAttrs:d,classes:f,styles:v}=a;null!==d&&Dt(n,i,d),null!==f&&Hc(n,i,f),null!==v&&function qp(n,i,a){n.setAttribute(i,"style",a)}(n,i,v)}function Nd(n){Yp=n}function Vf(n){var i;return(null===(i=function Qp(){if(void 0===Zp&&(Zp=null,Sn.trustedTypes))try{Zp=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zp}())||void 0===i?void 0:i.createScriptURL(n))||n}class yu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}function _u(n){return n instanceof yu?n.changingThisBreaksApplicationSecurity:n}function kd(n,i){const a=function Ah(n){return n instanceof yu&&n.getTypeName()||null}(n);if(null!=a&&a!==i){if("ResourceURL"===a&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${a} (see ${Me})`)}return a===i}const iv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ps=(()=>((Ps=Ps||{})[Ps.NONE=0]="NONE",Ps[Ps.HTML=1]="HTML",Ps[Ps.STYLE=2]="STYLE",Ps[Ps.SCRIPT=3]="SCRIPT",Ps[Ps.URL=4]="URL",Ps[Ps.RESOURCE_URL=5]="RESOURCE_URL",Ps))();function kh(n){const i=fo();return i?i.sanitize(Ps.URL,n)||"":kd(n,"URL")?_u(n):function tg(n){return(n=String(n)).match(iv)?n:"unsafe:"+n}(it(n))}function qc(n){const i=fo();if(i)return Vf(i.sanitize(Ps.RESOURCE_URL,n)||"");if(kd(n,"ResourceURL"))return Vf(_u(n));throw new Ee(904,!1)}function Vd(n,i,a){return function zf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?qc:kh}(i,a)(n)}function fo(){const n=Ze();return n&&n[bs].sanitizer}class ki{constructor(i,a){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yc=new ki("ENVIRONMENT_INITIALIZER"),Gf=new ki("INJECTOR",-1),Wf=new ki("INJECTOR_DEF_TYPES");class lc{get(i,a=vr){if(a===vr){const d=new Error(`NullInjectorError: No provider for ${$e(i)}!`);throw d.name="NullInjectorError",d}return a}}function lv(...n){return{\u0275providers:uc(0,n),\u0275fromNgModule:!0}}function uc(n,...i){const a=[],d=new Set;let f;return ka(i,v=>{const b=v;wu(b,a,[],d)&&(f||(f=[]),f.push(b))}),void 0!==f&&Cm(f,a),a}function Cm(n,i){for(let a=0;a<n.length;a++){const{providers:f}=n[a];ro(f,v=>{i.push(v)})}}function wu(n,i,a,d){if(!(n=ve(n)))return!1;let f=null,v=In(n);const b=!v&&Xe(n);if(v||b){if(b&&!b.standalone)return!1;f=n}else{const B=n.ngModule;if(v=In(B),!v)return!1;f=B}const x=d.has(f);if(b){if(x)return!1;if(d.add(f),b.dependencies){const B="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const J of B)wu(J,i,a,d)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let J;d.add(f);try{ka(v.imports,ge=>{wu(ge,i,a,d)&&(J||(J=[]),J.push(ge))})}finally{}void 0!==J&&Cm(J,i)}if(!x){const J=ls(f)||(()=>new f);i.push({provide:f,useFactory:J,deps:Le},{provide:Wf,useValue:f,multi:!0},{provide:Yc,useValue:()=>Mt(f),multi:!0})}const B=v.providers;null==B||x||ro(B,ge=>{i.push(ge)})}}return f!==n&&void 0!==n.providers}function ro(n,i){for(let a of n)qe(a)&&(a=a.\u0275providers),Array.isArray(a)?ro(a,i):i(a)}const Kf=he({provide:String,useValue:he});function Iu(n){return null!==n&&"object"==typeof n&&Kf in n}function Ba(n){return"function"==typeof n}const Ud=new ki("Set Injector scope."),Kl={},mE={};let og;function ag(){return void 0===og&&(og=new lc),og}class Cu{}class cc extends Cu{get destroyed(){return this._destroyed}constructor(i,a,d,f){super(),this.parent=a,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Co(i,b=>this.processProvider(b)),this.records.set(Gf,bu(void 0,this)),f.has("environment")&&this.records.set(Cu,bu(void 0,this));const v=this.records.get(Ud);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Wf.multi,Le,nn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const a=fe(this),d=nr(void 0);try{return i()}finally{fe(a),nr(d)}}get(i,a=vr,d=nn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Wn))return i[Wn](this);d=pr(d);const f=fe(this),v=nr(void 0);try{if(!(d&nn.SkipSelf)){let x=this.records.get(i);if(void 0===x){const B=function lg(n){return"function"==typeof n||"object"==typeof n&&n instanceof ki}(i)&&fn(i);x=B&&this.injectableDefInScope(B)?bu(jd(i),Kl):null,this.records.set(i,x)}if(null!=x)return this.hydrate(i,x)}return(d&nn.Self?ag():this.parent).get(i,a=d&nn.Optional&&a===vr?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[kr]=b[kr]||[]).unshift($e(i)),f)throw b;return function de(n,i,a,d){const f=n[kr];throw i[ei]&&f.unshift(i[ei]),n.message=function K(n,i,a,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let f=$e(i);if(Array.isArray(i))f=i.map($e).join(" -> ");else if("object"==typeof i){let v=[];for(let b in i)if(i.hasOwnProperty(b)){let x=i[b];v.push(b+":"+("string"==typeof x?JSON.stringify(x):$e(x)))}f=`{${v.join(", ")}}`}return`${a}${d?"("+d+")":""}[${f}]: ${n.replace(Kn,"\n  ")}`}("\n"+n.message,f,a,d),n.ngTokenPath=f,n[kr]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{nr(v),fe(f)}}resolveInjectorInitializers(){const i=fe(this),a=nr(void 0);try{const d=this.get(Yc.multi,Le,nn.Self);for(const f of d)f()}finally{fe(i),nr(a)}}toString(){const i=[],a=this.records;for(const d of a.keys())i.push($e(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(i){let a=Ba(i=ve(i))?i:ve(i&&i.provide);const d=function hv(n){return Iu(n)?bu(void 0,n.useValue):bu(Lh(n),Kl)}(i);if(Ba(i)||!0!==i.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=bu(void 0,Kl,!0),f.factory=()=>Fn(f.multi),this.records.set(a,f)),a=i,f.multi.push(i)}this.records.set(a,d)}hydrate(i,a){return a.value===Kl&&(a.value=mE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function bm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(i){if(!i.providedIn)return!1;const a=ve(i.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(i){const a=this._onDestroyHooks.indexOf(i);-1!==a&&this._onDestroyHooks.splice(a,1)}}function jd(n){const i=fn(n),a=null!==i?i.factory:ls(n);if(null!==a)return a;if(n instanceof ki)throw new Ee(204,!1);if(n instanceof Function)return function dv(n){const i=n.length;if(i>0)throw kc(i,"?"),new Ee(204,!1);const a=function Nt(n){return n&&(n[Lt]||n[fr])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new Ee(204,!1)}function Lh(n,i,a){let d;if(Ba(n)){const f=ve(n);return ls(f)||jd(f)}if(Iu(n))d=()=>ve(n.useValue);else if(function sl(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Fn(n.deps||[]));else if(function Fh(n){return!(!n||!n.useExisting)}(n))d=()=>Mt(ve(n.useExisting));else{const f=ve(n&&(n.useClass||n.provide));if(!function qf(n){return!!n.deps}(n))return ls(f)||jd(f);d=()=>new f(...Fn(n.deps))}return d}function bu(n,i,a=!1){return{factory:n,value:i,multi:a?[]:void 0}}function Co(n,i){for(const a of n)Array.isArray(a)?Co(a,i):a&&qe(a)?Co(a.\u0275providers,i):i(a)}const Dm=new ki("AppId",{providedIn:"root",factory:()=>fv}),fv="ng",Sm=new ki("Platform Initializer"),El=new ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$_=new ki("AnimationModuleType"),ug=new ki("CSP nonce",{providedIn:"root",factory:()=>{var n,i;return(null===(n=function Wc(){return void 0!==Yp?Yp:typeof document<"u"?document:void 0}().body)||void 0===n||null===(i=n.querySelector("[ngCspNonce]"))||void 0===i?void 0:i.getAttribute("ngCspNonce"))||null}});let Vh=(n,i)=>null;function pg(n,i){return Vh(n,i)}class xm{}class vg{}class _v{resolveComponentFactory(i){throw function Pm(n){const i=Error(`No component factory found for ${$e(n)}.`);return i.ngComponent=n,i}(i)}}let Jc=(()=>{class n{}return n.NULL=new _v,n})();function Ev(){return ep(Is(),Ze())}function ep(n,i){return new tp(cs(n,i))}let tp=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Ev,n})();function ca(n){return n instanceof tp?n.nativeElement:n}class wv{}let Nm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _g(){const n=Ze(),a=Po(Is().index,n);return(ss(a)?a:n)[An]}(),n})(),np=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>null}),n})();class Eg{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const km=new Eg("16.0.0"),Du={};function bo(n){for(;n;){n[Er]|=64;const i=Pd(n);if(Ki(n)&&!i)return n;n=i}return null}function rp(n){return n.ngOriginalError}class jh{constructor(){this._console=console}handleError(i){const a=this._findOriginalError(i);this._console.error("ERROR",i),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(i){let a=i&&rp(i);for(;a&&rp(a);)a=rp(a);return a||null}}const Gh=new ki("",{providedIn:"root",factory:()=>!1});function wl(n){return n instanceof Function?n():n}class Vm extends jr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){bo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,a,d){const f=pn(this);this.trackingVersion++;try{i(a,d)}finally{pn(f)}}destroy(){this.trackingVersion++}}let Tu=null;function sp(){var n;return null!==(n=Tu)&&void 0!==n||(Tu=new Vm),Tu}function Cv(n,i){var a;return null!==(a=n[i])&&void 0!==a?a:sp()}function bv(n,i){const a=sp();a.hasReadASignal&&(n[i]=Tu,a.lView=n,Tu=new Vm)}const Zr={};function Um(n){Dv(Vt(),Ze(),to()+n,!1)}function Dv(n,i,a,d){if(!d)if(3==(3&i[Er])){const v=n.preOrderCheckHooks;null!==v&&M(i,v,a)}else{const v=n.preOrderHooks;null!==v&&O(i,v,0,a)}Go(a)}const Dg={\u0275\u0275defineInjectable:et,\u0275\u0275defineInjector:Jt,\u0275\u0275inject:Mt,\u0275\u0275invalidFactoryDep:function an(n){throw new Ee(202,!1)},resolveForwardRef:ve};const Sg=he({provide:String,useValue:he});function Tv(n){return void 0!==n.useClass}function Hm(n){return void 0!==n.useFactory}const op=su("Injectable",void 0,void 0,void 0,(n,i)=>function z_(n,i){let a=null,d=null;n.hasOwnProperty(Lt)||Object.defineProperty(n,Lt,{get:()=>(null===a&&(a=Rs().compileInjectable(Dg,`ng:///${n.name}/\u0275prov.js`,function Gm(n,i){const a=i||{providedIn:null},d={name:n.name,type:n,typeArgumentCount:0,providedIn:a.providedIn};return(Tv(a)||Hm(a))&&void 0!==a.deps&&(d.deps=La(a.deps)),Tv(a)?d.useClass=a.useClass:function jm(n){return Sg in n}(a)?d.useValue=a.useValue:Hm(a)?d.useFactory=a.useFactory:function zm(n){return void 0!==n.useExisting}(a)&&(d.useExisting=a.useExisting),d}(n,i))),a)}),n.hasOwnProperty(rn)||Object.defineProperty(n,rn,{get:()=>{if(null===d){const f=Rs();d=f.compileFactory(Dg,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:Vi(n),target:f.FactoryTarget.Injectable})}return d},configurable:!0})}(n,i));function ed(n,i=null,a=null,d){const f=fc(n,i,a,d);return f.resolveInjectorInitializers(),f}function fc(n,i=null,a=null,d,f=new Set){const v=[a||Le,lv(n)];return d=d||("object"==typeof n?void 0:$e(n)),new cc(v,i||ag(),d||null,f)}let pc=(()=>{class n{static create(a,d){if(Array.isArray(a))return ed({name:""},d,a,"");{var f;const v=null!==(f=a.name)&&void 0!==f?f:"";return ed({name:v},a.parent,a.providers,v)}}}return n.THROW_IF_NOT_FOUND=vr,n.NULL=new lc,n.\u0275prov=et({token:n,providedIn:"any",factory:()=>Mt(Gf)}),n.__NG_ELEMENT_ID__=-1,n})();function Au(n,i=nn.Default){const a=Ze();return null===a?Mt(n,i):Pa(Is(),a,ve(n),i)}function qh(){throw new Error("invalid")}function td(n,i,a,d,f,v,b,x,B,J,ge){const Ne=i.blueprint.slice();return Ne[Hr]=f,Ne[Er]=140|d,(null!==J||n&&2048&n[Er])&&(Ne[Er]|=2048),H(Ne),Ne[Kr]=Ne[Wi]=n,Ne[Ur]=a,Ne[bs]=b||n&&n[bs],Ne[An]=x||n&&n[An],Ne[is]=B||n&&n[is]||null,Ne[pi]=v,Ne[Ro]=function Tf(){return yh++}(),Ne[es]=ge,Ne[vo]=J,Ne[Si]=2==i.type?n[Si]:Ne,Ne}function ap(n,i,a,d,f){let v=n.data[i];if(null===v)v=function Av(n,i,a,d,f){const v=pd(),b=Pl(),B=n.data[i]=function Zh(n,i,a,d,f,v){return{type:a,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,a,i,d,f);return null===n.firstChild&&(n.firstChild=B),null!==v&&(b?null==v.child&&null!==B.parent&&(v.child=B):null===v.next&&(v.next=B,B.prev=v)),B}(n,i,a,d,f),function dr(){return yn.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=a,v.value=d,v.attrs=f;const b=function xl(){const n=yn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return Ya(v,!0),v}function Yh(n,i,a,d){if(0===a)return-1;const f=i.length;for(let v=0;v<a;v++)i.push(d),n.blueprint.push(d),n.data.push(null);return f}function Wm(n,i,a,d,f){const v=Cv(i,Uo),b=to(),x=2&d;try{if(Go(-1),x&&i.length>Br&&Dv(n,i,Br,!1),us(x?2:0,f),x)v.runInContext(a,d,f);else{const J=pn(null);try{a(d,f)}finally{pn(J)}}}finally{x&&null===i[Uo]&&bv(i,Uo),Go(b),us(x?3:1,f)}}function Tg(n,i,a){if(Qo(i)){const d=pn(null);try{const v=i.directiveEnd;for(let b=i.directiveStart;b<v;b++){const x=n.data[b];x.contentQueries&&x.contentQueries(1,a[b],b)}}finally{pn(d)}}}function Ag(n,i,a){Gr()&&(function Nv(n,i,a,d){const f=a.directiveStart,v=a.directiveEnd;os(a)&&function ny(n,i,a){const d=cs(i,n),b=da(n,td(n,Mv(a),null,a.onPush?64:16,d,i,null,n[bs].rendererFactory.createRenderer(d,a),null,null,null));n[i.index]=b}(i,a,n.data[f+a.componentOffset]),n.firstCreatePass||iu(a,i),ea(d,i);const b=a.initialInputs;for(let x=f;x<v;x++){const B=n.data[x],J=Qi(i,n,x,a);ea(J,i),null!==b&&Qh(0,x-f,J,B,0,b),Xs(B)&&(Po(a.index,i)[Ur]=Qi(i,n,x,a))}}(n,i,a,cs(a,i)),64==(64&a.flags)&&kv(n,i,a))}function Km(n,i,a=cs){const d=i.localNames;if(null!==d){let f=i.index+1;for(let v=0;v<d.length;v+=2){const b=d[v+1],x=-1===b?a(i,n):n[b];n[f++]=x}}}function Mv(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=lp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function lp(n,i,a,d,f,v,b,x,B,J,ge){const Ne=Br+d,lt=Ne+f,Rt=function qm(n,i){const a=[];for(let d=0;d<i;d++)a.push(d<n?null:Zr);return a}(Ne,lt),en="function"==typeof J?J():J;return Rt[Cn]={type:n,blueprint:Rt,template:a,queries:null,viewQuery:x,declTNode:i,data:Rt.slice().fill(null,Ne),bindingStartIndex:Ne,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:B,consts:en,incompleteFirstPass:!1,ssrId:ge}}let Rv=n=>null;function Zm(n,i,a,d){for(let f in n)if(n.hasOwnProperty(f)){a=null===a?{}:a;const v=n[f];null===d?K_(a,i,f,v):d.hasOwnProperty(f)&&K_(a,i,d[f],v)}return a}function K_(n,i,a,d){n.hasOwnProperty(a)?n[a].push(i,d):n[a]=[i,d]}function Rg(n,i,a,d){if(Gr()){const f=null===d?null:{"":-1},v=function Fv(n,i){const a=n.directiveRegistry;let d=null,f=null;if(a)for(let b=0;b<a.length;b++){const x=a[b];if(mi(i,x.selectors,!1))if(d||(d=[]),Xs(x))if(null!==x.findHostDirectiveDefs){const B=[];f=f||new Map,x.findHostDirectiveDefs(x,B,f),d.unshift(...B,x),Jm(n,i,B.length)}else d.unshift(x),Jm(n,i,0);else{var v;f=f||new Map,null===(v=x.findHostDirectiveDefs)||void 0===v||v.call(x,x,d,f),d.push(x)}}return null===d?null:[d,f]}(n,a);let b,x;null===v?b=x=null:[b,x]=v,null!==b&&xg(n,i,a,b,f,x),f&&function ey(n,i,a){if(i){const d=n.localNames=[];for(let f=0;f<i.length;f+=2){const v=a[i[f+1]];if(null==v)throw new Ee(-301,!1);d.push(i[f],v)}}}(a,d,f)}a.mergedAttrs=_n(a.mergedAttrs,a.attrs)}function xg(n,i,a,d,f,v){for(let Ne=0;Ne<d.length;Ne++)vd(iu(a,i),n,d[Ne].type);!function ty(n,i,a){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+a,n.providerIndexes=i}(a,n.data.length,d.length);for(let Ne=0;Ne<d.length;Ne++){const lt=d[Ne];lt.providersResolver&&lt.providersResolver(lt)}let b=!1,x=!1,B=Yh(n,i,d.length,null);for(let Ne=0;Ne<d.length;Ne++){const lt=d[Ne];a.mergedAttrs=_n(a.mergedAttrs,lt.hostAttrs),X_(n,a,i,B,lt),Q_(B,lt,f),null!==lt.contentQueries&&(a.flags|=4),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(a.flags|=64);const Rt=lt.type.prototype;var J,ge;!b&&(Rt.ngOnChanges||Rt.ngOnInit||Rt.ngDoCheck)&&((null!==(J=n.preOrderHooks)&&void 0!==J?J:n.preOrderHooks=[]).push(a.index),b=!0),x||!Rt.ngOnChanges&&!Rt.ngDoCheck||((null!==(ge=n.preOrderCheckHooks)&&void 0!==ge?ge:n.preOrderCheckHooks=[]).push(a.index),x=!0),B++}!function q_(n,i,a){const f=i.directiveEnd,v=n.data,b=i.attrs,x=[];let B=null,J=null;for(let ge=i.directiveStart;ge<f;ge++){const Ne=v[ge],lt=a?a.get(Ne):null,en=lt?lt.outputs:null;B=Zm(Ne.inputs,ge,B,lt?lt.inputs:null),J=Zm(Ne.outputs,ge,J,en);const bn=null===B||null===b||Wr(i)?null:Pg(B,ge,b);x.push(bn)}null!==B&&(B.hasOwnProperty("class")&&(i.flags|=8),B.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=x,i.inputs=B,i.outputs=J}(n,a,v)}function kv(n,i,a){const d=a.directiveStart,f=a.directiveEnd,v=a.index,b=function Rc(){return yn.lFrame.currentDirectiveIndex}();try{Go(v);for(let x=d;x<f;x++){const B=n.data[x],J=i[x];zi(x),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Z_(B,J)}}finally{Go(-1),zi(b)}}function Z_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Jm(n,i,a){var d;i.componentOffset=a,(null!==(d=n.components)&&void 0!==d?d:n.components=[]).push(i.index)}function Q_(n,i,a){if(a){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)a[i.exportAs[d]]=n;Xs(i)&&(a[""]=n)}}function X_(n,i,a,d,f){n.data[d]=f;const v=f.factory||(f.factory=ls(f.type)),b=new gt(v,Xs(f),Au);n.blueprint[d]=b,a[d]=b,function Xm(n,i,a,d,f){const v=f.hostBindings;if(v){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const x=~i.index;(function Ov(n){let i=n.length;for(;i>0;){const a=n[--i];if("number"==typeof a&&a<0)return a}return 0})(b)!=x&&b.push(x),b.push(a,d,v)}}(n,i,d,Yh(n,a,f.hostVars,Zr),f)}function Il(n,i,a,d,f,v){const b=cs(n,i);!function cp(n,i,a,d,f,v,b){if(null==v)n.removeAttribute(i,f,a);else{const x=null==b?it(v):b(v,d||"",f);n.setAttribute(i,f,x,a)}}(i[An],b,v,n.value,a,d,f)}function Qh(n,i,a,d,f,v){const b=v[i];if(null!==b)for(let x=0;x<b.length;)ry(d,a,b[x++],b[x++],b[x++])}function ry(n,i,a,d,f){const v=pn(null);try{null!==n.setInput?n.setInput(i,f,a,d):i[d]=f}finally{pn(v)}}function Pg(n,i,a){let d=null,f=0;for(;f<a.length;){const v=a[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===d&&(d=[]);const b=n[v];for(let x=0;x<b.length;x+=2)if(b[x]===i){d.push(v,b[x+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function dp(n,i,a,d){return[n,!0,!1,i,null,0,d,a,null,null,null]}function Og(n,i){const a=n.contentQueries;if(null!==a)for(let d=0;d<a.length;d+=2){const v=a[d+1];if(-1!==v){const b=n.data[v];Ma(a[d]),b.contentQueries(2,i[v],v)}}}function da(n,i){return n[Qs]?n[Fs][Ni]=i:n[Qs]=i,n[Fs]=i,i}function Xh(n,i,a){Ma(0);const d=pn(null);try{i(n,a)}finally{pn(d)}}function Ng(n){return n[rs]||(n[rs]=[])}function Lv(n){return n.cleanup||(n.cleanup=[])}function qd(n,i){const a=n[is],d=a?a.get(jh,null):null;d&&d.handleError(i)}function sy(n,i,a,d,f){for(let v=0;v<a.length;){const b=a[v++],x=a[v++];ry(n.data[b],i[b],d,x,f)}}function Bv(n,i){const a=Po(i,n),d=a[Cn];!function oy(n,i){for(let a=i.length;a<n.blueprint.length;a++)i.push(n.blueprint[a])}(d,a);const f=a[Hr];null!==f&&null===a[es]&&(a[es]=pg(f,a[is])),ay(d,a,a[Ur])}function ay(n,i,a){Qa(i);try{const d=n.viewQuery;null!==d&&Xh(1,d,a);const f=n.template;null!==f&&Wm(n,i,f,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Og(n,i),n.staticViewQueries&&Xh(2,n.viewQuery,a);const v=n.components;null!==v&&function ly(n,i){for(let a=0;a<i.length;a++)Bv(n,i[a])}(i,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{i[Er]&=-5,Ir()}}let kg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(a,d,f){const v=typeof Zone>"u"?null:Zone.current,b=new oa(a,J=>{this.all.has(J)&&this.queue.set(J,v)},f);let x;this.all.add(b),b.notify();const B=()=>{var J;b.cleanup(),null===(J=x)||void 0===J||J(),this.all.delete(b),this.queue.delete(b)};return x=null==d?void 0:d.onDestroy(B),{destroy:B}}flush(){if(0!==this.queue.size)for(const[a,d]of this.queue)this.queue.delete(a),d?d.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>new n}),n})();function Jh(n,i,a){let d=a?n.styles:null,f=a?n.classes:null,v=0;if(null!==i)for(let b=0;b<i.length;b++){const x=i[b];"number"==typeof x?v=x:1==v?f=U(f,x):2==v&&(d=U(d,x+": "+i[++b]+";"))}a?n.styles=d:n.stylesWithoutHost=d,a?n.classes=f:n.classesWithoutHost=f}function hp(n,i,a,d,f=!1){for(;null!==a;){const v=i[a.index];if(null!==v&&d.push(Ii(v)),ji(v)){for(let x=gi;x<v.length;x++){const B=v[x],J=B[Cn].firstChild;null!==J&&hp(B[Cn],B,J,d)}v[ms]!==v[Hr]&&d.push(v[ms])}const b=a.type;if(8&b)hp(n,i,a.child,d);else if(32&b){const x=gm(a,i);let B;for(;B=x();)d.push(B)}else if(16&b){const x=Gp(i,a);if(Array.isArray(x))d.push(...x);else{const B=Pd(i[Si]);hp(B[Cn],B,x,d,!0)}}a=f?a.projectionNext:a.next}return d}function ef(n,i,a,d=!0){const f=i[bs].rendererFactory;f.begin&&f.begin();try{fp(n,i,n.template,a)}catch(x){throw d&&qd(i,x),x}finally{var b;f.end&&f.end(),null===(b=i[bs].effectManager)||void 0===b||b.flush()}}function fp(n,i,a,d){var f;const v=i[Er];if(256!=(256&v)){null===(f=i[bs].effectManager)||void 0===f||f.flush(),Qa(i);try{H(i),function va(n){return yn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&Wm(n,i,a,2,d);const x=3==(3&v);if(x){const ge=n.preOrderCheckHooks;null!==ge&&M(i,ge,null)}else{const ge=n.preOrderHooks;null!==ge&&O(i,ge,0,null),D(i,0)}if(function e0(n){for(let i=zl(n);null!==i;i=Rf(i)){if(!i[Ta])continue;const a=i[Hs];for(let d=0;d<a.length;d++){me(a[d])}}}(i),function pp(n){for(let i=zl(n);null!==i;i=Rf(i))for(let a=gi;a<i.length;a++){const d=i[a],f=d[Cn];Rl(d)&&fp(f,d,f.template,d[Ur])}}(i),null!==n.contentQueries&&Og(n,i),x){const ge=n.contentCheckHooks;null!==ge&&M(i,ge)}else{const ge=n.contentHooks;null!==ge&&O(i,ge,1),D(i,1)}!function G_(n,i){const a=n.hostBindingOpCodes;if(null===a)return;const d=Cv(i,Ui);try{for(let f=0;f<a.length;f++){const v=a[f];if(v<0)Go(~v);else{const b=v,x=a[++f],B=a[++f];ri(x,b),d.runInContext(B,2,i[b])}}}finally{null===i[Ui]&&bv(i,Ui),Go(-1)}}(n,i);const B=n.components;null!==B&&function tf(n,i){for(let a=0;a<i.length;a++)cy(n,i[a])}(i,B);const J=n.viewQuery;if(null!==J&&Xh(2,J,d),x){const ge=n.viewCheckHooks;null!==ge&&M(i,ge)}else{const ge=n.viewHooks;null!==ge&&O(i,ge,2),D(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Er]&=-73,Ke(i)}finally{Ir()}}}function cy(n,i){const a=Po(i,n);if(Rl(a)){const d=a[Cn];80&a[Er]?fp(d,a,d.template,a[Ur]):a[Mo]>0&&gp(a)}}function gp(n){for(let d=zl(n);null!==d;d=Rf(d))for(let f=gi;f<d.length;f++){const v=d[f];if(Rl(v))if(1024&v[Er]){const b=v[Cn];fp(b,v,b.template,v[Ur])}else v[Mo]>0&&gp(v)}const a=n[Cn].components;if(null!==a)for(let d=0;d<a.length;d++){const f=Po(a[d],n);Rl(f)&&f[Mo]>0&&gp(f)}}class nf{get rootNodes(){const i=this._lView,a=i[Cn];return hp(a,i,a.firstChild,[])}constructor(i,a){this._lView=i,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ur]}set context(i){this._lView[Ur]=i}get destroyed(){return 256==(256&this._lView[Er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Kr];if(ji(i)){const a=i[di],d=a?a.indexOf(this):-1;d>-1&&(nc(i,d),Wu(a,d))}this._attachedToViewContainer=!1}xf(this._lView[Cn],this._lView)}onDestroy(i){!function Yt(n,i){if(256==(256&n[Er]))throw new Ee(911,!1);null===n[gs]&&(n[gs]=[]),n[gs].push(i)}(this._lView,i)}markForCheck(){bo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Er]&=-129}reattach(){this._lView[Er]|=128}detectChanges(){ef(this._lView[Cn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function P_(n,i){Od(n,i,i[An],2,null,null)}(this._lView[Cn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=i}}class Lg extends nf{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ef(i[Cn],i,i[Ur],!1)}checkNoChanges(){}get context(){return null}}class Yd extends Jc{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const a=Xe(i);return new bl(a,this.ngModule)}}function dy(n){const i=[];for(let a in n)n.hasOwnProperty(a)&&i.push({propName:n[a],templateName:a});return i}class mp{constructor(i,a){this.injector=i,this.parentInjector=a}get(i,a,d){d=pr(d);const f=this.injector.get(i,Du,d);return f!==Du||a===Du?f:this.parentInjector.get(i,a,d)}}class bl extends vg{get inputs(){return dy(this.componentDef.inputs)}get outputs(){return dy(this.componentDef.outputs)}constructor(i,a){super(),this.componentDef=i,this.ngModule=a,this.componentType=i.type,this.selector=function Cs(n){return n.map(ti).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!a}create(i,a,d,f){var v;let b=(f=f||this.ngModule)instanceof Cu?f:null===(v=f)||void 0===v?void 0:v.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const x=b?new mp(i,b):i,B=x.get(wv,null);if(null===B)throw new Ee(407,!1);const Ne={rendererFactory:B,sanitizer:x.get(np,null),effectManager:x.get(kg,null)},lt=B.createRenderer(null,this.componentDef),Rt=this.componentDef.selectors[0][0]||"div",en=d?function W_(n,i,a,d){const v=d.get(Gh,!1)||a===Oe.ShadowDom,b=n.selectRootElement(i,v);return function Ym(n){Rv(n)}(b),b}(lt,d,this.componentDef.encapsulation,x):tc(lt,Rt,function Vv(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Rt)),bn=this.componentDef.onPush?576:528,Bn=lp(0,null,null,1,0,null,null,null,null,null,null),Yn=td(null,Bn,null,bn,null,null,Ne,lt,x,null,null);let hn,Xr;Qa(Yn);try{const ci=this.componentDef;let fs,Dc=null;ci.findHostDirectiveDefs?(fs=[],Dc=new Map,ci.findHostDirectiveDefs(ci,fs,Dc),fs.push(ci)):fs=[ci];const hb=function hy(n,i){const a=n[Cn],d=Br;return n[d]=i,ap(a,d,2,"#host",null)}(Yn,en),UD=function jv(n,i,a,d,f,v,b){const x=f[Cn];!function fy(n,i,a,d){for(const f of n)i.mergedAttrs=_n(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(Jh(i,i.mergedAttrs,!0),null!==a&&Lf(d,a,i))}(d,n,i,b);let B=null;null!==i&&(B=pg(i,f[is]));const J=v.rendererFactory.createRenderer(i,a),ge=td(f,Mv(a),null,a.onPush?64:16,f[n.index],n,v,J,null,null,B);return x.firstCreatePass&&Jm(x,n,d.length-1),da(f,ge),f[n.index]=ge}(hb,en,ci,fs,Yn,Ne,lt);Xr=Ka(Bn,Br),en&&function Bg(n,i,a,d){if(d)Dt(n,a,["ng-version",km.full]);else{const{attrs:f,classes:v}=function Ji(n){const i=[],a=[];let d=1,f=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===f?""!==v&&i.push(v,n[++d]):8===f&&a.push(v);else{if(!Zn(f))break;f=v}d++}return{attrs:i,classes:a}}(i.selectors[0]);f&&Dt(n,a,f),v&&v.length>0&&Hc(n,a,v.join(" "))}}(lt,ci,en,d),void 0!==a&&function rf(n,i,a){const d=n.projection=[];for(let f=0;f<i.length;f++){const v=a[f];d.push(null!=v?Array.from(v):null)}}(Xr,this.ngContentSelectors,a),hn=function py(n,i,a,d,f,v){const b=Is(),x=f[Cn],B=cs(b,f);xg(x,f,b,a,null,d);for(let ge=0;ge<a.length;ge++)ea(Qi(f,x,b.directiveStart+ge,b),f);kv(x,f,b),B&&ea(B,f);const J=Qi(f,x,b.directiveStart+b.componentOffset,b);if(n[Ur]=f[Ur]=J,null!==v)for(const ge of v)ge(J,i);return Tg(x,b,n),J}(UD,ci,fs,Dc,Yn,[gy]),ay(Bn,Yn,null)}finally{Ir()}return new qo(this.componentType,hn,ep(Xr,Yn),Yn,Xr)}}class qo extends xm{constructor(i,a,d,f,v){super(),this.location=d,this._rootLView=f,this._tNode=v,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Lg(f),this.componentType=i}setInput(i,a){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[i])){var v;if(null!==(v=this.previousInputValues)&&void 0!==v||(this.previousInputValues=new Map),this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),a))return;const b=this._rootLView;sy(b[Cn],b,f,i,a),this.previousInputValues.set(i,a),bo(Po(this._tNode.index,b))}}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function gy(){const n=Is();Vu(Ze()[Cn],n)}function sf(n){let i=function Zd(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const d=[n];for(;i;){let f;if(Xs(n))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ee(903,!1);f=i.\u0275dir}if(f){if(a){d.push(f);const b=n;b.inputs=yp(n.inputs),b.declaredInputs=yp(n.declaredInputs),b.outputs=yp(n.outputs);const x=f.hostBindings;x&&t0(n,x);const B=f.viewQuery,J=f.contentQueries;if(B&&Vo(n,B),J&&$g(n,J),Ce(n.inputs,f.inputs),Ce(n.declaredInputs,f.declaredInputs),Ce(n.outputs,f.outputs),Xs(f)&&f.data.animation){const ge=n.data;ge.animation=(ge.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let b=0;b<v.length;b++){const x=v[b];x&&x.ngInherit&&x(n),x===sf&&(a=!1)}}i=Object.getPrototypeOf(i)}!function ql(n){let i=0,a=null;for(let d=n.length-1;d>=0;d--){const f=n[d];f.hostVars=i+=f.hostVars,f.hostAttrs=_n(f.hostAttrs,a=_n(a,f.hostAttrs))}}(d)}function yp(n){return n===st?{}:n===Le?[]:n}function Vo(n,i){const a=n.viewQuery;n.viewQuery=a?(d,f)=>{i(d,f),a(d,f)}:i}function $g(n,i){const a=n.contentQueries;n.contentQueries=a?(d,f,v)=>{i(d,f,v),a(d,f,v)}:i}function t0(n,i){const a=n.hostBindings;n.hostBindings=a?(d,f)=>{i(d,f),a(d,f)}:i}function na(n){return!!_p(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _p(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ra(n,i,a){return!Object.is(n[i],a)&&(n[i]=a,!0)}function Os(n,i,a,d){const f=Ze();return ra(f,Ol(),i)&&(Vt(),Il(Li(),f,n,i,a,d)),Os}function Wg(n,i,a,d,f,v,b,x){const B=Ze(),J=Vt(),ge=n+Br,Ne=J.firstCreatePass?function ud(n,i,a,d,f,v,b,x,B){const J=i.consts,ge=ap(i,n,4,b||null,re(J,x));Rg(i,a,ge,re(J,B)),Vu(i,ge);const Ne=ge.tView=lp(2,ge,d,f,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,J,null);return null!==i.queries&&(i.queries.template(i,ge),Ne.queries=i.queries.embeddedTView(ge)),ge}(ge,J,B,i,a,d,f,v,b):J.data[ge];Ya(Ne,!1);const lt=cf(J,B,Ne,n);Wo()&&zp(J,B,lt,Ne),ea(lt,B),da(B,B[ge]=dp(lt,B,lt,Ne)),as(Ne)&&Ag(J,B,Ne),null!=b&&Km(B,Ne,x)}let cf=function Dy(n,i,a,d){return Fo(!0),i[An].createComment("")};function Jd(n){return qa(function Ac(){return yn.lFrame.contextLView}(),Br+n)}function Dp(n,i,a){const d=Ze();return ra(d,Ol(),i)&&function Ca(n,i,a,d,f,v,b,x){const B=cs(i,a);let ge,J=i.inputs;!x&&null!=J&&(ge=J[d])?(sy(n,a,ge,d,f),os(i)&&function up(n,i){const a=Po(i,n);16&a[Er]||(a[Er]|=64)}(a,i.index)):3&i.type&&(d=function Y_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),f=null!=b?b(f,i.value||"",d):f,v.setProperty(B,d,f))}(Vt(),Li(),d,n,i,d[An],a,!1),Dp}function eh(n,i,a,d,f){const b=f?"class":"style";sy(n,a,i.inputs[b],b,d)}function df(n,i,a,d){const f=Ze(),v=Vt(),b=Br+n,x=f[An],B=v.firstCreatePass?function Xv(n,i,a,d,f,v){const b=i.consts,B=ap(i,n,2,d,re(b,f));return Rg(i,a,B,re(b,v)),null!==B.attrs&&Jh(B,B.attrs,!1),null!==B.mergedAttrs&&Jh(B,B.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,B),B}(b,v,f,i,a,d):v.data[b],J=th(v,f,B,x,i,n);f[b]=J;const ge=as(B);return Ya(B,!0),Lf(x,J,B),32!=(32&B.flags)&&Wo()&&zp(v,f,J,B),0===function Fr(){return yn.lFrame.elementDepthCount}()&&ea(J,f),function ts(){yn.lFrame.elementDepthCount++}(),ge&&(Ag(v,f,B),Tg(v,B,f)),null!==d&&Km(f,B),df}function cd(){let n=Is();Pl()?Za():(n=n.parent,Ya(n,!1));const i=n;(function ds(n){return yn.skipHydrationRootTNode===n})(i)&&function Mn(){yn.skipHydrationRootTNode=null}(),function Qt(){yn.lFrame.elementDepthCount--}();const a=Vt();return a.firstCreatePass&&(Vu(a,n),Qo(n)&&a.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Bi(n){return 0!=(8&n.flags)}(i)&&eh(a,i,Ze(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function lo(n){return 0!=(16&n.flags)}(i)&&eh(a,i,Ze(),i.stylesWithoutHost,!1),cd}function Sy(n,i,a,d){return df(n,i,a,d),cd(),Sy}let th=(n,i,a,d,f,v)=>(Fo(!0),tc(d,f,function $u(){return yn.lFrame.currentNamespace}()));function Jv(n,i,a){const d=Ze(),f=Vt(),v=n+Br,b=f.firstCreatePass?function h0(n,i,a,d,f){const v=i.consts,b=re(v,d),x=ap(i,n,8,"ng-container",b);return null!==b&&Jh(x,b,!0),Rg(i,a,x,re(v,f)),null!==i.queries&&i.queries.elementStart(i,x),x}(v,f,d,i,a):f.data[v];Ya(b,!0);const x=nh(f,d,b,n);return d[v]=x,Wo()&&zp(f,d,x,b),ea(x,d),as(b)&&(Ag(f,d,b),Tg(f,b,d)),null!=a&&Km(d,b),Jv}function ff(){let n=Is();const i=Vt();return Pl()?Za():(n=n.parent,Ya(n,!1)),i.firstCreatePass&&(Vu(i,n),Qo(n)&&i.queries.elementEnd(n)),ff}function Ty(n,i,a){return Jv(n,i,a),ff(),Ty}let nh=(n,i,a,d)=>(Fo(!0),Uc(i[An],""));function pf(){return Ze()}function n_(n){return!!n&&"function"==typeof n.then}function f0(n){return!!n&&"function"==typeof n.subscribe}function Sp(n,i,a,d){const f=Ze(),v=Vt(),b=Is();return function Ay(n,i,a,d,f,v,b){const x=as(d),J=n.firstCreatePass&&Lv(n),ge=i[Ur],Ne=Ng(i);let lt=!0;if(3&d.type||b){const bn=cs(d,i),Bn=b?b(bn):bn,Yn=Ne.length,hn=b?ci=>b(Ii(ci[d.index])):d.index;let Xr=null;if(!b&&x&&(Xr=function p0(n,i,a,d){const f=n.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const b=f[v];if(b===a&&f[v+1]===d){const x=i[rs],B=f[v+2];return x.length>B?x[B]:null}"string"==typeof b&&(v+=2)}return null}(n,i,f,d.index)),null!==Xr)(Xr.__ngLastListenerFn__||Xr).__ngNextListenerFn__=v,Xr.__ngLastListenerFn__=v,lt=!1;else{v=Ry(d,i,ge,v,!1);const ci=a.listen(Bn,f,v);Ne.push(v,ci),J&&J.push(f,hn,Yn,Yn+1)}}else v=Ry(d,i,ge,v,!1);const Rt=d.outputs;let en;if(lt&&null!==Rt&&(en=Rt[f])){const bn=en.length;if(bn)for(let Bn=0;Bn<bn;Bn+=2){const fs=i[en[Bn]][en[Bn+1]].subscribe(v),Dc=Ne.length;Ne.push(v,fs),J&&J.push(f,d.index,Dc,-(Dc+1))}}}(v,f,f[An],b,n,i,d),Sp}function My(n,i,a,d){try{return us(6,i,a),!1!==a(d)}catch(f){return qd(n,f),!1}finally{us(7,i,a)}}function Ry(n,i,a,d,f){return function v(b){if(b===Function)return d;bo(n.componentOffset>-1?Po(n.index,i):i);let B=My(i,a,d,b),J=v.__ngNextListenerFn__;for(;J;)B=My(i,a,J,b)&&B,J=J.__ngNextListenerFn__;return f&&!1===B&&(b.preventDefault(),b.returnValue=!1),B}}function xy(n=1){return function Ra(n){return(yn.lFrame.contextLView=function Yi(n,i){for(;n>0;)i=i[Wi],n--;return i}(n,yn.lFrame.contextLView))[Ur]}(n)}function i_(n,i){let a=null;const d=function Ds(n){const i=n.attrs;if(null!=i){const a=i.indexOf(5);if(!(1&a))return i[a+1]}return null}(n);for(let f=0;f<i.length;f++){const v=i[f];if("*"!==v){if(null===d?mi(n,v,!0):js(d,v))return f}else a=f}return a}function Yg(n){const i=Ze()[Si][pi];if(!i.projection){const d=i.projection=kc(n?n.length:1,null),f=d.slice();let v=i.child;for(;null!==v;){const b=n?i_(v,n):0;null!==b&&(f[b]?f[b].projectionNext=v:d[b]=v,f[b]=v),v=v.next}}}function Zg(n,i=0,a){const d=Ze(),f=Vt(),v=ap(f,Br+n,16,null,a||null);null===v.projection&&(v.projection=i),Za(),(!d[es]||function ws(){return null!==yn.skipHydrationRootTNode}())&&32!=(32&v.flags)&&function _m(n,i,a){bh(i[An],0,i,a,Of(n,a,i),Ih(a.parent||i[pi],a,i))}(f,d,v)}function Ql(n,i){return n<<17|i<<2}function _c(n){return n>>17&32767}function Ou(n){return 2|n}function rh(n){return(131068&n)>>2}function Py(n,i){return-131069&n|i<<2}function em(n){return 1|n}function o_(n,i,a,d,f){const v=n[a+1],b=null===i;let x=d?_c(v):rh(v),B=!1;for(;0!==x&&(!1===B||b);){const ge=n[x+1];w0(n[x],i)&&(B=!0,n[x+1]=d?em(ge):Ou(ge)),x=d?_c(ge):rh(ge)}B&&(n[a+1]=d?Ou(v):em(v))}function w0(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&$l(n,i)>=0}function M0(n,i){return function Dl(n,i,a,d){const f=Ze(),v=Vt(),b=function _i(n){const i=yn.lFrame,a=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,a}(2);v.firstUpdatePass&&function ky(n,i,a,d){const f=n.data;if(null===f[a+1]){const v=f[to()],b=function x0(n,i){return i>=n.expandoStartIndex}(n,a);(function ie(n,i){return 0!=(n.flags&(i?8:16))})(v,d)&&null===i&&!b&&(i=!1),i=function P0(n,i,a,d){const f=function On(n){const i=yn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let v=d?i.residualClasses:i.residualStyles;if(null===f)0===(d?i.classBindings:i.styleBindings)&&(a=s(a=tm(null,n,i,a,d),i.attrs,d),v=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==f)if(a=tm(f,n,i,a,d),null===v){let B=function O0(n,i,a){const d=a?i.classBindings:i.styleBindings;if(0!==rh(d))return n[_c(d)]}(n,i,d);void 0!==B&&Array.isArray(B)&&(B=tm(null,n,i,B[1],d),B=s(B,i.attrs,d),function xE(n,i,a,d){n[_c(a?i.classBindings:i.styleBindings)]=d}(n,i,d,B))}else v=function PE(n,i,a){let d;const f=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<f;v++)d=s(d,n[v].hostAttrs,a);return s(d,i.attrs,a)}(n,i,d)}return void 0!==v&&(d?i.residualClasses=v:i.residualStyles=v),a}(f,v,i,d),function _0(n,i,a,d,f,v){let b=v?i.classBindings:i.styleBindings,x=_c(b),B=rh(b);n[d]=a;let ge,J=!1;if(Array.isArray(a)?(ge=a[1],(null===ge||$l(a,ge)>0)&&(J=!0)):ge=a,f)if(0!==B){const lt=_c(n[x+1]);n[d+1]=Ql(lt,x),0!==lt&&(n[lt+1]=Py(n[lt+1],d)),n[x+1]=function y0(n,i){return 131071&n|i<<17}(n[x+1],d)}else n[d+1]=Ql(x,0),0!==x&&(n[x+1]=Py(n[x+1],d)),x=d;else n[d+1]=Ql(B,0),0===x?x=d:n[B+1]=Py(n[B+1],d),B=d;J&&(n[d+1]=Ou(n[d+1])),o_(n,ge,d,!0),o_(n,ge,d,!1),function E0(n,i,a,d,f){const v=f?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&$l(v,i)>=0&&(a[d+1]=em(a[d+1]))}(i,ge,n,d,v),b=Ql(x,B),v?i.classBindings=b:i.styleBindings=b}(f,v,i,a,b,d)}}(v,n,b,d),i!==Zr&&ra(f,b,i)&&function m(n,i,a,d,f,v,b,x){if(!(3&i.type))return;const B=n.data,J=B[x+1],ge=function v0(n){return 1==(1&n)}(J)?E(B,i,a,f,rh(J),b):void 0;k(ge)||(k(v)||function m0(n){return 2==(2&n)}(J)&&(v=E(B,null,a,f,x,b)),function Kp(n,i,a,d,f){if(i)f?n.addClass(a,d):n.removeClass(a,d);else{let v=-1===d.indexOf("-")?void 0:wa.DashCase;null==f?n.removeStyle(a,d,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=wa.Important),n.setStyle(a,d,f,v))}}(d,b,ma(to(),a),f,v))}(v,v.data[to()],f,f[An],n,f[b+1]=function Y(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=$e(_u(n)))),n}(i,a),d,b)}(n,i,null,!0),M0}function tm(n,i,a,d,f){let v=null;const b=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<b&&(v=i[x],d=s(d,v.hostAttrs,f),v!==n);)x++;return null!==n&&(a.directiveStylingLast=x),d}function s(n,i,a){const d=a?1:2;let f=-1;if(null!==i)for(let v=0;v<i.length;v++){const b=i[v];"number"==typeof b?f=b:f===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ii(n,b,!!a||i[++v]))}return void 0===n?null:n}function E(n,i,a,d,f,v){const b=null===i;let x;for(;f>0;){const B=n[f],J=Array.isArray(B),ge=J?B[1]:B,Ne=null===ge;let lt=a[f+1];lt===Zr&&(lt=Ne?Le:void 0);let Rt=Ne?Fa(lt,d):ge===d?lt:void 0;if(J&&!k(Rt)&&(Rt=Fa(B,d)),k(Rt)&&(x=Rt,b))return x;const en=n[f+1];f=b?_c(en):rh(en)}if(null!==i){let B=v?i.residualClasses:i.residualStyles;null!=B&&(x=Fa(B,d))}return x}function k(n){return void 0!==n}function Se(n,i=""){const a=Ze(),d=Vt(),f=n+Br,v=d.firstCreatePass?ap(d,f,1,i,null):d.data[f],b=nt(d,a,v,i,n);a[f]=b,Wo()&&zp(d,a,b,v),Ya(v,!1)}let nt=(n,i,a,d,f)=>(Fo(!0),function fu(n,i){return n.createText(i)}(i[An],d));function wn(n){return jn("",n,""),wn}function jn(n,i,a){const d=Ze(),f=function ba(n,i,a,d){return ra(n,Ol(),a)?i+it(a)+d:Zr}(d,n,i,a);return f!==Zr&&function Cl(n,i,a){const d=ma(i,n);!function Gl(n,i,a){n.setValue(i,a)}(n[An],d,a)}(d,to(),f),jn}const Mp=void 0;var c_=["en",[["a","p"],["AM","PM"],Mp],[["AM","PM"],Mp,Mp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mp,"{1} 'at' {0}",Mp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function H0(n){const a=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===d?1:5}];let oh={};function d_(n){const i=function Fy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=h_(i);if(a)return a;const d=i.split("-")[0];if(a=h_(d),a)return a;if("en"===d)return c_;throw new Ee(701,!1)}function dd(n){return d_(n)[$r.PluralCase]}function h_(n){return n in oh||(oh[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),oh[n]}var $r=(()=>(($r=$r||{})[$r.LocaleId=0]="LocaleId",$r[$r.DayPeriodsFormat=1]="DayPeriodsFormat",$r[$r.DayPeriodsStandalone=2]="DayPeriodsStandalone",$r[$r.DaysFormat=3]="DaysFormat",$r[$r.DaysStandalone=4]="DaysStandalone",$r[$r.MonthsFormat=5]="MonthsFormat",$r[$r.MonthsStandalone=6]="MonthsStandalone",$r[$r.Eras=7]="Eras",$r[$r.FirstDayOfWeek=8]="FirstDayOfWeek",$r[$r.WeekendRange=9]="WeekendRange",$r[$r.DateFormat=10]="DateFormat",$r[$r.TimeFormat=11]="TimeFormat",$r[$r.DateTimeFormat=12]="DateTimeFormat",$r[$r.NumberSymbols=13]="NumberSymbols",$r[$r.NumberFormats=14]="NumberFormats",$r[$r.CurrencyCode=15]="CurrencyCode",$r[$r.CurrencySymbol=16]="CurrencySymbol",$r[$r.CurrencyName=17]="CurrencyName",$r[$r.Currencies=18]="Currencies",$r[$r.Directionality=19]="Directionality",$r[$r.PluralCase=20]="PluralCase",$r[$r.ExtraData=21]="ExtraData",$r))();const Rp="en-US";let f_=Rp;function Gy(n,i,a,d,f){if(n=ve(n),Array.isArray(n))for(let v=0;v<n.length;v++)Gy(n[v],i,a,d,f);else{const v=Vt(),b=Ze();let x=Ba(n)?n:ve(n.provide),B=Lh(n);const J=Is(),ge=1048575&J.providerIndexes,Ne=J.directiveStart,lt=J.providerIndexes>>20;if(Ba(n)||!n.multi){const Rt=new gt(B,f,Au),en=om(x,i,f?ge:ge+lt,Ne);-1===en?(vd(iu(J,b),v,x),sE(v,n,i.length),i.push(x),J.directiveStart++,J.directiveEnd++,f&&(J.providerIndexes+=1048576),a.push(Rt),b.push(Rt)):(a[en]=Rt,b[en]=Rt)}else{const Rt=om(x,i,ge+lt,Ne),en=om(x,i,ge,ge+lt),Bn=en>=0&&a[en];if(f&&!Bn||!f&&!(Rt>=0&&a[Rt])){vd(iu(J,b),v,x);const Yn=function nw(n,i,a,d,f){const v=new gt(n,a,Au);return v.multi=[],v.index=i,v.componentProviders=0,ew(v,f,d&&!a),v}(f?tw:sI,a.length,f,d,B);!f&&Bn&&(a[en].providerFactory=Yn),sE(v,n,i.length,0),i.push(x),J.directiveStart++,J.directiveEnd++,f&&(J.providerIndexes+=1048576),a.push(Yn),b.push(Yn)}else sE(v,n,Rt>-1?Rt:en,ew(a[f?en:Rt],B,!f&&d));!f&&d&&Bn&&a[en].componentProviders++}}}function sE(n,i,a,d){const f=Ba(i),v=function cv(n){return!!n.useClass}(i);if(f||v){const B=(v?ve(i.useClass):i).prototype.ngOnDestroy;if(B){const J=n.destroyHooks||(n.destroyHooks=[]);if(!f&&i.multi){const ge=J.indexOf(a);-1===ge?J.push(a,[d,B]):J[ge+1].push(d,B)}else J.push(a,B)}}}function ew(n,i,a){return a&&n.componentProviders++,n.multi.push(i)-1}function om(n,i,a,d){for(let f=a;f<d;f++)if(i[f]===n)return f;return-1}function sI(n,i,a,d){return I_(this.multi,[])}function tw(n,i,a,d){const f=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Qi(a,a[Cn],this.providerFactory.index,d);v=x.slice(0,b),I_(f,v);for(let B=b;B<x.length;B++)v.push(x[B])}else v=[],I_(f,v);return v}function I_(n,i){for(let a=0;a<n.length;a++)i.push((0,n[a])());return i}function tu(n,i=[]){return a=>{a.providersResolver=(d,f)=>function iI(n,i,a){const d=Vt();if(d.firstCreatePass){const f=Xs(n);Gy(a,d.data,d.blueprint,f,!0),Gy(i,d.data,d.blueprint,f,!1)}}(d,f?f(n):n,i)}}class Cc{}class rw{}function oI(n,i){return new oE(n,null!=i?i:null,[])}class oE extends Cc{constructor(i,a,d){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yd(this);const f=dn(i);this._bootstrapComponents=wl(f.bootstrap),this._r3Injector=fc(i,a,[{provide:Cc,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver},...d],$e(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class C_ extends rw{constructor(i){super(),this.moduleType=i}create(i){return new oE(this.moduleType,i,[])}}class iw extends Cc{constructor(i){super(),this.componentFactoryResolver=new Yd(this),this.instance=null;const a=new cc([...i.providers,{provide:Cc,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],i.parent||ag(),i.debugName,new Set(["environment"]));this.injector=a,i.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function sw(n,i,a=null){return new iw({providers:n,parent:i,debugName:a,runEnvironmentInitializers:!0}).injector}let aE=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const d=uc(0,a.type),f=d.length>0?sw([d],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,f)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=et({token:n,providedIn:"environment",factory:()=>new n(Mt(Cu))}),n})();function ow(n){n.getStandaloneInjector=i=>i.get(aE).getOrCreateStandaloneInjector(n)}function dE(n,i,a,d,f,v){const b=i+a;return ra(n,b,f)?function Va(n,i,a){return n[i]=a}(n,b+1,v?d.call(v,f):d(f)):function Wy(n,i){const a=n[i];return a===Zr?void 0:a}(n,b+1)}function c(n,i){const a=Vt();let d;const f=n+Br;var v;a.firstCreatePass?(d=function p(n,i){if(i)for(let a=i.length-1;a>=0;a--){const d=i[a];if(n===d.name)return d}}(i,a.pipeRegistry),a.data[f]=d,d.onDestroy&&(null!==(v=a.destroyHooks)&&void 0!==v?v:a.destroyHooks=[]).push(f,d.onDestroy)):d=a.data[f];const b=d.factory||(d.factory=ls(d.type)),x=nr(Au);try{const B=Xa(!1),J=b();return Xa(B),function Qv(n,i,a,d){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),i[a]=d}(a,Ze(),f,J),J}finally{nr(x)}}function A(n,i,a){const d=n+Br,f=Ze(),v=qa(f,d);return function at(n,i){return n[Cn].data[i].pure}(f,d)?dE(f,function ai(){const n=yn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,v.transform,a,v):v.transform(a)}function $t(n){return i=>{setTimeout(n,void 0,i)}}const Ht=class Et extends y.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,a,d){let f=i,v=a||(()=>null),b=d;if(i&&"object"==typeof i){var x,B,J;const Ne=i;f=null===(x=Ne.next)||void 0===x?void 0:x.bind(Ne),v=null===(B=Ne.error)||void 0===B?void 0:B.bind(Ne),b=null===(J=Ne.complete)||void 0===J?void 0:J.bind(Ne)}this.__isAsync&&(v=$t(v),f&&(f=$t(f)),b&&(b=$t(b)));const ge=super.subscribe({next:f,error:v,complete:b});return i instanceof g.w0&&i.add(ge),ge}};function cn(){return this._results[Symbol.iterator]()}class Pn{get changes(){return this._changes||(this._changes=new Ht)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Pn.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=cn)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,a){return this._results.reduce(i,a)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,a){const d=this;d.dirty=!1;const f=function Bo(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Gu(n,i,a){if(n.length!==i.length)return!1;for(let d=0;d<n.length;d++){let f=n[d],v=i[d];if(a&&(f=a(f),v=a(v)),v!==f)return!1}return!0}(d._results,f,a))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=bi,n})();const ni=Cr,wi=class extends ni{constructor(i,a,d){super(),this._declarationLView=i,this._declarationTContainer=a,this.elementRef=d}get ssrId(){var i;return(null===(i=this._declarationTContainer.tView)||void 0===i?void 0:i.ssrId)||null}createEmbeddedView(i,a){return this.createEmbeddedViewImpl(i,a,null)}createEmbeddedViewImpl(i,a,d){const f=this._declarationTContainer.tView,v=td(this._declarationLView,f,i,16,null,f.declTNode,null,null,null,a||null,d||null);v[Ss]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[Ls];return null!==x&&(v[Ls]=x.createEmbeddedView(f)),ay(f,v,i),new nf(v)}};function bi(){return Sa(Is(),Ze())}function Sa(n,i){return 4&n.type?new wi(i,n,ep(n,i)):null}let hr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Nr,n})();function Nr(){return Sl(Is(),Ze())}const Vr=hr,Di=class extends Vr{constructor(i,a,d){super(),this._lContainer=i,this._hostTNode=a,this._hostLView=d}get element(){return ep(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){const i=ch(this._hostTNode,this._hostLView);if(pl(i)){const a=hs(i,this._hostLView),d=uo(i);return new co(a[Cn].data[d+8],a)}return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const a=Ao(this._lContainer);return null!==a&&a[i]||null}get length(){return this._lContainer.length-gi}createEmbeddedView(i,a,d){let f,v;"number"==typeof d?f=d:null!=d&&(f=d.index,v=d.injector);const x=i.createEmbeddedViewImpl(a||{},v,null);return this.insertImpl(x,f,!1),x}createComponent(i,a,d,f,v){var b,B;const J=i&&!nl(i);let ge;if(J)ge=a;else{const Yn=a||{};ge=Yn.index,d=Yn.injector,f=Yn.projectableNodes,v=Yn.environmentInjector||Yn.ngModuleRef}const Ne=J?i:new bl(Xe(i)),lt=d||this.parentInjector;if(!v&&null==Ne.ngModule){const hn=(J?lt:this.parentInjector).get(Cu,null);hn&&(v=hn)}const Rt=Xe(null!==(b=Ne.componentType)&&void 0!==b?b:{}),en=(null==Rt?void 0:Rt.id,null),bn=null!==(B=null==en?void 0:en.firstChild)&&void 0!==B?B:null,Bn=Ne.create(lt,f,bn,v);return this.insertImpl(Bn.hostView,ge,!!en),Bn}insert(i,a){return this.insertImpl(i,a,!1)}insertImpl(i,a,d){const f=i._lView,v=f[Cn];if(function V(n){return ji(n[Kr])}(f)){const B=this.indexOf(i);if(-1!==B)this.detach(B);else{const J=f[Kr],ge=new Di(J,J[pi],J[Kr]);ge.detach(ge.indexOf(i))}}const b=this._adjustIndex(a),x=this._lContainer;if(function Ci(n,i,a,d){const f=gi+d,v=a.length;d>0&&(a[f-1][Ni]=i),d<v-gi?(i[Ni]=a[f],If(a,gi+d,i)):(a.push(i),i[Ni]=null),i[Kr]=a;const b=i[Ss];null!==b&&a!==b&&function Jy(n,i){const a=n[Hs];i[Si]!==i[Kr][Kr][Si]&&(n[Ta]=!0),null===a?n[Hs]=[i]:a.push(i)}(b,i);const x=i[Ls];null!==x&&x.insertView(n),i[Er]|=128}(v,f,x,b),!d){const B=jc(b,x),J=f[An],ge=wh(J,x[ms]);null!==ge&&function x_(n,i,a,d,f,v){d[Hr]=f,d[pi]=i,Od(n,d,a,1,f,v)}(v,x[pi],J,f,ge,B)}return i.attachToViewContainerRef(),If(ku(x),b,i),i}move(i,a){return this.insert(i,a)}indexOf(i){const a=Ao(this._lContainer);return null!==a?a.indexOf(i):-1}remove(i){const a=this._adjustIndex(i,-1),d=nc(this._lContainer,a);d&&(Wu(ku(this._lContainer),a),xf(d[Cn],d))}detach(i){const a=this._adjustIndex(i,-1),d=nc(this._lContainer,a);return d&&null!=Wu(ku(this._lContainer),a)?new nf(d):null}_adjustIndex(i,a=0){return null==i?this.length+a:i}};function Ao(n){return n[di]}function ku(n){return n[di]||(n[di]=[])}function Sl(n,i){let a;const d=i[n.index];return ji(d)?a=d:(a=dp(d,i,null,n),i[n.index]=a,da(i,a)),mo(a,i,n,d),new Di(a,n,i)}let mo=function fE(n,i,a,d){if(n[ms])return;let f;f=8&a.type?Ii(d):function yf(n,i){const a=n[An],d=a.createComment(""),f=cs(i,n);return il(a,wh(a,f),d,function vm(n,i){return n.nextSibling(i)}(a,f),!1),d}(i,a),n[ms]=f};class ah{constructor(i){this.queryList=i,this.matches=null}clone(){return new ah(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tl{constructor(i=[]){this.queries=i}createEmbeddedView(i){const a=i.queries;if(null!==a){const d=null!==i.contentQueries?i.contentQueries[0]:a.length,f=[];for(let v=0;v<d;v++){const b=a.getByIndex(v);f.push(this.queries[b.indexInDeclarationView].clone())}return new Tl(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let a=0;a<this.queries.length;a++)null!==uC(i,a).matches&&this.queries[a].setDirty()}}class Yy{constructor(i,a,d=null){this.predicate=i,this.flags=a,this.read=d}}class Zy{constructor(i=[]){this.queries=i}elementStart(i,a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,a)}elementEnd(i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(i)}embeddedTView(i){let a=null;for(let d=0;d<this.length;d++){const f=null!==a?a.length:0,v=this.getByIndex(d).embeddedTView(i,f);v&&(v.indexInDeclarationView=d,null!==a?a.push(v):a=[v])}return null!==a?new Zy(a):null}template(i,a){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,a)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class yI{constructor(i,a=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(i,a){this.isApplyingToNode(a)&&this.matchTNode(i,a)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,a){this.elementStart(i,a)}embeddedTView(i,a){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,a),new yI(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==a;)d=d.parent;return a===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,a){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const v=d[f];this.matchTNodeWithReadOption(i,a,fb(a,v)),this.matchTNodeWithReadOption(i,a,Lo(a,i,v,!1,!1))}else d===Cr?4&a.type&&this.matchTNodeWithReadOption(i,a,-1):this.matchTNodeWithReadOption(i,a,Lo(a,i,d,!1,!1))}matchTNodeWithReadOption(i,a,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===tp||f===hr||f===Cr&&4&a.type)this.addMatch(a.index,-2);else{const v=Lo(a,i,f,!1,!1);null!==v&&this.addMatch(a.index,v)}else this.addMatch(a.index,d)}}addMatch(i,a){null===this.matches?this.matches=[i,a]:this.matches.push(i,a)}}function fb(n,i){const a=n.localNames;if(null!==a)for(let d=0;d<a.length;d+=2)if(a[d]===i)return a[d+1];return null}function gb(n,i,a,d){return-1===a?function pb(n,i){return 11&n.type?ep(n,i):4&n.type?Sa(n,i):null}(i,n):-2===a?function mb(n,i,a){return a===tp?ep(i,n):a===Cr?Sa(i,n):a===hr?Sl(i,n):void 0}(n,i,d):Qi(n,n[Cn],a,i)}function nC(n,i,a,d){const f=i[Ls].queries[d];if(null===f.matches){const v=n.data,b=a.matches,x=[];for(let B=0;B<b.length;B+=2){const J=b[B];x.push(J<0?null:gb(i,v[J],b[B+1],a.metadata.read))}f.matches=x}return f.matches}function vI(n,i,a,d){const f=n.queries.getByIndex(a),v=f.matches;if(null!==v){const b=nC(n,i,f,a);for(let x=0;x<v.length;x+=2){const B=v[x];if(B>0)d.push(b[x/2]);else{const J=v[x+1],ge=i[-B];for(let Ne=gi;Ne<ge.length;Ne++){const lt=ge[Ne];lt[Ss]===lt[Kr]&&vI(lt[Cn],lt,J,d)}if(null!==ge[Hs]){const Ne=ge[Hs];for(let lt=0;lt<Ne.length;lt++){const Rt=Ne[lt];vI(Rt[Cn],Rt,J,d)}}}}}return d}function rC(n){const i=Ze(),a=Vt(),d=hl();Ma(d+1);const f=uC(a,d);if(n.dirty&&function Bu(n){return 4==(4&n[Er])}(i)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const v=f.crossesNgTemplate?vI(a,i,d,[]):nC(a,i,f,d);n.reset(v,ca),n.notifyOnChanges()}return!0}return!1}function iC(n,i,a){const d=Vt();d.firstCreatePass&&(lC(d,new Yy(n,i,a),-1),2==(2&i)&&(d.staticViewQueries=!0)),aC(d,Ze(),i)}function sC(n,i,a,d){const f=Vt();if(f.firstCreatePass){const v=Is();lC(f,new Yy(i,a,d),v.index),function vb(n,i){const a=n.contentQueries||(n.contentQueries=[]);i!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,i)}(f,n),2==(2&a)&&(f.staticContentQueries=!0)}aC(f,Ze(),a)}function oC(){return function yb(n,i){return n[Ls].queries[i].queryList}(Ze(),hl())}function aC(n,i,a){const d=new Pn(4==(4&a));(function Pv(n,i,a,d){const f=Ng(i);f.push(a),n.firstCreatePass&&Lv(n).push(d,f.length-1)})(n,i,d,d.destroy),null===i[Ls]&&(i[Ls]=new Tl),i[Ls].queries.push(new ah(d))}function lC(n,i,a){null===n.queries&&(n.queries=new Zy),n.queries.track(new yI(i,a))}function uC(n,i){return n.queries.getByIndex(i)}function _I(n){return!!dn(n)}const SC=new ki("Application Initializer");let bI=(()=>{class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=null!==(a=gn(SC,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const v=f();if(n_(v))a.push(v);else if(f0(v)){const b=new Promise((x,B)=>{v.subscribe({complete:x,error:B})});a.push(b)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{d()}).catch(f=>{this.reject(f)}),0===a.length&&d(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TC=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vw=new ki("LocaleId",{providedIn:"root",factory:()=>gn(vw,nn.Optional|nn.SkipSelf)||function Vb(){return typeof $localize<"u"&&$localize.locale||Rp}()}),Ub=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jb{constructor(i,a){this.ngModuleFactory=i,this.componentFactories=a}}let Hb=(()=>{class n{compileModuleSync(a){return new C_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const d=this.compileModuleSync(a),v=wl(dn(a).declarations).reduce((b,x)=>{const B=Xe(x);return B&&b.push(new bl(B)),b},[]);return new jb(d,v)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wb=(()=>Promise.resolve(0))();function DI(n){typeof Zone>"u"?Wb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function RC(...n){}class Al{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ht(!1),this.onMicrotaskEmpty=new Ht(!1),this.onStable=new Ht(!1),this.onError=new Ht(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&a,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Kb(){let n=Sn.requestAnimationFrame,i=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Zb(n){const i=()=>{!function Yb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,TI(n),n.isCheckStableRunning=!0,SI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),TI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,d,f,v,b,x)=>{try{return xC(n),a.invokeTask(f,v,b,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),PC(n)}},onInvoke:(a,d,f,v,b,x,B)=>{try{return xC(n),a.invoke(f,v,b,x,B)}finally{n.shouldCoalesceRunChangeDetection&&i(),PC(n)}},onHasTask:(a,d,f,v)=>{a.hasTask(f,v),d===f&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,TI(n),SI(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(a,d,f,v)=>(a.handleError(f,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Al.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(Al.isInAngularZone())throw new Ee(909,!1)}run(i,a,d){return this._inner.run(i,a,d)}runTask(i,a,d,f){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+f,i,qb,RC,RC);try{return v.runTask(b,a,d)}finally{v.cancelTask(b)}}runGuarded(i,a,d){return this._inner.runGuarded(i,a,d)}runOutsideAngular(i){return this._outer.run(i)}}const qb={};function SI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function TI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function xC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PC(n){n._nesting--,SI(n)}class Qb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ht,this.onMicrotaskEmpty=new Ht,this.onStable=new Ht,this.onError=new Ht}run(i,a,d){return i.apply(a,d)}runGuarded(i,a,d){return i.apply(a,d)}runOutsideAngular(i){return i()}runTask(i,a,d,f){return i.apply(a,d)}}const OC=new ki("",{providedIn:"root",factory:NC});function NC(){const n=gn(Al);let i=!0;const a=new ae.y(f=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{f.next(i),f.complete()})}),d=new ae.y(f=>{let v;n.runOutsideAngular(()=>{v=n.onStable.subscribe(()=>{Al.assertNotInAngularZone(),DI(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,f.next(!0))})})});const b=n.onUnstable.subscribe(()=>{Al.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{f.next(!1)}))});return()=>{v.unsubscribe(),b.unsubscribe()}});return(0,ye.T)(a,d.pipe((0,be.B)()))}const kC=new ki(""),FC=new ki("");let AI,Xb=(()=>{class n{constructor(a,d,f){this._ngZone=a,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AI||(function Jb(n){AI=n}(f),f.addToWindow(d)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Al.assertNotInAngularZone(),DI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DI(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(a)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,d,f){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),a(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:a,timeoutId:v,updateCb:f})}whenStable(a,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,d,f){return[]}}return n.\u0275fac=function(a){return new(a||n)(Mt(Al),Mt(LC),Mt(FC))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),LC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,d){this._applications.set(a,d)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,d=!0){var f,v;return null!==(f=null===(v=AI)||void 0===v?void 0:v.findTestabilityInTree(this,a,d))&&void 0!==f?f:null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),um=null;const BC=new ki("AllowMultipleToken"),MI=new ki("PlatformDestroyListeners"),RI=new ki("appBootstrapListener");class nD{constructor(i,a){this.name=i,this.token=a}}function UC(n,i,a=[]){const d=`Platform: ${i}`,f=new ki(d);return(v=[])=>{let b=xI();if(!b||b.injector.get(BC,!1)){const x=[...a,...v,{provide:f,useValue:!0}];n?n(x):function rD(n){if(um&&!um.get(BC,!1))throw new Ee(400,!1);(function $C(){!function sa(n){Es=n}(()=>{throw new Ee(600,!1)})})(),um=n;const i=n.get(HC);(function VC(n){const i=n.get(Sm,null);null==i||i.forEach(a=>a())})(n)}(function jC(n=[],i){return pc.create({name:i,providers:[{provide:Ud,useValue:"platform"},{provide:MI,useValue:new Set([()=>um=null])},...n]})}(x,d))}return function sD(n){const i=xI();if(!i)throw new Ee(401,!1);return i}()}}function xI(){var n,i;return null!==(n=null===(i=um)||void 0===i?void 0:i.get(HC))&&void 0!==n?n:null}let HC=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,d){const f=function oD(n="zone.js",i){return"noop"===n?new Qb:"zone.js"===n?new Al(i):n}(null==d?void 0:d.ngZone,function zC(n){var i,a;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(i=null==n?void 0:n.eventCoalescing)&&void 0!==i&&i,shouldCoalesceRunChangeDetection:null!==(a=null==n?void 0:n.runCoalescing)&&void 0!==a&&a}}({eventCoalescing:null==d?void 0:d.ngZoneEventCoalescing,runCoalescing:null==d?void 0:d.ngZoneRunCoalescing}));return f.run(()=>{const v=function b_(n,i,a){return new oE(n,i,a)}(a.moduleType,this.injector,function YC(n){return[{provide:Al,useFactory:n},{provide:Yc,multi:!0,useFactory:()=>{const i=gn(lD,{optional:!0});return()=>i.initialize()}},{provide:qC,useFactory:aD},{provide:OC,useFactory:NC}]}(()=>f)),b=v.injector.get(jh,null);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:B=>{b.handleError(B)}});v.onDestroy(()=>{_w(this._modules,v),x.unsubscribe()})}),function GC(n,i,a){try{const d=a();return n_(d)?d.catch(f=>{throw i.runOutsideAngular(()=>n.handleError(f)),f}):d}catch(d){throw i.runOutsideAngular(()=>n.handleError(d)),d}}(b,f,()=>{const x=v.injector.get(bI);return x.runInitializers(),x.donePromise.then(()=>(function W0(n){ut(n,"Expected localeId to be defined"),"string"==typeof n&&(f_=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(vw,Rp)||Rp),this._moduleDoBootstrap(v),v))})})}bootstrapModule(a,d=[]){const f=WC({},d);return function eD(n,i,a){const d=new C_(a);return Promise.resolve(d)}(0,0,a).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(a){const d=a.injector.get(M_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new Ee(-403,!1);a.instance.ngDoBootstrap(d)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const a=this._injector.get(MI,null);a&&(a.forEach(d=>d()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Mt(pc))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function WC(n,i){return Array.isArray(i)?i.reduce(WC,n):{...n,...i}}let M_=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gn(qC),this.componentTypes=[],this.components=[],this.isStable=gn(OC),this._injector=gn(Cu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,d){const f=a instanceof vg;if(!this._injector.get(bI).done)throw!f&&on(a),new Ee(405,!1);let b;b=f?a:this._injector.get(Jc).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const x=function tD(n){return n.isBoundToModule}(b)?void 0:this._injector.get(Cc),J=b.create(pc.NULL,[],d||b.selector,x),ge=J.location.nativeElement,Ne=J.injector.get(kC,null);return null==Ne||Ne.registerApplication(ge),J.onDestroy(()=>{this.detachView(J.hostView),_w(this.components,J),null==Ne||Ne.unregisterApplication(ge)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const d=a;this._views.push(d),d.attachToAppRef(this)}detachView(a){const d=a;_w(this._views,d),d.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const d=this._injector.get(RI,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>_w(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _w(n,i){const a=n.indexOf(i);a>-1&&n.splice(a,1)}const qC=new ki("",{providedIn:"root",factory:()=>gn(jh).handleError.bind(void 0)});function aD(){const n=gn(Al),i=gn(jh);return a=>n.runOutsideAngular(()=>i.handleError(a))}let lD=(()=>{class n{constructor(){this.zone=gn(Al),this.applicationRef=gn(M_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cD(){return!1}function dD(){}let hD=(()=>{class n{}return n.__NG_ELEMENT_ID__=fD,n})();function fD(n){return function pD(n,i,a){if(os(n)&&!a){const d=Po(n.index,i);return new nf(d,d)}return 47&n.type?new nf(i[Si],i):null}(Is(),Ze(),16==(16&n))}class JC{constructor(){}supports(i){return na(i)}create(i){return new ED(i)}}const _D=(n,i)=>i;class ED{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_D}forEachItem(i){let a;for(a=this._itHead;null!==a;a=a._next)i(a)}forEachOperation(i){let a=this._itHead,d=this._removalsHead,f=0,v=null;for(;a||d;){const b=!d||a&&a.currentIndex<tb(d,f,v)?a:d,x=tb(b,f,v),B=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(a=a._next,null==b.previousIndex)f++;else{v||(v=[]);const J=x-f,ge=B-f;if(J!=ge){for(let lt=0;lt<J;lt++){const Rt=lt<v.length?v[lt]:v[lt]=0,en=Rt+lt;ge<=en&&en<J&&(v[lt]=Rt+1)}v[b.previousIndex]=ge-J}}x!==B&&i(b,x,B)}}forEachPreviousItem(i){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachMovedItem(i){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}forEachIdentityChange(i){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)i(a)}diff(i){if(null==i&&(i=[]),!na(i))throw new Ee(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,v,b,a=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let x=0;x<this.length;x++)v=i[x],b=this._trackByFn(x,v),null!==a&&Object.is(a.trackById,b)?(d&&(a=this._verifyReinsertion(a,v,b,x)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,b,x),d=!0),a=a._next}else f=0,function Ug(n,i){if(Array.isArray(n))for(let a=0;a<n.length;a++)i(n[a]);else{const a=n[Symbol.iterator]();let d;for(;!(d=a.next()).done;)i(d.value)}}(i,x=>{b=this._trackByFn(f,x),null!==a&&Object.is(a.trackById,b)?(d&&(a=this._verifyReinsertion(a,x,b,f)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,b,f),d=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,a,d,f){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._reinsertAfter(i,v,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._moveAfter(i,v,f)):i=this._addAfter(new wD(a,d),v,f),i}_verifyReinsertion(i,a,d,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?i=this._reinsertAfter(v,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const a=i._next;this._addToRemovals(this._unlink(i)),i=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,a,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,v=i._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(i,a,d),this._addToMoves(i,d),i}_moveAfter(i,a,d){return this._unlink(i),this._insertAfter(i,a,d),this._addToMoves(i,d),i}_addAfter(i,a,d){return this._insertAfter(i,a,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,a,d){const f=null===a?this._itHead:a._next;return i._next=f,i._prev=a,null===f?this._itTail=i:f._prev=i,null===a?this._itHead=i:a._next=i,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const a=i._prev,d=i._next;return null===a?this._itHead=d:a._next=d,null===d?this._itTail=a:d._prev=a,i}_addToMoves(i,a){return i.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,a){return i.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wD{constructor(i,a){this.item=i,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ID{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,a){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===a||a<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const a=i._prevDup,d=i._nextDup;return null===a?this._head=d:a._nextDup=d,null===d?this._tail=a:d._prevDup=a,null===this._head}}class eb{constructor(){this.map=new Map}put(i){const a=i.trackById;let d=this.map.get(a);d||(d=new ID,this.map.set(a,d)),d.add(i)}get(i,a){const f=this.map.get(i);return f?f.get(i,a):null}remove(i){const a=i.trackById;return this.map.get(a).remove(i)&&this.map.delete(a),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(n,i,a){const d=n.previousIndex;if(null===d)return d;let f=0;return a&&d<a.length&&(f=a[d]),d+i+f}class nb{constructor(){}supports(i){return i instanceof Map||_p(i)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let a;for(a=this._mapHead;null!==a;a=a._next)i(a)}forEachPreviousItem(i){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)i(a)}forEachChangedItem(i){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}diff(i){if(i){if(!(i instanceof Map||_p(i)))throw new Ee(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,d),this._appendAfter=a,a=a._next;else{const v=this._getOrCreateRecordForKey(f,d);a=this._insertBeforeOrAppend(a,v)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let d=a;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,a){if(i){const d=i._prev;return a._next=i,a._prev=d,i._prev=a,d&&(d._next=a),i===this._mapHead&&(this._mapHead=a),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(i,a){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,a);const v=f._prev,b=f._next;return v&&(v._next=b),b&&(b._prev=v),f._next=null,f._prev=null,f}const d=new bD(i);return this._records.set(i,d),d.currentValue=a,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,a){Object.is(a,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=a,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,a){i instanceof Map?i.forEach(a):Object.keys(i).forEach(d=>a(i[d],d))}}class bD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new FI([new JC])}let FI=(()=>{class n{constructor(a){this.factories=a}static create(a,d){if(null!=d){const f=d.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:d=>n.create(a,d||rb()),deps:[[n,new ml,new Vl]]}}find(a){const d=this.factories.find(f=>f.supports(a));if(null!=d)return d;throw new Ee(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:rb}),n})();function ib(){return new LI([new nb])}let LI=(()=>{class n{constructor(a){this.factories=a}static create(a,d){if(d){const f=d.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:d=>n.create(a,d||ib()),deps:[[n,new ml,new Vl]]}}find(a){const d=this.factories.find(f=>f.supports(a));if(d)return d;throw new Ee(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:ib}),n})();const TD=UC(null,"core",[]);let AD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Mt(M_))},n.\u0275mod=_e({type:n}),n.\u0275inj=Jt({}),n})(),cb=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=gn(Al),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(a=>{this.resolve=a})})}add(){if(this.completed)return-1;const a=this.taskId++;return this.collection.add(a),a}remove(a){this.completed||(this.collection.delete(a),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function $D(n,i){const a=Xe(n),d=i.elementInjector||ag();return new bl(a).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}function VD(n){const i=Xe(n);if(!i)return null;const a=new bl(i);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return i.standalone}}}},5030:(ln,ct,L)=>{"use strict";L.d(ct,{u5:()=>Ws,wO:()=>vs,JU:()=>qe,a5:()=>nn,JJ:()=>Ar,JL:()=>Mr,F:()=>_e,On:()=>Hr,UX:()=>xo,Q7:()=>ys,_Y:()=>Cn});var y=L(2223),g=L(4755),ae=L(8996),ye=L(9751),be=L(4742),De=L(8421),he=L(7669),Ce=L(5403),$e=L(3268),U=L(1810),Ue=L(4004);let ve=(()=>{class Z{constructor(C,N){this._renderer=C,this._elementRef=N,this.onChange=pe=>{},this.onTouched=()=>{}}setProperty(C,N){this._renderer.setProperty(this._elementRef.nativeElement,C,N)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(y.Qsj),y.Y36(y.SBq))},Z.\u0275dir=y.lG2({type:Z}),Z})(),Ve=(()=>{class Z extends ve{}return Z.\u0275fac=function(){let j;return function(N){return(j||(j=y.n5z(Z)))(N||Z)}}(),Z.\u0275dir=y.lG2({type:Z,features:[y.qOj]}),Z})();const qe=new y.OlP("NgValueAccessor"),Ee={provide:qe,useExisting:(0,y.Gpc)(()=>Ge),multi:!0},it=new y.OlP("CompositionEventMode");let Ge=(()=>{class Z extends ve{constructor(C,N,pe){super(C,N),this._compositionMode=pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vt(){const Z=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(C){this.setProperty("value",null==C?"":C)}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(it,8))},Z.\u0275dir=y.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,N){1&C&&y.NdJ("input",function(ot){return N._handleInput(ot.target.value)})("blur",function(){return N.onTouched()})("compositionstart",function(){return N._compositionStart()})("compositionend",function(ot){return N._compositionEnd(ot.target.value)})},features:[y._Bn([Ee]),y.qOj]}),Z})();function rt(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}const _t=new y.OlP("NgValidators"),Ye=new y.OlP("NgAsyncValidators");function yt(Z){return rt(Z.value)?{required:!0}:null}function Fe(Z){return null}function He(Z){return null!=Z}function mt(Z){return(0,y.QGY)(Z)?(0,ae.D)(Z):Z}function ut(Z){let j={};return Z.forEach(C=>{j=null!=C?{...j,...C}:j}),0===Object.keys(j).length?null:j}function Tt(Z,j){return j.map(C=>C(Z))}function sn(Z){return Z.map(j=>function Pt(Z){return!Z.validate}(j)?j:C=>j.validate(C))}function et(Z){return null!=Z?function At(Z){if(!Z)return null;const j=Z.filter(He);return 0==j.length?null:function(C){return ut(Tt(C,j))}}(sn(Z)):null}function Jt(Z){return null!=Z?function Ot(Z){if(!Z)return null;const j=Z.filter(He);return 0==j.length?null:function(C){return function Ie(...Z){const j=(0,he.jO)(Z),{args:C,keys:N}=(0,be.D)(Z),pe=new ye.y(ot=>{const{length:Bt}=C;if(!Bt)return void ot.complete();const Zt=new Array(Bt);let pn=Bt,jr=Bt;for(let Rr=0;Rr<Bt;Rr++){let wr=!1;(0,De.Xf)(C[Rr]).subscribe((0,Ce.x)(ot,Qr=>{wr||(wr=!0,jr--),Zt[Rr]=Qr},()=>pn--,void 0,()=>{(!pn||!wr)&&(jr||ot.next(N?(0,U.n)(N,Zt):Zt),ot.complete())}))}});return j?pe.pipe((0,$e.Z)(j)):pe}(Tt(C,j).map(mt)).pipe((0,Ue.U)(ut))}}(sn(Z)):null}function fn(Z,j){return null===Z?[j]:Array.isArray(Z)?[...Z,j]:[Z,j]}function Nt(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function In(Z,j){return Array.isArray(Z)?Z.includes(j):Z===j}function Lt(Z,j){const C=Nt(j);return Nt(Z).forEach(pe=>{In(C,pe)||C.push(pe)}),C}function rr(Z,j){return Nt(j).filter(C=>!In(Z,C))}class fr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=et(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,C){return!!this.control&&this.control.hasError(j,C)}getError(j,C){return this.control?this.control.getError(j,C):null}}class gr extends fr{get formDirective(){return null}get path(){return null}}class nn extends fr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Lr{constructor(j){this._cd=j}get isTouched(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.touched)}get isUntouched(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.untouched)}get isPristine(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.pristine)}get isDirty(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.dirty)}get isValid(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.valid)}get isInvalid(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.invalid)}get isPending(){var j,C;return!(null===(j=this._cd)||void 0===j||null===(C=j.control)||void 0===C||!C.pending)}get isSubmitted(){var j;return!(null===(j=this._cd)||void 0===j||!j.submitted)}}let Ar=(()=>{class Z extends Lr{constructor(C){super(C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(nn,2))},Z.\u0275dir=y.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,N){2&C&&y.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)},features:[y.qOj]}),Z})(),Mr=(()=>{class Z extends Lr{constructor(C){super(C)}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(gr,10))},Z.\u0275dir=y.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,N){2&C&&y.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)("ng-submitted",N.isSubmitted)},features:[y.qOj]}),Z})();const gn="VALID",pr="INVALID",Fn="PENDING",mr="DISABLED";function Je(Z){return(q(Z)?Z.validators:Z)||null}function K(Z,j){return(q(j)?j.asyncValidators:Z)||null}function q(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class Le{constructor(j,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===gn}get invalid(){return this.status===pr}get pending(){return this.status==Fn}get disabled(){return this.status===mr}get enabled(){return this.status!==mr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(Lt(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Lt(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(rr(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(rr(j,this._rawAsyncValidators))}hasValidator(j){return In(this._rawValidators,j)}hasAsyncValidator(j){return In(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Fn,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const C=this._parentMarkedDirty(j.onlySelf);this.status=mr,this.errors=null,this._forEachChild(N=>{N.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:C}),this._onDisabledChange.forEach(N=>N(!0))}enable(j={}){const C=this._parentMarkedDirty(j.onlySelf);this.status=gn,this._forEachChild(N=>{N.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:C}),this._onDisabledChange.forEach(N=>N(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gn||this.status===Fn)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mr:gn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Fn,this._hasOwnPendingAsyncValidator=!0;const C=mt(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(N=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(N,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,C={}){this.errors=j,this._updateControlsErrors(!1!==C.emitEvent)}get(j){let C=j;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((N,pe)=>N&&N._find(pe),this)}getError(j,C){const N=C?this.get(C):this;return N&&N.errors?N.errors[j]:null}hasError(j,C){return!!this.getError(j,C)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?mr:this.errors?pr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fn)?Fn:this._anyControlsHaveStatus(pr)?pr:gn}_anyControlsHaveStatus(j){return this._anyControls(C=>C.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){q(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function de(Z){return Array.isArray(Z)?et(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function z(Z){return Array.isArray(Z)?Jt(Z):Z||null}(this._rawAsyncValidators)}}class ht extends Le{constructor(j,C,N){super(Je(C),K(N,C)),this.controls=j,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,C){return this.controls[j]?this.controls[j]:(this.controls[j]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(j,C,N={}){this.registerControl(j,C),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}removeControl(j,C={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(j,C,N={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],C&&this.registerControl(j,C),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,C={}){(function st(Z,j,C){Z._forEachChild((N,pe)=>{if(void 0===C[pe])throw new y.vHH(1002,"")})})(this,0,j),Object.keys(j).forEach(N=>{(function Oe(Z,j,C){const N=Z.controls;if(!(j?Object.keys(N):N).length)throw new y.vHH(1e3,"");if(!N[C])throw new y.vHH(1001,"")})(this,!0,N),this.controls[N].setValue(j[N],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(j,C={}){null!=j&&(Object.keys(j).forEach(N=>{const pe=this.controls[N];pe&&pe.patchValue(j[N],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(j={},C={}){this._forEachChild((N,pe)=>{N.reset(j[pe],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(j,C,N)=>(j[N]=C.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(C,N)=>!!N._syncPendingControls()||C);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(C=>{const N=this.controls[C];N&&j(N,C)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[C,N]of Object.entries(this.controls))if(this.contains(C)&&j(N))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,N,pe)=>((N.enabled||this.disabled)&&(C[pe]=N.value),C))}_reduceChildren(j,C){let N=j;return this._forEachChild((pe,ot)=>{N=C(N,pe,ot)}),N}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const un=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Wn}),Wn="always";function Dt(Z,j,C=Wn){var N,pe;kn(Z,j),j.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===C)&&(null===(N=(pe=j.valueAccessor).setDisabledState)||void 0===N||N.call(pe,Z.disabled)),function Jn(Z,j){j.valueAccessor.registerOnChange(C=>{Z._pendingValue=C,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&_r(Z,j)})}(Z,j),function or(Z,j){const C=(N,pe)=>{j.valueAccessor.writeValue(N),pe&&j.viewToModelUpdate(N)};Z.registerOnChange(C),j._registerOnDestroy(()=>{Z._unregisterOnChange(C)})}(Z,j),function Wr(Z,j){j.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&_r(Z,j),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,j),function _n(Z,j){if(j.valueAccessor.setDisabledState){const C=N=>{j.valueAccessor.setDisabledState(N)};Z.registerOnDisabledChange(C),j._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(C)})}}(Z,j)}function Kt(Z,j){Z.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(j)})}function kn(Z,j){const C=function Tn(Z){return Z._rawValidators}(Z);null!==j.validator?Z.setValidators(fn(C,j.validator)):"function"==typeof C&&Z.setValidators([C]);const N=function En(Z){return Z._rawAsyncValidators}(Z);null!==j.asyncValidator?Z.setAsyncValidators(fn(N,j.asyncValidator)):"function"==typeof N&&Z.setAsyncValidators([N]);const pe=()=>Z.updateValueAndValidity();Kt(j._rawValidators,pe),Kt(j._rawAsyncValidators,pe)}function _r(Z,j){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}const W={provide:gr,useExisting:(0,y.Gpc)(()=>_e)},ee=(()=>Promise.resolve())();let _e=(()=>{class Z extends gr{constructor(C,N,pe){super(),this.callSetDisabledState=pe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new ht({},et(C),Jt(N))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(C){ee.then(()=>{const N=this._findContainer(C.path);C.control=N.registerControl(C.name,C.control),Dt(C.control,C,this.callSetDisabledState),C.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(C)})}getControl(C){return this.form.get(C.path)}removeControl(C){ee.then(()=>{const N=this._findContainer(C.path);N&&N.removeControl(C.name),this._directives.delete(C)})}addFormGroup(C){ee.then(()=>{const N=this._findContainer(C.path),pe=new ht({});(function Zn(Z,j){kn(Z,j)})(pe,C),N.registerControl(C.name,pe),pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(C){ee.then(()=>{const N=this._findContainer(C.path);N&&N.removeControl(C.name)})}getFormGroup(C){return this.form.get(C.path)}updateModel(C,N){ee.then(()=>{this.form.get(C.path).setValue(N)})}setValue(C){this.control.setValue(C)}onSubmit(C){var N;return this.submitted=!0,function Cs(Z,j){Z._syncPendingControls(),j.forEach(C=>{const N=C.control;"submit"===N.updateOn&&N._pendingChange&&(C.viewToModelUpdate(N._pendingValue),N._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(C),"dialog"===(null==C||null===(N=C.target)||void 0===N?void 0:N.method)}onReset(){this.resetForm()}resetForm(C=void 0){this.form.reset(C),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(C){return C.pop(),C.length?this.form.get(C):this.form}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(_t,10),y.Y36(Ye,10),y.Y36(un,8))},Z.\u0275dir=y.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(C,N){1&C&&y.NdJ("submit",function(ot){return N.onSubmit(ot)})("reset",function(){return N.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([W]),y.qOj]}),Z})();function oe(Z,j){const C=Z.indexOf(j);C>-1&&Z.splice(C,1)}function G(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const se=class extends Le{constructor(j=null,C,N){super(Je(C),K(N,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),q(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=G(j)?j.value:j)}setValue(j,C={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(N=>N(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(j,C={}){this.setValue(j,C)}reset(j=this.defaultValue,C={}){this._applyFormState(j),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){oe(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){oe(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){G(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},Oi={provide:nn,useExisting:(0,y.Gpc)(()=>Hr)},Fi=(()=>Promise.resolve())();let Hr=(()=>{class Z extends nn{constructor(C,N,pe,ot,Bt,Zt){super(),this._changeDetectorRef=Bt,this.callSetDisabledState=Zt,this.control=new se,this._registered=!1,this.name="",this.update=new y.vpe,this._parent=C,this._setValidators(N),this._setAsyncValidators(pe),this.valueAccessor=function Ji(Z,j){if(!j)return null;let C,N,pe;return Array.isArray(j),j.forEach(ot=>{ot.constructor===Ge?C=ot:function ti(Z){return Object.getPrototypeOf(Z.constructor)===Ve}(ot)?N=ot:pe=ot}),pe||N||C||null}(0,ot)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const N=C.name.previousValue;this.formDirective.removeControl({name:N,path:this._getPath(N)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),function Pi(Z,j){if(!Z.hasOwnProperty("model"))return!1;const C=Z.model;return!!C.isFirstChange()||!Object.is(j,C.currentValue)}(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){Fi.then(()=>{var N;this.control.setValue(C,{emitViewToModelChange:!1}),null===(N=this._changeDetectorRef)||void 0===N||N.markForCheck()})}_updateDisabled(C){const N=C.isDisabled.currentValue,pe=0!==N&&(0,y.D6c)(N);Fi.then(()=>{var ot;pe&&!this.control.disabled?this.control.disable():!pe&&this.control.disabled&&this.control.enable(),null===(ot=this._changeDetectorRef)||void 0===ot||ot.markForCheck()})}_getPath(C){return this._parent?function zn(Z,j){return[...j.path,Z]}(C,this._parent):[C]}}return Z.\u0275fac=function(C){return new(C||Z)(y.Y36(gr,9),y.Y36(_t,10),y.Y36(Ye,10),y.Y36(qe,10),y.Y36(y.sBO,8),y.Y36(un,8))},Z.\u0275dir=y.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Oi]),y.qOj,y.TTD]}),Z})(),Cn=(()=>{class Z{}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275dir=y.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})(),pi=(()=>{class Z{}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({}),Z})();const An=new y.OlP("NgModelWithFormControlWarning");let ji=(()=>{class Z{constructor(){this._validator=Fe}ngOnChanges(C){if(this.inputName in C){const N=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(N),this._validator=this._enabled?this.createValidator(N):Fe,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275dir=y.lG2({type:Z,features:[y.TTD]}),Z})();const Ki={provide:_t,useExisting:(0,y.Gpc)(()=>ys),multi:!0};let ys=(()=>{class Z extends ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.D6c,this.createValidator=C=>yt}enabled(C){return C}}return Z.\u0275fac=function(){let j;return function(N){return(j||(j=y.n5z(Z)))(N||Z)}}(),Z.\u0275dir=y.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,N){2&C&&y.uIk("required",N._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([Ki]),y.qOj]}),Z})();const Gs={provide:_t,useExisting:(0,y.Gpc)(()=>vs),multi:!0};let vs=(()=>{class Z extends ji{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=C=>function pa(Z){return"number"==typeof Z?Z:parseInt(Z,10)}(C),this.createValidator=C=>function je(Z){return j=>rt(j.value)||!function ft(Z){return null!=Z&&"number"==typeof Z.length}(j.value)?null:j.value.length<Z?{minlength:{requiredLength:Z,actualLength:j.value.length}}:null}(C)}}return Z.\u0275fac=function(){let j;return function(N){return(j||(j=y.n5z(Z)))(N||Z)}}(),Z.\u0275dir=y.lG2({type:Z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(C,N){2&C&&y.uIk("minlength",N._enabled?N.minlength:null)},inputs:{minlength:"minlength"},features:[y._Bn([Gs]),y.qOj]}),Z})(),qt=(()=>{class Z{}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({imports:[pi]}),Z})(),Ws=(()=>{class Z{static withConfig(C){var N;return{ngModule:Z,providers:[{provide:un,useValue:null!==(N=C.callSetDisabledState)&&void 0!==N?N:Wn}]}}}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({imports:[qt]}),Z})(),xo=(()=>{class Z{static withConfig(C){var N,pe;return{ngModule:Z,providers:[{provide:An,useValue:null!==(N=C.warnOnNgModelWithFormControl)&&void 0!==N?N:"always"},{provide:un,useValue:null!==(pe=C.callSetDisabledState)&&void 0!==pe?pe:Wn}]}}}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({imports:[qt]}),Z})()},6550:(ln,ct,L)=>{"use strict";L.d(ct,{Dx:()=>nn,b2:()=>In,q6:()=>fn,se:()=>xe});var y=L(2223),g=L(4755);class ae extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends ae{static makeCurrent(){(0,g.HT)(new ye)}onAndCancel(K,z,q){return K.addEventListener(z,q),()=>{K.removeEventListener(z,q)}}dispatchEvent(K,z){K.dispatchEvent(z)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,z){return(z=z||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,z){return"window"===z?window:"document"===z?K:"body"===z?K.body:null}getBaseHref(K){const z=function De(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==z?null:function Ce(de){he=he||document.createElement("a"),he.setAttribute("href",de);const K=he.pathname;return"/"===K.charAt(0)?K:`/${K}`}(z)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,g.Mx)(document.cookie,K)}}let he,be=null,U=(()=>{class de{build(){return new XMLHttpRequest}}return de.\u0275fac=function(z){return new(z||de)},de.\u0275prov=y.Yz7({token:de,factory:de.\u0275fac}),de})();const Ie=new y.OlP("EventManagerPlugins");let Ue=(()=>{class de{constructor(z,q){this._zone=q,this._eventNameToPlugin=new Map,z.forEach(Oe=>{Oe.manager=this}),this._plugins=z.slice().reverse()}addEventListener(z,q,Oe){return this._findPluginFor(q).addEventListener(z,q,Oe)}getZone(){return this._zone}_findPluginFor(z){const q=this._eventNameToPlugin.get(z);if(q)return q;const Oe=this._plugins;for(let st=0;st<Oe.length;st++){const Le=Oe[st];if(Le.supports(z))return this._eventNameToPlugin.set(z,Le),Le}throw new Error(`No event manager plugin found for event ${z}`)}}return de.\u0275fac=function(z){return new(z||de)(y.LFG(Ie),y.LFG(y.R0b))},de.\u0275prov=y.Yz7({token:de,factory:de.\u0275fac}),de})();class ve{constructor(K){this._doc=K}}const Ve="ng-app-id";let qe=(()=>{class de{constructor(z,q,Oe,st={}){this.doc=z,this.appId=q,this.nonce=Oe,this.platformId=st,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.PM)(st),this.resetHostNodes()}addStyles(z){for(const q of z)1===this.changeUsageCount(q,1)&&this.onStyleAdded(q)}removeStyles(z){for(const q of z)this.changeUsageCount(q,-1)<=0&&this.onStyleRemoved(q)}ngOnDestroy(){const z=this.styleNodesInDOM;z&&(z.forEach(q=>q.remove()),z.clear());for(const q of this.getAllStyles())this.onStyleRemoved(q);this.resetHostNodes()}addHost(z){this.hostNodes.add(z);for(const q of this.getAllStyles())this.addStyleToHost(z,q)}removeHost(z){this.hostNodes.delete(z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(z){for(const q of this.hostNodes)this.addStyleToHost(q,z)}onStyleRemoved(z){var q,Oe;const st=this.styleRef;null===(q=st.get(z))||void 0===q||null===(Oe=q.elements)||void 0===Oe||Oe.forEach(Le=>Le.remove()),st.delete(z)}collectServerRenderedStyles(){var z;const q=null===(z=this.doc.head)||void 0===z?void 0:z.querySelectorAll(`style[${Ve}="${this.appId}"]`);if(null!=q&&q.length){const Oe=new Map;return q.forEach(st=>{null!=st.textContent&&Oe.set(st.textContent,st)}),Oe}return null}changeUsageCount(z,q){const Oe=this.styleRef;if(Oe.has(z)){const st=Oe.get(z);return st.usage+=q,st.usage}return Oe.set(z,{usage:q,elements:[]}),q}getStyleElement(z,q){const Oe=this.styleNodesInDOM,st=null==Oe?void 0:Oe.get(q);if((null==st?void 0:st.parentNode)===z)return Oe.delete(q),st.removeAttribute(Ve),st;{const Le=this.doc.createElement("style");return this.nonce&&Le.setAttribute("nonce",this.nonce),Le.textContent=q,this.platformIsServer&&Le.setAttribute(Ve,this.appId),Le}}addStyleToHost(z,q){var Oe;const st=this.getStyleElement(z,q);z.appendChild(st);const Le=this.styleRef,ht=null===(Oe=Le.get(q))||void 0===Oe?void 0:Oe.elements;ht?ht.push(st):Le.set(q,{elements:[st],usage:1})}resetHostNodes(){const z=this.hostNodes;z.clear(),z.add(this.doc.head)}}return de.\u0275fac=function(z){return new(z||de)(y.LFG(g.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},de.\u0275prov=y.Yz7({token:de,factory:de.\u0275fac}),de})();const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g,rt=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ye(de,K){return K.map(z=>z.replace(Me,de))}let xe=(()=>{class de{constructor(z,q,Oe,st,Le,ht,It,Gt=null){this.eventManager=z,this.sharedStylesHost=q,this.appId=Oe,this.removeStylesOnCompDestory=st,this.doc=Le,this.platformId=ht,this.ngZone=It,this.nonce=Gt,this.rendererByCompId=new Map,this.platformIsServer=(0,g.PM)(ht),this.defaultRenderer=new St(z,Le,It,this.platformIsServer)}createRenderer(z,q){if(!z||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===y.ifc.ShadowDom&&(q={...q,encapsulation:y.ifc.Emulated});const Oe=this.getOrCreateRenderer(z,q);return Oe instanceof je?Oe.applyToHost(z):Oe instanceof Pe&&Oe.applyStyles(),Oe}getOrCreateRenderer(z,q){const Oe=this.rendererByCompId;let st=Oe.get(q.id);if(!st){const Le=this.doc,ht=this.ngZone,It=this.eventManager,Gt=this.sharedStylesHost,zt=this.removeStylesOnCompDestory,rn=this.platformIsServer;switch(q.encapsulation){case y.ifc.Emulated:st=new je(It,Gt,q,this.appId,zt,Le,ht,rn);break;case y.ifc.ShadowDom:return new ce(It,Gt,z,q,Le,ht,this.nonce,rn);default:st=new Pe(It,Gt,q,zt,Le,ht,rn)}st.onDestroy=()=>Oe.delete(q.id),Oe.set(q.id,st)}return st}ngOnDestroy(){this.rendererByCompId.clear()}}return de.\u0275fac=function(z){return new(z||de)(y.LFG(Ue),y.LFG(qe),y.LFG(y.AFp),y.LFG(rt),y.LFG(g.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},de.\u0275prov=y.Yz7({token:de,factory:de.\u0275fac}),de})();class St{constructor(K,z,q,Oe){this.eventManager=K,this.doc=z,this.ngZone=q,this.platformIsServer=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,z){return z?this.doc.createElementNS(bt[z]||z,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,z){(yt(K)?K.content:K).appendChild(z)}insertBefore(K,z,q){K&&(yt(K)?K.content:K).insertBefore(z,q)}removeChild(K,z){K&&K.removeChild(z)}selectRootElement(K,z){let q="string"==typeof K?this.doc.querySelector(K):K;if(!q)throw new Error(`The selector "${K}" did not match any elements`);return z||(q.textContent=""),q}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,z,q,Oe){if(Oe){z=Oe+":"+z;const st=bt[Oe];st?K.setAttributeNS(st,z,q):K.setAttribute(z,q)}else K.setAttribute(z,q)}removeAttribute(K,z,q){if(q){const Oe=bt[q];Oe?K.removeAttributeNS(Oe,z):K.removeAttribute(`${q}:${z}`)}else K.removeAttribute(z)}addClass(K,z){K.classList.add(z)}removeClass(K,z){K.classList.remove(z)}setStyle(K,z,q,Oe){Oe&(y.JOm.DashCase|y.JOm.Important)?K.style.setProperty(z,q,Oe&y.JOm.Important?"important":""):K.style[z]=q}removeStyle(K,z,q){q&y.JOm.DashCase?K.style.removeProperty(z):K.style[z]=""}setProperty(K,z,q){K[z]=q}setValue(K,z){K.nodeValue=z}listen(K,z,q){if("string"==typeof K&&!(K=(0,g.q)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${z}`);return this.eventManager.addEventListener(K,z,this.decoratePreventDefault(q))}decoratePreventDefault(K){return z=>{if("__ngUnwrap__"===z)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(z)):K(z))&&(z.preventDefault(),z.returnValue=!1)}}}function yt(de){return"TEMPLATE"===de.tagName&&void 0!==de.content}class ce extends St{constructor(K,z,q,Oe,st,Le,ht,It){super(K,st,Le,It),this.sharedStylesHost=z,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=Ye(Oe.id,Oe.styles);for(const zt of Gt){const rn=document.createElement("style");ht&&rn.setAttribute("nonce",ht),rn.textContent=zt,this.shadowRoot.appendChild(rn)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,z){return super.appendChild(this.nodeOrShadowRoot(K),z)}insertBefore(K,z,q){return super.insertBefore(this.nodeOrShadowRoot(K),z,q)}removeChild(K,z){return super.removeChild(this.nodeOrShadowRoot(K),z)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pe extends St{constructor(K,z,q,Oe,st,Le,ht,It){super(K,st,Le,ht),this.sharedStylesHost=z,this.removeStylesOnCompDestory=Oe,this.rendererUsageCount=0,this.styles=It?Ye(It,q.styles):q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var K;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(K=this.onDestroy)||void 0===K||K.call(this))}}class je extends Pe{constructor(K,z,q,Oe,st,Le,ht,It){const Gt=Oe+"-"+q.id;super(K,z,q,st,Le,ht,It,Gt),this.contentAttr=function ft(de){return"_ngcontent-%COMP%".replace(Me,de)}(Gt),this.hostAttr=function _t(de){return"_nghost-%COMP%".replace(Me,de)}(Gt)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,z){const q=super.createElement(K,z);return super.setAttribute(q,this.contentAttr,""),q}}let We=(()=>{class de extends ve{constructor(z){super(z)}supports(z){return!0}addEventListener(z,q,Oe){return z.addEventListener(q,Oe,!1),()=>this.removeEventListener(z,q,Oe)}removeEventListener(z,q,Oe){return z.removeEventListener(q,Oe)}}return de.\u0275fac=function(z){return new(z||de)(y.LFG(g.K0))},de.\u0275prov=y.Yz7({token:de,factory:de.\u0275fac}),de})();const ke=["alt","control","meta","shift"],Fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},He={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let mt=(()=>{class de extends ve{constructor(z){super(z)}supports(z){return null!=de.parseEventName(z)}addEventListener(z,q,Oe){const st=de.parseEventName(q),Le=de.eventCallback(st.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(z,st.domEventName,Le))}static parseEventName(z){const q=z.toLowerCase().split("."),Oe=q.shift();if(0===q.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const st=de._normalizeKey(q.pop());let Le="",ht=q.indexOf("code");if(ht>-1&&(q.splice(ht,1),Le="code."),ke.forEach(Gt=>{const zt=q.indexOf(Gt);zt>-1&&(q.splice(zt,1),Le+=Gt+".")}),Le+=st,0!=q.length||0===st.length)return null;const It={};return It.domEventName=Oe,It.fullKey=Le,It}static matchEventFullKeyCode(z,q){let Oe=Fe[z.key]||z.key,st="";return q.indexOf("code.")>-1&&(Oe=z.code,st="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),ke.forEach(Le=>{Le!==Oe&&(0,He[Le])(z)&&(st+=Le+".")}),st+=Oe,st===q)}static eventCallback(z,q,Oe){return st=>{de.matchEventFullKeyCode(st,z)&&Oe.runGuarded(()=>q(st))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return de.\u0275fac=function(z){return new(z||de)(y.LFG(g.K0))},de.\u0275prov=y.Yz7({token:de,factory:de.\u0275fac}),de})();const fn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:g.bD},{provide:y.g9A,useValue:function At(){ye.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function Ot(){return(0,y.RDi)(document),document},deps:[]}]),Tn=new y.OlP(""),En=[{provide:y.rWj,useClass:class $e{addToWindow(K){y.dqk.getAngularTestability=(q,Oe=!0)=>{const st=K.findTestabilityInTree(q,Oe);if(null==st)throw new Error("Could not find testability for element.");return st},y.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(q=>{const Oe=y.dqk.getAllAngularTestabilities();let st=Oe.length,Le=!1;const ht=function(It){Le=Le||It,st--,0==st&&q(Le)};Oe.forEach(function(It){It.whenStable(ht)})})}findTestabilityInTree(K,z,q){if(null==z)return null;const Oe=K.getTestability(z);return null!=Oe?Oe:q?(0,g.q)().isShadowRoot(z)?this.findTestabilityInTree(K,z.host,!0):this.findTestabilityInTree(K,z.parentElement,!0):null}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Nt=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function et(){return new y.qLn},deps:[]},{provide:Ie,useClass:We,multi:!0,deps:[g.K0,y.R0b,y.Lbi]},{provide:Ie,useClass:mt,multi:!0,deps:[g.K0]},xe,qe,Ue,{provide:y.FYo,useExisting:xe},{provide:g.JF,useClass:U,deps:[]},[]];let In=(()=>{class de{constructor(z){}static withServerTransition(z){return{ngModule:de,providers:[{provide:y.AFp,useValue:z.appId}]}}}return de.\u0275fac=function(z){return new(z||de)(y.LFG(Tn,12))},de.\u0275mod=y.oAB({type:de}),de.\u0275inj=y.cJS({providers:[...Nt,...En],imports:[g.ez,y.hGG]}),de})(),nn=(()=>{class de{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}}return de.\u0275fac=function(z){return new(z||de)(y.LFG(g.K0))},de.\u0275prov=y.Yz7({token:de,factory:function(z){let q=null;return q=z?new z:function gr(){return new nn((0,y.LFG)(g.K0))}(),q},providedIn:"root"}),de})();typeof window<"u"&&window},96:(ln,ct,L)=>{"use strict";L.d(ct,{gz:()=>Fs,jw:()=>Hr,y6:()=>Ni,OD:()=>_e,eC:()=>Nt,wm:()=>Ya,wN:()=>Pr,F0:()=>Vt,rH:()=>ru,Bz:()=>Yi,Hx:()=>fe,fw:()=>ss});var y=L(2223),g=L(9751),ae=L(576),be=L(8996),De=L(9646),he=L(1135),Ce=L(4742),$e=L(4671),U=L(3268),Ie=L(7669),Ue=L(1810),ve=L(5403),Ve=L(9672);function qe(...M){const O=(0,Ie.yG)(M),D=(0,Ie.jO)(M),{args:F,keys:te}=(0,Ce.D)(M);if(0===F.length)return(0,be.D)([],O);const Ae=new g.y(function bt(M,O,D=$e.y){return F=>{Me(O,()=>{const{length:te}=M,Ae=new Array(te);let we=te,gt=te;for(let tn=0;tn<te;tn++)Me(O,()=>{const Rn=(0,be.D)(M[tn],O);let lr=!1;Rn.subscribe((0,ve.x)(F,mn=>{Ae[tn]=mn,lr||(lr=!0,gt--),gt||F.next(D(Ae.slice()))},()=>{--we||F.complete()}))},F)},F)}}(F,O,te?we=>(0,Ue.n)(te,we):$e.y));return D?Ae.pipe((0,U.Z)(D)):Ae}function Me(M,O,D){M?(0,Ve.f)(D,M,O):O()}var Ee=L(6805),vt=L(7272),it=L(8421);function Ge(M){return new g.y(O=>{(0,it.Xf)(M()).subscribe(O)})}var rt=L(9635);function ft(M,O){const D=(0,ae.m)(M)?M:()=>M,F=te=>te.error(D());return new g.y(O?te=>O.schedule(F,0,te):F)}var _t=L(515),Ye=L(727),xe=L(4482);function St(){return(0,xe.e)((M,O)=>{let D=null;M._refCount++;const F=(0,ve.x)(O,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(D=null);const te=M._connection,Ae=D;D=null,te&&(!Ae||te===Ae)&&te.unsubscribe(),O.unsubscribe()});M.subscribe(F),F.closed||(D=M.connect())})}class tt extends g.y{constructor(O,D){super(),this.source=O,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,xe.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,null==O||O.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Ye.w0;const D=this.getSubject();O.add(this.source.subscribe((0,ve.x)(D,void 0,()=>{this._teardown(),D.complete()},F=>{this._teardown(),D.error(F)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Ye.w0.EMPTY)}return O}refCount(){return St()(this)}}var pt=L(7579),yt=L(4755),ce=L(4004),Pe=L(3900),je=L(5698),We=L(8675),ke=L(9300),Fe=L(5577),He=L(590);function mt(M,O){return(0,ae.m)(O)?(0,Fe.z)(M,O,1):(0,Fe.z)(M,1)}var ut=L(8505);function Tt(M){return(0,xe.e)((O,D)=>{let Ae,F=null,te=!1;F=O.subscribe((0,ve.x)(D,void 0,void 0,we=>{Ae=(0,it.Xf)(M(we,Tt(M)(O))),F?(F.unsubscribe(),F=null,Ae.subscribe(D)):te=!0})),te&&(F.unsubscribe(),F=null,Ae.subscribe(D))})}var Pt=L(5026),sn=L(6590);function At(M){return M<=0?()=>_t.E:(0,xe.e)((O,D)=>{let F=[];O.subscribe((0,ve.x)(D,te=>{F.push(te),M<F.length&&F.shift()},()=>{for(const te of F)D.next(te);D.complete()},void 0,()=>{F=null}))})}var et=L(8068);function fn(M){return(0,xe.e)((O,D)=>{try{O.subscribe(D)}finally{D.add(M)}})}var Tn=L(8189),En=L(6550);const Nt="primary",In=Symbol("RouteTitle");class Lt{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const D=this.params[O];return Array.isArray(D)?D[0]:D}return null}getAll(O){if(this.has(O)){const D=this.params[O];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function rr(M){return new Lt(M)}function fr(M,O,D){const F=D.path.split("/");if(F.length>M.length||"full"===D.pathMatch&&(O.hasChildren()||F.length<M.length))return null;const te={};for(let Ae=0;Ae<F.length;Ae++){const we=F[Ae],gt=M[Ae];if(we.startsWith(":"))te[we.substring(1)]=gt;else if(we!==gt.path)return null}return{consumed:M.slice(0,F.length),posParams:te}}function nn(M,O){const D=M?Object.keys(M):void 0,F=O?Object.keys(O):void 0;if(!D||!F||D.length!=F.length)return!1;let te;for(let Ae=0;Ae<D.length;Ae++)if(te=D[Ae],!Lr(M[te],O[te]))return!1;return!0}function Lr(M,O){if(Array.isArray(M)&&Array.isArray(O)){if(M.length!==O.length)return!1;const D=[...M].sort(),F=[...O].sort();return D.every((te,Ae)=>F[Ae]===te)}return M===O}function sr(M){return M.length>0?M[M.length-1]:null}function nr(M){return function ye(M){return!!M&&(M instanceof g.y||(0,ae.m)(M.lift)&&(0,ae.m)(M.subscribe))}(M)?M:(0,y.QGY)(M)?(0,be.D)(Promise.resolve(M)):(0,De.of)(M)}const Ar={exact:function Vn(M,O,D){if(!Hn(M.segments,O.segments)||!kr(M.segments,O.segments,D)||M.numberOfChildren!==O.numberOfChildren)return!1;for(const F in O.children)if(!M.children[F]||!Vn(M.children[F],O.children[F],D))return!1;return!0},subset:vr},Mr={exact:function vn(M,O){return nn(M,O)},subset:function br(M,O){return Object.keys(O).length<=Object.keys(M).length&&Object.keys(O).every(D=>Lr(M[D],O[D]))},ignored:()=>!0};function Sn(M,O,D){return Ar[D.paths](M.root,O.root,D.matrixParams)&&Mr[D.queryParams](M.queryParams,O.queryParams)&&!("exact"===D.fragment&&M.fragment!==O.fragment)}function vr(M,O,D){return ur(M,O,O.segments,D)}function ur(M,O,D,F){if(M.segments.length>D.length){const te=M.segments.slice(0,D.length);return!(!Hn(te,D)||O.hasChildren()||!kr(te,D,F))}if(M.segments.length===D.length){if(!Hn(M.segments,D)||!kr(M.segments,D,F))return!1;for(const te in O.children)if(!M.children[te]||!vr(M.children[te],O.children[te],F))return!1;return!0}{const te=D.slice(0,M.segments.length),Ae=D.slice(M.segments.length);return!!(Hn(M.segments,te)&&kr(M.segments,te,F)&&M.children[Nt])&&ur(M.children[Nt],O,Ae,F)}}function kr(M,O,D){return O.every((F,te)=>Mr[D](M[te].parameters,F.parameters))}class Dr{constructor(O=new Kn([],{}),D={},F=null){this.root=O,this.queryParams=D,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class Kn{constructor(O,D){this.segments=O,this.children=D,this.parent=null,Object.values(D).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return an(this)}}class xn{constructor(O,D){this.path=O,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=rr(this.parameters)),this._parameterMap}toString(){return z(this)}}function Hn(M,O){return M.length===O.length&&M.every((D,F)=>D.path===O[F].path)}let fe=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return new ze},providedIn:"root"}),M})();class ze{parse(O){const D=new Wn(O);return new Dr(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(O){const D=`/${gn(O.root,!0)}`,F=function Oe(M){const O=Object.keys(M).map(D=>{const F=M[D];return Array.isArray(F)?F.map(te=>`${Fn(D)}=${Fn(te)}`).join("&"):`${Fn(D)}=${Fn(F)}`}).filter(D=>!!D);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${D}${F}${"string"==typeof O.fragment?`#${function mr(M){return encodeURI(M)}(O.fragment)}`:""}`}}const Mt=new ze;function an(M){return M.segments.map(O=>z(O)).join("/")}function gn(M,O){if(!M.hasChildren())return an(M);if(O){const D=M.children[Nt]?gn(M.children[Nt],!1):"",F=[];return Object.entries(M.children).forEach(([te,Ae])=>{te!==Nt&&F.push(`${te}:${gn(Ae,!1)}`)}),F.length>0?`${D}(${F.join("//")})`:D}{const D=function jt(M,O){let D=[];return Object.entries(M.children).forEach(([F,te])=>{F===Nt&&(D=D.concat(O(te,F)))}),Object.entries(M.children).forEach(([F,te])=>{F!==Nt&&(D=D.concat(O(te,F)))}),D}(M,(F,te)=>te===Nt?[gn(M.children[Nt],!1)]:[`${te}:${gn(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Nt]?`${an(M)}/${D[0]}`:`${an(M)}/(${D.join("//")})`}}function pr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fn(M){return pr(M).replace(/%3B/gi,";")}function Je(M){return pr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function de(M){return decodeURIComponent(M)}function K(M){return de(M.replace(/\+/g,"%20"))}function z(M){return`${Je(M.path)}${function q(M){return Object.keys(M).map(O=>`;${Je(O)}=${Je(M[O])}`).join("")}(M.parameters)}`}const st=/^[^\/()?;#]+/;function Le(M){const O=M.match(st);return O?O[0]:""}const ht=/^[^\/()?;=#]+/,Gt=/^[^=?&#]+/,rn=/^[^&#]+/;class Wn{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(O.length>0||Object.keys(D).length>0)&&(F[Nt]=new Kn(O,D)),F}parseSegment(){const O=Le(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(O),new xn(de(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const D=function It(M){const O=M.match(ht);return O?O[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const te=Le(this.remaining);te&&(F=te,this.capture(F))}O[de(D)]=de(F)}parseQueryParam(O){const D=function zt(M){const O=M.match(Gt);return O?O[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const we=function un(M){const O=M.match(rn);return O?O[0]:""}(this.remaining);we&&(F=we,this.capture(F))}const te=K(D),Ae=K(F);if(O.hasOwnProperty(te)){let we=O[te];Array.isArray(we)||(we=[we],O[te]=we),we.push(Ae)}else O[te]=Ae}parseParens(O){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Le(this.remaining),te=this.remaining[F.length];if("/"!==te&&")"!==te&&";"!==te)throw new y.vHH(4010,!1);let Ae;F.indexOf(":")>-1?(Ae=F.slice(0,F.indexOf(":")),this.capture(Ae),this.capture(":")):O&&(Ae=Nt);const we=this.parseChildren();D[Ae]=1===Object.keys(we).length?we[Nt]:new Kn([],we),this.consumeOptional("//")}return D}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new y.vHH(4011,!1)}}function zn(M){return M.segments.length>0?new Kn([],{[Nt]:M}):M}function Dt(M){const O={};for(const F of Object.keys(M.children)){const Ae=Dt(M.children[F]);if(F===Nt&&0===Ae.segments.length&&Ae.hasChildren())for(const[we,gt]of Object.entries(Ae.children))O[we]=gt;else(Ae.segments.length>0||Ae.hasChildren())&&(O[F]=Ae)}return function wt(M){if(1===M.numberOfChildren&&M.children[Nt]){const O=M.children[Nt];return new Kn(M.segments.concat(O.segments),O.children)}return M}(new Kn(M.segments,O))}function Kt(M){return M instanceof Dr}function kn(M){var O;let D;const Ae=zn(function F(we){const gt={};for(const Rn of we.children){const lr=F(Rn);gt[Rn.outlet]=lr}const tn=new Kn(we.url,gt);return we===M&&(D=tn),tn}(M.root));return null!==(O=D)&&void 0!==O?O:Ae}function Xn(M,O,D,F){let te=M;for(;te.parent;)te=te.parent;if(0===O.length)return _r(te,te,te,D,F);const Ae=function hi(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Zn(!0,0,M);let O=0,D=!1;const F=M.reduce((te,Ae,we)=>{if("object"==typeof Ae&&null!=Ae){if(Ae.outlets){const gt={};return Object.entries(Ae.outlets).forEach(([tn,Rn])=>{gt[tn]="string"==typeof Rn?Rn.split("/"):Rn}),[...te,{outlets:gt}]}if(Ae.segmentPath)return[...te,Ae.segmentPath]}return"string"!=typeof Ae?[...te,Ae]:0===we?(Ae.split("/").forEach((gt,tn)=>{0==tn&&"."===gt||(0==tn&&""===gt?D=!0:".."===gt?O++:""!=gt&&te.push(gt))}),te):[...te,Ae]},[]);return new Zn(D,O,F)}(O);if(Ae.toRoot())return _r(te,te,new Kn([],{}),D,F);const we=function Ds(M,O,D){if(M.isAbsolute)return new mi(O,!0,0);if(!D)return new mi(O,!1,NaN);if(null===D.parent)return new mi(D,!0,0);const F=Jn(M.commands[0])?0:1;return function yi(M,O,D){let F=M,te=O,Ae=D;for(;Ae>te;){if(Ae-=te,F=F.parent,!F)throw new y.vHH(4005,!1);te=F.segments.length}return new mi(F,!1,te-Ae)}(D,D.segments.length-1+F,M.numberOfDoubleDots)}(Ae,te,M),gt=we.processChildren?Pi(we.segmentGroup,we.index,Ae.commands):js(we.segmentGroup,we.index,Ae.commands);return _r(te,we.segmentGroup,gt,D,F)}function Jn(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Wr(M){return"object"==typeof M&&null!=M&&M.outlets}function _r(M,O,D,F,te){let we,Ae={};F&&Object.entries(F).forEach(([tn,Rn])=>{Ae[tn]=Array.isArray(Rn)?Rn.map(lr=>`${lr}`):`${Rn}`}),we=M===O?D:or(M,O,D);const gt=zn(Dt(we));return new Dr(gt,Ae,te)}function or(M,O,D){const F={};return Object.entries(M.children).forEach(([te,Ae])=>{F[te]=Ae===O?D:or(Ae,O,D)}),new Kn(M.segments,F)}class Zn{constructor(O,D,F){if(this.isAbsolute=O,this.numberOfDoubleDots=D,this.commands=F,O&&F.length>0&&Jn(F[0]))throw new y.vHH(4003,!1);const te=F.find(Wr);if(te&&te!==sr(F))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mi{constructor(O,D,F){this.segmentGroup=O,this.processChildren=D,this.index=F}}function js(M,O,D){if(M||(M=new Kn([],{})),0===M.segments.length&&M.hasChildren())return Pi(M,O,D);const F=function ti(M,O,D){let F=0,te=O;const Ae={match:!1,pathIndex:0,commandIndex:0};for(;te<M.segments.length;){if(F>=D.length)return Ae;const we=M.segments[te],gt=D[F];if(Wr(gt))break;const tn=`${gt}`,Rn=F<D.length-1?D[F+1]:null;if(te>0&&void 0===tn)break;if(tn&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!Zs(tn,Rn,we))return Ae;F+=2}else{if(!Zs(tn,{},we))return Ae;F++}te++}return{match:!0,pathIndex:te,commandIndex:F}}(M,O,D),te=D.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const Ae=new Kn(M.segments.slice(0,F.pathIndex),{});return Ae.children[Nt]=new Kn(M.segments.slice(F.pathIndex),M.children),Pi(Ae,0,te)}return F.match&&0===te.length?new Kn(M.segments,{}):F.match&&!M.hasChildren()?Cs(M,O,D):F.match?Pi(M,0,te):Cs(M,O,D)}function Pi(M,O,D){if(0===D.length)return new Kn(M.segments,{});{const F=function ns(M){return Wr(M[0])?M[0].outlets:{[Nt]:M}}(D),te={};if(!F[Nt]&&M.children[Nt]&&1===M.numberOfChildren&&0===M.children[Nt].segments.length){const Ae=Pi(M.children[Nt],O,D);return new Kn(M.segments,Ae.children)}return Object.entries(F).forEach(([Ae,we])=>{"string"==typeof we&&(we=[we]),null!==we&&(te[Ae]=js(M.children[Ae],O,we))}),Object.entries(M.children).forEach(([Ae,we])=>{void 0===F[Ae]&&(te[Ae]=we)}),new Kn(M.segments,te)}}function Cs(M,O,D){const F=M.segments.slice(0,O);let te=0;for(;te<D.length;){const Ae=D[te];if(Wr(Ae)){const tn=Ji(Ae.outlets);return new Kn(F,tn)}if(0===te&&Jn(D[0])){F.push(new xn(M.segments[O].path,ps(D[0]))),te++;continue}const we=Wr(Ae)?Ae.outlets[Nt]:`${Ae}`,gt=te<D.length-1?D[te+1]:null;we&&gt&&Jn(gt)?(F.push(new xn(we,ps(gt))),te+=2):(F.push(new xn(we,{})),te++)}return new Kn(F,{})}function Ji(M){const O={};return Object.entries(M).forEach(([D,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(O[D]=Cs(new Kn([],{}),0,F))}),O}function ps(M){const O={};return Object.entries(M).forEach(([D,F])=>O[D]=`${F}`),O}function Zs(M,O,D){return M==D.path&&nn(O,D.parameters)}const W="imperative";class ee{constructor(O,D){this.id=O,this.url=D}}class _e extends ee{constructor(O,D,F="imperative",te=null){super(O,D),this.type=0,this.navigationTrigger=F,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oe extends ee{constructor(O,D,F){super(O,D),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class G extends ee{constructor(O,D,F,te){super(O,D),this.reason=F,this.code=te,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class se extends ee{constructor(O,D,F,te){super(O,D),this.reason=F,this.code=te,this.type=16}}class Be extends ee{constructor(O,D,F,te){super(O,D),this.error=F,this.target=te,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xe extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dt extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends ee{constructor(O,D,F,te,Ae){super(O,D),this.urlAfterRedirects=F,this.state=te,this.shouldActivate=Ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class on extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends ee{constructor(O,D,F,te){super(O,D),this.urlAfterRedirects=F,this.state=te,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ar{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fi{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cn{constructor(O,D,F){this.routerEvent=O,this.position=D,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ni,this.attachRef=null}}let Ni=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(D,F){const te=this.getOrCreateContext(D);te.outlet=F,this.contexts.set(D,te)}onChildOutletDestroyed(D){const F=this.getContext(D);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let F=this.getContext(D);return F||(F=new Kr,this.contexts.set(D,F)),F}getContext(D){return this.contexts.get(D)||null}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class Mo{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const D=this.pathFromRoot(O);return D.length>1?D[D.length-2]:null}children(O){const D=pi(O,this._root);return D?D.children.map(F=>F.value):[]}firstChild(O){const D=pi(O,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(O){const D=rs(O,this._root);return D.length<2?[]:D[D.length-2].children.map(te=>te.value).filter(te=>te!==O)}pathFromRoot(O){return rs(O,this._root).map(D=>D.value)}}function pi(M,O){if(M===O.value)return O;for(const D of O.children){const F=pi(M,D);if(F)return F}return null}function rs(M,O){if(M===O.value)return[O];for(const D of O.children){const F=rs(M,D);if(F.length)return F.unshift(O),F}return[]}class Ur{constructor(O,D){this.value=O,this.children=D}toString(){return`TreeNode(${this.value})`}}function is(M){const O={};return M&&M.children.forEach(D=>O[D.value.outlet]=D),O}class bs extends Mo{constructor(O,D){super(O),this.snapshot=D,Ls(this,O)}toString(){return this.snapshot.toString()}}function An(M,O){const D=function Qs(M,O){const we=new Ss([],{},{},"",{},Nt,O,null,{});return new yo("",new Ur(we,[]))}(0,O),F=new he.X([new xn("",{})]),te=new he.X({}),Ae=new he.X({}),we=new he.X({}),gt=new he.X(""),tn=new Fs(F,te,we,gt,Ae,Nt,O,D.root);return tn.snapshot=D.root,new bs(new Ur(tn,[]),D)}class Fs{constructor(O,D,F,te,Ae,we,gt,tn){var Rn,lr;this.urlSubject=O,this.paramsSubject=D,this.queryParamsSubject=F,this.fragmentSubject=te,this.dataSubject=Ae,this.outlet=we,this.component=gt,this._futureSnapshot=tn,this.title=null!==(Rn=null===(lr=this.dataSubject)||void 0===lr?void 0:lr.pipe((0,ce.U)(mn=>mn[In])))&&void 0!==Rn?Rn:(0,De.of)(void 0),this.url=O,this.params=D,this.queryParams=F,this.fragment=te,this.data=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ce.U)(O=>rr(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ce.U)(O=>rr(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(M,O="emptyOnly"){const D=M.pathFromRoot;let F=0;if("always"!==O)for(F=D.length-1;F>=1;){const te=D[F],Ae=D[F-1];if(te.routeConfig&&""===te.routeConfig.path)F--;else{if(Ae.component)break;F--}}return function Si(M){return M.reduce((O,D)=>{var F;return{params:{...O.params,...D.params},data:{...O.data,...D.data},resolve:{...D.data,...O.resolve,...null===(F=D.routeConfig)||void 0===F?void 0:F.data,...D._resolvedData}}},{params:{},data:{},resolve:{}})}(D.slice(F))}class Ss{get title(){var O;return null===(O=this.data)||void 0===O?void 0:O[In]}constructor(O,D,F,te,Ae,we,gt,tn,Rn){this.url=O,this.params=D,this.queryParams=F,this.fragment=te,this.data=Ae,this.outlet=we,this.component=gt,this.routeConfig=tn,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yo extends Mo{constructor(O,D){super(D),this.url=O,Ls(this,D)}toString(){return Ro(this._root)}}function Ls(M,O){O.value._routerState=M,O.children.forEach(D=>Ls(M,D))}function Ro(M){const O=M.children.length>0?` { ${M.children.map(Ro).join(", ")} } `:"";return`${M.value}${O}`}function vo(M){if(M.snapshot){const O=M.snapshot,D=M._futureSnapshot;M.snapshot=D,nn(O.queryParams,D.queryParams)||M.queryParamsSubject.next(D.queryParams),O.fragment!==D.fragment&&M.fragmentSubject.next(D.fragment),nn(O.params,D.params)||M.paramsSubject.next(D.params),function gr(M,O){if(M.length!==O.length)return!1;for(let D=0;D<M.length;++D)if(!nn(M[D],O[D]))return!1;return!0}(O.url,D.url)||M.urlSubject.next(D.url),nn(O.data,D.data)||M.dataSubject.next(D.data)}else M.snapshot=M._futureSnapshot,M.dataSubject.next(M._futureSnapshot.data)}function gs(M,O){const D=nn(M.params,O.params)&&function ei(M,O){return Hn(M,O)&&M.every((D,F)=>nn(D.parameters,O[F].parameters))}(M.url,O.url);return D&&!(!M.parent!=!O.parent)&&(!M.parent||gs(M.parent,O.parent))}let es=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Ni),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(Ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:F,previousValue:te}=D.name;if(F)return;this.isTrackedInParentContexts(te)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(te)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var F;return(null===(F=this.parentContexts.getContext(D))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,F){var te;this.activated=D,this._activatedRoute=F,this.location.insert(D.hostView),null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,F){var te;if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=D;const Ae=this.location,gt=D.snapshot.component,tn=this.parentContexts.getOrCreateContext(this.name).children,Rn=new Uo(D,tn,Ae.injector);this.activated=Ae.createComponent(gt,{index:Ae.length,injector:Rn,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275dir=y.lG2({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),M})();class Uo{constructor(O,D,F){this.route=O,this.childContexts=D,this.parent=F}get(O,D){return O===Fs?this.route:O===Ni?this.childContexts:this.parent.get(O,D)}}const Ui=new y.OlP("");let Br=(()=>{class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var F;null===(F=this.outletDataSubscriptions.get(D))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:F}=D,te=qe([F.queryParams,F.params,F.data]).pipe((0,Pe.w)(([Ae,we,gt],tn)=>(gt={...Ae,...we,...gt},0===tn?(0,De.of)(gt):Promise.resolve(gt)))).subscribe(Ae=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(D);const we=(0,y.qFp)(F.component);if(we)for(const{templateName:gt}of we.inputs)D.activatedComponentRef.setInput(gt,Ae[gt]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,te)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();function _o(M,O,D){if(D&&M.shouldReuseRoute(O.value,D.value.snapshot)){const F=D.value;F._futureSnapshot=O.value;const te=function Ta(M,O,D){return O.children.map(F=>{for(const te of D.children)if(M.shouldReuseRoute(F.value,te.value.snapshot))return _o(M,F,te);return _o(M,F)})}(M,O,D);return new Ur(F,te)}{if(M.shouldAttach(O.value)){const Ae=M.retrieve(O.value);if(null!==Ae){const we=Ae.route;return we.value._futureSnapshot=O.value,we.children=O.children.map(gt=>_o(M,gt)),we}}const F=function ms(M){return new Fs(new he.X(M.url),new he.X(M.params),new he.X(M.queryParams),new he.X(M.fragment),new he.X(M.data),M.outlet,M.component,M)}(O.value),te=O.children.map(Ae=>_o(M,Ae));return new Ur(F,te)}}const di="ngNavigationCancelingError";function Hs(M,O){const{redirectTo:D,navigationBehaviorOptions:F}=Kt(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,te=Bs(!1,0,O);return te.url=D,te.navigationBehaviorOptions=F,te}function Bs(M,O,D){const F=new Error("NavigationCancelingError: "+(M||""));return F[di]=!0,F.cancellationCode=O,D&&(F.url=D),F}function gi(M){return pa(M)&&Kt(M.url)}function pa(M){return M&&M[di]}let ss=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275cmp=y.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(D,F){1&D&&y._UZ(0,"router-outlet")},dependencies:[es],encapsulation:2}),M})();function Ho(M){const O=M.children&&M.children.map(Ho),D=O?{...M,children:O}:{...M};return!D.component&&!D.loadComponent&&(O||D.loadChildren)&&D.outlet&&D.outlet!==Nt&&(D.component=ss),D}function Ti(M){return M.outlet||Nt}function vs(M){var O;if(!M)return null;if(null!==(O=M.routeConfig)&&void 0!==O&&O._injector)return M.routeConfig._injector;for(let D=M.parent;D;D=D.parent){const F=D.routeConfig;if(null!=F&&F._loadedInjector)return F._loadedInjector;if(null!=F&&F._injector)return F._injector}return null}class S{constructor(O,D,F,te,Ae){this.routeReuseStrategy=O,this.futureState=D,this.currState=F,this.forwardEvent=te,this.inputBindingEnabled=Ae}activate(O){const D=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,F,O),vo(this.futureState.root),this.activateChildRoutes(D,F,O)}deactivateChildRoutes(O,D,F){const te=is(D);O.children.forEach(Ae=>{const we=Ae.value.outlet;this.deactivateRoutes(Ae,te[we],F),delete te[we]}),Object.values(te).forEach(Ae=>{this.deactivateRouteAndItsChildren(Ae,F)})}deactivateRoutes(O,D,F){const te=O.value,Ae=D?D.value:null;if(te===Ae)if(te.component){const we=F.getContext(te.outlet);we&&this.deactivateChildRoutes(O,D,we.children)}else this.deactivateChildRoutes(O,D,F);else Ae&&this.deactivateRouteAndItsChildren(D,F)}deactivateRouteAndItsChildren(O,D){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,D):this.deactivateRouteAndOutlet(O,D)}detachAndStoreRouteSubtree(O,D){const F=D.getContext(O.value.outlet),te=F&&O.value.component?F.children:D,Ae=is(O);for(const we of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[we],te);if(F&&F.outlet){const we=F.outlet.detach(),gt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:we,route:O,contexts:gt})}}deactivateRouteAndOutlet(O,D){const F=D.getContext(O.value.outlet),te=F&&O.value.component?F.children:D,Ae=is(O);for(const we of Object.keys(Ae))this.deactivateRouteAndItsChildren(Ae[we],te);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(O,D,F){const te=is(D);O.children.forEach(Ae=>{this.activateRoutes(Ae,te[Ae.value.outlet],F),this.forwardEvent(new Hr(Ae.value.snapshot))}),O.children.length&&this.forwardEvent(new Oi(O.value.snapshot))}activateRoutes(O,D,F){const te=O.value,Ae=D?D.value:null;if(vo(te),te===Ae)if(te.component){const we=F.getOrCreateContext(te.outlet);this.activateChildRoutes(O,D,we.children)}else this.activateChildRoutes(O,D,F);else if(te.component){const we=F.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const gt=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),we.children.onOutletReAttached(gt.contexts),we.attachRef=gt.componentRef,we.route=gt.route.value,we.outlet&&we.outlet.attach(gt.componentRef,gt.route.value),vo(gt.route.value),this.activateChildRoutes(O,null,we.children)}else{const gt=vs(te.snapshot);we.attachRef=null,we.route=te,we.injector=gt,we.outlet&&we.outlet.activateWith(te,we.injector),this.activateChildRoutes(O,null,we.children)}}else this.activateChildRoutes(O,null,F)}}class ne{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class T{constructor(O,D){this.component=O,this.route=D}}function Q(M,O,D){const F=M._root;return Nn(F,O?O._root:null,D,[F.value])}function qt(M,O){const D=Symbol(),F=O.get(M,D);return F===D?"function"!=typeof M||(0,y.Z0I)(M)?O.get(M):M:F}function Nn(M,O,D,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=is(O);return M.children.forEach(we=>{(function er(M,O,D,F,te={canDeactivateChecks:[],canActivateChecks:[]}){const Ae=M.value,we=O?O.value:null,gt=D?D.getContext(M.value.outlet):null;if(we&&Ae.routeConfig===we.routeConfig){const tn=function yr(M,O,D){if("function"==typeof D)return D(M,O);switch(D){case"pathParamsChange":return!Hn(M.url,O.url);case"pathParamsOrQueryParamsChange":return!Hn(M.url,O.url)||!nn(M.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gs(M,O)||!nn(M.queryParams,O.queryParams);default:return!gs(M,O)}}(we,Ae,Ae.routeConfig.runGuardsAndResolvers);tn?te.canActivateChecks.push(new ne(F)):(Ae.data=we.data,Ae._resolvedData=we._resolvedData),Nn(M,O,Ae.component?gt?gt.children:null:D,F,te),tn&&gt&&gt.outlet&&gt.outlet.isActivated&&te.canDeactivateChecks.push(new T(gt.outlet.component,we))}else we&&Sr(O,gt,te),te.canActivateChecks.push(new ne(F)),Nn(M,null,Ae.component?gt?gt.children:null:D,F,te)})(we,Ae[we.value.outlet],D,F.concat([we.value]),te),delete Ae[we.value.outlet]}),Object.entries(Ae).forEach(([we,gt])=>Sr(gt,D.getContext(we),te)),te}function Sr(M,O,D){const F=is(M),te=M.value;Object.entries(F).forEach(([Ae,we])=>{Sr(we,te.component?O?O.children.getContext(Ae):null:O,D)}),D.canDeactivateChecks.push(new T(te.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,te))}function qi(M){return"function"==typeof M}function N(M){return M instanceof Ee.K||"EmptyError"===(null==M?void 0:M.name)}const pe=Symbol("INITIAL_VALUE");function ot(){return(0,Pe.w)(M=>qe(M.map(O=>O.pipe((0,je.q)(1),(0,We.O)(pe)))).pipe((0,ce.U)(O=>{for(const D of O)if(!0!==D){if(D===pe)return pe;if(!1===D||D instanceof Dr)return D}return!0}),(0,ke.h)(O=>O!==pe),(0,je.q)(1)))}function As(M){return(0,rt.z)((0,ut.b)(O=>{if(Kt(O))throw Hs(0,O)}),(0,ce.U)(O=>!0===O))}class so{constructor(O){this.segmentGroup=O||null}}class sa{constructor(O){this.urlTree=O}}function Mi(M){return ft(new so(M))}function Hi(M){return ft(new sa(M))}class ul{constructor(O,D){this.urlSerializer=O,this.urlTree=D}noMatchError(O){return new y.vHH(4002,!1)}lineralizeSegments(O,D){let F=[],te=D.root;for(;;){if(F=F.concat(te.segments),0===te.numberOfChildren)return(0,De.of)(F);if(te.numberOfChildren>1||!te.children[Nt])return ft(new y.vHH(4e3,!1));te=te.children[Nt]}}applyRedirectCommands(O,D,F){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),O,F)}applyRedirectCreateUrlTree(O,D,F,te){const Ae=this.createSegmentGroup(O,D.root,F,te);return new Dr(Ae,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(O,D){const F={};return Object.entries(O).forEach(([te,Ae])=>{if("string"==typeof Ae&&Ae.startsWith(":")){const gt=Ae.substring(1);F[te]=D[gt]}else F[te]=Ae}),F}createSegmentGroup(O,D,F,te){const Ae=this.createSegments(O,D.segments,F,te);let we={};return Object.entries(D.children).forEach(([gt,tn])=>{we[gt]=this.createSegmentGroup(O,tn,F,te)}),new Kn(Ae,we)}createSegments(O,D,F,te){return D.map(Ae=>Ae.path.startsWith(":")?this.findPosParam(O,Ae,te):this.findOrReturn(Ae,F))}findPosParam(O,D,F){const te=F[D.path.substring(1)];if(!te)throw new y.vHH(4001,!1);return te}findOrReturn(O,D){let F=0;for(const te of D){if(te.path===O.path)return D.splice(F),te;F++}return O}}const Ga={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oa(M,O,D,F,te){const Ae=cl(M,O,D);return Ae.matched?(F=function ji(M,O){var D;return M.providers&&!M._injector&&(M._injector=(0,y.MMx)(M.providers,O,`Route: ${M.path}`)),null!==(D=M._injector)&&void 0!==D?D:O}(O,F),function Es(M,O,D,F){const te=O.canMatch;if(!te||0===te.length)return(0,De.of)(!0);const Ae=te.map(we=>{const gt=qt(we,M);return nr(function Z(M){return M&&qi(M.canMatch)}(gt)?gt.canMatch(O,D):M.runInContext(()=>gt(O,D)))});return(0,De.of)(Ae).pipe(ot(),As())}(F,O,D).pipe((0,ce.U)(we=>!0===we?Ae:{...Ga}))):(0,De.of)(Ae)}function cl(M,O,D){var F,te;if(""===O.path)return"full"===O.pathMatch&&(M.hasChildren()||D.length>0)?{...Ga}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const we=(O.matcher||fr)(D,M,O);if(!we)return{...Ga};const gt={};Object.entries(null!==(F=we.posParams)&&void 0!==F?F:{}).forEach(([Rn,lr])=>{gt[Rn]=lr.path});const tn=we.consumed.length>0?{...gt,...we.consumed[we.consumed.length-1].parameters}:gt;return{matched:!0,consumedSegments:we.consumed,remainingSegments:D.slice(we.consumed.length),parameters:tn,positionalParamSegments:null!==(te=we.posParams)&&void 0!==te?te:{}}}function vi(M,O,D,F){return D.length>0&&function zo(M,O,D){return D.some(F=>Aa(M,O,F)&&Ti(F)!==Nt)}(M,D,F)?{segmentGroup:new Kn(O,Sc(F,new Kn(D,M.children))),slicedSegments:[]}:0===D.length&&function Wa(M,O,D){return D.some(F=>Aa(M,O,F))}(M,D,F)?{segmentGroup:new Kn(M.segments,Fu(M,0,D,F,M.children)),slicedSegments:D}:{segmentGroup:new Kn(M.segments,M.children),slicedSegments:D}}function Fu(M,O,D,F,te){const Ae={};for(const we of F)if(Aa(M,D,we)&&!te[Ti(we)]){const gt=new Kn([],{});Ae[Ti(we)]=gt}return{...te,...Ae}}function Sc(M,O){const D={};D[Nt]=O;for(const F of M)if(""===F.path&&Ti(F)!==Nt){const te=new Kn([],{});D[Ti(F)]=te}return D}function Aa(M,O,D){return(!(M.hasChildren()||O.length>0)||"full"!==D.pathMatch)&&""===D.path}class us{constructor(O,D,F,te,Ae,we,gt){this.injector=O,this.configLoader=D,this.rootComponentType=F,this.config=te,this.urlTree=Ae,this.paramsInheritanceStrategy=we,this.urlSerializer=gt,this.allowRedirects=!0,this.applyRedirects=new ul(this.urlSerializer,this.urlTree)}noMatchError(O){return new y.vHH(4002,!1)}recognize(){const O=vi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,Nt).pipe(Tt(D=>{if(D instanceof sa)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof so?this.noMatchError(D):D}),(0,ce.U)(D=>{const F=new Ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,{}),te=new Ur(F,D),Ae=new yo("",te),we=function _n(M,O,D=null,F=null){return Xn(kn(M),O,D,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return we.queryParams=this.urlTree.queryParams,Ae.url=this.urlSerializer.serialize(we),this.inheritParamsAndData(Ae._root),{state:Ae,tree:we}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O.root,Nt).pipe(Tt(F=>{throw F instanceof so?this.noMatchError(F):F}))}inheritParamsAndData(O){const D=O.value,F=Wi(D,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data),O.children.forEach(te=>this.inheritParamsAndData(te))}processSegmentGroup(O,D,F,te){return 0===F.segments.length&&F.hasChildren()?this.processChildren(O,D,F):this.processSegment(O,D,F,F.segments,te,!0)}processChildren(O,D,F){const te=[];for(const Ae of Object.keys(F.children))"primary"===Ae?te.unshift(Ae):te.push(Ae);return(0,be.D)(te).pipe(mt(Ae=>{const we=F.children[Ae],gt=function Gs(M,O){const D=M.filter(F=>Ti(F)===O);return D.push(...M.filter(F=>Ti(F)!==O)),D}(D,Ae);return this.processSegmentGroup(O,gt,we,Ae)}),(0,Pt.R)((Ae,we)=>(Ae.push(...we),Ae)),(0,sn.d)(null),function Ot(M,O){const D=arguments.length>=2;return F=>F.pipe(M?(0,ke.h)((te,Ae)=>M(te,Ae,F)):$e.y,At(1),D?(0,sn.d)(O):(0,et.T)(()=>new Ee.K))}(),(0,Fe.z)(Ae=>{if(null===Ae)return Mi(F);const we=Ii(Ae);return function oo(M){M.sort((O,D)=>O.value.outlet===Nt?-1:D.value.outlet===Nt?1:O.value.outlet.localeCompare(D.value.outlet))}(we),(0,De.of)(we)}))}processSegment(O,D,F,te,Ae,we){return(0,be.D)(D).pipe(mt(gt=>{var tn;return this.processSegmentAgainstRoute(null!==(tn=gt._injector)&&void 0!==tn?tn:O,D,gt,F,te,Ae,we).pipe(Tt(Rn=>{if(Rn instanceof so)return(0,De.of)(null);throw Rn}))}),(0,He.P)(gt=>!!gt),Tt(gt=>{if(N(gt))return function dl(M,O,D){return 0===O.length&&!M.children[D]}(F,te,Ae)?(0,De.of)([]):Mi(F);throw gt}))}processSegmentAgainstRoute(O,D,F,te,Ae,we,gt){return function ga(M,O,D,F){return!!(Ti(M)===F||F!==Nt&&Aa(O,D,M))&&("**"===M.path||cl(O,M,D).matched)}(F,te,Ae,we)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(O,te,F,Ae,we,gt):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,te,D,F,Ae,we):Mi(te):Mi(te)}expandSegmentAgainstRouteUsingRedirect(O,D,F,te,Ae,we){return"**"===te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,F,te,we):this.expandRegularSegmentAgainstRouteUsingRedirect(O,D,F,te,Ae,we)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,D,F,te){const Ae=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Hi(Ae):this.applyRedirects.lineralizeSegments(F,Ae).pipe((0,Fe.z)(we=>{const gt=new Kn(we,{});return this.processSegment(O,D,gt,we,te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,D,F,te,Ae,we){const{matched:gt,consumedSegments:tn,remainingSegments:Rn,positionalParamSegments:lr}=cl(D,te,Ae);if(!gt)return Mi(D);const mn=this.applyRedirects.applyRedirectCommands(tn,te.redirectTo,lr);return te.redirectTo.startsWith("/")?Hi(mn):this.applyRedirects.lineralizeSegments(te,mn).pipe((0,Fe.z)(Bi=>this.processSegment(O,F,D,Bi.concat(Rn),we,!1)))}matchSegmentAgainstRoute(O,D,F,te,Ae,we){let gt;if("**"===F.path){var tn,Rn;const lr=te.length>0?sr(te).parameters:{},mn=new Ss(te,lr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ma(F),Ti(F),null!==(tn=null!==(Rn=F.component)&&void 0!==Rn?Rn:F._loadedComponent)&&void 0!==tn?tn:null,F,cs(F));gt=(0,De.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]}),D.children={}}else gt=oa(D,F,te,O).pipe((0,ce.U)(({matched:lr,consumedSegments:mn,remainingSegments:Bi,parameters:lo})=>{var Xo,no;return lr?{snapshot:new Ss(mn,lo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ma(F),Ti(F),null!==(Xo=null!==(no=F.component)&&void 0!==no?no:F._loadedComponent)&&void 0!==Xo?Xo:null,F,cs(F)),consumedSegments:mn,remainingSegments:Bi}:null}));return gt.pipe((0,Pe.w)(lr=>{var mn;return null===lr?Mi(D):(O=null!==(mn=F._injector)&&void 0!==mn?mn:O,this.getChildConfig(O,F,te).pipe((0,Pe.w)(({routes:Bi})=>{var lo;const Xo=null!==(lo=F._loadedInjector)&&void 0!==lo?lo:O,{snapshot:no,consumedSegments:pl,remainingSegments:uo}=lr,{segmentGroup:gd,slicedSegments:hs}=vi(D,pl,uo,Bi);if(0===hs.length&&gd.hasChildren())return this.processChildren(Xo,Bi,gd).pipe((0,ce.U)(Xa=>null===Xa?null:[new Ur(no,Xa)]));if(0===Bi.length&&0===hs.length)return(0,De.of)([new Ur(no,[])]);const Uu=Ti(F)===Ae;return this.processSegment(Xo,Bi,gd,hs,Uu?Nt:Ae,!0).pipe((0,ce.U)(Xa=>[new Ur(no,Xa)]))})))}))}getChildConfig(O,D,F){return D.children?(0,De.of)({routes:D.children,injector:O}):D.loadChildren?void 0!==D._loadedRoutes?(0,De.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Js(M,O,D,F){const te=O.canLoad;if(void 0===te||0===te.length)return(0,De.of)(!0);const Ae=te.map(we=>{const gt=qt(we,M);return nr(function ls(M){return M&&qi(M.canLoad)}(gt)?gt.canLoad(O,D):M.runInContext(()=>gt(O,D)))});return(0,De.of)(Ae).pipe(ot(),As())}(O,D,F).pipe((0,Fe.z)(te=>te?this.configLoader.loadChildren(O,D).pipe((0,ut.b)(Ae=>{D._loadedRoutes=Ae.routes,D._loadedInjector=Ae.injector})):function eo(M){return ft(Bs(!1,3))}())):(0,De.of)({routes:[],injector:O})}}function $s(M){const O=M.value.routeConfig;return O&&""===O.path}function Ii(M){const O=[],D=new Set;for(const F of M){if(!$s(F)){O.push(F);continue}const te=O.find(Ae=>F.value.routeConfig===Ae.value.routeConfig);void 0!==te?(te.children.push(...F.children),D.add(te)):O.push(F)}for(const F of D){const te=Ii(F.children);O.push(new Ur(F.value,te))}return O.filter(F=>!D.has(F))}function ma(M){return M.data||{}}function cs(M){return M.resolve||{}}function V(M){return"string"==typeof M.title||null===M.title}function re(M){return(0,Pe.w)(O=>{const D=M(O);return D?(0,be.D)(D).pipe((0,ce.U)(()=>O)):(0,De.of)(O)})}const H=new y.OlP("ROUTES");let me=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,De.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const F=nr(D.loadComponent()).pipe((0,ce.U)(Ut),(0,ut.b)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=Ae}),fn(()=>{this.componentLoaders.delete(D)})),te=new tt(F,()=>new pt.x).pipe(St());return this.componentLoaders.set(D,te),te}loadChildren(D,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,De.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const Ae=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,ce.U)(gt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let tn,Rn;return Array.isArray(gt)?Rn=gt:(tn=gt.create(D).injector,Rn=tn.get(H,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:Rn.map(Ho),injector:tn}}),fn(()=>{this.childrenLoaders.delete(F)})),we=new tt(Ae,()=>new pt.x).pipe(St());return this.childrenLoaders.set(F,we),we}loadModuleFactoryOrRoutes(D){return nr(D()).pipe((0,ce.U)(Ut),(0,Fe.z)(F=>F instanceof y.YKP||Array.isArray(F)?(0,De.of)(F):(0,be.D)(this.compiler.compileModuleAsync(F))))}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ut(M){return function Ke(M){return M&&"object"==typeof M&&"default"in M}(M)?M.default:M}let Yt=(()=>{class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pt.x,this.configLoader=(0,y.f3M)(me),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(fe),this.rootContexts=(0,y.f3M)(Ni),this.inputBindingEnabled=null!==(0,y.f3M)(Ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,De.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=te=>this.events.next(new ar(te)),this.configLoader.onLoadStartListener=te=>this.events.next(new Un(te))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var F;const te=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...D,id:te})}setupNavigations(D){return this.transitions=new he.X({id:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:W,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ke.h)(F=>0!==F.id),(0,ce.U)(F=>({...F,extractedUrl:D.urlHandlingStrategy.extract(F.rawUrl)})),(0,Pe.w)(F=>{let te=!1,Ae=!1;return(0,De.of)(F).pipe((0,ut.b)(we=>{this.currentNavigation={id:we.id,initialUrl:we.rawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(we=>{var gt;const tn=D.browserUrlTree.toString(),Rn=!D.navigated||we.extractedUrl.toString()!==tn||tn!==D.currentUrlTree.toString(),lr=null!==(gt=we.extras.onSameUrlNavigation)&&void 0!==gt?gt:D.onSameUrlNavigation;if(!Rn&&"reload"!==lr){const mn="";return this.events.next(new se(we.id,D.serializeUrl(F.rawUrl),mn,0)),D.rawUrlTree=we.rawUrl,we.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return Qn(we.source)&&(D.browserUrlTree=we.extractedUrl),(0,De.of)(we).pipe((0,Pe.w)(mn=>{var Bi,lo;const Xo=null===(Bi=this.transitions)||void 0===Bi?void 0:Bi.getValue();return this.events.next(new _e(mn.id,this.urlSerializer.serialize(mn.extractedUrl),mn.source,mn.restoredState)),Xo!==(null===(lo=this.transitions)||void 0===lo?void 0:lo.getValue())?_t.E:Promise.resolve(mn)}),function Lu(M,O,D,F,te,Ae){return(0,Fe.z)(we=>function Tc(M,O,D,F,te,Ae,we="emptyOnly"){return new us(M,O,D,F,te,we,Ae).recognize()}(M,O,D,F,we.extractedUrl,te,Ae).pipe((0,ce.U)(({state:gt,tree:tn})=>({...we,targetSnapshot:gt,urlAfterRedirects:tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,ut.b)(mn=>{if(F.targetSnapshot=mn.targetSnapshot,F.urlAfterRedirects=mn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mn.urlAfterRedirects},"eager"===D.urlUpdateStrategy){if(!mn.extras.skipLocationChange){const lo=D.urlHandlingStrategy.merge(mn.urlAfterRedirects,mn.rawUrl);D.setBrowserUrl(lo,mn)}D.browserUrlTree=mn.urlAfterRedirects}const Bi=new Xe(mn.id,this.urlSerializer.serialize(mn.extractedUrl),this.urlSerializer.serialize(mn.urlAfterRedirects),mn.targetSnapshot);this.events.next(Bi)}));if(Rn&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:mn,extractedUrl:Bi,source:lo,restoredState:Xo,extras:no}=we,pl=new _e(mn,this.urlSerializer.serialize(Bi),lo,Xo);this.events.next(pl);const uo=An(0,this.rootComponentType).snapshot;return F={...we,targetSnapshot:uo,urlAfterRedirects:Bi,extras:{...no,skipLocationChange:!1,replaceUrl:!1}},(0,De.of)(F)}{const mn="";return this.events.next(new se(we.id,D.serializeUrl(F.extractedUrl),mn,1)),D.rawUrlTree=we.rawUrl,we.resolve(null),_t.E}}),(0,ut.b)(we=>{const gt=new dt(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(gt)}),(0,ce.U)(we=>F={...we,guards:Q(we.targetSnapshot,we.currentSnapshot,this.rootContexts)}),function Bt(M,O){return(0,Fe.z)(D=>{const{targetSnapshot:F,currentSnapshot:te,guards:{canActivateChecks:Ae,canDeactivateChecks:we}}=D;return 0===we.length&&0===Ae.length?(0,De.of)({...D,guardsResult:!0}):function Zt(M,O,D,F){return(0,be.D)(M).pipe((0,Fe.z)(te=>function xr(M,O,D,F,te){const Ae=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!Ae||0===Ae.length)return(0,De.of)(!0);const we=Ae.map(gt=>{var tn;const Rn=null!==(tn=vs(O))&&void 0!==tn?tn:te,lr=qt(gt,Rn);return nr(function xo(M){return M&&qi(M.canDeactivate)}(lr)?lr.canDeactivate(M,O,D,F):Rn.runInContext(()=>lr(M,O,D,F))).pipe((0,He.P)())});return(0,De.of)(we).pipe(ot())}(te.component,te.route,D,O,F)),(0,He.P)(te=>!0!==te,!0))}(we,F,te,M).pipe((0,Fe.z)(gt=>gt&&function Ts(M){return"boolean"==typeof M}(gt)?function pn(M,O,D,F){return(0,be.D)(O).pipe(mt(te=>(0,vt.z)(function Rr(M,O){return null!==M&&O&&O(new fi(M)),(0,De.of)(!0)}(te.route.parent,F),function jr(M,O){return null!==M&&O&&O(new Fi(M)),(0,De.of)(!0)}(te.route,F),function Qr(M,O,D){const F=O[O.length-1],Ae=O.slice(0,O.length-1).reverse().map(we=>function Re(M){const O=M.routeConfig?M.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:M,guards:O}:null}(we)).filter(we=>null!==we).map(we=>Ge(()=>{const gt=we.guards.map(tn=>{var Rn;const lr=null!==(Rn=vs(we.node))&&void 0!==Rn?Rn:D,mn=qt(tn,lr);return nr(function Ws(M){return M&&qi(M.canActivateChild)}(mn)?mn.canActivateChild(F,M):lr.runInContext(()=>mn(F,M))).pipe((0,He.P)())});return(0,De.of)(gt).pipe(ot())}));return(0,De.of)(Ae).pipe(ot())}(M,te.path,D),function wr(M,O,D){const F=O.routeConfig?O.routeConfig.canActivate:null;if(!F||0===F.length)return(0,De.of)(!0);const te=F.map(Ae=>Ge(()=>{var we;const gt=null!==(we=vs(O))&&void 0!==we?we:D,tn=qt(Ae,gt);return nr(function _s(M){return M&&qi(M.canActivate)}(tn)?tn.canActivate(O,M):gt.runInContext(()=>tn(O,M))).pipe((0,He.P)())}));return(0,De.of)(te).pipe(ot())}(M,te.route,D))),(0,He.P)(te=>!0!==te,!0))}(F,Ae,M,O):(0,De.of)(gt)),(0,ce.U)(gt=>({...D,guardsResult:gt})))})}(this.environmentInjector,we=>this.events.next(we)),(0,ut.b)(we=>{if(F.guardsResult=we.guardsResult,Kt(we.guardsResult))throw Hs(0,we.guardsResult);const gt=new xt(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.events.next(gt)}),(0,ke.h)(we=>!!we.guardsResult||(D.restoreHistory(we),this.cancelNavigationTransition(we,"",3),!1)),re(we=>{if(we.guards.canActivateChecks.length)return(0,De.of)(we).pipe((0,ut.b)(gt=>{const tn=new on(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(tn)}),(0,Pe.w)(gt=>{let tn=!1;return(0,De.of)(gt).pipe(function Ka(M,O){return(0,Fe.z)(D=>{const{targetSnapshot:F,guards:{canActivateChecks:te}}=D;if(!te.length)return(0,De.of)(D);let Ae=0;return(0,be.D)(te).pipe(mt(we=>function qa(M,O,D,F){const te=M.routeConfig,Ae=M._resolve;return void 0!==(null==te?void 0:te.title)&&!V(te)&&(Ae[In]=te.title),function Po(M,O,D,F){const te=function Bu(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===te.length)return(0,De.of)({});const Ae={};return(0,be.D)(te).pipe((0,Fe.z)(we=>function Rl(M,O,D,F){var te;const Ae=null!==(te=vs(O))&&void 0!==te?te:F,we=qt(M,Ae);return nr(we.resolve?we.resolve(O,D):Ae.runInContext(()=>we(O,D)))}(M[we],O,D,F).pipe((0,He.P)(),(0,ut.b)(gt=>{Ae[we]=gt}))),At(1),function Jt(M){return(0,ce.U)(()=>M)}(Ae),Tt(we=>N(we)?_t.E:ft(we)))}(Ae,M,O,F).pipe((0,ce.U)(we=>(M._resolvedData=we,M.data=Wi(M,D).resolve,te&&V(te)&&(M.data[In]=te.title),null)))}(we.route,F,M,O)),(0,ut.b)(()=>Ae++),At(1),(0,Fe.z)(we=>Ae===te.length?(0,De.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,ut.b)({next:()=>tn=!0,complete:()=>{tn||(D.restoreHistory(gt),this.cancelNavigationTransition(gt,"",2))}}))}),(0,ut.b)(gt=>{const tn=new dn(gt.id,this.urlSerializer.serialize(gt.extractedUrl),this.urlSerializer.serialize(gt.urlAfterRedirects),gt.targetSnapshot);this.events.next(tn)}))}),re(we=>{const gt=tn=>{var Rn;const lr=[];null!==(Rn=tn.routeConfig)&&void 0!==Rn&&Rn.loadComponent&&!tn.routeConfig._loadedComponent&&lr.push(this.configLoader.loadComponent(tn.routeConfig).pipe((0,ut.b)(mn=>{tn.component=mn}),(0,ce.U)(()=>{})));for(const mn of tn.children)lr.push(...gt(mn));return lr};return qe(gt(we.targetSnapshot.root)).pipe((0,sn.d)(),(0,je.q)(1))}),re(()=>this.afterPreactivation()),(0,ce.U)(we=>{const gt=function Zo(M,O,D){const F=_o(M,O._root,D?D._root:void 0);return new bs(F,O)}(D.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return F={...we,targetRouterState:gt}}),(0,ut.b)(we=>{D.currentUrlTree=we.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl),D.routerState=we.targetRouterState,"deferred"===D.urlUpdateStrategy&&(we.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,we),D.browserUrlTree=we.urlAfterRedirects)}),((M,O,D,F)=>(0,ce.U)(te=>(new S(O,te.targetRouterState,te.currentRouterState,D,F).activate(M),te)))(this.rootContexts,D.routeReuseStrategy,we=>this.events.next(we),this.inputBindingEnabled),(0,je.q)(1),(0,ut.b)({next:we=>{var gt;te=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new oe(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),null===(gt=D.titleStrategy)||void 0===gt||gt.updateTitle(we.targetRouterState.snapshot),we.resolve(!0)},complete:()=>{te=!0}}),fn(()=>{var we;te||Ae||this.cancelNavigationTransition(F,"",1),(null===(we=this.currentNavigation)||void 0===we?void 0:we.id)===F.id&&(this.currentNavigation=null)}),Tt(we=>{if(Ae=!0,pa(we)){gi(we)||(D.navigated=!0,D.restoreHistory(F,!0));const tn=new G(F.id,this.urlSerializer.serialize(F.extractedUrl),we.message,we.cancellationCode);if(this.events.next(tn),gi(we)){const Rn=D.urlHandlingStrategy.merge(we.url,D.rawUrlTree),lr={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||Qn(F.source)};D.scheduleNavigation(Rn,W,null,lr,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{var gt;D.restoreHistory(F,!0);const tn=new Be(F.id,this.urlSerializer.serialize(F.extractedUrl),we,null!==(gt=F.targetSnapshot)&&void 0!==gt?gt:void 0);this.events.next(tn);try{F.resolve(D.errorHandler(we))}catch(Rn){F.reject(Rn)}}return _t.E}))}))}cancelNavigationTransition(D,F,te){const Ae=new G(D.id,this.urlSerializer.serialize(D.extractedUrl),F,te);this.events.next(Ae),D.resolve(!1)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Qn(M){return M!==W}let yn=(()=>{class M{buildTitle(D){let F,te=D.root;for(;void 0!==te;){var Ae;F=null!==(Ae=this.getResolvedTitleForRoute(te))&&void 0!==Ae?Ae:F,te=te.children.find(we=>we.outlet===Nt)}return F}getResolvedTitleForRoute(D){return D.data[In]}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(zr)},providedIn:"root"}),M})(),zr=(()=>{class M extends yn{constructor(D){super(),this.title=D}updateTitle(D){const F=this.buildTitle(D);void 0!==F&&this.title.setTitle(F)}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(En.Dx))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Pr=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(ts)},providedIn:"root"}),M})();class Fr{shouldDetach(O){return!1}store(O,D){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,D){return O.routeConfig===D.routeConfig}}let ts=(()=>{class M extends Fr{}return M.\u0275fac=function(){let O;return function(F){return(O||(O=y.n5z(M)))(F||M)}}(),M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Qt=new y.OlP("",{providedIn:"root",factory:()=>({})});let Gr=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(ws)},providedIn:"root"}),M})(),ws=(()=>{class M{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,F){return D}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var ds=(()=>((ds=ds||{})[ds.COMPLETE=0]="COMPLETE",ds[ds.FAILED=1]="FAILED",ds[ds.REDIRECTING=2]="REDIRECTING",ds))();function Ln(M,O){M.events.pipe((0,ke.h)(D=>D instanceof oe||D instanceof G||D instanceof Be||D instanceof se),(0,ce.U)(D=>D instanceof oe||D instanceof se?ds.COMPLETE:D instanceof G&&(0===D.code||1===D.code)?ds.REDIRECTING:ds.FAILED),(0,ke.h)(D=>D!==ds.REDIRECTING),(0,je.q)(1)).subscribe(()=>{O()})}function Gn(M){throw M}function ya(M,O,D){return O.parse("/")}const Mn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ze={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vt=(()=>{class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var D;if("computed"===this.canceledNavigationResolution)return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var D,F;this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(Qt,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||Gn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ya,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(Gr),this.routeReuseStrategy=(0,y.f3M)(Pr),this.titleStrategy=(0,y.f3M)(yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(D=null===(F=(0,y.f3M)(H,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==D?D:[],this.navigationTransitions=(0,y.f3M)(Yt),this.urlSerializer=(0,y.f3M)(fe),this.location=(0,y.f3M)(yt.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(Ui,{optional:!0}),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=An(0,null),this.navigationTransitions.setupNavigations(this).subscribe(te=>{var Ae;this.lastSuccessfulId=te.id,this.currentPageId=null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0},te=>{this.console.warn(`Unhandled Navigation Error: ${te}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),W,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const F="popstate"===D.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,F,D.state)},0)}))}navigateToSyncWithBrowser(D,F,te){const Ae={replaceUrl:!0},we=null!=te&&te.navigationId?te:null;if(te){const tn={...te};delete tn.navigationId,delete tn.\u0275routerPageId,0!==Object.keys(tn).length&&(Ae.state=tn)}const gt=this.parseUrl(D);this.scheduleNavigation(gt,F,we,Ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,F={}){const{relativeTo:te,queryParams:Ae,fragment:we,queryParamsHandling:gt,preserveFragment:tn}=F,Rn=tn?this.currentUrlTree.fragment:we;let mn,lr=null;switch(gt){case"merge":lr={...this.currentUrlTree.queryParams,...Ae};break;case"preserve":lr=this.currentUrlTree.queryParams;break;default:lr=Ae||null}null!==lr&&(lr=this.removeEmptyProps(lr));try{mn=kn(te?te.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),mn=this.currentUrlTree.root}return Xn(mn,D,lr,null!=Rn?Rn:null)}navigateByUrl(D,F={skipLocationChange:!1}){const te=Kt(D)?D:this.parseUrl(D),Ae=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(Ae,W,null,F)}navigate(D,F={skipLocationChange:!1}){return function Ks(M){for(let O=0;O<M.length;O++)if(null==M[O])throw new y.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,F),F)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let F;try{F=this.urlSerializer.parse(D)}catch(te){F=this.malformedUriErrorHandler(te,this.urlSerializer,D)}return F}isActive(D,F){let te;if(te=!0===F?{...Mn}:!1===F?{...Ze}:F,Kt(D))return Sn(this.currentUrlTree,D,te);const Ae=this.parseUrl(D);return Sn(this.currentUrlTree,Ae,te)}removeEmptyProps(D){return Object.keys(D).reduce((F,te)=>{const Ae=D[te];return null!=Ae&&(F[te]=Ae),F},{})}scheduleNavigation(D,F,te,Ae,we){if(this.disposed)return Promise.resolve(!1);let gt,tn,Rn;we?(gt=we.resolve,tn=we.reject,Rn=we.promise):Rn=new Promise((mn,Bi)=>{gt=mn,tn=Bi});const lr=this.pendingTasks.add();return Ln(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(lr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:Ae,resolve:gt,reject:tn,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(mn=>Promise.reject(mn))}setBrowserUrl(D,F){const te=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(te)||F.extras.replaceUrl){const gt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(te,"",gt)}else{var Ae;const we={...F.extras.state,...this.generateNgRouterState(F.id,(null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0)+1)};this.location.go(te,"",we)}}restoreHistory(D,F=!1){if("computed"===this.canceledNavigationResolution){var te,Ae;const we=null!==(te=this.browserPageId)&&void 0!==te?te:this.currentPageId,gt=this.currentPageId-we;0!==gt?this.location.historyGo(gt):this.currentUrlTree===(null===(Ae=this.getCurrentNavigation())||void 0===Ae?void 0:Ae.finalUrl)&&0===gt&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,F){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:F}:{navigationId:D}}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),ru=(()=>{class M{constructor(D,F,te,Ae,we,gt){var tn;this.router=D,this.route=F,this.tabIndexAttribute=te,this.renderer=Ae,this.el=we,this.locationStrategy=gt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pt.x;const Rn=null===(tn=we.nativeElement.tagName)||void 0===tn?void 0:tn.toLowerCase();this.isAnchorElement="a"===Rn||"area"===Rn,this.isAnchorElement?this.subscription=D.events.subscribe(lr=>{lr instanceof oe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,y.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,y.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,y.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,F,te,Ae,we){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||F||te||Ae||we||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;this.href=null!==this.urlTree&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const F=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(D,F){const te=this.renderer,Ae=this.el.nativeElement;null!==F?te.setAttribute(Ae,D,F):te.removeAttribute(Ae,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(D){return new(D||M)(y.Y36(Vt),y.Y36(Fs),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(yt.S$))},M.\u0275dir=y.lG2({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,F){1&D&&y.NdJ("click",function(Ae){return F.onClick(Ae.button,Ae.ctrlKey,Ae.shiftKey,Ae.altKey,Ae.metaKey)}),2&D&&y.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),M})();class xl{}let Ya=(()=>{class M{preload(D,F){return F().pipe(Tt(()=>(0,De.of)(null)))}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Za=(()=>{class M{constructor(D,F,te,Ae,we){this.router=D,this.injector=te,this.preloadingStrategy=Ae,this.loader=we}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(D=>D instanceof oe),mt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,F){const te=[];for(const tn of F){var Ae,we;tn.providers&&!tn._injector&&(tn._injector=(0,y.MMx)(tn.providers,D,`Route: ${tn.path}`));const Rn=null!==(Ae=tn._injector)&&void 0!==Ae?Ae:D,lr=null!==(we=tn._loadedInjector)&&void 0!==we?we:Rn;var gt;(tn.loadChildren&&!tn._loadedRoutes&&void 0===tn.canLoad||tn.loadComponent&&!tn._loadedComponent)&&te.push(this.preloadConfig(Rn,tn)),(tn.children||tn._loadedRoutes)&&te.push(this.processRoutes(lr,null!==(gt=tn.children)&&void 0!==gt?gt:tn._loadedRoutes))}return(0,be.D)(te).pipe((0,Tn.J)())}preloadConfig(D,F){return this.preloadingStrategy.preload(F,()=>{let te;te=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(D,F):(0,De.of)(null);const Ae=te.pipe((0,Fe.z)(we=>{var gt;return null===we?(0,De.of)(void 0):(F._loadedRoutes=we.routes,F._loadedInjector=we.injector,this.processRoutes(null!==(gt=we.injector)&&void 0!==gt?gt:D,we.routes))}));if(F.loadComponent&&!F._loadedComponent){const we=this.loader.loadComponent(F);return(0,be.D)([Ae,we]).pipe((0,Tn.J)())}return Ae})}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(Vt),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(xl),y.LFG(me))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Ac=new y.OlP("");let Mc=(()=>{class M{constructor(D,F,te,Ae,we={}){this.urlSerializer=D,this.transitions=F,this.viewportScroller=te,this.zone=Ae,this.options=we,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},we.scrollPositionRestoration=we.scrollPositionRestoration||"disabled",we.anchorScrolling=we.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof oe?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof se&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Cn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var D,F;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return M.\u0275fac=function(D){y.$Z()},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();function ir(M,O){return{\u0275kind:M,\u0275providers:O}}function Nl(){const M=(0,y.f3M)(y.zs3);return O=>{var D,F;const te=M.get(y.z2F);if(O!==te.components[0])return;const Ae=M.get(Vt),we=M.get(ri);1===M.get(Rc)&&Ae.initialNavigation(),null===(D=M.get(Ma,null,y.XFs.Optional))||void 0===D||D.setUpPreloading(),null===(F=M.get(Ac,null,y.XFs.Optional))||void 0===F||F.init(),Ae.resetRootComponentType(te.componentTypes[0]),we.closed||(we.next(),we.complete(),we.unsubscribe())}}const ri=new y.OlP("",{factory:()=>new pt.x}),Rc=new y.OlP("",{providedIn:"root",factory:()=>1}),Ma=new y.OlP("");function fl(M){return ir(0,[{provide:Ma,useExisting:Za},{provide:xl,useExisting:M}])}const li=new y.OlP("ROUTER_FORROOT_GUARD"),Ir=[yt.Ye,{provide:fe,useClass:ze},Vt,Ni,{provide:Fs,useFactory:function ai(M){return M.routerState.root},deps:[Vt]},me,[]];function Ra(){return new y.PXZ("Router",Vt)}let Yi=(()=>{class M{constructor(D){}static forRoot(D,F){return{ngModule:M,providers:[Ir,[],{provide:H,multi:!0,useValue:D},{provide:li,useFactory:Ft,deps:[[Vt,new y.FiY,new y.tp0]]},{provide:Qt,useValue:F||{}},null!=F&&F.useHash?{provide:yt.S$,useClass:yt.Do}:{provide:yt.S$,useClass:yt.b0},{provide:Ac,useFactory:()=>{const M=(0,y.f3M)(yt.EM),O=(0,y.f3M)(y.R0b),D=(0,y.f3M)(Qt),F=(0,y.f3M)(Yt),te=(0,y.f3M)(fe);return D.scrollOffset&&M.setOffset(D.scrollOffset),new Mc(te,F,M,O,D)}},null!=F&&F.preloadingStrategy?fl(F.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Ra},null!=F&&F.initialNavigation?Zi(F):[],null!=F&&F.bindToComponentInputs?ir(8,[Br,{provide:Ui,useExisting:Br}]).\u0275providers:[],[{provide:Tr,useFactory:Nl},{provide:y.tb,multi:!0,useExisting:Tr}]]}}static forChild(D){return{ngModule:M,providers:[{provide:H,multi:!0,useValue:D}]}}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(li,8))},M.\u0275mod=y.oAB({type:M}),M.\u0275inj=y.cJS({}),M})();function Ft(M){return"guarded"}function Zi(M){return["disabled"===M.initialNavigation?ir(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const O=(0,y.f3M)(Vt);return()=>{O.setUpLocationChangeListener()}}},{provide:Rc,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?ir(2,[{provide:Rc,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:O=>{const D=O.get(yt.V_,Promise.resolve());return()=>D.then(()=>new Promise(F=>{const te=O.get(Vt),Ae=O.get(ri);Ln(te,()=>{F(!0)}),O.get(Yt).afterPreactivation=()=>(F(!0),Ae.closed?(0,De.of)(void 0):Ae),te.initialNavigation()}))}}]).\u0275providers:[]]}const Tr=new y.OlP("")},579:(ln,ct,L)=>{"use strict";L.d(ct,{EI:()=>Je,Gb:()=>ze,Iv:()=>Fn,Kz:()=>K,Xd:()=>xn,lT:()=>an,xP:()=>mr});var y=L(5861),g=L(6881),ae=L(1877),ye=L(2090),be=L(4859);L(4727);const he="analytics",Ce="firebase_id",$e="origin",U=6e4,Ie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ue="https://www.googletagmanager.com/gtag/js",ve=new ae.Yd("@firebase/analytics"),qe=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bt(Le){if(!Le.startsWith(Ue)){const ht=qe.create("invalid-gtag-resource",{gtagURL:Le});return ve.warn(ht.message),""}return Le}function Me(Le){return Promise.all(Le.map(ht=>ht.catch(It=>It)))}function rt(){return(rt=(0,y.Z)(function*(Le,ht,It,Gt,zt,rn){const un=Gt[zt];try{if(un)yield ht[un];else{const zn=(yield Me(It)).find(Dt=>Dt.measurementId===zt);zn&&(yield ht[zn.appId])}}catch(Wn){ve.error(Wn)}Le("config",zt,rn)})).apply(this,arguments)}function _t(){return(_t=(0,y.Z)(function*(Le,ht,It,Gt,zt){try{let rn=[];if(zt&&zt.send_to){let un=zt.send_to;Array.isArray(un)||(un=[un]);const Wn=yield Me(It);for(const zn of un){const Dt=Wn.find(Kt=>Kt.measurementId===zn),wt=Dt&&ht[Dt.appId];if(!wt){rn=[];break}rn.push(wt)}}0===rn.length&&(rn=Object.values(ht)),yield Promise.all(rn),Le("event",Gt,zt||{})}catch(rn){ve.error(rn)}})).apply(this,arguments)}const tt=30,ce=new class yt{constructor(ht={},It=1e3){this.throttleMetadata=ht,this.intervalMillis=It}getThrottleMetadata(ht){return this.throttleMetadata[ht]}setThrottleMetadata(ht,It){this.throttleMetadata[ht]=It}deleteThrottleMetadata(ht){delete this.throttleMetadata[ht]}};function Pe(Le){return new Headers({Accept:"application/json","x-goog-api-key":Le})}function We(){return(We=(0,y.Z)(function*(Le){var ht;const{appId:It,apiKey:Gt}=Le,zt={method:"GET",headers:Pe(Gt)},rn=Ie.replace("{app-id}",It),un=yield fetch(rn,zt);if(200!==un.status&&304!==un.status){let Wn="";try{const zn=yield un.json();null!==(ht=zn.error)&&void 0!==ht&&ht.message&&(Wn=zn.error.message)}catch{}throw qe.create("config-fetch-failed",{httpStatus:un.status,responseMessage:Wn})}return un.json()})).apply(this,arguments)}function Fe(){return(Fe=(0,y.Z)(function*(Le,ht=ce,It){const{appId:Gt,apiKey:zt,measurementId:rn}=Le.options;if(!Gt)throw qe.create("no-app-id");if(!zt){if(rn)return{measurementId:rn,appId:Gt};throw qe.create("no-api-key")}const un=ht.getThrottleMetadata(Gt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wn=new Pt;return setTimeout((0,y.Z)(function*(){Wn.abort()}),void 0!==It?It:U),He({appId:Gt,apiKey:zt,measurementId:rn},un,Wn,ht)})).apply(this,arguments)}function He(Le,ht,It){return mt.apply(this,arguments)}function mt(){return mt=(0,y.Z)(function*(Le,{throttleEndTimeMillis:ht,backoffCount:It},Gt,zt=ce){var rn;const{appId:un,measurementId:Wn}=Le;try{yield function ut(Le,ht){return new Promise((It,Gt)=>{const zt=Math.max(ht-Date.now(),0),rn=setTimeout(It,zt);Le.addEventListener(()=>{clearTimeout(rn),Gt(qe.create("fetch-throttle",{throttleEndTimeMillis:ht}))})})}(Gt,ht)}catch(zn){if(Wn)return ve.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${null==zn?void 0:zn.message}]`),{appId:un,measurementId:Wn};throw zn}try{const zn=yield function je(Le){return We.apply(this,arguments)}(Le);return zt.deleteThrottleMetadata(un),zn}catch(zn){const Dt=zn;if(!function Tt(Le){if(!(Le instanceof ye.ZR&&Le.customData))return!1;const ht=Number(Le.customData.httpStatus);return 429===ht||500===ht||503===ht||504===ht}(Dt)){if(zt.deleteThrottleMetadata(un),Wn)return ve.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wn} provided in the "measurementId" field in the local Firebase config. [${null==Dt?void 0:Dt.message}]`),{appId:un,measurementId:Wn};throw zn}const wt=503===Number(null===(rn=null==Dt?void 0:Dt.customData)||void 0===rn?void 0:rn.httpStatus)?(0,ye.$s)(It,zt.intervalMillis,tt):(0,ye.$s)(It,zt.intervalMillis),Kt={throttleEndTimeMillis:Date.now()+wt,backoffCount:It+1};return zt.setThrottleMetadata(un,Kt),ve.debug(`Calling attemptFetch again in ${wt} millis`),He(Le,Kt,Gt,zt)}}),mt.apply(this,arguments)}class Pt{constructor(){this.listeners=[]}addEventListener(ht){this.listeners.push(ht)}abort(){this.listeners.forEach(ht=>ht())}}let sn,gr;function et(){return(et=(0,y.Z)(function*(Le,ht,It,Gt,zt){if(zt&&zt.global)Le("event",It,Gt);else{const rn=yield ht;Le("event",It,Object.assign(Object.assign({},Gt),{send_to:rn}))}})).apply(this,arguments)}function Jt(){return(Jt=(0,y.Z)(function*(Le,ht,It,Gt){if(Gt&&Gt.global)return Le("set",{screen_name:It}),Promise.resolve();Le("config",yield ht,{update:!0,screen_name:It})})).apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(Le,ht,It,Gt){if(Gt&&Gt.global)return Le("set",{user_id:It}),Promise.resolve();Le("config",yield ht,{update:!0,user_id:It})})).apply(this,arguments)}function Nt(){return(Nt=(0,y.Z)(function*(Le,ht,It,Gt){if(Gt&&Gt.global){const zt={};for(const rn of Object.keys(It))zt[`user_properties.${rn}`]=It[rn];return Le("set",zt),Promise.resolve()}Le("config",yield ht,{update:!0,user_properties:It})})).apply(this,arguments)}function fr(){return(fr=(0,y.Z)(function*(Le,ht){const It=yield Le;window[`ga-disable-${It}`]=!ht})).apply(this,arguments)}function nr(){return(nr=(0,y.Z)(function*(){if(!(0,ye.hl)())return ve.warn(qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(Le){return ve.warn(qe.create("indexeddb-unavailable",{errorInfo:null==Le?void 0:Le.toString()}).message),!1}return!0})).apply(this,arguments)}function Mr(){return Mr=(0,y.Z)(function*(Le,ht,It,Gt,zt,rn,un){var Wn;const zn=function ke(Le){return Fe.apply(this,arguments)}(Le);zn.then(kn=>{It[kn.measurementId]=kn.appId,Le.options.measurementId&&kn.measurementId!==Le.options.measurementId&&ve.warn(`The measurement ID in the local Firebase config (${Le.options.measurementId}) does not match the measurement ID fetched from the server (${kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kn=>ve.error(kn)),ht.push(zn);const Dt=function sr(){return nr.apply(this,arguments)}().then(kn=>{if(kn)return Gt.getId()}),[wt,Kt]=yield Promise.all([zn,Dt]);(function St(Le){const ht=window.document.getElementsByTagName("script");for(const It of Object.values(ht))if(It.src&&It.src.includes(Ue)&&It.src.includes(Le))return It;return null})(rn)||function vt(Le,ht){const It=function Ee(Le,ht){let It;return window.trustedTypes&&(It=window.trustedTypes.createPolicy(Le,ht)),It}("firebase-js-sdk-policy",{createScriptURL:bt}),Gt=document.createElement("script"),zt=`${Ue}?l=${Le}&id=${ht}`;Gt.src=It?null==It?void 0:It.createScriptURL(zt):zt,Gt.async=!0,document.head.appendChild(Gt)}(rn,wt.measurementId),gr&&(zt("consent","default",gr),function nn(Le){gr=Le}(void 0)),zt("js",new Date);const _n=null!==(Wn=null==un?void 0:un.config)&&void 0!==Wn?Wn:{};return _n[$e]="firebase",_n.update=!0,null!=Kt&&(_n[Ce]=Kt),zt("config",wt.measurementId,_n),sn&&(zt("set",sn),function Lr(Le){sn=Le}(void 0)),wt.measurementId}),Mr.apply(this,arguments)}class Sn{constructor(ht){this.app=ht}_delete(){return delete vn[this.app.options.appId],Promise.resolve()}}let vn={},Vn=[];const br={};let kr,Dr,vr="dataLayer",ur="gtag",Kn=!1;function xn(Le){if(Kn)throw qe.create("already-initialized");Le.dataLayerName&&(vr=Le.dataLayerName),Le.gtagName&&(ur=Le.gtagName)}function Hn(Le,ht,It){!function ei(){const Le=[];if((0,ye.ru)()&&Le.push("This is a browser extension environment."),(0,ye.zI)()||Le.push("Cookies are not available."),Le.length>0){const ht=Le.map((Gt,zt)=>`(${zt+1}) ${Gt}`).join(" "),It=qe.create("invalid-analytics-context",{errorInfo:ht});ve.warn(It.message)}}();const Gt=Le.options.appId;if(!Gt)throw qe.create("no-app-id");if(!Le.options.apiKey){if(!Le.options.measurementId)throw qe.create("no-api-key");ve.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Le.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vn[Gt])throw qe.create("already-exists",{id:Gt});if(!Kn){!function it(Le){let ht=[];Array.isArray(window[Le])?ht=window[Le]:window[Le]=ht}(vr);const{wrappedGtag:rn,gtagCore:un}=function xe(Le,ht,It,Gt,zt){let rn=function(...un){window[Gt].push(arguments)};return window[zt]&&"function"==typeof window[zt]&&(rn=window[zt]),window[zt]=function Ye(Le,ht,It,Gt){function rn(){return rn=(0,y.Z)(function*(un,...Wn){try{if("event"===un){const[zn,Dt]=Wn;yield function ft(Le,ht,It,Gt,zt){return _t.apply(this,arguments)}(Le,ht,It,zn,Dt)}else if("config"===un){const[zn,Dt]=Wn;yield function Ge(Le,ht,It,Gt,zt,rn){return rt.apply(this,arguments)}(Le,ht,It,Gt,zn,Dt)}else if("consent"===un){const[zn]=Wn;Le("consent","update",zn)}else if("get"===un){const[zn,Dt,wt]=Wn;Le("get",zn,Dt,wt)}else if("set"===un){const[zn]=Wn;Le("set",zn)}else Le(un,...Wn)}catch(zn){ve.error(zn)}}),rn.apply(this,arguments)}return function zt(un){return rn.apply(this,arguments)}}(rn,Le,ht,It),{gtagCore:rn,wrappedGtag:window[zt]}}(vn,Vn,br,vr,ur);Dr=rn,kr=un,Kn=!0}return vn[Gt]=function Ar(Le,ht,It,Gt,zt,rn,un){return Mr.apply(this,arguments)}(Le,Vn,br,ht,kr,vr,It),new Sn(Le)}function ze(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}function an(Le,ht,It){Le=(0,ye.m9)(Le),function Ot(Le,ht,It,Gt){return Jt.apply(this,arguments)}(Dr,vn[Le.app.options.appId],ht,It).catch(Gt=>ve.error(Gt))}function Fn(Le,ht,It){Le=(0,ye.m9)(Le),function fn(Le,ht,It,Gt){return Tn.apply(this,arguments)}(Dr,vn[Le.app.options.appId],ht,It).catch(Gt=>ve.error(Gt))}function mr(Le,ht,It){Le=(0,ye.m9)(Le),function En(Le,ht,It,Gt){return Nt.apply(this,arguments)}(Dr,vn[Le.app.options.appId],ht,It).catch(Gt=>ve.error(Gt))}function Je(Le,ht){Le=(0,ye.m9)(Le),function rr(Le,ht){return fr.apply(this,arguments)}(vn[Le.app.options.appId],ht).catch(It=>ve.error(It))}function K(Le,ht,It,Gt){Le=(0,ye.m9)(Le),function At(Le,ht,It,Gt,zt){return et.apply(this,arguments)}(Dr,vn[Le.app.options.appId],ht,It,Gt).catch(zt=>ve.error(zt))}const q="@firebase/analytics";!function st(){(0,g._registerComponent)(new be.wA(he,(ht,{options:It})=>Hn(ht.getProvider("app").getImmediate(),ht.getProvider("installations-internal").getImmediate(),It),"PUBLIC")),(0,g._registerComponent)(new be.wA("analytics-internal",function Le(ht){try{const It=ht.getProvider(he).getImmediate();return{logEvent:(Gt,zt,rn)=>K(It,Gt,zt,rn)}}catch(It){throw qe.create("interop-component-reg-failed",{reason:It})}},"PRIVATE")),(0,g.registerVersion)(q,"0.10.0"),(0,g.registerVersion)(q,"0.10.0","esm2017")}()},3942:(ln,ct,L)=>{"use strict";L.d(ct,{Z:()=>qe});var y=L(2090),g=L(4859),ae=L(6881),ye=L(1877);class be{constructor(Me,Ee){this._delegate=Me,this.firebase=Ee,(0,ae._addComponent)(Me,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(Me,Ee=ae._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(Me);return!it.isInitialized()&&"EXPLICIT"===(null===(vt=it.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:Ee})}_removeServiceInstance(Me,Ee=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Ee)}_addComponent(Me){(0,ae._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,ae._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function $e(){const bt=function Ce(bt){const Me={},Ee={__esModule:!0,initializeApp:function Ge(Ye,xe={}){const St=ae.initializeApp(Ye,xe);if((0,y.r3)(Me,St.name))return Me[St.name];const tt=new bt(St,Ee);return Me[St.name]=tt,tt},app:it,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function ft(Ye){const xe=Ye.name,St=xe.replace("-compat","");if(ae._registerComponent(Ye)&&"PUBLIC"===Ye.type){const tt=(pt=it())=>{if("function"!=typeof pt[St])throw he.create("invalid-app-argument",{appName:xe});return pt[St]()};void 0!==Ye.serviceProps&&(0,y.ZB)(tt,Ye.serviceProps),Ee[St]=tt,bt.prototype[St]=function(...pt){return this._getService.bind(this,xe).apply(this,Ye.multipleInstances?pt:[])}}return"PUBLIC"===Ye.type?Ee[St]:null},removeApp:function vt(Ye){delete Me[Ye]},useAsService:function _t(Ye,xe){return"serverAuth"===xe?null:xe},modularAPIs:ae}};function it(Ye){if(!(0,y.r3)(Me,Ye=Ye||ae._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Ye});return Me[Ye]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function rt(){return Object.keys(Me).map(Ye=>Me[Ye])}}),it.App=bt,Ee}(be);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function Me(Ee){(0,y.ZB)(bt,Ee)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),bt}(),Ie=new ye.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){Ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&Ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=U;!function Ve(bt){(0,ae.registerVersion)("@firebase/app-compat","0.2.11",bt)}()},6881:(ln,ct,L)=>{"use strict";L.r(ct),L.d(ct,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>nr,_addComponent:()=>vn,_addOrOverwriteComponent:()=>Vn,_apps:()=>Mr,_clearComponents:()=>kr,_components:()=>Sn,_getProvider:()=>vr,_registerComponent:()=>br,_removeServiceInstance:()=>ur,deleteApp:()=>ze,getApp:()=>jt,getApps:()=>fe,initializeApp:()=>Hn,onLog:()=>gn,registerVersion:()=>an,setLogLevel:()=>pr});var y=L(5861),g=L(4859),ae=L(1877),ye=L(2090);const be=(Dt,wt)=>wt.some(Kt=>Dt instanceof Kt);let De,he;const U=new WeakMap,Ie=new WeakMap,Ue=new WeakMap,ve=new WeakMap,Ve=new WeakMap;let Me={get(Dt,wt,Kt){if(Dt instanceof IDBTransaction){if("done"===wt)return Ie.get(Dt);if("objectStoreNames"===wt)return Dt.objectStoreNames||Ue.get(Dt);if("store"===wt)return Kt.objectStoreNames[1]?void 0:Kt.objectStore(Kt.objectStoreNames[0])}return Ge(Dt[wt])},set:(Dt,wt,Kt)=>(Dt[wt]=Kt,!0),has:(Dt,wt)=>Dt instanceof IDBTransaction&&("done"===wt||"store"===wt)||wt in Dt};function it(Dt){return"function"==typeof Dt?function vt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...wt){return Dt.apply(rt(this),wt),Ge(U.get(this))}:function(...wt){return Ge(Dt.apply(rt(this),wt))}:function(wt,...Kt){const _n=Dt.call(rt(this),wt,...Kt);return Ue.set(_n,wt.sort?wt.sort():[wt]),Ge(_n)}}(Dt):(Dt instanceof IDBTransaction&&function bt(Dt){if(Ie.has(Dt))return;const wt=new Promise((Kt,_n)=>{const kn=()=>{Dt.removeEventListener("complete",Xn),Dt.removeEventListener("error",Jn),Dt.removeEventListener("abort",Jn)},Xn=()=>{Kt(),kn()},Jn=()=>{_n(Dt.error||new DOMException("AbortError","AbortError")),kn()};Dt.addEventListener("complete",Xn),Dt.addEventListener("error",Jn),Dt.addEventListener("abort",Jn)});Ie.set(Dt,wt)}(Dt),be(Dt,function Ce(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,Me):Dt)}function Ge(Dt){if(Dt instanceof IDBRequest)return function qe(Dt){const wt=new Promise((Kt,_n)=>{const kn=()=>{Dt.removeEventListener("success",Xn),Dt.removeEventListener("error",Jn)},Xn=()=>{Kt(Ge(Dt.result)),kn()},Jn=()=>{_n(Dt.error),kn()};Dt.addEventListener("success",Xn),Dt.addEventListener("error",Jn)});return wt.then(Kt=>{Kt instanceof IDBCursor&&U.set(Kt,Dt)}).catch(()=>{}),Ve.set(wt,Dt),wt}(Dt);if(ve.has(Dt))return ve.get(Dt);const wt=it(Dt);return wt!==Dt&&(ve.set(Dt,wt),Ve.set(wt,Dt)),wt}const rt=Dt=>Ve.get(Dt),Ye=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],St=new Map;function tt(Dt,wt){if(!(Dt instanceof IDBDatabase)||wt in Dt||"string"!=typeof wt)return;if(St.get(wt))return St.get(wt);const Kt=wt.replace(/FromIndex$/,""),_n=wt!==Kt,kn=xe.includes(Kt);if(!(Kt in(_n?IDBIndex:IDBObjectStore).prototype)||!kn&&!Ye.includes(Kt))return;const Xn=function(){var Jn=(0,y.Z)(function*(Wr,..._r){const or=this.transaction(Wr,kn?"readwrite":"readonly");let Zn=or.store;return _n&&(Zn=Zn.index(_r.shift())),(yield Promise.all([Zn[Kt](..._r),kn&&or.done]))[0]});return function(_r){return Jn.apply(this,arguments)}}();return St.set(wt,Xn),Xn}!function Ee(Dt){Me=Dt(Me)}(Dt=>({...Dt,get:(wt,Kt,_n)=>tt(wt,Kt)||Dt.get(wt,Kt,_n),has:(wt,Kt)=>!!tt(wt,Kt)||Dt.has(wt,Kt)}));class pt{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map(Kt=>{if(function yt(Dt){const wt=Dt.getComponent();return"VERSION"===(null==wt?void 0:wt.type)}(Kt)){const _n=Kt.getImmediate();return`${_n.library}/${_n.version}`}return null}).filter(Kt=>Kt).join(" ")}}const ce="@firebase/app",je=new ae.Yd("@firebase/app"),nr="[DEFAULT]",Ar={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mr=new Map,Sn=new Map;function vn(Dt,wt){try{Dt.container.addComponent(wt)}catch(Kt){je.debug(`Component ${wt.name} failed to register with FirebaseApp ${Dt.name}`,Kt)}}function Vn(Dt,wt){Dt.container.addOrOverwriteComponent(wt)}function br(Dt){const wt=Dt.name;if(Sn.has(wt))return je.debug(`There were multiple attempts to register component ${wt}.`),!1;Sn.set(wt,Dt);for(const Kt of Mr.values())vn(Kt,Dt);return!0}function vr(Dt,wt){const Kt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Kt&&Kt.triggerHeartbeat(),Dt.container.getProvider(wt)}function ur(Dt,wt,Kt=nr){vr(Dt,wt).clearInstance(Kt)}function kr(){Sn.clear()}const Kn=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(wt,Kt,_n){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},Kt),this._name=Kt.name,this._automaticDataCollectionEnabled=Kt.automaticDataCollectionEnabled,this._container=_n,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const ei="9.22.1";function Hn(Dt,wt={}){let Kt=Dt;"object"!=typeof wt&&(wt={name:wt});const _n=Object.assign({name:nr,automaticDataCollectionEnabled:!1},wt),kn=_n.name;if("string"!=typeof kn||!kn)throw Kn.create("bad-app-name",{appName:String(kn)});if(Kt||(Kt=(0,ye.aH)()),!Kt)throw Kn.create("no-options");const Xn=Mr.get(kn);if(Xn){if((0,ye.vZ)(Kt,Xn.options)&&(0,ye.vZ)(_n,Xn.config))return Xn;throw Kn.create("duplicate-app",{appName:kn})}const Jn=new g.H0(kn);for(const _r of Sn.values())Jn.addComponent(_r);const Wr=new xn(Kt,_n,Jn);return Mr.set(kn,Wr),Wr}function jt(Dt=nr){const wt=Mr.get(Dt);if(!wt&&Dt===nr&&(0,ye.aH)())return Hn();if(!wt)throw Kn.create("no-app",{appName:Dt});return wt}function fe(){return Array.from(Mr.values())}function ze(Dt){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(Dt){const wt=Dt.name;Mr.has(wt)&&(Mr.delete(wt),yield Promise.all(Dt.container.getProviders().map(Kt=>Kt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function an(Dt,wt,Kt){var _n;let kn=null!==(_n=Ar[Dt])&&void 0!==_n?_n:Dt;Kt&&(kn+=`-${Kt}`);const Xn=kn.match(/\s|\//),Jn=wt.match(/\s|\//);if(Xn||Jn){const Wr=[`Unable to register library "${kn}" with version "${wt}":`];return Xn&&Wr.push(`library name "${kn}" contains illegal characters (whitespace or "/")`),Xn&&Jn&&Wr.push("and"),Jn&&Wr.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void je.warn(Wr.join(" "))}br(new g.wA(`${kn}-version`,()=>({library:kn,version:wt}),"VERSION"))}function gn(Dt,wt){if(null!==Dt&&"function"!=typeof Dt)throw Kn.create("invalid-log-argument");(0,ae.Am)(Dt,wt)}function pr(Dt){(0,ae.Ub)(Dt)}const Fn="firebase-heartbeat-database",mr=1,Je="firebase-heartbeat-store";let de=null;function K(){return de||(de=function ft(Dt,wt,{blocked:Kt,upgrade:_n,blocking:kn,terminated:Xn}={}){const Jn=indexedDB.open(Dt,wt),Wr=Ge(Jn);return _n&&Jn.addEventListener("upgradeneeded",_r=>{_n(Ge(Jn.result),_r.oldVersion,_r.newVersion,Ge(Jn.transaction),_r)}),Kt&&Jn.addEventListener("blocked",_r=>Kt(_r.oldVersion,_r.newVersion,_r)),Wr.then(_r=>{Xn&&_r.addEventListener("close",()=>Xn()),kn&&_r.addEventListener("versionchange",or=>kn(or.oldVersion,or.newVersion,or))}).catch(()=>{}),Wr}(Fn,mr,{upgrade:(Dt,wt)=>{0===wt&&Dt.createObjectStore(Je)}}).catch(Dt=>{throw Kn.create("idb-open",{originalErrorMessage:Dt.message})})),de}function q(){return(q=(0,y.Z)(function*(Dt){try{return yield(yield K()).transaction(Je).objectStore(Je).get(Le(Dt))}catch(wt){if(wt instanceof ye.ZR)je.warn(wt.message);else{const Kt=Kn.create("idb-get",{originalErrorMessage:null==wt?void 0:wt.message});je.warn(Kt.message)}}})).apply(this,arguments)}function Oe(Dt,wt){return st.apply(this,arguments)}function st(){return(st=(0,y.Z)(function*(Dt,wt){try{const _n=(yield K()).transaction(Je,"readwrite");yield _n.objectStore(Je).put(wt,Le(Dt)),yield _n.done}catch(Kt){if(Kt instanceof ye.ZR)je.warn(Kt.message);else{const _n=Kn.create("idb-set",{originalErrorMessage:null==Kt?void 0:Kt.message});je.warn(_n.message)}}})).apply(this,arguments)}function Le(Dt){return`${Dt.name}!${Dt.options.appId}`}class Gt{constructor(wt){this.container=wt,this._heartbeatsCache=null;const Kt=this.container.getProvider("app").getImmediate();this._storage=new un(Kt),this._heartbeatsCachePromise=this._storage.read().then(_n=>(this._heartbeatsCache=_n,_n))}triggerHeartbeat(){var wt=this;return(0,y.Z)(function*(){const _n=wt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kn=zt();if(null===wt._heartbeatsCache&&(wt._heartbeatsCache=yield wt._heartbeatsCachePromise),wt._heartbeatsCache.lastSentHeartbeatDate!==kn&&!wt._heartbeatsCache.heartbeats.some(Xn=>Xn.date===kn))return wt._heartbeatsCache.heartbeats.push({date:kn,agent:_n}),wt._heartbeatsCache.heartbeats=wt._heartbeatsCache.heartbeats.filter(Xn=>{const Jn=new Date(Xn.date).valueOf();return Date.now()-Jn<=2592e6}),wt._storage.overwrite(wt._heartbeatsCache)})()}getHeartbeatsHeader(){var wt=this;return(0,y.Z)(function*(){if(null===wt._heartbeatsCache&&(yield wt._heartbeatsCachePromise),null===wt._heartbeatsCache||0===wt._heartbeatsCache.heartbeats.length)return"";const Kt=zt(),{heartbeatsToSend:_n,unsentEntries:kn}=function rn(Dt,wt=1024){const Kt=[];let _n=Dt.slice();for(const kn of Dt){const Xn=Kt.find(Jn=>Jn.agent===kn.agent);if(Xn){if(Xn.dates.push(kn.date),Wn(Kt)>wt){Xn.dates.pop();break}}else if(Kt.push({agent:kn.agent,dates:[kn.date]}),Wn(Kt)>wt){Kt.pop();break}_n=_n.slice(1)}return{heartbeatsToSend:Kt,unsentEntries:_n}}(wt._heartbeatsCache.heartbeats),Xn=(0,ye.L)(JSON.stringify({version:2,heartbeats:_n}));return wt._heartbeatsCache.lastSentHeartbeatDate=Kt,kn.length>0?(wt._heartbeatsCache.heartbeats=kn,yield wt._storage.overwrite(wt._heartbeatsCache)):(wt._heartbeatsCache.heartbeats=[],wt._storage.overwrite(wt._heartbeatsCache)),Xn})()}}function zt(){return(new Date).toISOString().substring(0,10)}class un{constructor(wt){this.app=wt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var wt=this;return(0,y.Z)(function*(){return(yield wt._canUseIndexedDBPromise)&&(yield function z(Dt){return q.apply(this,arguments)}(wt.app))||{heartbeats:[]}})()}overwrite(wt){var Kt=this;return(0,y.Z)(function*(){var _n;if(yield Kt._canUseIndexedDBPromise){const Xn=yield Kt.read();return Oe(Kt.app,{lastSentHeartbeatDate:null!==(_n=wt.lastSentHeartbeatDate)&&void 0!==_n?_n:Xn.lastSentHeartbeatDate,heartbeats:wt.heartbeats})}})()}add(wt){var Kt=this;return(0,y.Z)(function*(){var _n;if(yield Kt._canUseIndexedDBPromise){const Xn=yield Kt.read();return Oe(Kt.app,{lastSentHeartbeatDate:null!==(_n=wt.lastSentHeartbeatDate)&&void 0!==_n?_n:Xn.lastSentHeartbeatDate,heartbeats:[...Xn.heartbeats,...wt.heartbeats]})}})()}}function Wn(Dt){return(0,ye.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function zn(Dt){br(new g.wA("platform-logger",wt=>new pt(wt),"PRIVATE")),br(new g.wA("heartbeat",wt=>new Gt(wt),"PRIVATE")),an(ce,"0.9.11",Dt),an(ce,"0.9.11","esm2017"),an("fire-js","")}("")},4859:(ln,ct,L)=>{"use strict";L.d(ct,{H0:()=>Ce,wA:()=>ae,zt:()=>be});var y=L(5861),g=L(2090);class ae{constructor(U,Ie,Ue){this.name=U,this.instanceFactory=Ie,this.type=Ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ye="[DEFAULT]";class be{constructor(U,Ie){this.name=U,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const Ie=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(Ie)){const Ue=new g.BH;if(this.instancesDeferred.set(Ie,Ue),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const ve=this.getOrInitializeService({instanceIdentifier:Ie});ve&&Ue.resolve(ve)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(U){var Ie;const Ue=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),ve=null!==(Ie=null==U?void 0:U.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(Ue)&&!this.shouldAutoInitialize()){if(ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ue})}catch(Ve){if(ve)return null;throw Ve}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function he($e){return"EAGER"===$e.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[Ie,Ue]of this.instancesDeferred.entries()){const ve=this.normalizeInstanceIdentifier(Ie);try{const Ve=this.getOrInitializeService({instanceIdentifier:ve});Ue.resolve(Ve)}catch{}}}}clearInstance(U=ye){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,y.Z)(function*(){const Ie=Array.from(U.instances.values());yield Promise.all([...Ie.filter(Ue=>"INTERNAL"in Ue).map(Ue=>Ue.INTERNAL.delete()),...Ie.filter(Ue=>"_delete"in Ue).map(Ue=>Ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ye){return this.instances.has(U)}getOptions(U=ye){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:Ie={}}=U,Ue=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Ue))throw Error(`${this.name}(${Ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ve=this.getOrInitializeService({instanceIdentifier:Ue,options:Ie});for(const[Ve,qe]of this.instancesDeferred.entries())Ue===this.normalizeInstanceIdentifier(Ve)&&qe.resolve(ve);return ve}onInit(U,Ie){var Ue;const ve=this.normalizeInstanceIdentifier(Ie),Ve=null!==(Ue=this.onInitCallbacks.get(ve))&&void 0!==Ue?Ue:new Set;Ve.add(U),this.onInitCallbacks.set(ve,Ve);const qe=this.instances.get(ve);return qe&&U(qe,ve),()=>{Ve.delete(U)}}invokeOnInitCallbacks(U,Ie){const Ue=this.onInitCallbacks.get(Ie);if(Ue)for(const ve of Ue)try{ve(U,Ie)}catch{}}getOrInitializeService({instanceIdentifier:U,options:Ie={}}){let Ue=this.instances.get(U);if(!Ue&&this.component&&(Ue=this.component.instanceFactory(this.container,{instanceIdentifier:($e=U,$e===ye?void 0:$e),options:Ie}),this.instances.set(U,Ue),this.instancesOptions.set(U,Ie),this.invokeOnInitCallbacks(Ue,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Ue)}catch{}var $e;return Ue||null}normalizeInstanceIdentifier(U=ye){return this.component?this.component.multipleInstances?U:ye:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const Ie=this.getProvider(U.name);if(Ie.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);Ie.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const Ie=new be(U,this);return this.providers.set(U,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},4727:(ln,ct,L)=>{"use strict";var y=L(5861),g=L(6881),ae=L(4859),ye=L(2090);const be=(G,se)=>se.some(Be=>G instanceof Be);let De,he;const U=new WeakMap,Ie=new WeakMap,Ue=new WeakMap,ve=new WeakMap,Ve=new WeakMap;let Me={get(G,se,Be){if(G instanceof IDBTransaction){if("done"===se)return Ie.get(G);if("objectStoreNames"===se)return G.objectStoreNames||Ue.get(G);if("store"===se)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Ge(G[se])},set:(G,se,Be)=>(G[se]=Be,!0),has:(G,se)=>G instanceof IDBTransaction&&("done"===se||"store"===se)||se in G};function it(G){return"function"==typeof G?function vt(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...se){return G.apply(rt(this),se),Ge(U.get(this))}:function(...se){return Ge(G.apply(rt(this),se))}:function(se,...Be){const Xe=G.call(rt(this),se,...Be);return Ue.set(Xe,se.sort?se.sort():[se]),Ge(Xe)}}(G):(G instanceof IDBTransaction&&function bt(G){if(Ie.has(G))return;const se=new Promise((Be,Xe)=>{const dt=()=>{G.removeEventListener("complete",xt),G.removeEventListener("error",on),G.removeEventListener("abort",on)},xt=()=>{Be(),dt()},on=()=>{Xe(G.error||new DOMException("AbortError","AbortError")),dt()};G.addEventListener("complete",xt),G.addEventListener("error",on),G.addEventListener("abort",on)});Ie.set(G,se)}(G),be(G,function Ce(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Me):G)}function Ge(G){if(G instanceof IDBRequest)return function qe(G){const se=new Promise((Be,Xe)=>{const dt=()=>{G.removeEventListener("success",xt),G.removeEventListener("error",on)},xt=()=>{Be(Ge(G.result)),dt()},on=()=>{Xe(G.error),dt()};G.addEventListener("success",xt),G.addEventListener("error",on)});return se.then(Be=>{Be instanceof IDBCursor&&U.set(Be,G)}).catch(()=>{}),Ve.set(se,G),se}(G);if(ve.has(G))return ve.get(G);const se=it(G);return se!==G&&(ve.set(G,se),Ve.set(se,G)),se}const rt=G=>Ve.get(G),Ye=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],St=new Map;function tt(G,se){if(!(G instanceof IDBDatabase)||se in G||"string"!=typeof se)return;if(St.get(se))return St.get(se);const Be=se.replace(/FromIndex$/,""),Xe=se!==Be,dt=xe.includes(Be);if(!(Be in(Xe?IDBIndex:IDBObjectStore).prototype)||!dt&&!Ye.includes(Be))return;const xt=function(){var on=(0,y.Z)(function*(dn,...Un){const ar=this.transaction(dn,dt?"readwrite":"readonly");let fi=ar.store;return Xe&&(fi=fi.index(Un.shift())),(yield Promise.all([fi[Be](...Un),dt&&ar.done]))[0]});return function(Un){return on.apply(this,arguments)}}();return St.set(se,xt),xt}!function Ee(G){Me=G(Me)}(G=>({...G,get:(se,Be,Xe)=>tt(se,Be)||G.get(se,Be,Xe),has:(se,Be)=>!!tt(se,Be)||G.has(se,Be)}));const pt="@firebase/installations",yt="0.6.4",ce=1e4,Pe=`w:${yt}`,je="FIS_v2",We="https://firebaseinstallations.googleapis.com/v1",ke=36e5,ut=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(G){return G instanceof ye.ZR&&G.code.includes("request-failed")}function Pt({projectId:G}){return`${We}/projects/${G}/installations`}function sn(G){return{token:G.token,requestStatus:2,expiresIn:En(G.expiresIn),creationTime:Date.now()}}function At(G,se){return et.apply(this,arguments)}function et(){return(et=(0,y.Z)(function*(G,se){const Xe=(yield se.json()).error;return ut.create("request-failed",{requestName:G,serverCode:Xe.code,serverMessage:Xe.message,serverStatus:Xe.status})})).apply(this,arguments)}function Ot({apiKey:G}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G})}function fn(G){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,y.Z)(function*(G){const se=yield G();return se.status>=500&&se.status<600?G():se})).apply(this,arguments)}function En(G){return Number(G.replace("s","000"))}function Lt(){return(Lt=(0,y.Z)(function*({appConfig:G,heartbeatServiceProvider:se},{fid:Be}){const Xe=Pt(G),dt=Ot(G),xt=se.getImmediate({optional:!0});if(xt){const ar=yield xt.getHeartbeatsHeader();ar&&dt.append("x-firebase-client",ar)}const dn={method:"POST",headers:dt,body:JSON.stringify({fid:Be,authVersion:je,appId:G.appId,sdkVersion:Pe})},Un=yield fn(()=>fetch(Xe,dn));if(Un.ok){const ar=yield Un.json();return{fid:ar.fid||Be,registrationStatus:2,refreshToken:ar.refreshToken,authToken:sn(ar.authToken)}}throw yield At("Create Installation",Un)})).apply(this,arguments)}function rr(G){return new Promise(se=>{setTimeout(se,G)})}const gr=/^[cdef][\w-]{21}$/,nn="";function Lr(){try{const G=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(G),G[0]=112+G[0]%16;const Be=function sr(G){return function fr(G){return btoa(String.fromCharCode(...G)).replace(/\+/g,"-").replace(/\//g,"_")}(G).substr(0,22)}(G);return gr.test(Be)?Be:nn}catch{return nn}}function nr(G){return`${G.appName}!${G.appId}`}const Ar=new Map;function Mr(G,se){const Be=nr(G);Vn(Be,se),function br(G,se){const Be=function ur(){return!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=G=>{Vn(G.data.key,G.data.fid)}),vr}();Be&&Be.postMessage({key:G,fid:se}),function kr(){0===Ar.size&&vr&&(vr.close(),vr=null)}()}(Be,se)}function Vn(G,se){const Be=Ar.get(G);if(Be)for(const Xe of Be)Xe(se)}let vr=null;const Dr="firebase-installations-database",Kn=1,xn="firebase-installations-store";let ei=null;function Hn(){return ei||(ei=function ft(G,se,{blocked:Be,upgrade:Xe,blocking:dt,terminated:xt}={}){const on=indexedDB.open(G,se),dn=Ge(on);return Xe&&on.addEventListener("upgradeneeded",Un=>{Xe(Ge(on.result),Un.oldVersion,Un.newVersion,Ge(on.transaction))}),Be&&on.addEventListener("blocked",()=>Be()),dn.then(Un=>{xt&&Un.addEventListener("close",()=>xt()),dt&&Un.addEventListener("versionchange",()=>dt())}).catch(()=>{}),dn}(Dr,Kn,{upgrade:(G,se)=>{0===se&&G.createObjectStore(xn)}})),ei}function jt(G,se){return fe.apply(this,arguments)}function fe(){return(fe=(0,y.Z)(function*(G,se){const Be=nr(G),dt=(yield Hn()).transaction(xn,"readwrite"),xt=dt.objectStore(xn),on=yield xt.get(Be);return yield xt.put(se,Be),yield dt.done,(!on||on.fid!==se.fid)&&Mr(G,se.fid),se})).apply(this,arguments)}function ze(G){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(G){const se=nr(G),Xe=(yield Hn()).transaction(xn,"readwrite");yield Xe.objectStore(xn).delete(se),yield Xe.done})).apply(this,arguments)}function an(G,se){return gn.apply(this,arguments)}function gn(){return(gn=(0,y.Z)(function*(G,se){const Be=nr(G),dt=(yield Hn()).transaction(xn,"readwrite"),xt=dt.objectStore(xn),on=yield xt.get(Be),dn=se(on);return void 0===dn?yield xt.delete(Be):yield xt.put(dn,Be),yield dt.done,dn&&(!on||on.fid!==dn.fid)&&Mr(G,dn.fid),dn})).apply(this,arguments)}function pr(G){return Fn.apply(this,arguments)}function Fn(){return Fn=(0,y.Z)(function*(G){let se;const Be=yield an(G.appConfig,Xe=>{const dt=function mr(G){return st(G||{fid:Lr(),registrationStatus:0})}(Xe),xt=function Je(G,se){if(0===se.registrationStatus){if(!navigator.onLine)return{installationEntry:se,registrationPromise:Promise.reject(ut.create("app-offline"))};const Be={fid:se.fid,registrationStatus:1,registrationTime:Date.now()},Xe=function de(G,se){return K.apply(this,arguments)}(G,Be);return{installationEntry:Be,registrationPromise:Xe}}return 1===se.registrationStatus?{installationEntry:se,registrationPromise:z(G)}:{installationEntry:se}}(G,dt);return se=xt.registrationPromise,xt.installationEntry});return Be.fid===nn?{installationEntry:yield se}:{installationEntry:Be,registrationPromise:se}}),Fn.apply(this,arguments)}function K(){return K=(0,y.Z)(function*(G,se){try{const Be=yield function In(G,se){return Lt.apply(this,arguments)}(G,se);return jt(G.appConfig,Be)}catch(Be){throw Tt(Be)&&409===Be.customData.serverCode?yield ze(G.appConfig):yield jt(G.appConfig,{fid:se.fid,registrationStatus:0}),Be}}),K.apply(this,arguments)}function z(G){return q.apply(this,arguments)}function q(){return(q=(0,y.Z)(function*(G){let se=yield Oe(G.appConfig);for(;1===se.registrationStatus;)yield rr(100),se=yield Oe(G.appConfig);if(0===se.registrationStatus){const{installationEntry:Be,registrationPromise:Xe}=yield pr(G);return Xe||Be}return se})).apply(this,arguments)}function Oe(G){return an(G,se=>{if(!se)throw ut.create("installation-not-found");return st(se)})}function st(G){return function Le(G){return 1===G.registrationStatus&&G.registrationTime+ce<Date.now()}(G)?{fid:G.fid,registrationStatus:0}:G}function It(){return(It=(0,y.Z)(function*({appConfig:G,heartbeatServiceProvider:se},Be){const Xe=function Gt(G,{fid:se}){return`${Pt(G)}/${se}/authTokens:generate`}(G,Be),dt=function Jt(G,{refreshToken:se}){const Be=Ot(G);return Be.append("Authorization",function Nt(G){return`${je} ${G}`}(se)),Be}(G,Be),xt=se.getImmediate({optional:!0});if(xt){const ar=yield xt.getHeartbeatsHeader();ar&&dt.append("x-firebase-client",ar)}const dn={method:"POST",headers:dt,body:JSON.stringify({installation:{sdkVersion:Pe,appId:G.appId}})},Un=yield fn(()=>fetch(Xe,dn));if(Un.ok)return sn(yield Un.json());throw yield At("Generate Auth Token",Un)})).apply(this,arguments)}function zt(G){return rn.apply(this,arguments)}function rn(){return rn=(0,y.Z)(function*(G,se=!1){let Be;const Xe=yield an(G.appConfig,xt=>{if(!Kt(xt))throw ut.create("not-registered");const on=xt.authToken;if(!se&&function _n(G){return 2===G.requestStatus&&!function kn(G){const se=Date.now();return se<G.creationTime||G.creationTime+G.expiresIn<se+ke}(G)}(on))return xt;if(1===on.requestStatus)return Be=function un(G,se){return Wn.apply(this,arguments)}(G,se),xt;{if(!navigator.onLine)throw ut.create("app-offline");const dn=function Xn(G){const se={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},G),{authToken:se})}(xt);return Be=function Dt(G,se){return wt.apply(this,arguments)}(G,dn),dn}});return Be?yield Be:Xe.authToken}),rn.apply(this,arguments)}function Wn(){return(Wn=(0,y.Z)(function*(G,se){let Be=yield zn(G.appConfig);for(;1===Be.authToken.requestStatus;)yield rr(100),Be=yield zn(G.appConfig);const Xe=Be.authToken;return 0===Xe.requestStatus?zt(G,se):Xe})).apply(this,arguments)}function zn(G){return an(G,se=>{if(!Kt(se))throw ut.create("not-registered");return function Jn(G){return 1===G.requestStatus&&G.requestTime+ce<Date.now()}(se.authToken)?Object.assign(Object.assign({},se),{authToken:{requestStatus:0}}):se})}function wt(){return wt=(0,y.Z)(function*(G,se){try{const Be=yield function ht(G,se){return It.apply(this,arguments)}(G,se),Xe=Object.assign(Object.assign({},se),{authToken:Be});return yield jt(G.appConfig,Xe),Be}catch(Be){if(!Tt(Be)||401!==Be.customData.serverCode&&404!==Be.customData.serverCode){const Xe=Object.assign(Object.assign({},se),{authToken:{requestStatus:0}});yield jt(G.appConfig,Xe)}else yield ze(G.appConfig);throw Be}}),wt.apply(this,arguments)}function Kt(G){return void 0!==G&&2===G.registrationStatus}function _r(){return(_r=(0,y.Z)(function*(G){const se=G,{installationEntry:Be,registrationPromise:Xe}=yield pr(se);return Xe?Xe.catch(console.error):zt(se).catch(console.error),Be.fid})).apply(this,arguments)}function Zn(){return Zn=(0,y.Z)(function*(G,se=!1){const Be=G;return yield function hi(G){return mi.apply(this,arguments)}(Be),(yield zt(Be,se)).token}),Zn.apply(this,arguments)}function mi(){return(mi=(0,y.Z)(function*(G){const{registrationPromise:se}=yield pr(G);se&&(yield se)})).apply(this,arguments)}function ps(G){return ut.create("missing-app-config-values",{valueName:G})}const Zs="installations",ee=G=>{const se=G.getProvider("app").getImmediate(),Be=function Ji(G){if(!G||!G.options)throw ps("App Configuration");if(!G.name)throw ps("App Name");const se=["projectId","apiKey","appId"];for(const Be of se)if(!G.options[Be])throw ps(Be);return{appName:G.name,projectId:G.options.projectId,apiKey:G.options.apiKey,appId:G.options.appId}}(se);return{app:se,appConfig:Be,heartbeatServiceProvider:(0,g._getProvider)(se,"heartbeat"),_delete:()=>Promise.resolve()}},_e=G=>{const se=G.getProvider("app").getImmediate(),Be=(0,g._getProvider)(se,Zs).getImmediate();return{getId:()=>function Wr(G){return _r.apply(this,arguments)}(Be),getToken:dt=>function or(G){return Zn.apply(this,arguments)}(Be,dt)}};(function oe(){(0,g._registerComponent)(new ae.wA(Zs,ee,"PUBLIC")),(0,g._registerComponent)(new ae.wA("installations-internal",_e,"PRIVATE"))})(),(0,g.registerVersion)(pt,yt),(0,g.registerVersion)(pt,yt,"esm2017")},1877:(ln,ct,L)=>{"use strict";L.d(ct,{Am:()=>$e,Ub:()=>Ce,Yd:()=>he,in:()=>g});const y=[];var g=(()=>((g=g||{})[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT",g))();const ae={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},ye=g.INFO,be={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},De=(U,Ie,...Ue)=>{if(Ie<U.logLevel)return;const ve=(new Date).toISOString(),Ve=be[Ie];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[Ve](`[${ve}]  ${U.name}:`,...Ue)};class he{constructor(Ie){this.name=Ie,this._logLevel=ye,this._logHandler=De,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in g))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?ae[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...Ie),this._logHandler(this,g.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...Ie),this._logHandler(this,g.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,g.INFO,...Ie),this._logHandler(this,g.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,g.WARN,...Ie),this._logHandler(this,g.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...Ie),this._logHandler(this,g.ERROR,...Ie)}}function Ce(U){y.forEach(Ie=>{Ie.setLogLevel(U)})}function $e(U,Ie){for(const Ue of y){let ve=null;Ie&&Ie.level&&(ve=ae[Ie.level]),Ue.userLogHandler=null===U?null:(Ve,qe,...bt)=>{const Me=bt.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");qe>=(null!=ve?ve:Ve.logLevel)&&U({level:g[qe].toLowerCase(),message:Me,args:bt,type:Ve.name})}}}},9972:(ln,ct,L)=>{"use strict";L.d(ct,{Br:()=>ss,dr:()=>Lr,YG:()=>Vn,Sm:()=>br,wI:()=>Hn,W2:()=>jt,IJ:()=>Mt,W4:()=>an,zq:()=>gn,Gu:()=>mr,gu:()=>Je,Xz:()=>de,pK:()=>q,Ie:()=>Oe,Q$:()=>zt,q_:()=>rn,fG:()=>Dt,jP:()=>Ui,Nd:()=>ns,yW:()=>oe,wd:()=>Be,sr:()=>xt,Pc:()=>ia,r4:()=>Ti,IN:()=>as,t4:()=>ar,j9:()=>fn});var y=L(5861),g=L(2223),ae=L(5030),ye=L(655),be=L(4968),De=L(7579),he=L(1135),Ce=L(96),ve=(L(9613),L(3551),L(1138),L(1898),L(5273)),Ve=L(3577),qe=L(3982),bt=L(9866),Ee=(L(8126),L(2583)),Ge=(L(3457),L(4349),L(4083)),ft=L(9300),_t=L(3900),Ye=L(1884),xe=L(4755);const tt=ve.i,ce=["*"],He=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S);let mt=(()=>{class S{constructor(T,Q){this.injector=T,this.el=Q,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(T){this.el.nativeElement.value=this.lastValue=T,ut(this.el)}handleValueChange(T,Q){T===this.el.nativeElement&&(Q!==this.lastValue&&(this.lastValue=Q,this.onChange(Q)),ut(this.el))}_handleBlurEvent(T){T===this.el.nativeElement&&(this.onTouched(),ut(this.el))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.el.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(ae.a5)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>ut(this.el)));const Q=T.control;Q&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(qt=>{if(typeof Q[qt]<"u"){const Nn=Q[qt].bind(Q);Q[qt]=(...er)=>{Nn(...er),ut(this.el)}}})}}return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.zs3),g.Y36(g.SBq))},S.\u0275dir=g.lG2({type:S,hostBindings:function(T,Q){1&T&&g.NdJ("ionBlur",function(qt){return Q._handleBlurEvent(qt.target)})}}),S})();const ut=S=>{He(()=>{const ne=S.nativeElement,T=null!=ne.value&&ne.value.toString().length>0,Q=Tt(ne);Pt(ne,Q);const Re=ne.closest("ion-item");Re&&Pt(Re,T?[...Q,"item-has-value"]:Q)})},Tt=S=>{const ne=S.classList,T=[];for(let Q=0;Q<ne.length;Q++){const Re=ne.item(Q);null!==Re&&sn(Re,"ng-")&&T.push(`ion-${Re.substring(3)}`)}return T},Pt=(S,ne)=>{const T=S.classList;T.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),T.add(...ne)},sn=(S,ne)=>S.substring(0,ne.length)===ne;let fn=(()=>{class S extends mt{constructor(T,Q){super(T,Q)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.zs3),g.Y36(g.SBq))},S.\u0275dir=g.lG2({type:S,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,Q){1&T&&g.NdJ("ionInput",function(qt){return Q._handleInputEvent(qt.target)})},features:[g._Bn([{provide:ae.JU,useExisting:S,multi:!0}]),g.qOj]}),S})();const Tn=(S,ne)=>{const T=S.prototype;ne.forEach(Q=>{Object.defineProperty(T,Q,{get(){return this.el[Q]},set(Re){this.z.runOutsideAngular(()=>this.el[Q]=Re)}})})},En=(S,ne)=>{const T=S.prototype;ne.forEach(Q=>{T[Q]=function(){const Re=arguments;return this.z.runOutsideAngular(()=>this.el[Q].apply(this.el,Re))}})},Nt=(S,ne,T)=>{T.forEach(Q=>S[Q]=(0,be.R)(ne,Q))};function Lt(S){return function(T){const{defineCustomElementFn:Q,inputs:Re,methods:qt}=S;return void 0!==Q&&Q(),Re&&Tn(T,Re),qt&&En(T,qt),T}}let Lr=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-app"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({})],S),S})(),Vn=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],S),S})(),br=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["collapse"]})],S),S})(),Hn=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],S),S})(),jt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],S),S})(),Mt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],S),S})(),an=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],S),S})(),gn=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["activated","side"]})],S),S})(),mr=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["collapse","mode","translucent"]})],S),S})(),Je=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],S),S})(),de=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["alt","src"]})],S),S})(),q=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement,Nt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],S),S})(),Oe=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],S),S})(),zt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["color","mode","position"]})],S),S})(),rn=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],S),S})(),Dt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["autoHide","color","disabled","menu","mode","type"]})],S),S})(),ns=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-row"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({})],S),S})(),oe=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["color","mode"]})],S),S})(),Be=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["color","size"]})],S),S})(),xt=(()=>{let S=class{constructor(T,Q,Re){this.z=Re,T.detach(),this.el=Q.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Q){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ye.gn)([Lt({inputs:["color","mode"]})],S),S})(),on=(()=>{class S{get(T,Q){const Re=Un();return Re?Re.get(T,Q):null}getBoolean(T,Q){const Re=Un();return!!Re&&Re.getBoolean(T,Q)}getNumber(T,Q){const Re=Un();return Re?Re.getNumber(T,Q):0}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const dn=new g.OlP("USERCONFIG"),Un=()=>{if(typeof window<"u"){const S=window.Ionic;if(null!=S&&S.config)return S.config}return null};let ar=(()=>{class S{constructor(T,Q){this.doc=T,this.backButton=new De.x,this.keyboardDidShow=new De.x,this.keyboardDidHide=new De.x,this.pause=new De.x,this.resume=new De.x,this.resize=new De.x,Q.run(()=>{var Re;let qt;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(Nn,er){return this.subscribe(yr=>yr.register(Nn,Sr=>Q.run(()=>er(Sr))))},Oi(this.pause,T,"pause"),Oi(this.resume,T,"resume"),Oi(this.backButton,T,"ionBackButton"),Oi(this.resize,this.win,"resize"),Oi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Oi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Nn=>{qt=Nn}),null!==(Re=this.win)&&void 0!==Re&&Re.cordova?T.addEventListener("deviceready",()=>{qt("cordova")},{once:!0}):qt("dom")})}is(T){return(0,ve.a)(this.win,T)}platforms(){return(0,ve.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return fi(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,Q;return null===(T=(Q=this.win).matchMedia)||void 0===T?void 0:T.call(Q,"(orientation: portrait)").matches}testUserAgent(T){const Q=this.win.navigator;return!!(null!=Q&&Q.userAgent&&Q.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return S.\u0275fac=function(T){return new(T||S)(g.LFG(xe.K0),g.LFG(g.R0b))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const fi=(S,ne)=>{ne=ne.replace(/[[\]\\]/g,"\\$&");const Q=new RegExp("[\\?&]"+ne+"=([^&#]*)").exec(S);return Q?decodeURIComponent(Q[1].replace(/\+/g," ")):null},Oi=(S,ne,T)=>{ne&&ne.addEventListener(T,Q=>{S.next(null!=Q?Q.detail:void 0)})};let Fi=(()=>{class S{constructor(T,Q,Re,qt){this.location=Q,this.serializer=Re,this.router=qt,this.direction=Cn,this.animated=Er,this.guessDirection="forward",this.lastNavId=-1,qt&&qt.events.subscribe(Nn=>{if(Nn instanceof Ce.OD){const er=Nn.restoredState?Nn.restoredState.navigationId:Nn.id;this.guessDirection=er<this.lastNavId?"back":"forward",this.guessAnimation=Nn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Nn.id:er}}),T.backButton.subscribeWithPriority(0,Nn=>{this.pop(),Nn()})}navigateForward(T,Q={}){return this.setDirection("forward",Q.animated,Q.animationDirection,Q.animation),this.navigate(T,Q)}navigateBack(T,Q={}){return this.setDirection("back",Q.animated,Q.animationDirection,Q.animation),this.navigate(T,Q)}navigateRoot(T,Q={}){return this.setDirection("root",Q.animated,Q.animationDirection,Q.animation),this.navigate(T,Q)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,y.Z)(function*(){let Q=T.topOutlet;for(;Q&&!(yield Q.pop());)Q=Q.parentOutlet})()}setDirection(T,Q,Re,qt){this.direction=T,this.animated=Hr(T,Q,Re),this.animationBuilder=qt}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let Q,T="root";const Re=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,Q=this.guessAnimation):(Q=this.animated,T=this.direction),this.direction=Cn,this.animated=Er,this.animationBuilder=void 0,{direction:T,animation:Q,animationBuilder:Re}}navigate(T,Q){if(Array.isArray(T))return this.router.navigate(T,Q);{const Re=this.serializer.parse(T.toString());return void 0!==Q.queryParams&&(Re.queryParams={...Q.queryParams}),void 0!==Q.fragment&&(Re.fragment=Q.fragment),this.router.navigateByUrl(Re,Q)}}}return S.\u0275fac=function(T){return new(T||S)(g.LFG(ar),g.LFG(xe.Ye),g.LFG(Ce.Hx),g.LFG(Ce.F0,8))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Hr=(S,ne,T)=>{if(!1!==ne){if(void 0!==T)return T;if("forward"===S||"back"===S)return S;if("root"===S&&!0===ne)return"forward"}},Cn="auto",Er=void 0;class Kr{constructor(ne={}){this.data=ne}get(ne){return this.data[ne]}}let Ni=(()=>{class S{constructor(){this.zone=(0,g.f3M)(g.R0b),this.applicationRef=(0,g.f3M)(g.z2F)}create(T,Q,Re){return new Mo(T,Q,this.applicationRef,this.zone,Re)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})();class Mo{constructor(ne,T,Q,Re,qt){this.environmentInjector=ne,this.injector=T,this.applicationRef=Q,this.zone=Re,this.elementReferenceKey=qt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ne,T,Q,Re){return this.zone.run(()=>new Promise(qt=>{const Nn={...Q};void 0!==this.elementReferenceKey&&(Nn[this.elementReferenceKey]=ne),qt(pi(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ne,T,Nn,Re))}))}removeViewFromDom(ne,T){return this.zone.run(()=>new Promise(Q=>{const Re=this.elRefMap.get(T);if(Re){Re.destroy(),this.elRefMap.delete(T);const qt=this.elEventsMap.get(T);qt&&(qt(),this.elEventsMap.delete(T))}Q()}))}}const pi=(S,ne,T,Q,Re,qt,Nn,er,yr,Sr)=>{const qi=g.zs3.create({providers:bs(yr),parent:T}),Ts=(0,g.LMc)(er,{environmentInjector:ne,elementInjector:qi}),ls=Ts.instance,_s=Ts.location.nativeElement;if(yr&&Object.assign(ls,yr),Sr)for(const xo of Sr)_s.classList.add(xo);const Ws=Ur(S,ls,_s);return Nn.appendChild(_s),Q.attachView(Ts.hostView),Re.set(_s,Ts),qt.set(_s,Ws),_s},rs=[bt.L,bt.a,bt.b,bt.c,bt.d],Ur=(S,ne,T)=>S.run(()=>{const Q=rs.filter(Re=>"function"==typeof ne[Re]).map(Re=>{const qt=Nn=>ne[Re](Nn.detail);return T.addEventListener(Re,qt),()=>T.removeEventListener(Re,qt)});return()=>Q.forEach(Re=>Re())}),is=new g.OlP("NavParamsToken"),bs=S=>[{provide:is,useValue:S},{provide:Kr,useFactory:An,deps:[is]}],An=S=>new Kr(S),Fs=(S,ne)=>((S=S.filter(T=>T.stackId!==ne.stackId)).push(ne),S),Ss=(S,ne)=>{const T=S.createUrlTree(["."],{relativeTo:ne});return S.serializeUrl(T)},Ls=(S,ne)=>{if(!S)return;const T=Ro(ne);for(let Q=0;Q<T.length;Q++){if(Q>=S.length)return T[Q];if(T[Q]!==S[Q])return}},Ro=S=>S.split("/").map(ne=>ne.trim()).filter(ne=>""!==ne),vo=S=>{S&&(S.ref.destroy(),S.unlistenEvents())};class gs{constructor(ne,T,Q,Re,qt,Nn){this.containerEl=T,this.router=Q,this.navCtrl=Re,this.zone=qt,this.location=Nn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ne?Ro(ne):void 0}createView(ne,T){var Q;const Re=Ss(this.router,T),qt=null==ne||null===(Q=ne.location)||void 0===Q?void 0:Q.nativeElement,Nn=Ur(this.zone,ne.instance,qt);return{id:this.nextId++,stackId:Ls(this.tabsPrefix,Re),unlistenEvents:Nn,element:qt,ref:ne,url:Re}}getExistingView(ne){const T=Ss(this.router,ne),Q=this.views.find(Re=>Re.url===T);return Q&&Q.ref.changeDetectorRef.reattach(),Q}setActive(ne){var T,Q,Re;const qt=this.navCtrl.consumeTransition();let{direction:Nn,animation:er,animationBuilder:yr}=qt;const Sr=this.activeView,qi=((S,ne)=>!ne||S.stackId!==ne.stackId)(ne,Sr);qi&&(Nn="back",er=void 0);const Ts=this.views.slice();let ls;const _s=this.router;_s.getCurrentNavigation?ls=_s.getCurrentNavigation():null!==(T=_s.navigations)&&void 0!==T&&T.value&&(ls=_s.navigations.value),null!==(Q=ls)&&void 0!==Q&&null!==(Re=Q.extras)&&void 0!==Re&&Re.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ws=this.views.includes(ne),xo=this.insertView(ne,Nn);Ws||ne.ref.changeDetectorRef.detectChanges();const Z=ne.animationBuilder;return void 0===yr&&"back"===Nn&&!qi&&void 0!==Z&&(yr=Z),Sr&&(Sr.animationBuilder=yr),this.zone.runOutsideAngular(()=>this.wait(()=>(Sr&&Sr.ref.changeDetectorRef.detach(),ne.ref.changeDetectorRef.reattach(),this.transition(ne,Sr,er,this.canGoBack(1),!1,yr).then(()=>es(ne,xo,Ts,this.location,this.zone)).then(()=>({enteringView:ne,direction:Nn,animation:er,tabSwitch:qi})))))}canGoBack(ne,T=this.getActiveStackId()){return this.getStack(T).length>ne}pop(ne,T=this.getActiveStackId()){return this.zone.run(()=>{const Q=this.getStack(T);if(Q.length<=ne)return Promise.resolve(!1);const Re=Q[Q.length-ne-1];let qt=Re.url;const Nn=Re.savedData;if(Nn){var er,yr;const qi=Nn.get("primary");null!=qi&&null!==(er=qi.route)&&void 0!==er&&null!==(yr=er._routerState)&&void 0!==yr&&yr.snapshot.url&&(qt=qi.route._routerState.snapshot.url)}const{animationBuilder:Sr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(qt,{...Re.savedExtras,animation:Sr}).then(()=>!0)})}startBackTransition(){const ne=this.activeView;if(ne){const T=this.getStack(ne.stackId),Q=T[T.length-2],Re=Q.animationBuilder;return this.wait(()=>this.transition(Q,ne,"back",this.canGoBack(2),!0,Re))}return Promise.resolve()}endBackTransition(ne){ne?(this.skipTransition=!0,this.pop(1)):this.activeView&&Uo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ne){const T=this.getStack(ne);return T.length>0?T[T.length-1]:void 0}getRootUrl(ne){const T=this.getStack(ne);return T.length>0?T[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(vo),this.activeView=void 0,this.views=[]}getStack(ne){return this.views.filter(T=>T.stackId===ne)}insertView(ne,T){return this.activeView=ne,this.views=((S,ne,T)=>"root"===T?Fs(S,ne):"forward"===T?((S,ne)=>(S.indexOf(ne)>=0?S=S.filter(Q=>Q.stackId!==ne.stackId||Q.id<=ne.id):S.push(ne),S))(S,ne):((S,ne)=>S.indexOf(ne)>=0?S.filter(Q=>Q.stackId!==ne.stackId||Q.id<=ne.id):Fs(S,ne))(S,ne))(this.views,ne,T),this.views.slice()}transition(ne,T,Q,Re,qt,Nn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(T===ne)return Promise.resolve(!1);const er=ne?ne.element:void 0,yr=T?T.element:void 0,Sr=this.containerEl;return er&&er!==yr&&(er.classList.add("ion-page"),er.classList.add("ion-page-invisible"),er.parentElement!==Sr&&Sr.appendChild(er),Sr.commit)?Sr.commit(er,yr,{duration:void 0===Q?0:void 0,direction:Q,showGoBack:Re,progressAnimation:qt,animationBuilder:Nn}):Promise.resolve(!1)}wait(ne){var T=this;return(0,y.Z)(function*(){void 0!==T.runningTask&&(yield T.runningTask,T.runningTask=void 0);const Q=T.runningTask=ne();return Q.finally(()=>T.runningTask=void 0),Q})()}}const es=(S,ne,T,Q,Re)=>"function"==typeof requestAnimationFrame?new Promise(qt=>{requestAnimationFrame(()=>{Uo(S,ne,T,Q,Re),qt()})}):Promise.resolve(),Uo=(S,ne,T,Q,Re)=>{Re.run(()=>T.filter(qt=>!ne.includes(qt)).forEach(vo)),ne.forEach(qt=>{const er=Q.path().split("?")[0].split("#")[0];if(qt!==S&&qt.url!==er){const yr=qt.element;yr.setAttribute("aria-hidden","true"),yr.classList.add("ion-page-hidden"),qt.ref.changeDetectorRef.detach()}})};let Ui=(()=>{class S{constructor(T,Q,Re,qt,Nn,er,yr,Sr){this.parentOutlet=Sr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new he.X(null),this.stackEvents=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Ce.y6),this.location=(0,g.f3M)(g.s_b),this.environmentInjector=(0,g.f3M)(g.lqb),this.config=(0,g.f3M)(on),this.navCtrl=(0,g.f3M)(Fi),this.nativeEl=qt.nativeElement,this.name=T||Ce.eC,this.tabsPrefix="true"===Q?Ss(Nn,yr):void 0,this.stackCtrl=new gs(this.tabsPrefix,this.nativeEl,Nn,this.navCtrl,er,Re),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Q=>this.stackCtrl.endBackTransition(Q)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>(0,Ve.c)(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,Q){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Q=this.getContext();this.activatedView.savedData=new Map(Q.children.contexts);const Re=this.activatedView.savedData.get("primary");if(Re&&Q.route&&(Re.route={...Q.route}),this.activatedView.savedExtras={},Q.route){const qt=Q.route.snapshot;this.activatedView.savedExtras.queryParams=qt.queryParams,this.activatedView.savedExtras.fragment=qt.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,Q){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let Re,qt=this.stackCtrl.getExistingView(T);if(qt){Re=this.activated=qt.ref;const er=qt.savedData;er&&(this.getContext().children.contexts=er),this.updateActivatedRouteProxy(Re.instance,T)}else{var Nn;const er=T._futureSnapshot,yr=this.parentContexts.getOrCreateContext(this.name).children,Sr=new he.X(null),qi=this.createActivatedRouteProxy(Sr,T),Ts=new Br(qi,yr,this.location.injector),ls=null!==(Nn=er.routeConfig.component)&&void 0!==Nn?Nn:er.component;Re=this.activated=this.location.createComponent(ls,{index:this.location.length,injector:Ts,environmentInjector:null!=Q?Q:this.environmentInjector}),Sr.next(Re.instance),qt=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(Re.instance,qi),this.currentActivatedRoute$.next({component:Re.instance,activatedRoute:T})}this.activatedView=qt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(qt).then(er=>{this.activateEvents.emit(Re.instance),this.stackEvents.emit(er)})}canGoBack(T=1,Q){return this.stackCtrl.canGoBack(T,Q)}pop(T=1,Q){return this.stackCtrl.pop(T,Q)}getLastUrl(T){const Q=this.stackCtrl.getLastUrl(T);return Q?Q.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,Q){const Re=new Ce.gz;return Re._futureSnapshot=Q._futureSnapshot,Re._routerState=Q._routerState,Re.snapshot=Q.snapshot,Re.outlet=Q.outlet,Re.component=Q.component,Re._paramMap=this.proxyObservable(T,"paramMap"),Re._queryParamMap=this.proxyObservable(T,"queryParamMap"),Re.url=this.proxyObservable(T,"url"),Re.params=this.proxyObservable(T,"params"),Re.queryParams=this.proxyObservable(T,"queryParams"),Re.fragment=this.proxyObservable(T,"fragment"),Re.data=this.proxyObservable(T,"data"),Re}proxyObservable(T,Q){return T.pipe((0,ft.h)(Re=>!!Re),(0,_t.w)(Re=>this.currentActivatedRoute$.pipe((0,ft.h)(qt=>null!==qt&&qt.component===Re),(0,_t.w)(qt=>qt&&qt.activatedRoute[Q]),(0,Ye.x)())))}updateActivatedRouteProxy(T,Q){const Re=this.proxyMap.get(T);if(!Re)throw new Error("Could not find activated route proxy for view");Re._futureSnapshot=Q._futureSnapshot,Re._routerState=Q._routerState,Re.snapshot=Q.snapshot,Re.outlet=Q.outlet,Re.component=Q.component,this.currentActivatedRoute$.next({component:T,activatedRoute:Q})}}return S.\u0275fac=function(T){return new(T||S)(g.$8M("name"),g.$8M("tabs"),g.Y36(xe.Ye),g.Y36(g.SBq),g.Y36(Ce.F0),g.Y36(g.R0b),g.Y36(Ce.gz),g.Y36(S,12))},S.\u0275dir=g.lG2({type:S,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),S})();class Br{constructor(ne,T,Q){this.route=ne,this.childContexts=T,this.parent=Q}get(ne,T){return ne===Ce.gz?this.route:ne===Ce.y6?this.childContexts:this.parent.get(ne,T)}}class gi{constructor(ne){this.ctrl=ne}create(ne){return this.ctrl.create(ne||{})}dismiss(ne,T,Q){return this.ctrl.dismiss(ne,T,Q)}getTop(){return this.ctrl.getTop()}}let ss=(()=>{class S extends gi{constructor(){super(Ee.a)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),as=(()=>{class S extends gi{constructor(){super(Ee.m),this.angularDelegate=(0,g.f3M)(Ni),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})(),Xs=(()=>{class S extends gi{constructor(){super(Ee.c),this.angularDelegate=(0,g.f3M)(Ni),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})();class Ti{shouldDetach(ne){return!1}shouldAttach(ne){return!1}store(ne,T){}retrieve(ne){return null}shouldReuseRoute(ne,T){if(ne.routeConfig!==T.routeConfig)return!1;const Q=ne.params,Re=T.params,qt=Object.keys(Q),Nn=Object.keys(Re);if(qt.length!==Nn.length)return!1;for(const er of qt)if(Re[er]!==Q[er])return!1;return!0}}const Gs=(S,ne,T)=>()=>{if(ne.defaultView&&typeof window<"u"){(0,qe.s)({...S,_zoneGate:qt=>T.run(qt)});const Re="__zone_symbol__addEventListener"in ne.body?"__zone_symbol__addEventListener":"addEventListener";return function St(){var S=[];if(typeof window<"u"){var ne=window;(!ne.customElements||ne.Element&&(!ne.Element.prototype.closest||!ne.Element.prototype.matches||!ne.Element.prototype.remove||!ne.Element.prototype.getRootNode))&&S.push(L.e(6748).then(L.t.bind(L,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ne.NodeList&&!ne.NodeList.prototype.forEach||!ne.fetch||!function(){try{var Q=new URL("b","http://a");return Q.pathname="c%20d","http://a/c%20d"===Q.href&&Q.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&S.push(L.e(2214).then(L.t.bind(L,4144,23)))}return Promise.all(S)}().then(()=>((S,ne)=>typeof window>"u"?Promise.resolve():(0,Ge.p)().then(()=>(tt(),(0,Ge.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ne))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:He,jmp:qt=>T.runOutsideAngular(qt),ael(qt,Nn,er,yr){qt[Re](Nn,er,yr)},rel(qt,Nn,er,yr){qt.removeEventListener(Nn,er,yr)}}))}};let ia=(()=>{class S{static forRoot(T){return{ngModule:S,providers:[{provide:dn,useValue:T},{provide:g.ip1,useFactory:Gs,multi:!0,deps:[dn,xe.K0,g.R0b]}]}}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({providers:[Ni,as,Xs],imports:[xe.ez]}),S})()},5132:(ln,ct,L)=>{"use strict";L.d(ct,{Gb:()=>y.Gb});var y=L(579)},259:(ln,ct,L)=>{"use strict";L.d(ct,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=L(6881);(0,y.registerVersion)("firebase","9.22.1","app")},9260:(ln,ct,L)=>{"use strict";L.d(ct,{Z:()=>y.Z});var y=L(3942);y.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(ln,ct,L)=>{"use strict";L.r(ct);var y=L(5861),g=L(3942),ae=L(1389),ye=L(2090),he=(L(6881),L(1877),L(4859));function Ce(){return window}function Ie(){return Ie=(0,y.Z)(function*(K,z,q){var Oe;const{BuildInfo:st}=Ce();(0,ae.as)(z.sessionId,"AuthEvent did not contain a session ID");const Le=yield function Ee(K){return vt.apply(this,arguments)}(z.sessionId),ht={};return(0,ae.at)()?ht.ibi=st.packageName:(0,ae.au)()?ht.apn=st.packageName:(0,ae.av)(K,"operation-not-supported-in-this-environment"),st.displayName&&(ht.appDisplayName=st.displayName),ht.sessionId=Le,(0,ae.aw)(K,q,z.type,void 0,null!==(Oe=z.eventId)&&void 0!==Oe?Oe:void 0,ht)}),Ie.apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(K){const{BuildInfo:z}=Ce(),q={};(0,ae.at)()?q.iosBundleId=z.packageName:(0,ae.au)()?q.androidPackageName=z.packageName:(0,ae.av)(K,"operation-not-supported-in-this-environment"),yield(0,ae.ax)(K,q)})).apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(K,z,q){const{cordova:Oe}=Ce();let st=()=>{};try{yield new Promise((Le,ht)=>{let It=null;function Gt(){var un;Le();const Wn=null===(un=Oe.plugins.browsertab)||void 0===un?void 0:un.close;"function"==typeof Wn&&Wn(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function zt(){It||(It=window.setTimeout(()=>{ht((0,ae.az)(K,"redirect-cancelled-by-user"))},2e3))}function rn(){"visible"===(null==document?void 0:document.visibilityState)&&zt()}z.addPassiveListener(Gt),document.addEventListener("resume",zt,!1),(0,ae.au)()&&document.addEventListener("visibilitychange",rn,!1),st=()=>{z.removePassiveListener(Gt),document.removeEventListener("resume",zt,!1),document.removeEventListener("visibilitychange",rn,!1),It&&window.clearTimeout(It)}})}finally{st()}})).apply(this,arguments)}function vt(){return(vt=(0,y.Z)(function*(K){const z=function it(K){if((0,ae.as)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const z=new ArrayBuffer(K.length),q=new Uint8Array(z);for(let Oe=0;Oe<K.length;Oe++)q[Oe]=K.charCodeAt(Oe);return q}(K),q=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(q)).map(st=>st.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends ae.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(z)),super.onEvent(z)}initialized(){var z=this;return(0,y.Z)(function*(){yield z.initPromise})()}}function Ye(K){return xe.apply(this,arguments)}function xe(){return(xe=(0,y.Z)(function*(K){const z=yield pt()._get(yt(K));return z&&(yield pt()._remove(yt(K))),z})).apply(this,arguments)}function tt(){const K=[];for(let q=0;q<20;q++){const Oe=Math.floor(62*Math.random());K.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Oe))}return K.join("")}function pt(){return(0,ae.aC)(ae.b)}function yt(K){return(0,ae.aD)("authEvent",K.config.apiKey,K.name)}function je(K){if(null==K||!K.includes("?"))return{};const[z,...q]=K.split("?");return(0,ye.zd)(q.join("?"))}const Fe=class ke{constructor(){this._redirectPersistence=ae.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ae.aE,this._overrideRedirectResult=ae.aF}_initialize(z){var q=this;return(0,y.Z)(function*(){const Oe=z._key();let st=q.eventManagers.get(Oe);return st||(st=new rt(z),q.eventManagers.set(Oe,st),q.attachCallbackListeners(z,st)),st})()}_openPopup(z){(0,ae.av)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,q,Oe,st){var Le=this;return(0,y.Z)(function*(){!function Me(K){var z,q,Oe,st,Le,ht,It,Gt,zt,rn;const un=Ce();(0,ae.aA)("function"==typeof(null===(z=null==un?void 0:un.universalLinks)||void 0===z?void 0:z.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ae.aA)(typeof(null===(q=null==un?void 0:un.BuildInfo)||void 0===q?void 0:q.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ae.aA)("function"==typeof(null===(Le=null===(st=null===(Oe=null==un?void 0:un.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===st?void 0:st.browsertab)||void 0===Le?void 0:Le.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aA)("function"==typeof(null===(Gt=null===(It=null===(ht=null==un?void 0:un.cordova)||void 0===ht?void 0:ht.plugins)||void 0===It?void 0:It.browsertab)||void 0===Gt?void 0:Gt.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aA)("function"==typeof(null===(rn=null===(zt=null==un?void 0:un.cordova)||void 0===zt?void 0:zt.InAppBrowser)||void 0===rn?void 0:rn.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const ht=yield Le._initialize(z);yield ht.initialized(),ht.resetRedirect(),(0,ae.aG)(),yield Le._originValidation(z);const It=function ft(K,z,q=null){return{type:z,eventId:q,urlResponse:null,sessionId:tt(),postBody:null,tenantId:K.tenantId,error:(0,ae.az)(K,"no-auth-event")}}(z,Oe,st);yield function _t(K,z){return pt()._set(yt(K),z)}(z,It);const Gt=yield function U(K,z,q){return Ie.apply(this,arguments)}(z,It,q),zt=yield function Ve(K){const{cordova:z}=Ce();return new Promise(q=>{z.plugins.browsertab.isAvailable(Oe=>{let st=null;Oe?z.plugins.browsertab.openUrl(K):st=z.InAppBrowser.open(K,(0,ae.ay)()?"_blank":"_system","location=yes"),q(st)})})}(Gt);return function qe(K,z,q){return bt.apply(this,arguments)}(z,ht,zt)})()}_isIframeWebStorageSupported(z,q){throw new Error("Method not implemented.")}_originValidation(z){const q=z._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function Ue(K){return ve.apply(this,arguments)}(z)),this.originValidationPromises[q]}attachCallbackListeners(z,q){const{universalLinks:Oe,handleOpenURL:st,BuildInfo:Le}=Ce(),ht=setTimeout((0,y.Z)(function*(){yield Ye(z),q.onEvent(He())}),500),It=function(){var rn=(0,y.Z)(function*(un){clearTimeout(ht);const Wn=yield Ye(z);let zn=null;Wn&&null!=un&&un.url&&(zn=function St(K,z){var q,Oe;const st=function Pe(K){const z=je(K),q=z.link?decodeURIComponent(z.link):void 0,Oe=je(q).link,st=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return je(st).link||st||Oe||q||K}(z);if(st.includes("/__/auth/callback")){const Le=je(st),ht=Le.firebaseError?function ce(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(Le.firebaseError)):null,It=null===(Oe=null===(q=null==ht?void 0:ht.code)||void 0===q?void 0:q.split("auth/"))||void 0===Oe?void 0:Oe[1],Gt=It?(0,ae.az)(It):null;return Gt?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:st,postBody:null}}return null}(Wn,un.url)),q.onEvent(zn||He())});return function(Wn){return rn.apply(this,arguments)}}();typeof Oe<"u"&&"function"==typeof Oe.subscribe&&Oe.subscribe(null,It);const Gt=st,zt=`${Le.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var rn=(0,y.Z)(function*(un){if(un.toLowerCase().startsWith(zt)&&It({url:un}),"function"==typeof Gt)try{Gt(un)}catch(Wn){console.error(Wn)}});return function(un){return rn.apply(this,arguments)}}()}};function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ae.az)("no-auth-event")}}function sn(){var K;return(null===(K=null==self?void 0:self.location)||void 0===K?void 0:K.protocol)||null}function et(K=(0,ye.z$)()){return!("file:"!==sn()&&"ionic:"!==sn()&&"capacitor:"!==sn()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function En(){try{const K=self.localStorage,z=ae.aL();if(K)return K.setItem(z,"1"),K.removeItem(z),!function Tn(K=(0,ye.z$)()){return function Jt(){return(0,ye.w1)()&&11===(null==document?void 0:document.documentMode)}()||function fn(K=(0,ye.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,ye.hl)()}catch{return Nt()&&(0,ye.hl)()}return!1}function Nt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function In(){return(function At(){return"http:"===sn()||"https:"===sn()}()||(0,ye.ru)()||et())&&!function Ot(){return(0,ye.b$)()||(0,ye.UG)()}()&&En()&&!Nt()}function Lt(){return et()&&typeof document<"u"}function fr(){return(fr=(0,y.Z)(function*(){return!!Lt()&&new Promise(K=>{const z=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),K(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},Lr=ae.aA,sr="persistence";function Ar(K){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,y.Z)(function*(K){yield K._initializationPromise;const z=vn(),q=ae.aD(sr,K.config.apiKey,K.name);z&&z.setItem(q,K._getPersistence())})).apply(this,arguments)}function vn(){var K;try{return(null===(K=function gr(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Vn=ae.aA;class br{constructor(){this.browserResolver=ae.aC(ae.k),this.cordovaResolver=ae.aC(Fe),this.underlyingResolver=null,this._redirectPersistence=ae.a,this._completeRedirectFn=ae.aE,this._overrideRedirectResult=ae.aF}_initialize(z){var q=this;return(0,y.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,q,Oe,st){var Le=this;return(0,y.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(z,q,Oe,st)})()}_openRedirect(z,q,Oe,st){var Le=this;return(0,y.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(z,q,Oe,st)})()}_isIframeWebStorageSupported(z,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,q)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return Lt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,y.Z)(function*(){if(z.underlyingResolver)return;const q=yield function rr(){return fr.apply(this,arguments)}();z.underlyingResolver=q?z.cordovaResolver:z.browserResolver})()}}function vr(K){return K.unwrap()}function kr(K){return Kn(K)}function Kn(K){const{_tokenResponse:z}=K instanceof ye.ZR?K.customData:K;if(!z)return null;if(!(K instanceof ye.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return ae.P.credentialFromResult(K);const q=z.providerId;if(!q||q===ae.p.PASSWORD)return null;let Oe;switch(q){case ae.p.GOOGLE:Oe=ae.V;break;case ae.p.FACEBOOK:Oe=ae.U;break;case ae.p.GITHUB:Oe=ae.W;break;case ae.p.TWITTER:Oe=ae.Z;break;default:const{oauthIdToken:st,oauthAccessToken:Le,oauthTokenSecret:ht,pendingToken:It,nonce:Gt}=z;return Le||ht||st||It?It?q.startsWith("saml.")?ae.aO._create(q,It):ae.L._fromParams({providerId:q,signInMethod:q,pendingToken:It,idToken:st,accessToken:Le}):new ae.X(q).credential({idToken:st,accessToken:Le,rawNonce:Gt}):null}return K instanceof ye.ZR?Oe.credentialFromError(K):Oe.credentialFromResult(K)}function xn(K,z){return z.catch(q=>{throw q instanceof ye.ZR&&function Dr(K,z){var q;const Oe=null===(q=z.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null==z?void 0:z.code))z.resolver=new jt(K,ae.aq(K,z));else if(Oe){const st=Kn(z),Le=z;st&&(Le.credential=st,Le.tenantId=Oe.tenantId||void 0,Le.email=Oe.email||void 0,Le.phoneNumber=Oe.phoneNumber||void 0)}}(K,q),q}).then(q=>{const st=q.user;return{operationType:q.operationType,credential:kr(q),additionalUserInfo:ae.ao(q),user:fe.getOrCreate(st)}})}function ei(K,z){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,y.Z)(function*(K,z){const q=yield z;return{verificationId:q.verificationId,confirm:Oe=>xn(K,q.confirm(Oe))}})).apply(this,arguments)}class jt{constructor(z,q){this.resolver=q,this.auth=function ur(K){return K.wrapped()}(z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return xn(vr(this.auth),this.resolver.resolveSignIn(z))}}class fe{constructor(z){this._delegate=z,this.multiFactor=ae.ar(z)}static getOrCreate(z){return fe.USER_MAP.has(z)||fe.USER_MAP.set(z,new fe(z)),fe.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var q=this;return(0,y.Z)(function*(){return xn(q.auth,ae.a0(q._delegate,z))})()}linkWithPhoneNumber(z,q){var Oe=this;return(0,y.Z)(function*(){return ei(Oe.auth,ae.l(Oe._delegate,z,q))})()}linkWithPopup(z){var q=this;return(0,y.Z)(function*(){return xn(q.auth,ae.d(q._delegate,z,br))})()}linkWithRedirect(z){var q=this;return(0,y.Z)(function*(){return yield Ar(ae.aH(q.auth)),ae.g(q._delegate,z,br)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var q=this;return(0,y.Z)(function*(){return xn(q.auth,ae.a1(q._delegate,z))})()}reauthenticateWithPhoneNumber(z,q){return ei(this.auth,ae.r(this._delegate,z,q))}reauthenticateWithPopup(z){return xn(this.auth,ae.e(this._delegate,z,br))}reauthenticateWithRedirect(z){var q=this;return(0,y.Z)(function*(){return yield Ar(ae.aH(q.auth)),ae.h(q._delegate,z,br)})()}sendEmailVerification(z){return ae.ae(this._delegate,z)}unlink(z){var q=this;return(0,y.Z)(function*(){return yield ae.an(q._delegate,z),q})()}updateEmail(z){return ae.aj(this._delegate,z)}updatePassword(z){return ae.ak(this._delegate,z)}updatePhoneNumber(z){return ae.u(this._delegate,z)}updateProfile(z){return ae.ai(this._delegate,z)}verifyBeforeUpdateEmail(z,q){return ae.af(this._delegate,z,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fe.USER_MAP=new WeakMap;const ze=ae.aA;let Mt=(()=>{class K{constructor(q,Oe){if(this.app=q,Oe.isInitialized())return this._delegate=Oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:st}=q.options;ze(st,"invalid-api-key",{appName:q.name}),ze(st,"invalid-api-key",{appName:q.name});const Le=typeof window<"u"?br:void 0;this._delegate=Oe.initialize({options:{persistence:gn(st,q.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(ae.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Oe){ae.I(this._delegate,q,Oe)}applyActionCode(q){return ae.a5(this._delegate,q)}checkActionCode(q){return ae.a6(this._delegate,q)}confirmPasswordReset(q,Oe){return ae.a4(this._delegate,q,Oe)}createUserWithEmailAndPassword(q,Oe){var st=this;return(0,y.Z)(function*(){return xn(st._delegate,ae.a8(st._delegate,q,Oe))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return ae.ad(this._delegate,q)}isSignInWithEmailLink(q){return ae.ab(this._delegate,q)}getRedirectResult(){var q=this;return(0,y.Z)(function*(){ze(In(),q._delegate,"operation-not-supported-in-this-environment");const Oe=yield ae.j(q._delegate,br);return Oe?xn(q._delegate,Promise.resolve(Oe)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function mt(K,z){(0,ae.aH)(K)._logFramework(z)}(this._delegate,q)}onAuthStateChanged(q,Oe,st){const{next:Le,error:ht,complete:It}=an(q,Oe,st);return this._delegate.onAuthStateChanged(Le,ht,It)}onIdTokenChanged(q,Oe,st){const{next:Le,error:ht,complete:It}=an(q,Oe,st);return this._delegate.onIdTokenChanged(Le,ht,It)}sendSignInLinkToEmail(q,Oe){return ae.aa(this._delegate,q,Oe)}sendPasswordResetEmail(q,Oe){return ae.a3(this._delegate,q,Oe||void 0)}setPersistence(q){var Oe=this;return(0,y.Z)(function*(){let st;switch(function nr(K,z){Lr(Object.values(nn).includes(z),K,"invalid-persistence-type"),(0,ye.b$)()?Lr(z!==nn.SESSION,K,"unsupported-persistence-type"):(0,ye.UG)()?Lr(z===nn.NONE,K,"unsupported-persistence-type"):Nt()?Lr(z===nn.NONE||z===nn.LOCAL&&(0,ye.hl)(),K,"unsupported-persistence-type"):Lr(z===nn.NONE||En(),K,"unsupported-persistence-type")}(Oe._delegate,q),q){case nn.SESSION:st=ae.a;break;case nn.LOCAL:st=(yield ae.aC(ae.i)._isAvailable())?ae.i:ae.b;break;case nn.NONE:st=ae.N;break;default:return ae.av("argument-error",{appName:Oe._delegate.name})}return Oe._delegate.setPersistence(st)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return xn(this._delegate,ae._(this._delegate))}signInWithCredential(q){return xn(this._delegate,ae.$(this._delegate,q))}signInWithCustomToken(q){return xn(this._delegate,ae.a2(this._delegate,q))}signInWithEmailAndPassword(q,Oe){return xn(this._delegate,ae.a9(this._delegate,q,Oe))}signInWithEmailLink(q,Oe){return xn(this._delegate,ae.ac(this._delegate,q,Oe))}signInWithPhoneNumber(q,Oe){return ei(this._delegate,ae.s(this._delegate,q,Oe))}signInWithPopup(q){var Oe=this;return(0,y.Z)(function*(){return ze(In(),Oe._delegate,"operation-not-supported-in-this-environment"),xn(Oe._delegate,ae.c(Oe._delegate,q,br))})()}signInWithRedirect(q){var Oe=this;return(0,y.Z)(function*(){return ze(In(),Oe._delegate,"operation-not-supported-in-this-environment"),yield Ar(Oe._delegate),ae.f(Oe._delegate,q,br)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return ae.a7(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=nn,K})();function an(K,z,q){let Oe=K;"function"!=typeof K&&({next:Oe,error:z,complete:q}=K);const st=Oe;return{next:ht=>st(ht&&fe.getOrCreate(ht)),error:z,complete:q}}function gn(K,z){const q=function Sn(K,z){const q=vn();if(!q)return[];const Oe=ae.aD(sr,K,z);switch(q.getItem(Oe)){case nn.NONE:return[ae.N];case nn.LOCAL:return[ae.i,ae.a];case nn.SESSION:return[ae.a];default:return[]}}(K,z);if(typeof self<"u"&&!q.includes(ae.i)&&q.push(ae.i),typeof window<"u")for(const Oe of[ae.b,ae.a])q.includes(Oe)||q.push(Oe);return q.includes(ae.N)||q.push(ae.N),q}class pr{constructor(){this.providerId="phone",this._delegate=new ae.P(vr(g.Z.auth()))}static credential(z,q){return ae.P.credential(z,q)}verifyPhoneNumber(z,q){return this._delegate.verifyPhoneNumber(z,q)}unwrap(){return this._delegate}}pr.PHONE_SIGN_IN_METHOD=ae.P.PHONE_SIGN_IN_METHOD,pr.PROVIDER_ID=ae.P.PROVIDER_ID;const Fn=ae.aA;class mr{constructor(z,q,Oe=g.Z.app()){var st;Fn(null===(st=Oe.options)||void 0===st?void 0:st.apiKey,"invalid-api-key",{appName:Oe.name}),this._delegate=new ae.R(z,q,Oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function de(K){K.INTERNAL.registerComponent(new he.wA("auth-compat",z=>{const q=z.getProvider("app-compat").getImmediate(),Oe=z.getProvider("auth");return new Mt(q,Oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ae.A.EMAIL_SIGNIN,PASSWORD_RESET:ae.A.PASSWORD_RESET,RECOVER_EMAIL:ae.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ae.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ae.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ae.A.VERIFY_EMAIL}},EmailAuthProvider:ae.Q,FacebookAuthProvider:ae.U,GithubAuthProvider:ae.W,GoogleAuthProvider:ae.V,OAuthProvider:ae.X,SAMLAuthProvider:ae.Y,PhoneAuthProvider:pr,PhoneMultiFactorGenerator:ae.m,RecaptchaVerifier:mr,TwitterAuthProvider:ae.Z,Auth:Mt,AuthCredential:ae.J,Error:ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.4.2")}(g.Z)},5861:(ln,ct,L)=>{"use strict";function y(ae,ye,be,De,he,Ce,$e){try{var U=ae[Ce]($e),Ie=U.value}catch(Ue){return void be(Ue)}U.done?ye(Ie):Promise.resolve(Ie).then(De,he)}function g(ae){return function(){var ye=this,be=arguments;return new Promise(function(De,he){var Ce=ae.apply(ye,be);function $e(Ie){y(Ce,De,he,$e,U,"next",Ie)}function U(Ie){y(Ce,De,he,$e,U,"throw",Ie)}$e(void 0)})}}L.d(ct,{Z:()=>g})}},ln=>{ln(ln.s=7979)}]);