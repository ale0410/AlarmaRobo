(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2313:(un,dt,L)=>{"use strict";L.d(dt,{nm:()=>Zr});var y=L(3324),xe=(L(2223),L(3692),L(259),L(5861)),Ee=L(6881),de=L(4859),Ce=L(2090),Ve=L(1877);const Te=new Map,be={activated:!1,tokenObservers:[]},ze={initialized:!1,enabled:!1};function ve(G){return Te.get(G)||Object.assign({},be)}function Ze(){return ze}const It="https://content-firebaseappcheck.googleapis.com/v1",ft="exchangeDebugToken",ot={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class it{constructor(X,_e,ae,z,ie){if(this.operation=X,this.retryPolicy=_e,this.getWaitDuration=ae,this.lowerBound=z,this.upperBound=ie,this.pending=null,this.nextErrorWaitInterval=z,z>ie)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(X){var _e=this;return(0,xe.Z)(function*(){_e.stop();try{_e.pending=new Ce.BH,yield function gt(G){return new Promise(X=>{setTimeout(X,G)})}(_e.getNextRun(X)),_e.pending.resolve(),yield _e.pending.promise,_e.pending=new Ce.BH,yield _e.operation(),_e.pending.resolve(),yield _e.pending.promise,_e.process(!0).catch(()=>{})}catch(ae){_e.retryPolicy(ae)?_e.process(!1).catch(()=>{}):_e.stop()}})()}getNextRun(X){if(X)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_e}}}const Ye=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(G){if(!ve(G).activated)throw Ye.create("use-before-activation",{appName:G.name})}function vt(G,X){return ce.apply(this,arguments)}function ce(){return(ce=(0,xe.Z)(function*({url:G,body:X},_e){const ae={"Content-Type":"application/json"},z=_e.getImmediate({optional:!0});if(z){const fn=yield z.getHeartbeatsHeader();fn&&(ae["X-Firebase-Client"]=fn)}const ie={method:"POST",body:JSON.stringify(X),headers:ae};let $e,Qe;try{$e=yield fetch(G,ie)}catch(fn){throw Ye.create("fetch-network-error",{originalErrorMessage:null==fn?void 0:fn.message})}if(200!==$e.status)throw Ye.create("fetch-status-error",{httpStatus:$e.status});try{Qe=yield $e.json()}catch(fn){throw Ye.create("fetch-parse-error",{originalErrorMessage:null==fn?void 0:fn.message})}const ht=Qe.ttl.match(/^([\d.]+)(s)$/);if(!ht||!ht[2]||isNaN(Number(ht[1])))throw Ye.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Qe.ttl}`});const xt=1e3*Number(ht[1]),an=Date.now();return{token:Qe.token,expireTimeMillis:an+xt,issuedAtTimeMillis:an}})).apply(this,arguments)}function We(G,X){const{projectId:_e,appId:ae,apiKey:z}=G.options;return{url:`${It}/projects/${_e}/apps/${ae}:${ft}?key=${z}`,body:{debug_token:X}}}const Ne="firebase-app-check-database",ke=1,je="firebase-app-check-store";let ct=null;function Jt(){return(Jt=(0,xe.Z)(function*(G,X){const ae=(yield function Tt(){return ct||(ct=new Promise((G,X)=>{try{const _e=indexedDB.open(Ne,ke);_e.onsuccess=ae=>{G(ae.target.result)},_e.onerror=ae=>{var z;X(Ye.create("storage-open",{originalErrorMessage:null===(z=ae.target.error)||void 0===z?void 0:z.message}))},_e.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(je,{keyPath:"compositeKey"})}}catch(_e){X(Ye.create("storage-open",{originalErrorMessage:null==_e?void 0:_e.message}))}}),ct)}()).transaction(je,"readwrite"),ie=ae.objectStore(je).put({compositeKey:G,value:X});return new Promise(($e,Qe)=>{ie.onsuccess=ht=>{$e()},ae.onerror=ht=>{var xt;Qe(Ye.create("storage-set",{originalErrorMessage:null===(xt=ht.target.error)||void 0===xt?void 0:xt.message}))}})})).apply(this,arguments)}const Nt=new Ve.Yd("@firebase/app-check");function Kn(G,X){return(0,Ce.hl)()?function rn(G,X){return function kt(G,X){return Jt.apply(this,arguments)}(function _n(G){return`${G.options.appId}-${G.name}`}(G),X)}(G,X).catch(_e=>{Nt.warn(`Failed to write token to IndexedDB. Error: ${_e}`)}):Promise.resolve()}function Yt(){return Ze().enabled}function Pr(){return er.apply(this,arguments)}function er(){return(er=(0,xe.Z)(function*(){const G=Ze();if(G.enabled&&G.token)return G.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tr={error:"UNKNOWN_ERROR"};function Fr(G){return Ce.US.encodeString(JSON.stringify(G),!1)}function Cn(G){return En.apply(this,arguments)}function En(){return(En=(0,xe.Z)(function*(G,X=!1){const _e=G.app;St(_e);const ae=ve(_e);let ie,z=ae.token;if(z&&!gn(z)&&(ae.token=void 0,z=void 0),!z){const ht=yield ae.cachedTokenPromise;ht&&(gn(ht)?z=ht:yield Kn(_e,void 0))}if(!X&&z&&gn(z))return{token:z.token};let Qe,$e=!1;if(Yt()){ae.exchangeTokenPromise||(ae.exchangeTokenPromise=vt(We(_e,yield Pr()),G.heartbeatServiceProvider).finally(()=>{ae.exchangeTokenPromise=void 0}),$e=!0);const ht=yield ae.exchangeTokenPromise;return yield Kn(_e,ht),ae.token=ht,{token:ht.token}}try{ae.exchangeTokenPromise||(ae.exchangeTokenPromise=ae.provider.getToken().finally(()=>{ae.exchangeTokenPromise=void 0}),$e=!0),z=yield ve(_e).exchangeTokenPromise}catch(ht){"appCheck/throttled"===ht.code?Nt.warn(ht.message):Nt.error(ht),ie=ht}return z?ie?Qe=gn(z)?{token:z.token,internalError:ie}:ei(ie):(Qe={token:z.token},ae.token=z,yield Kn(_e,z)):Qe=ei(ie),$e&&function Wn(G,X){const _e=ve(G).tokenObservers;for(const ae of _e)try{"EXTERNAL"===ae.type&&null!=X.error?ae.error(X.error):ae.next(X)}catch{}}(_e,Qe),Qe})).apply(this,arguments)}function xn(G){return fr.apply(this,arguments)}function fr(){return(fr=(0,xe.Z)(function*(G){const X=G.app;St(X);const{provider:_e}=ve(X);if(Yt()){const ae=yield Pr(),{token:z}=yield vt(We(X,ae),G.heartbeatServiceProvider);return{token:z}}{const{token:ae}=yield _e.getToken();return{token:ae}}})).apply(this,arguments)}function cr(G,X){const _e=ve(G),ae=_e.tokenObservers.filter(z=>z.next!==X);0===ae.length&&_e.tokenRefresher&&_e.tokenRefresher.isRunning()&&_e.tokenRefresher.stop(),_e.tokenObservers=ae}function Rr(G){const{app:X}=G,_e=ve(X);let ae=_e.tokenRefresher;ae||(ae=function Tr(G){const{app:X}=G;return new it((0,xe.Z)(function*(){let ae;if(ae=ve(X).token?yield Cn(G,!0):yield Cn(G),ae.error)throw ae.error;if(ae.internalError)throw ae.internalError}),()=>!0,()=>{const _e=ve(X);if(_e.token){let ae=_e.token.issuedAtTimeMillis+.5*(_e.token.expireTimeMillis-_e.token.issuedAtTimeMillis)+3e5;return ae=Math.min(ae,_e.token.expireTimeMillis-3e5),Math.max(0,ae-Date.now())}return 0},ot.RETRIAL_MIN_WAIT,ot.RETRIAL_MAX_WAIT)}(G),_e.tokenRefresher=ae),!ae.isRunning()&&_e.isTokenAutoRefreshEnabled&&ae.start()}function gn(G){return G.expireTimeMillis-Date.now()>0}function ei(G){return{token:Fr(tr),error:G}}class Vn{constructor(X,_e){this.app=X,this.heartbeatServiceProvider=_e}_delete(){const{tokenObservers:X}=ve(this.app);for(const _e of X)cr(this.app,_e.next);return Promise.resolve()}}const vn="app-check-internal";!function Nn(){(0,Ee._registerComponent)(new de.wA("app-check",G=>function Ut(G,X){return new Vn(G,X)}(G.getProvider("app").getImmediate(),G.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((G,X,_e)=>{G.getProvider(vn).initialize()})),(0,Ee._registerComponent)(new de.wA(vn,G=>function fe(G){return{getToken:X=>Cn(G,X),getLimitedUseToken:()=>xn(G),addTokenListener:X=>function ur(G,X,_e,ae){const{app:z}=G,ie=ve(z);if(ie.tokenObservers=[...ie.tokenObservers,{next:_e,error:ae,type:X}],ie.token&&gn(ie.token)){const Qe=ie.token;Promise.resolve().then(()=>{_e({token:Qe.token}),Rr(G)}).catch(()=>{})}ie.cachedTokenPromise.then(()=>Rr(G))}(G,"INTERNAL",X),removeTokenListener:X=>cr(G.app,X)}}(G.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/app-check","0.8.0")}();class Zr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(un,dt,L)=>{"use strict";L.d(dt,{Ot:()=>ge,ZF:()=>Me,hX:()=>ve,z6:()=>xe});var y=L(259),g=L(2223),se=L(3324);class ge{constructor(it){return it}}class xe{constructor(){return(0,y.C6)()}}const Ce=new g.OlP("angularfire2._apps"),Ve={provide:ge,useFactory:function de(Ge){return Ge&&1===Ge.length?Ge[0]:new ge((0,y.Mq)())},deps:[[new g.FiY,Ce]]},Te={provide:xe,deps:[[new g.FiY,Ce]]};function be(Ge){return(it,gt)=>{const _t=it.runOutsideAngular(()=>Ge(gt));return new ge(_t)}}let ze=(()=>{class Ge{constructor(gt){(0,y.KN)("angularfire",se.q4.full,"core"),(0,y.KN)("angularfire",se.q4.full,"app"),(0,y.KN)("angular",g.q4F.full,gt.toString())}}return Ge.\u0275fac=function(gt){return new(gt||Ge)(g.LFG(g.Lbi))},Ge.\u0275mod=g.oAB({type:Ge}),Ge.\u0275inj=g.cJS({providers:[Ve,Te]}),Ge})();function ve(Ge,...it){return{ngModule:ze,providers:[{provide:Ce,useFactory:be(Ge),multi:!0,deps:[g.R0b,g.zs3,se.HU,...it]}]}}const Me=(0,se.u3)(y.ZF,!0)},3385:(un,dt,L)=>{"use strict";L.d(dt,{zQ:()=>mt,ww:()=>vt,rT:()=>Ye,f7:()=>St,L6:()=>gt,_Q:()=>_t,lh:()=>Oe,Qv:()=>it,nw:()=>nt});var y=L(2223),g=L(7579),se=L(9646),ge=L(9751),xe=L(8996),Ee=L(6451),de=L(5363),Ce=L(3900),Ve=L(4004),Te=L(3151),be=L(590),ze=L(576);function ve(ce,De){return(0,ze.m)(De)?(0,Ce.w)(()=>ce,De):(0,Ce.w)(()=>ce)}var Ue=L(9468),Ze=L(9300),It=L(3324),Me=L(2011),we=L(4755),ft=L(2313),ot=L(9260);const it=new y.OlP("angularfire2.auth.use-emulator"),gt=new y.OlP("angularfire2.auth.settings"),_t=new y.OlP("angularfire2.auth.tenant-id"),Ye=new y.OlP("angularfire2.auth.langugage-code"),Oe=new y.OlP("angularfire2.auth.use-device-language"),St=new y.OlP("angularfire.auth.persistence"),nt=(ce,De,He,We,Ne,ke,je,ne)=>(0,Me.cc)(`${ce.name}.auth`,"AngularFireAuth",ce.name,()=>{const ct=De.runOutsideAngular(()=>ce.auth());if(He&&ct.useEmulator(...He),We&&(ct.tenantId=We),ct.languageCode=Ne,ke&&ct.useDeviceLanguage(),je)for(const[Tt,Pt]of Object.entries(je))ct.settings[Tt]=Pt;return ne&&ct.setPersistence(ne),ct},[He,We,Ne,ke,je,ne]);let mt=(()=>{class ce{constructor(He,We,Ne,ke,je,ne,ct,Tt,Pt,rn,At,tt){const kt=new g.x,Jt=(0,se.of)(void 0).pipe((0,de.Q)(je.outsideAngular),(0,Ce.w)(()=>ke.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Ve.U)(()=>(0,Me.on)(He,ke,We)),(0,Ve.U)(cn=>nt(cn,ke,ne,Tt,Pt,rn,ct,At)),(0,Te.d)({bufferSize:1,refCount:!1}));if((0,we.PM)(Ne))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,se.of)(null);else{Jt.pipe((0,be.P)()).subscribe();const Mn=Jt.pipe((0,Ce.w)(In=>In.getRedirectResult().then(Ft=>Ft,()=>null)),It.iC,(0,Te.d)({bufferSize:1,refCount:!1})),_n=Jt.pipe((0,Ce.w)(In=>new ge.y(Ft=>({unsubscribe:ke.runOutsideAngular(()=>In.onAuthStateChanged(Kn=>Ft.next(Kn),Kn=>Ft.error(Kn),()=>Ft.complete()))})))),Nt=Jt.pipe((0,Ce.w)(In=>new ge.y(Ft=>({unsubscribe:ke.runOutsideAngular(()=>In.onIdTokenChanged(Kn=>Ft.next(Kn),Kn=>Ft.error(Kn),()=>Ft.complete()))}))));this.authState=Mn.pipe(ve(_n),(0,Ue.R)(je.outsideAngular),(0,de.Q)(je.insideAngular)),this.user=Mn.pipe(ve(Nt),(0,Ue.R)(je.outsideAngular),(0,de.Q)(je.insideAngular)),this.idToken=this.user.pipe((0,Ce.w)(In=>In?(0,xe.D)(In.getIdToken()):(0,se.of)(null))),this.idTokenResult=this.user.pipe((0,Ce.w)(In=>In?(0,xe.D)(In.getIdTokenResult()):(0,se.of)(null))),this.credential=(0,Ee.T)(Mn,kt,this.authState.pipe((0,Ze.h)(In=>!In))).pipe((0,Ve.U)(In=>null!=In&&In.user?In:null),(0,Ue.R)(je.outsideAngular),(0,de.Q)(je.insideAngular))}return(0,Me.pX)(this,Jt,ke,{spy:{apply:(cn,Mn,_n)=>{(cn.startsWith("signIn")||cn.startsWith("createUser"))&&_n.then(Nt=>kt.next(Nt))}}})}}return ce.\u0275fac=function(He){return new(He||ce)(y.LFG(Me.Dh),y.LFG(Me.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(It.HU),y.LFG(it,8),y.LFG(gt,8),y.LFG(_t,8),y.LFG(Ye,8),y.LFG(Oe,8),y.LFG(St,8),y.LFG(ft.nm,8))},ce.\u0275prov=y.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"}),ce})(),vt=(()=>{class ce{constructor(){ot.Z.registerVersion("angularfire",It.q4.full,"auth-compat")}}return ce.\u0275fac=function(He){return new(He||ce)},ce.\u0275mod=y.oAB({type:ce}),ce.\u0275inj=y.cJS({providers:[mt]}),ce})()},1085:(un,dt,L)=>{"use strict";L.d(dt,{ST:()=>ei,yb:()=>Vn});var y=L(2223),g=L(4986),se=L(9751),ge=L(8996),xe=L(9646),Ee=L(3324),de=L(8675),Ce=L(1520),Ve=L(4004),Te=L(5026),be=L(1884),ze=L(9300),ve=L(2011),Ue=L(4755),It=(L(9568),L(3942)),Me=L(2810),we=L(2090),ft=L(4859);function it(Ut,fe){if(void 0===fe)return{merge:!1};if(void 0!==fe.mergeFields&&void 0!==fe.merge)throw new Me.WA("invalid-argument",`Invalid options passed to function ${Ut}(): You cannot specify both "merge" and "mergeFields".`);return fe}function gt(){if(typeof Uint8Array>"u")throw new Me.WA("unimplemented","Uint8Arrays are not available in this environment.")}function _t(){if(!(0,Me.Me)())throw new Me.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ye{constructor(fe){this._delegate=fe}static fromBase64String(fe){return _t(),new Ye(Me.Jj.fromBase64String(fe))}static fromUint8Array(fe){return gt(),new Ye(Me.Jj.fromUint8Array(fe))}toBase64(){return _t(),this._delegate.toBase64()}toUint8Array(){return gt(),this._delegate.toUint8Array()}isEqual(fe){return this._delegate.isEqual(fe._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Oe(Ut){return function St(Ut,fe){if("object"!=typeof Ut||null===Ut)return!1;const Ke=Ut;for(const Mt of fe)if(Mt in Ke&&"function"==typeof Ke[Mt])return!0;return!1}(Ut,["next","error","complete"])}class nt{enableIndexedDbPersistence(fe,Ke){return(0,Me.ST)(fe._delegate,{forceOwnership:Ke})}enableMultiTabIndexedDbPersistence(fe){return(0,Me.fH)(fe._delegate)}clearIndexedDbPersistence(fe){return(0,Me.Fc)(fe._delegate)}}class mt{constructor(fe,Ke,Mt){this._delegate=Ke,this._persistenceProvider=Mt,this.INTERNAL={delete:()=>this.terminate()},fe instanceof Me.l7||(this._appCompat=fe)}get _databaseId(){return this._delegate._databaseId}settings(fe){const Ke=this._delegate._getSettings();!fe.merge&&Ke.host!==fe.host&&(0,Me.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),fe.merge&&delete(fe=Object.assign(Object.assign({},Ke),fe)).merge,this._delegate._setSettings(fe)}useEmulator(fe,Ke,Mt={}){(0,Me.at)(this._delegate,fe,Ke,Mt)}enableNetwork(){return(0,Me.Ix)(this._delegate)}disableNetwork(){return(0,Me.TF)(this._delegate)}enablePersistence(fe){let Ke=!1,Mt=!1;return fe&&(Ke=!!fe.synchronizeTabs,Mt=!!fe.experimentalForceOwningTab,(0,Me.Wi)("synchronizeTabs",Ke,"experimentalForceOwningTab",Mt)),Ke?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Mt)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Me.Mx)(this._delegate)}onSnapshotsInSync(fe){return(0,Me.sc)(this._delegate,fe)}get app(){if(!this._appCompat)throw new Me.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(fe){try{return new tt(this,(0,Me.hJ)(this._delegate,fe))}catch(Ke){throw ke(Ke,"collection()","Firestore.collection()")}}doc(fe){try{return new Ne(this,(0,Me.JU)(this._delegate,fe))}catch(Ke){throw ke(Ke,"doc()","Firestore.doc()")}}collectionGroup(fe){try{return new Pt(this,(0,Me.B$)(this._delegate,fe))}catch(Ke){throw ke(Ke,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(fe){return(0,Me.i3)(this._delegate,Ke=>fe(new De(this,Ke)))}batch(){return(0,Me.qY)(this._delegate),new He(new Me.PU(this._delegate,fe=>(0,Me.GL)(this._delegate,fe)))}loadBundle(fe){return(0,Me.Pb)(this._delegate,fe)}namedQuery(fe){return(0,Me.L$)(this._delegate,fe).then(Ke=>Ke?new Pt(this,Ke):null)}}class vt extends Me.u7{constructor(fe){super(),this.firestore=fe}convertBytes(fe){return new Ye(new Me.Jj(fe))}convertReference(fe){const Ke=this.convertDocumentKey(fe,this.firestore._databaseId);return Ne.forKey(Ke,this.firestore,null)}}class De{constructor(fe,Ke){this._firestore=fe,this._delegate=Ke,this._userDataWriter=new vt(fe)}get(fe){const Ke=kt(fe);return this._delegate.get(Ke).then(Mt=>new ct(this._firestore,new Me.xU(this._firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,Ke.converter)))}set(fe,Ke,Mt){const ln=kt(fe);return Mt?(it("Transaction.set",Mt),this._delegate.set(ln,Ke,Mt)):this._delegate.set(ln,Ke),this}update(fe,Ke,Mt,...ln){const wn=kt(fe);return 2===arguments.length?this._delegate.update(wn,Ke):this._delegate.update(wn,Ke,Mt,...ln),this}delete(fe){const Ke=kt(fe);return this._delegate.delete(Ke),this}}class He{constructor(fe){this._delegate=fe}set(fe,Ke,Mt){const ln=kt(fe);return Mt?(it("WriteBatch.set",Mt),this._delegate.set(ln,Ke,Mt)):this._delegate.set(ln,Ke),this}update(fe,Ke,Mt,...ln){const wn=kt(fe);return 2===arguments.length?this._delegate.update(wn,Ke):this._delegate.update(wn,Ke,Mt,...ln),this}delete(fe){const Ke=kt(fe);return this._delegate.delete(Ke),this}commit(){return this._delegate.commit()}}class We{constructor(fe,Ke,Mt){this._firestore=fe,this._userDataWriter=Ke,this._delegate=Mt}fromFirestore(fe,Ke){const Mt=new Me.$q(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,null);return this._delegate.fromFirestore(new Tt(this._firestore,Mt),null!=Ke?Ke:{})}toFirestore(fe,Ke){return Ke?this._delegate.toFirestore(fe,Ke):this._delegate.toFirestore(fe)}static getInstance(fe,Ke){const Mt=We.INSTANCES;let ln=Mt.get(fe);ln||(ln=new WeakMap,Mt.set(fe,ln));let wn=ln.get(Ke);return wn||(wn=new We(fe,new vt(fe),Ke),ln.set(Ke,wn)),wn}}We.INSTANCES=new WeakMap;class Ne{constructor(fe,Ke){this.firestore=fe,this._delegate=Ke,this._userDataWriter=new vt(fe)}static forPath(fe,Ke,Mt){if(fe.length%2!=0)throw new Me.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${fe.canonicalString()} has ${fe.length}`);return new Ne(Ke,new Me.my(Ke._delegate,Mt,new Me.Ky(fe)))}static forKey(fe,Ke,Mt){return new Ne(Ke,new Me.my(Ke._delegate,Mt,fe))}get id(){return this._delegate.id}get parent(){return new tt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(fe){try{return new tt(this.firestore,(0,Me.hJ)(this._delegate,fe))}catch(Ke){throw ke(Ke,"collection()","DocumentReference.collection()")}}isEqual(fe){return(fe=(0,we.m9)(fe))instanceof Me.my&&(0,Me.Eo)(this._delegate,fe)}set(fe,Ke){Ke=it("DocumentReference.set",Ke);try{return Ke?(0,Me.pl)(this._delegate,fe,Ke):(0,Me.pl)(this._delegate,fe)}catch(Mt){throw ke(Mt,"setDoc()","DocumentReference.set()")}}update(fe,Ke,...Mt){try{return 1===arguments.length?(0,Me.r7)(this._delegate,fe):(0,Me.r7)(this._delegate,fe,Ke,...Mt)}catch(ln){throw ke(ln,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Me.oe)(this._delegate)}onSnapshot(...fe){const Ke=je(fe),Mt=ne(fe,ln=>new ct(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,ln._key,ln._document,ln.metadata,this._delegate.converter)));return(0,Me.cf)(this._delegate,Ke,Mt)}get(fe){let Ke;return Ke="cache"===(null==fe?void 0:fe.source)?(0,Me.kl)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Me.Xk)(this._delegate):(0,Me.QT)(this._delegate),Ke.then(Mt=>new ct(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,Mt._key,Mt._document,Mt.metadata,this._delegate.converter)))}withConverter(fe){return new Ne(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}function ke(Ut,fe,Ke){return Ut.message=Ut.message.replace(fe,Ke),Ut}function je(Ut){for(const fe of Ut)if("object"==typeof fe&&!Oe(fe))return fe;return{}}function ne(Ut,fe){var Ke,Mt;let ln;return ln=Oe(Ut[0])?Ut[0]:Oe(Ut[1])?Ut[1]:"function"==typeof Ut[0]?{next:Ut[0],error:Ut[1],complete:Ut[2]}:{next:Ut[1],error:Ut[2],complete:Ut[3]},{next:wn=>{ln.next&&ln.next(fe(wn))},error:null===(Ke=ln.error)||void 0===Ke?void 0:Ke.bind(ln),complete:null===(Mt=ln.complete)||void 0===Mt?void 0:Mt.bind(ln)}}class ct{constructor(fe,Ke){this._firestore=fe,this._delegate=Ke}get ref(){return new Ne(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(fe){return this._delegate.data(fe)}get(fe,Ke){return this._delegate.get(fe,Ke)}isEqual(fe){return(0,Me.qK)(this._delegate,fe._delegate)}}class Tt extends ct{data(fe){const Ke=this._delegate.data(fe);return(0,Me.K9)(void 0!==Ke,"Document in a QueryDocumentSnapshot should exist"),Ke}}class Pt{constructor(fe,Ke){this.firestore=fe,this._delegate=Ke,this._userDataWriter=new vt(fe)}where(fe,Ke,Mt){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.ar)(fe,Ke,Mt)))}catch(ln){throw ke(ln,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(fe,Ke){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Xo)(fe,Ke)))}catch(Mt){throw ke(Mt,/(orderBy|where)\(\)/,"Query.$1()")}}limit(fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.b9)(fe)))}catch(Ke){throw ke(Ke,"limit()","Query.limit()")}}limitToLast(fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.vh)(fe)))}catch(Ke){throw ke(Ke,"limitToLast()","Query.limitToLast()")}}startAt(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.e0)(...fe)))}catch(Ke){throw ke(Ke,"startAt()","Query.startAt()")}}startAfter(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.TQ)(...fe)))}catch(Ke){throw ke(Ke,"startAfter()","Query.startAfter()")}}endBefore(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Lx)(...fe)))}catch(Ke){throw ke(Ke,"endBefore()","Query.endBefore()")}}endAt(...fe){try{return new Pt(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Wu)(...fe)))}catch(Ke){throw ke(Ke,"endAt()","Query.endAt()")}}isEqual(fe){return(0,Me.iE)(this._delegate,fe._delegate)}get(fe){let Ke;return Ke="cache"===(null==fe?void 0:fe.source)?(0,Me.UQ)(this._delegate):"server"===(null==fe?void 0:fe.source)?(0,Me.zN)(this._delegate):(0,Me.PL)(this._delegate),Ke.then(Mt=>new At(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,Mt._snapshot)))}onSnapshot(...fe){const Ke=je(fe),Mt=ne(fe,ln=>new At(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,ln._snapshot)));return(0,Me.cf)(this._delegate,Ke,Mt)}withConverter(fe){return new Pt(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}class rn{constructor(fe,Ke){this._firestore=fe,this._delegate=Ke}get type(){return this._delegate.type}get doc(){return new Tt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class At{constructor(fe,Ke){this._firestore=fe,this._delegate=Ke}get query(){return new Pt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(fe=>new Tt(this._firestore,fe))}docChanges(fe){return this._delegate.docChanges(fe).map(Ke=>new rn(this._firestore,Ke))}forEach(fe,Ke){this._delegate.forEach(Mt=>{fe.call(Ke,new Tt(this._firestore,Mt))})}isEqual(fe){return(0,Me.qK)(this._delegate,fe._delegate)}}class tt extends Pt{constructor(fe,Ke){super(fe,Ke),this.firestore=fe,this._delegate=Ke}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const fe=this._delegate.parent;return fe?new Ne(this.firestore,fe):null}doc(fe){try{return new Ne(this.firestore,void 0===fe?(0,Me.JU)(this._delegate):(0,Me.JU)(this._delegate,fe))}catch(Ke){throw ke(Ke,"doc()","CollectionReference.doc()")}}add(fe){return(0,Me.ET)(this._delegate,fe).then(Ke=>new Ne(this.firestore,Ke))}isEqual(fe){return(0,Me.Eo)(this._delegate,fe._delegate)}withConverter(fe){return new tt(this.firestore,this._delegate.withConverter(fe?We.getInstance(this.firestore,fe):null))}}function kt(Ut){return(0,Me.Cf)(Ut,Me.my)}class Jt{constructor(...fe){this._delegate=new Me.Lz(...fe)}static documentId(){return new Jt(Me.Xb.keyField().canonicalString())}isEqual(fe){return(fe=(0,we.m9)(fe))instanceof Me.Lz&&this._delegate._internalPath.isEqual(fe._internalPath)}}class cn{constructor(fe){this._delegate=fe}static serverTimestamp(){const fe=(0,Me.Bt)();return fe._methodName="FieldValue.serverTimestamp",new cn(fe)}static delete(){const fe=(0,Me.AK)();return fe._methodName="FieldValue.delete",new cn(fe)}static arrayUnion(...fe){const Ke=(0,Me.vr)(...fe);return Ke._methodName="FieldValue.arrayUnion",new cn(Ke)}static arrayRemove(...fe){const Ke=(0,Me.Ab)(...fe);return Ke._methodName="FieldValue.arrayRemove",new cn(Ke)}static increment(fe){const Ke=(0,Me.nP)(fe);return Ke._methodName="FieldValue.increment",new cn(Ke)}isEqual(fe){return this._delegate.isEqual(fe._delegate)}}const Mn={Firestore:mt,GeoPoint:Me.F8,Timestamp:Me.EK,Blob:Ye,Transaction:De,WriteBatch:He,DocumentReference:Ne,DocumentSnapshot:ct,Query:Pt,QueryDocumentSnapshot:Tt,QuerySnapshot:At,CollectionReference:tt,FieldPath:Jt,FieldValue:cn,setLogLevel:function ce(Ut){(0,Me.Ub)(Ut)},CACHE_SIZE_UNLIMITED:Me.IX};!function Nt(Ut){(function _n(Ut,fe){Ut.INTERNAL.registerComponent(new ft.wA("firestore-compat",Ke=>{const Mt=Ke.getProvider("app-compat").getImmediate(),ln=Ke.getProvider("firestore").getImmediate();return fe(Mt,ln)},"PUBLIC").setServiceProps(Object.assign({},Mn)))})(Ut,(fe,Ke)=>new mt(fe,Ke,new nt)),Ut.registerVersion("@firebase/firestore-compat","0.3.10")}(It.Z);var In=L(3385),Ft=L(2313),Kn=L(9260);function yr(Ut,fe){return function hr(Ut,fe=g.z){return new se.y(Ke=>{let Mt;return null!=fe?fe.schedule(()=>{Mt=Ut.onSnapshot({includeMetadataChanges:!0},Ke)}):Mt=Ut.onSnapshot({includeMetadataChanges:!0},Ke),()=>{null!=Mt&&Mt()}})}(Ut,fe)}function Pr(Ut,fe){return yr(Ut,fe).pipe((0,Ve.U)(Ke=>({payload:Ke,type:"query"})))}function er(Ut,fe){return Pr(Ut,fe).pipe((0,de.O)(void 0),(0,Ce.G)(),(0,Ve.U)(([Ke,Mt])=>{const ln=Mt.payload.docChanges(),wn=ln.map(pr=>({type:pr.type,payload:pr}));return Ke&&JSON.stringify(Ke.payload.metadata)!==JSON.stringify(Mt.payload.metadata)&&Mt.payload.docs.forEach((pr,Xn)=>{const gr=ln.find(he=>he.doc.ref.isEqual(pr.ref)),et=null==Ke?void 0:Ke.payload.docs.find(he=>he.ref.isEqual(pr.ref));gr&&JSON.stringify(gr.doc.metadata)===JSON.stringify(pr.metadata)||!gr&&et&&JSON.stringify(et.metadata)===JSON.stringify(pr.metadata)||wn.push({type:"modified",payload:{oldIndex:Xn,newIndex:Xn,type:"modified",doc:pr}})}),wn}))}function zn(Ut,fe,Ke){return er(Ut,Ke).pipe((0,Te.R)((Mt,ln)=>function tr(Ut,fe,Ke){return fe.forEach(Mt=>{Ke.indexOf(Mt.type)>-1&&(Ut=function Cn(Ut,fe){switch(fe.type){case"added":if(!Ut[fe.newIndex]||!Ut[fe.newIndex].doc.ref.isEqual(fe.doc.ref))return Fr(Ut,fe.newIndex,0,fe);break;case"modified":if(null==Ut[fe.oldIndex]||Ut[fe.oldIndex].doc.ref.isEqual(fe.doc.ref)){if(fe.oldIndex!==fe.newIndex){const Ke=Ut.slice();return Ke.splice(fe.oldIndex,1),Ke.splice(fe.newIndex,0,fe),Ke}return Fr(Ut,fe.newIndex,1,fe)}break;case"removed":if(Ut[fe.oldIndex]&&Ut[fe.oldIndex].doc.ref.isEqual(fe.doc.ref))return Fr(Ut,fe.oldIndex,1)}return Ut}(Ut,Mt))}),Ut}(Mt,ln.map(wn=>wn.payload),fe),[]),(0,be.x)(),(0,Ve.U)(Mt=>Mt.map(ln=>({type:ln.type,payload:ln}))))}function Fr(Ut,fe,Ke,...Mt){const ln=Ut.slice();return ln.splice(fe,Ke,...Mt),ln}function En(Ut){return(!Ut||0===Ut.length)&&(Ut=["added","removed","modified"]),Ut}class xn{constructor(fe,Ke,Mt){this.ref=fe,this.query=Ke,this.afs=Mt}stateChanges(fe){let Ke=er(this.query,this.afs.schedulers.outsideAngular);return fe&&fe.length>0&&(Ke=Ke.pipe((0,Ve.U)(Mt=>Mt.filter(ln=>fe.indexOf(ln.type)>-1)))),Ke.pipe((0,de.O)(void 0),(0,Ce.G)(),(0,ze.h)(([Mt,ln])=>ln.length>0||!Mt),(0,Ve.U)(([Mt,ln])=>ln),Ee.iC)}auditTrail(fe){return this.stateChanges(fe).pipe((0,Te.R)((Ke,Mt)=>[...Ke,...Mt],[]))}snapshotChanges(fe){const Ke=En(fe);return zn(this.query,Ke,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(fe={}){return Pr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ve.U)(Ke=>Ke.payload.docs.map(Mt=>fe.idField?Object.assign(Object.assign({},Mt.data()),{[fe.idField]:Mt.id}):Mt.data())),Ee.iC)}get(fe){return(0,ge.D)(this.query.get(fe)).pipe(Ee.iC)}add(fe){return this.ref.add(fe)}doc(fe){return new fr(this.ref.doc(fe),this.afs)}}class fr{constructor(fe,Ke){this.ref=fe,this.afs=Ke}set(fe,Ke){return this.ref.set(fe,Ke)}update(fe){return this.ref.update(fe)}delete(){return this.ref.delete()}collection(fe,Ke){const Mt=this.ref.collection(fe),{ref:ln,query:wn}=gn(Mt,Ke);return new xn(ln,wn,this.afs)}snapshotChanges(){return function Yt(Ut,fe){return yr(Ut,fe).pipe((0,de.O)(void 0),(0,Ce.G)(),(0,Ve.U)(([Ke,Mt])=>Mt.exists?null!=Ke&&Ke.exists?{payload:Mt,type:"modified"}:{payload:Mt,type:"added"}:{payload:Mt,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(fe={}){return this.snapshotChanges().pipe((0,Ve.U)(({payload:Ke})=>fe.idField?Object.assign(Object.assign({},Ke.data()),{[fe.idField]:Ke.id}):Ke.data()))}get(fe){return(0,ge.D)(this.ref.get(fe)).pipe(Ee.iC)}}class ur{constructor(fe,Ke){this.query=fe,this.afs=Ke}stateChanges(fe){return fe&&0!==fe.length?er(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ve.U)(Ke=>Ke.filter(Mt=>fe.indexOf(Mt.type)>-1)),(0,ze.h)(Ke=>Ke.length>0),Ee.iC):er(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}auditTrail(fe){return this.stateChanges(fe).pipe((0,Te.R)((Ke,Mt)=>[...Ke,...Mt],[]))}snapshotChanges(fe){const Ke=En(fe);return zn(this.query,Ke,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(fe={}){return Pr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ve.U)(Mt=>Mt.payload.docs.map(ln=>fe.idField?Object.assign({[fe.idField]:ln.id},ln.data()):ln.data())),Ee.iC)}get(fe){return(0,ge.D)(this.query.get(fe)).pipe(Ee.iC)}}const cr=new y.OlP("angularfire2.enableFirestorePersistence"),Rr=new y.OlP("angularfire2.firestore.persistenceSettings"),Tr=new y.OlP("angularfire2.firestore.settings"),Wn=new y.OlP("angularfire2.firestore.use-emulator");function gn(Ut,fe=(Ke=>Ke)){return{query:fe(Ut),ref:Ut}}let ei=(()=>{class Ut{constructor(Ke,Mt,ln,wn,pr,Xn,gr,et,he,W,H,K,Fe,at,Be,pt,Ct){this.schedulers=gr;const Kt=(0,ve.on)(Ke,Xn,Mt),Ht=he;W&&(0,In.nw)(Kt,Xn,H,Fe,at,Be,K,pt),[this.firestore,this.persistenceEnabled$]=(0,ve.cc)(`${Kt.name}.firestore`,"AngularFirestore",Kt.name,()=>{const sn=Xn.runOutsideAngular(()=>Kt.firestore());if(wn&&sn.settings(wn),Ht&&sn.useEmulator(...Ht),ln&&!(0,Ue.PM)(pr)){const dn=()=>{try{return(0,ge.D)(sn.enablePersistence(et||void 0).then(()=>!0,()=>!1))}catch(Gn){return typeof console<"u"&&console.warn(Gn),(0,xe.of)(!1)}};return[sn,Xn.runOutsideAngular(dn)]}return[sn,(0,xe.of)(!1)]},[wn,Ht,ln])}collection(Ke,Mt){let ln;ln="string"==typeof Ke?this.firestore.collection(Ke):Ke;const{ref:wn,query:pr}=gn(ln,Mt),Xn=this.schedulers.ngZone.run(()=>wn);return new xn(Xn,pr,this)}collectionGroup(Ke,Mt){const ln=Mt||(pr=>pr),wn=this.firestore.collectionGroup(Ke);return new ur(ln(wn),this)}doc(Ke){let Mt;Mt="string"==typeof Ke?this.firestore.doc(Ke):Ke;const ln=this.schedulers.ngZone.run(()=>Mt);return new fr(ln,this)}createId(){return this.firestore.collection("_").doc().id}}return Ut.\u0275fac=function(Ke){return new(Ke||Ut)(y.LFG(ve.Dh),y.LFG(ve.xv,8),y.LFG(cr,8),y.LFG(Tr,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ee.HU),y.LFG(Rr,8),y.LFG(Wn,8),y.LFG(In.zQ,8),y.LFG(In.Qv,8),y.LFG(In.L6,8),y.LFG(In._Q,8),y.LFG(In.rT,8),y.LFG(In.lh,8),y.LFG(In.f7,8),y.LFG(Ft.nm,8))},Ut.\u0275prov=y.Yz7({token:Ut,factory:Ut.\u0275fac,providedIn:"any"}),Ut})(),Vn=(()=>{class Ut{constructor(){Kn.Z.registerVersion("angularfire",Ee.q4.full,"fst-compat")}static enablePersistence(Ke){return{ngModule:Ut,providers:[{provide:cr,useValue:!0},{provide:Rr,useValue:Ke}]}}}return Ut.\u0275fac=function(Ke){return new(Ke||Ut)},Ut.\u0275mod=y.oAB({type:Ut}),Ut.\u0275inj=y.cJS({providers:[ei]}),Ut})()},2011:(un,dt,L)=>{"use strict";L.d(dt,{Dh:()=>Ce,GT:()=>Ee,Ot:()=>de,cc:()=>Ue,hO:()=>ve,on:()=>Te,pX:()=>xe,xv:()=>Ve});var y=L(2223),g=L(9260),se=L(3324);un=L.hmd(un);const ge=["ngOnDestroy"],xe=(we,ft,ot,Ge={})=>new Proxy(we,{get:(it,gt)=>ot.runOutsideAngular(()=>{var _t;if(we[gt])return!(null===(_t=null==Ge?void 0:Ge.spy)||void 0===_t)&&_t.get&&Ge.spy.get(gt,we[gt]),we[gt];if(ge.indexOf(gt)>-1)return()=>{};const Ye=ft.toPromise().then(Oe=>{const St=Oe&&Oe[gt];return"function"==typeof St?St.bind(Oe):St&&St.then?St.then(nt=>ot.run(()=>nt)):ot.run(()=>St)});return new Proxy(()=>{},{get:(Oe,St)=>Ye[St],apply:(Oe,St,nt)=>Ye.then(mt=>{var vt;const ce=mt&&mt(...nt);return!(null===(vt=null==Ge?void 0:Ge.spy)||void 0===vt)&&vt.apply&&Ge.spy.apply(gt,nt,ce),ce})})})}),Ee=(we,ft)=>{ft.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(Ge=>{Object.defineProperty(we.prototype,Ge,Object.getOwnPropertyDescriptor(ot.prototype||ot,Ge))})})};class de{constructor(ft){return ft}}const Ce=new y.OlP("angularfire2.app.options"),Ve=new y.OlP("angularfire2.app.name");function Te(we,ft,ot){const it="object"==typeof ot&&ot||{};it.name=it.name||"string"==typeof ot&&ot||"[DEFAULT]";const _t=g.Z.apps.filter(Ye=>Ye&&Ye.name===it.name)[0]||ft.runOutsideAngular(()=>g.Z.initializeApp(we,it));try{JSON.stringify(we)!==JSON.stringify(_t.options)&&be("error",`${_t.name} Firebase App already initialized with different options${un.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(_t)}const be=(we,...ft)=>{(0,y.X6Q)()&&typeof console<"u"&&console[we](...ft)},ze={provide:de,useFactory:Te,deps:[Ce,y.R0b,[new y.FiY,Ve]]};let ve=(()=>{class we{constructor(ot){g.Z.registerVersion("angularfire",se.q4.full,"core"),g.Z.registerVersion("angularfire",se.q4.full,"app-compat"),g.Z.registerVersion("angular",y.q4F.full,ot.toString())}static initializeApp(ot,Ge){return{ngModule:we,providers:[{provide:Ce,useValue:ot},{provide:Ve,useValue:Ge}]}}}return we.\u0275fac=function(ot){return new(ot||we)(y.LFG(y.Lbi))},we.\u0275mod=y.oAB({type:we}),we.\u0275inj=y.cJS({providers:[ze]}),we})();function Ue(we,ft,ot,Ge,it){const[,gt,_t]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===we)||[];if(gt)return function Ze(we,ft){try{return we.toString()===ft.toString()}catch{return we===ft}}(it,_t)||(Me("error",`${ft} was already initialized on the ${ot} Firebase App with different settings.${It?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:it,was:_t})),gt;{const Ye=Ge();return globalThis.\u0275AngularfireInstanceCache.push([we,Ye,it]),Ye}}const It=!!un.hot,Me=(we,...ft)=>{(0,y.X6Q)()&&typeof console<"u"&&console[we](...ft)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(un,dt,L)=>{"use strict";L.d(dt,{q4:()=>cs,iC:()=>Xs,fc:()=>ds,HU:()=>Dr,vb:()=>Pe,JM:()=>Z,nk:()=>T,u3:()=>U});var y=L(2223),g=L(259),se=L(5861),ge=L(6881),xe=L(2090),Ee=L(4859),de=L(1877);L(4727);const Ve="@firebase/remote-config",Ue=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class We{constructor(P,me,st,$t){this.client=P,this.storage=me,this.storageCache=st,this.logger=$t}isCachedDataFresh(P,me){if(!me)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const st=Date.now()-me,$t=st<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${st}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${$t}.`),$t}fetch(P){var me=this;return(0,se.Z)(function*(){const[st,$t]=yield Promise.all([me.storage.getLastSuccessfulFetchTimestampMillis(),me.storage.getLastSuccessfulFetchResponse()]);if($t&&me.isCachedDataFresh(P.cacheMaxAgeMillis,st))return $t;P.eTag=$t&&$t.eTag;const Zt=yield me.client.fetch(P),mn=[me.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Zt.status&&mn.push(me.storage.setLastSuccessfulFetchResponse(Zt)),yield Promise.all(mn),Zt})()}}function Ne(C=navigator){return C.languages&&C.languages[0]||C.language}class ke{constructor(P,me,st,$t,Zt,mn){this.firebaseInstallations=P,this.sdkVersion=me,this.namespace=st,this.projectId=$t,this.apiKey=Zt,this.appId=mn}fetch(P){var me=this;return(0,se.Z)(function*(){const[st,$t]=yield Promise.all([me.firebaseInstallations.getId(),me.firebaseInstallations.getToken()]),mn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${me.projectId}/namespaces/${me.namespace}:fetch?key=${me.apiKey}`,Qr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Xr={sdk_version:me.sdkVersion,app_instance_id:st,app_instance_id_token:$t,app_id:me.appId,language_code:Ne()},oi={method:"POST",headers:Qr,body:JSON.stringify(Xr)},zr=fetch(mn,oi),Lr=new Promise(($i,rs)=>{P.signal.addEventListener(()=>{const yl=new Error("The operation was aborted.");yl.name="AbortError",rs(yl)})});let Is;try{yield Promise.race([zr,Lr]),Is=yield zr}catch($i){let rs="fetch-client-network";throw"AbortError"===(null==$i?void 0:$i.name)&&(rs="fetch-timeout"),Ue.create(rs,{originalErrorMessage:null==$i?void 0:$i.message})}let _o=Is.status;const Hs=Is.headers.get("ETag")||void 0;let uo,Yo;if(200===Is.status){let $i;try{$i=yield Is.json()}catch(rs){throw Ue.create("fetch-client-parse",{originalErrorMessage:null==rs?void 0:rs.message})}uo=$i.entries,Yo=$i.state}if("INSTANCE_STATE_UNSPECIFIED"===Yo?_o=500:"NO_CHANGE"===Yo?_o=304:("NO_TEMPLATE"===Yo||"EMPTY_CONFIG"===Yo)&&(uo={}),304!==_o&&200!==_o)throw Ue.create("fetch-status",{httpStatus:_o});return{status:_o,eTag:Hs,config:uo}})()}}class ct{constructor(P,me){this.client=P,this.storage=me}fetch(P){var me=this;return(0,se.Z)(function*(){const st=(yield me.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return me.attemptFetch(P,st)})()}attemptFetch(P,{throttleEndTimeMillis:me,backoffCount:st}){var $t=this;return(0,se.Z)(function*(){yield function je(C,P){return new Promise((me,st)=>{const $t=Math.max(P-Date.now(),0),Zt=setTimeout(me,$t);C.addEventListener(()=>{clearTimeout(Zt),st(Ue.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,me);try{const Zt=yield $t.client.fetch(P);return yield $t.storage.deleteThrottleMetadata(),Zt}catch(Zt){if(!function ne(C){if(!(C instanceof xe.ZR&&C.customData))return!1;const P=Number(C.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Zt))throw Zt;const mn={throttleEndTimeMillis:Date.now()+(0,xe.$s)(st),backoffCount:st+1};return yield $t.storage.setThrottleMetadata(mn),$t.attemptFetch(P,mn)}})()}}class rn{constructor(P,me,st,$t,Zt){this.app=P,this._client=me,this._storageCache=st,this._storage=$t,this._logger=Zt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(C,P){const me=C.target.error||void 0;return Ue.create(P,{originalErrorMessage:me&&(null==me?void 0:me.message)})}const tt="app_namespace_store";class Mn{constructor(P,me,st,$t=function cn(){return new Promise((C,P)=>{try{const me=indexedDB.open("firebase_remote_config",1);me.onerror=st=>{P(At(st,"storage-open"))},me.onsuccess=st=>{C(st.target.result)},me.onupgradeneeded=st=>{0===st.oldVersion&&st.target.result.createObjectStore(tt,{keyPath:"compositeKey"})}}catch(me){P(Ue.create("storage-open",{originalErrorMessage:null==me?void 0:me.message}))}})}()){this.appId=P,this.appName=me,this.namespace=st,this.openDbPromise=$t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var me=this;return(0,se.Z)(function*(){const st=yield me.openDbPromise;return new Promise(($t,Zt)=>{const Qr=st.transaction([tt],"readonly").objectStore(tt),Xr=me.createCompositeKey(P);try{const oi=Qr.get(Xr);oi.onerror=zr=>{Zt(At(zr,"storage-get"))},oi.onsuccess=zr=>{const Lr=zr.target.result;$t(Lr?Lr.value:void 0)}}catch(oi){Zt(Ue.create("storage-get",{originalErrorMessage:null==oi?void 0:oi.message}))}})})()}set(P,me){var st=this;return(0,se.Z)(function*(){const $t=yield st.openDbPromise;return new Promise((Zt,mn)=>{const Xr=$t.transaction([tt],"readwrite").objectStore(tt),oi=st.createCompositeKey(P);try{const zr=Xr.put({compositeKey:oi,value:me});zr.onerror=Lr=>{mn(At(Lr,"storage-set"))},zr.onsuccess=()=>{Zt()}}catch(zr){mn(Ue.create("storage-set",{originalErrorMessage:null==zr?void 0:zr.message}))}})})()}delete(P){var me=this;return(0,se.Z)(function*(){const st=yield me.openDbPromise;return new Promise(($t,Zt)=>{const Qr=st.transaction([tt],"readwrite").objectStore(tt),Xr=me.createCompositeKey(P);try{const oi=Qr.delete(Xr);oi.onerror=zr=>{Zt(At(zr,"storage-delete"))},oi.onsuccess=()=>{$t()}}catch(oi){Zt(Ue.create("storage-delete",{originalErrorMessage:null==oi?void 0:oi.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class _n{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,se.Z)(function*(){const me=P.storage.getLastFetchStatus(),st=P.storage.getLastSuccessfulFetchTimestampMillis(),$t=P.storage.getActiveConfig(),Zt=yield me;Zt&&(P.lastFetchStatus=Zt);const mn=yield st;mn&&(P.lastSuccessfulFetchTimestampMillis=mn);const Qr=yield $t;Qr&&(P.activeConfig=Qr)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Kn(){return hr.apply(this,arguments)}function hr(){return(hr=(0,se.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function Nt(){(0,ge._registerComponent)(new Ee.wA("remote-config",function C(P,{instanceIdentifier:me}){const st=P.getProvider("app").getImmediate(),$t=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ue.create("registration-window");if(!(0,xe.hl)())throw Ue.create("indexed-db-unavailable");const{projectId:Zt,apiKey:mn,appId:Qr}=st.options;if(!Zt)throw Ue.create("registration-project-id");if(!mn)throw Ue.create("registration-api-key");if(!Qr)throw Ue.create("registration-app-id");const Xr=new Mn(Qr,st.name,me=me||"firebase"),oi=new _n(Xr),zr=new de.Yd(Ve);zr.logLevel=de.in.ERROR;const Lr=new ke($t,ge.SDK_VERSION,me,Zt,mn,Qr),Is=new ct(Lr,Xr),_o=new We(Is,Xr,oi,zr),Hs=new rn(st,_o,oi,Xr,zr);return function _t(C){const P=(0,xe.m9)(C);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Hs),Hs},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(Ve,"0.4.4"),(0,ge.registerVersion)(Ve,"0.4.4","esm2017")}();const yr=(C,P)=>P.some(me=>C instanceof me);let Yt,Pr;const tr=new WeakMap,Fr=new WeakMap,Cn=new WeakMap,En=new WeakMap,xn=new WeakMap;let cr={get(C,P,me){if(C instanceof IDBTransaction){if("done"===P)return Fr.get(C);if("objectStoreNames"===P)return C.objectStoreNames||Cn.get(C);if("store"===P)return me.objectStoreNames[1]?void 0:me.objectStore(me.objectStoreNames[0])}return gn(C[P])},set:(C,P,me)=>(C[P]=me,!0),has:(C,P)=>C instanceof IDBTransaction&&("done"===P||"store"===P)||P in C};function Wn(C){return"function"==typeof C?function Tr(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zn(){return Pr||(Pr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...P){return C.apply(ei(this),P),gn(tr.get(this))}:function(...P){return gn(C.apply(ei(this),P))}:function(P,...me){const st=C.call(ei(this),P,...me);return Cn.set(st,P.sort?P.sort():[P]),gn(st)}}(C):(C instanceof IDBTransaction&&function ur(C){if(Fr.has(C))return;const P=new Promise((me,st)=>{const $t=()=>{C.removeEventListener("complete",Zt),C.removeEventListener("error",mn),C.removeEventListener("abort",mn)},Zt=()=>{me(),$t()},mn=()=>{st(C.error||new DOMException("AbortError","AbortError")),$t()};C.addEventListener("complete",Zt),C.addEventListener("error",mn),C.addEventListener("abort",mn)});Fr.set(C,P)}(C),yr(C,function er(){return Yt||(Yt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,cr):C)}function gn(C){if(C instanceof IDBRequest)return function fr(C){const P=new Promise((me,st)=>{const $t=()=>{C.removeEventListener("success",Zt),C.removeEventListener("error",mn)},Zt=()=>{me(gn(C.result)),$t()},mn=()=>{st(C.error),$t()};C.addEventListener("success",Zt),C.addEventListener("error",mn)});return P.then(me=>{me instanceof IDBCursor&&tr.set(me,C)}).catch(()=>{}),xn.set(P,C),P}(C);if(En.has(C))return En.get(C);const P=Wn(C);return P!==C&&(En.set(C,P),xn.set(P,C)),P}const ei=C=>xn.get(C);function Vn(C,P,{blocked:me,upgrade:st,blocking:$t,terminated:Zt}={}){const mn=indexedDB.open(C,P),Qr=gn(mn);return st&&mn.addEventListener("upgradeneeded",Xr=>{st(gn(mn.result),Xr.oldVersion,Xr.newVersion,gn(mn.transaction))}),me&&mn.addEventListener("blocked",()=>me()),Qr.then(Xr=>{Zt&&Xr.addEventListener("close",()=>Zt()),$t&&Xr.addEventListener("versionchange",()=>$t())}).catch(()=>{}),Qr}function Ut(C,{blocked:P}={}){const me=indexedDB.deleteDatabase(C);return P&&me.addEventListener("blocked",()=>P()),gn(me).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Mt=new Map;function ln(C,P){if(!(C instanceof IDBDatabase)||P in C||"string"!=typeof P)return;if(Mt.get(P))return Mt.get(P);const me=P.replace(/FromIndex$/,""),st=P!==me,$t=Ke.includes(me);if(!(me in(st?IDBIndex:IDBObjectStore).prototype)||!$t&&!fe.includes(me))return;const Zt=function(){var mn=(0,se.Z)(function*(Qr,...Xr){const oi=this.transaction(Qr,$t?"readwrite":"readonly");let zr=oi.store;return st&&(zr=zr.index(Xr.shift())),(yield Promise.all([zr[me](...Xr),$t&&oi.done]))[0]});return function(Xr){return mn.apply(this,arguments)}}();return Mt.set(P,Zt),Zt}!function Rr(C){cr=C(cr)}(C=>({...C,get:(P,me,st)=>ln(P,me)||C.get(P,me,st),has:(P,me)=>!!ln(P,me)||C.has(P,me)}));const wn="/firebase-messaging-sw.js",pr="/firebase-cloud-messaging-push-scope",Xn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gr="https://fcmregistrations.googleapis.com/v1",et="google.c.a.c_id",he="google.c.a.c_l",W="google.c.a.ts";var Fe=(()=>((Fe=Fe||{}).PUSH_RECEIVED="push-received",Fe.NOTIFICATION_CLICKED="notification-clicked",Fe))();function at(C){const P=new Uint8Array(C);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Be(C){const me=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),st=atob(me),$t=new Uint8Array(st.length);for(let Zt=0;Zt<st.length;++Zt)$t[Zt]=st.charCodeAt(Zt);return $t}const pt="fcm_token_details_db",Ct=5,Kt="fcm_token_object_Store";function sn(){return sn=(0,se.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Zt=>Zt.name).includes(pt))return null;let P=null;return(yield Vn(pt,Ct,{upgrade:(st=(0,se.Z)(function*($t,Zt,mn,Qr){var Xr;if(Zt<2||!$t.objectStoreNames.contains(Kt))return;const oi=Qr.objectStore(Kt),zr=yield oi.index("fcmSenderId").get(C);if(yield oi.clear(),zr)if(2===Zt){const Lr=zr;if(!Lr.auth||!Lr.p256dh||!Lr.endpoint)return;P={token:Lr.fcmToken,createTime:null!==(Xr=Lr.createTime)&&void 0!==Xr?Xr:Date.now(),subscriptionOptions:{auth:Lr.auth,p256dh:Lr.p256dh,endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:"string"==typeof Lr.vapidKey?Lr.vapidKey:at(Lr.vapidKey)}}}else if(3===Zt){const Lr=zr;P={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:at(Lr.auth),p256dh:at(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:at(Lr.vapidKey)}}}else if(4===Zt){const Lr=zr;P={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:at(Lr.auth),p256dh:at(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:at(Lr.vapidKey)}}}}),function(Zt,mn,Qr,Xr){return st.apply(this,arguments)})})).close(),yield Ut(pt),yield Ut("fcm_vapid_details_db"),yield Ut("undefined"),function dn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:P}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var st}),sn.apply(this,arguments)}const Gn="firebase-messaging-database",Un=1,Dt="firebase-messaging-store";let bt=null;function Wt(){return bt||(bt=Vn(Gn,Un,{upgrade:(C,P)=>{0===P&&C.createObjectStore(Dt)}})),bt}function vn(C){return Nn.apply(this,arguments)}function Nn(){return Nn=(0,se.Z)(function*(C){const P=dr(C),st=yield(yield Wt()).transaction(Dt).objectStore(Dt).get(P);if(st)return st;{const $t=yield function Ht(C){return sn.apply(this,arguments)}(C.appConfig.senderId);if($t)return yield ir(C,$t),$t}}),Nn.apply(this,arguments)}function ir(C,P){return nr.apply(this,arguments)}function nr(){return(nr=(0,se.Z)(function*(C,P){const me=dr(C),$t=(yield Wt()).transaction(Dt,"readwrite");return yield $t.objectStore(Dt).put(P,me),yield $t.done,P})).apply(this,arguments)}function Ar(){return(Ar=(0,se.Z)(function*(C){const P=dr(C),st=(yield Wt()).transaction(Dt,"readwrite");yield st.objectStore(Dt).delete(P),yield st.done})).apply(this,arguments)}function dr({appConfig:C}){return C.appId}const vi=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _i(C,P){return ps.apply(this,arguments)}function ps(){return(ps=(0,se.Z)(function*(C,P){const me=yield ss(C),st=os(P),$t={method:"POST",headers:me,body:JSON.stringify(st)};let Zt;try{Zt=yield(yield fetch(si(C.appConfig),$t)).json()}catch(mn){throw vi.create("token-subscribe-failed",{errorInfo:null==mn?void 0:mn.toString()})}if(Zt.error)throw vi.create("token-subscribe-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw vi.create("token-subscribe-no-token");return Zt.token})).apply(this,arguments)}function es(){return(es=(0,se.Z)(function*(C,P){const me=yield ss(C),st=os(P.subscriptionOptions),$t={method:"PATCH",headers:me,body:JSON.stringify(st)};let Zt;try{Zt=yield(yield fetch(`${si(C.appConfig)}/${P.token}`,$t)).json()}catch(mn){throw vi.create("token-update-failed",{errorInfo:null==mn?void 0:mn.toString()})}if(Zt.error)throw vi.create("token-update-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw vi.create("token-update-no-token");return Zt.token})).apply(this,arguments)}function Os(C,P){return xi.apply(this,arguments)}function xi(){return(xi=(0,se.Z)(function*(C,P){const st={method:"DELETE",headers:yield ss(C)};try{const Zt=yield(yield fetch(`${si(C.appConfig)}/${P}`,st)).json();if(Zt.error)throw vi.create("token-unsubscribe-failed",{errorInfo:Zt.error.message})}catch($t){throw vi.create("token-unsubscribe-failed",{errorInfo:null==$t?void 0:$t.toString()})}})).apply(this,arguments)}function si({projectId:C}){return`${gr}/projects/${C}/registrations`}function ss(C){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,se.Z)(function*({appConfig:C,installations:P}){const me=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${me}`})})).apply(this,arguments)}function os({p256dh:C,auth:P,endpoint:me,vapidKey:st}){const $t={web:{endpoint:me,auth:P,p256dh:C}};return st!==Xn&&($t.web.applicationPubKey=st),$t}const Ms=6048e5;function X(){return X=(0,se.Z)(function*(C){const P=yield function ht(C,P){return xt.apply(this,arguments)}(C.swRegistration,C.vapidKey),me={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:P.endpoint,auth:at(P.getKey("auth")),p256dh:at(P.getKey("p256dh"))},st=yield vn(C.firebaseDependencies);if(st){if(function an(C,P){return P.vapidKey===C.vapidKey&&P.endpoint===C.endpoint&&P.auth===C.auth&&P.p256dh===C.p256dh}(st.subscriptionOptions,me))return Date.now()>=st.createTime+Ms?function z(C,P){return ie.apply(this,arguments)}(C,{token:st.token,createTime:Date.now(),subscriptionOptions:me}):st.token;try{yield Os(C.firebaseDependencies,st.token)}catch($t){console.warn($t)}return $e(C.firebaseDependencies,me)}return $e(C.firebaseDependencies,me)}),X.apply(this,arguments)}function ae(){return ae=(0,se.Z)(function*(C){const P=yield vn(C.firebaseDependencies);P&&(yield Os(C.firebaseDependencies,P.token),yield function Zr(C){return Ar.apply(this,arguments)}(C.firebaseDependencies));const me=yield C.swRegistration.pushManager.getSubscription();return!me||me.unsubscribe()}),ae.apply(this,arguments)}function ie(){return ie=(0,se.Z)(function*(C,P){try{const me=yield function Ci(C,P){return es.apply(this,arguments)}(C.firebaseDependencies,P),st=Object.assign(Object.assign({},P),{token:me,createTime:Date.now()});return yield ir(C.firebaseDependencies,st),me}catch(me){throw yield function _e(C){return ae.apply(this,arguments)}(C),me}}),ie.apply(this,arguments)}function $e(C,P){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,se.Z)(function*(C,P){const st={token:yield _i(C,P),createTime:Date.now(),subscriptionOptions:P};return yield ir(C,st),st.token})).apply(this,arguments)}function xt(){return(xt=(0,se.Z)(function*(C,P){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Be(P)})})).apply(this,arguments)}function fn(C){const P={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ln(C,P){if(!P.notification)return;C.notification={};const me=P.notification.title;me&&(C.notification.title=me);const st=P.notification.body;st&&(C.notification.body=st);const $t=P.notification.image;$t&&(C.notification.image=$t);const Zt=P.notification.icon;Zt&&(C.notification.icon=Zt)}(P,C),function sr(C,P){P.data&&(C.data=P.data)}(P,C),function Ei(C,P){var me,st,$t,Zt,mn;if(!(P.fcmOptions||null!==(me=P.notification)&&void 0!==me&&me.click_action))return;C.fcmOptions={};const Qr=null!==($t=null===(st=P.fcmOptions)||void 0===st?void 0:st.link)&&void 0!==$t?$t:null===(Zt=P.notification)||void 0===Zt?void 0:Zt.click_action;Qr&&(C.fcmOptions.link=Qr);const Xr=null===(mn=P.fcmOptions)||void 0===mn?void 0:mn.analytics_label;Xr&&(C.fcmOptions.analyticsLabel=Xr)}(P,C),P}function Pi(C,P){const me=[];for(let st=0;st<C.length;st++)me.push(C.charAt(st)),st<P.length&&me.push(P.charAt(st));return me.join("")}function bn(C){return vi.create("missing-app-config-values",{valueName:C})}Pi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ir{constructor(P,me,st){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $t=function Hr(C){if(!C||!C.options)throw bn("App Configuration Object");if(!C.name)throw bn("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:me}=C;for(const st of P)if(!me[st])throw bn(st);return{appName:C.name,projectId:me.projectId,apiKey:me.apiKey,appId:me.appId,senderId:me.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:$t,installations:me,analyticsProvider:st}}_delete(){return Promise.resolve()}}function Li(){return(Li=(0,se.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(wn,{scope:pr}),C.swRegistration.update().catch(()=>{})}catch(P){throw vi.create("failed-service-worker-registration",{browserErrorMessage:null==P?void 0:P.message})}})).apply(this,arguments)}function hi(){return(hi=(0,se.Z)(function*(C,P){if(!P&&!C.swRegistration&&(yield function Wr(C){return Li.apply(this,arguments)}(C)),P||!C.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw vi.create("invalid-sw-registration");C.swRegistration=P}})).apply(this,arguments)}function Ur(){return(Ur=(0,se.Z)(function*(C,P){P?C.vapidKey=P:C.vapidKey||(C.vapidKey=Xn)})).apply(this,arguments)}function as(){return as=(0,se.Z)(function*(C,P){if(!navigator)throw vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vi.create("permission-blocked");return yield function Zi(C,P){return Ur.apply(this,arguments)}(C,null==P?void 0:P.vapidKey),yield function $s(C,P){return hi.apply(this,arguments)}(C,null==P?void 0:P.serviceWorkerRegistration),function G(C){return X.apply(this,arguments)}(C)}),as.apply(this,arguments)}function Nr(){return(Nr=(0,se.Z)(function*(C,P,me){const st=function mr(C){switch(C){case Fe.NOTIFICATION_CLICKED:return"notification_open";case Fe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(st,{message_id:me[et],message_name:me[he],message_time:me[W],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vr(){return vr=(0,se.Z)(function*(C,P){const me=P.data;if(!me.isFirebaseMessaging)return;C.onMessageHandler&&me.messageType===Fe.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(fn(me)):C.onMessageHandler.next(fn(me)));const st=me.data;(function Ti(C){return"object"==typeof C&&!!C&&et in C})(st)&&"1"===st["google.c.a.e"]&&(yield function on(C,P,me){return Nr.apply(this,arguments)}(C,me.messageType,st))}),vr.apply(this,arguments)}const ls="@firebase/messaging",ts=C=>{const P=new Ir(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",me=>function wi(C,P){return vr.apply(this,arguments)}(P,me)),P},Us=C=>{const P=C.getProvider("messaging").getImmediate();return{getToken:st=>function Qi(C,P){return as.apply(this,arguments)}(P,st)}};function or(){return ni.apply(this,arguments)}function ni(){return(ni=(0,se.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ti(){(0,ge._registerComponent)(new Ee.wA("messaging",ts,"PUBLIC")),(0,ge._registerComponent)(new Ee.wA("messaging-internal",Us,"PRIVATE")),(0,ge.registerVersion)(ls,"0.12.4"),(0,ge.registerVersion)(ls,"0.12.4","esm2017")}();var Rs=L(5132),gs=L(4408),qo=L(7565);const zi=new class us extends qo.v{}(class Ui extends gs.o{constructor(P,me){super(P,me),this.scheduler=P,this.work=me}schedule(P,me=0){return me>0?super.schedule(P,me):(this.delay=me,this.state=P,this.scheduler.flush(this),this)}execute(P,me){return me>0||this.closed?super.execute(P,me):this._execute(P,me)}requestAsyncId(P,me,st=0){return null!=st&&st>0||null==st&&this.delay>0?super.requestAsyncId(P,me,st):(P.flush(this),0)}});var Ro=L(4986),Ss=L(9751),br=L(8505),_s=L(5363),oo=L(9468);const cs=new y.GfV("7.6.1"),Es="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",ri="__angularfire_symbol__remoteConfigIsSupportedValue",Qs="__angularfire_symbol__remoteConfigIsSupported",Ai="__angularfire_symbol__messagingIsSupportedValue",Bi="__angularfire_symbol__messagingIsSupported";globalThis[ao]||(globalThis[ao]=(0,Rs.Gb)().then(C=>globalThis[Es]=C).catch(()=>globalThis[Es]=!1)),globalThis[Bi]||(globalThis[Bi]=or().then(C=>globalThis[Ai]=C).catch(()=>globalThis[Ai]=!1)),globalThis[Qs]||(globalThis[Qs]=Kn().then(C=>globalThis[ri]=C).catch(()=>globalThis[ri]=!1));const T={async:()=>globalThis[ao],sync:()=>{const C=globalThis[Es];if(void 0===C)throw new Error((C=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${C} in the constructor, first ensure that ${C} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${C})\`.`)("Analytics"));return C}};function Z(C,P,me){if(P){if(1===P.length)return P[0];const Zt=P.filter(mn=>mn.app===me);if(1===Zt.length)return Zt[0]}return me.container.getProvider(C).getImmediate({optional:!0})}const Pe=(C,P)=>{const me=P?[P]:(0,g.C6)(),st=[];return me.forEach($t=>{$t.container.getProvider(C).instances.forEach(mn=>{st.includes(mn)||st.push(mn)})}),st};function qt(){}class Bn{constructor(P,me=zi){this.zone=P,this.delegate=me}now(){return this.delegate.now()}schedule(P,me,st){const $t=this.zone;return this.delegate.schedule(function(mn){$t.runGuarded(()=>{P.apply(this,[mn])})},me,st)}}class rr{constructor(P){this.zone=P,this.task=null}call(P,me){const st=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qt,{},qt,qt)),me.pipe((0,br.b)({next:st,complete:st,error:st})).subscribe(P).add(st)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dr=(()=>{class C{constructor(me){this.ngZone=me,this.outsideAngular=me.runOutsideAngular(()=>new Bn(Zone.current)),this.insideAngular=me.run(()=>new Bn(Zone.current,Ro.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(me){return new(me||C)(y.LFG(y.R0b))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Br(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function jr(C){return Br().ngZone.run(()=>C())}function ds(C){return C.pipe((0,_s.Q)(Br().outsideAngular))}function Xs(C){return Br(),function lo(C){return function(me){return(me=me.lift(new rr(C.ngZone))).pipe((0,oo.R)(C.outsideAngular),(0,_s.Q)(C.insideAngular))}}(Br())(C)}const Y=(C,P)=>function(){const st=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),jr(()=>C.apply(void 0,st))},U=(C,P)=>function(){let me;const st=arguments;for(let Zt=0;Zt<arguments.length;Zt++)"function"==typeof st[Zt]&&(P&&(me||(me=jr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qt,{},qt,qt)))),st[Zt]=Y(st[Zt],me));const $t=function ns(C){return Br().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,st));if(!P){if($t instanceof Ss.y){const Zt=Br();return $t.pipe((0,oo.R)(Zt.outsideAngular),(0,_s.Q)(Zt.insideAngular))}return jr(()=>$t)}return $t instanceof Ss.y?$t.pipe(Xs):$t instanceof Promise?jr(()=>new Promise((Zt,mn)=>$t.then(Qr=>jr(()=>Zt(Qr)),Qr=>jr(()=>mn(Qr))))):"function"==typeof $t&&me?function(){return setTimeout(()=>{me&&"scheduled"===me.state&&me.invoke()},10),$t.apply(this,arguments)}:jr(()=>$t)}},1389:(un,dt,L)=>{"use strict";L.d(dt,{$:()=>Br,A:()=>be,D:()=>Ue,I:()=>Ms,J:()=>z,L:()=>wi,N:()=>Xn,P:()=>Ia,Q:()=>Ds,R:()=>Re,U:()=>Ui,V:()=>qo,W:()=>us,X:()=>gs,Y:()=>Ss,Z:()=>br,_:()=>ao,a:()=>oc,a0:()=>jr,a1:()=>ws,a2:()=>U,a3:()=>Zt,a4:()=>Qr,a5:()=>oi,a6:()=>Lr,a7:()=>_o,a8:()=>uo,a9:()=>$i,aA:()=>Oe,aB:()=>fc,aC:()=>wn,aD:()=>gr,aE:()=>bo,aF:()=>rd,aG:()=>Ki,aH:()=>si,aL:()=>lc,aO:()=>$o,aa:()=>rs,ab:()=>qd,ac:()=>Ma,ad:()=>fi,ae:()=>Au,af:()=>ic,ai:()=>Kl,aj:()=>Eo,ak:()=>Ps,an:()=>xo,ao:()=>ua,aq:()=>Ji,ar:()=>Tn,as:()=>nt,at:()=>Ct,au:()=>at,av:()=>Ge,aw:()=>ko,ax:()=>$a,ay:()=>Kt,az:()=>it,b:()=>vl,c:()=>dp,d:()=>eu,e:()=>rf,f:()=>cc,g:()=>ho,h:()=>af,i:()=>Js,j:()=>dc,k:()=>yc,l:()=>Sr,m:()=>dd,o:()=>Jd,p:()=>Ce,r:()=>is,s:()=>tn,u:()=>Ou});var y=L(5861),g=L(2090),se=L(6881),ge=L(655),xe=L(1877),Ee=L(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},be={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ze=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},It=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new xe.Yd("@firebase/auth");function ot(R,..._){we.logLevel<=xe.in.ERROR&&we.error(`Auth (${se.SDK_VERSION}): ${R}`,..._)}function Ge(R,..._){throw Ye(R,..._)}function it(R,..._){return Ye(R,..._)}function gt(R,_,I){const O=Object.assign(Object.assign({},Ze()),{[_]:I});return new g.LL("auth","Firebase",O).create(_,{appName:R.name})}function _t(R,_,I){if(!(_ instanceof I))throw I.name!==_.constructor.name&&Ge(R,"argument-error"),gt(R,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(R,..._){if("string"!=typeof R){const I=_[0],O=[..._.slice(1)];return O[0]&&(O[0].appName=R.name),R._errorFactory.create(I,...O)}return It.create(R,..._)}function Oe(R,_,...I){if(!R)throw Ye(_,...I)}function St(R){const _="INTERNAL ASSERTION FAILED: "+R;throw ot(_),new Error(_)}function nt(R,_){R||St(_)}function mt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function vt(){return"http:"===ce()||"https:"===ce()}function ce(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class We{constructor(_,I){this.shortDelay=_,this.longDelay=I,nt(I>_,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function De(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ne(R,_){nt(R.emulator,"Emulator should always be set here");const{url:I}=R.emulator;return _?`${I}${_.startsWith("/")?_.slice(1):_}`:I}class ke{static initialize(_,I,O){this.fetchImpl=_,I&&(this.headersImpl=I),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ne=new We(3e4,6e4);function ct(R,_){return R.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:R.tenantId}):_}function Tt(R,_,I,O){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,y.Z)(function*(R,_,I,O,le={}){return rn(R,le,(0,y.Z)(function*(){let Ae={},wt={};O&&("GET"===_?wt=O:Ae={body:JSON.stringify(O)});const zt=(0,g.xO)(Object.assign({key:R.config.apiKey},wt)).slice(1),An=yield R._getAdditionalHeaders();return An["Content-Type"]="application/json",R.languageCode&&(An["X-Firebase-Locale"]=R.languageCode),ke.fetch()(Jt(R,R.config.apiHost,I,zt),Object.assign({method:_,headers:An,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function rn(R,_,I){return At.apply(this,arguments)}function At(){return(At=(0,y.Z)(function*(R,_,I){R._canInitEmulator=!1;const O=Object.assign(Object.assign({},je),_);try{const le=new cn(R),Ae=yield Promise.race([I(),le.promise]);le.clearNetworkTimeout();const wt=yield Ae.json();if("needConfirmation"in wt)throw Mn(R,"account-exists-with-different-credential",wt);if(Ae.ok&&!("errorMessage"in wt))return wt;{const zt=Ae.ok?wt.errorMessage:wt.error.message,[An,kn]=zt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===An)throw Mn(R,"credential-already-in-use",wt);if("EMAIL_EXISTS"===An)throw Mn(R,"email-already-in-use",wt);if("USER_DISABLED"===An)throw Mn(R,"user-disabled",wt);const wr=O[An]||An.toLowerCase().replace(/[_\s]+/g,"-");if(kn)throw gt(R,wr,kn);Ge(R,wr)}}catch(le){if(le instanceof g.ZR)throw le;Ge(R,"network-request-failed",{message:String(le)})}})).apply(this,arguments)}function tt(R,_,I,O){return kt.apply(this,arguments)}function kt(){return(kt=(0,y.Z)(function*(R,_,I,O,le={}){const Ae=yield Tt(R,_,I,O,le);return"mfaPendingCredential"in Ae&&Ge(R,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function Jt(R,_,I,O){const le=`${_}${I}?${O}`;return R.config.emulator?Ne(R.config,le):`${R.config.apiScheme}://${le}`}class cn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((I,O)=>{this.timer=setTimeout(()=>O(it(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(R,_,I){const O={appName:R.name};I.email&&(O.email=I.email),I.phoneNumber&&(O.phoneNumber=I.phoneNumber);const le=it(R,_,O);return le.customData._tokenResponse=I,le}function Nt(){return(Nt=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Ft(){return(Ft=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function hr(){return(hr=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function yr(R){if(R)try{const _=new Date(Number(R));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function er(){return(er=(0,y.Z)(function*(R,_=!1){const I=(0,g.m9)(R),O=yield I.getIdToken(_),le=tr(O);Oe(le&&le.exp&&le.auth_time&&le.iat,I.auth,"internal-error");const Ae="object"==typeof le.firebase?le.firebase:void 0,wt=null==Ae?void 0:Ae.sign_in_provider;return{claims:le,token:O,authTime:yr(zn(le.auth_time)),issuedAtTime:yr(zn(le.iat)),expirationTime:yr(zn(le.exp)),signInProvider:wt||null,signInSecondFactor:(null==Ae?void 0:Ae.sign_in_second_factor)||null}})).apply(this,arguments)}function zn(R){return 1e3*Number(R)}function tr(R){const[_,I,O]=R.split(".");if(void 0===_||void 0===I||void 0===O)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,g.tV)(I);return le?JSON.parse(le):(ot("Failed to decode base64 JWT payload"),null)}catch(le){return ot("Caught error parsing JWT payload as JSON",null==le?void 0:le.toString()),null}}function Cn(R,_){return En.apply(this,arguments)}function En(){return(En=(0,y.Z)(function*(R,_,I=!1){if(I)return _;try{return yield _}catch(O){throw O instanceof g.ZR&&function xn({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}(O)&&R.auth.currentUser===R&&(yield R.auth.signOut()),O}})).apply(this,arguments)}class fr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var I;if(_){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const le=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(_=!1){var I=this;if(!this.isRunning)return;const O=this.getInterval(_);this.timerId=setTimeout((0,y.Z)(function*(){yield I.iteration()}),O)}iteration(){var _=this;return(0,y.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null==I?void 0:I.code)&&_.schedule(!0))}_.schedule()})()}}class ur{constructor(_,I){this.createdAt=_,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=yr(this.lastLoginAt),this.creationTime=yr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cr(R){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,y.Z)(function*(R){var _;const I=R.auth,O=yield R.getIdToken(),le=yield Cn(R,function Kn(R,_){return hr.apply(this,arguments)}(I,{idToken:O}));Oe(null==le?void 0:le.users.length,I,"internal-error");const Ae=le.users[0];R._notifyReloadListener(Ae);const wt=null!==(_=Ae.providerUserInfo)&&void 0!==_&&_.length?function ei(R){return R.map(_=>{var{providerId:I}=_,O=(0,ge._T)(_,["providerId"]);return{providerId:I,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(Ae.providerUserInfo):[],zt=function gn(R,_){return[...R.filter(O=>!_.some(le=>le.providerId===O.providerId)),..._]}(R.providerData,wt),wr=!!R.isAnonymous&&!(R.email&&Ae.passwordHash||null!=zt&&zt.length),gi={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:zt,metadata:new ur(Ae.createdAt,Ae.lastLoginAt),isAnonymous:wr};Object.assign(R,gi)}),Rr.apply(this,arguments)}function Wn(){return(Wn=(0,y.Z)(function*(R){const _=(0,g.m9)(R);yield cr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*(R,_){const I=yield rn(R,{},(0,y.Z)(function*(){const O=(0,g.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:le,apiKey:Ae}=R.config,wt=Jt(R,le,"/v1/token",`key=${Ae}`),zt=yield R._getAdditionalHeaders();return zt["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(wt,{method:"POST",headers:zt,body:O})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Oe(_.idToken,"internal-error"),Oe(typeof _.idToken<"u","internal-error"),Oe(typeof _.refreshToken<"u","internal-error");const I="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Fr(R){const _=tr(R);return Oe(_,"internal-error"),Oe(typeof _.exp<"u","internal-error"),Oe(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,I)}getToken(_,I=!1){var O=this;return(0,y.Z)(function*(){return Oe(!O.accessToken||O.refreshToken,_,"user-token-expired"),I||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(_,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,I){var O=this;return(0,y.Z)(function*(){const{accessToken:le,refreshToken:Ae,expiresIn:wt}=yield function Vn(R,_){return Ut.apply(this,arguments)}(_,I);O.updateTokensAndExpiration(le,Ae,Number(wt))})()}updateTokensAndExpiration(_,I,O){this.refreshToken=I||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(_,I){const{refreshToken:O,accessToken:le,expirationTime:Ae}=I,wt=new fe;return O&&(Oe("string"==typeof O,"internal-error",{appName:_}),wt.refreshToken=O),le&&(Oe("string"==typeof le,"internal-error",{appName:_}),wt.accessToken=le),Ae&&(Oe("number"==typeof Ae,"internal-error",{appName:_}),wt.expirationTime=Ae),wt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new fe,this.toJSON())}_performRefresh(){return St("not implemented")}}function Ke(R,_){Oe("string"==typeof R||typeof R>"u","internal-error",{appName:_})}class Mt{constructor(_){var{uid:I,auth:O,stsTokenManager:le}=_,Ae=(0,ge._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=O,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new ur(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(_){var I=this;return(0,y.Z)(function*(){const O=yield Cn(I,I.stsTokenManager.getToken(I.auth,_));return Oe(O,I.auth,"internal-error"),I.accessToken!==O&&(I.accessToken=O,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),O})()}getIdTokenResult(_){return function Pr(R){return er.apply(this,arguments)}(this,_)}reload(){return function Tr(R){return Wn.apply(this,arguments)}(this)}_assign(_){this!==_&&(Oe(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(I=>Object.assign({},I)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const I=new Mt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(_){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,I=!1){var O=this;return(0,y.Z)(function*(){let le=!1;_.idToken&&_.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(_),le=!0),I&&(yield cr(O)),yield O.auth._persistUserIfCurrent(O),le&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var _=this;return(0,y.Z)(function*(){const I=yield _.getIdToken();return yield Cn(_,function _n(R,_){return Nt.apply(this,arguments)}(_.auth,{idToken:I})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,I){var O,le,Ae,wt,zt,An,kn,wr;const gi=null!==(O=I.displayName)&&void 0!==O?O:void 0,ta=null!==(le=I.email)&&void 0!==le?le:void 0,Fo=null!==(Ae=I.phoneNumber)&&void 0!==Ae?Ae:void 0,Vu=null!==(wt=I.photoURL)&&void 0!==wt?wt:void 0,no=null!==(zt=I.tenantId)&&void 0!==zt?zt:void 0,su=null!==(An=I._redirectEventId)&&void 0!==An?An:void 0,Uu=null!==(kn=I.createdAt)&&void 0!==kn?kn:void 0,eh=null!==(wr=I.lastLoginAt)&&void 0!==wr?wr:void 0,{uid:Go,emailVerified:Da,isAnonymous:ju,providerData:df,stsTokenManager:hf}=I;Oe(Go&&hf,_,"internal-error");const Jr=fe.fromJSON(this.name,hf);Oe("string"==typeof Go,_,"internal-error"),Ke(gi,_.name),Ke(ta,_.name),Oe("boolean"==typeof Da,_,"internal-error"),Oe("boolean"==typeof ju,_,"internal-error"),Ke(Fo,_.name),Ke(Vu,_.name),Ke(no,_.name),Ke(su,_.name),Ke(Uu,_.name),Ke(eh,_.name);const Hu=new Mt({uid:Go,auth:_,email:ta,emailVerified:Da,displayName:gi,isAnonymous:ju,photoURL:Vu,phoneNumber:Fo,tenantId:no,stsTokenManager:Jr,createdAt:Uu,lastLoginAt:eh});return df&&Array.isArray(df)&&(Hu.providerData=df.map(th=>Object.assign({},th))),su&&(Hu._redirectEventId=su),Hu}static _fromIdTokenResponse(_,I,O=!1){return(0,y.Z)(function*(){const le=new fe;le.updateFromServerResponse(I);const Ae=new Mt({uid:I.localId,auth:_,stsTokenManager:le,isAnonymous:O});return yield cr(Ae),Ae})()}}const ln=new Map;function wn(R){nt(R instanceof Function,"Expected a class definition");let _=ln.get(R);return _?(nt(_ instanceof R,"Instance stored in cache mismatched with class"),_):(_=new R,ln.set(R,_),_)}const Xn=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(I,O){var le=this;return(0,y.Z)(function*(){le.storage[I]=O})()}_get(I){var O=this;return(0,y.Z)(function*(){const le=O.storage[I];return void 0===le?null:le})()}_remove(I){var O=this;return(0,y.Z)(function*(){delete O.storage[I]})()}_addListener(I,O){}_removeListener(I,O){}}return R.type="NONE",R})();function gr(R,_,I){return`firebase:${R}:${_}:${I}`}class et{constructor(_,I,O){this.persistence=_,this.auth=I,this.userKey=O;const{config:le,name:Ae}=this.auth;this.fullUserKey=gr(this.userKey,le.apiKey,Ae),this.fullPersistenceKey=gr("persistence",le.apiKey,Ae),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,y.Z)(function*(){const I=yield _.persistence._get(_.fullUserKey);return I?Mt._fromJSON(_.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var I=this;return(0,y.Z)(function*(){if(I.persistence===_)return;const O=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=_,O?I.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,I,O="authUser"){return(0,y.Z)(function*(){if(!I.length)return new et(wn(Xn),_,O);const le=(yield Promise.all(I.map(function(){var kn=(0,y.Z)(function*(wr){if(yield wr._isAvailable())return wr});return function(wr){return kn.apply(this,arguments)}}()))).filter(kn=>kn);let Ae=le[0]||wn(Xn);const wt=gr(O,_.config.apiKey,_.name);let zt=null;for(const kn of I)try{const wr=yield kn._get(wt);if(wr){const gi=Mt._fromJSON(_,wr);kn!==Ae&&(zt=gi),Ae=kn;break}}catch{}const An=le.filter(kn=>kn._shouldAllowMigration);return Ae._shouldAllowMigration&&An.length?(Ae=An[0],zt&&(yield Ae._set(wt,zt.toJSON())),yield Promise.all(I.map(function(){var kn=(0,y.Z)(function*(wr){if(wr!==Ae)try{yield wr._remove(wt)}catch{}});return function(wr){return kn.apply(this,arguments)}}())),new et(Ae,_,O)):new et(Ae,_,O)})()}}function he(R){const _=R.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Fe(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(W(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Be(_))return"Blackberry";if(pt(_))return"Webos";if(H(_))return"Safari";if((_.includes("chrome/")||K(_))&&!_.includes("edge/"))return"Chrome";if(at(_))return"Android";{const O=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==O?void 0:O.length))return O[1]}return"Other"}function W(R=(0,g.z$)()){return/firefox\//i.test(R)}function H(R=(0,g.z$)()){const _=R.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function K(R=(0,g.z$)()){return/crios\//i.test(R)}function Fe(R=(0,g.z$)()){return/iemobile/i.test(R)}function at(R=(0,g.z$)()){return/android/i.test(R)}function Be(R=(0,g.z$)()){return/blackberry/i.test(R)}function pt(R=(0,g.z$)()){return/webos/i.test(R)}function Ct(R=(0,g.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Kt(R=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function dn(R=(0,g.z$)()){return Ct(R)||at(R)||pt(R)||Be(R)||/windows phone/i.test(R)||Fe(R)}function Un(R,_=[]){let I;switch(R){case"Browser":I=he((0,g.z$)());break;case"Worker":I=`${he((0,g.z$)())}-${R}`;break;default:I=R}const O=_.length?_.join(","):"FirebaseCore-web";return`${I}/JsCore/${se.SDK_VERSION}/${O}`}function bt(){return(bt=(0,y.Z)(function*(R){return(yield Tt(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wt(R,_){return vn.apply(this,arguments)}function vn(){return(vn=(0,y.Z)(function*(R,_){return Tt(R,"GET","/v2/recaptchaConfig",ct(R,_))})).apply(this,arguments)}function Nn(R){return void 0!==R&&void 0!==R.getResponse}function ir(R){return void 0!==R&&void 0!==R.enterprise}class nr{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Ar(R){return new Promise((_,I)=>{const O=document.createElement("script");O.setAttribute("src",R),O.onload=_,O.onerror=le=>{const Ae=it("internal-error");Ae.customData=le,I(Ae)},O.type="text/javascript",O.charset="UTF-8",function Zr(){var R,_;return null!==(_=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==_?_:document}().appendChild(O)})}function dr(R){return`__${R}${Math.floor(1e6*Math.random())}`}class ps{constructor(_){this.type="recaptcha-enterprise",this.auth=si(_)}verify(_="verify",I=!1){var O=this;return(0,y.Z)(function*(){function Ae(){return Ae=(0,y.Z)(function*(zt){if(!I){if(null==zt.tenantId&&null!=zt._agentRecaptchaConfig)return zt._agentRecaptchaConfig.siteKey;if(null!=zt.tenantId&&void 0!==zt._tenantRecaptchaConfigs[zt.tenantId])return zt._tenantRecaptchaConfigs[zt.tenantId].siteKey}return new Promise(function(){var An=(0,y.Z)(function*(kn,wr){Wt(zt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gi=>{if(void 0!==gi.recaptchaKey){const ta=new nr(gi);return null==zt.tenantId?zt._agentRecaptchaConfig=ta:zt._tenantRecaptchaConfigs[zt.tenantId]=ta,kn(ta.siteKey)}wr(new Error("recaptcha Enterprise site key undefined"))}).catch(gi=>{wr(gi)})});return function(kn,wr){return An.apply(this,arguments)}}())}),Ae.apply(this,arguments)}function wt(zt,An,kn){const wr=window.grecaptcha;ir(wr)?wr.enterprise.ready(()=>{wr.enterprise.execute(zt,{action:_}).then(gi=>{An(gi)}).catch(()=>{An("NO_RECAPTCHA")})}):kn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((zt,An)=>{(function le(zt){return Ae.apply(this,arguments)})(O.auth).then(kn=>{if(!I&&ir(window.grecaptcha))wt(kn,zt,An);else{if(typeof window>"u")return void An(new Error("RecaptchaVerifier is only supported in browser"));Ar("https://www.google.com/recaptcha/enterprise.js?render="+kn).then(()=>{wt(kn,zt,An)}).catch(wr=>{An(wr)})}}).catch(kn=>{An(kn)})})})()}}function Ci(R,_,I){return es.apply(this,arguments)}function es(){return(es=(0,y.Z)(function*(R,_,I,O=!1){const le=new ps(R);let Ae;try{Ae=yield le.verify(I)}catch{Ae=yield le.verify(I,!0)}const wt=Object.assign({},_);return Object.assign(wt,O?{captchaResp:Ae}:{captchaResponse:Ae}),Object.assign(wt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(wt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),wt})).apply(this,arguments)}class Os{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,I){const O=Ae=>new Promise((wt,zt)=>{try{wt(_(Ae))}catch(An){zt(An)}});O.onAbort=I,this.queue.push(O);const le=this.queue.length-1;return()=>{this.queue[le]=()=>Promise.resolve()}}runMiddleware(_){var I=this;return(0,y.Z)(function*(){if(I.auth.currentUser===_)return;const O=[];try{for(const le of I.queue)yield le(_),le.onAbort&&O.push(le.onAbort)}catch(le){O.reverse();for(const Ae of O)try{Ae()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:null==le?void 0:le.message})}})()}}class xi{constructor(_,I,O,le){this.app=_,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=O,this.config=le,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ss(this),this.idTokenSubscription=new ss(this),this.beforeStateQueue=new Os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=It,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=le.sdkClientVersion}_initializeWithPersistence(_,I){var O=this;return I&&(this._popupRedirectResolver=wn(I)),this._initializationPromise=this.queue((0,y.Z)(function*(){var le,Ae;if(!O._deleted&&(O.persistenceManager=yield et.create(O,_),!O._deleted)){if(null!==(le=O._popupRedirectResolver)&&void 0!==le&&le._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(I),O.lastNotifiedUid=(null===(Ae=O.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,y.Z)(function*(){if(_._deleted)return;const I=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||I){if(_.currentUser&&I&&_.currentUser.uid===I.uid)return _._currentUser._assign(I),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(I,!0)}})()}initializeCurrentUser(_){var I=this;return(0,y.Z)(function*(){var O;const le=yield I.assertedPersistence.getCurrentUser();let Ae=le,wt=!1;if(_&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const zt=null===(O=I.redirectUser)||void 0===O?void 0:O._redirectEventId,An=null==Ae?void 0:Ae._redirectEventId,kn=yield I.tryRedirectSignIn(_);(!zt||zt===An)&&null!=kn&&kn.user&&(Ae=kn.user,wt=!0)}if(!Ae)return I.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(wt)try{yield I.beforeStateQueue.runMiddleware(Ae)}catch(zt){Ae=le,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(zt))}return Ae?I.reloadAndSetCurrentUserOrClear(Ae):I.directlySetCurrentUser(null)}return Oe(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===Ae._redirectEventId?I.directlySetCurrentUser(Ae):I.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(_){var I=this;return(0,y.Z)(function*(){let O=null;try{O=yield I._popupRedirectResolver._completeRedirectFn(I,_,!0)}catch{yield I._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(_){var I=this;return(0,y.Z)(function*(){try{yield cr(_)}catch(O){if("auth/network-request-failed"!==(null==O?void 0:O.code))return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var _=this;return(0,y.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var I=this;return(0,y.Z)(function*(){const O=_?(0,g.m9)(_):null;return O&&Oe(O.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(O&&O._clone(I))})()}_updateCurrentUser(_,I=!1){var O=this;return(0,y.Z)(function*(){if(!O._deleted)return _&&Oe(O.tenantId===_.tenantId,O,"tenant-id-mismatch"),I||(yield O.beforeStateQueue.runMiddleware(_)),O.queue((0,y.Z)(function*(){yield O.directlySetCurrentUser(_),O.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,y.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var I=this;return this.queue((0,y.Z)(function*(){yield I.assertedPersistence.setPersistence(wn(_))}))}initializeRecaptchaConfig(){var _=this;return(0,y.Z)(function*(){const I=yield Wt(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),O=new nr(I);null==_.tenantId?_._agentRecaptchaConfig=O:_._tenantRecaptchaConfigs[_.tenantId]=O,O.emailPasswordEnabled&&new ps(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new g.LL("auth","Firebase",_())}onAuthStateChanged(_,I,O){return this.registerStateListener(this.authStateSubscription,_,I,O)}beforeAuthStateChanged(_,I){return this.beforeStateQueue.pushCallback(_,I)}onIdTokenChanged(_,I,O){return this.registerStateListener(this.idTokenSubscription,_,I,O)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,I){var O=this;return(0,y.Z)(function*(){const le=yield O.getOrInitRedirectPersistenceManager(I);return null===_?le.removeCurrentUser():le.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var I=this;return(0,y.Z)(function*(){if(!I.redirectPersistenceManager){const O=_&&wn(_)||I._popupRedirectResolver;Oe(O,I,"argument-error"),I.redirectPersistenceManager=yield et.create(I,[wn(O._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(_){var I=this;return(0,y.Z)(function*(){var O,le;return I._isInitialized&&(yield I.queue((0,y.Z)(function*(){}))),(null===(O=I._currentUser)||void 0===O?void 0:O._redirectEventId)===_?I._currentUser:(null===(le=I.redirectUser)||void 0===le?void 0:le._redirectEventId)===_?I.redirectUser:null})()}_persistUserIfCurrent(_){var I=this;return(0,y.Z)(function*(){if(_===I.currentUser)return I.queue((0,y.Z)(function*(){return I.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(I=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,I,O,le){if(this._deleted)return()=>{};const Ae="function"==typeof I?I:I.next.bind(I),wt=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(wt,this,"internal-error"),wt.then(()=>Ae(this.currentUser)),"function"==typeof I?_.addObserver(I,O,le):_.addObserver(I)}directlySetCurrentUser(_){var I=this;return(0,y.Z)(function*(){I.currentUser&&I.currentUser!==_&&I._currentUser._stopProactiveRefresh(),_&&I.isProactiveRefreshEnabled&&_._startProactiveRefresh(),I.currentUser=_,_?yield I.assertedPersistence.setCurrentUser(_):yield I.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,y.Z)(function*(){var I;const O={"X-Client-Version":_.clientVersion};_.app.options.appId&&(O["X-Firebase-gmpid"]=_.app.options.appId);const le=yield null===(I=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();le&&(O["X-Firebase-Client"]=le);const Ae=yield _._getAppCheckToken();return Ae&&(O["X-Firebase-AppCheck"]=Ae),O})()}_getAppCheckToken(){var _=this;return(0,y.Z)(function*(){var I;const O=yield null===(I=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return null!=O&&O.error&&function ft(R,..._){we.logLevel<=xe.in.WARN&&we.warn(`Auth (${se.SDK_VERSION}): ${R}`,..._)}(`Error while retrieving App Check token: ${O.error}`),null==O?void 0:O.token})()}}function si(R){return(0,g.m9)(R)}class ss{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,g.ne)(I=>this.observer=I)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ms(R,_,I){const O=si(R);Oe(O._canInitEmulator,O,"emulator-config-failed"),Oe(/^https?:\/\//.test(_),O,"invalid-emulator-scheme");const le=!(null==I||!I.disableWarnings),Ae=G(_),{host:wt,port:zt}=function X(R){const _=G(R),I=/(\/\/)?([^?#/]+)/.exec(R.substr(_.length));if(!I)return{host:"",port:null};const O=I[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(O);if(le){const Ae=le[1];return{host:Ae,port:_e(O.substr(Ae.length+1))}}{const[Ae,wt]=O.split(":");return{host:Ae,port:_e(wt)}}}(_);O.config.emulator={url:`${Ae}//${wt}${null===zt?"":`:${zt}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:wt,port:zt,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function ae(){function R(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function G(R){const _=R.indexOf(":");return _<0?"":R.substr(0,_+1)}function _e(R){if(!R)return null;const _=Number(R);return isNaN(_)?null:_}class z{constructor(_,I){this.providerId=_,this.signInMethod=I}toJSON(){return St("not implemented")}_getIdTokenResponse(_){return St("not implemented")}_linkToIdToken(_,I){return St("not implemented")}_getReauthenticationResolver(_){return St("not implemented")}}function ie(R,_){return $e.apply(this,arguments)}function $e(){return($e=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:resetPassword",ct(R,_))})).apply(this,arguments)}function Qe(R,_){return ht.apply(this,arguments)}function ht(){return(ht=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function an(){return(an=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",ct(R,_))})).apply(this,arguments)}function fn(R,_){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signInWithPassword",ct(R,_))})).apply(this,arguments)}function sr(R,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:sendOobCode",ct(R,_))})).apply(this,arguments)}function Pi(){return(Pi=(0,y.Z)(function*(R,_){return sr(R,_)})).apply(this,arguments)}function Hr(R,_){return bn.apply(this,arguments)}function bn(){return(bn=(0,y.Z)(function*(R,_){return sr(R,_)})).apply(this,arguments)}function Ir(R,_){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,y.Z)(function*(R,_){return sr(R,_)})).apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(R,_){return sr(R,_)})).apply(this,arguments)}function Zi(){return(Zi=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signInWithEmailLink",ct(R,_))})).apply(this,arguments)}function Qi(){return(Qi=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signInWithEmailLink",ct(R,_))})).apply(this,arguments)}class as extends z{constructor(_,I,O,le=null){super("password",O),this._email=_,this._password=I,this._tenantId=le}static _fromEmailAndPassword(_,I){return new as(_,I,"password")}static _fromEmailAndCode(_,I,O=null){return new as(_,I,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_;if(null!=I&&I.email&&null!=I&&I.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(_){var I=this;return(0,y.Z)(function*(){var O;switch(I.signInMethod){case"password":const le={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=_._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Ae=yield Ci(_,le,"signInWithPassword");return fn(_,Ae)}return fn(_,le).catch(function(){var Ae=(0,y.Z)(function*(wt){if("auth/missing-recaptcha-token"===wt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const zt=yield Ci(_,le,"signInWithPassword");return fn(_,zt)}return Promise.reject(wt)});return function(wt){return Ae.apply(this,arguments)}}());case"emailLink":return function hi(R,_){return Zi.apply(this,arguments)}(_,{email:I._email,oobCode:I._password});default:Ge(_,"internal-error")}})()}_linkToIdToken(_,I){var O=this;return(0,y.Z)(function*(){switch(O.signInMethod){case"password":return Qe(_,{idToken:I,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function Ur(R,_){return Qi.apply(this,arguments)}(_,{idToken:I,email:O._email,oobCode:O._password});default:Ge(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function on(R,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signInWithIdp",ct(R,_))})).apply(this,arguments)}class wi extends z{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const I=new wi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(I.idToken=_.idToken),_.accessToken&&(I.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(I.nonce=_.nonce),_.pendingToken&&(I.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(I.accessToken=_.oauthToken,I.secret=_.oauthTokenSecret):Ge("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:O,signInMethod:le}=I,Ae=(0,ge._T)(I,["providerId","signInMethod"]);if(!O||!le)return null;const wt=new wi(O,le);return wt.idToken=Ae.idToken||void 0,wt.accessToken=Ae.accessToken||void 0,wt.secret=Ae.secret,wt.nonce=Ae.nonce,wt.pendingToken=Ae.pendingToken||null,wt}_getIdTokenResponse(_){return on(_,this.buildRequest())}_linkToIdToken(_,I){const O=this.buildRequest();return O.idToken=I,on(_,O)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,on(_,I)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),_.postBody=(0,g.xO)(I)}return _}}function ls(){return(ls=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:sendVerificationCode",ct(R,_))})).apply(this,arguments)}function ts(){return(ts=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signInWithPhoneNumber",ct(R,_))})).apply(this,arguments)}function ti(){return(ti=(0,y.Z)(function*(R,_){const I=yield tt(R,"POST","/v1/accounts:signInWithPhoneNumber",ct(R,_));if(I.temporaryProof)throw Mn(R,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const or={USER_NOT_FOUND:"user-not-found"};function vo(){return(vo=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signInWithPhoneNumber",ct(R,Object.assign(Object.assign({},_),{operation:"REAUTH"})),or)})).apply(this,arguments)}class Oi extends z{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,I){return new Oi({verificationId:_,verificationCode:I})}static _fromTokenResponse(_,I){return new Oi({phoneNumber:_,temporaryProof:I})}_getIdTokenResponse(_){return function Vs(R,_){return ts.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,I){return function Us(R,_){return ti.apply(this,arguments)}(_,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function ni(R,_){return vo.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:I,verificationId:O,verificationCode:le}=this.params;return _&&I?{temporaryProof:_,phoneNumber:I}:{sessionInfo:O,code:le}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:I,verificationCode:O,phoneNumber:le,temporaryProof:Ae}=_;return O||I||le||Ae?new Oi({verificationId:I,verificationCode:O,phoneNumber:le,temporaryProof:Ae}):null}}class js{constructor(_){var I,O,le,Ae,wt,zt;const An=(0,g.zd)((0,g.pd)(_)),kn=null!==(I=An.apiKey)&&void 0!==I?I:null,wr=null!==(O=An.oobCode)&&void 0!==O?O:null,gi=function _r(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=An.mode)&&void 0!==le?le:null);Oe(kn&&wr&&gi,"argument-error"),this.apiKey=kn,this.operation=gi,this.code=wr,this.continueUrl=null!==(Ae=An.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(wt=An.languageCode)&&void 0!==wt?wt:null,this.tenantId=null!==(zt=An.tenantId)&&void 0!==zt?zt:null}static parseLink(_){const I=function Mo(R){const _=(0,g.zd)((0,g.pd)(R)).link,I=_?(0,g.zd)((0,g.pd)(_)).deep_link_id:null,O=(0,g.zd)((0,g.pd)(R)).deep_link_id;return(O?(0,g.zd)((0,g.pd)(O)).link:null)||O||I||_||R}(_);try{return new js(I)}catch{return null}}}let Ds=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(I,O){return as._fromEmailAndPassword(I,O)}static credentialWithLink(I,O){const le=js.parseLink(O);return Oe(le,"argument-error"),as._fromEmailAndCode(I,le.code,le.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Xi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Rs extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class gs extends Rs{static credentialFromJSON(_){const I="string"==typeof _?JSON.parse(_):_;return Oe("providerId"in I&&"signInMethod"in I,"argument-error"),wi._fromParams(I)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Oe(_.idToken||_.accessToken,"argument-error"),wi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return gs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return gs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:le,pendingToken:Ae,nonce:wt,providerId:zt}=_;if(!O&&!le&&!I&&!Ae||!zt)return null;try{return new gs(zt)._credential({idToken:I,accessToken:O,nonce:wt,pendingToken:Ae})}catch{return null}}}let Ui=(()=>{class R extends Rs{constructor(){super("facebook.com")}static credential(I){return wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),qo=(()=>{class R extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(I,O){return wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:O})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:O,oauthAccessToken:le}=I;if(!O&&!le)return null;try{return R.credential(O,le)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),us=(()=>{class R extends Rs{constructor(){super("github.com")}static credential(I){return wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return R.credential(I.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class $o extends z{constructor(_,I){super(_,_),this.pendingToken=I}_getIdTokenResponse(_){return on(_,this.buildRequest())}_linkToIdToken(_,I){const O=this.buildRequest();return O.idToken=I,on(_,O)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,on(_,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:O,signInMethod:le,pendingToken:Ae}=I;return O&&le&&Ae&&O===le?new $o(O,Ae):null}static _create(_,I){return new $o(_,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ss extends Xi{constructor(_){Oe(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Ss.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Ss.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const I=$o.fromJSON(_);return Oe(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:I,providerId:O}=_;if(!I||!O)return null;try{return $o._create(O,I)}catch{return null}}}let br=(()=>{class R extends Rs{constructor(){super("twitter.com")}static credential(I,O){return wi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:O})}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:O,oauthTokenSecret:le}=I;if(!O||!le)return null;try{return R.credential(O,le)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function _s(R,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signUp",ct(R,_))})).apply(this,arguments)}class cs{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,I,O,le=!1){return(0,y.Z)(function*(){const Ae=yield Mt._fromIdTokenResponse(_,O,le),wt=Es(O);return new cs({user:Ae,providerId:wt,_tokenResponse:O,operationType:I})})()}static _forOperation(_,I,O){return(0,y.Z)(function*(){yield _._updateTokensIfNecessary(O,!0);const le=Es(O);return new cs({user:_,providerId:le,_tokenResponse:O,operationType:I})})()}}function Es(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function ao(R){return ri.apply(this,arguments)}function ri(){return(ri=(0,y.Z)(function*(R){var _;const I=si(R);if(yield I._initializationPromise,null!==(_=I.currentUser)&&void 0!==_&&_.isAnonymous)return new cs({user:I.currentUser,providerId:null,operationType:"signIn"});const O=yield _s(I,{returnSecureToken:!0}),le=yield cs._fromIdTokenResponse(I,"signIn",O,!0);return yield I._updateCurrentUser(le.user),le})).apply(this,arguments)}class Qs extends g.ZR{constructor(_,I,O,le){var Ae;super(I.code,I.message),this.operationType=O,this.user=le,Object.setPrototypeOf(this,Qs.prototype),this.customData={appName:_.name,tenantId:null!==(Ae=_.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:I.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(_,I,O,le){return new Qs(_,I,O,le)}}function Ai(R,_,I,O){return("reauthenticate"===_?I._getReauthenticationResolver(R):I._getIdTokenResponse(R)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?Qs._fromErrorAndOperation(R,Ae,_,O):Ae})}function Bi(R){return new Set(R.map(({providerId:_})=>_).filter(_=>!!_))}function xo(R,_){return S.apply(this,arguments)}function S(){return S=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R);yield Z(!0,I,_);const{providerUserInfo:O}=yield function In(R,_){return Ft.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[_]}),le=Bi(O||[]);return I.providerData=I.providerData.filter(Ae=>le.has(Ae.providerId)),le.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),S.apply(this,arguments)}function te(R,_){return T.apply(this,arguments)}function T(){return(T=(0,y.Z)(function*(R,_,I=!1){const O=yield Cn(R,_._linkToIdToken(R.auth,yield R.getIdToken()),I);return cs._forOperation(R,"link",O)})).apply(this,arguments)}function Z(R,_,I){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,y.Z)(function*(R,_,I){yield cr(_);const le=!1===R?"provider-already-linked":"no-such-provider";Oe(Bi(_.providerData).has(I)===R,_.auth,le)})).apply(this,arguments)}function qt(R,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(R,_,I=!1){const{auth:O}=R,le="reauthenticate";try{const Ae=yield Cn(R,Ai(O,le,_,R),I);Oe(Ae.idToken,O,"internal-error");const wt=tr(Ae.idToken);Oe(wt,O,"internal-error");const{sub:zt}=wt;return Oe(R.uid===zt,O,"user-mismatch"),cs._forOperation(R,le,Ae)}catch(Ae){throw"auth/user-not-found"===(null==Ae?void 0:Ae.code)&&Ge(O,"user-mismatch"),Ae}})).apply(this,arguments)}function rr(R,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,y.Z)(function*(R,_,I=!1){const O="signIn",le=yield Ai(R,O,_),Ae=yield cs._fromIdTokenResponse(R,O,le);return I||(yield R._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function Br(R,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,y.Z)(function*(R,_){return rr(si(R),_)})).apply(this,arguments)}function jr(R,_){return ds.apply(this,arguments)}function ds(){return(ds=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R);return yield Z(!1,I,_.providerId),te(I,_)})).apply(this,arguments)}function ws(R,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,y.Z)(function*(R,_){return qt((0,g.m9)(R),_)})).apply(this,arguments)}function Y(){return(Y=(0,y.Z)(function*(R,_){return tt(R,"POST","/v1/accounts:signInWithCustomToken",ct(R,_))})).apply(this,arguments)}function U(R,_){return C.apply(this,arguments)}function C(){return C=(0,y.Z)(function*(R,_){const I=si(R),O=yield function lo(R,_){return Y.apply(this,arguments)}(I,{token:_,returnSecureToken:!0}),le=yield cs._fromIdTokenResponse(I,"signIn",O);return yield I._updateCurrentUser(le.user),le}),C.apply(this,arguments)}class P{constructor(_,I){this.factorId=_,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(_,I){return"phoneInfo"in I?me._fromServerResponse(_,I):"totpInfo"in I?st._fromServerResponse(_,I):Ge(_,"internal-error")}}class me extends P{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,I){return new me(I)}}class st extends P{constructor(_){super("totp",_)}static _fromServerResponse(_,I){return new st(I)}}function $t(R,_,I){var O;Oe((null===(O=I.url)||void 0===O?void 0:O.length)>0,R,"invalid-continue-uri"),Oe(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),_.continueUrl=I.url,_.dynamicLinkDomain=I.dynamicLinkDomain,_.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(Oe(I.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),_.iOSBundleId=I.iOS.bundleId),I.android&&(Oe(I.android.packageName.length>0,R,"missing-android-pkg-name"),_.androidInstallApp=I.android.installApp,_.androidMinimumVersionCode=I.android.minimumVersion,_.androidPackageName=I.android.packageName)}function Zt(R,_,I){return mn.apply(this,arguments)}function mn(){return mn=(0,y.Z)(function*(R,_,I){var O;const le=si(R),Ae={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=le._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const wt=yield Ci(le,Ae,"getOobCode",!0);I&&$t(le,wt,I),yield Hr(le,wt)}else I&&$t(le,Ae,I),yield Hr(le,Ae).catch(function(){var wt=(0,y.Z)(function*(zt){if("auth/missing-recaptcha-token"!==zt.code)return Promise.reject(zt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const An=yield Ci(le,Ae,"getOobCode",!0);I&&$t(le,An,I),yield Hr(le,An)}});return function(zt){return wt.apply(this,arguments)}}())}),mn.apply(this,arguments)}function Qr(R,_,I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.Z)(function*(R,_,I){yield ie((0,g.m9)(R),{oobCode:_,newPassword:I})})).apply(this,arguments)}function oi(R,_){return zr.apply(this,arguments)}function zr(){return zr=(0,y.Z)(function*(R,_){yield function xt(R,_){return an.apply(this,arguments)}((0,g.m9)(R),{oobCode:_})}),zr.apply(this,arguments)}function Lr(R,_){return Is.apply(this,arguments)}function Is(){return(Is=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R),O=yield ie(I,{oobCode:_}),le=O.requestType;switch(Oe(le,I,"internal-error"),le){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(O.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(O.mfaInfo,I,"internal-error");default:Oe(O.email,I,"internal-error")}let Ae=null;return O.mfaInfo&&(Ae=P._fromServerResponse(si(I),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:Ae},operation:le}})).apply(this,arguments)}function _o(R,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(R,_){const{data:I}=yield Lr((0,g.m9)(R),_);return I.email})).apply(this,arguments)}function uo(R,_,I){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,y.Z)(function*(R,_,I){var O;const le=si(R),Ae={returnSecureToken:!0,email:_,password:I,clientType:"CLIENT_TYPE_WEB"};let wt;if(null!==(O=le._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const kn=yield Ci(le,Ae,"signUpPassword");wt=_s(le,kn)}else wt=_s(le,Ae).catch(function(){var kn=(0,y.Z)(function*(wr){if("auth/missing-recaptcha-token"===wr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const gi=yield Ci(le,Ae,"signUpPassword");return _s(le,gi)}return Promise.reject(wr)});return function(wr){return kn.apply(this,arguments)}}());const zt=yield wt.catch(kn=>Promise.reject(kn)),An=yield cs._fromIdTokenResponse(le,"signIn",zt);return yield le._updateCurrentUser(An.user),An}),Yo.apply(this,arguments)}function $i(R,_,I){return Br((0,g.m9)(R),Ds.credential(_,I))}function rs(R,_,I){return yl.apply(this,arguments)}function yl(){return yl=(0,y.Z)(function*(R,_,I){var O;const le=si(R),Ae={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function wt(zt,An){Oe(An.handleCodeInApp,le,"argument-error"),An&&$t(le,zt,An)}if(null!==(O=le._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const zt=yield Ci(le,Ae,"getOobCode",!0);wt(zt,I),yield Ir(le,zt)}else wt(Ae,I),yield Ir(le,Ae).catch(function(){var zt=(0,y.Z)(function*(An){if("auth/missing-recaptcha-token"!==An.code)return Promise.reject(An);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const kn=yield Ci(le,Ae,"getOobCode",!0);wt(kn,I),yield Ir(le,kn)}});return function(An){return zt.apply(this,arguments)}}())}),yl.apply(this,arguments)}function qd(R,_){const I=js.parseLink(_);return"EMAIL_SIGNIN"===(null==I?void 0:I.operation)}function Ma(R,_,I){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R),le=Ds.credentialWithLink(_,I||mt());return Oe(le._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),Br(O,le)})).apply(this,arguments)}function Qa(){return(Qa=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:createAuthUri",ct(R,_))})).apply(this,arguments)}function fi(R,_){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,y.Z)(function*(R,_){const O={identifier:_,continueUri:vt()?mt():"http://localhost"},{signinMethods:le}=yield function Po(R,_){return Qa.apply(this,arguments)}((0,g.m9)(R),O);return le||[]}),Wl.apply(this,arguments)}function Au(R,_){return co.apply(this,arguments)}function co(){return co=(0,y.Z)(function*(R,_){const I=(0,g.m9)(R),le={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};_&&$t(I.auth,le,_);const{email:Ae}=yield function Ti(R,_){return Pi.apply(this,arguments)}(I.auth,le);Ae!==R.email&&(yield R.reload())}),co.apply(this,arguments)}function ic(R,_,I){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:_};I&&$t(O.auth,Ae,I);const{email:wt}=yield function Li(R,_){return $s.apply(this,arguments)}(O.auth,Ae);wt!==R.email&&(yield R.reload())}),Vo.apply(this,arguments)}function va(){return(va=(0,y.Z)(function*(R,_){return Tt(R,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Kl(R,_){return xs.apply(this,arguments)}function xs(){return xs=(0,y.Z)(function*(R,{displayName:_,photoURL:I}){if(void 0===_&&void 0===I)return;const O=(0,g.m9)(R),Ae={idToken:yield O.getIdToken(),displayName:_,photoUrl:I,returnSecureToken:!0},wt=yield Cn(O,function Zo(R,_){return va.apply(this,arguments)}(O.auth,Ae));O.displayName=wt.displayName||null,O.photoURL=wt.photoUrl||null;const zt=O.providerData.find(({providerId:An})=>"password"===An);zt&&(zt.displayName=O.displayName,zt.photoURL=O.photoURL),yield O._updateTokensIfNecessary(wt)}),xs.apply(this,arguments)}function Eo(R,_){return Ni((0,g.m9)(R),_,null)}function Ps(R,_){return Ni((0,g.m9)(R),null,_)}function Ni(R,_,I){return ql.apply(this,arguments)}function ql(){return(ql=(0,y.Z)(function*(R,_,I){const{auth:O}=R,Ae={idToken:yield R.getIdToken(),returnSecureToken:!0};_&&(Ae.email=_),I&&(Ae.password=I);const wt=yield Cn(R,Qe(O,Ae));yield R._updateTokensIfNecessary(wt,!0)})).apply(this,arguments)}class Kr{constructor(_,I,O={}){this.isNewUser=_,this.providerId=I,this.profile=O}}class Yl extends Kr{constructor(_,I,O,le){super(_,I,O),this.username=le}}class Ea extends Kr{constructor(_,I){super(_,"facebook.com",I)}}class xa extends Yl{constructor(_,I){super(_,"github.com",I,"string"==typeof(null==I?void 0:I.login)?null==I?void 0:I.login:null)}}class zs extends Kr{constructor(_,I){super(_,"google.com",I)}}class Xa extends Yl{constructor(_,I,O){super(_,"twitter.com",I,O)}}function ua(R){const{user:_,_tokenResponse:I}=R;return _.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function _a(R){var _,I;if(!R)return null;const{providerId:O}=R,le=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Ae=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!O&&null!=R&&R.idToken){const wt=null===(I=null===(_=tr(R.idToken))||void 0===_?void 0:_.firebase)||void 0===I?void 0:I.sign_in_provider;if(wt)return new Kr(Ae,"anonymous"!==wt&&"custom"!==wt?wt:null)}if(!O)return null;switch(O){case"facebook.com":return new Ea(Ae,le);case"github.com":return new xa(Ae,le);case"google.com":return new zs(Ae,le);case"twitter.com":return new Xa(Ae,le,R.screenName||null);case"custom":case"anonymous":return new Kr(Ae,null);default:return new Kr(Ae,O,le)}}(I)}class Or{constructor(_,I,O){this.type=_,this.credential=I,this.auth=O}static _fromIdtoken(_,I){return new Or("enroll",_,I)}static _fromMfaPendingCredential(_){return new Or("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var I,O;if(null!=_&&_.multiFactorSession){if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.pendingCredential)return Or._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(O=_.multiFactorSession)&&void 0!==O&&O.idToken)return Or._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Mr{constructor(_,I,O){this.session=_,this.hints=I,this.signInResolver=O}static _fromError(_,I){const O=si(_),le=I.customData._serverResponse,Ae=(le.mfaInfo||[]).map(zt=>P._fromServerResponse(O,zt));Oe(le.mfaPendingCredential,O,"internal-error");const wt=Or._fromMfaPendingCredential(le.mfaPendingCredential);return new Mr(wt,Ae,function(){var zt=(0,y.Z)(function*(An){const kn=yield An._process(O,wt);delete le.mfaInfo,delete le.mfaPendingCredential;const wr=Object.assign(Object.assign({},le),{idToken:kn.idToken,refreshToken:kn.refreshToken});switch(I.operationType){case"signIn":const gi=yield cs._fromIdTokenResponse(O,I.operationType,wr);return yield O._updateCurrentUser(gi.user),gi;case"reauthenticate":return Oe(I.user,O,"internal-error"),cs._forOperation(I.user,I.operationType,wr);default:Ge(O,"internal-error")}});return function(An){return zt.apply(this,arguments)}}())}resolveSignIn(_){var I=this;return(0,y.Z)(function*(){return I.signInResolver(_)})()}}function Ji(R,_){var I;const O=(0,g.m9)(R),le=_;return Oe(_.customData.operationType,O,"argument-error"),Oe(null===(I=le.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,O,"argument-error"),Mr._fromError(O,le)}class jn{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(O=>P._fromServerResponse(_.auth,O)))})}static _fromUser(_){return new jn(_)}getSession(){var _=this;return(0,y.Z)(function*(){return Or._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,I){var O=this;return(0,y.Z)(function*(){const le=_,Ae=yield O.getSession(),wt=yield Cn(O.user,le._process(O.user.auth,Ae,I));return yield O.user._updateTokensIfNecessary(wt),O.user.reload()})()}unenroll(_){var I=this;return(0,y.Z)(function*(){const O="string"==typeof _?_:_.uid,le=yield I.user.getIdToken();try{const Ae=yield Cn(I.user,function Fn(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(R,_))}(I.user.auth,{idToken:le,mfaEnrollmentId:O}));I.enrolledFactors=I.enrolledFactors.filter(({uid:wt})=>wt!==O),yield I.user._updateTokensIfNecessary(Ae),yield I.user.reload()}catch(Ae){throw Ae}})()}}const Uo=new WeakMap;function Tn(R){const _=(0,g.m9)(R);return Uo.has(_)||Uo.set(_,jn._fromUser(_)),Uo.get(_)}const Xe="__sak";class Lt{constructor(_,I){this.storageRetriever=_,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Xe,"1"),this.storage.removeItem(Xe),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,I){return this.storage.setItem(_,JSON.stringify(I)),Promise.resolve()}_get(_){const I=this.storage.getItem(_);return Promise.resolve(I?JSON.parse(I):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const vl=(()=>{class R extends Lt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,O)=>this.onStorageEvent(I,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ts(){const R=(0,g.z$)();return H(R)||Ct(R)}()&&function Gn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dn(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const O of Object.keys(this.listeners)){const le=this.storage.getItem(O),Ae=this.localCache[O];le!==Ae&&I(O,Ae,le)}}onStorageEvent(I,O=!1){if(!I.key)return void this.forAllChangedKeys((zt,An,kn)=>{this.notifyListeners(zt,kn)});const le=I.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const zt=this.storage.getItem(le);if(I.newValue!==zt)null!==I.newValue?this.storage.setItem(le,I.newValue):this.storage.removeItem(le);else if(this.localCache[le]===I.newValue&&!O)return}const Ae=()=>{const zt=this.storage.getItem(le);!O&&this.localCache[le]===zt||this.notifyListeners(le,zt)},wt=this.storage.getItem(le);!function sn(){return(0,g.w1)()&&10===document.documentMode}()||wt===I.newValue||I.newValue===I.oldValue?Ae():setTimeout(Ae,10)}notifyListeners(I,O){this.localCache[I]=O;const le=this.listeners[I];if(le)for(const Ae of Array.from(le))Ae(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,O,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:O,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(O)}_removeListener(I,O){this.listeners[I]&&(this.listeners[I].delete(O),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,O){var le=()=>super._set,Ae=this;return(0,y.Z)(function*(){yield le().call(Ae,I,O),Ae.localCache[I]=JSON.stringify(O)})()}_get(I){var O=()=>super._get,le=this;return(0,y.Z)(function*(){const Ae=yield O().call(le,I);return le.localCache[I]=JSON.stringify(Ae),Ae})()}_remove(I){var O=()=>super._remove,le=this;return(0,y.Z)(function*(){yield O().call(le,I),delete le.localCache[I]})()}}return R.type="LOCAL",R})(),oc=(()=>{class R extends Lt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,O){}_removeListener(I,O){}}return R.type="SESSION",R})();let Zc=(()=>{class R{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const O=this.receivers.find(Ae=>Ae.isListeningto(I));if(O)return O;const le=new R(I);return this.receivers.push(le),le}isListeningto(I){return this.eventTarget===I}handleEvent(I){var O=this;return(0,y.Z)(function*(){const le=I,{eventId:Ae,eventType:wt,data:zt}=le.data,An=O.handlersMap[wt];if(null==An||!An.size)return;le.ports[0].postMessage({status:"ack",eventId:Ae,eventType:wt});const kn=Array.from(An).map(function(){var gi=(0,y.Z)(function*(ta){return ta(le.origin,zt)});return function(ta){return gi.apply(this,arguments)}}()),wr=yield function ac(R){return Promise.all(R.map(function(){var _=(0,y.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(O){return{fulfilled:!1,reason:O}}});return function(I){return _.apply(this,arguments)}}()))}(kn);le.ports[0].postMessage({status:"done",eventId:Ae,eventType:wt,response:wr})})()}_subscribe(I,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(O)}_unsubscribe(I,O){this.handlersMap[I]&&O&&this.handlersMap[I].delete(O),(!O||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function lc(R="",_=10){let I="";for(let O=0;O<_;O++)I+=Math.floor(10*Math.random());return R+I}class Jh{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,I,O=50){var le=this;return(0,y.Z)(function*(){const Ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let wt,zt;return new Promise((An,kn)=>{const wr=lc("",20);Ae.port1.start();const gi=setTimeout(()=>{kn(new Error("unsupported_event"))},O);zt={messageChannel:Ae,onMessage(ta){const Fo=ta;if(Fo.data.eventId===wr)switch(Fo.data.status){case"ack":clearTimeout(gi),wt=setTimeout(()=>{kn(new Error("timeout"))},3e3);break;case"done":clearTimeout(wt),An(Fo.data.response);break;default:clearTimeout(gi),clearTimeout(wt),kn(new Error("invalid_response"))}}},le.handlers.add(zt),Ae.port1.addEventListener("message",zt.onMessage),le.target.postMessage({eventType:_,eventId:wr,data:I},[Ae.port2])}).finally(()=>{zt&&le.removeMessageHandler(zt)})})()}}function di(){return window}function Oa(){return typeof di().WorkerGlobalScope<"u"&&"function"==typeof di().importScripts}function Si(){return(Si=(0,y.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pi="firebaseLocalStorageDb",Hi="firebaseLocalStorage",Pn="fbase_key";class da{constructor(_){this.request=_}toPromise(){return new Promise((_,I)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Na(R,_){return R.transaction([Hi],_?"readwrite":"readonly").objectStore(Hi)}function uc(){const R=indexedDB.open(pi,1);return new Promise((_,I)=>{R.addEventListener("error",()=>{I(R.error)}),R.addEventListener("upgradeneeded",()=>{const O=R.result;try{O.createObjectStore(Hi,{keyPath:Pn})}catch(le){I(le)}}),R.addEventListener("success",(0,y.Z)(function*(){const O=R.result;O.objectStoreNames.contains(Hi)?_(O):(O.close(),yield function ka(){const R=indexedDB.deleteDatabase(pi);return new da(R).toPromise()}(),_(yield uc()))}))})}function El(R,_,I){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,y.Z)(function*(R,_,I){const O=Na(R,!0).put({[Pn]:_,value:I});return new da(O).toPromise()})).apply(this,arguments)}function Mu(){return(Mu=(0,y.Z)(function*(R,_){const I=Na(R,!1).get(_),O=yield new da(I).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function wl(R,_){const I=Na(R,!0).delete(_);return new da(I).toPromise()}const Js=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,y.Z)(function*(){return I.db||(I.db=yield uc()),I.db})()}_withRetries(I){var O=this;return(0,y.Z)(function*(){let le=0;for(;;)try{const Ae=yield O._openDb();return yield I(Ae)}catch(Ae){if(le++>3)throw Ae;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,y.Z)(function*(){return Oa()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,y.Z)(function*(){I.receiver=Zc._getInstance(function _l(){return Oa()?self:null}()),I.receiver._subscribe("keyChanged",function(){var O=(0,y.Z)(function*(le,Ae){return{keyProcessed:(yield I._poll()).includes(Ae.key)}});return function(le,Ae){return O.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var O=(0,y.Z)(function*(le,Ae){return["keyChanged"]});return function(le,Ae){return O.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,y.Z)(function*(){var O,le;if(I.activeServiceWorker=yield function Zl(){return Si.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new Jh(I.activeServiceWorker);const Ae=yield I.sender._send("ping",{},800);Ae&&null!==(O=Ae[0])&&void 0!==O&&O.fulfilled&&null!==(le=Ae[0])&&void 0!==le&&le.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var O=this;return(0,y.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Er(){var R;return(null===(R=null==navigator?void 0:navigator.serviceWorker)||void 0===R?void 0:R.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:I},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const I=yield uc();return yield El(I,Xe,"1"),yield wl(I,Xe),!0}catch{}return!1})()}_withPendingWrite(I){var O=this;return(0,y.Z)(function*(){O.pendingWrites++;try{yield I()}finally{O.pendingWrites--}})()}_set(I,O){var le=this;return(0,y.Z)(function*(){return le._withPendingWrite((0,y.Z)(function*(){return yield le._withRetries(Ae=>El(Ae,I,O)),le.localCache[I]=O,le.notifyServiceWorker(I)}))})()}_get(I){var O=this;return(0,y.Z)(function*(){const le=yield O._withRetries(Ae=>function Xl(R,_){return Mu.apply(this,arguments)}(Ae,I));return O.localCache[I]=le,le})()}_remove(I){var O=this;return(0,y.Z)(function*(){return O._withPendingWrite((0,y.Z)(function*(){return yield O._withRetries(le=>wl(le,I)),delete O.localCache[I],O.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,y.Z)(function*(){const O=yield I._withRetries(wt=>{const zt=Na(wt,!1).getAll();return new da(zt).toPromise()});if(!O)return[];if(0!==I.pendingWrites)return[];const le=[],Ae=new Set;for(const{fbase_key:wt,value:zt}of O)Ae.add(wt),JSON.stringify(I.localCache[wt])!==JSON.stringify(zt)&&(I.notifyListeners(wt,zt),le.push(wt));for(const wt of Object.keys(I.localCache))I.localCache[wt]&&!Ae.has(wt)&&(I.notifyListeners(wt,null),le.push(wt));return le})()}notifyListeners(I,O){this.localCache[I]=O;const le=this.listeners[I];if(le)for(const Ae of Array.from(le))Ae(O)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(O)}_removeListener(I,O){this.listeners[I]&&(this.listeners[I].delete(O),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})(),xu=1e12;class Il{constructor(_){this.auth=_,this.counter=xu,this._widgets=new Map}render(_,I){const O=this.counter;return this._widgets.set(O,new Ja(_,this.auth.name,I||{})),this.counter++,O}reset(_){var I;const O=_||xu;null===(I=this._widgets.get(O))||void 0===I||I.delete(),this._widgets.delete(O)}getResponse(_){var I;return(null===(I=this._widgets.get(_||xu))||void 0===I?void 0:I.getResponse())||""}execute(_){var I=this;return(0,y.Z)(function*(){var O;return null===(O=I._widgets.get(_||xu))||void 0===O||O.execute(),""})()}}class Ja{constructor(_,I,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof _?document.getElementById(_):_;Oe(le,"argument-error",{appName:I}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jc(R){const _=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<R;O++)_.push(I.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":I}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Co=dr("rcb"),tf=new We(3e4,6e4);class M{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=di().grecaptcha)||void 0===_||!_.render)}load(_,I=""){return Oe(function N(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(I),_,"argument-error"),this.shouldResolveImmediately(I)&&Nn(di().grecaptcha)?Promise.resolve(di().grecaptcha):new Promise((O,le)=>{const Ae=di().setTimeout(()=>{le(it(_,"network-request-failed"))},tf.get());di()[Co]=()=>{di().clearTimeout(Ae),delete di()[Co];const zt=di().grecaptcha;if(!zt||!Nn(zt))return void le(it(_,"internal-error"));const An=zt.render;zt.render=(kn,wr)=>{const gi=An(kn,wr);return this.counter++,gi},this.hostLanguage=I,O(zt)},Ar(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Co,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(Ae),le(it(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var I;return!(null===(I=di().grecaptcha)||void 0===I||!I.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class D{load(_){return(0,y.Z)(function*(){return new Il(_)})()}clearedOneInstance(){}}const F="recaptcha",ee={theme:"light",type:"image"};class Re{constructor(_,I=Object.assign({},ee),O){this.parameters=I,this.type=F,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=si(O),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof _?document.getElementById(_):_;Oe(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new D:new M,this.validateStartingState()}verify(){var _=this;return(0,y.Z)(function*(){_.assertNotDestroyed();const I=yield _.render(),O=_.getAssertedRecaptcha();return O.getResponse(I)||new Promise(Ae=>{const wt=zt=>{zt&&(_.tokenChangeListeners.delete(wt),Ae(zt))};_.tokenChangeListeners.add(wt),_.isInvisible&&O.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return I=>{if(this.tokenChangeListeners.forEach(O=>O(I)),"function"==typeof _)_(I);else if("string"==typeof _){const O=di()[_];"function"==typeof O&&O(I)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,y.Z)(function*(){if(yield _.init(),!_.widgetId){let I=_.container;if(!_.isInvisible){const O=document.createElement("div");I.appendChild(O),I=O}_.widgetId=_.getAssertedRecaptcha().render(I,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,y.Z)(function*(){Oe(vt()&&!Oa(),_.auth,"internal-error"),yield function Ie(){let R=null;return new Promise(_=>{"complete"!==document.readyState?(R=()=>_(),window.addEventListener("load",R)):_()}).catch(_=>{throw R&&window.removeEventListener("load",R),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const I=yield function Dt(R){return bt.apply(this,arguments)}(_.auth);Oe(I,_.auth,"internal-error"),_.parameters.sitekey=I})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yt{constructor(_,I){this.verificationId=_,this.onConfirmation=I}confirm(_){const I=Oi._fromVerification(this.verificationId,_);return this.onConfirmation(I)}}function tn(R,_,I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*(R,_,I){const O=si(R),le=yield jo(O,_,(0,g.m9)(I));return new yt(le,Ae=>Br(O,Ae))})).apply(this,arguments)}function Sr(R,_,I){return lr.apply(this,arguments)}function lr(){return(lr=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R);yield Z(!1,O,"phone");const le=yield jo(O.auth,_,(0,g.m9)(I));return new yt(le,Ae=>jr(O,Ae))})).apply(this,arguments)}function is(R,_,I){return eo.apply(this,arguments)}function eo(){return(eo=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R),le=yield jo(O.auth,_,(0,g.m9)(I));return new yt(le,Ae=>ws(O,Ae))})).apply(this,arguments)}function jo(R,_,I){return wa.apply(this,arguments)}function wa(){return wa=(0,y.Z)(function*(R,_,I){var O;const le=yield I.verify();try{let Ae;if(Oe("string"==typeof le,R,"argument-error"),Oe(I.type===F,R,"argument-error"),Ae="string"==typeof _?{phoneNumber:_}:_,"session"in Ae){const wt=Ae.session;if("phoneNumber"in Ae)return Oe("enroll"===wt.type,R,"internal-error"),(yield function en(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:start",ct(R,_))}(R,{idToken:wt.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:le}})).phoneSessionInfo.sessionInfo;{Oe("signin"===wt.type,R,"internal-error");const zt=(null===(O=Ae.multiFactorHint)||void 0===O?void 0:O.uid)||Ae.multiFactorUid;return Oe(zt,R,"missing-multi-factor-info"),(yield function Io(R,_){return Tt(R,"POST","/v2/accounts/mfaSignIn:start",ct(R,_))}(R,{mfaPendingCredential:wt.credential,mfaEnrollmentId:zt,phoneSignInInfo:{recaptchaToken:le}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:wt}=yield function vr(R,_){return ls.apply(this,arguments)}(R,{phoneNumber:Ae.phoneNumber,recaptchaToken:le});return wt}}finally{I._reset()}}),wa.apply(this,arguments)}function Ou(R,_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,y.Z)(function*(R,_){yield te((0,g.m9)(R),_)})).apply(this,arguments)}let Ia=(()=>{class R{constructor(I){this.providerId=R.PROVIDER_ID,this.auth=si(I)}verifyPhoneNumber(I,O){return jo(this.auth,I,(0,g.m9)(O))}static credential(I,O){return Oi._fromVerification(I,O)}static credentialFromResult(I){return R.credentialFromTaggedObject(I)}static credentialFromError(I){return R.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:O,temporaryProof:le}=I;return O&&le?Oi._fromTokenResponse(O,le):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function Ho(R,_){return _?wn(_):(Oe(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class Jl extends z{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return on(_,this._buildIdpRequest())}_linkToIdToken(_,I){return on(_,this._buildIdpRequest(I))}_getReauthenticationResolver(_){return on(_,this._buildIdpRequest())}_buildIdpRequest(_){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(I.idToken=_),I}}function Oo(R){return rr(R.auth,new Jl(R),R.bypassAuthState)}function nf(R){const{auth:_,user:I}=R;return Oe(I,_,"internal-error"),qt(I,new Jl(R),R.bypassAuthState)}function ed(R){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,y.Z)(function*(R){const{auth:_,user:I}=R;return Oe(I,_,"internal-error"),te(I,new Jl(R),R.bypassAuthState)})).apply(this,arguments)}class cp{constructor(_,I,O,le,Ae=!1){this.auth=_,this.resolver=O,this.user=le,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var _=this;return new Promise(function(){var I=(0,y.Z)(function*(O,le){_.pendingPromise={resolve:O,reject:le};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Ae){_.reject(Ae)}});return function(O,le){return I.apply(this,arguments)}}())}onAuthEvent(_){var I=this;return(0,y.Z)(function*(){const{urlResponse:O,sessionId:le,postBody:Ae,tenantId:wt,error:zt,type:An}=_;if(zt)return void I.reject(zt);const kn={auth:I.auth,requestUri:O,sessionId:le,tenantId:wt||void 0,postBody:Ae||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(An)(kn))}catch(wr){I.reject(wr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Oo;case"linkViaPopup":case"linkViaRedirect":return ed;case"reauthViaPopup":case"reauthViaRedirect":return nf;default:Ge(this.auth,"internal-error")}}resolve(_){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const el=new We(2e3,1e4);function dp(R,_,I){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,y.Z)(function*(R,_,I){const O=si(R);_t(R,_,Xi);const le=Ho(O,I);return new nd(O,"signInViaPopup",_,le).executeNotNull()})).apply(this,arguments)}function rf(R,_,I){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R);_t(O.auth,_,Xi);const le=Ho(O.auth,I);return new nd(O.auth,"reauthViaPopup",_,le,O).executeNotNull()})).apply(this,arguments)}function eu(R,_,I){return td.apply(this,arguments)}function td(){return(td=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R);_t(O.auth,_,Xi);const le=Ho(O.auth,I);return new nd(O.auth,"linkViaPopup",_,le,O).executeNotNull()})).apply(this,arguments)}let nd=(()=>{class R extends cp{constructor(I,O,le,Ae,wt){super(I,O,Ae,wt),this.provider=le,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var I=this;return(0,y.Z)(function*(){const O=yield I.execute();return Oe(O,I.auth,"internal-error"),O})()}onExecution(){var I=this;return(0,y.Z)(function*(){nt(1===I.filter.length,"Popup operations only handle one event");const O=lc();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],O),I.authWindow.associatedEvent=O,I.resolver._originValidation(I.auth).catch(le=>{I.reject(le)}),I.resolver._isIframeWebStorageSupported(I.auth,le=>{le||I.reject(it(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const I=()=>{var O,le;this.pollId=null!==(le=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==le&&le.closed?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,el.get())};I()}}return R.currentPopupAction=null,R})();const to="pendingRedirect",tl=new Map;class nl extends cp{constructor(_,I,O=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,O),this.eventId=null}execute(){var _=()=>super.execute,I=this;return(0,y.Z)(function*(){let O=tl.get(I.auth._key());if(!O){try{const Ae=(yield function sf(R,_){return Wi.apply(this,arguments)}(I.resolver,I.auth))?yield _().call(I):null;O=()=>Promise.resolve(Ae)}catch(le){O=()=>Promise.reject(le)}tl.set(I.auth._key(),O)}return I.bypassAuthState||tl.set(I.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(_){var I=()=>super.onAuthEvent,O=this;return(0,y.Z)(function*(){if("signInViaRedirect"===_.type)return I().call(O,_);if("unknown"!==_.type){if(_.eventId){const le=yield O.auth._redirectUserForId(_.eventId);if(le)return O.user=le,I().call(O,_);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Wi(){return(Wi=(0,y.Z)(function*(R,_){const I=Ls(_),O=bl(R);if(!(yield O._isAvailable()))return!1;const le="true"===(yield O._get(I));return yield O._remove(I),le})).apply(this,arguments)}function ba(R,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,y.Z)(function*(R,_){return bl(R)._set(Ls(_),"true")})).apply(this,arguments)}function Ki(){tl.clear()}function rd(R,_){tl.set(R._key(),_)}function bl(R){return wn(R._redirectPersistence)}function Ls(R){return gr(to,R.config.apiKey,R.name)}function cc(R,_,I){return function id(R,_,I){return bs.apply(this,arguments)}(R,_,I)}function bs(){return(bs=(0,y.Z)(function*(R,_,I){const O=si(R);_t(R,_,Xi),yield O._initializationPromise;const le=Ho(O,I);return yield ba(le,O),le._openRedirect(O,_,"signInViaRedirect")})).apply(this,arguments)}function af(R,_,I){return function La(R,_,I){return ms.apply(this,arguments)}(R,_,I)}function ms(){return(ms=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R);_t(O.auth,_,Xi),yield O.auth._initializationPromise;const le=Ho(O.auth,I);yield ba(le,O.auth);const Ae=yield hc(O);return le._openRedirect(O.auth,_,"reauthViaRedirect",Ae)})).apply(this,arguments)}function ho(R,_,I){return function Dl(R,_,I){return Ba.apply(this,arguments)}(R,_,I)}function Ba(){return(Ba=(0,y.Z)(function*(R,_,I){const O=(0,g.m9)(R);_t(O.auth,_,Xi),yield O.auth._initializationPromise;const le=Ho(O.auth,I);yield Z(!1,O,_.providerId),yield ba(le,O.auth);const Ae=yield hc(O);return le._openRedirect(O.auth,_,"linkViaRedirect",Ae)})).apply(this,arguments)}function dc(R,_){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,y.Z)(function*(R,_){return yield si(R)._initializationPromise,bo(R,_,!1)})).apply(this,arguments)}function bo(R,_){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,y.Z)(function*(R,_,I=!1){const O=si(R),le=Ho(O,_),wt=yield new nl(O,le,I).execute();return wt&&!I&&(delete wt.user._redirectEventId,yield O._persistUserIfCurrent(wt.user),yield O._setRedirectUser(null,_)),wt})).apply(this,arguments)}function hc(R){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,y.Z)(function*(R){const _=lc(`${R.uid}:::`);return R._redirectEventId=_,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),_})).apply(this,arguments)}class fc{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let I=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(_,O)&&(I=!0,this.sendToConsumer(_,O),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function ku(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zd(R);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=_,I=!0)),I}sendToConsumer(_,I){var O;if(_.error&&!Zd(_)){const le=(null===(O=_.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";I.onError(it(this.auth,le))}else I.onAuthEvent(_)}isEventForConsumer(_,I){const O=null===I.eventId||!!_.eventId&&_.eventId===I.eventId;return I.filter.includes(_.type)&&O}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rl(_))}saveEventToCache(_){this.cachedEventUids.add(rl(_)),this.lastProcessedEventTime=Date.now()}}function rl(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(_=>_).join("-")}function Zd({type:R,error:_}){return"unknown"===R&&"auth/no-auth-event"===(null==_?void 0:_.code)}function $a(R){return Va.apply(this,arguments)}function Va(){return(Va=(0,y.Z)(function*(R,_={}){return Tt(R,"GET","/v1/projects",_)})).apply(this,arguments)}const tu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ns=/^https?/;function Ua(){return(Ua=(0,y.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:_}=yield $a(R);for(const I of _)try{if(lf(I))return}catch{}Ge(R,"unauthorized-domain")})).apply(this,arguments)}function lf(R){const _=mt(),{protocol:I,hostname:O}=new URL(_);if(R.startsWith("chrome-extension://")){const wt=new URL(R);return""===wt.hostname&&""===O?"chrome-extension:"===I&&R.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===I&&wt.hostname===O}if(!Ns.test(I))return!1;if(tu.test(R))return O===R;const le=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(O)}const zo=new We(3e4,6e4);function Xo(){const R=di().___jsl;if(null!=R&&R.H)for(const _ of Object.keys(R.H))if(R.H[_].r=R.H[_].r||[],R.H[_].L=R.H[_].L||[],R.H[_].r=[...R.H[_].L],R.CP)for(let I=0;I<R.CP.length;I++)R.CP[I]=null}let Fu=null;const hp=new We(5e3,15e3),uf="__/auth/iframe",Ws="emulator/auth/iframe",fp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jo(R){const _=R.config;Oe(_.authDomain,R,"auth-domain-config-required");const I=_.emulator?Ne(_,Ws):`https://${R.config.authDomain}/${uf}`,O={apiKey:_.apiKey,appName:R.name,v:se.SDK_VERSION},le=Ii.get(R.config.apiHost);le&&(O.eid=le);const Ae=R._getFrameworks();return Ae.length&&(O.fw=Ae.join(",")),`${I}?${(0,g.xO)(O).slice(1)}`}function Lu(){return Lu=(0,y.Z)(function*(R){const _=yield function ad(R){return Fu=Fu||function od(R){return new Promise((_,I)=>{var O,le,Ae;function wt(){Xo(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Xo(),I(it(R,"network-request-failed"))},timeout:zo.get()})}if(null!==(le=null===(O=di().gapi)||void 0===O?void 0:O.iframes)&&void 0!==le&&le.Iframe)_(gapi.iframes.getContext());else{if(null===(Ae=di().gapi)||void 0===Ae||!Ae.load){const zt=dr("iframefcb");return di()[zt]=()=>{gapi.load?wt():I(it(R,"network-request-failed"))},Ar(`https://apis.google.com/js/api.js?onload=${zt}`).catch(An=>I(An))}wt()}}).catch(_=>{throw Fu=null,_})}(R),Fu}(R),I=di().gapi;return Oe(I,R,"internal-error"),_.open({where:document.body,url:Jo(R),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fp,dontclear:!0},O=>new Promise(function(){var le=(0,y.Z)(function*(Ae,wt){yield O.restyle({setHideOnLeave:!1});const zt=it(R,"network-request-failed"),An=di().setTimeout(()=>{wt(zt)},hp.get());function kn(){di().clearTimeout(An),Ae(O)}O.ping(kn).then(kn,()=>{wt(zt)})});return function(Ae,wt){return le.apply(this,arguments)}}()))}),Lu.apply(this,arguments)}const Bu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $u{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ld="__/auth/handler",gc="emulator/auth/handler",mc=encodeURIComponent("fac");function ko(R,_,I,O,le,Ae){return nu.apply(this,arguments)}function nu(){return(nu=(0,y.Z)(function*(R,_,I,O,le,Ae){Oe(R.config.authDomain,R,"auth-domain-config-required"),Oe(R.config.apiKey,R,"invalid-api-key");const wt={apiKey:R.config.apiKey,appName:R.name,authType:I,redirectUrl:O,v:se.SDK_VERSION,eventId:le};if(_ instanceof Xi){_.setDefaultLanguage(R.languageCode),wt.providerId=_.providerId||"",(0,g.xb)(_.getCustomParameters())||(wt.customParameters=JSON.stringify(_.getCustomParameters()));for(const[wr,gi]of Object.entries(Ae||{}))wt[wr]=gi}if(_ instanceof Rs){const wr=_.getScopes().filter(gi=>""!==gi);wr.length>0&&(wt.scopes=wr.join(","))}R.tenantId&&(wt.tid=R.tenantId);const zt=wt;for(const wr of Object.keys(zt))void 0===zt[wr]&&delete zt[wr];const An=yield R._getAppCheckToken(),kn=An?`#${mc}=${encodeURIComponent(An)}`:"";return`${function xg({config:R}){return R.emulator?Ne(R,gc):`https://${R.authDomain}/${ld}`}(R)}?${(0,g.xO)(zt).slice(1)}${kn}`})).apply(this,arguments)}const ud="webStorageSupport",yc=class cf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oc,this._completeRedirectFn=bo,this._overrideRedirectResult=rd}_openPopup(_,I,O,le){var Ae=this;return(0,y.Z)(function*(){var wt;nt(null===(wt=Ae.eventManagers[_._key()])||void 0===wt?void 0:wt.manager,"_initialize() not called before _openPopup()");const zt=yield ko(_,I,O,mt(),le);return function ea(R,_,I,O=500,le=600){const Ae=Math.max((window.screen.availHeight-le)/2,0).toString(),wt=Math.max((window.screen.availWidth-O)/2,0).toString();let zt="";const An=Object.assign(Object.assign({},Bu),{width:O.toString(),height:le.toString(),top:Ae,left:wt}),kn=(0,g.z$)().toLowerCase();I&&(zt=K(kn)?"_blank":I),W(kn)&&(_=_||"http://localhost",An.scrollbars="yes");const wr=Object.entries(An).reduce((ta,[Fo,Vu])=>`${ta}${Fo}=${Vu},`,"");if(function Ht(R=(0,g.z$)()){var _;return Ct(R)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(kn)&&"_self"!==zt)return function pc(R,_){const I=document.createElement("a");I.href=R,I.target=_;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(O)}(_||"",zt),new $u(null);const gi=window.open(_||"",zt,wr);Oe(gi,R,"popup-blocked");try{gi.focus()}catch{}return new $u(gi)}(_,zt,lc())})()}_openRedirect(_,I,O,le){var Ae=this;return(0,y.Z)(function*(){return yield Ae._originValidation(_),function ar(R){di().location.href=R}(yield ko(_,I,O,mt(),le)),new Promise(()=>{})})()}_initialize(_){const I=_._key();if(this.eventManagers[I]){const{manager:le,promise:Ae}=this.eventManagers[I];return le?Promise.resolve(le):(nt(Ae,"If manager is not set, promise should be"),Ae)}const O=this.initAndGetManager(_);return this.eventManagers[I]={promise:O},O.catch(()=>{delete this.eventManagers[I]}),O}initAndGetManager(_){var I=this;return(0,y.Z)(function*(){const O=yield function No(R){return Lu.apply(this,arguments)}(_),le=new fc(_);return O.register("authEvent",Ae=>(Oe(null==Ae?void 0:Ae.authEvent,_,"invalid-auth-event"),{status:le.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[_._key()]={manager:le},I.iframes[_._key()]=O,le})()}_isIframeWebStorageSupported(_,I){this.iframes[_._key()].send(ud,{type:ud},le=>{var Ae;const wt=null===(Ae=null==le?void 0:le[0])||void 0===Ae?void 0:Ae[ud];void 0!==wt&&I(!!wt),Ge(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function sd(R){return Ua.apply(this,arguments)}(_)),this.originValidationPromises[I]}get _shouldInitProactively(){return dn()||H()||Ct()}};class gp{constructor(_){this.factorId=_}_process(_,I,O){switch(I.type){case"enroll":return this._finalizeEnroll(_,I.credential,O);case"signin":return this._finalizeSignIn(_,I.credential);default:return St("unexpected MultiFactorSessionType")}}}class cd extends gp{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new cd(_)}_finalizeEnroll(_,I,O){return function Jn(R,_){return Tt(R,"POST","/v2/accounts/mfaEnrollment:finalize",ct(R,_))}(_,{idToken:I,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,I){return function Gi(R,_){return Tt(R,"POST","/v2/accounts/mfaSignIn:finalize",ct(R,_))}(_,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dd=(()=>{class R{constructor(){}static assertion(I){return cd._fromCredential(I)}}return R.FACTOR_ID="phone",R})();var il="@firebase/auth";class fd{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var I=this;return(0,y.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const I=this.auth.onIdTokenChanged(O=>{_((null==O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,I),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const I=this.internalListeners.get(_);I&&(this.internalListeners.delete(_),I(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _c=(0,g.Pz)("authIdTokenMaxAge")||300;let iu=null;const vp=R=>function(){var _=(0,y.Z)(function*(I){const O=I&&(yield I.getIdTokenResult()),le=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if(le&&le>_c)return;const Ae=null==O?void 0:O.token;iu!==Ae&&(iu=Ae,yield fetch(R,{method:Ae?"POST":"DELETE",headers:Ae?{Authorization:`Bearer ${Ae}`}:{}}))});return function(I){return _.apply(this,arguments)}}();function Jd(R=(0,se.getApp)()){const _=(0,se._getProvider)(R,"auth");if(_.isInitialized())return _.getImmediate();const I=function Yi(R,_){const I=(0,se._getProvider)(R,"auth");if(I.isInitialized()){const le=I.getImmediate(),Ae=I.getOptions();if((0,g.vZ)(Ae,null!=_?_:{}))return le;Ge(le,"already-initialized")}return I.initialize({options:_})}(R,{popupRedirectResolver:yc,persistence:[Js,vl,oc]}),O=(0,g.Pz)("authTokenSyncURL");if(O){const Ae=vp(O);(function ye(R,_,I){(0,g.m9)(R).beforeAuthStateChanged(_,I)})(I,Ae,()=>Ae(I.currentUser)),function j(R,_,I,O){(0,g.m9)(R).onIdTokenChanged(_,I,O)}(I,wt=>Ae(wt))}const le=(0,g.q4)("auth");return le&&Ms(I,`http://${le}`),I}!function yp(R){(0,se._registerComponent)(new Ee.wA("auth",(_,{options:I})=>{const O=_.getProvider("app").getImmediate(),le=_.getProvider("heartbeat"),Ae=_.getProvider("app-check-internal"),{apiKey:wt,authDomain:zt}=O.options;Oe(wt&&!wt.includes(":"),"invalid-api-key",{appName:O.name});const An={apiKey:wt,authDomain:zt,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Un(R)},kn=new xi(O,le,Ae,An);return function os(R,_){const I=(null==_?void 0:_.persistence)||[],O=(Array.isArray(I)?I:[I]).map(wn);null!=_&&_.errorMap&&R._updateErrorMap(_.errorMap),R._initializeWithPersistence(O,null==_?void 0:_.popupRedirectResolver)}(kn,I),kn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,I,O)=>{_.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new Ee.wA("auth-internal",_=>{const I=si(_.getProvider("auth").getImmediate());return new fd(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(il,"0.23.2",function mp(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,se.registerVersion)(il,"0.23.2","esm2017")}("Browser")},2810:(un,dt,L)=>{"use strict";L.d(dt,{u7:()=>ip,Jj:()=>Qu,IX:()=>yv,my:()=>Fs,xU:()=>Kc,Lz:()=>_u,WA:()=>Lt,F8:()=>qa,$q:()=>hl,W:()=>fl,EK:()=>Si,PU:()=>kv,l7:()=>bo,Ky:()=>Pn,Xb:()=>Hi,Cf:()=>mi,K9:()=>Uo,Me:()=>id,yq:()=>bi,Wi:()=>pv,ET:()=>Rv,Ab:()=>U_,vr:()=>Lv,Fc:()=>A_,hJ:()=>Fh,B$:()=>Lh,at:()=>Wa,oe:()=>Tg,AK:()=>jl,TF:()=>M_,JU:()=>Fd,ST:()=>_v,fH:()=>Ev,Ix:()=>C0,Wu:()=>bg,Lx:()=>O_,qY:()=>Zs,GL:()=>Yh,QT:()=>L_,kl:()=>jd,Xk:()=>ey,PL:()=>B_,UQ:()=>ap,zN:()=>D0,ad:()=>vv,nP:()=>Bv,b9:()=>Sv,vh:()=>b0,Pb:()=>R_,L$:()=>Gm,cf:()=>xv,sc:()=>To,Xo:()=>Zm,IO:()=>wg,iE:()=>Hc,Eo:()=>Bh,i3:()=>Za,Bt:()=>Fv,pl:()=>ty,Ub:()=>Ji,qK:()=>Sg,TQ:()=>P_,e0:()=>Tv,r7:()=>ny,Mx:()=>rE,ar:()=>Ig});var Ce,y=L(5861),g=L(6881),se=L(4859),ge=L(1877),xe=L(2090),Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de={},Ve=Ve||{},Te=Ee||self;function be(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function ze(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Ue="closure_uid_"+(1e9*Math.random()>>>0),Ze=0;function It(s,e,t){return s.call.apply(s.bind,arguments)}function Me(s,e,t){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function we(s,e,t){return(we=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:Me).apply(null,arguments)}function ft(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var l=t.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function ot(s,e){function t(){}t.prototype=e.prototype,s.$=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.ac=function(l,h,m){for(var E=Array(arguments.length-2),k=2;k<arguments.length;k++)E[k-2]=arguments[k];return e.prototype[h].apply(l,E)}}function Ge(){this.s=this.s,this.o=this.o}Ge.prototype.s=!1,Ge.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ve(s){Object.prototype.hasOwnProperty.call(s,Ue)&&s[Ue]||(s[Ue]=++Ze)}(this)},Ge.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gt=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function _t(s){const e=s.length;if(0<e){const t=Array(e);for(let l=0;l<e;l++)t[l]=s[l];return t}return[]}function Ye(s,e){for(let t=1;t<arguments.length;t++){const l=arguments[t];if(be(l)){const h=s.length||0,m=l.length||0;s.length=h+m;for(let E=0;E<m;E++)s[h+E]=l[E]}else s.push(l)}}function Oe(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Te.addEventListener("test",()=>{},e),Te.removeEventListener("test",()=>{},e)}catch{}return s}();function nt(s){return/^[\s\xa0]*$/.test(s)}function mt(){var s=Te.navigator;return s&&(s=s.userAgent)?s:""}function vt(s){return-1!=mt().indexOf(s)}function ce(s){return ce[" "](s),s}ce[" "]=function(){};var Tt,s,He=vt("Opera"),We=vt("Trident")||vt("MSIE"),Ne=vt("Edge"),ke=Ne||We,je=vt("Gecko")&&!(-1!=mt().toLowerCase().indexOf("webkit")&&!vt("Edge"))&&!(vt("Trident")||vt("MSIE"))&&!vt("Edge"),ne=-1!=mt().toLowerCase().indexOf("webkit")&&!vt("Edge");function ct(){var s=Te.document;return s?s.documentMode:void 0}e:{var Pt="",rn=(s=mt(),je?/rv:([^\);]+)(\)|;)/.exec(s):Ne?/Edge\/([\d\.]+)/.exec(s):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):ne?/WebKit\/(\S+)/.exec(s):He?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(rn&&(Pt=rn?rn[1]:""),We){var At=ct();if(null!=At&&At>parseFloat(Pt)){Tt=String(At);break e}}Tt=Pt}var Jt=Te.document&&We&&(ct()||parseInt(Tt,10))||void 0;function cn(s,e){if(Oe.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(je){e:{try{ce(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Mn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&cn.$.h.call(this)}}ot(cn,Oe);var Mn={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.$.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function In(s,e,t,l,h){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!l,this.la=h,this.key=++Nt,this.fa=this.ia=!1}function Ft(s){s.fa=!0,s.listener=null,s.proxy=null,s.src=null,s.la=null}function Kn(s,e,t){for(const l in s)e.call(t,s[l],l,s)}function yr(s){const e={};for(const t in s)e[t]=s[t];return e}const Yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pr(s,e){let t,l;for(let h=1;h<arguments.length;h++){for(t in l=arguments[h],l)s[t]=l[t];for(let m=0;m<Yt.length;m++)t=Yt[m],Object.prototype.hasOwnProperty.call(l,t)&&(s[t]=l[t])}}function er(s){this.src=s,this.g={},this.h=0}function zn(s,e){var t=e.type;if(t in s.g){var m,l=s.g[t],h=gt(l,e);(m=0<=h)&&Array.prototype.splice.call(l,h,1),m&&(Ft(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function tr(s,e,t,l){for(var h=0;h<s.length;++h){var m=s[h];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==l)return h}return-1}er.prototype.add=function(s,e,t,l,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var E=tr(s,e,l,h);return-1<E?(e=s[E],t||(e.ia=!1)):((e=new In(e,this.src,m,!!l,h)).ia=t,s.push(e)),e};var Fr="closure_lm_"+(1e6*Math.random()|0),Cn={};function En(s,e,t,l,h){if(l&&l.once)return ur(s,e,t,l,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)En(s,e[m],t,l,h);return null}return t=Vn(t),s&&s[_n]?s.O(e,t,ze(l)?!!l.capture:!!l,h):xn(s,e,t,!1,l,h)}function xn(s,e,t,l,h,m){if(!e)throw Error("Invalid event type");var E=ze(h)?!!h.capture:!!h,k=gn(s);if(k||(s[Fr]=k=new er(s)),(t=k.add(e,t,l,E,m)).proxy)return t;if(l=function fr(){const e=Wn;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=l,l.src=s,l.listener=t,s.addEventListener)St||(h=E),void 0===h&&(h=!1),s.addEventListener(e.toString(),l,h);else if(s.attachEvent)s.attachEvent(Tr(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return t}function ur(s,e,t,l,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)ur(s,e[m],t,l,h);return null}return t=Vn(t),s&&s[_n]?s.P(e,t,ze(l)?!!l.capture:!!l,h):xn(s,e,t,!0,l,h)}function cr(s,e,t,l,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)cr(s,e[m],t,l,h);else l=ze(l)?!!l.capture:!!l,t=Vn(t),s&&s[_n]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=tr(m=s.g[e],t,l,h))&&(Ft(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=gn(s))&&(e=s.g[e.toString()],s=-1,e&&(s=tr(e,t,l,h)),(t=-1<s?e[s]:null)&&Rr(t))}function Rr(s){if("number"!=typeof s&&s&&!s.fa){var e=s.src;if(e&&e[_n])zn(e.i,s);else{var t=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(t,l,s.capture):e.detachEvent?e.detachEvent(Tr(t),l):e.addListener&&e.removeListener&&e.removeListener(l),(t=gn(e))?(zn(t,s),0==t.h&&(t.src=null,e[Fr]=null)):Ft(s)}}}function Tr(s){return s in Cn?Cn[s]:Cn[s]="on"+s}function Wn(s,e){if(s.fa)s=!0;else{e=new cn(e,this);var t=s.listener,l=s.la||s.src;s.ia&&Rr(s),s=t.call(l,e)}return s}function gn(s){return(s=s[Fr])instanceof er?s:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(s){return"function"==typeof s?s:(s[ei]||(s[ei]=function(e){return s.handleEvent(e)}),s[ei])}function Ut(){Ge.call(this),this.i=new er(this),this.S=this,this.J=null}function fe(s,e){var t,l=s.J;if(l)for(t=[];l;l=l.J)t.push(l);if(s=s.S,l=e.type||e,"string"==typeof e)e=new Oe(e,s);else if(e instanceof Oe)e.target=e.target||s;else{var h=e;Pr(e=new Oe(l,s),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var E=e.g=t[m];h=Ke(E,l,!0,e)&&h}if(h=Ke(E=e.g=s,l,!0,e)&&h,h=Ke(E,l,!1,e)&&h,t)for(m=0;m<t.length;m++)h=Ke(E=e.g=t[m],l,!1,e)&&h}function Ke(s,e,t,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var E=e[m];if(E&&!E.fa&&E.capture==t){var k=E.listener,q=E.la||E.src;E.ia&&zn(s.i,E),h=!1!==k.call(q,l)&&h}}return h&&!l.defaultPrevented}ot(Ut,Ge),Ut.prototype[_n]=!0,Ut.prototype.removeEventListener=function(s,e,t,l){cr(this,s,e,t,l)},Ut.prototype.N=function(){if(Ut.$.N.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],l=0;l<t.length;l++)Ft(t[l]);delete s.g[e],s.h--}}this.J=null},Ut.prototype.O=function(s,e,t,l){return this.i.add(String(s),e,!1,t,l)},Ut.prototype.P=function(s,e,t,l){return this.i.add(String(s),e,!0,t,l)};var Mt=Te.JSON.stringify;function wn(){var s=K;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Xn=new class ln{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gr,s=>s.reset());class gr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function et(s){var e=1;s=s.split(":");const t=[];for(;0<e&&s.length;)t.push(s.shift()),e--;return s.length&&t.push(s.join(":")),t}function he(s){Te.setTimeout(()=>{throw s},0)}let W,H=!1,K=new class pr{constructor(){this.h=this.g=null}add(e,t){const l=Xn.get();l.set(e,t),this.h?this.h.next=l:this.g=l,this.h=l}},Fe=()=>{const s=Te.Promise.resolve(void 0);W=()=>{s.then(at)}};var at=()=>{for(var s;s=wn();){try{s.h.call(s.g)}catch(t){he(t)}var e=Xn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}H=!1};function Be(s,e){Ut.call(this),this.h=s||1,this.g=e||Te,this.j=we(this.qb,this),this.l=Date.now()}function pt(s){s.ga=!1,s.T&&(s.g.clearTimeout(s.T),s.T=null)}function Ct(s,e,t){if("function"==typeof s)t&&(s=we(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=we(s.handleEvent,s)}return 2147483647<Number(e)?-1:Te.setTimeout(s,e||0)}function Kt(s){s.g=Ct(()=>{s.g=null,s.i&&(s.i=!1,Kt(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}ot(Be,Ut),(Ce=Be.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-s):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fe(this,"tick"),this.ga&&(pt(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){Be.$.N.call(this),pt(this),delete this.g};class Ht extends Ge{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(s){Ge.call(this),this.h=s,this.g={}}ot(sn,Ge);var dn=[];function Gn(s,e,t,l){Array.isArray(t)||(t&&(dn[0]=t.toString()),t=dn);for(var h=0;h<t.length;h++){var m=En(e,t[h],l||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function Un(s){Kn(s.g,function(e,t){this.g.hasOwnProperty(t)&&Rr(e)},s),s.g={}}function Dt(){this.g=!0}function vn(s,e,t,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ir(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var l=t[s];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var E=1;E<h.length;E++)h[E]=""}}}return Mt(t)}catch{return e}}(s,t)+(l?" "+l:"")})}sn.prototype.N=function(){sn.$.N.call(this),Un(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dt.prototype.Ea=function(){this.g=!1},Dt.prototype.info=function(){};var nr={},Zr=null;function Ar(){return Zr=Zr||new Ut}function dr(s){Oe.call(this,nr.Ta,s)}function Qn(s){const e=Ar();fe(e,new dr(e))}function vi(s,e){Oe.call(this,nr.STAT_EVENT,s),this.stat=e}function _i(s){const e=Ar();fe(e,new vi(e,s))}function ps(s,e){Oe.call(this,nr.Ua,s),this.size=e}function Ci(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){s()},e)}nr.Ta="serverreachability",ot(dr,Oe),nr.STAT_EVENT="statevent",ot(vi,Oe),nr.Ua="timingevent",ot(ps,Oe);var es={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Os={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xi(){}function ss(){}xi.prototype.h=null;var G,Yi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function os(){Oe.call(this,"d")}function Ms(){Oe.call(this,"c")}function X(){}function _e(s,e,t,l){this.l=s,this.j=e,this.m=t,this.W=l||1,this.U=new sn(this),this.P=z,this.V=new Be(s=ke?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}ot(os,Oe),ot(Ms,Oe),ot(X,xi),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},G=new X;var z=45e3,ie={},$e={};function Qe(s,e,t){s.L=1,s.v=Nr(Zi(e)),s.s=t,s.S=!0,ht(s,null)}function ht(s,e){s.G=Date.now(),Ln(s),s.A=Zi(s.v);var t=s.A,l=s.W;Array.isArray(l)||(l=[String(l)]),_r(t.i,"t",l),s.C=0,t=s.l.J,s.h=new ae,s.g=uo(s.l,t?e:null,!s.s),0<s.O&&(s.M=new Ht(we(s.Pa,s,s.g),s.O)),Gn(s.U,s.g,"readystatechange",s.nb),e=s.I?yr(s.I):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ha(s.A,s.u,s.s,e)):(s.u="GET",s.g.ha(s.A,s.u,null,e)),Qn(),function bt(s,e,t,l,h,m){s.info(function(){if(s.g)if(m)for(var E="",k=m.split("&"),q=0;q<k.length;q++){var oe=k[q].split("=");if(1<oe.length){var Se=oe[0];oe=oe[1];var rt=Se.split("_");E=2<=rt.length&&"type"==rt[1]?E+(Se+"=")+oe+"&":E+(Se+"=redacted&")}}else E=null;else E=m;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+t+"\n"+E})}(s.j,s.u,s.A,s.m,s.W,s.s)}function xt(s){return!!s.g&&"GET"==s.u&&2!=s.L&&s.l.Ha}function an(s,e,t){let h,l=!0;for(;!s.J&&s.C<t.length;){if(h=fn(s,t),h==$e){4==e&&(s.o=4,_i(14),l=!1),vn(s.j,s.m,null,"[Incomplete Response]");break}if(h==ie){s.o=4,_i(15),vn(s.j,s.m,t,"[Invalid Chunk]"),l=!1;break}vn(s.j,s.m,h,null),Hr(s,h)}xt(s)&&h!=$e&&h!=ie&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,_i(16),l=!1),s.i=s.i&&l,l?0<t.length&&!s.ba&&(s.ba=!0,(e=s.l).g==s&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qr(e),e.M=!0,_i(11))):(vn(s.j,s.m,t,"[Invalid Chunked Response]"),Pi(s),Ti(s))}function fn(s,e){var t=s.C,l=e.indexOf("\n",t);return-1==l?$e:(t=Number(e.substring(t,l)),isNaN(t)?ie:(l+=1)+t>e.length?$e:(e=e.slice(l,l+t),s.C=l+t,e))}function Ln(s){s.Y=Date.now()+s.P,sr(s,s.P)}function sr(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Ci(we(s.lb,s),e)}function Ei(s){s.B&&(Te.clearTimeout(s.B),s.B=null)}function Ti(s){0==s.l.H||s.J||zr(s.l,s)}function Pi(s){Ei(s);var e=s.M;e&&"function"==typeof e.sa&&e.sa(),s.M=null,pt(s.V),Un(s.U),s.g&&(e=s.g,s.g=null,e.abort(),e.sa())}function Hr(s,e){try{var t=s.l;if(0!=t.H&&(t.g==s||Ui(t.i,s)))if(!s.K&&Ui(t.i,s)&&3==t.H){try{var l=t.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<s.G))break e;oi(t),Y(t)}mn(t),_i(18)}}else t.Fa=h[1],0<t.Fa-t.V&&37500>h[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ci(we(t.ib,t),6e3));if(1>=gs(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Is(t,11)}else if((s.K||t.g==s)&&oi(t),!nt(e))for(h=t.Ja.g.parse(e),e=0;e<h.length;e++){let oe=h[e];if(t.V=oe[0],oe=oe[1],2==t.H)if("c"==oe[0]){t.K=oe[1],t.pa=oe[2];const Se=oe[3];null!=Se&&(t.ra=Se,t.l.info("VER="+t.ra));const rt=oe[4];null!=rt&&(t.Ga=rt,t.l.info("SVER="+t.Ga));const Ot=oe[5];null!=Ot&&"number"==typeof Ot&&0<Ot&&(t.L=l=1.5*Ot,t.l.info("backChannelRequestTimeoutMs_="+l)),l=t;const Xt=s.g;if(Xt){const Dn=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var m=l.i;m.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(qo(m,m.h),m.h=null))}if(l.F){const Hn=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Hn&&(l.Da=Hn,on(l.I,l.F,Hn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-s.G,t.l.info("Handshake RTT: "+t.S+"ms"));var E=s;if((l=t).wa=Hs(l,l.J?l.pa:null,l.Y),E.K){us(l.i,E);var k=E,q=l.L;q&&k.setTimeout(q),k.B&&(Ei(k),Ln(k)),l.g=E}else Zt(l);0<t.j.length&&C(t)}else"stop"!=oe[0]&&"close"!=oe[0]||Is(t,7);else 3==t.H&&("stop"==oe[0]||"close"==oe[0]?"stop"==oe[0]?Is(t,7):lo(t):"noop"!=oe[0]&&t.h&&t.h.Aa(oe),t.A=0)}Qn()}catch{}}function Wr(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(be(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function Ir(s){if(s.ta&&"function"==typeof s.ta)return s.ta();if(!s.Z||"function"!=typeof s.Z){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(be(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const l in s)e[t++]=l;return e}}}(s),l=function bn(s){if(s.Z&&"function"==typeof s.Z)return s.Z();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(be(s)){for(var e=[],t=s.length,l=0;l<t;l++)e.push(s[l]);return e}for(l in e=[],t=0,s)e[t++]=s[l];return e}(s),h=l.length,m=0;m<h;m++)e.call(void 0,l[m],t&&t[m],s)}(Ce=_e.prototype).setTimeout=function(s){this.P=s},Ce.nb=function(s){s=s.target;const e=this.M;e&&3==Dr(s)?e.l():this.Pa(s)},Ce.Pa=function(s){try{if(s==this.g)e:{const Se=Dr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Se)&&(3!=Se||ke||this.g&&(this.h.h||this.g.ja()||Br(this.g)))){this.J||4!=Se||7==e||Qn(),Ei(this);var t=this.g.da();this.ca=t;t:if(xt(this)){var l=Br(this.g);s="";var h=l.length,m=4==Dr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Ti(this);var E="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:m&&e==h-1});l.splice(0,h),this.h.g+=s,this.C=0,E=this.h.g}else E=this.g.ja();if(this.i=200==t,function Wt(s,e,t,l,h,m,E){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+E})}(this.j,this.u,this.A,this.m,this.W,Se,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var k,q=this.g;if((k=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(k)){var oe=k;break t}}oe=null}if(!(t=oe)){this.i=!1,this.o=3,_i(12),Pi(this),Ti(this);break e}vn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,t)}this.S?(an(this,Se,E),ke&&this.i&&3==Se&&(Gn(this.U,this.V,"tick",this.mb),this.V.start())):(vn(this.j,this.m,E,null),Hr(this,E)),4==Se&&Pi(this),this.i&&!this.J&&(4==Se?zr(this.l,this):(this.i=!1,Ln(this)))}else(function ns(s){const e={};s=(s.g&&2<=Dr(s)&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<s.length;l++){if(nt(s[l]))continue;var t=et(s[l]);const h=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[h]||[];e[h]=m,m.push(t)}!function hr(s,e){for(const t in s)e.call(void 0,s[t],t,s)}(e,function(l){return l.join(", ")})})(this.g),400==t&&0<E.indexOf("Unknown SID")?(this.o=3,_i(12)):(this.o=0,_i(13)),Pi(this),Ti(this)}}}catch{}},Ce.mb=function(){if(this.g){var s=Dr(this.g),e=this.g.ja();this.C<e.length&&(Ei(this),an(this,s,e),this.i&&4!=s&&Ln(this))}},Ce.cancel=function(){this.J=!0,Pi(this)},Ce.lb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function Nn(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qn(),_i(17)),Pi(this),this.o=2,Ti(this)):sr(this,this.Y-s)};var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hi(s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof hi){this.h=s.h,Ur(this,s.j),this.s=s.s,this.g=s.g,Qi(this,s.m),this.l=s.l;var e=s.i,t=new or;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),as(this,t),this.o=s.o}else s&&(e=String(s).match(Li))?(this.h=!1,Ur(this,e[1]||"",!0),this.s=mr(e[2]||""),this.g=mr(e[3]||"",!0),Qi(this,e[4]),this.l=mr(e[5]||"",!0),as(this,e[6]||"",!0),this.o=mr(e[7]||"")):(this.h=!1,this.i=new or(null,this.h))}function Zi(s){return new hi(s)}function Ur(s,e,t){s.j=t?mr(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function Qi(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function as(s,e,t){e instanceof or?(s.i=e,function js(s,e){e&&!s.j&&(ni(s),s.i=null,s.g.forEach(function(t,l){var h=l.toLowerCase();l!=h&&(vo(this,l),_r(this,h,t))},s)),s.j=e}(s.i,s.h)):(t||(e=wi(e,Us)),s.i=new or(e,s.h))}function on(s,e,t){s.i.set(e,t)}function Nr(s){return on(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function mr(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function wi(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,vr),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function vr(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}hi.prototype.toString=function(){var s=[],e=this.j;e&&s.push(wi(e,ls,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(wi(e,ls,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(wi(t,"/"==t.charAt(0)?ts:Vs,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",wi(t,ti)),s.join("")};var ls=/[#\/\?@]/g,Vs=/[#\?:]/g,ts=/[#\?]/g,Us=/[#\?@]/g,ti=/#/g;function or(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function ni(s){s.g||(s.g=new Map,s.h=0,s.i&&function $s(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var l=s[t].indexOf("="),h=null;if(0<=l){var m=s[t].substring(0,l);h=s[t].substring(l+1)}else m=s[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vo(s,e){ni(s),e=Mo(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Oi(s,e){return ni(s),e=Mo(s,e),s.g.has(e)}function _r(s,e,t){vo(s,e),0<t.length&&(s.i=null,s.g.set(Mo(s,e),_t(t)),s.h+=t.length)}function Mo(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Ds(s){this.l=s||Xi,s=Te.PerformanceNavigationTiming?0<(s=Te.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().ec),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=or.prototype).add=function(s,e){ni(this),this.i=null,s=Mo(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},Ce.forEach=function(s,e){ni(this),this.g.forEach(function(t,l){t.forEach(function(h){s.call(e,h,l,this)},this)},this)},Ce.ta=function(){ni(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let l=0;l<e.length;l++){const h=s[l];for(let m=0;m<h.length;m++)t.push(e[l])}return t},Ce.Z=function(s){ni(this);let e=[];if("string"==typeof s)Oi(this,s)&&(e=e.concat(this.g.get(Mo(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},Ce.set=function(s,e){return ni(this),this.i=null,Oi(this,s=Mo(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Ce.get=function(s,e){return s&&0<(s=this.Z(s)).length?String(s[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var l=e[t];const m=encodeURIComponent(String(l)),E=this.Z(l);for(l=0;l<E.length;l++){var h=m;""!==E[l]&&(h+="="+encodeURIComponent(String(E[l]))),s.push(h)}}return this.i=s.join("&")};var Xi=10;function Rs(s){return!!s.h||!!s.g&&s.g.size>=s.j}function gs(s){return s.h?1:s.g?s.g.size:0}function Ui(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function qo(s,e){s.g?s.g.add(e):s.h=e}function us(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function zi(s){if(null!=s.h)return s.i.concat(s.h.F);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.F);return e}return _t(s.i)}Ds.prototype.cancel=function(){if(this.i=zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}};var $o=class{stringify(s){return Te.JSON.stringify(s,void 0)}parse(s){return Te.JSON.parse(s,void 0)}};function Ro(){this.g=new $o}function Ss(s,e,t){const l=t||"";try{Wr(s,function(h,m){let E=h;ze(h)&&(E=Mt(h)),e.push(l+m+"="+encodeURIComponent(E))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function _s(s,e,t,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch{}}function oo(s){this.l=s.fc||null,this.j=s.ob||!1}function cs(s,e){Ut.call(this),this.F=s,this.u=e,this.m=void 0,this.readyState=Es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(oo,xi),oo.prototype.g=function(){return new cs(this.l,this.j)},oo.prototype.i=function(s){return function(){return s}}({}),ot(cs,Ut);var Es=0;function ao(s){s.j.read().then(s.Xa.bind(s)).catch(s.ka.bind(s))}function ri(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Qs(s)}function Qs(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ce=cs.prototype).open=function(s,e){if(this.readyState!=Es)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Qs(this)},Ce.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ri(this)),this.readyState=Es},Ce.$a=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ao(this)}else s.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?ri(this):Qs(this),3==this.readyState&&ao(this)}},Ce.Za=function(s){this.g&&(this.response=this.responseText=s,ri(this))},Ce.Ya=function(s){this.g&&(this.response=s,ri(this))},Ce.ka=function(){this.g&&ri(this)},Ce.setRequestHeader=function(s,e){this.v.append(s,e)},Ce.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Ai=Te.JSON.parse;function Bi(s){Ut.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xo,this.L=this.M=!1}ot(Bi,Ut);var xo="",S=/^https?$/i,te=["POST","PUT"];function Z(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Pe(s),Bn(s)}function Pe(s){s.F||(s.F=!0,fe(s,"complete"),fe(s,"error"))}function qt(s){if(s.h&&typeof Ve<"u"&&(!s.C[1]||4!=Dr(s)||2!=s.da()))if(s.v&&4==Dr(s))Ct(s.La,0,s);else if(fe(s,"readystatechange"),4==Dr(s)){s.h=!1;try{const E=s.da();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var l;if(l=0===E){var h=String(s.I).match(Li)[1]||null;!h&&Te.self&&Te.self.location&&(h=Te.self.location.protocol.slice(0,-1)),l=!S.test(h?h.toLowerCase():"")}t=l}if(t)fe(s,"complete"),fe(s,"success");else{s.m=6;try{var m=2<Dr(s)?s.g.statusText:""}catch{m=""}s.j=m+" ["+s.da()+"]",Pe(s)}}finally{Bn(s)}}}function Bn(s,e){if(s.g){rr(s);const t=s.g,l=s.C[0]?()=>{}:null;s.g=null,s.C=null,e||fe(s,"ready");try{t.onreadystatechange=l}catch{}}}function rr(s){s.g&&s.L&&(s.g.ontimeout=null),s.A&&(Te.clearTimeout(s.A),s.A=null)}function Dr(s){return s.g?s.g.readyState:0}function Br(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.K){case xo:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function jr(s){let e="";return Kn(s,function(t,l){e+=l,e+=":",e+=t,e+="\r\n"}),e}function ds(s,e,t){e:{for(l in t){var l=!1;break e}l=!0}l||(t=jr(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):on(s,e,t))}function ws(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Xs(s){this.Ga=0,this.j=[],this.l=new Dt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ws("failFast",!1,s),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ws("baseRetryDelayMs",5e3,s),this.hb=ws("retryDelaySeedMs",1e4,s),this.eb=ws("forwardChannelMaxRetries",2,s),this.xa=ws("forwardChannelRequestTimeoutMs",2e4,s),this.va=s&&s.xmlHttpFactory||void 0,this.Ha=s&&s.dc||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.i=new Ds(s&&s.concurrentRequestLimit),this.Ja=new Ro,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=s&&s.bc||!1,s&&s.Ea&&this.l.Ea(),s&&s.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&s&&s.detectBufferingProxy||!1,this.qa=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.qa=s.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lo(s){if(U(s),3==s.H){var e=s.W++,t=Zi(s.I);if(on(t,"SID",s.K),on(t,"RID",e),on(t,"TYPE","terminate"),st(s,t),(e=new _e(s,s.l,e)).L=2,e.v=Nr(Zi(t)),t=!1,Te.navigator&&Te.navigator.sendBeacon)try{t=Te.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Te.Image&&((new Image).src=e.v,t=!0),t||(e.g=uo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ln(e)}_o(s)}function Y(s){s.g&&(Qr(s),s.g.cancel(),s.g=null)}function U(s){Y(s),s.u&&(Te.clearTimeout(s.u),s.u=null),oi(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Te.clearTimeout(s.m),s.m=null)}function C(s){if(!Rs(s.i)&&!s.m){s.m=!0;var e=s.Na;W||Fe(),H||(W(),H=!0),K.add(e,s),s.C=0}}function me(s,e){var t;t=e?e.m:s.W++;const l=Zi(s.I);on(l,"SID",s.K),on(l,"RID",t),on(l,"AID",s.V),st(s,l),s.o&&s.s&&ds(l,s.o,s.s),t=new _e(s,s.l,t,s.C+1),null===s.o&&(t.I=s.s),e&&(s.j=e.F.concat(s.j)),e=$t(s,t,1e3),t.setTimeout(Math.round(.5*s.xa)+Math.round(.5*s.xa*Math.random())),qo(s.i,t),Qe(t,l,e)}function st(s,e){s.na&&Kn(s.na,function(t,l){on(e,l,t)}),s.h&&Wr({},function(t,l){on(e,l,t)})}function $t(s,e,t){t=Math.min(s.j.length,t);var l=s.h?we(s.h.Va,s.h,s):null;e:{var h=s.j;let m=-1;for(;;){const E=["count="+t];-1==m?0<t?(m=h[0].g,E.push("ofs="+m)):m=0:E.push("ofs="+m);let k=!0;for(let q=0;q<t;q++){let oe=h[q].g;const Se=h[q].map;if(oe-=m,0>oe)m=Math.max(0,h[q].g-100),k=!1;else try{Ss(Se,E,"req"+oe+"_")}catch{l&&l(Se)}}if(k){l=E.join("&");break e}}}return s=s.j.splice(0,t),e.F=s,l}function Zt(s){if(!s.g&&!s.u){s.ba=1;var e=s.Ma;W||Fe(),H||(W(),H=!0),K.add(e,s),s.A=0}}function mn(s){return!(s.g||s.u||3<=s.A||(s.ba++,s.u=Ci(we(s.Ma,s),Lr(s,s.A)),s.A++,0))}function Qr(s){null!=s.B&&(Te.clearTimeout(s.B),s.B=null)}function Xr(s){s.g=new _e(s,s.l,"rpc",s.ba),null===s.o&&(s.g.I=s.s),s.g.O=0;var e=Zi(s.wa);on(e,"RID","rpc"),on(e,"SID",s.K),on(e,"AID",s.V),on(e,"CI",s.G?"0":"1"),!s.G&&s.qa&&on(e,"TO",s.qa),on(e,"TYPE","xmlhttp"),st(s,e),s.o&&s.s&&ds(e,s.o,s.s),s.L&&s.g.setTimeout(s.L);var t=s.g;s=s.pa,t.L=1,t.v=Nr(Zi(e)),t.s=null,t.S=!0,ht(t,s)}function oi(s){null!=s.v&&(Te.clearTimeout(s.v),s.v=null)}function zr(s,e){var t=null;if(s.g==e){oi(s),Qr(s),s.g=null;var l=2}else{if(!Ui(s.i,e))return;t=e.F,us(s.i,e),l=1}if(0!=s.H)if(e.i)if(1==l){t=e.s?e.s.length:0,e=Date.now()-e.G;var h=s.C;fe(l=Ar(),new ps(l,t)),C(s)}else Zt(s);else if(3==(h=e.o)||0==h&&0<e.ca||!(1==l&&function P(s,e){return!(gs(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.j=e.F.concat(s.j),0):1==s.H||2==s.H||s.C>=(s.cb?0:s.eb)||(s.m=Ci(we(s.Na,s,e),Lr(s,s.C)),s.C++,0)))}(s,e)||2==l&&mn(s)))switch(t&&0<t.length&&(e=s.i,e.i=e.i.concat(t)),h){case 1:Is(s,5);break;case 4:Is(s,10);break;case 3:Is(s,6);break;default:Is(s,2)}}function Lr(s,e){let t=s.ab+Math.floor(Math.random()*s.hb);return s.isActive()||(t*=2),t*e}function Is(s,e){if(s.l.info("Error code "+e),2==e){var t=null;s.h&&(t=null);var l=we(s.pb,s);t||(t=new hi("//www.google.com/images/cleardot.gif"),Te.location&&"http"==Te.location.protocol||Ur(t,"https"),Nr(t)),function br(s,e){const t=new Dt;if(Te.Image){const l=new Image;l.onload=ft(_s,t,l,"TestLoadImage: loaded",!0,e),l.onerror=ft(_s,t,l,"TestLoadImage: error",!1,e),l.onabort=ft(_s,t,l,"TestLoadImage: abort",!1,e),l.ontimeout=ft(_s,t,l,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(t.toString(),l)}else _i(2);s.H=0,s.h&&s.h.za(e),_o(s),U(s)}function _o(s){if(s.H=0,s.ma=[],s.h){const e=zi(s.i);(0!=e.length||0!=s.j.length)&&(Ye(s.ma,e),Ye(s.ma,s.j),s.i.i.length=0,_t(s.j),s.j.length=0),s.h.ya()}}function Hs(s,e,t){var l=t instanceof hi?Zi(t):new hi(t);if(""!=l.g)e&&(l.g=e+"."+l.g),Qi(l,l.m);else{var h=Te.location;l=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new hi(null);l&&Ur(m,l),e&&(m.g=e),h&&Qi(m,h),t&&(m.l=t),l=m}return e=s.Da,(t=s.F)&&e&&on(l,t,e),on(l,"VER",s.ra),st(s,l),l}function uo(s,e,t){if(e&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bi(t&&s.Ha&&!s.va?new oo({ob:!0}):s.va)).Oa(s.J),e}function Yo(){}function $i(){if(We&&!(10<=Number(Jt)))throw Error("Environmental error: no available transport.")}function rs(s,e){Ut.call(this),this.g=new Xs(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(s?s["X-WebChannel-Client-Profile"]=e.Ca:s={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=s,(s=e&&e.cc)&&!nt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nt(e)&&(this.g.F=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Ma(this)}function yl(s){os.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function qd(){Ms.call(this),this.status=1}function Ma(s){this.g=s}function Po(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qa(s,e,t){t||(t=0);var l=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)l[h]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(h=0;16>h;++h)l[h]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=s.g[3],E=(e=s.g[0])+(m^(t=s.g[1])&((h=s.g[2])^m))+l[0]+3614090360&4294967295;E=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=(t=(h=(m=(e=t+(E<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[1]+3905402710&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[2]+606105819&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[3]+3250441966&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[4]+4118548399&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[5]+1200080426&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[6]+2821735955&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[7]+4249261313&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[8]+1770035416&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[9]+2336552879&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[10]+4294925233&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[11]+2304563134&4294967295)<<22&4294967295|E>>>10))+((E=e+(m^t&(h^m))+l[12]+1804603682&4294967295)<<7&4294967295|E>>>25))+((E=m+(h^e&(t^h))+l[13]+4254626195&4294967295)<<12&4294967295|E>>>20))+((E=h+(t^m&(e^t))+l[14]+2792965006&4294967295)<<17&4294967295|E>>>15))+((E=t+(e^h&(m^e))+l[15]+1236535329&4294967295)<<22&4294967295|E>>>10))+((E=e+(h^m&(t^h))+l[1]+4129170786&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[6]+3225465664&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[11]+643717713&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[0]+3921069994&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[5]+3593408605&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[10]+38016083&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[15]+3634488961&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[4]+3889429448&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[9]+568446438&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[14]+3275163606&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[3]+4107603335&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[8]+1163531501&4294967295)<<20&4294967295|E>>>12))+((E=e+(h^m&(t^h))+l[13]+2850285829&4294967295)<<5&4294967295|E>>>27))+((E=m+(t^h&(e^t))+l[2]+4243563512&4294967295)<<9&4294967295|E>>>23))+((E=h+(e^t&(m^e))+l[7]+1735328473&4294967295)<<14&4294967295|E>>>18))+((E=t+(m^e&(h^m))+l[12]+2368359562&4294967295)<<20&4294967295|E>>>12))+((E=e+(t^h^m)+l[5]+4294588738&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[8]+2272392833&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[11]+1839030562&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[14]+4259657740&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[1]+2763975236&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[4]+1272893353&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[7]+4139469664&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[10]+3200236656&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[13]+681279174&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[0]+3936430074&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[3]+3572445317&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[6]+76029189&4294967295)<<23&4294967295|E>>>9))+((E=e+(t^h^m)+l[9]+3654602809&4294967295)<<4&4294967295|E>>>28))+((E=m+(e^t^h)+l[12]+3873151461&4294967295)<<11&4294967295|E>>>21))+((E=h+(m^e^t)+l[15]+530742520&4294967295)<<16&4294967295|E>>>16))+((E=t+(h^m^e)+l[2]+3299628645&4294967295)<<23&4294967295|E>>>9))+((E=e+(h^(t|~m))+l[0]+4096336452&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[7]+1126891415&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[14]+2878612391&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[5]+4237533241&4294967295)<<21&4294967295|E>>>11))+((E=e+(h^(t|~m))+l[12]+1700485571&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[3]+2399980690&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[10]+4293915773&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[1]+2240044497&4294967295)<<21&4294967295|E>>>11))+((E=e+(h^(t|~m))+l[8]+1873313359&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[15]+4264355552&4294967295)<<10&4294967295|E>>>22))+((E=h+(e^(m|~t))+l[6]+2734768916&4294967295)<<15&4294967295|E>>>17))+((E=t+(m^(h|~e))+l[13]+1309151649&4294967295)<<21&4294967295|E>>>11))+((m=(e=t+((E=e+(h^(t|~m))+l[4]+4149444226&4294967295)<<6&4294967295|E>>>26))+((E=m+(t^(e|~h))+l[11]+3174756917&4294967295)<<10&4294967295|E>>>22))^((h=m+((E=h+(e^(m|~t))+l[2]+718787259&4294967295)<<15&4294967295|E>>>17))|~e))+l[9]+3951481745&4294967295,s.g[0]=s.g[0]+e&4294967295,s.g[1]=s.g[1]+(h+(E<<21&4294967295|E>>>11))&4294967295,s.g[2]=s.g[2]+h&4294967295,s.g[3]=s.g[3]+m&4294967295}function fi(s,e){this.h=e;for(var t=[],l=!0,h=s.length-1;0<=h;h--){var m=0|s[h];l&&m==e||(t[h]=m,l=!1)}this.g=t}(Ce=Bi.prototype).Oa=function(s){this.M=s},Ce.ha=function(s,e,t,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+s);e=e?e.toUpperCase():"GET",this.I=s,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():G.g(),this.C=function si(s){return s.h||(s.h=s.i())}(this.u?this.u:G),this.g.onreadystatechange=we(this.La,this);try{this.G=!0,this.g.open(e,String(s),!0),this.G=!1}catch(m){return void Z(this,m)}if(s=t||"",t=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var h in l)t.set(h,l[h]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const m of l.keys())t.set(m,l.get(m))}l=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=Te.FormData&&s instanceof Te.FormData,!(0<=gt(te,e))||l||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,E]of t)this.g.setRequestHeader(m,E);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rr(this),0<this.B&&((this.L=function T(s){return We&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=we(this.ua,this)):this.A=Ct(this.ua,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){Z(this,m)}},Ce.ua=function(){typeof Ve<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fe(this,"timeout"),this.abort(8))},Ce.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,fe(this,"complete"),fe(this,"abort"),Bn(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bn(this,!0)),Bi.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?qt(this):this.kb())},Ce.kb=function(){qt(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Ai(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=Xs.prototype).ra=8,Ce.H=1,Ce.Na=function(s){if(this.m)if(this.m=null,1==this.H){if(!s){this.W=Math.floor(1e5*Math.random()),s=this.W++;const h=new _e(this,this.l,s);let m=this.s;if(this.U&&(m?(m=yr(m),Pr(m,this.U)):m=this.U),null!==this.o||this.O||(h.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var l=this.j[t];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$t(this,h,e),on(t=Zi(this.I),"RID",s),on(t,"CVER",22),this.F&&on(t,"X-HTTP-Session-Id",this.F),st(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(jr(m)))+"&"+e:this.o&&ds(t,this.o,m)),qo(this.i,h),this.bb&&on(t,"TYPE","init"),this.P?(on(t,"$req",e),on(t,"SID","null"),h.aa=!0,Qe(h,t,null)):Qe(h,t,e),this.H=2}}else 3==this.H&&(s?me(this,s):0==this.j.length||Rs(this.i)||me(this))},Ce.Ma=function(){if(this.u=null,Xr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var s=2*this.S;this.l.info("BP detection timer enabled: "+s),this.B=Ci(we(this.jb,this),s)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_i(10),Y(this),Xr(this))},Ce.ib=function(){null!=this.v&&(this.v=null,Y(this),mn(this),_i(19))},Ce.pb=function(s){s?(this.l.info("Successfully pinged google.com"),_i(2)):(this.l.info("Failed to ping google.com"),_i(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=Yo.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},$i.prototype.g=function(s,e){return new rs(s,e)},ot(rs,Ut),rs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var s=this.g,e=this.l,t=this.h||void 0;_i(0),s.Y=e,s.na=t||{},s.G=s.aa,s.I=Hs(s,null,s.Y),C(s)},rs.prototype.close=function(){lo(this.g)},rs.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=Mt(s),s=t);e.j.push(new class{constructor(s,e){this.g=s,this.map=e}}(e.fb++,s)),3==e.H&&C(e)},rs.prototype.N=function(){this.g.h=null,delete this.j,lo(this.g),delete this.g,rs.$.N.call(this)},ot(yl,os),ot(qd,Ms),ot(Ma,Yo),Ma.prototype.Ba=function(){fe(this.g,"a")},Ma.prototype.Aa=function(s){fe(this.g,new yl(s))},Ma.prototype.za=function(s){fe(this.g,new qd)},Ma.prototype.ya=function(){fe(this.g,"b")},ot(Po,function Ra(){this.blockSize=-1}),Po.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Po.prototype.j=function(s,e){void 0===e&&(e=s.length);for(var t=e-this.blockSize,l=this.m,h=this.h,m=0;m<e;){if(0==h)for(;m<=t;)Qa(this,s,m),m+=this.blockSize;if("string"==typeof s){for(;m<e;)if(l[h++]=s.charCodeAt(m++),h==this.blockSize){Qa(this,l),h=0;break}}else for(;m<e;)if(l[h++]=s[m++],h==this.blockSize){Qa(this,l),h=0;break}}this.h=h,this.i+=e},Po.prototype.l=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var e=1;e<s.length-8;++e)s[e]=0;var t=8*this.i;for(e=s.length-8;e<s.length;++e)s[e]=255&t,t/=256;for(this.j(s),s=Array(16),e=t=0;4>e;++e)for(var l=0;32>l;l+=8)s[t++]=this.g[e]>>>l&255;return s};var Wl={};function Au(s){return-128<=s&&128>s?function De(s,e){var t=Wl;return Object.prototype.hasOwnProperty.call(t,s)?t[s]:t[s]=e(s)}(s,function(e){return new fi([0|e],0>e?-1:0)}):new fi([0|s],0>s?-1:0)}function co(s){if(isNaN(s)||!isFinite(s))return Zo;if(0>s)return Ps(co(-s));for(var e=[],t=1,l=0;s>=t;l++)e[l]=s/t|0,t*=Vo;return new fi(e,0)}var Vo=4294967296,Zo=Au(0),va=Au(1),Kl=Au(16777216);function xs(s){if(0!=s.h)return!1;for(var e=0;e<s.g.length;e++)if(0!=s.g[e])return!1;return!0}function Eo(s){return-1==s.h}function Ps(s){for(var e=s.g.length,t=[],l=0;l<e;l++)t[l]=~s.g[l];return new fi(t,~s.h).add(va)}function Ni(s,e){return s.add(Ps(e))}function ql(s,e){for(;(65535&s[e])!=s[e];)s[e+1]+=s[e]>>>16,s[e]&=65535,e++}function _a(s,e){this.g=s,this.h=e}function Kr(s,e){if(xs(e))throw Error("division by zero");if(xs(s))return new _a(Zo,Zo);if(Eo(s))return e=Kr(Ps(s),e),new _a(Ps(e.g),Ps(e.h));if(Eo(e))return e=Kr(s,Ps(e)),new _a(Ps(e.g),e.h);if(30<s.g.length){if(Eo(s)||Eo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=va,l=e;0>=l.X(s);)t=Yl(t),l=Yl(l);var h=Ea(t,1),m=Ea(l,1);for(l=Ea(l,2),t=Ea(t,2);!xs(l);){var E=m.add(l);0>=E.X(s)&&(h=h.add(t),m=E),l=Ea(l,1),t=Ea(t,1)}return e=Ni(s,h.R(e)),new _a(h,e)}for(h=Zo;0<=s.X(e);){for(t=Math.max(1,Math.floor(s.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,l-48),E=(m=co(t)).R(e);Eo(E)||0<E.X(s);)E=(m=co(t-=l)).R(e);xs(m)&&(m=va),h=h.add(m),s=Ni(s,E)}return new _a(h,s)}function Yl(s){for(var e=s.g.length+1,t=[],l=0;l<e;l++)t[l]=s.D(l)<<1|s.D(l-1)>>>31;return new fi(t,s.h)}function Ea(s,e){var t=e>>5;e%=32;for(var l=s.g.length-t,h=[],m=0;m<l;m++)h[m]=0<e?s.D(m+t)>>>e|s.D(m+t+1)<<32-e:s.D(m+t);return new fi(h,s.h)}(Ce=fi.prototype).ea=function(){if(Eo(this))return-Ps(this).ea();for(var s=0,e=1,t=0;t<this.g.length;t++){var l=this.D(t);s+=(0<=l?l:Vo+l)*e,e*=Vo}return s},Ce.toString=function(s){if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if(xs(this))return"0";if(Eo(this))return"-"+Ps(this).toString(s);for(var e=co(Math.pow(s,6)),t=this,l="";;){var h=Kr(t,e).g,m=((0<(t=Ni(t,h.R(e))).g.length?t.g[0]:t.h)>>>0).toString(s);if(xs(t=h))return m+l;for(;6>m.length;)m="0"+m;l=m+l}},Ce.D=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h},Ce.X=function(s){return Eo(s=Ni(this,s))?-1:xs(s)?0:1},Ce.abs=function(){return Eo(this)?Ps(this):this},Ce.add=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0,h=0;h<=e;h++){var m=l+(65535&this.D(h))+(65535&s.D(h)),E=(m>>>16)+(this.D(h)>>>16)+(s.D(h)>>>16);l=E>>>16,t[h]=(E&=65535)<<16|(m&=65535)}return new fi(t,-2147483648&t[t.length-1]?-1:0)},Ce.R=function(s){if(xs(this)||xs(s))return Zo;if(Eo(this))return Eo(s)?Ps(this).R(Ps(s)):Ps(Ps(this).R(s));if(Eo(s))return Ps(this.R(Ps(s)));if(0>this.X(Kl)&&0>s.X(Kl))return co(this.ea()*s.ea());for(var e=this.g.length+s.g.length,t=[],l=0;l<2*e;l++)t[l]=0;for(l=0;l<this.g.length;l++)for(var h=0;h<s.g.length;h++){var m=this.D(l)>>>16,E=65535&this.D(l),k=s.D(h)>>>16,q=65535&s.D(h);t[2*l+2*h]+=E*q,ql(t,2*l+2*h),t[2*l+2*h+1]+=m*q,ql(t,2*l+2*h+1),t[2*l+2*h+1]+=E*k,ql(t,2*l+2*h+1),t[2*l+2*h+2]+=m*k,ql(t,2*l+2*h+2)}for(l=0;l<e;l++)t[l]=t[2*l+1]<<16|t[2*l];for(l=e;l<2*e;l++)t[l]=0;return new fi(t,0)},Ce.gb=function(s){return Kr(this,s).h},Ce.and=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)&s.D(l);return new fi(t,this.h&s.h)},Ce.or=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)|s.D(l);return new fi(t,this.h|s.h)},Ce.xor=function(s){for(var e=Math.max(this.g.length,s.g.length),t=[],l=0;l<e;l++)t[l]=this.D(l)^s.D(l);return new fi(t,this.h^s.h)},$i.prototype.createWebChannel=$i.prototype.g,rs.prototype.send=rs.prototype.u,rs.prototype.open=rs.prototype.m,rs.prototype.close=rs.prototype.close,es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Os.COMPLETE="complete",ss.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",Ut.prototype.listen=Ut.prototype.O,Bi.prototype.listenOnce=Bi.prototype.P,Bi.prototype.getLastError=Bi.prototype.Sa,Bi.prototype.getLastErrorCode=Bi.prototype.Ia,Bi.prototype.getStatus=Bi.prototype.da,Bi.prototype.getResponseJson=Bi.prototype.Wa,Bi.prototype.getResponseText=Bi.prototype.ja,Bi.prototype.send=Bi.prototype.ha,Bi.prototype.setWithCredentials=Bi.prototype.Oa,Po.prototype.digest=Po.prototype.l,Po.prototype.reset=Po.prototype.reset,Po.prototype.update=Po.prototype.j,fi.prototype.add=fi.prototype.add,fi.prototype.multiply=fi.prototype.R,fi.prototype.modulo=fi.prototype.gb,fi.prototype.compare=fi.prototype.X,fi.prototype.toNumber=fi.prototype.ea,fi.prototype.toString=fi.prototype.toString,fi.prototype.getBits=fi.prototype.D,fi.fromNumber=co,fi.fromString=function ic(s,e){if(0==s.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==s.charAt(0))return Ps(ic(s.substring(1),e));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=co(Math.pow(e,8)),l=Zo,h=0;h<s.length;h+=8){var m=Math.min(8,s.length-h),E=parseInt(s.substring(h,h+m),e);8>m?(m=co(Math.pow(e,m)),l=l.R(m).add(co(E))):l=(l=l.R(t)).add(co(E))}return l};var xa=de.createWebChannelTransport=function(){return new $i},zs=de.getStatEventTarget=function(){return Ar()},Xa=de.ErrorCode=es,ua=de.EventType=Os,$=de.Event=nr,re=de.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},j=de.FetchXmlHttpFactory=oo,ye=de.WebChannel=ss,qe=de.XhrIo=Bi,jt=de.Md5=Po,Qt=de.Integer=fi;const Yn="@firebase/firestore";class yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let qr="9.22.1";const Or=new ge.Yd("@firebase/firestore");function Mr(){return Or.logLevel}function Ji(s){Or.setLogLevel(s)}function en(s,...e){if(Or.logLevel<=ge.in.DEBUG){const t=e.map(ji);Or.debug(`Firestore (${qr}): ${s}`,...t)}}function Jn(s,...e){if(Or.logLevel<=ge.in.ERROR){const t=e.map(ji);Or.error(`Firestore (${qr}): ${s}`,...t)}}function bi(s,...e){if(Or.logLevel<=ge.in.WARN){const t=e.map(ji);Or.warn(`Firestore (${qr}): ${s}`,...t)}}function ji(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function Fn(s="Unexpected state"){const e=`FIRESTORE (${qr}) INTERNAL ASSERTION FAILED: `+s;throw Jn(e),new Error(e)}function jn(s,e){s||Fn()}function Uo(s,e){s||Fn()}function Tn(s,e){return s}const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ca{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class sc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vl{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var l=this;let h=this.i;const m=oe=>this.i!==h?(h=this.i,t(oe)):Promise.resolve();let E=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Ts,e.enqueueRetryable(()=>m(this.currentUser))};const k=()=>{const oe=E;e.enqueueRetryable((0,y.Z)(function*(){yield oe.promise,yield m(l.currentUser)}))},q=oe=>{en("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=oe,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(oe=>q(oe)),setTimeout(()=>{if(!this.auth){const oe=this.t.getImmediate({optional:!0});oe?q(oe):(en("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Ts)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(l=>this.i!==e?(en("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(jn("string"==typeof l.accessToken),new ca(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jn(null===e||"string"==typeof e),new yn(e)}}class Pa{constructor(e,t,l){this.h=e,this.l=t,this.m=l,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class oc{constructor(e,t,l){this.h=e,this.l=t,this.m=l}getToken(){return Promise.resolve(new Pa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ac{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const l=m=>{null!=m.error&&en("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.T;return this.T=m.token,en("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>l(m))};const h=m=>{en("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):en("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jn("string"==typeof t.token),this.T=t.token,new ac(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jh(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let l=0;l<s;l++)t[l]=Math.floor(256*Math.random());return t}class di{static A(){const t=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=Jh(40);for(let m=0;m<h.length;++m)l.length<20&&h[m]<t&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return l}}function ar(s,e){return s<e?-1:s>e?1:0}function Oa(s,e,t){return s.length===e.length&&s.every((l,h)=>t(l,e[h]))}function Zl(s){return s+"\0"}class Si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*t));return new Si(t,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ar(this.nanoseconds,e.nanoseconds):ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Er{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Er(e)}static min(){return new Er(new Si(0,0))}static max(){return new Er(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _l{constructor(e,t,l){void 0===t?t=0:t>e.length&&Fn(),void 0===l?l=e.length-t:l>e.length-t&&Fn(),this.segments=e,this.offset=t,this.len=l}get length(){return this.len}isEqual(e){return 0===_l.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach(l=>{t.push(l)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,l=this.limit();t<l;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const l=Math.min(e.length,t.length);for(let h=0;h<l;h++){const m=e.get(h),E=t.get(h);if(m<E)return-1;if(m>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pi extends _l{construct(e,t,l){return new pi(e,t,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const l of e){if(l.indexOf("//")>=0)throw new Lt(Xe.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);t.push(...l.split("/").filter(h=>h.length>0))}return new pi(t)}static emptyPath(){return new pi([])}}const Ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends _l{construct(e,t,l){return new Hi(e,t,l)}static isValidIdentifier(e){return Ql.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hi(["__name__"])}static fromServerFormat(e){const t=[];let l="",h=0;const m=()=>{if(0===l.length)throw new Lt(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(l),l=""};let E=!1;for(;h<e.length;){const k=e[h];if("\\"===k){if(h+1===e.length)throw new Lt(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const q=e[h+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new Lt(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=q,h+=2}else"`"===k?(E=!E,h++):"."!==k||E?(l+=k,h++):(m(),h++)}if(m(),E)throw new Lt(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(t)}static emptyPath(){return new Hi([])}}class Pn{constructor(e){this.path=e}static fromPath(e){return new Pn(pi.fromString(e))}static fromName(e){return new Pn(pi.fromString(e).popFirst(5))}static empty(){return new Pn(pi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pn(new pi(e.slice()))}}class da{constructor(e,t,l,h){this.indexId=e,this.collectionGroup=t,this.fields=l,this.indexState=h}}function Na(s){return s.fields.find(e=>2===e.kind)}function ka(s){return s.fields.filter(e=>2!==e.kind)}da.UNKNOWN_ID=-1;class El{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xl(0,wo.min())}}function Mu(s,e){const t=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,h=Er.fromTimestamp(1e9===l?new Si(t+1,0):new Si(t,l));return new wo(h,Pn.empty(),e)}function wl(s){return new wo(s.readTime,s.key,-1)}class wo{constructor(e,t,l){this.readTime=e,this.documentKey=t,this.largestBatchId=l}static min(){return new wo(Er.min(),Pn.empty(),-1)}static max(){return new wo(Er.max(),Pn.empty(),-1)}}function Xc(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=Pn.comparator(s.documentKey,e.documentKey),0!==t?t:ar(s.largestBatchId,e.largestBatchId))}const ef="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Js{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Io(s){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,y.Z)(function*(s){if(s.code!==Xe.FAILED_PRECONDITION||s.message!==ef)throw s;en("LocalStore","Unexpectedly lost primary lease")}),Gi.apply(this,arguments)}class Bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Bt((l,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(l,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(l,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Bt?t:Bt.resolve(t)}catch(t){return Bt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Bt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Bt.reject(t)}static resolve(e){return new Bt((t,l)=>{t(e)})}static reject(e){return new Bt((t,l)=>{l(e)})}static waitFor(e){return new Bt((t,l)=>{let h=0,m=0,E=!1;e.forEach(k=>{++h,k.next(()=>{++m,E&&m===h&&t()},q=>l(q))}),E=!0,m===h&&t()})}static or(e){let t=Bt.resolve(!1);for(const l of e)t=t.next(h=>h?Bt.resolve(h):l());return t}static forEach(e,t){const l=[];return e.forEach((h,m)=>{l.push(t.call(this,h,m))}),this.waitFor(l)}static mapArray(e,t){return new Bt((l,h)=>{const m=e.length,E=new Array(m);let k=0;for(let q=0;q<m;q++){const oe=q;t(e[oe]).next(Se=>{E[oe]=Se,++k,k===m&&l(E)},Se=>h(Se))}})}static doWhile(e,t){return new Bt((l,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):l()};m()})}}class Ru{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ts,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Il(e,t.error)):this.v.resolve()},this.transaction.onerror=l=>{const h=Pu(l.target.error);this.v.reject(new Il(e,h))}}static open(e,t,l,h){try{return new Ru(t,e.transaction(h,l))}catch(m){throw new Il(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(en("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Jc(t)}}class Qo{constructor(e,t,l){this.name=e,this.version=t,this.V=l,12.2===Qo.S((0,xe.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return en("SimpleDb","Removing database:",e),Co(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,xe.hl)())return!1;if(Qo.C())return!0;const e=(0,xe.z$)(),t=Qo.S(e),l=0<t&&t<10,h=Qo.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const t=e.match(/Android ([\d.]+)/i),l=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(e){var t=this;return(0,y.Z)(function*(){return t.db||(en("SimpleDb","Opening database:",t.name),t.db=yield new Promise((l,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=E=>{l(E.target.result)},m.onblocked=()=>{h(new Il(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const k=E.target.error;h("VersionError"===k.name?new Lt(Xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===k.name?new Lt(Xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k):new Il(e,k))},m.onupgradeneeded=E=>{en("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.V.O(E.target.result,m.transaction,E.oldVersion,t.version).next(()=>{en("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=l=>t.F(l)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,l,h){var m=this;return(0,y.Z)(function*(){const E="readonly"===t;let k=0;for(;;){++k;try{m.db=yield m.$(e);const q=Ru.open(m.db,e,E?"readonly":"readwrite",l),oe=h(q).next(Se=>(q.P(),Se)).catch(Se=>(q.abort(Se),Bt.reject(Se))).toPromise();return oe.catch(()=>{}),yield q.R,oe}catch(q){const oe=q,Se="FirebaseError"!==oe.name&&k<3;if(en("SimpleDb","Transaction failed with error:",oe.message,"Retrying:",Se),m.close(),!Se)return Promise.reject(oe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xu{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Co(this.L.delete())}}class Il extends Lt{constructor(e,t){super(Xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ja(s){return"IndexedDbTransactionError"===s.name}class Jc{constructor(e){this.store=e}put(e,t){let l;return void 0!==t?(en("SimpleDb","PUT",this.store.name,e,t),l=this.store.put(t,e)):(en("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Co(l)}add(e){return en("SimpleDb","ADD",this.store.name,e,e),Co(this.store.add(e))}get(e){return Co(this.store.get(e)).next(t=>(void 0===t&&(t=null),en("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return en("SimpleDb","DELETE",this.store.name,e),Co(this.store.delete(e))}count(){return en("SimpleDb","COUNT",this.store.name),Co(this.store.count())}j(e,t){const l=this.options(e,t);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),m=[];return this.W(h,(E,k)=>{m.push(k)}).next(()=>m)}{const h=this.store.getAll(l.range);return new Bt((m,E)=>{h.onerror=k=>{E(k.target.error)},h.onsuccess=k=>{m(k.target.result)}})}}H(e,t){const l=this.store.getAll(e,null===t?void 0:t);return new Bt((h,m)=>{l.onerror=E=>{m(E.target.error)},l.onsuccess=E=>{h(E.target.result)}})}J(e,t){en("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,t);l.Y=!1;const h=this.cursor(l);return this.W(h,(m,E,k)=>k.delete())}X(e,t){let l;t?l=e:(l={},t=e);const h=this.cursor(l);return this.W(h,t)}Z(e){const t=this.cursor({});return new Bt((l,h)=>{t.onerror=m=>{const E=Pu(m.target.error);h(E)},t.onsuccess=m=>{const E=m.target.result;E?e(E.primaryKey,E.value).next(k=>{k?E.continue():l()}):l()}})}W(e,t){const l=[];return new Bt((h,m)=>{e.onerror=E=>{m(E.target.error)},e.onsuccess=E=>{const k=E.target.result;if(!k)return void h();const q=new xu(k),oe=t(k.primaryKey,k.value,q);if(oe instanceof Bt){const Se=oe.catch(rt=>(q.done(),Bt.reject(rt)));l.push(Se)}q.isDone?h():null===q.K?k.continue():k.continue(q.K)}}).next(()=>Bt.waitFor(l))}options(e,t){let l;return void 0!==e&&("string"==typeof e?l=e:t=e),{index:l,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,t):l.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Co(s){return new Bt((e,t)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const h=Pu(l.target.error);t(h)}})}let tf=!1;function Pu(s){const e=Qo.S((0,xe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const l=new Lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tf||(tf=!0,setTimeout(()=>{throw l},0)),l}}return s}class M{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;en("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.Z)(function*(){t.task=null;try{en("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(l){Ja(l)?en("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield Io(l)}yield t.et(6e4)}))}}class N{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,y.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>t.st(l,e))})()}st(e,t){const l=new Set;let h=t,m=!0;return Bt.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!l.has(E))return en("IndexBackiller",`Processing collection: ${E}`),this.it(e,E,h).next(k=>{h-=k,l.add(E)});m=!1})).next(()=>t-h)}it(e,t,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,l).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.rt(h,m)).next(k=>(en("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>E.size)}))}rt(e,t){let l=e;return t.changes.forEach((h,m)=>{const E=wl(m);Xc(E,l)>0&&(l=E)}),new wo(l.readTime,l.documentKey,Math.max(t.batchId,e.largestBatchId))}}let D=(()=>{class s{constructor(t,l){this.previousValue=t,l&&(l.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>l.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return s.ct=-1,s})();function F(s){return null==s}function ee(s){return 0===s&&1/s==-1/0}function Re(s){return"number"==typeof s&&Number.isInteger(s)&&!ee(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Ie(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=tn(e)),e=yt(s.get(t),e);return tn(e)}function yt(s,e){let t=e;const l=s.length;for(let h=0;h<l;h++){const m=s.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function tn(s){return s+"\x01\x01"}function Rn(s){const e=s.length;if(jn(e>=2),2===e)return jn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),pi.emptyPath();const t=e-2,l=[];let h="";for(let m=0;m<e;){const E=s.indexOf("\x01",m);switch((E<0||E>t)&&Fn(),s.charAt(E+1)){case"\x01":const k=s.substring(m,E);let q;0===h.length?q=k:(h+=k,q=h,h=""),l.push(q);break;case"\x10":h+=s.substring(m,E),h+="\0";break;case"\x11":h+=s.substring(m,E+1);break;default:Fn()}m=E+2}return new pi(l)}const Sr=["userId","batchId"];function lr(s,e){return[s,Ie(e)]}function is(s,e,t){return[s,Ie(e),t]}const eo={},jo=["prefixPath","collectionGroup","readTime","documentId"],wa=["prefixPath","collectionGroup","documentId"],Ou=["collectionGroup","readTime","prefixPath","documentId"],Fa=["canonicalId","targetId"],Ia=["targetId","path"],Ho=["path","targetId"],Jl=["collectionId","parent"],Oo=["indexId","uid"],nf=["uid","sequenceNumber"],ed=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yd=["indexId","uid","orderedDocumentKey"],cp=["userId","collectionPath","documentId"],el=["userId","collectionPath","largestBatchId"],dp=["userId","collectionGroup","largestBatchId"],Cl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rf=[...Cl,"documentOverlays"],Ca=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eu=Ca,td=[...eu,"indexConfiguration","indexState","indexEntries"];class nd extends Js{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function to(s,e){const t=Tn(s);return Qo.M(t.ht,e)}function tl(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function nl(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function sf(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Wi{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new Wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const l=this.comparator(e,t.key);if(0===l)return t.value;l<0?t=t.left:l>0&&(t=t.right)}return null}indexOf(e){let t=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return t+l.left.size;h<0?l=l.left:(t+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,l)=>(e(t,l),!1))}toString(){const e=[];return this.inorderTraversal((t,l)=>(e.push(`${t}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}}class ba{constructor(e,t,l,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?l(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,t,l,h,m){this.key=e,this.value=t,this.color=null!=l?l:Cs.RED,this.left=null!=h?h:Cs.EMPTY,this.right=null!=m?m:Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,l,h,m){return new Cs(null!=e?e:this.key,null!=t?t:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,l){let h=this;const m=l(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,l),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let l,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Cs.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fn();const e=this.left.check();if(e!==this.right.check())throw Fn();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Fn()}get value(){throw Fn()}get color(){throw Fn()}get left(){throw Fn()}get right(){throw Fn()}copy(s,e,t,l,h){return this}insert(s,e,t){return new Cs(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ki{constructor(e){this.comparator=e,this.data=new Wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,l)=>(e(t),!1))}forEachInRange(e,t){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let l;for(l=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rd(this.data.getIterator())}getIteratorFrom(e){return new rd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(l=>{t=t.add(l)}),t}isEqual(e){if(!(e instanceof Ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),l=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ki(this.comparator);return t.data=e,t}}class rd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bl(s){return s.hasNext()?s.getNext():void 0}class Ls{constructor(e){this.fields=e,e.sort(Hi.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new Ki(Hi.comparator);for(const l of this.fields)t=t.add(l);for(const l of e)t=t.add(l);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oa(this.fields,e.fields,(t,l)=>t.isEqual(l))}}class cc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function id(){return typeof atob<"u"}class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cc("Invalid base64 string: "+h):h}}(e);return new bs(t)}static fromUint8Array(e){const t=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(e);return new bs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let l=0;l<e.length;l++)t[l]=e.charCodeAt(l);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const af=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(s){if(jn(!!s),"string"==typeof s){let e=0;const t=af.exec(s);if(jn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:ms(s.seconds),nanos:ms(s.nanos)}}function ms(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function ho(s){return"string"==typeof s?bs.fromBase64String(s):bs.fromUint8Array(s)}function Dl(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ba(s){const e=s.mapValue.fields.__previous_value__;return Dl(e)?Ba(e):e}function dc(s){const e=La(s.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}class Nu{constructor(e,t,l,h,m,E,k,q,oe){this.databaseId=e,this.appId=t,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=k,this.longPollingOptions=q,this.useFetchStreams=oe}}class bo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}const Sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hc={nullValue:"NULL_VALUE"};function Tl(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dl(s)?4:od(s)?9007199254740991:10:Fn()}function Al(s,e){if(s===e)return!0;const t=Tl(s);if(t!==Tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return dc(s).isEqual(dc(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=La(l.timestampValue),E=La(h.timestampValue);return m.seconds===E.seconds&&m.nanos===E.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,ho(s.bytesValue).isEqual(ho(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,h){return ms(l.geoPointValue.latitude)===ms(h.geoPointValue.latitude)&&ms(l.geoPointValue.longitude)===ms(h.geoPointValue.longitude)}(s,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return ms(l.integerValue)===ms(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=ms(l.doubleValue),E=ms(h.doubleValue);return m===E?ee(m)===ee(E):isNaN(m)&&isNaN(E)}return!1}(s,e);case 9:return Oa(s.arrayValue.values||[],e.arrayValue.values||[],Al);case 10:return function(l,h){const m=l.mapValue.fields||{},E=h.mapValue.fields||{};if(tl(m)!==tl(E))return!1;for(const k in m)if(m.hasOwnProperty(k)&&(void 0===E[k]||!Al(m[k],E[k])))return!1;return!0}(s,e);default:return Fn()}var h}function fc(s,e){return void 0!==(s.values||[]).find(t=>Al(t,e))}function rl(s,e){if(s===e)return 0;const t=Tl(s),l=Tl(e);if(t!==l)return ar(t,l);switch(t){case 0:case 9007199254740991:return 0;case 1:return ar(s.booleanValue,e.booleanValue);case 2:return function(h,m){const E=ms(h.integerValue||h.doubleValue),k=ms(m.integerValue||m.doubleValue);return E<k?-1:E>k?1:E===k?0:isNaN(E)?isNaN(k)?0:-1:1}(s,e);case 3:return Zd(s.timestampValue,e.timestampValue);case 4:return Zd(dc(s),dc(e));case 5:return ar(s.stringValue,e.stringValue);case 6:return function(h,m){const E=ho(h),k=ho(m);return E.compareTo(k)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const E=h.split("/"),k=m.split("/");for(let q=0;q<E.length&&q<k.length;q++){const oe=ar(E[q],k[q]);if(0!==oe)return oe}return ar(E.length,k.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const E=ar(ms(h.latitude),ms(m.latitude));return 0!==E?E:ar(ms(h.longitude),ms(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const E=h.values||[],k=m.values||[];for(let q=0;q<E.length&&q<k.length;++q){const oe=rl(E[q],k[q]);if(oe)return oe}return ar(E.length,k.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===Sl.mapValue&&m===Sl.mapValue)return 0;if(h===Sl.mapValue)return 1;if(m===Sl.mapValue)return-1;const E=h.fields||{},k=Object.keys(E),q=m.fields||{},oe=Object.keys(q);k.sort(),oe.sort();for(let Se=0;Se<k.length&&Se<oe.length;++Se){const rt=ar(k[Se],oe[Se]);if(0!==rt)return rt;const Ot=rl(E[k[Se]],q[oe[Se]]);if(0!==Ot)return Ot}return ar(k.length,oe.length)}(s.mapValue,e.mapValue);default:throw Fn()}}function Zd(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return ar(s,e);const t=La(s),l=La(e),h=ar(t.seconds,l.seconds);return 0!==h?h:ar(t.nanos,l.nanos)}function ku(s){return $a(s)}function $a(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const h=La(l);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?ho(s.bytesValue).toBase64():"referenceValue"in s?Pn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let h="[",m=!0;for(const E of l.values||[])m?m=!1:h+=",",h+=$a(E);return h+"]"}(s.arrayValue):"mapValue"in s?function(l){const h=Object.keys(l.fields||{}).sort();let m="{",E=!0;for(const k of h)E?E=!1:m+=",",m+=`${k}:${$a(l.fields[k])}`;return m+"}"}(s.mapValue):Fn();var e}function tu(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ns(s){return!!s&&"integerValue"in s}function sd(s){return!!s&&"arrayValue"in s}function Ua(s){return!!s&&"nullValue"in s}function lf(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zo(s){return!!s&&"mapValue"in s}function Xo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return nl(s.mapValue.fields,(t,l)=>e.mapValue.fields[t]=Xo(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xo(s.arrayValue.values[t]);return e}return Object.assign({},s)}function od(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fu(s){return"nullValue"in s?hc:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?tu(bo.empty(),Pn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Fn()}function ad(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?tu(bo.empty(),Pn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Sl:Fn()}function hp(s,e){const t=rl(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function uf(s,e){const t=rl(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Ws{constructor(e){this.value=e}static empty(){return new Ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let l=0;l<e.length-1;++l)if(t=(t.mapValue.fields||{})[e.get(l)],!zo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(t)}setAll(e){let t=Hi.emptyPath(),l={},h=[];e.forEach((E,k)=>{if(!t.isImmediateParentOf(k)){const q=this.getFieldsMap(t);this.applyChanges(q,l,h),l={},h=[],t=k.popLast()}E?l[k.lastSegment()]=Xo(E):h.push(k.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,l,h)}delete(e){const t=this.field(e.popLast());zo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Al(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=t.mapValue.fields[e.get(l)];zo(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(l)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,l){nl(t,(h,m)=>e[h]=m);for(const h of l)delete e[h]}clone(){return new Ws(Xo(this.value))}}function fp(s){const e=[];return nl(s.fields,(t,l)=>{const h=new Hi([t]);if(zo(l)){const m=fp(l.mapValue).fields;if(0===m.length)e.push(h);else for(const E of m)e.push(h.child(E))}else e.push(h)}),new Ls(e)}class Ii{constructor(e,t,l,h,m,E,k){this.key=e,this.documentType=t,this.version=l,this.readTime=h,this.createTime=m,this.data=E,this.documentState=k}static newInvalidDocument(e){return new Ii(e,0,Er.min(),Er.min(),Er.min(),Ws.empty(),0)}static newFoundDocument(e,t,l,h){return new Ii(e,1,t,Er.min(),l,h,0)}static newNoDocument(e,t){return new Ii(e,2,t,Er.min(),Er.min(),Ws.empty(),0)}static newUnknownDocument(e,t){return new Ii(e,3,t,Er.min(),Er.min(),Ws.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Er.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Er.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jo{constructor(e,t){this.position=e,this.inclusive=t}}function No(s,e,t){let l=0;for(let h=0;h<s.position.length;h++){const m=e[h],E=s.position[h];if(l=m.field.isKeyField()?Pn.comparator(Pn.fromName(E.referenceValue),t.key):rl(E,t.data.field(m.field)),"desc"===m.dir&&(l*=-1),0!==l)break}return l}function Lu(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Al(s.position[t],e.position[t]))return!1;return!0}class Bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function pp(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Qd{}class ci extends Qd{constructor(e,t,l){super(),this.field=e,this.op=t,this.value=l}static create(e,t,l){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,l):new xg(e,t,l):"array-contains"===t?new gp(e,l):"in"===t?new cd(e,l):"not-in"===t?new dd(e,l):"array-contains-any"===t?new vc(e,l):new ci(e,t,l)}static createKeyFieldInFilter(e,t,l){return"in"===t?new ud(e,l):new cf(e,l)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rl(t,this.value)):null!==t&&Tl(this.value)===Tl(t)&&this.matchesComparison(rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ki extends Qd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ki(e,t)}matches(e){return $u(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $u(s){return"and"===s.op}function ea(s){return"or"===s.op}function pc(s){return ld(s)&&$u(s)}function ld(s){for(const e of s.filters)if(e instanceof ki)return!1;return!0}function gc(s){if(s instanceof ci)return s.field.canonicalString()+s.op.toString()+ku(s.value);if(pc(s))return s.filters.map(e=>gc(e)).join(",");{const e=s.filters.map(t=>gc(t)).join(",");return`${s.op}(${e})`}}function mc(s,e){return s instanceof ci?(t=s,(l=e)instanceof ci&&t.op===l.op&&t.field.isEqual(l.field)&&Al(t.value,l.value)):s instanceof ki?function(t,l){return l instanceof ki&&t.op===l.op&&t.filters.length===l.filters.length&&t.filters.reduce((h,m,E)=>h&&mc(m,l.filters[E]),!0)}(s,e):void Fn();var t,l}function ko(s,e){const t=s.filters.concat(e);return ki.create(t,s.op)}function nu(s){return s instanceof ci?`${(e=s).field.canonicalString()} ${e.op} ${ku(e.value)}`:s instanceof ki?function(e){return e.op.toString()+" {"+e.getFilters().map(nu).join(" ,")+"}"}(s):"Filter";var e}class xg extends ci{constructor(e,t,l){super(e,t,l),this.key=Pn.fromName(l.referenceValue)}matches(e){const t=Pn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ud extends ci{constructor(e,t){super(e,"in",t),this.keys=yc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cf extends ci{constructor(e,t){super(e,"not-in",t),this.keys=yc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function yc(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(l=>Pn.fromName(l.referenceValue))}class gp extends ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sd(t)&&fc(t.arrayValue,this.value)}}class cd extends ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fc(this.value.arrayValue,t)}}class dd extends ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fc(this.value.arrayValue,t)}}class vc extends ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(l=>fc(this.value.arrayValue,l))}}class ru{constructor(e,t=null,l=[],h=[],m=null,E=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=E,this.endAt=k,this.dt=null}}function Xd(s,e=null,t=[],l=[],h=null,m=null,E=null){return new ru(s,e,t,l,h,m,E)}function ja(s){const e=Tn(s);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(l=>gc(l)).join(","),t+="|ob:",t+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),F(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>ku(l)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>ku(l)).join(",")),e.dt=t}return e.dt}function il(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!pp(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!mc(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Lu(s.startAt,e.startAt)&&Lu(s.endAt,e.endAt)}function hd(s){return Pn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function fd(s,e){return s.filters.filter(t=>t instanceof ci&&t.field.isEqual(e))}function mp(s,e,t){let l=hc,h=!0;for(const m of fd(s,e)){let E=hc,k=!0;switch(m.op){case"<":case"<=":E=Fu(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,k=!1;break;case"!=":case"not-in":E=hc}hp({value:l,inclusive:h},{value:E,inclusive:k})<0&&(l=E,h=k)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const E=t.position[m];hp({value:l,inclusive:h},{value:E,inclusive:t.inclusive})<0&&(l=E,h=t.inclusive);break}return{value:l,inclusive:h}}function yp(s,e,t){let l=Sl,h=!0;for(const m of fd(s,e)){let E=Sl,k=!0;switch(m.op){case">=":case">":E=ad(m.value),k=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,k=!1;break;case"!=":case"not-in":E=Sl}uf({value:l,inclusive:h},{value:E,inclusive:k})>0&&(l=E,h=k)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const E=t.position[m];uf({value:l,inclusive:h},{value:E,inclusive:t.inclusive})>0&&(l=E,h=t.inclusive);break}return{value:l,inclusive:h}}class Ml{constructor(e,t=null,l=[],h=[],m=null,E="F",k=null,q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=E,this.startAt=k,this.endAt=q,this.wt=null,this._t=null}}function _c(s,e,t,l,h,m,E,k){return new Ml(s,e,t,l,h,m,E,k)}function iu(s){return new Ml(s)}function vp(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Jd(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function R(s){for(const e of s.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _(s){return null!==s.collectionGroup}function I(s){const e=Tn(s);if(null===e.wt){e.wt=[];const t=R(e),l=Jd(e);if(null!==t&&null===l)t.isKeyField()||e.wt.push(new Bu(t)),e.wt.push(new Bu(Hi.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bu(Hi.keyField(),m))}}}return e.wt}function O(s){const e=Tn(s);if(!e._t)if("F"===e.limitType)e._t=Xd(e.path,e.collectionGroup,I(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of I(e))t.push(new Bu(m.field,"desc"===m.dir?"asc":"desc"));const l=e.endAt?new Jo(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Jo(e.startAt.position,e.startAt.inclusive):null;e._t=Xd(e.path,e.collectionGroup,t,e.filters,e.limit,l,h)}return e._t}function le(s,e){e.getFirstInequalityField(),R(s);const t=s.filters.concat([e]);return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Ae(s,e,t){return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function wt(s,e){return il(O(s),O(e))&&s.limitType===e.limitType}function zt(s){return`${ja(O(s))}|lt:${s.limitType}`}function An(s){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(l=>nu(l)).join(", ")}]`),F(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(l=>ku(l)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(l=>ku(l)).join(",")),`Target(${t})`}(O(s))}; limitType=${s.limitType})`}function kn(s,e){return e.isFoundDocument()&&function(t,l){const h=l.key.path;return null!==t.collectionGroup?l.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):Pn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(s,e)&&function(t,l){for(const h of I(t))if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(s,e)&&function(t,l){for(const h of t.filters)if(!h.matches(l))return!1;return!0}(s,e)&&(l=e,!((t=s).startAt&&!function(h,m,E){const k=No(h,m,E);return h.inclusive?k<=0:k<0}(t.startAt,I(t),l)||t.endAt&&!function(h,m,E){const k=No(h,m,E);return h.inclusive?k>=0:k>0}(t.endAt,I(t),l)));var t,l}function wr(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gi(s){return(e,t)=>{let l=!1;for(const h of I(s)){const m=ta(h,e,t);if(0!==m)return m;l=l||h.field.isKeyField()}return 0}}function ta(s,e,t){const l=s.field.isKeyField()?Pn.comparator(e.key,t.key):function(h,m,E){const k=m.data.field(h),q=E.data.field(h);return null!==k&&null!==q?rl(k,q):Fn()}(s.field,e,t);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Fn()}}class Fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0!==l)for(const[h,m]of l)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),l=this.inner[t];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[t]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(t,l)=>{for(const[h,m]of l)e(h,m)})}isEmpty(){return sf(this.inner)}size(){return this.innerSize}}const Vu=new Wi(Pn.comparator);function no(){return Vu}const su=new Wi(Pn.comparator);function Uu(...s){let e=su;for(const t of s)e=e.insert(t.key,t);return e}function eh(s){let e=su;return s.forEach((t,l)=>e=e.insert(t,l.overlayedDocument)),e}function Go(){return ju()}function Da(){return ju()}function ju(){return new Fo(s=>s.toString(),(s,e)=>s.isEqual(e))}const df=new Wi(Pn.comparator),hf=new Ki(Pn.comparator);function Jr(...s){let e=hf;for(const t of s)e=e.add(t);return e}const Hu=new Ki(ar);function th(){return Hu}function ha(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ee(e)?"-0":e}}function ff(s){return{integerValue:""+s}}function ou(s,e){return Re(e)?ff(e):ha(s,e)}class pd{constructor(){this._=void 0}}function sl(s,e,t){return s instanceof Ec?function(l,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Dl(h)&&(h=Ba(h)),h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):s instanceof fa?na(s,e):s instanceof Rl?Pg(s,e):function(l,h){const m=pf(l,h),E=dy(m)+dy(l.gt);return Ns(m)&&Ns(l.gt)?ff(E):ha(l.serializer,E)}(s,e)}function fo(s,e,t){return s instanceof fa?na(s,e):s instanceof Rl?Pg(s,e):t}function pf(s,e){return s instanceof zu?Ns(t=e)||(l=t)&&"doubleValue"in l?e:{integerValue:0}:null;var l,t}class Ec extends pd{}class fa extends pd{constructor(e){super(),this.elements=e}}function na(s,e){const t=Og(e);for(const l of s.elements)t.some(h=>Al(h,l))||t.push(l);return{arrayValue:{values:t}}}class Rl extends pd{constructor(e){super(),this.elements=e}}function Pg(s,e){let t=Og(e);for(const l of s.elements)t=t.filter(h=>!Al(h,l));return{arrayValue:{values:t}}}class zu extends pd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function dy(s){return ms(s.integerValue||s.doubleValue)}function Og(s){return sd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class gf{constructor(e,t){this.field=e,this.transform=t}}class mf{constructor(e,t){this.version=e,this.transformResults=t}}class ys{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wc(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class nh{}function yf(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new au(s.key,ys.none()):new ra(s.key,s.data,ys.none());{const t=s.data,l=Ws.empty();let h=new Ki(Hi.comparator);for(let m of e.fields)if(!h.has(m)){let E=t.field(m);null===E&&m.length>1&&(m=m.popLast(),E=t.field(m)),null===E?l.delete(m):l.set(m,E),h=h.add(m)}return new ol(s.key,l,new Ls(h.toArray()),ys.none())}}function _p(s,e,t){s instanceof ra?function(l,h,m){const E=l.value.clone(),k=kg(l.fieldTransforms,h,m.transformResults);E.setAll(k),h.convertToFoundDocument(m.version,E).setHasCommittedMutations()}(s,e,t):s instanceof ol?function(l,h,m){if(!wc(l.precondition,h))return void h.convertToUnknownDocument(m.version);const E=kg(l.fieldTransforms,h,m.transformResults),k=h.data;k.setAll(Ep(l)),k.setAll(E),h.convertToFoundDocument(m.version,k).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rh(s,e,t,l){return s instanceof ra?function(h,m,E,k){if(!wc(h.precondition,m))return E;const q=h.value.clone(),oe=gd(h.fieldTransforms,k,m);return q.setAll(oe),m.convertToFoundDocument(m.version,q).setHasLocalMutations(),null}(s,e,t,l):s instanceof ol?function(h,m,E,k){if(!wc(h.precondition,m))return E;const q=gd(h.fieldTransforms,k,m),oe=m.data;return oe.setAll(Ep(h)),oe.setAll(q),m.convertToFoundDocument(m.version,oe).setHasLocalMutations(),null===E?null:E.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Se=>Se.field))}(s,e,t,l):(E=t,wc(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):E);var m,E}function ih(s,e){let t=null;for(const l of s.fieldTransforms){const h=e.data.field(l.field),m=pf(l.transform,h||null);null!=m&&(null===t&&(t=Ws.empty()),t.set(l.field,m))}return t||null}function Ng(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===l||t&&l&&Oa(t,l,(h,m)=>function hy(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(t=s.transform)instanceof fa&&l instanceof fa||t instanceof Rl&&l instanceof Rl?Oa(t.elements,l.elements,Al):t instanceof zu&&l instanceof zu?Al(t.gt,l.gt):t instanceof Ec&&l instanceof Ec);var t,l}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,l}class ra extends nh{constructor(e,t,l,h=[]){super(),this.key=e,this.value=t,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ol extends nh{constructor(e,t,l,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=l,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Ep(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const l=s.data.field(t);e.set(t,l)}}),e}function kg(s,e,t){const l=new Map;jn(s.length===t.length);for(let h=0;h<t.length;h++){const m=s[h],E=m.transform,k=e.data.field(m.field);l.set(m.field,fo(E,k,t[h]))}return l}function gd(s,e,t){const l=new Map;for(const h of s){const m=h.transform,E=t.data.field(h.field);l.set(h.field,sl(m,E,e))}return l}class au extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wp extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vf{constructor(e,t,l,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,t){const l=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&_p(m,e,l[h])}}applyToLocalView(e,t){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(t=rh(l,e,t,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(t=rh(l,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const l=Da();return this.mutations.forEach(h=>{const m=e.get(h.key),E=m.overlayedDocument;let k=this.applyToLocalView(E,m.mutatedFields);k=t.has(h.key)?null:k;const q=yf(E,k);null!==q&&l.set(h.key,q),E.isValidDocument()||E.convertToNoDocument(Er.min())}),l}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jr())}isEqual(e){return this.batchId===e.batchId&&Oa(this.mutations,e.mutations,(t,l)=>Ng(t,l))&&Oa(this.baseMutations,e.baseMutations,(t,l)=>Ng(t,l))}}class sh{constructor(e,t,l,h){this.batch=e,this.commitVersion=t,this.mutationResults=l,this.docVersions=h}static from(e,t,l){jn(e.mutations.length===l.length);let h=df;const m=e.mutations;for(let E=0;E<m.length;E++)h=h.insert(m[E].key,l[E].version);return new sh(e,t,l,h)}}class Fg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xv{constructor(e,t){this.count=e,this.unchangedNames=t}}var po,Vi;function fy(s){switch(s){default:return Fn();case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0}}function Lg(s){if(void 0===s)return Jn("GRPC error has no .code"),Xe.UNKNOWN;switch(s){case po.OK:return Xe.OK;case po.CANCELLED:return Xe.CANCELLED;case po.UNKNOWN:return Xe.UNKNOWN;case po.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case po.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case po.INTERNAL:return Xe.INTERNAL;case po.UNAVAILABLE:return Xe.UNAVAILABLE;case po.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case po.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case po.NOT_FOUND:return Xe.NOT_FOUND;case po.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case po.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case po.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case po.ABORTED:return Xe.ABORTED;case po.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case po.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case po.DATA_LOSS:return Xe.DATA_LOSS;default:return Fn()}}(Vi=po||(po={}))[Vi.OK=0]="OK",Vi[Vi.CANCELLED=1]="CANCELLED",Vi[Vi.UNKNOWN=2]="UNKNOWN",Vi[Vi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vi[Vi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vi[Vi.NOT_FOUND=5]="NOT_FOUND",Vi[Vi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vi[Vi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vi[Vi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vi[Vi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vi[Vi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vi[Vi.ABORTED=10]="ABORTED",Vi[Vi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vi[Vi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vi[Vi.INTERNAL=13]="INTERNAL",Vi[Vi.UNAVAILABLE=14]="UNAVAILABLE",Vi[Vi.DATA_LOSS=15]="DATA_LOSS";class _f{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ef}static getOrCreateInstance(){return null===Ef&&(Ef=new _f),Ef}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ef=null;function Ip(){return new TextEncoder}const Jv=new Qt([4294967295,4294967295],0);function py(s){const e=Ip().encode(s),t=new jt;return t.update(e),new Uint8Array(t.digest())}function Cp(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Qt([t,l],0),new Qt([h,m],0)]}class bp{constructor(e,t,l){if(this.bitmap=e,this.padding=t,this.hashCount=l,t<0||t>=8)throw new ro(`Invalid padding: ${t}`);if(l<0)throw new ro(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new ro(`Invalid hash count: ${l}`);if(0===e.length&&0!==t)throw new ro(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qt.fromNumber(this.It)}Et(e,t,l){let h=e.add(t.multiply(Qt.fromNumber(l)));return 1===h.compare(Jv)&&(h=new Qt([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=py(e),[l,h]=Cp(t);for(let m=0;m<this.hashCount;m++){const E=this.Et(l,h,m);if(!this.At(E))return!1}return!0}static create(e,t,l){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),E=new bp(m,h,t);return l.forEach(k=>E.insert(k)),E}insert(e){if(0===this.It)return;const t=py(e),[l,h]=Cp(t);for(let m=0;m<this.hashCount;m++){const E=this.Et(l,h,m);this.Rt(E)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oh{constructor(e,t,l,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,l){const h=new Map;return h.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,t,l)),new oh(Er.min(),h,new Wi(ar),no(),Jr())}}class Ic{constructor(e,t,l,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,l){return new Ic(l,t,Jr(),Jr(),Jr())}}class wf{constructor(e,t,l,h){this.Pt=e,this.removedTargetIds=t,this.key=l,this.bt=h}}class e_{constructor(e,t){this.targetId=e,this.Vt=t}}class ah{constructor(e,t,l=bs.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=l,this.cause=h}}class gy{constructor(){this.St=0,this.Dt=$g(),this.Ct=bs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Jr(),t=Jr(),l=Jr();return this.Dt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:l=l.add(h);break;default:Fn()}}),new Ic(this.Ct,this.xt,e,t,l)}Ft(){this.Nt=!1,this.Dt=$g()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class my{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=no(),this.zt=Bg(),this.Wt=new Wi(ar)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const l=this.Zt(t);switch(e.state){case 0:this.te(t)&&l.$t(e.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(e.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(t);break;case 3:this.te(t)&&(l.Kt(),l.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),l.$t(e.resumeToken));break;default:Fn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((l,h)=>{this.te(h)&&t(h)})}ne(e){var t;const l=e.targetId,h=e.Vt.count,m=this.se(l);if(m){const E=m.target;if(hd(E))if(0===h){const k=new Pn(E.path);this.Yt(l,k,Ii.newNoDocument(k,Er.min()))}else jn(1===h);else{const k=this.ie(l);if(k!==h){const q=this.re(e,k);0!==q&&(this.ee(l),this.Wt=this.Wt.insert(l,2===q?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=_f.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(oe,Se,rt){var Ot,Xt,Dn,Hn,qn,ai;const Mi={localCacheCount:Se,existenceFilterCount:rt.count},li=rt.unchangedNames;return li&&(Mi.bloomFilter={applied:0===oe,hashCount:null!==(Ot=null==li?void 0:li.hashCount)&&void 0!==Ot?Ot:0,bitmapLength:null!==(Hn=null===(Dn=null===(Xt=null==li?void 0:li.bits)||void 0===Xt?void 0:Xt.bitmap)||void 0===Dn?void 0:Dn.length)&&void 0!==Hn?Hn:0,padding:null!==(ai=null===(qn=null==li?void 0:li.bits)||void 0===qn?void 0:qn.padding)&&void 0!==ai?ai:0}),Mi}(q,k,e.Vt))}}}}re(e,t){const{unchangedNames:l,count:h}=e.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:m="",padding:E=0},hashCount:k=0}=l;let q,oe;try{q=ho(m).toUint8Array()}catch(Se){if(Se instanceof cc)return bi("Decoding the base64 bloom filter in existence filter failed ("+Se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Se}try{oe=new bp(q,E,k)}catch(Se){return bi(Se instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",Se),1}return 0===oe.It?1:h!==t-this.oe(e.targetId,oe)?2:0}oe(e,t){const l=this.Gt.getRemoteKeysForTarget(e);let h=0;return l.forEach(m=>{const E=this.Gt.ue(),k=`projects/${E.projectId}/databases/${E.database}/documents/${m.path.canonicalString()}`;t.vt(k)||(this.Yt(e,m,null),h++)}),h}ce(e){const t=new Map;this.Qt.forEach((m,E)=>{const k=this.se(E);if(k){if(m.current&&hd(k.target)){const q=new Pn(k.target.path);null!==this.jt.get(q)||this.ae(E,q)||this.Yt(E,q,Ii.newNoDocument(q,e))}m.Mt&&(t.set(E,m.Ot()),m.Ft())}});let l=Jr();this.zt.forEach((m,E)=>{let k=!0;E.forEachWhile(q=>{const oe=this.se(q);return!oe||"TargetPurposeLimboResolution"===oe.purpose||(k=!1,!1)}),k&&(l=l.add(m))}),this.jt.forEach((m,E)=>E.setReadTime(e));const h=new oh(e,t,this.Wt,this.jt,l);return this.jt=no(),this.zt=Bg(),this.Wt=new Wi(ar),h}Jt(e,t){if(!this.te(e))return;const l=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,l),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,l){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,t)?h.Bt(t,1):h.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),l&&(this.jt=this.jt.insert(t,l))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new gy,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ki(ar),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||en("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new gy),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Bg(){return new Wi(Pn.comparator)}function $g(){return new Wi(Pn.comparator)}const Dp={asc:"ASCENDING",desc:"DESCENDING"},yy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sp={and:"AND",or:"OR"};class Tp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function If(s,e){return s.useProto3Json||F(e)?e:{value:e}}function Cc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cf(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vy(s,e){return Cc(s,e.toTimestamp())}function Bs(s){return jn(!!s),Er.fromTimestamp(function(e){const t=La(e);return new Si(t.seconds,t.nanos)}(s))}function md(s,e){return(t=s,new pi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _y(s){const e=pi.fromString(s);return jn(jg(e)),e}function lh(s,e){return md(s.databaseId,e.path)}function lu(s,e){const t=_y(e);if(t.get(1)!==s.databaseId.projectId)throw new Lt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Lt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Pn(Ug(t))}function Vg(s,e){return md(s.databaseId,e)}function t_(s){const e=_y(s);return 4===e.length?pi.emptyPath():Ug(e)}function bf(s){return new pi(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ug(s){return jn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Df(s,e,t){return{name:lh(s,e),fields:t.value.mapValue.fields}}function Ap(s,e,t){const l=lu(s,e.name),h=Bs(e.updateTime),m=e.createTime?Bs(e.createTime):Er.min(),E=new Ws({mapValue:{fields:e.fields}}),k=Ii.newFoundDocument(l,h,m,E);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function Sf(s,e){let t;if(e instanceof ra)t={update:Df(s,e.key,e.value)};else if(e instanceof au)t={delete:lh(s,e.key)};else if(e instanceof ol)t={update:Df(s,e.key,e.data),updateMask:i_(e.fieldMask)};else{if(!(e instanceof wp))return Fn();t={verify:lh(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(l=>function(h,m){const E=m.transform;if(E instanceof Ec)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof fa)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Rl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof zu)return{fieldPath:m.field.canonicalString(),increment:E.gt};throw Fn()}(0,l))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:vy(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Fn()),t;var h}function Ey(s,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?ys.updateTime(Bs(h.updateTime)):void 0!==h.exists?ys.exists(h.exists):ys.none():ys.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(m,E){let k=null;"setToServerValue"in E?(jn("REQUEST_TIME"===E.setToServerValue),k=new Ec):"appendMissingElements"in E?k=new fa(E.appendMissingElements.values||[]):"removeAllFromArray"in E?k=new Rl(E.removeAllFromArray.values||[]):"increment"in E?k=new zu(m,E.increment):Fn();const q=Hi.fromServerFormat(E.fieldPath);return new gf(q,k)}(s,h)):[];var h;if(e.update){const h=lu(s,e.update.name),m=new Ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new Ls((e.updateMask.fieldPaths||[]).map(oe=>Hi.fromServerFormat(oe)));return new ol(h,m,E,t,l)}return new ra(h,m,t,l)}if(e.delete){const h=lu(s,e.delete);return new au(h,t)}if(e.verify){const h=lu(s,e.verify);return new wp(h,t)}return Fn()}function xl(s,e){return{documents:[Vg(s,e.path)]}}function Do(s,e){const t={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(t.parent=Vg(s,l),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vg(s,l.popLast()),t.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(q){if(0!==q.length)return by(ki.create(q,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const m=function(q){if(0!==q.length)return q.map(oe=>{return{field:al((Se=oe).field),direction:wy(Se.dir)};var Se})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const E=If(s,e.limit);var k,q;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt={before:!(q=e.endAt).inclusive,values:q.position}),t}function Lo(s){let e=t_(s.parent);const t=s.structuredQuery,l=t.from?t.from.length:0;let h=null;if(l>0){jn(1===l);const Se=t.from[0];Se.allDescendants?h=Se.collectionId:e=e.child(Se.collectionId)}let m=[];t.where&&(m=function(Se){const rt=Mp(Se);return rt instanceof ki&&pc(rt)?rt.getFilters():[rt]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(Se=>{return new Bu(uu((rt=Se).field),function(Ot){switch(Ot){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(rt.direction));var rt}));let k=null;t.limit&&(k=function(Se){let rt;return rt="object"==typeof Se?Se.value:Se,F(rt)?null:rt}(t.limit));let q=null;var Se;t.startAt&&(q=new Jo((Se=t.startAt).values||[],!!Se.before));let oe=null;return t.endAt&&(oe=function(Se){return new Jo(Se.values||[],!Se.before)}(t.endAt)),_c(e,h,E,m,k,"F",q,oe)}function Mp(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uu(e.unaryFilter.field);return ci.create(t,"==",{doubleValue:NaN});case"IS_NULL":const l=uu(e.unaryFilter.field);return ci.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=uu(e.unaryFilter.field);return ci.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=uu(e.unaryFilter.field);return ci.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Fn()}}(s):void 0!==s.fieldFilter?ci.create(uu((e=s).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return ki.create(e.compositeFilter.filters.map(t=>Mp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Fn()}}(e.compositeFilter.op))}(s):Fn();var e}function wy(s){return Dp[s]}function Iy(s){return yy[s]}function Cy(s){return Sp[s]}function al(s){return{fieldPath:s.canonicalString()}}function uu(s){return Hi.fromServerFormat(s.fieldPath)}function by(s){return s instanceof ci?function(e){if("=="===e.op){if(lf(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NAN"}};if(Ua(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lf(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NAN"}};if(Ua(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(e.field),op:Iy(e.op),value:e.value}}}(s):s instanceof ki?function(e){const t=e.getFilters().map(l=>by(l));return 1===t.length?t[0]:{compositeFilter:{op:Cy(e.op),filters:t}}}(s):Fn()}function i_(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jg(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class cu{constructor(e,t,l,h,m=Er.min(),E=Er.min(),k=bs.EMPTY_BYTE_STRING,q=null){this.target=e,this.targetId=t,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=k,this.expectedCount=q}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class du{constructor(e){this.fe=e}}function ch(s,e){const t=e.key,l={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:lh(h=s.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Cc(h,m.version.toTimestamp()),createTime:Cc(h,m.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:t.path.toArray(),readTime:vd(e.version)};else{if(!e.isUnknownDocument())return Fn();l.unknownDocument={path:t.path.toArray(),version:vd(e.version)}}var h,m;return l}function Hg(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function vd(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dh(s){const e=new Si(s.seconds,s.nanoseconds);return Er.fromTimestamp(e)}function hh(s,e){const t=(e.baseMutations||[]).map(m=>Ey(s.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const l=e.mutations.map(m=>Ey(s.fe,m)),h=Si.fromMillis(e.localWriteTimeMs);return new vf(e.batchId,h,t,l)}function Tf(s){const e=dh(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?dh(s.lastLimboFreeSnapshotVersion):Er.min();let l;var h;return void 0!==s.query.documents?(jn(1===(h=s.query).documents.length),l=O(iu(t_(h.documents[0])))):l=O(Lo(s.query)),new cu(l,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,bs.fromBase64String(s.resumeToken))}function Rp(s,e){const t=vd(e.snapshotVersion),l=vd(e.lastLimboFreeSnapshotVersion);let h;h=hd(e.target)?xl(s.fe,e.target):Do(s.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ja(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function xp(s){const e=Lo({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Ae(e,e.limit,"L"):e}function zg(s,e){return new Fg(e.largestBatchId,Ey(s.fe,e.overlayMutation))}function Dy(s,e){const t=e.path.lastSegment();return[s,Ie(e.path.popLast()),t]}function Sy(s,e,t,l){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:vd(l.readTime),documentKey:Ie(l.documentKey.path),largestBatchId:l.largestBatchId}}class Pp{getBundleMetadata(e,t){return hu(e).get(t).next(l=>{if(l)return{id:(h=l).bundleId,createTime:dh(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return hu(e).put({bundleId:(l=t).id,createTime:vd(Bs(l.createTime)),version:l.version});var l}getNamedQuery(e,t){return fh(e).get(t).next(l=>{if(l)return{name:(h=l).name,query:xp(h.bundledQuery),readTime:dh(h.readTime)};var h})}saveNamedQuery(e,t){return fh(e).put({name:(l=t).name,readTime:vd(Bs(l.readTime)),bundledQuery:l.bundledQuery});var l}}function hu(s){return to(s,"bundles")}function fh(s){return to(s,"namedQueries")}class ph{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new ph(e,t.uid||"")}getOverlay(e,t){return gh(e).get(Dy(this.userId,t)).next(l=>l?zg(this.serializer,l):null)}getOverlays(e,t){const l=Go();return Bt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){const h=[];return l.forEach((m,E)=>{const k=new Fg(t,E);h.push(this.we(e,k))}),Bt.waitFor(h)}removeOverlaysForBatchId(e,t,l){const h=new Set;t.forEach(E=>h.add(Ie(E.getCollectionPath())));const m=[];return h.forEach(E=>{const k=IDBKeyRange.bound([this.userId,E,l],[this.userId,E,l+1],!1,!0);m.push(gh(e).J("collectionPathOverlayIndex",k))}),Bt.waitFor(m)}getOverlaysForCollection(e,t,l){const h=Go(),m=Ie(t),E=IDBKeyRange.bound([this.userId,m,l],[this.userId,m,Number.POSITIVE_INFINITY],!0);return gh(e).j("collectionPathOverlayIndex",E).next(k=>{for(const q of k){const oe=zg(this.serializer,q);h.set(oe.getKey(),oe)}return h})}getOverlaysForCollectionGroup(e,t,l,h){const m=Go();let E;const k=IDBKeyRange.bound([this.userId,t,l],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gh(e).X({index:"collectionGroupOverlayIndex",range:k},(q,oe,Se)=>{const rt=zg(this.serializer,oe);m.size()<h||rt.largestBatchId===E?(m.set(rt.getKey(),rt),E=rt.largestBatchId):Se.done()}).next(()=>m)}we(e,t){return gh(e).put(function(l,h,m){const[E,k,q]=Dy(h,m.mutation.key);return{userId:h,collectionPath:k,documentId:q,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Sf(l.fe,m.mutation)}}(this.serializer,this.userId,t))}}function gh(s){return to(s,"documentOverlays")}class Dc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ms(e.integerValue));else if("doubleValue"in e){const l=ms(e.doubleValue);isNaN(l)?this.ye(t,13):(this.ye(t,15),ee(l)?t.pe(0):t.pe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ye(t,20),"string"==typeof l?t.Ie(l):(t.Ie(`${l.seconds||""}`),t.pe(l.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ho(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const l=e.geoPointValue;this.ye(t,45),t.pe(l.latitude||0),t.pe(l.longitude||0)}else"mapValue"in e?od(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Fn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const l=e.fields||{};this.ye(t,55);for(const h of Object.keys(l))this.Te(h,t),this.me(l[h],t)}Pe(e,t){const l=e.values||[];this.ye(t,50);for(const h of l)this.me(h,t)}ve(e,t){this.ye(t,37),Pn.fromName(e).path.forEach(l=>{this.ye(t,60),this.be(l,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function s0(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function s_(s){const e=64-function(t){let l=0;for(let h=0;h<8;++h){const m=s0(255&t[h]);if(l+=m,8!==m)break}return l}(s);return Math.ceil(e/8)}Dc.Ve=new Dc;class o0{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.De(l.value),l=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let l=t.next();for(;!l.done;)this.Ne(l.value),l=t.next();this.ke()}Me(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.De(l);else if(l<2048)this.De(960|l>>>6),this.De(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.De(480|l>>>12),this.De(128|63&l>>>6),this.De(128|63&l);else{const h=t.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const t of e){const l=t.charCodeAt(0);if(l<128)this.Ne(l);else if(l<2048)this.Ne(960|l>>>6),this.Ne(128|63&l);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l);else{const h=t.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const t=this.Fe(e),l=s_(t);this.Be(1+l),this.buffer[this.position++]=255&l;for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Le(e){const t=this.Fe(e),l=s_(t);this.Be(1+l),this.buffer[this.position++]=~(255&l);for(let h=t.length-l;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),l=0!=(128&t[0]);t[0]^=l?255:128;for(let h=1;h<t.length;++h)t[h]^=l?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let l=2*this.buffer.length;l<t&&(l=t);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class Gg{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class mh{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Op{constructor(){this.je=new o0,this.ze=new Gg(this.je),this.We=new mh(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class yh{constructor(e,t,l,h){this.indexId=e,this.documentKey=t,this.arrayValue=l,this.directionalValue=h}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(t);return l.set(this.directionalValue,0),t!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new yh(this.indexId,this.documentKey,this.arrayValue,l)}}function Gu(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=Wg(s.arrayValue,e.arrayValue),0!==t?t:(t=Wg(s.directionalValue,e.directionalValue),0!==t?t:Pn.comparator(s.documentKey,e.documentKey)))}function Wg(s,e){for(let t=0;t<s.length&&t<e.length;++t){const l=s[t]-e[t];if(0!==l)return l}return s.length-e.length}class o_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const l=t;l.isInequality()?this.Ze=l:this.Xe.push(l)}}tn(e){jn(e.collectionGroup===this.collectionId);const t=Na(e);if(void 0!==t&&!this.en(t))return!1;const l=ka(e);let h=0,m=0;for(;h<l.length&&this.en(l[h]);++h);if(h===l.length)return!0;if(void 0!==this.Ze){const E=l[h];if(!this.nn(this.Ze,E)||!this.sn(this.Ye[m++],E))return!1;++h}for(;h<l.length;++h)if(m>=this.Ye.length||!this.sn(this.Ye[m++],l[h]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ty(s){var e,t;if(jn(s instanceof ci||s instanceof ki),s instanceof ci){if(s instanceof cd){const h=(null===(t=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>ci.create(s.field,"==",m)))||[];return ki.create(h,"or")}return s}const l=s.filters.map(h=>Ty(h));return ki.create(l,s.op)}function a_(s){if(0===s.getFilters().length)return[];const e=_h(Ty(s));return jn(Sc(e)),Np(e)||vh(e)?[e]:e.getFilters()}function Np(s){return s instanceof ci}function vh(s){return s instanceof ki&&pc(s)}function Sc(s){return Np(s)||vh(s)||function(e){if(e instanceof ki&&ea(e)){for(const t of e.getFilters())if(!Np(t)&&!vh(t))return!1;return!0}return!1}(s)}function _h(s){if(jn(s instanceof ci||s instanceof ki),s instanceof ci)return s;if(1===s.filters.length)return _h(s.filters[0]);const e=s.filters.map(l=>_h(l));let t=ki.create(e,s.op);return t=kp(t),Sc(t)?t:(jn(t instanceof ki),jn($u(t)),jn(t.filters.length>1),t.filters.reduce((l,h)=>Af(l,h)))}function Af(s,e){let t;return jn(s instanceof ci||s instanceof ki),jn(e instanceof ci||e instanceof ki),t=s instanceof ci?e instanceof ci?ki.create([s,e],"and"):Ks(s,e):e instanceof ci?Ks(e,s):function(l,h){if(jn(l.filters.length>0&&h.filters.length>0),$u(l)&&$u(h))return ko(l,h.getFilters());const m=ea(l)?l:h,E=ea(l)?h:l,k=m.filters.map(q=>Af(q,E));return ki.create(k,"or")}(s,e),kp(t)}function Ks(s,e){if($u(e))return ko(e,s.getFilters());{const t=e.filters.map(l=>Af(s,l));return ki.create(t,"or")}}function kp(s){if(jn(s instanceof ci||s instanceof ki),s instanceof ci)return s;const e=s.getFilters();if(1===e.length)return kp(e[0]);if(ld(s))return s;const t=e.map(h=>kp(h)),l=[];return t.forEach(h=>{h instanceof ci?l.push(h):h instanceof ki&&(h.op===s.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:ki.create(l,s.op)}class a0{constructor(){this.rn=new Kg}addToCollectionParentIndex(e,t){return this.rn.add(t),Bt.resolve()}getCollectionParents(e,t){return Bt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Bt.resolve()}deleteFieldIndex(e,t){return Bt.resolve()}getDocumentsMatchingTarget(e,t){return Bt.resolve(null)}getIndexType(e,t){return Bt.resolve(0)}getFieldIndexes(e,t){return Bt.resolve([])}getNextCollectionGroupToUpdate(e){return Bt.resolve(null)}getMinOffset(e,t){return Bt.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return Bt.resolve(wo.min())}updateCollectionGroup(e,t,l){return Bt.resolve()}updateIndexEntries(e,t){return Bt.resolve()}}class Kg{constructor(){this.index={}}add(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t]||new Ki(pi.comparator),m=!h.has(l);return this.index[t]=h.add(l),m}has(e){const t=e.lastSegment(),l=e.popLast(),h=this.index[t];return h&&h.has(l)}getEntries(e){return(this.index[e]||new Ki(pi.comparator)).toArray()}}const Fp=new Uint8Array(0);class l0{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Kg,this.un=new Fo(l=>ja(l),(l,h)=>il(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const l=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:l,parent:Ie(h)};return l_(e).put(m)}return Bt.resolve()}getCollectionParents(e,t){const l=[],h=IDBKeyRange.bound([t,""],[Zl(t),""],!1,!0);return l_(e).j(h).next(m=>{for(const E of m){if(E.collectionId!==t)break;l.push(Rn(E.parent))}return l})}addFieldIndex(e,t){const l=qg(e),h={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var E;delete h.indexId;const m=l.add(h);if(t.indexState){const E=Mf(e);return m.next(k=>{E.put(Sy(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const l=qg(e),h=Mf(e),m=Lp(e);return l.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const l=Lp(e);let h=!0;const m=new Map;return Bt.forEach(this.cn(t),E=>this.an(e,E).next(k=>{h&&(h=!!k),m.set(E,k)})).next(()=>{if(h){let E=Jr();const k=[];return Bt.forEach(m,(q,oe)=>{var Se;en("IndexedDbIndexManager",`Using index ${Se=q,`id=${Se.indexId}|cg=${Se.collectionGroup}|f=${Se.fields.map(li=>`${li.fieldPath}:${li.kind}`).join(",")}`} to execute ${ja(t)}`);const rt=function(li,mo){const io=Na(mo);if(void 0===io)return null;for(const vs of fd(li,io.fieldPath))switch(vs.op){case"array-contains-any":return vs.value.arrayValue.values||[];case"array-contains":return[vs.value]}return null}(oe,q),Ot=function(li,mo){const io=new Map;for(const vs of ka(mo))for(const ya of fd(li,vs.fieldPath))switch(ya.op){case"==":case"in":io.set(vs.fieldPath.canonicalString(),ya.value);break;case"not-in":case"!=":return io.set(vs.fieldPath.canonicalString(),ya.value),Array.from(io.values())}return null}(oe,q),Xt=function(li,mo){const io=[];let vs=!0;for(const ya of ka(mo)){const qc=0===ya.kind?mp(li,ya.fieldPath,li.startAt):yp(li,ya.fieldPath,li.startAt);io.push(qc.value),vs&&(vs=qc.inclusive)}return new Jo(io,vs)}(oe,q),Dn=function(li,mo){const io=[];let vs=!0;for(const ya of ka(mo)){const qc=0===ya.kind?yp(li,ya.fieldPath,li.endAt):mp(li,ya.fieldPath,li.endAt);io.push(qc.value),vs&&(vs=qc.inclusive)}return new Jo(io,vs)}(oe,q),Hn=this.hn(q,oe,Xt),qn=this.hn(q,oe,Dn),ai=this.ln(q,oe,Ot),Mi=this.fn(q.indexId,rt,Hn,Xt.inclusive,qn,Dn.inclusive,ai);return Bt.forEach(Mi,li=>l.H(li,t.limit).next(mo=>{mo.forEach(io=>{const vs=Pn.fromSegments(io.documentKey);E.has(vs)||(E=E.add(vs),k.push(vs))})}))}).next(()=>k)}return Bt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:a_(ki.create(e.filters,"and")).map(l=>Xd(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,l,h,m,E,k){const q=(null!=t?t.length:1)*Math.max(l.length,m.length),oe=q/(null!=t?t.length:1),Se=[];for(let rt=0;rt<q;++rt){const Ot=t?this.dn(t[rt/oe]):Fp,Xt=this.wn(e,Ot,l[rt%oe],h),Dn=this._n(e,Ot,m[rt%oe],E),Hn=k.map(qn=>this.wn(e,Ot,qn,!0));Se.push(...this.createRange(Xt,Dn,Hn))}return Se}wn(e,t,l,h){const m=new yh(e,Pn.empty(),t,l);return h?m:m.Je()}_n(e,t,l,h){const m=new yh(e,Pn.empty(),t,l);return h?m.Je():m}an(e,t){const l=new o_(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let E=null;for(const k of m)l.tn(k)&&(!E||k.fields.length>E.fields.length)&&(E=k);return E})}getIndexType(e,t){let l=2;const h=this.cn(t);return Bt.forEach(h,m=>this.an(e,m).next(E=>{E?0!==l&&E.fields.length<function(k){let q=new Ki(Hi.comparator),oe=!1;for(const Se of k.filters)for(const rt of Se.getFlattenedFilters())rt.field.isKeyField()||("array-contains"===rt.op||"array-contains-any"===rt.op?oe=!0:q=q.add(rt.field));for(const Se of k.orderBy)Se.field.isKeyField()||(q=q.add(Se.field));return q.size+(oe?1:0)}(m)&&(l=1):l=0})).next(()=>null!==t.limit&&h.length>1&&2===l?1:l)}mn(e,t){const l=new Op;for(const h of ka(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const E=l.He(h.kind);Dc.Ve._e(m,E)}return l.Qe()}dn(e){const t=new Op;return Dc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const l=new Op;return Dc.Ve._e(tu(this.databaseId,t),l.He(function(h){const m=ka(h);return 0===m.length?0:m[m.length-1].kind}(e))),l.Qe()}ln(e,t,l){if(null===l)return[];let h=[];h.push(new Op);let m=0;for(const E of ka(e)){const k=l[m++];for(const q of h)if(this.yn(t,E.fieldPath)&&sd(k))h=this.pn(h,E,k);else{const oe=q.He(E.kind);Dc.Ve._e(k,oe)}}return this.In(h)}hn(e,t,l){return this.ln(e,t,l.position)}In(e){const t=[];for(let l=0;l<e.length;++l)t[l]=e[l].Qe();return t}pn(e,t,l){const h=[...e],m=[];for(const E of l.arrayValue.values||[])for(const k of h){const q=new Op;q.seed(k.Qe()),Dc.Ve._e(E,q.He(t.kind)),m.push(q)}return m}yn(e,t){return!!e.filters.find(l=>l instanceof ci&&l.field.isEqual(t)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,t){const l=qg(e),h=Mf(e);return(t?l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):l.j()).next(m=>{const E=[];return Bt.forEach(m,k=>h.get([k.indexId,this.uid]).next(q=>{E.push(function(oe,Se){const rt=Se?new Xl(Se.sequenceNumber,new wo(dh(Se.readTime),new Pn(Rn(Se.documentKey)),Se.largestBatchId)):Xl.empty(),Ot=oe.fields.map(([Xt,Dn])=>new El(Hi.fromServerFormat(Xt),Dn));return new da(oe.indexId,oe.collectionGroup,Ot,rt)}(k,q))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((l,h)=>{const m=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:ar(l.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,l){const h=qg(e),m=Mf(e);return this.Tn(e).next(E=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>Bt.forEach(k,q=>m.put(Sy(q.indexId,this.user,E,l)))))}updateIndexEntries(e,t){const l=new Map;return Bt.forEach(t,(h,m)=>{const E=l.get(h.collectionGroup);return(E?Bt.resolve(E):this.getFieldIndexes(e,h.collectionGroup)).next(k=>(l.set(h.collectionGroup,k),Bt.forEach(k,q=>this.En(e,h,q).next(oe=>{const Se=this.An(m,q);return oe.isEqual(Se)?Bt.resolve():this.vn(e,m,q,oe,Se)}))))})}Rn(e,t,l,h){return Lp(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(l,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,l,h){return Lp(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(l,t.key),t.key.path.toArray()])}En(e,t,l){const h=Lp(e);let m=new Ki(Gu);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.gn(l,t)])},(E,k)=>{m=m.add(new yh(l.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>m)}An(e,t){let l=new Ki(Gu);const h=this.mn(t,e);if(null==h)return l;const m=Na(t);if(null!=m){const E=e.data.field(m.fieldPath);if(sd(E))for(const k of E.arrayValue.values||[])l=l.add(new yh(t.indexId,e.key,this.dn(k),h))}else l=l.add(new yh(t.indexId,e.key,Fp,h));return l}vn(e,t,l,h,m){en("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(k,q,oe,Se,rt){const Ot=k.getIterator(),Xt=q.getIterator();let Dn=bl(Ot),Hn=bl(Xt);for(;Dn||Hn;){let qn=!1,ai=!1;if(Dn&&Hn){const Mi=oe(Dn,Hn);Mi<0?ai=!0:Mi>0&&(qn=!0)}else null!=Dn?ai=!0:qn=!0;qn?(Se(Hn),Hn=bl(Xt)):ai?(rt(Dn),Dn=bl(Ot)):(Dn=bl(Ot),Hn=bl(Xt))}}(h,m,Gu,k=>{E.push(this.Rn(e,t,l,k))},k=>{E.push(this.Pn(e,t,l,k))}),Bt.waitFor(E)}Tn(e){let t=1;return Mf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,l){l=l.sort((E,k)=>Gu(E,k)).filter((E,k,q)=>!k||0!==Gu(E,q[k-1]));const h=[];h.push(e);for(const E of l){const k=Gu(E,e),q=Gu(E,t);if(0===k)h[0]=e.Je();else if(k>0&&q<0)h.push(E),h.push(E.Je());else if(q>0)break}h.push(t);const m=[];for(let E=0;E<h.length;E+=2){if(this.bn(h[E],h[E+1]))return[];m.push(IDBKeyRange.bound([h[E].indexId,this.uid,h[E].arrayValue,h[E].directionalValue,Fp,[]],[h[E+1].indexId,this.uid,h[E+1].arrayValue,h[E+1].directionalValue,Fp,[]]))}return m}bn(e,t){return Gu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(u0)}getMinOffset(e,t){return Bt.mapArray(this.cn(t),l=>this.an(e,l).next(h=>h||Fn())).next(u0)}}function l_(s){return to(s,"collectionParents")}function Lp(s){return to(s,"indexEntries")}function qg(s){return to(s,"indexConfiguration")}function Mf(s){return to(s,"indexState")}function u0(s){jn(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let l=1;l<s.length;l++){const h=s[l].indexState.offset;Xc(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new wo(e.readTime,e.documentKey,t)}const c0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(e,t,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qi(s,e,t){const l=s.store("mutations"),h=s.store("documentMutations"),m=[],E=IDBKeyRange.only(t.batchId);let k=0;const q=l.X({range:E},(Se,rt,Ot)=>(k++,Ot.delete()));m.push(q.next(()=>{jn(1===k)}));const oe=[];for(const Se of t.mutations){const rt=is(e,Se.key.path,t.batchId);m.push(h.delete(rt)),oe.push(Se.key)}return Bt.waitFor(m).next(()=>oe)}function Tc(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Fn();e=s.noDocument}return JSON.stringify(e).length}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class Rf{constructor(e,t,l,h){this.userId=e,this.serializer=t,this.indexManager=l,this.referenceDelegate=h,this.Vn={}}static de(e,t,l,h){jn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Rf(m,t,l,h)}checkEmpty(e){let t=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).X({index:"userMutationsIndex",range:l},(h,m,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,l,h){const m=Ac(e),E=Wu(e);return E.add({}).next(k=>{jn("number"==typeof k);const q=new vf(k,t,l,h),oe=function(Ot,Xt,Dn){const Hn=Dn.baseMutations.map(ai=>Sf(Ot.fe,ai)),qn=Dn.mutations.map(ai=>Sf(Ot.fe,ai));return{userId:Xt,batchId:Dn.batchId,localWriteTimeMs:Dn.localWriteTime.toMillis(),baseMutations:Hn,mutations:qn}}(this.serializer,this.userId,q),Se=[];let rt=new Ki((Ot,Xt)=>ar(Ot.canonicalString(),Xt.canonicalString()));for(const Ot of h){const Xt=is(this.userId,Ot.key.path,k);rt=rt.add(Ot.key.path.popLast()),Se.push(E.put(oe)),Se.push(m.put(Xt,eo))}return rt.forEach(Ot=>{Se.push(this.indexManager.addToCollectionParentIndex(e,Ot))}),e.addOnCommittedListener(()=>{this.Vn[k]=q.keys()}),Bt.waitFor(Se).next(()=>q)})}lookupMutationBatch(e,t){return Wu(e).get(t).next(l=>l?(jn(l.userId===this.userId),hh(this.serializer,l)):null)}Sn(e,t){return this.Vn[t]?Bt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(l=>{if(l){const h=l.keys();return this.Vn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const l=t+1,h=IDBKeyRange.lowerBound([this.userId,l]);let m=null;return Wu(e).X({index:"userMutationsIndex",range:h},(E,k,q)=>{k.userId===this.userId&&(jn(k.batchId>=l),m=hh(this.serializer,k)),q.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Wu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(h,m,E)=>{l=m.batchId,E.done()}).next(()=>l)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).j("userMutationsIndex",t).next(l=>l.map(h=>hh(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const l=lr(this.userId,t.path),h=IDBKeyRange.lowerBound(l),m=[];return Ac(e).X({range:h},(E,k,q)=>{const[oe,Se,rt]=E,Ot=Rn(Se);if(oe===this.userId&&t.path.isEqual(Ot))return Wu(e).get(rt).next(Xt=>{if(!Xt)throw Fn();jn(Xt.userId===this.userId),m.push(hh(this.serializer,Xt))});q.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new Ki(ar);const h=[];return t.forEach(m=>{const E=lr(this.userId,m.path),k=IDBKeyRange.lowerBound(E),q=Ac(e).X({range:k},(oe,Se,rt)=>{const[Ot,Xt,Dn]=oe,Hn=Rn(Xt);Ot===this.userId&&m.path.isEqual(Hn)?l=l.add(Dn):rt.done()});h.push(q)}),Bt.waitFor(h).next(()=>this.Dn(e,l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1,m=lr(this.userId,l),E=IDBKeyRange.lowerBound(m);let k=new Ki(ar);return Ac(e).X({range:E},(q,oe,Se)=>{const[rt,Ot,Xt]=q,Dn=Rn(Ot);rt===this.userId&&l.isPrefixOf(Dn)?Dn.length===h&&(k=k.add(Xt)):Se.done()}).next(()=>this.Dn(e,k))}Dn(e,t){const l=[],h=[];return t.forEach(m=>{h.push(Wu(e).get(m).next(E=>{if(null===E)throw Fn();jn(E.userId===this.userId),l.push(hh(this.serializer,E))}))}),Bt.waitFor(h).next(()=>l)}removeMutationBatch(e,t){return qi(e.ht,this.userId,t).next(l=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Bt.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Bt.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return Ac(e).X({range:l},(m,E,k)=>{if(m[0]===this.userId){const q=Rn(m[1]);h.push(q)}else k.done()}).next(()=>{jn(0===h.length)})})}containsKey(e,t){return Yg(e,this.userId,t)}xn(e){return Ay(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Yg(s,e,t){const l=lr(e,t.path),h=l[1],m=IDBKeyRange.lowerBound(l);let E=!1;return Ac(s).X({range:m,Y:!0},(k,q,oe)=>{const[Se,rt,Ot]=k;Se===e&&rt===h&&(E=!0),oe.done()}).next(()=>E)}function Wu(s){return to(s,"mutations")}function Ac(s){return to(s,"documentMutations")}function Ay(s){return to(s,"mutationQueues")}class fu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fu(0)}static Mn(){return new fu(-1)}}class My{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const l=new fu(t.highestTargetId);return t.highestTargetId=l.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Er.fromTimestamp(new Si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,l){return this.$n(e).next(h=>(h.highestListenSequenceNumber=t,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.On(e,h)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(l=>(l.targetCount+=1,this.Bn(t,l),this.On(e,l))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Mc(e).delete(t.targetId)).next(()=>this.$n(e)).next(l=>(jn(l.targetCount>0),l.targetCount-=1,this.On(e,l)))}removeTargets(e,t,l){let h=0;const m=[];return Mc(e).X((E,k)=>{const q=Tf(k);q.sequenceNumber<=t&&null===l.get(q.targetId)&&(h++,m.push(this.removeTargetData(e,q)))}).next(()=>Bt.waitFor(m)).next(()=>h)}forEachTarget(e,t){return Mc(e).X((l,h)=>{const m=Tf(h);t(m)})}$n(e){return xf(e).get("targetGlobalKey").next(t=>(jn(null!==t),t))}On(e,t){return xf(e).put("targetGlobalKey",t)}Fn(e,t){return Mc(e).put(Rp(this.serializer,t))}Bn(e,t){let l=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,l=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const l=ja(t),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let m=null;return Mc(e).X({range:h,index:"queryTargetsIndex"},(E,k,q)=>{const oe=Tf(k);il(t,oe.target)&&(m=oe,q.done())}).next(()=>m)}addMatchingKeys(e,t,l){const h=[],m=Pl(e);return t.forEach(E=>{const k=Ie(E.path);h.push(m.put({targetId:l,path:k})),h.push(this.referenceDelegate.addReference(e,l,E))}),Bt.waitFor(h)}removeMatchingKeys(e,t,l){const h=Pl(e);return Bt.forEach(t,m=>{const E=Ie(m.path);return Bt.waitFor([h.delete([l,E]),this.referenceDelegate.removeReference(e,l,m)])})}removeMatchingKeysForTargetId(e,t){const l=Pl(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,t){const l=IDBKeyRange.bound([t],[t+1],!1,!0),h=Pl(e);let m=Jr();return h.X({range:l,Y:!0},(E,k,q)=>{const oe=Rn(E[1]),Se=new Pn(oe);m=m.add(Se)}).next(()=>m)}containsKey(e,t){const l=Ie(t.path),h=IDBKeyRange.bound([l],[Zl(l)],!1,!0);let m=0;return Pl(e).X({index:"documentTargetsIndex",Y:!0,range:h},([E,k],q,oe)=>{0!==E&&(m++,oe.done())}).next(()=>m>0)}le(e,t){return Mc(e).get(t).next(l=>l?Tf(l):null)}}function Mc(s){return to(s,"targets")}function xf(s){return to(s,"targetGlobal")}function Pl(s){return to(s,"targetDocuments")}function u_([s,e],[t,l]){const h=ar(s,t);return 0===h?ar(e,l):h}class Zg{constructor(e){this.Ln=e,this.buffer=new Ki(u_),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const l=this.buffer.last();u_(t,l)<0&&(this.buffer=this.buffer.delete(l).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qg{constructor(e,t,l){this.garbageCollector=e,this.asyncQueue=t,this.localStore=l,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;en("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(l){Ja(l)?en("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Io(l)}yield t.Qn(3e5)}))}}class Ry{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(l=>Math.floor(t/100*l))}nthSequenceNumber(e,t){if(0===t)return Bt.resolve(D.ct);const l=new Zg(t);return this.jn.forEachTarget(e,h=>l.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>l.Kn(h))).next(()=>l.maxValue)}removeTargets(e,t,l){return this.jn.removeTargets(e,t,l)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector","Garbage collection skipped; disabled"),Bt.resolve(c0)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c0):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let l,h,m,E,k,q,oe;const Se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(rt=>(rt>this.params.maximumSequenceNumbersToCollect?(en("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${rt}`),h=this.params.maximumSequenceNumbersToCollect):h=rt,E=Date.now(),this.nthSequenceNumber(e,h))).next(rt=>(l=rt,k=Date.now(),this.removeTargets(e,l,t))).next(rt=>(m=rt,q=Date.now(),this.removeOrphanedDocuments(e,l))).next(rt=>(oe=Date.now(),Mr()<=ge.in.DEBUG&&en("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Se}ms\n\tDetermined least recently used ${h} in `+(k-E)+`ms\n\tRemoved ${m} targets in `+(q-k)+`ms\n\tRemoved ${rt} documents in `+(oe-q)+`ms\nTotal Duration: ${oe-Se}ms`),Bt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:rt})))}}class c_{constructor(e,t){this.db=e,this.garbageCollector=function pu(s,e){return new Ry(s,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>t.next(h=>l+h))}Jn(e){let t=0;return this.Wn(e,l=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(l,h)=>t(h))}addReference(e,t,l){return Eh(e,l)}removeReference(e,t,l){return Eh(e,l)}removeTargets(e,t,l){return this.db.getTargetCache().removeTargets(e,t,l)}markPotentiallyOrphaned(e,t){return Eh(e,t)}Xn(e,t){return function(l,h){let m=!1;return Ay(l).Z(E=>Yg(l,E,h).next(k=>(k&&(m=!0),Bt.resolve(!k)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Yn(e,(E,k)=>{if(k<=t){const q=this.Xn(e,E).next(oe=>{if(!oe)return m++,l.getEntry(e,E).next(()=>(l.removeEntry(E,Er.min()),Pl(e).delete([0,Ie(E.path)])))});h.push(q)}}).next(()=>Bt.waitFor(h)).next(()=>l.apply(e)).next(()=>m)}removeTarget(e,t){const l=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,t){return Eh(e,t)}Yn(e,t){const l=Pl(e);let h,m=D.ct;return l.X({index:"documentTargetsIndex"},([E,k],{path:q,sequenceNumber:oe})=>{0===E?(m!==D.ct&&t(new Pn(Rn(h)),m),m=oe,h=q):m=D.ct}).next(()=>{m!==D.ct&&t(new Pn(Rn(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Eh(s,e){return Pl(s).put((l=s.currentSequenceNumber,{targetId:0,path:Ie(e.path),sequenceNumber:l}));var l}class Bp{constructor(){this.changes=new Fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const l=this.changes.get(t);return void 0!==l?Bt.resolve(l):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xg{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,l){return Rc(e).put(l)}removeEntry(e,t,l){return Rc(e).delete(function(h,m){const E=h.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Hg(m),E[E.length-1]]}(t,l))}updateMetadata(e,t){return this.getMetadata(e).next(l=>(l.byteSize+=t,this.Zn(e,l)))}getEntry(e,t){let l=Ii.newInvalidDocument(t);return Rc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(t))},(h,m)=>{l=this.ts(t,m)}).next(()=>l)}es(e,t){let l={size:0,document:Ii.newInvalidDocument(t)};return Rc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(t))},(h,m)=>{l={document:this.ts(t,m),size:Tc(m)}}).next(()=>l)}getEntries(e,t){let l=no();return this.ns(e,t,(h,m)=>{const E=this.ts(h,m);l=l.insert(h,E)}).next(()=>l)}ss(e,t){let l=no(),h=new Wi(Pn.comparator);return this.ns(e,t,(m,E)=>{const k=this.ts(m,E);l=l.insert(m,k),h=h.insert(m,Tc(E))}).next(()=>({documents:l,rs:h}))}ns(e,t,l){if(t.isEmpty())return Bt.resolve();let h=new Ki(xy);t.forEach(q=>h=h.add(q));const m=IDBKeyRange.bound(Ed(h.first()),Ed(h.last())),E=h.getIterator();let k=E.getNext();return Rc(e).X({index:"documentKeyIndex",range:m},(q,oe,Se)=>{const rt=Pn.fromSegments([...oe.prefixPath,oe.collectionGroup,oe.documentId]);for(;k&&xy(k,rt)<0;)l(k,null),k=E.getNext();k&&k.isEqual(rt)&&(l(k,oe),k=E.hasNext()?E.getNext():null),k?Se.G(Ed(k)):Se.done()}).next(()=>{for(;k;)l(k,null),k=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,t,l,h){const m=t.path,E=[m.popLast().toArray(),m.lastSegment(),Hg(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],k=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rc(e).j(IDBKeyRange.bound(E,k,!0)).next(q=>{let oe=no();for(const Se of q){const rt=this.ts(Pn.fromSegments(Se.prefixPath.concat(Se.collectionGroup,Se.documentId)),Se);rt.isFoundDocument()&&(kn(t,rt)||h.has(rt.key))&&(oe=oe.insert(rt.key,rt))}return oe})}getAllFromCollectionGroup(e,t,l,h){let m=no();const E=d_(t,l),k=d_(t,wo.max());return Rc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,k,!0)},(q,oe,Se)=>{const rt=this.ts(Pn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);m=m.insert(rt.key,rt),m.size===h&&Se.done()}).next(()=>m)}newChangeBuffer(e){return new Vp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _d(e).get("remoteDocumentGlobalKey").next(t=>(jn(!!t),t))}Zn(e,t){return _d(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const l=function uh(s,e){let t;if(e.document)t=Ap(s.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=Pn.fromSegments(e.noDocument.path),h=dh(e.noDocument.readTime);t=Ii.newNoDocument(l,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fn();{const l=Pn.fromSegments(e.unknownDocument.path),h=dh(e.unknownDocument.version);t=Ii.newUnknownDocument(l,h)}}return e.readTime&&t.setReadTime(function(l){const h=new Si(l[0],l[1]);return Er.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!l.isNoDocument()||!l.version.isEqual(Er.min()))return l}return Ii.newInvalidDocument(e)}}function $p(s){return new Xg(s)}class Vp extends Bp{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Fo(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const t=[];let l=0,h=new Ki((m,E)=>ar(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const k=this.us.get(m);if(t.push(this.os.removeEntry(e,m,k.readTime)),E.isValidDocument()){const q=ch(this.os.serializer,E);h=h.add(m.path.popLast());const oe=Tc(q);l+=oe-k.size,t.push(this.os.addEntry(e,m,q))}else if(l-=k.size,this.trackRemovals){const q=ch(this.os.serializer,E.convertToNoDocument(Er.min()));t.push(this.os.addEntry(e,m,q))}}),h.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,l)),Bt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(l=>(this.us.set(t,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:l,rs:h})=>(h.forEach((m,E)=>{this.us.set(m,{size:E,readTime:l.get(m).readTime})}),l))}}function _d(s){return to(s,"remoteDocumentGlobal")}function Rc(s){return to(s,"remoteDocumentsV14")}function Ed(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d_(s,e){const t=e.documentKey.path.toArray();return[s,Hg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xy(s,e){const t=s.path.toArray(),l=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<l.length-2;++m)if(h=ar(t[m],l[m]),h)return h;return h=ar(t.length,l.length),h||(h=ar(t[t.length-2],l[l.length-2]),h||ar(t[t.length-1],l[l.length-1]))}class Py{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wd{constructor(e,t,l,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,t){let l=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==l&&rh(l.mutation,h,Ls.empty(),Si.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.getLocalViewOfDocuments(e,l,Jr()).next(()=>l))}getLocalViewOfDocuments(e,t,l=Jr()){const h=Go();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,l).next(m=>{let E=Uu();return m.forEach((k,q)=>{E=E.insert(k,q.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const l=Go();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,Jr()))}populateOverlays(e,t,l){const h=[];return l.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((E,k)=>{t.set(E,k)})})}computeViews(e,t,l,h){let m=no();const E=ju(),k=ju();return t.forEach((q,oe)=>{const Se=l.get(oe.key);h.has(oe.key)&&(void 0===Se||Se.mutation instanceof ol)?m=m.insert(oe.key,oe):void 0!==Se?(E.set(oe.key,Se.mutation.getFieldMask()),rh(Se.mutation,oe,Se.mutation.getFieldMask(),Si.now())):E.set(oe.key,Ls.empty())}),this.recalculateAndSaveOverlays(e,m).next(q=>(q.forEach((oe,Se)=>E.set(oe,Se)),t.forEach((oe,Se)=>{var rt;return k.set(oe,new Py(Se,null!==(rt=E.get(oe))&&void 0!==rt?rt:null))}),k))}recalculateAndSaveOverlays(e,t){const l=ju();let h=new Wi((E,k)=>E-k),m=Jr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const k of E)k.keys().forEach(q=>{const oe=t.get(q);if(null===oe)return;let Se=l.get(q)||Ls.empty();Se=k.applyToLocalView(oe,Se),l.set(q,Se);const rt=(h.get(k.batchId)||Jr()).add(q);h=h.insert(k.batchId,rt)})}).next(()=>{const E=[],k=h.getReverseIterator();for(;k.hasNext();){const q=k.getNext(),oe=q.key,Se=q.value,rt=Da();Se.forEach(Ot=>{if(!m.has(Ot)){const Xt=yf(t.get(Ot),l.get(Ot));null!==Xt&&rt.set(Ot,Xt),m=m.add(Ot)}}),E.push(this.documentOverlayCache.saveOverlays(e,oe,rt))}return Bt.waitFor(E)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,t,l){return Pn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,l):this.getDocumentsMatchingCollectionQuery(e,t,l);var h}getNextDocuments(e,t,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,l,h).next(m=>{const E=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,l.largestBatchId,h-m.size):Bt.resolve(Go());let k=-1,q=m;return E.next(oe=>Bt.forEach(oe,(Se,rt)=>(k<rt.largestBatchId&&(k=rt.largestBatchId),m.get(Se)?Bt.resolve():this.remoteDocumentCache.getEntry(e,Se).next(Ot=>{q=q.insert(Se,Ot)}))).next(()=>this.populateOverlays(e,oe,m)).next(()=>this.computeViews(e,q,oe,Jr())).next(Se=>({batchId:k,changes:eh(Se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pn(t)).next(l=>{let h=Uu();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,l){const h=t.collectionGroup;let m=Uu();return this.indexManager.getCollectionParents(e,h).next(E=>Bt.forEach(E,k=>{const q=(oe=t,Se=k.child(h),new Ml(Se,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,Se;return this.getDocumentsMatchingCollectionQuery(e,q,l).next(oe=>{oe.forEach((Se,rt)=>{m=m.insert(Se,rt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,l.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,l,h))).next(m=>{h.forEach((k,q)=>{const oe=q.getKey();null===m.get(oe)&&(m=m.insert(oe,Ii.newInvalidDocument(oe)))});let E=Uu();return m.forEach((k,q)=>{const oe=h.get(k);void 0!==oe&&rh(oe.mutation,q,Ls.empty(),Si.now()),kn(t,q)&&(E=E.insert(k,q))}),E})}}class h_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Bt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var l;return this.cs.set(t.id,{id:(l=t).id,version:l.version,createTime:Bs(l.createTime)}),Bt.resolve()}getNamedQuery(e,t){return Bt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(l=t).name,query:xp(l.bundledQuery),readTime:Bs(l.readTime)}),Bt.resolve();var l}}class f_{constructor(){this.overlays=new Wi(Pn.comparator),this.ls=new Map}getOverlay(e,t){return Bt.resolve(this.overlays.get(t))}getOverlays(e,t){const l=Go();return Bt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,t,l){return l.forEach((h,m)=>{this.we(e,t,m)}),Bt.resolve()}removeOverlaysForBatchId(e,t,l){const h=this.ls.get(l);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(l)),Bt.resolve()}getOverlaysForCollection(e,t,l){const h=Go(),m=t.length+1,E=new Pn(t.child("")),k=this.overlays.getIteratorFrom(E);for(;k.hasNext();){const q=k.getNext().value,oe=q.getKey();if(!t.isPrefixOf(oe.path))break;oe.path.length===m&&q.largestBatchId>l&&h.set(q.getKey(),q)}return Bt.resolve(h)}getOverlaysForCollectionGroup(e,t,l,h){let m=new Wi((oe,Se)=>oe-Se);const E=this.overlays.getIterator();for(;E.hasNext();){const oe=E.getNext().value;if(oe.getKey().getCollectionGroup()===t&&oe.largestBatchId>l){let Se=m.get(oe.largestBatchId);null===Se&&(Se=Go(),m=m.insert(oe.largestBatchId,Se)),Se.set(oe.getKey(),oe)}}const k=Go(),q=m.getIterator();for(;q.hasNext()&&(q.getNext().value.forEach((oe,Se)=>k.set(oe,Se)),!(k.size()>=h)););return Bt.resolve(k)}we(e,t,l){const h=this.overlays.get(l.key);if(null!==h){const E=this.ls.get(h.largestBatchId).delete(l.key);this.ls.set(h.largestBatchId,E)}this.overlays=this.overlays.insert(l.key,new Fg(t,l));let m=this.ls.get(t);void 0===m&&(m=Jr(),this.ls.set(t,m)),this.ls.set(t,m.add(l.key))}}class Jg{constructor(){this.fs=new Ki(go.ds),this.ws=new Ki(go._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const l=new go(e,t);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(e,t){e.forEach(l=>this.addReference(l,t))}removeReference(e,t){this.ys(new go(e,t))}ps(e,t){e.forEach(l=>this.removeReference(l,t))}Is(e){const t=new Pn(new pi([])),l=new go(t,e),h=new go(t,e+1),m=[];return this.ws.forEachInRange([l,h],E=>{this.ys(E),m.push(E.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Pn(new pi([])),l=new go(t,e),h=new go(t,e+1);let m=Jr();return this.ws.forEachInRange([l,h],E=>{m=m.add(E.key)}),m}containsKey(e){const t=new go(e,0),l=this.fs.firstAfterOrEqual(t);return null!==l&&e.isEqual(l.key)}}class go{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Pn.comparator(e.key,t.key)||ar(e.As,t.As)}static _s(e,t){return ar(e.As,t.As)||Pn.comparator(e.key,t.key)}}class Oy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ki(go.ds)}checkEmpty(e){return Bt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,l,h){const m=this.vs;this.vs++;const E=new vf(m,t,l,h);this.mutationQueue.push(E);for(const k of h)this.Rs=this.Rs.add(new go(k.key,m)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Bt.resolve(E)}lookupMutationBatch(e,t){return Bt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.bs(t+1),m=h<0?0:h;return Bt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Bt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const l=new go(t,0),h=new go(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([l,h],E=>{const k=this.Ps(E.As);m.push(k)}),Bt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let l=new Ki(ar);return t.forEach(h=>{const m=new go(h,0),E=new go(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,E],k=>{l=l.add(k.As)})}),Bt.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(e,t){const l=t.path,h=l.length+1;let m=l;Pn.isDocumentKey(m)||(m=m.child(""));const E=new go(new Pn(m),0);let k=new Ki(ar);return this.Rs.forEachWhile(q=>{const oe=q.key.path;return!!l.isPrefixOf(oe)&&(oe.length===h&&(k=k.add(q.As)),!0)},E),Bt.resolve(this.Vs(k))}Vs(e){const t=[];return e.forEach(l=>{const h=this.Ps(l);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){jn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return Bt.forEach(t.mutations,h=>{const m=new go(h.key,t.batchId);return l=l.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=l})}Cn(e){}containsKey(e,t){const l=new go(t,0),h=this.Rs.firstAfterOrEqual(l);return Bt.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Bt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class p_{constructor(e){this.Ds=e,this.docs=new Wi(Pn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const l=t.key,h=this.docs.get(l),m=h?h.size:0,E=this.Ds(t);return this.docs=this.docs.insert(l,{document:t.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const l=this.docs.get(t);return Bt.resolve(l?l.document.mutableCopy():Ii.newInvalidDocument(t))}getEntries(e,t){let l=no();return t.forEach(h=>{const m=this.docs.get(h);l=l.insert(h,m?m.document.mutableCopy():Ii.newInvalidDocument(h))}),Bt.resolve(l)}getDocumentsMatchingQuery(e,t,l,h){let m=no();const E=t.path,k=new Pn(E.child("")),q=this.docs.getIteratorFrom(k);for(;q.hasNext();){const{key:oe,value:{document:Se}}=q.getNext();if(!E.isPrefixOf(oe.path))break;oe.path.length>E.length+1||Xc(wl(Se),l)<=0||(h.has(Se.key)||kn(t,Se))&&(m=m.insert(Se.key,Se.mutableCopy()))}return Bt.resolve(m)}getAllFromCollectionGroup(e,t,l,h){Fn()}Cs(e,t){return Bt.forEach(this.docs,l=>t(l))}newChangeBuffer(e){return new Ny(this)}getSize(e){return Bt.resolve(this.size)}}class Ny extends Bp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?t.push(this.os.addEntry(e,h)):this.os.removeEntry(l)}),Bt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class em{constructor(e){this.persistence=e,this.xs=new Fo(t=>ja(t),il),this.lastRemoteSnapshotVersion=Er.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Jg,this.targetCount=0,this.Ms=fu.kn()}forEachTarget(e,t){return this.xs.forEach((l,h)=>t(h)),Bt.resolve()}getLastRemoteSnapshotVersion(e){return Bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Bt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,l){return l&&(this.lastRemoteSnapshotVersion=l),t>this.Ns&&(this.Ns=t),Bt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Bt.resolve()}updateTargetData(e,t){return this.Fn(t),Bt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Bt.resolve()}removeTargets(e,t,l){let h=0;const m=[];return this.xs.forEach((E,k)=>{k.sequenceNumber<=t&&null===l.get(k.targetId)&&(this.xs.delete(E),m.push(this.removeMatchingKeysForTargetId(e,k.targetId)),h++)}),Bt.waitFor(m).next(()=>h)}getTargetCount(e){return Bt.resolve(this.targetCount)}getTargetData(e,t){const l=this.xs.get(t)||null;return Bt.resolve(l)}addMatchingKeys(e,t,l){return this.ks.gs(t,l),Bt.resolve()}removeMatchingKeys(e,t,l){this.ks.ps(t,l);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(E=>{m.push(h.markPotentiallyOrphaned(e,E))}),Bt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Bt.resolve()}getMatchingKeysForTargetId(e,t){const l=this.ks.Es(t);return Bt.resolve(l)}containsKey(e,t){return Bt.resolve(this.ks.containsKey(t))}}class Pf{constructor(e,t){this.$s={},this.overlays={},this.Os=new D(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new em(this),this.indexManager=new a0,this.remoteDocumentCache=new p_(l=>this.referenceDelegate.Ls(l)),this.serializer=new du(t),this.qs=new h_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let l=this.$s[e.toKey()];return l||(l=new Oy(t,this.referenceDelegate),this.$s[e.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,l){en("MemoryPersistence","Starting transaction:",e);const h=new g_(this.Os.next());return this.referenceDelegate.Us(),l(h).next(m=>this.referenceDelegate.Ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Gs(e,t){return Bt.or(Object.values(this.$s).map(l=>()=>l.containsKey(e,t)))}}class g_ extends Js{constructor(e){super(),this.currentSequenceNumber=e}}class xc{constructor(e){this.persistence=e,this.Qs=new Jg,this.js=null}static zs(e){return new xc(e)}get Ws(){if(this.js)return this.js;throw Fn()}addReference(e,t,l){return this.Qs.addReference(l,t),this.Ws.delete(l.toString()),Bt.resolve()}removeReference(e,t,l){return this.Qs.removeReference(l,t),this.Ws.add(l.toString()),Bt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Bt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(h=>this.Ws.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Ws.add(m.toString()))}).next(()=>l.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bt.forEach(this.Ws,l=>{const h=Pn.fromPath(l);return this.Hs(e,h).next(m=>{m||t.removeEntry(h,Er.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(l=>{l?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Bt.or([()=>Bt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class d0{constructor(e){this.serializer=e}O(e,t,l,h){const m=new Ru("createOrUpgrade",t);var k;l<1&&h>=1&&(e.createObjectStore("owner"),(k=e).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sr,{unique:!0}),k.createObjectStore("documentMutations"),ky(e),function(k){k.createObjectStore("remoteDocuments")}(e));let E=Bt.resolve();return l<3&&h>=3&&(0!==l&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),ky(e)),E=E.next(()=>function(k){const q=k.store("targetGlobal"),oe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Er.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",oe)}(m))),l<4&&h>=4&&(0!==l&&(E=E.next(()=>function(k,q){return q.store("mutations").j().next(oe=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sr,{unique:!0});const Se=q.store("mutations"),rt=oe.map(Ot=>Se.put(Ot));return Bt.waitFor(rt)})}(e,m))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(E=E.next(()=>this.Ys(m))),l<6&&h>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),l<7&&h>=7&&(E=E.next(()=>this.Zs(m))),l<8&&h>=8&&(E=E.next(()=>this.ti(e,m))),l<9&&h>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(E=E.next(()=>this.ei(m))),l<11&&h>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(E=E.next(()=>{!function(k){const q=k.createObjectStore("documentOverlays",{keyPath:cp});q.createIndex("collectionPathOverlayIndex",el,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",dp,{unique:!1})}(e)})),l<13&&h>=13&&(E=E.next(()=>function(k){const q=k.createObjectStore("remoteDocumentsV14",{keyPath:jo});q.createIndex("documentKeyIndex",wa),q.createIndex("collectionGroupIndex",Ou)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(E=E.next(()=>this.si(e,m))),l<15&&h>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:Oo}).createIndex("sequenceNumberIndex",nf,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:ed}).createIndex("documentKeyIndex",Yd,{unique:!1})}(e))),E}Xs(e){let t=0;return e.store("remoteDocuments").X((l,h)=>{t+=Tc(h)}).next(()=>{const l={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Ys(e){const t=e.store("mutationQueues"),l=e.store("mutations");return t.j().next(h=>Bt.forEach(h,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",E).next(k=>Bt.forEach(k,q=>{jn(q.userId===m.userId);const oe=hh(this.serializer,q);return qi(e,m.userId,oe).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return l.X((E,k)=>{const q=new pi(E),oe=[0,Ie(q)];m.push(t.get(oe).next(Se=>Se?Bt.resolve():t.put({targetId:0,path:Ie(q),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Bt.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Jl});const l=t.store("collectionParents"),h=new Kg,m=E=>{if(h.add(E)){const k=E.lastSegment(),q=E.popLast();return l.put({collectionId:k,parent:Ie(q)})}};return t.store("remoteDocuments").X({Y:!0},(E,k)=>{const q=new pi(E);return m(q.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([E,k,q],oe)=>{const Se=Rn(k);return m(Se.popLast())}))}ei(e){const t=e.store("targets");return t.X((l,h)=>{const m=Tf(h),E=Rp(this.serializer,m);return t.put(E)})}ni(e,t){const l=t.store("remoteDocuments"),h=[];return l.X((m,E)=>{const k=t.store("remoteDocumentsV14"),q=(oe=E,oe.document?new Pn(pi.fromString(oe.document.name).popFirst(5)):oe.noDocument?Pn.fromSegments(oe.noDocument.path):oe.unknownDocument?Pn.fromSegments(oe.unknownDocument.path):Fn()).path.toArray();var oe;const Se={prefixPath:q.slice(0,q.length-2),collectionGroup:q[q.length-2],documentId:q[q.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};h.push(k.put(Se))}).next(()=>Bt.waitFor(h))}si(e,t){const l=t.store("mutations"),h=$p(this.serializer),m=new Pf(xc.zs,this.serializer.fe);return l.j().next(E=>{const k=new Map;return E.forEach(q=>{var oe;let Se=null!==(oe=k.get(q.userId))&&void 0!==oe?oe:Jr();hh(this.serializer,q).keys().forEach(rt=>Se=Se.add(rt)),k.set(q.userId,Se)}),Bt.forEach(k,(q,oe)=>{const Se=new yn(oe),rt=ph.de(this.serializer,Se),Ot=m.getIndexManager(Se),Xt=Rf.de(Se,this.serializer,Ot,m.referenceDelegate);return new wd(h,Xt,rt,Ot).recalculateAndSaveOverlaysForDocumentKeys(new nd(t,D.ct),q).next()})})}}function ky(s){s.createObjectStore("targetDocuments",{keyPath:Ia}).createIndex("documentTargetsIndex",Ho,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fa,{unique:!0}),s.createObjectStore("targetGlobal")}const Fy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tm{constructor(e,t,l,h,m,E,k,q,oe,Se,rt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=l,this.ii=m,this.window=E,this.document=k,this.ri=oe,this.oi=Se,this.ui=rt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Ot=>Promise.resolve(),!tm.D())throw new Lt(Xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new c_(this,h),this.di=t+"main",this.serializer=new du(q),this.wi=new Qo(this.di,this.ui,new d0(this.serializer)),this.Bs=new My(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$p(this.serializer),this.qs=new Pp,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Se&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Lt(Xe.FAILED_PRECONDITION,Fy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new D(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var l=(0,y.Z)(function*(h){if(t.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,y.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,y.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Up(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ja(e))return en("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return en("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Ol(e).get("owner").next(t=>Bt.resolve(this.Ri(t)))}Pi(e){return Up(e).delete(this.clientId)}bi(){var e=this;return(0,y.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=to(l,"clientMetadata");return h.j().next(m=>{const E=e.Si(m,18e5),k=m.filter(q=>-1===E.indexOf(q));return Bt.forEach(k,q=>h.delete(q.clientId)).next(()=>k)})}).catch(()=>[]);if(e._i)for(const l of t)e._i.removeItem(e.Di(l.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Bt.resolve(!0):Ol(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Lt(Xe.FAILED_PRECONDITION,Fy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Up(e).j().next(l=>void 0===this.Si(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&en("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,y.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const l=new nd(t,D.ct);return e.Ai(l).next(()=>e.Pi(l))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(l=>this.Vi(l.updateTimeMs,t)&&!this.Ci(l.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Up(e).j().next(t=>this.Si(t,18e5).map(l=>l.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Rf.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new l0(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ph.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,l){en("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(E=this.ui)?td:14===E?eu:13===E?Ca:12===E?rf:11===E?Cl:void Fn();var E;let k;return this.wi.runTransaction(e,h,m,q=>(k=new nd(q,this.Os?this.Os.next():D.ct),"readwrite-primary"===t?this.Ti(k).next(oe=>!!oe||this.Ei(k)).next(oe=>{if(!oe)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Lt(Xe.FAILED_PRECONDITION,ef);return l(k)}).next(oe=>this.vi(k).next(()=>oe)):this.Oi(k).next(()=>l(k)))).then(q=>(k.raiseOnCommittedEvent(),q))}Oi(e){return Ol(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Lt(Xe.FAILED_PRECONDITION,Fy)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ol(e).put("owner",t)}static D(){return Qo.D()}Ai(e){const t=Ol(e);return t.get("owner").next(l=>this.Ri(l)?(en("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Bt.resolve())}Vi(e,t){const l=Date.now();return!(e<l-t||e>l&&(Jn(`Detected an update time that is in the future: ${e} > ${l}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,xe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const l=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return en("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Jn("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ol(s){return to(s,"owner")}function Up(s){return to(s,"clientMetadata")}function wh(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Ih{constructor(e,t,l,h){this.targetId=e,this.fromCache=t,this.Fi=l,this.Bi=h}static Li(e,t){let l=Jr(),h=Jr();for(const m of t.docChanges)switch(m.type){case 0:l=l.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Ih(e,t.fromCache,l,h)}}class Ch{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,l,h){return this.Ki(e,t).next(m=>m||this.Gi(e,t,h,l)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(vp(t))return Bt.resolve(null);let l=O(t);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=Ae(t,null,"F"),l=O(t)),this.indexManager.getDocumentsMatchingTarget(e,l).next(m=>{const E=Jr(...m);return this.Ui.getDocuments(e,E).next(k=>this.indexManager.getMinOffset(e,l).next(q=>{const oe=this.ji(t,k);return this.zi(t,oe,E,q.readTime)?this.Ki(e,Ae(t,null,"F")):this.Wi(e,oe,t,q)}))})))}Gi(e,t,l,h){return vp(t)||h.isEqual(Er.min())?this.Qi(e,t):this.Ui.getDocuments(e,l).next(m=>{const E=this.ji(t,m);return this.zi(t,E,l,h)?this.Qi(e,t):(Mr()<=ge.in.DEBUG&&en("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),An(t)),this.Wi(e,E,t,Mu(h,-1)))})}ji(e,t){let l=new Ki(gi(e));return t.forEach((h,m)=>{kn(e,m)&&(l=l.add(m))}),l}zi(e,t,l,h){if(null===e.limit)return!1;if(l.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Qi(e,t){return Mr()<=ge.in.DEBUG&&en("QueryEngine","Using full collection scan to execute query:",An(t)),this.Ui.getDocumentsMatchingQuery(e,t,wo.min())}Wi(e,t,l,h){return this.Ui.getDocumentsMatchingQuery(e,l,h).next(m=>(t.forEach(E=>{m=m.insert(E.key,E)}),m))}}class jp{constructor(e,t,l,h){this.persistence=e,this.Hi=t,this.serializer=h,this.Ji=new Wi(ar),this.Yi=new Fo(m=>ja(m),il),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(l)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wd(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Nf(s,e,t,l){return new jp(s,e,t,l)}function hs(s,e){return xr.apply(this,arguments)}function xr(){return xr=(0,y.Z)(function*(s,e){const t=Tn(s);return yield t.persistence.runTransaction("Handle user change","readonly",l=>{let h;return t.mutationQueue.getAllMutationBatches(l).next(m=>(h=m,t.tr(e),t.mutationQueue.getAllMutationBatches(l))).next(m=>{const E=[],k=[];let q=Jr();for(const oe of h){E.push(oe.batchId);for(const Se of oe.mutations)q=q.add(Se.key)}for(const oe of m){k.push(oe.batchId);for(const Se of oe.mutations)q=q.add(Se.key)}return t.localDocuments.getDocuments(l,q).next(oe=>({er:oe,removedBatchIds:E,addedBatchIds:k}))})})}),xr.apply(this,arguments)}function kf(s){const e=Tn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function bh(s,e,t){let l=Jr(),h=Jr();return t.forEach(m=>l=l.add(m)),e.getEntries(s,l).next(m=>{let E=no();return t.forEach((k,q)=>{const oe=m.get(k);q.isFoundDocument()!==oe.isFoundDocument()&&(h=h.add(k)),q.isNoDocument()&&q.version.isEqual(Er.min())?(e.removeEntry(k,q.readTime),E=E.insert(k,q)):!oe.isValidDocument()||q.version.compareTo(oe.version)>0||0===q.version.compareTo(oe.version)&&oe.hasPendingWrites?(e.addEntry(q),E=E.insert(k,q)):en("LocalStore","Ignoring outdated watch update for ",k,". Current version:",oe.version," Watch version:",q.version)}),{nr:E,sr:h}})}function h0(s,e){const t=Tn(s);return t.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Pc(s,e){const t=Tn(s);return t.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return t.Bs.getTargetData(l,e).next(m=>m?(h=m,Bt.resolve(h)):t.Bs.allocateTargetId(l).next(E=>(h=new cu(e,E,"TargetPurposeListen",l.currentSequenceNumber),t.Bs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=t.Ji.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(l.targetId,l),t.Yi.set(e,l.targetId)),l})}function Oc(s,e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,y.Z)(function*(s,e,t){const l=Tn(s),h=l.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield l.persistence.runTransaction("Release target",m,E=>l.persistence.referenceDelegate.removeTarget(E,h)))}catch(E){if(!Ja(E))throw E;en("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}l.Ji=l.Ji.remove(e),l.Yi.delete(h.target)}),Ff.apply(this,arguments)}function Lf(s,e,t){const l=Tn(s);let h=Er.min(),m=Jr();return l.persistence.runTransaction("Execute query","readonly",E=>function(k,q,oe){const Se=Tn(k),rt=Se.Yi.get(oe);return void 0!==rt?Bt.resolve(Se.Ji.get(rt)):Se.Bs.getTargetData(q,oe)}(l,E,O(e)).next(k=>{if(k)return h=k.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(E,k.targetId).next(q=>{m=q})}).next(()=>l.Hi.getDocumentsMatchingQuery(E,e,t?h:Er.min(),t?m:Jr())).next(k=>(rm(l,wr(e),k),{documents:k,ir:m})))}function Ly(s,e){const t=Tn(s),l=Tn(t.Bs),h=t.Ji.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>l.le(m,e).next(E=>E?E.target:null))}function nm(s,e){const t=Tn(s),l=t.Xi.get(e)||Er.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Zi.getAllFromCollectionGroup(h,e,Mu(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(rm(t,e,h),h))}function rm(s,e,t){let l=s.Xi.get(e)||Er.min();t.forEach((h,m)=>{m.readTime.compareTo(l)>0&&(l=m.readTime)}),s.Xi.set(e,l)}function im(){return im=(0,y.Z)(function*(s,e,t,l){const h=Tn(s);let m=Jr(),E=no();for(const oe of t){const Se=e.rr(oe.metadata.name);oe.document&&(m=m.add(Se));const rt=e.ur(oe);rt.setReadTime(e.cr(oe.metadata.readTime)),E=E.insert(Se,rt)}const k=h.Zi.newChangeBuffer({trackRemovals:!0}),q=yield Pc(h,(oe=l,O(iu(pi.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",oe=>bh(oe,k,E).next(Se=>(k.apply(oe),Se)).next(Se=>h.Bs.removeMatchingKeysForTargetId(oe,q.targetId).next(()=>h.Bs.addMatchingKeys(oe,m,q.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(oe,Se.nr,Se.sr)).next(()=>Se.nr)))}),im.apply(this,arguments)}function f0(s,e){return sm.apply(this,arguments)}function sm(){return sm=(0,y.Z)(function*(s,e,t=Jr()){const l=yield Pc(s,O(xp(e.bundledQuery))),h=Tn(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const E=Bs(e.readTime);if(l.snapshotVersion.compareTo(E)>=0)return h.qs.saveNamedQuery(m,e);const k=l.withResumeToken(bs.EMPTY_BYTE_STRING,E);return h.Ji=h.Ji.insert(k.targetId,k),h.Bs.updateTargetData(m,k).next(()=>h.Bs.removeMatchingKeysForTargetId(m,l.targetId)).next(()=>h.Bs.addMatchingKeys(m,t,l.targetId)).next(()=>h.qs.saveNamedQuery(m,e))})}),sm.apply(this,arguments)}function Ku(s,e){return`firestore_clients_${s}_${e}`}function Bf(s,e,t){let l=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function zp(s,e){return`firestore_targets_${s}_${e}`}class qu{constructor(e,t,l,h){this.user=e,this.batchId=t,this.state=l,this.error=h}static ar(e,t,l){const h=JSON.parse(l);let m,E="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return E&&h.error&&(E="string"==typeof h.error.message&&"string"==typeof h.error.code,E&&(m=new Lt(h.error.code,h.error.message))),E?new qu(e,t,h.state,m):(Jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${l}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nl{constructor(e,t,l){this.targetId=e,this.state=t,this.error=l}static ar(e,t){const l=JSON.parse(t);let h,m="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new Lt(l.error.code,l.error.message))),m?new Nl(e,l.state,h):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qs{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const l=JSON.parse(t);let h="object"==typeof l&&l.activeTargetIds instanceof Array,m=th();for(let E=0;h&&E<l.activeTargetIds.length;++E)h=Re(l.activeTargetIds[E]),m=m.add(l.activeTargetIds[E]);return h?new qs(e,m):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class om{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new om(t.clientId,t.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gp{constructor(){this.activeTargetIds=th()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class am{constructor(e,t,l,h,m){this.window=e,this.ii=t,this.persistenceKey=l,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Wi(ar),this.started=!1,this.yr=[];const E=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=Ku(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Gp),this.Tr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.Z)(function*(){const t=yield e.syncEngine.$i();for(const h of t){if(h===e.wr)continue;const m=e.getItem(Ku(e.persistenceKey,h));if(m){const E=qs.ar(h,m);E&&(e.gr=e.gr.insert(E.clientId,E))}}e.Pr();const l=e.storage.getItem(e.vr);if(l){const h=e.br(l);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((l,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,l){this.Dr(e,t,l),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(zp(this.persistenceKey,e));if(l){const h=Nl.ar(e,l);h&&(t=h.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zp(this.persistenceKey,e))}updateQueryState(e,t,l){this.kr(e,t,l)}handleUserChange(e,t,l){t.forEach(h=>{this.Cr(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return en("SharedClientState","READ",e,t),t}setItem(e,t){en("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){en("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const l=e;if(l.storageArea===this.storage){if(en("SharedClientState","EVENT",l.key,l.newValue),l.key===this.pr)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,y.Z)(function*(){if(t.started){if(null!==l.key)if(t.Tr.test(l.key)){if(null==l.newValue){const h=t.Or(l.key);return t.Fr(h,null)}{const h=t.Br(l.key,l.newValue);if(h)return t.Fr(h.clientId,h)}}else if(t.Er.test(l.key)){if(null!==l.newValue){const h=t.Lr(l.key,l.newValue);if(h)return t.qr(h)}}else if(t.Ar.test(l.key)){if(null!==l.newValue){const h=t.Ur(l.key,l.newValue);if(h)return t.Kr(h)}}else if(l.key===t.vr){if(null!==l.newValue){const h=t.br(l.newValue);if(h)return t.Vr(h)}}else if(l.key===t.Ir){const h=function(m){let E=D.ct;if(null!=m)try{const k=JSON.parse(m);jn("number"==typeof k),E=k}catch(k){Jn("SharedClientState","Failed to read sequence number from WebStorage",k)}return E}(l.newValue);h!==D.ct&&t.sequenceNumberHandler(h)}else if(l.key===t.Rr){const h=t.Gr(l.newValue);yield Promise.all(h.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(l)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,l){const h=new qu(this.currentUser,e,t,l),m=Bf(this.persistenceKey,this.currentUser,e);this.setItem(m,h.hr())}Cr(e){const t=Bf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,l){const h=zp(this.persistenceKey,e),m=new Nl(e,t,l);this.setItem(h,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const l=this.Or(e);return qs.ar(l,t)}Lr(e,t){const l=this.Er.exec(e),h=Number(l[1]);return qu.ar(new yn(void 0!==l[2]?l[2]:null),h,t)}Ur(e,t){const l=this.Ar.exec(e),h=Number(l[1]);return Nl.ar(h,t)}br(e){return om.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,y.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);en("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const l=t?this.gr.insert(e,t):this.gr.remove(e),h=this.Sr(this.gr),m=this.Sr(l),E=[],k=[];return m.forEach(q=>{h.has(q)||E.push(q)}),h.forEach(q=>{m.has(q)||k.push(q)}),this.syncEngine.Wr(E,k).then(()=>{this.gr=l})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=th();return e.forEach((l,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class lm{constructor(){this.Hr=new Gp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,l){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,l){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Gp,Promise.resolve()}handleUserChange(e,t,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class p0{Yr(e){}shutdown(){}}class $y{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){en("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){en("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kl=null;function Wp(){return null===kl?kl=268435456+Math.round(2147483648*Math.random()):kl++,"0x"+kl.toString(16)}const Nc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cd{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ks="WebChannelConnection";class um extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,l,h,m){const E=Wp(),k=this.To(e,t);en("RestConnection",`Sending RPC '${e}' ${E}:`,k,l);const q={};return this.Eo(q,h,m),this.Ao(e,k,q,l).then(oe=>(en("RestConnection",`Received RPC '${e}' ${E}: `,oe),oe),oe=>{throw bi("RestConnection",`RPC '${e}' ${E} failed with error: `,oe,"url: ",k,"request:",l),oe})}vo(e,t,l,h,m,E){return this.Io(e,t,l,h,m)}Eo(e,t,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+qr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),l&&l.headers.forEach((h,m)=>e[m]=h)}To(e,t){return`${this.mo}/v1/${t}:${Nc[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,l,h){const m=Wp();return new Promise((E,k)=>{const q=new qe;q.setWithCredentials(!0),q.listenOnce(ua.COMPLETE,()=>{try{switch(q.getLastErrorCode()){case Xa.NO_ERROR:const Se=q.getResponseJson();en(ks,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Se)),E(Se);break;case Xa.TIMEOUT:en(ks,`RPC '${e}' ${m} timed out`),k(new Lt(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:const rt=q.getStatus();if(en(ks,`RPC '${e}' ${m} failed with status:`,rt,"response text:",q.getResponseText()),rt>0){let Ot=q.getResponseJson();Array.isArray(Ot)&&(Ot=Ot[0]);const Xt=null==Ot?void 0:Ot.error;if(Xt&&Xt.status&&Xt.message){const Dn=function(Hn){const qn=Hn.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(qn)>=0?qn:Xe.UNKNOWN}(Xt.status);k(new Lt(Dn,Xt.message))}else k(new Lt(Xe.UNKNOWN,"Server responded with status "+q.getStatus()))}else k(new Lt(Xe.UNAVAILABLE,"Connection failed."));break;default:Fn()}}finally{en(ks,`RPC '${e}' ${m} completed.`)}});const oe=JSON.stringify(h);en(ks,`RPC '${e}' ${m} sending request:`,h),q.send(t,"POST",oe,l,15)})}Ro(e,t,l){const h=Wp(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=xa(),k=zs(),q={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},oe=this.longPollingOptions.timeoutSeconds;void 0!==oe&&(q.longPollingTimeout=Math.round(1e3*oe)),this.useFetchStreams&&(q.xmlHttpFactory=new j({})),this.Eo(q.initMessageHeaders,t,l),q.encodeInitMessageHeaders=!0;const Se=m.join("");en(ks,`Creating RPC '${e}' stream ${h}: ${Se}`,q);const rt=E.createWebChannel(Se,q);let Ot=!1,Xt=!1;const Dn=new Cd({ro:qn=>{Xt?en(ks,`Not sending because RPC '${e}' stream ${h} is closed:`,qn):(Ot||(en(ks,`Opening RPC '${e}' stream ${h} transport.`),rt.open(),Ot=!0),en(ks,`RPC '${e}' stream ${h} sending:`,qn),rt.send(qn))},oo:()=>rt.close()}),Hn=(qn,ai,Mi)=>{qn.listen(ai,li=>{try{Mi(li)}catch(mo){setTimeout(()=>{throw mo},0)}})};return Hn(rt,ye.EventType.OPEN,()=>{Xt||en(ks,`RPC '${e}' stream ${h} transport opened.`)}),Hn(rt,ye.EventType.CLOSE,()=>{Xt||(Xt=!0,en(ks,`RPC '${e}' stream ${h} transport closed`),Dn.wo())}),Hn(rt,ye.EventType.ERROR,qn=>{Xt||(Xt=!0,bi(ks,`RPC '${e}' stream ${h} transport errored:`,qn),Dn.wo(new Lt(Xe.UNAVAILABLE,"The operation could not be completed")))}),Hn(rt,ye.EventType.MESSAGE,qn=>{var ai;if(!Xt){const Mi=qn.data[0];jn(!!Mi);const mo=Mi.error||(null===(ai=Mi[0])||void 0===ai?void 0:ai.error);if(mo){en(ks,`RPC '${e}' stream ${h} received error:`,mo);const io=mo.status;let vs=function(qc){const $v=po[qc];if(void 0!==$v)return Lg($v)}(io),ya=mo.message;void 0===vs&&(vs=Xe.INTERNAL,ya="Unknown error status: "+io+" with message "+mo.message),Xt=!0,Dn.wo(new Lt(vs,ya)),rt.close()}else en(ks,`RPC '${e}' stream ${h} received:`,Mi),Dn._o(Mi)}}),Hn(k,$.STAT_EVENT,qn=>{qn.stat===re.PROXY?en(ks,`RPC '${e}' stream ${h} detected buffering proxy`):qn.stat===re.NOPROXY&&en(ks,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Dn.fo()},0),Dn}}function pa(){return typeof window<"u"?window:null}function $f(){return typeof document<"u"?document:null}function Vf(s){return new Tp(s,!0)}class bd{constructor(e,t,l=1e3,h=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=l,this.bo=h,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),h=Math.max(0,t-l);h>0&&en("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class cm{constructor(e,t,l,h,m,E,k,q){this.ii=e,this.$o=l,this.Oo=h,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=k,this.listener=q,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bd(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,y.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,y.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var l=this;return(0,y.Z)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==e?l.qo.reset():t&&t.code===Xe.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):t&&t.code===Xe.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Fo===t&&this.Zo(l,h)},l=>{e(()=>{const h=new Lt(Xe.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(h)})})}Zo(e,t){const l=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{l(()=>this.tu(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,y.Z)(function*(){e.state=0,e.start()}))}tu(e){return en("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(en("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dm extends cm{constructor(e,t,l,h,m,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,l,h,E),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function n_(s,e){let t;if("targetChange"in e){const l="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Fn(),h=e.targetChange.targetIds||[],m=function(q,oe){return q.useProto3Json?(jn(void 0===oe||"string"==typeof oe),bs.fromBase64String(oe||"")):(jn(void 0===oe||oe instanceof Uint8Array),bs.fromUint8Array(oe||new Uint8Array))}(s,e.targetChange.resumeToken),E=e.targetChange.cause,k=E&&function(q){const oe=void 0===q.code?Xe.UNKNOWN:Lg(q.code);return new Lt(oe,q.message||"")}(E);t=new ah(l,h,m,k||null)}else if("documentChange"in e){const l=e.documentChange,h=lu(s,l.document.name),m=Bs(l.document.updateTime),E=l.document.createTime?Bs(l.document.createTime):Er.min(),k=new Ws({mapValue:{fields:l.document.fields}}),q=Ii.newFoundDocument(h,m,E,k);t=new wf(l.targetIds||[],l.removedTargetIds||[],q.key,q)}else if("documentDelete"in e){const l=e.documentDelete,h=lu(s,l.document),m=l.readTime?Bs(l.readTime):Er.min(),E=Ii.newNoDocument(h,m);t=new wf([],l.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const l=e.documentRemove,h=lu(s,l.document);t=new wf([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return Fn();{const l=e.filter,{count:h=0,unchangedNames:m}=l,E=new Xv(h,m);t=new e_(l.targetId,E)}}var q;return t}(this.serializer,e),l=function(h){if(!("targetChange"in h))return Er.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Er.min():m.readTime?Bs(m.readTime):Er.min()}(e);return this.listener.nu(t,l)}su(e){const t={};t.database=bf(this.serializer),t.addTarget=function(h,m){let E;const k=m.target;if(E=hd(k)?{documents:xl(h,k)}:{query:Do(h,k)},E.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){E.resumeToken=Cf(h,m.resumeToken);const q=If(h,m.expectedCount);null!==q&&(E.expectedCount=q)}else if(m.snapshotVersion.compareTo(Er.min())>0){E.readTime=Cc(h,m.snapshotVersion.toTimestamp());const q=If(h,m.expectedCount);null!==q&&(E.expectedCount=q)}return E}(this.serializer,e);const l=function bc(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);l&&(t.labels=l),this.Wo(t)}iu(e){const t={};t.database=bf(this.serializer),t.removeTarget=e,this.Wo(t)}}class Uf extends cm{constructor(e,t,l,h,m,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,l,h,E),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function r_(s,e){return s&&s.length>0?(jn(void 0!==e),s.map(t=>function(l,h){let m=Bs(l.updateTime?l.updateTime:h);return m.isEqual(Er.min())&&(m=Bs(h)),new mf(m,l.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),l=Bs(e.commitTime);return this.listener.cu(l,t)}return jn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=bf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(l=>Sf(this.serializer,l))};this.Wo(t)}}class Vy extends class{}{constructor(e,t,l,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=l,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new Lt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Io(e,t,l,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Lt(Xe.UNKNOWN,h.toString())})}vo(e,t,l,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.vo(e,t,l,m,E,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Lt(Xe.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class Dh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Jn(t),this.mu=!1):en("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Sh{constructor(e,t,l,h,m){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(k=>{l.enqueueAndForget((0,y.Z)(function*(){var q;kc(E)&&(en("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,y.Z)(function*(oe){const Se=Tn(oe);Se.vu.add(4),yield Fl(Se),Se.bu.set("Unknown"),Se.vu.delete(4),yield Th(Se)}),function(oe){return q.apply(this,arguments)})(E))}))}),this.bu=new Dh(l,h)}}function Th(s){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,y.Z)(function*(s){if(kc(s))for(const e of s.Ru)yield e(!0)}),Bo.apply(this,arguments)}function Fl(s){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,y.Z)(function*(s){for(const e of s.Ru)yield e(!1)}),Ah.apply(this,arguments)}function Mh(s,e){const t=Tn(s);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),pm(t)?fm(t):$c(t).Ko()&&Kp(t,e))}function Hf(s,e){const t=Tn(s),l=$c(t);t.Au.delete(e),l.Ko()&&hm(t,e),0===t.Au.size&&(l.Ko()?l.jo():kc(t)&&t.bu.set("Unknown"))}function Kp(s,e){if(s.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Er.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$c(s).su(e)}function hm(s,e){s.Vu.qt(e),$c(s).iu(e)}function fm(s){s.Vu=new my({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),le:e=>s.Au.get(e)||null,ue:()=>s.datastore.serializer.databaseId}),$c(s).start(),s.bu.gu()}function pm(s){return kc(s)&&!$c(s).Uo()&&s.Au.size>0}function kc(s){return 0===Tn(s).vu.size}function ll(s){s.Vu=void 0}function Fc(s){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,y.Z)(function*(s){s.Au.forEach((e,t)=>{Kp(s,e)})}),Ll.apply(this,arguments)}function m0(s,e){return qp.apply(this,arguments)}function qp(){return qp=(0,y.Z)(function*(s,e){ll(s),pm(s)?(s.bu.Iu(e),fm(s)):s.bu.set("Unknown")}),qp.apply(this,arguments)}function y0(s,e,t){return ia.apply(this,arguments)}function ia(){return ia=(0,y.Z)(function*(s,e,t){if(s.bu.set("Online"),e instanceof ah&&2===e.state&&e.cause)try{yield(l=(0,y.Z)(function*(h,m){const E=m.cause;for(const k of m.targetIds)h.Au.has(k)&&(yield h.remoteSyncer.rejectListen(k,E),h.Au.delete(k),h.Vu.removeTarget(k))}),function(h,m){return l.apply(this,arguments)})(s,e)}catch(l){en("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Lc(s,l)}else if(e instanceof wf?s.Vu.Ht(e):e instanceof e_?s.Vu.ne(e):s.Vu.Xt(e),!t.isEqual(Er.min()))try{const l=yield kf(s.localStore);t.compareTo(l)>=0&&(yield function(h,m){const E=h.Vu.ce(m);return E.targetChanges.forEach((k,q)=>{if(k.resumeToken.approximateByteSize()>0){const oe=h.Au.get(q);oe&&h.Au.set(q,oe.withResumeToken(k.resumeToken,m))}}),E.targetMismatches.forEach((k,q)=>{const oe=h.Au.get(k);if(!oe)return;h.Au.set(k,oe.withResumeToken(bs.EMPTY_BYTE_STRING,oe.snapshotVersion)),hm(h,k);const Se=new cu(oe.target,k,q,oe.sequenceNumber);Kp(h,Se)}),h.remoteSyncer.applyRemoteEvent(E)}(s,t))}catch(l){en("RemoteStore","Failed to raise snapshot:",l),yield Lc(s,l)}var l}),ia.apply(this,arguments)}function Lc(s,e,t){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,y.Z)(function*(s,e,t){if(!Ja(e))throw e;s.vu.add(1),yield Fl(s),s.bu.set("Offline"),t||(t=()=>kf(s.localStore)),s.asyncQueue.enqueueRetryable((0,y.Z)(function*(){en("RemoteStore","Retrying IndexedDB access"),yield t(),s.vu.delete(1),yield Th(s)}))}),Uy.apply(this,arguments)}function Dd(s,e){return e().catch(t=>Lc(s,t,e))}function gu(s){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,y.Z)(function*(s){const e=Tn(s),t=Yu(e);let l=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gm(e);)try{const h=yield h0(e.localStore,l);if(null===h){0===e.Eu.length&&t.jo();break}l=h.batchId,jy(e,h)}catch(h){yield Lc(e,h)}Yr(e)&&Zp(e)}),Yp.apply(this,arguments)}function gm(s){return kc(s)&&s.Eu.length<10}function jy(s,e){s.Eu.push(e);const t=Yu(s);t.Ko()&&t.ou&&t.uu(e.mutations)}function Yr(s){return kc(s)&&!Yu(s).Uo()&&s.Eu.length>0}function Zp(s){Yu(s).start()}function mm(s){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,y.Z)(function*(s){Yu(s).hu()}),Hy.apply(this,arguments)}function m_(s){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,y.Z)(function*(s){const e=Yu(s);for(const t of s.Eu)e.uu(t.mutations)}),Ha.apply(this,arguments)}function mu(s,e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,y.Z)(function*(s,e,t){const l=s.Eu.shift(),h=sh.from(l,e,t);yield Dd(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield gu(s)}),Rh.apply(this,arguments)}function zy(s,e){return ym.apply(this,arguments)}function ym(){return ym=(0,y.Z)(function*(s,e){var t;e&&Yu(s).ou&&(yield(t=(0,y.Z)(function*(l,h){if(fy(m=h.code)&&m!==Xe.ABORTED){const E=l.Eu.shift();Yu(l).Qo(),yield Dd(l,()=>l.remoteSyncer.rejectFailedWrite(E.batchId,h)),yield gu(l)}var m}),function(l,h){return t.apply(this,arguments)})(s,e)),Yr(s)&&Zp(s)}),ym.apply(this,arguments)}function Bc(s,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,y.Z)(function*(s,e){const t=Tn(s);t.asyncQueue.verifyOperationInProgress(),en("RemoteStore","RemoteStore received new credentials");const l=kc(t);t.vu.add(3),yield Fl(t),l&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Th(t)}),Sd.apply(this,arguments)}function Qp(s,e){return vm.apply(this,arguments)}function vm(){return vm=(0,y.Z)(function*(s,e){const t=Tn(s);e?(t.vu.delete(2),yield Th(t)):e||(t.vu.add(2),yield Fl(t),t.bu.set("Unknown"))}),vm.apply(this,arguments)}function $c(s){return s.Su||(s.Su=function(e,t,l){const h=Tn(e);return h.fu(),new dm(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:Fc.bind(null,s),ao:m0.bind(null,s),nu:y0.bind(null,s)}),s.Ru.push(function(){var e=(0,y.Z)(function*(t){t?(s.Su.Qo(),pm(s)?fm(s):s.bu.set("Unknown")):(yield s.Su.stop(),ll(s))});return function(t){return e.apply(this,arguments)}}())),s.Su}function Yu(s){return s.Du||(s.Du=function(e,t,l){const h=Tn(e);return h.fu(),new Uf(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:mm.bind(null,s),ao:zy.bind(null,s),au:m_.bind(null,s),cu:mu.bind(null,s)}),s.Ru.push(function(){var e=(0,y.Z)(function*(t){t?(s.Du.Qo(),yield gu(s)):(yield s.Du.stop(),s.Eu.length>0&&(en("RemoteStore",`Stopping write stream with ${s.Eu.length} pending writes`),s.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),s.Du}class yu{constructor(e,t,l,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=l,this.op=h,this.removalCallback=m,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,l,h,m){const E=Date.now()+l,k=new yu(e,t,E,h,m);return k.start(l),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bl(s,e){if(Jn("AsyncQueue",`${e}: ${s}`),Ja(s))return new Lt(Xe.UNAVAILABLE,`${e}: ${s}`);throw s}class Td{constructor(e){this.comparator=e?(t,l)=>e(t,l)||Pn.comparator(t.key,l.key):(t,l)=>Pn.comparator(t.key,l.key),this.keyedMap=Uu(),this.sortedSet=new Wi(this.comparator)}static emptySet(e){return new Td(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,l)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=l.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const l=new Td;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=t,l}}class _m{constructor(){this.Cu=new Wi(Pn.comparator)}track(e){const t=e.doc.key,l=this.Cu.get(t);l?0!==e.type&&3===l.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==l.type?this.Cu=this.Cu.insert(t,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Cu=this.Cu.remove(t):1===e.type&&2===l.type?this.Cu=this.Cu.insert(t,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Fn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,l)=>{e.push(l)}),e}}class vu{constructor(e,t,l,h,m,E,k,q,oe){this.query=e,this.docs=t,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=k,this.excludesMetadataChanges=q,this.hasCachedResults=oe}static fromInitialDocuments(e,t,l,h,m){const E=[];return t.forEach(k=>{E.push({type:0,doc:k})}),new vu(e,t,Td.emptySet(t),E,l,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,l=e.docChanges;if(t.length!==l.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==l[h].type||!t[h].doc.isEqual(l[h].doc))return!1;return!0}}class Zu{constructor(){this.Nu=void 0,this.listeners=[]}}class zf{constructor(){this.queries=new Fo(e=>zt(e),wt),this.onlineState="Unknown",this.ku=new Set}}function Ad(s,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,y.Z)(function*(s,e){const t=Tn(s),l=e.query;let h=!1,m=t.queries.get(l);if(m||(h=!0,m=new Zu),h)try{m.Nu=yield t.onListen(l)}catch(E){const k=Bl(E,`Initialization of query '${An(e.query)}' failed`);return void e.onError(k)}t.queries.set(l,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&Md(t)}),Xp.apply(this,arguments)}function xh(s,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,y.Z)(function*(s,e){const t=Tn(s),l=e.query;let h=!1;const m=t.queries.get(l);if(m){const E=m.listeners.indexOf(e);E>=0&&(m.listeners.splice(E,1),h=0===m.listeners.length)}if(h)return t.queries.delete(l),t.onUnlisten(l)}),Gf.apply(this,arguments)}function Em(s,e){const t=Tn(s);let l=!1;for(const h of e){const E=t.queries.get(h.query);if(E){for(const k of E.listeners)k.$u(h)&&(l=!0);E.Nu=h}}l&&Md(t)}function sa(s,e,t){const l=Tn(s),h=l.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);l.queries.delete(e)}function Md(s){s.ku.forEach(e=>{e.next()})}class wm{constructor(e,t,l){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new vu(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ph{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Im{constructor(e){this.serializer=e}rr(e){return lu(this.serializer,e)}ur(e){return e.metadata.exists?Ap(this.serializer,e.document,!1):Ii.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Bs(e)}}class Gy{constructor(e,t,l){this.ju=e,this.localStore=t,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Wy(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const l=pi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,l=new Im(this.serializer);for(const h of e)if(h.metadata.queries){const m=l.rr(h.metadata.name);for(const E of h.metadata.queries){const k=(t.get(E)||Jr()).add(m);t.set(E,k)}}return t}complete(){var e=this;return(0,y.Z)(function*(){const t=yield function By(s,e,t,l){return im.apply(this,arguments)}(e.localStore,new Im(e.serializer),e.documents,e.ju.id),l=e.Wu(e.documents);for(const h of e.queries)yield f0(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Wy(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class ul{constructor(e){this.key=e}}class Ky{constructor(e){this.key=e}}class qy{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Jr(),this.mutatedKeys=Jr(),this.tc=gi(e),this.ec=new Td(this.tc)}get nc(){return this.Yu}sc(e,t){const l=t?t.ic:new _m,h=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,E=h,k=!1;const q="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,oe="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Se,rt)=>{const Ot=h.get(Se),Xt=kn(this.query,rt)?rt:null,Dn=!!Ot&&this.mutatedKeys.has(Ot.key),Hn=!!Xt&&(Xt.hasLocalMutations||this.mutatedKeys.has(Xt.key)&&Xt.hasCommittedMutations);let qn=!1;Ot&&Xt?Ot.data.isEqual(Xt.data)?Dn!==Hn&&(l.track({type:3,doc:Xt}),qn=!0):this.rc(Ot,Xt)||(l.track({type:2,doc:Xt}),qn=!0,(q&&this.tc(Xt,q)>0||oe&&this.tc(Xt,oe)<0)&&(k=!0)):!Ot&&Xt?(l.track({type:0,doc:Xt}),qn=!0):Ot&&!Xt&&(l.track({type:1,doc:Ot}),qn=!0,(q||oe)&&(k=!0)),qn&&(Xt?(E=E.add(Xt),m=Hn?m.add(Se):m.delete(Se)):(E=E.delete(Se),m=m.delete(Se)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Se="F"===this.query.limitType?E.last():E.first();E=E.delete(Se.key),m=m.delete(Se.key),l.track({type:1,doc:Se})}return{ec:E,ic:l,zi:k,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,l){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((oe,Se)=>function(rt,Ot){const Xt=Dn=>{switch(Dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fn()}};return Xt(rt)-Xt(Ot)}(oe.type,Se.type)||this.tc(oe.doc,Se.doc)),this.oc(l);const E=t?this.uc():[],k=0===this.Zu.size&&this.current?1:0,q=k!==this.Xu;return this.Xu=k,0!==m.length||q?{snapshot:new vu(this.query,e.ec,h,m,e.mutatedKeys,0===k,q,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:E}:{cc:E}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _m,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Jr(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const t=[];return e.forEach(l=>{this.Zu.has(l)||t.push(new Ky(l))}),this.Zu.forEach(l=>{e.has(l)||t.push(new ul(l))}),t}hc(e){this.Yu=e.ir,this.Zu=Jr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return vu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Yy{constructor(e,t,l){this.query=e,this.targetId=t,this.view=l}}class Zy{constructor(e){this.key=e,this.fc=!1}}class Qy{constructor(e,t,l,h,m,E){this.localStore=e,this.remoteStore=t,this.eventManager=l,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.dc={},this.wc=new Fo(k=>zt(k),wt),this._c=new Map,this.mc=new Set,this.gc=new Wi(Pn.comparator),this.yc=new Map,this.Ic=new Jg,this.Tc={},this.Ec=new Map,this.Ac=fu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Rd(s,e){return ga.apply(this,arguments)}function ga(){return ga=(0,y.Z)(function*(s,e){const t=Om(s);let l,h;const m=t.wc.get(e);if(m)l=m.targetId,t.sharedClientState.addLocalQueryTarget(l),h=m.view.lc();else{const E=yield Pc(t.localStore,O(e)),k=t.sharedClientState.addLocalQueryTarget(E.targetId);l=E.targetId,h=yield Cm(t,e,l,"current"===k,E.resumeToken),t.isPrimaryClient&&Mh(t.remoteStore,E)}return h}),ga.apply(this,arguments)}function Cm(s,e,t,l,h){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,y.Z)(function*(s,e,t,l,h){s.Rc=(rt,Ot,Xt)=>{return(Dn=(0,y.Z)(function*(Hn,qn,ai,Mi){let li=qn.view.sc(ai);li.zi&&(li=yield Lf(Hn.localStore,qn.query,!1).then(({documents:vs})=>qn.view.sc(vs,li)));const mo=Mi&&Mi.targetChanges.get(qn.targetId),io=qn.view.applyChanges(li,Hn.isPrimaryClient,mo);return sg(Hn,qn.targetId,io.cc),io.snapshot}),function(Hn,qn,ai,Mi){return Dn.apply(this,arguments)})(s,rt,Ot,Xt);var Dn};const m=yield Lf(s.localStore,e,!0),E=new qy(e,m.ir),k=E.sc(m.documents),q=Ic.createSynthesizedTargetChangeForCurrentChange(t,l&&"Offline"!==s.onlineState,h),oe=E.applyChanges(k,s.isPrimaryClient,q);sg(s,t,oe.cc);const Se=new Yy(e,t,E);return s.wc.set(e,Se),s._c.has(t)?s._c.get(t).push(e):s._c.set(t,[e]),oe.snapshot}),Jp.apply(this,arguments)}function v0(s,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,y.Z)(function*(s,e){const t=Tn(s),l=t.wc.get(e),h=t._c.get(l.targetId);if(h.length>1)return t._c.set(l.targetId,h.filter(m=>!wt(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(l.targetId),t.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Oc(t.localStore,l.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(l.targetId),Hf(t.remoteStore,l.targetId),Vc(t,l.targetId)}).catch(Io))):(Vc(t,l.targetId),yield Oc(t.localStore,l.targetId,!0))}),Wf.apply(this,arguments)}function eg(){return eg=(0,y.Z)(function*(s,e,t){const l=dg(s);try{const h=yield function(m,E){const k=Tn(m),q=Si.now(),oe=E.reduce((Ot,Xt)=>Ot.add(Xt.key),Jr());let Se,rt;return k.persistence.runTransaction("Locally write mutations","readwrite",Ot=>{let Xt=no(),Dn=Jr();return k.Zi.getEntries(Ot,oe).next(Hn=>{Xt=Hn,Xt.forEach((qn,ai)=>{ai.isValidDocument()||(Dn=Dn.add(qn))})}).next(()=>k.localDocuments.getOverlayedDocuments(Ot,Xt)).next(Hn=>{Se=Hn;const qn=[];for(const ai of E){const Mi=ih(ai,Se.get(ai.key).overlayedDocument);null!=Mi&&qn.push(new ol(ai.key,Mi,fp(Mi.value.mapValue),ys.exists(!0)))}return k.mutationQueue.addMutationBatch(Ot,q,qn,E)}).next(Hn=>{rt=Hn;const qn=Hn.applyToLocalDocumentSet(Se,Dn);return k.documentOverlayCache.saveOverlays(Ot,Hn.batchId,qn)})}).then(()=>({batchId:rt.batchId,changes:eh(Se)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(m,E,k){let q=m.Tc[m.currentUser.toKey()];q||(q=new Wi(ar)),q=q.insert(E,k),m.Tc[m.currentUser.toKey()]=q}(l,h.batchId,t),yield $l(l,h.changes),yield gu(l.remoteStore)}catch(h){const m=Bl(h,"Failed to persist write");t.reject(m)}}),eg.apply(this,arguments)}function tg(s,e){return ng.apply(this,arguments)}function ng(){return ng=(0,y.Z)(function*(s,e){const t=Tn(s);try{const l=yield function Hp(s,e){const t=Tn(s),l=e.snapshotVersion;let h=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=t.Zi.newChangeBuffer({trackRemovals:!0});h=t.Ji;const k=[];e.targetChanges.forEach((Se,rt)=>{const Ot=h.get(rt);if(!Ot)return;k.push(t.Bs.removeMatchingKeys(m,Se.removedDocuments,rt).next(()=>t.Bs.addMatchingKeys(m,Se.addedDocuments,rt)));let Xt=Ot.withSequenceNumber(m.currentSequenceNumber);var Dn,Hn,qn;null!==e.targetMismatches.get(rt)?Xt=Xt.withResumeToken(bs.EMPTY_BYTE_STRING,Er.min()).withLastLimboFreeSnapshotVersion(Er.min()):Se.resumeToken.approximateByteSize()>0&&(Xt=Xt.withResumeToken(Se.resumeToken,l)),h=h.insert(rt,Xt),Hn=Xt,qn=Se,(0===(Dn=Ot).resumeToken.approximateByteSize()||Hn.snapshotVersion.toMicroseconds()-Dn.snapshotVersion.toMicroseconds()>=3e8||qn.addedDocuments.size+qn.modifiedDocuments.size+qn.removedDocuments.size>0)&&k.push(t.Bs.updateTargetData(m,Xt))});let q=no(),oe=Jr();if(e.documentUpdates.forEach(Se=>{e.resolvedLimboDocuments.has(Se)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(m,Se))}),k.push(bh(m,E,e.documentUpdates).next(Se=>{q=Se.nr,oe=Se.sr})),!l.isEqual(Er.min())){const Se=t.Bs.getLastRemoteSnapshotVersion(m).next(rt=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,l));k.push(Se)}return Bt.waitFor(k).next(()=>E.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,q,oe)).next(()=>q)}).then(m=>(t.Ji=h,m))}(t.localStore,e);e.targetChanges.forEach((h,m)=>{const E=t.yc.get(m);E&&(jn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?E.fc=!0:h.modifiedDocuments.size>0?jn(E.fc):h.removedDocuments.size>0&&(jn(E.fc),E.fc=!1))}),yield $l(t,l,e)}catch(l){yield Io(l)}}),ng.apply(this,arguments)}function bm(s,e,t){const l=Tn(s);if(l.isPrimaryClient&&0===t||!l.isPrimaryClient&&1===t){const h=[];l.wc.forEach((m,E)=>{const k=E.view.Mu(e);k.snapshot&&h.push(k.snapshot)}),function(m,E){const k=Tn(m);k.onlineState=E;let q=!1;k.queries.forEach((oe,Se)=>{for(const rt of Se.listeners)rt.Mu(E)&&(q=!0)}),q&&Md(k)}(l.eventManager,e),h.length&&l.dc.nu(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function y_(s,e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,y.Z)(function*(s,e,t){const l=Tn(s);l.sharedClientState.updateQueryState(e,"rejected",t);const h=l.yc.get(e),m=h&&h.key;if(m){let E=new Wi(Pn.comparator);E=E.insert(m,Ii.newNoDocument(m,Er.min()));const k=Jr().add(m),q=new oh(Er.min(),new Map,new Wi(ar),E,k);yield tg(l,q),l.gc=l.gc.remove(m),l.yc.delete(e),Rm(l)}else yield Oc(l.localStore,e,!1).then(()=>Vc(l,e,t)).catch(Io)}),Dm.apply(this,arguments)}function Sm(s,e){return rg.apply(this,arguments)}function rg(){return rg=(0,y.Z)(function*(s,e){const t=Tn(s),l=e.batch.batchId;try{const h=yield function Id(s,e){const t=Tn(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(E,k,q,oe){const Se=q.batch,rt=Se.keys();let Ot=Bt.resolve();return rt.forEach(Xt=>{Ot=Ot.next(()=>oe.getEntry(k,Xt)).next(Dn=>{const Hn=q.docVersions.get(Xt);jn(null!==Hn),Dn.version.compareTo(Hn)<0&&(Se.applyToRemoteDocument(Dn,q),Dn.isValidDocument()&&(Dn.setReadTime(q.commitVersion),oe.addEntry(Dn)))})}),Ot.next(()=>E.mutationQueue.removeMutationBatch(k,Se))}(t,l,e,m).next(()=>m.apply(l)).next(()=>t.mutationQueue.performConsistencyCheck(l)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(E){let k=Jr();for(let q=0;q<E.mutationResults.length;++q)E.mutationResults[q].transformResults.length>0&&(k=k.add(E.batch.mutations[q].key));return k}(e))).next(()=>t.localDocuments.getDocuments(l,h))})}(t.localStore,e);Kf(t,l,null),za(t,l),t.sharedClientState.updateMutationState(l,"acknowledged"),yield $l(t,h)}catch(h){yield Io(h)}}),rg.apply(this,arguments)}function v_(s,e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,y.Z)(function*(s,e,t){const l=Tn(s);try{const h=yield function(m,E){const k=Tn(m);return k.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let oe;return k.mutationQueue.lookupMutationBatch(q,E).next(Se=>(jn(null!==Se),oe=Se.keys(),k.mutationQueue.removeMutationBatch(q,Se))).next(()=>k.mutationQueue.performConsistencyCheck(q)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(q,oe,E)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,oe)).next(()=>k.localDocuments.getDocuments(q,oe))})}(l.localStore,e);Kf(l,e,t),za(l,e),l.sharedClientState.updateMutationState(e,"rejected",t),yield $l(l,h)}catch(h){yield Io(h)}}),Tm.apply(this,arguments)}function Am(){return Am=(0,y.Z)(function*(s,e){const t=Tn(s);kc(t.remoteStore)||en("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(m){const E=Tn(m);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>E.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===l)return void e.resolve();const h=t.Ec.get(l)||[];h.push(e),t.Ec.set(l,h)}catch(l){const h=Bl(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Am.apply(this,arguments)}function za(s,e){(s.Ec.get(e)||[]).forEach(t=>{t.resolve()}),s.Ec.delete(e)}function Kf(s,e,t){const l=Tn(s);let h=l.Tc[l.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),l.Tc[l.currentUser.toKey()]=h}}function Vc(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s._c.get(e))s.wc.delete(l),t&&s.dc.Pc(l,t);s._c.delete(e),s.isPrimaryClient&&s.Ic.Is(e).forEach(l=>{s.Ic.containsKey(l)||ig(s,l)})}function ig(s,e){s.mc.delete(e.path.canonicalString());const t=s.gc.get(e);null!==t&&(Hf(s.remoteStore,t),s.gc=s.gc.remove(e),s.yc.delete(t),Rm(s))}function sg(s,e,t){for(const l of t)l instanceof ul?(s.Ic.addReference(l.key,e),Mm(s,l)):l instanceof Ky?(en("SyncEngine","Document no longer in limbo: "+l.key),s.Ic.removeReference(l.key,e),s.Ic.containsKey(l.key)||ig(s,l.key)):Fn()}function Mm(s,e){const t=e.key,l=t.path.canonicalString();s.gc.get(t)||s.mc.has(l)||(en("SyncEngine","New document in limbo: "+t),s.mc.add(l),Rm(s))}function Rm(s){for(;s.mc.size>0&&s.gc.size<s.maxConcurrentLimboResolutions;){const e=s.mc.values().next().value;s.mc.delete(e);const t=new Pn(pi.fromString(e)),l=s.Ac.next();s.yc.set(l,new Zy(t)),s.gc=s.gc.insert(t,l),Mh(s.remoteStore,new cu(O(iu(t.path)),l,"TargetPurposeLimboResolution",D.ct))}}function $l(s,e,t){return og.apply(this,arguments)}function og(){return og=(0,y.Z)(function*(s,e,t){const l=Tn(s),h=[],m=[],E=[];var k;l.wc.isEmpty()||(l.wc.forEach((k,q)=>{E.push(l.Rc(q,e,t).then(oe=>{if((oe||t)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(q.targetId,null!=oe&&oe.fromCache?"not-current":"current"),oe){h.push(oe);const Se=Ih.Li(q.targetId,oe);m.push(Se)}}))}),yield Promise.all(E),l.dc.nu(h),yield(k=(0,y.Z)(function*(q,oe){const Se=Tn(q);try{yield Se.persistence.runTransaction("notifyLocalViewChanges","readwrite",rt=>Bt.forEach(oe,Ot=>Bt.forEach(Ot.Fi,Xt=>Se.persistence.referenceDelegate.addReference(rt,Ot.targetId,Xt)).next(()=>Bt.forEach(Ot.Bi,Xt=>Se.persistence.referenceDelegate.removeReference(rt,Ot.targetId,Xt)))))}catch(rt){if(!Ja(rt))throw rt;en("LocalStore","Failed to update sequence numbers: "+rt)}for(const rt of oe){const Ot=rt.targetId;if(!rt.fromCache){const Xt=Se.Ji.get(Ot),Hn=Xt.withLastLimboFreeSnapshotVersion(Xt.snapshotVersion);Se.Ji=Se.Ji.insert(Ot,Hn)}}}),function(q,oe){return k.apply(this,arguments)})(l.localStore,m))}),og.apply(this,arguments)}function _0(s,e){return ag.apply(this,arguments)}function ag(){return ag=(0,y.Z)(function*(s,e){const t=Tn(s);if(!t.currentUser.isEqual(e)){en("SyncEngine","User change. New user:",e.toKey());const l=yield hs(t.localStore,e);t.currentUser=e,(h=t).Ec.forEach(E=>{E.forEach(k=>{k.reject(new Lt(Xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),t.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield $l(t,l.er)}var h}),ag.apply(this,arguments)}function ev(s,e){const t=Tn(s),l=t.yc.get(e);if(l&&l.fc)return Jr().add(l.key);{let h=Jr();const m=t._c.get(e);if(!m)return h;for(const E of m){const k=t.wc.get(E);h=h.unionWith(k.view.nc)}return h}}function tv(s,e){return lg.apply(this,arguments)}function lg(){return lg=(0,y.Z)(function*(s,e){const t=Tn(s),l=yield Lf(t.localStore,e.query,!0),h=e.view.hc(l);return t.isPrimaryClient&&sg(t,e.targetId,h.cc),h}),lg.apply(this,arguments)}function xm(s,e){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,y.Z)(function*(s,e){const t=Tn(s);return nm(t.localStore,e).then(l=>$l(t,l))}),Vl.apply(this,arguments)}function nv(s,e,t,l){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,y.Z)(function*(s,e,t,l){const h=Tn(s),m=yield function(E,k){const q=Tn(E),oe=Tn(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",Se=>oe.Sn(Se,k).next(rt=>rt?q.localDocuments.getDocuments(Se,rt):Bt.resolve(null)))}(h.localStore,e);var k;null!==m?("pending"===t?yield gu(h.remoteStore):"acknowledged"===t||"rejected"===t?(Kf(h,e,l||null),za(h,e),k=e,Tn(Tn(h.localStore).mutationQueue).Cn(k)):Fn(),yield $l(h,m)):en("SyncEngine","Cannot apply mutation batch with id: "+e)}),Pm.apply(this,arguments)}function ug(){return ug=(0,y.Z)(function*(s,e){const t=Tn(s);if(Om(t),dg(t),!0===e&&!0!==t.vc){const l=t.sharedClientState.getAllActiveQueryTargets(),h=yield __(t,l.toArray());t.vc=!0,yield Qp(t.remoteStore,!0);for(const m of h)Mh(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const l=[];let h=Promise.resolve();t._c.forEach((m,E)=>{t.sharedClientState.isLocalQueryTarget(E)?l.push(E):h=h.then(()=>(Vc(t,E),Oc(t.localStore,E,!0))),Hf(t.remoteStore,E)}),yield h,yield __(t,l),function(m){const E=Tn(m);E.yc.forEach((k,q)=>{Hf(E.remoteStore,q)}),E.Ic.Ts(),E.yc=new Map,E.gc=new Wi(Pn.comparator)}(t),t.vc=!1,yield Qp(t.remoteStore,!1)}}),ug.apply(this,arguments)}function __(s,e,t){return iv.apply(this,arguments)}function iv(){return iv=(0,y.Z)(function*(s,e,t){const l=Tn(s),h=[],m=[];for(const E of e){let k;const q=l._c.get(E);if(q&&0!==q.length){k=yield Pc(l.localStore,O(q[0]));for(const oe of q){const Se=l.wc.get(oe),rt=yield tv(l,Se);rt.snapshot&&m.push(rt.snapshot)}}else{const oe=yield Ly(l.localStore,E);k=yield Pc(l.localStore,oe),yield Cm(l,E_(oe),E,!1,k.resumeToken)}h.push(k)}return l.dc.nu(m),h}),iv.apply(this,arguments)}function E_(s){return _c(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function sv(s){const e=Tn(s);return Tn(Tn(e.localStore).persistence).$i()}function cg(s,e,t,l){return xd.apply(this,arguments)}function xd(){return xd=(0,y.Z)(function*(s,e,t,l){const h=Tn(s);if(h.vc)return void en("SyncEngine","Ignoring unexpected query state notification.");const m=h._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const E=yield nm(h.localStore,wr(m[0])),k=oh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,bs.EMPTY_BYTE_STRING);yield $l(h,E,k);break}case"rejected":yield Oc(h.localStore,e,!0),Vc(h,e,l);break;default:Fn()}}),xd.apply(this,arguments)}function Oh(s,e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,y.Z)(function*(s,e,t){const l=Om(s);if(l.vc){for(const h of e){if(l._c.has(h)){en("SyncEngine","Adding an already active target "+h);continue}const m=yield Ly(l.localStore,h),E=yield Pc(l.localStore,m);yield Cm(l,E_(m),E.targetId,!1,E.resumeToken),Mh(l.remoteStore,E)}for(const h of t)l._c.has(h)&&(yield Oc(l.localStore,h,!1).then(()=>{Hf(l.remoteStore,h),Vc(l,h)}).catch(Io))}}),Sa.apply(this,arguments)}function Om(s){const e=Tn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=tg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ev.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y_.bind(null,e),e.dc.nu=Em.bind(null,e.eventManager),e.dc.Pc=sa.bind(null,e.eventManager),e}function dg(s){const e=Tn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v_.bind(null,e),e}class qf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,y.Z)(function*(){t.serializer=Vf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Nf(this.persistence,new Ch,e.initialUser,this.serializer)}createPersistence(e){return new Pf(xc.zs,this.serializer)}createSharedClientState(e){return new lm}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nm extends qf{constructor(e,t,l){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,l=this;return(0,y.Z)(function*(){yield t().call(l,e),yield l.Vc.initialize(l,e),yield dg(l.Vc.syncEngine),yield gu(l.Vc.remoteStore),yield l.persistence.Ii(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Nf(this.persistence,new Ch,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Qg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const l=new N(t,this.persistence);return new M(e.asyncQueue,l)}createPersistence(e){const t=wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new tm(this.synchronizeTabs,t,e.clientId,l,e.asyncQueue,pa(),$f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lm}}class fg extends Nm{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,l=this;return(0,y.Z)(function*(){yield t().call(l,e);const h=l.Vc.syncEngine;l.sharedClientState instanceof am&&(l.sharedClientState.syncEngine={jr:nv.bind(null,h),zr:cg.bind(null,h),Wr:Oh.bind(null,h),$i:sv.bind(null,h),Qr:xm.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.Ii(function(){var m=(0,y.Z)(function*(E){yield function rv(s,e){return ug.apply(this,arguments)}(l.Vc.syncEngine,E),l.gcScheduler&&(E&&!l.gcScheduler.started?l.gcScheduler.start():E||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(E&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():E||l.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=pa();if(!am.D(t))throw new Lt(Xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new am(t,e.asyncQueue,l,e.clientId,e.initialUser)}}class Nh{initialize(e,t){var l=this;return(0,y.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(t),l.remoteStore=l.createRemoteStore(t),l.eventManager=l.createEventManager(t),l.syncEngine=l.createSyncEngine(t,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>bm(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=_0.bind(null,l.syncEngine),yield Qp(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zf}createDatastore(e){const t=Vf(e.databaseInfo.databaseId),l=new um(e.databaseInfo);return new Vy(e.authCredentials,e.appCheckCredentials,l,t)}createRemoteStore(e){return t=this.localStore,l=this.datastore,h=e.asyncQueue,m=k=>bm(this.syncEngine,k,0),E=$y.D()?new $y:new p0,new Sh(t,l,h,m,E);var t,l,h,m,E}createSyncEngine(e,t){return function(l,h,m,E,k,q,oe){const Se=new Qy(l,h,m,E,k,q);return oe&&(Se.vc=!0),Se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,y.Z)(function*(t){const l=Tn(t);en("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield Fl(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Pd(s,e=10240){let t=0;return{read:()=>(0,y.Z)(function*(){if(t<s.byteLength){const l={value:s.slice(t,t+e),done:!1};return t+=e,l}return{done:!0}})(),cancel:()=>(0,y.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Od{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ov{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ts,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(l=>{l&&l.Qu()?this.metadata.resolve(l.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.Gu)}`))},l=>this.metadata.reject(l))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,y.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,y.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,y.Z)(function*(){const t=yield e.kc();if(null===t)return null;const l=e.xc.decode(t),h=Number(l);isNaN(h)&&e.Mc(`length string (${l}) is not valid number`);const m=yield e.$c(h);return new Ph(JSON.parse(m),t.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,y.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),l})()}$c(e){var t=this;return(0,y.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const l=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),l})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,y.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const l=new Uint8Array(e.buffer.length+t.value.length);l.set(e.buffer),l.set(t.value,e.buffer.length),e.buffer=l}return t.done})()}}class av{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,y.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Lt(Xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,y.Z)(function*(m,E){const k=Tn(m),q=bf(k.serializer)+"/documents",oe={documents:E.map(Xt=>lh(k.serializer,Xt))},Se=yield k.vo("BatchGetDocuments",q,oe,E.length),rt=new Map;Se.forEach(Xt=>{const Dn=function yd(s,e){return"found"in e?function(t,l){jn(!!l.found);const h=lu(t,l.found.name),m=Bs(l.found.updateTime),E=l.found.createTime?Bs(l.found.createTime):Er.min(),k=new Ws({mapValue:{fields:l.found.fields}});return Ii.newFoundDocument(h,m,E,k)}(s,e):"missing"in e?function(t,l){jn(!!l.missing),jn(!!l.readTime);const h=lu(t,l.missing),m=Bs(l.readTime);return Ii.newNoDocument(h,m)}(s,e):Fn()}(k.serializer,Xt);rt.set(Dn.key.toString(),Dn)});const Ot=[];return E.forEach(Xt=>{const Dn=rt.get(Xt.toString());jn(!!Dn),Ot.push(Dn)}),Ot}),function(m,E){return h.apply(this,arguments)})(t.datastore,e);var h;return l.forEach(h=>t.recordVersion(h)),l})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new au(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var l;e.mutations.forEach(l=>{t.delete(l.key.toString())}),t.forEach((l,h)=>{const m=Pn.fromPath(h);e.mutations.push(new wp(m,e.precondition(m)))}),yield(l=(0,y.Z)(function*(h,m){const E=Tn(h),k=bf(E.serializer)+"/documents",q={writes:m.map(oe=>Sf(E.serializer,oe))};yield E.Io("Commit",k,q)}),function(h,m){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fn();t=Er.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!t.isEqual(l))throw new Lt(Xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Er.min())?ys.exists(!1):ys.updateTime(t):ys.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Er.min()))throw new Lt(Xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ys.updateTime(t)}return ys.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class I_{constructor(e,t,l,h,m){this.asyncQueue=e,this.datastore=t,this.options=l,this.updateFunction=h,this.deferred=m,this.Bc=l.maxAttempts,this.qo=new bd(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,y.Z)(function*(){const t=new av(e.datastore),l=e.qc(t);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Uc(m)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const t=this.updateFunction(e);return!F(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!fy(t)}return!1}}class C_{constructor(e,t,l,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=l,this.databaseInfo=h,this.user=yn.UNAUTHENTICATED,this.clientId=di.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var E=(0,y.Z)(function*(k){en("FirestoreClient","Received user=",k.uid),yield m.authCredentialListener(k),m.user=k});return function(k){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(l,E=>(en("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(l){const h=Bl(l,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Uc(s,e){return lv.apply(this,arguments)}function lv(){return lv=(0,y.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),en("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let l=t.initialUser;s.setCredentialChangeListener(function(){var h=(0,y.Z)(function*(m){l.isEqual(m)||(yield hs(e.localStore,m),l=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),lv.apply(this,arguments)}function uv(s,e){return km.apply(this,arguments)}function km(){return km=(0,y.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield Lm(s);en("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(t,l),s.setCredentialChangeListener(h=>Bc(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>Bc(e.remoteStore,m)),s._onlineComponents=e}),km.apply(this,arguments)}function Fm(s){return"FirebaseError"===s.name?s.code===Xe.FAILED_PRECONDITION||s.code===Xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function Lm(s){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,y.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){en("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Uc(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Fm(t))throw t;bi("Error using user provided cache. Falling back to memory cache: "+t),yield Uc(s,new qf)}}else en("FirestoreClient","Using default OfflineComponentProvider"),yield Uc(s,new qf);return s._offlineComponents}),Ul.apply(this,arguments)}function Bm(s){return cv.apply(this,arguments)}function cv(){return cv=(0,y.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(en("FirestoreClient","Using user provided OnlineComponentProvider"),yield uv(s,s._uninitializedComponentsProvider._online)):(en("FirestoreClient","Using default OnlineComponentProvider"),yield uv(s,new Nh))),s._onlineComponents}),cv.apply(this,arguments)}function b_(s){return Lm(s).then(e=>e.persistence)}function kh(s){return Lm(s).then(e=>e.localStore)}function Yf(s){return Bm(s).then(e=>e.remoteStore)}function dv(s){return Bm(s).then(e=>e.syncEngine)}function Zf(s){return hv.apply(this,arguments)}function hv(){return hv=(0,y.Z)(function*(s){const e=yield Bm(s),t=e.eventManager;return t.onListen=Rd.bind(null,e.syncEngine),t.onUnlisten=v0.bind(null,e.syncEngine),t}),hv.apply(this,arguments)}function D_(s,e,t={}){const l=new Ts;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,m,E,k,q){const oe=new Od({next:rt=>{m.enqueueAndForget(()=>xh(h,Se));const Ot=rt.docs.has(E);!Ot&&rt.fromCache?q.reject(new Lt(Xe.UNAVAILABLE,"Failed to get document because the client is offline.")):Ot&&rt.fromCache&&k&&"server"===k.source?q.reject(new Lt(Xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(rt)},error:rt=>q.reject(rt)}),Se=new wm(iu(E.path),oe,{includeMetadataChanges:!0,Ku:!0});return Ad(h,Se)}(yield Zf(s),s.asyncQueue,e,t,l)})),l.promise}function Nd(s,e,t={}){const l=new Ts;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function(h,m,E,k,q){const oe=new Od({next:rt=>{m.enqueueAndForget(()=>xh(h,Se)),rt.fromCache&&"server"===k.source?q.reject(new Lt(Xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(rt)},error:rt=>q.reject(rt)}),Se=new wm(E,oe,{includeMetadataChanges:!0,Ku:!0});return Ad(h,Se)}(yield Zf(s),s.asyncQueue,e,t,l)})),l.promise}function S_(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const Qf=new Map;function Hm(s,e,t){if(!t)throw new Lt(Xe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function pv(s,e,t,l){if(!0===e&&!0===l)throw new Lt(Xe.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function pg(s){if(!Pn.isDocumentKey(s))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function gv(s){if(Pn.isDocumentKey(s))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ga(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":Fn()}function mi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Lt(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ga(s);throw new Lt(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function Wo(s,e){if(e<=0)throw new Lt(Xe.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class jc{constructor(e){var t,l;if(void 0===e.host){if(void 0!==e.ssl)throw new Lt(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lt(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S_(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Lt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Lt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Lt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,t,l,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lt(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lt(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jc(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gs;switch(t.type){case"firstParty":return new oc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Lt(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Qf.get(e);t&&(en("ComponentProvider","Removing Datastore"),Qf.delete(e),t.terminate())}(this),Promise.resolve()}}function Wa(s,e,t,l={}){var h;const m=(s=mi(s,kd))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&bi("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),l.mockUserToken){let E,k;if("string"==typeof l.mockUserToken)E=l.mockUserToken,k=yn.MOCK_USER;else{E=(0,xe.Sg)(l.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const q=l.mockUserToken.sub||l.mockUserToken.user_id;if(!q)throw new Lt(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new yn(q)}s._authCredentials=new sc(new ca(E,k))}}class Fs{constructor(e,t,l){this.converter=t,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fs(this.firestore,e,this._key)}}class Ys{constructor(e,t,l){this.converter=t,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class ma extends Ys{constructor(e,t,l){super(e,t,iu(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fs(this.firestore,null,new Pn(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Fh(s,e,...t){if(s=(0,xe.m9)(s),Hm("collection","path",e),s instanceof kd){const l=pi.fromString(e,...t);return gv(l),new ma(s,null,l)}{if(!(s instanceof Fs||s instanceof ma))throw new Lt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(pi.fromString(e,...t));return gv(l),new ma(s.firestore,null,l)}}function Lh(s,e){if(s=mi(s,kd),Hm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lt(Xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ys(s,null,(t=e,new Ml(pi.emptyPath(),t)));var t}function Fd(s,e,...t){if(s=(0,xe.m9)(s),1===arguments.length&&(e=di.A()),Hm("doc","path",e),s instanceof kd){const l=pi.fromString(e,...t);return pg(l),new Fs(s,null,new Pn(l))}{if(!(s instanceof Fs||s instanceof ma))throw new Lt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(pi.fromString(e,...t));return pg(l),new Fs(s.firestore,s instanceof ma?s.converter:null,new Pn(l))}}function Bh(s,e){return s=(0,xe.m9)(s),e=(0,xe.m9)(e),(s instanceof Fs||s instanceof ma)&&(e instanceof Fs||e instanceof ma)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Hc(s,e){return s=(0,xe.m9)(s),e=(0,xe.m9)(e),s instanceof Ys&&e instanceof Ys&&s.firestore===e.firestore&&wt(s._query,e._query)&&s.converter===e.converter}class $h{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bd(this,"async_queue_retry"),this.Xc=()=>{const t=$f();t&&en("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=$f();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=$f();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ts;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,y.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ja(t))throw t;en("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(l=>{throw this.Wc=l,this.Hc=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(m){let E=m.message||"";return m.stack&&(E=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),E}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=t,t}enqueueAfterDelay(e,t,l){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const h=yu.createAndSchedule(this,e,t,l,m=>this.na(m));return this.zc.push(h),h}Zc(){this.Wc&&Fn()}verifyOperationInProgress(){}sa(){var e=this;return(0,y.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,l)=>t.targetTimeMs-l.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function zc(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(s)}class mv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,l){this._progressObserver={next:e,error:t,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const yv=-1;class As extends kd{constructor(e,t,l,h){super(e,t,l,h),this.type="firestore",this._queue=new $h,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zm(this),this._firestoreClient.terminate()}}function vv(s,e){const t="object"==typeof s?s:(0,g.getApp)(),l="string"==typeof s?s:e||"(default)",h=(0,g._getProvider)(t,"firestore").getImmediate({identifier:l});if(!h._initialized){const m=(0,xe.P0)("firestore");m&&Wa(h,...m)}return h}function Zs(s){return s._firestoreClient||zm(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function zm(s){var e,t,l;const h=s._freezeSettings(),m=(k=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Nu(s._databaseId,k,s._persistenceKey,(oe=h).host,oe.ssl,oe.experimentalForceLongPolling,oe.experimentalAutoDetectLongPolling,S_(oe.experimentalLongPollingOptions),oe.useFetchStreams));var k,oe;s._firestoreClient=new C_(s._authCredentials,s._appCheckCredentials,s._queue,m),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(l=h.cache)&&void 0!==l&&l._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function _v(s,e){Wm(s=mi(s,As));const t=Zs(s);if(t._uninitializedComponentsProvider)throw new Lt(Xe.FAILED_PRECONDITION,"SDK cache is already specified.");bi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=s._freezeSettings(),h=new Nh;return gg(t,h,new Nm(h,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Ev(s){Wm(s=mi(s,As));const e=Zs(s);if(e._uninitializedComponentsProvider)throw new Lt(Xe.FAILED_PRECONDITION,"SDK cache is already specified.");bi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings(),l=new Nh;return gg(e,l,new fg(l,t.cacheSizeBytes))}function gg(s,e,t){const l=new Ts;return s.asyncQueue.enqueue((0,y.Z)(function*(){try{yield Uc(s,t),yield uv(s,e),l.resolve()}catch(h){const m=h;if(!Fm(m))throw m;bi("Error enabling indexeddb cache. Falling back to memory cache: "+m),l.reject(m)}})).then(()=>l.promise)}function A_(s){if(s._initialized&&!s._terminated)throw new Lt(Xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ts;return s._queue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{yield(t=(0,y.Z)(function*(l){if(!Qo.D())return Promise.resolve();const h=l+"main";yield Qo.delete(h)}),function(l){return t.apply(this,arguments)})(wh(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function rE(s){return function(e){const t=new Ts;return e.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Jy(s,e){return Am.apply(this,arguments)}(yield dv(e),t)})),t.promise}(Zs(s=mi(s,As)))}function C0(s){return function E0(s){return s.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield b_(s),t=yield Yf(s);return e.setNetworkEnabled(!0),function(l){const h=Tn(l);return h.vu.delete(0),Th(h)}(t)}))}(Zs(s=mi(s,As)))}function M_(s){return function w0(s){return s.asyncQueue.enqueue((0,y.Z)(function*(){const e=yield b_(s),t=yield Yf(s);return e.setNetworkEnabled(!1),(l=(0,y.Z)(function*(h){const m=Tn(h);m.vu.add(0),yield Fl(m),m.bu.set("Offline")}),function(h){return l.apply(this,arguments)})(t);var l}))}(Zs(s=mi(s,As)))}function R_(s,e){const t=Zs(s=mi(s,As)),l=new mv;return function Um(s,e,t,l){const h=function(m,E){let k;return k="string"==typeof m?Ip().encode(m):m,q=function(q,oe){if(q instanceof Uint8Array)return Pd(q,void 0);if(q instanceof ArrayBuffer)return Pd(new Uint8Array(q),void 0);if(q instanceof ReadableStream)return q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new ov(q,E);var q}(t,Vf(e));s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){!function hg(s,e,t){const l=Tn(s);var h;(h=(0,y.Z)(function*(m,E,k){try{const q=yield E.getMetadata();if(yield function(Ot,Xt){const Dn=Tn(Ot),Hn=Bs(Xt.createTime);return Dn.persistence.runTransaction("hasNewerBundle","readonly",qn=>Dn.qs.getBundleMetadata(qn,Xt.id)).then(qn=>!!qn&&qn.createTime.compareTo(Hn)>=0)}(m.localStore,q))return yield E.close(),k._completeWith({taskState:"Success",documentsLoaded:(Ot=q).totalDocuments,bytesLoaded:Ot.totalBytes,totalDocuments:Ot.totalDocuments,totalBytes:Ot.totalBytes}),Promise.resolve(new Set);k._updateProgress(Wy(q));const oe=new Gy(q,m.localStore,E.serializer);let Se=yield E.bc();for(;Se;){const Ot=yield oe.zu(Se);Ot&&k._updateProgress(Ot),Se=yield E.bc()}const rt=yield oe.complete();return yield $l(m,rt.Ju,void 0),yield function(Ot,Xt){const Dn=Tn(Ot);return Dn.persistence.runTransaction("Save bundle","readwrite",Hn=>Dn.qs.saveBundleMetadata(Hn,Xt))}(m.localStore,q),k._completeWith(rt.progress),Promise.resolve(rt.Hu)}catch(q){return bi("SyncEngine",`Loading bundle failed with ${q}`),k._failWith(q),Promise.resolve(new Set)}var Ot}),function(m,E,k){return h.apply(this,arguments)})(l,e,t).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield dv(s),h,l)}))}(t,s._databaseId,e,l),l}function Gm(s,e){return function nE(s,e){return s.asyncQueue.enqueue((0,y.Z)(function*(){return function(t,l){const h=Tn(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.qs.getNamedQuery(m,l))}(yield kh(s),e)}))}(Zs(s=mi(s,As)),e).then(t=>t?new Ys(s,null,t.query):null)}function Wm(s){if(s._initialized||s._terminated)throw new Lt(Xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(bs.fromBase64String(e))}catch(t){throw new Lt(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qu(bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Lt(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xu{constructor(e){this._methodName=e}}class qa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lt(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lt(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ar(this._lat,e._lat)||ar(this._long,e._long)}}const Km=/^__.*__$/;class Xf{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new ra(e,this.data,t,this.fieldTransforms)}}class wv{constructor(e,t,l){this.data=e,this.fieldMask=t,this.fieldTransforms=l}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fn()}}class Ju{constructor(e,t,l,h,m,E){this.settings=e,this.databaseId=t,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ju(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.fa(e),h}da(e){var t;const l=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.aa({path:l,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Eg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Iv(this.ca)&&Km.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Cv{constructor(e,t,l){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=l||Vf(e)}ya(e,t,l,h=!1){return new Ju({ca:e,methodName:t,ga:l,path:Hi.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(s){const e=s._freezeSettings(),t=Vf(s._databaseId);return new Cv(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Jf(s,e,t,l,h,m={}){const E=s.ya(m.merge||m.mergeFields?2:0,e,t,h);Ud("Data must be an object, but it was:",E,l);const k=wu(l,E);let q,oe;if(m.merge)q=new Ls(E.fieldMask),oe=E.fieldTransforms;else if(m.mergeFields){const Se=[];for(const rt of m.mergeFields){const Ot=Hh(e,rt,t);if(!E.contains(Ot))throw new Lt(Xe.INVALID_ARGUMENT,`Field '${Ot}' is specified in your field mask but missing from your input data.`);Ym(Se,Ot)||Se.push(Ot)}q=new Ls(Se),oe=E.fieldTransforms.filter(rt=>q.covers(rt.field))}else q=null,oe=E.fieldTransforms;return new Xf(new Ws(k),q,oe)}class $d extends Xu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function mg(s,e,t){return new Ju({ca:3,ga:e.settings.ga,methodName:s._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vd extends Xu{_toFieldTransform(e){return new gf(e.path,new Ec)}isEqual(e){return e instanceof Vd}}class yg extends Xu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=mg(this,e,!0),l=this.pa.map(m=>Eu(m,t)),h=new fa(l);return new gf(e.path,h)}isEqual(e){return this===e}}class bv extends Xu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=mg(this,e,!0),l=this.pa.map(m=>Eu(m,t)),h=new Rl(l);return new gf(e.path,h)}isEqual(e){return this===e}}class vg extends Xu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new zu(e.serializer,ou(e.serializer,this.Ia));return new gf(e.path,t)}isEqual(e){return this===e}}function jh(s,e,t,l){const h=s.ya(1,e,t);Ud("Data must be an object, but it was:",h,l);const m=[],E=Ws.empty();nl(l,(q,oe)=>{const Se=ep(e,q,t);oe=(0,xe.m9)(oe);const rt=h.da(Se);if(oe instanceof $d)m.push(Se);else{const Ot=Eu(oe,rt);null!=Ot&&(m.push(Se),E.set(Se,Ot))}});const k=new Ls(m);return new wv(E,k,h.fieldTransforms)}function Gc(s,e,t,l,h,m){const E=s.ya(1,e,t),k=[Hh(e,l,t)],q=[h];if(m.length%2!=0)throw new Lt(Xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ot=0;Ot<m.length;Ot+=2)k.push(Hh(e,m[Ot])),q.push(m[Ot+1]);const oe=[],Se=Ws.empty();for(let Ot=k.length-1;Ot>=0;--Ot)if(!Ym(oe,k[Ot])){const Xt=k[Ot];let Dn=q[Ot];Dn=(0,xe.m9)(Dn);const Hn=E.da(Xt);if(Dn instanceof $d)oe.push(Xt);else{const qn=Eu(Dn,Hn);null!=qn&&(oe.push(Xt),Se.set(Xt,qn))}}const rt=new Ls(oe);return new wv(Se,rt,E.fieldTransforms)}function qm(s,e,t,l=!1){return Eu(t,s.ya(l?4:3,e))}function Eu(s,e){if(_g(s=(0,xe.m9)(s)))return Ud("Unsupported field value:",e,s),wu(s,e);if(s instanceof Xu)return function(t,l){if(!Iv(l.ca))throw l._a(`${t._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,l){const h=[];let m=0;for(const E of t){let k=Eu(E,l.wa(m));null==k&&(k={nullValue:"NULL_VALUE"}),h.push(k),m++}return{arrayValue:{values:h}}}(s,e)}return function(t,l){if(null===(t=(0,xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ou(l.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=Si.fromDate(t);return{timestampValue:Cc(l.serializer,h)}}if(t instanceof Si){const h=new Si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cc(l.serializer,h)}}if(t instanceof qa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qu)return{bytesValue:Cf(l.serializer,t._byteString)};if(t instanceof Fs){const h=l.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw l._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:md(t.firestore._databaseId||l.databaseId,t._key.path)}}throw l._a(`Unsupported field value: ${Ga(t)}`)}(s,e)}function wu(s,e){const t={};return sf(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(s,(l,h)=>{const m=Eu(h,e.ha(l));null!=m&&(t[l]=m)}),{mapValue:{fields:t}}}function _g(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Si||s instanceof qa||s instanceof Qu||s instanceof Fs||s instanceof Xu)}function Ud(s,e,t){if(!_g(t)||"object"!=typeof(l=t)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Ga(t);throw e._a("an object"===l?s+" a custom object":s+" "+l)}var l}function Hh(s,e,t){if((e=(0,xe.m9)(e))instanceof _u)return e._internalPath;if("string"==typeof e)return ep(s,e);throw Eg("Field path arguments must be of type string or ",s,!1,void 0,t)}const zh=new RegExp("[~\\*/\\[\\]]");function ep(s,e,t){if(e.search(zh)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new _u(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Eg(s,e,t,l,h){const m=l&&!l.isEmpty(),E=void 0!==h;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let q="";return(m||E)&&(q+=" (found",m&&(q+=` in field ${l}`),E&&(q+=` in document ${h}`),q+=")"),new Lt(Xe.INVALID_ARGUMENT,k+s+q)}function Ym(s,e){return s.some(t=>t.isEqual(e))}class Ya{constructor(e,t,l,h,m){this._firestore=e,this._userDataWriter=t,this._key=l,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cl extends Ya{data(){return super.data()}}function dl(s,e){return"string"==typeof e?ep(s,e):e instanceof _u?e._internalPath:e._delegate._internalPath}function Gh(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Lt(Xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wh{}class Iu extends Wh{}function wg(s,e,...t){let l=[];e instanceof Wh&&l.push(e),l=l.concat(t),function(h){const m=h.filter(k=>k instanceof Kh).length,E=h.filter(k=>k instanceof Cu).length;if(m>1||m>0&&E>0)throw new Lt(Xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)s=h._apply(s);return s}class Cu extends Iu{constructor(e,t,l){super(),this._field=e,this._op=t,this._value=l,this.type="where"}static _create(e,t,l){return new Cu(e,t,l)}_apply(e){const t=this._parse(e);return qh(e._query,t),new Ys(e.firestore,e.converter,le(e._query,t))}_parse(e){const t=Uh(e.firestore);return function(h,m,E,k,q,oe,Se){let rt;if(q.isKeyField()){if("array-contains"===oe||"array-contains-any"===oe)throw new Lt(Xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${oe}' queries on documentId().`);if("in"===oe||"not-in"===oe){Jm(Se,oe);const Ot=[];for(const Xt of Se)Ot.push(Xm(k,h,Xt));rt={arrayValue:{values:Ot}}}else rt=Xm(k,h,Se)}else"in"!==oe&&"not-in"!==oe&&"array-contains-any"!==oe||Jm(Se,oe),rt=qm(E,"where",Se,"in"===oe||"not-in"===oe);return ci.create(q,oe,rt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ig(s,e,t){const l=e,h=dl("where",s);return Cu._create(h,l,t)}class Kh extends Wh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kh(e,t)}_parse(e){const t=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===t.length?t[0]:ki.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(l,h){let m=l;const E=h.getFlattenedFilters();for(const k of E)qh(m,k),m=le(m,k)}(e._query,t),new Ys(e.firestore,e.converter,le(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tp extends Iu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new tp(e,t)}_apply(e){const t=function(l,h,m){if(null!==l.startAt)throw new Lt(Xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Lt(Xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new Bu(h,m);return function(k,q){if(null===Jd(k)){const oe=R(k);null!==oe&&rp(0,oe,q.field)}}(l,E),E}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(l,h){const m=l.explicitOrderBy.concat([h]);return new Ml(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function Zm(s,e="asc"){const t=e,l=dl("orderBy",s);return tp._create(l,t)}class Ko extends Iu{constructor(e,t,l){super(),this.type=e,this._limit=t,this._limitType=l}static _create(e,t,l){return new Ko(e,t,l)}_apply(e){return new Ys(e.firestore,e.converter,Ae(e._query,this._limit,this._limitType))}}function Sv(s){return Wo("limit",s),Ko._create("limit",s,"F")}function b0(s){return Wo("limitToLast",s),Ko._create("limitToLast",s,"L")}class Cg extends Iu{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new Cg(e,t,l)}_apply(e){const t=Qm(e,this.type,this._docOrFields,this._inclusive);return new Ys(e.firestore,e.converter,(h=t,new Ml((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}function Tv(...s){return Cg._create("startAt",s,!0)}function P_(...s){return Cg._create("startAfter",s,!1)}class np extends Iu{constructor(e,t,l){super(),this.type=e,this._docOrFields=t,this._inclusive=l}static _create(e,t,l){return new np(e,t,l)}_apply(e){const t=Qm(e,this.type,this._docOrFields,this._inclusive);return new Ys(e.firestore,e.converter,(h=t,new Ml((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function O_(...s){return np._create("endBefore",s,!1)}function bg(...s){return np._create("endAt",s,!0)}function Qm(s,e,t,l){if(t[0]=(0,xe.m9)(t[0]),t[0]instanceof Ya)return function(h,m,E,k,q){if(!k)throw new Lt(Xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const oe=[];for(const Se of I(h))if(Se.field.isKeyField())oe.push(tu(m,k.key));else{const rt=k.data.field(Se.field);if(Dl(rt))throw new Lt(Xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===rt){const Ot=Se.field.canonicalString();throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ot}' (used as the orderBy) does not exist.`)}oe.push(rt)}return new Jo(oe,q)}(s._query,s.firestore._databaseId,e,t[0]._document,l);{const h=Uh(s.firestore);return function(m,E,k,q,oe,Se){const rt=m.explicitOrderBy;if(oe.length>rt.length)throw new Lt(Xe.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ot=[];for(let Xt=0;Xt<oe.length;Xt++){const Dn=oe[Xt];if(rt[Xt].field.isKeyField()){if("string"!=typeof Dn)throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof Dn}`);if(!_(m)&&-1!==Dn.indexOf("/"))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${Dn}' contains a slash.`);const Hn=m.path.child(pi.fromString(Dn));if(!Pn.isDocumentKey(Hn))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${Hn}' is not because it contains an odd number of segments.`);const qn=new Pn(Hn);Ot.push(tu(E,qn))}else{const Hn=qm(k,q,Dn);Ot.push(Hn)}}return new Jo(Ot,Se)}(s._query,s.firestore._databaseId,h,e,t,l)}}function Xm(s,e,t){if("string"==typeof(t=(0,xe.m9)(t))){if(""===t)throw new Lt(Xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_(e)&&-1!==t.indexOf("/"))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const l=e.path.child(pi.fromString(t));if(!Pn.isDocumentKey(l))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return tu(s,new Pn(l))}if(t instanceof Fs)return tu(s,t._key);throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ga(t)}.`)}function Jm(s,e){if(!Array.isArray(s)||0===s.length)throw new Lt(Xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qh(s,e){if(e.isInequality()){const l=R(s),h=e.field;if(null!==l&&!l.isEqual(h))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${h.toString()}'`);const m=Jd(s);null!==m&&rp(0,h,m)}const t=function(l,h){for(const m of l)for(const E of m.getFlattenedFilters())if(h.indexOf(E.op)>=0)return E.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Lt(Xe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rp(s,e,t){if(!t.isEqual(e))throw new Lt(Xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ip{convertValue(e,t="none"){switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ms(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const l={};return nl(e,(h,m)=>{l[h]=this.convertValue(m,t)}),l}convertGeoPoint(e){return new qa(ms(e.latitude),ms(e.longitude))}convertArray(e,t){return(e.values||[]).map(l=>this.convertValue(l,t))}convertServerTimestamp(e,t){switch(t){case"previous":const l=Ba(e);return null==l?null:this.convertValue(l,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=La(e);return new Si(t.seconds,t.nanos)}convertDocumentKey(e,t){const l=pi.fromString(e);jn(jg(l));const h=new bo(l.get(1),l.get(3)),m=new Pn(l.popFirst(5));return h.isEqual(t)||Jn(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function sp(s,e,t){let l;return l=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,l}class op extends ip{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,t)}}class Wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kc extends Ya{constructor(e,t,l,h,m,E){super(e,t,l,h,E),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const l=this._document.data.field(dl("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,t.serverTimestamps)}}}class hl extends Kc{data(e={}){return super.data(e)}}class fl{constructor(e,t,l,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Wc(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(l=>{e.call(t,new hl(this._firestore,this._userDataWriter,l.key,l,new Wc(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lt(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(E=>({type:"added",doc:new hl(l._firestore,l._userDataWriter,E.doc.key,E.doc,new Wc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(E=>h||3!==E.type).map(E=>{const k=new hl(l._firestore,l._userDataWriter,E.doc.key,E.doc,new Wc(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter);let q=-1,oe=-1;return 0!==E.type&&(q=m.indexOf(E.doc.key),m=m.delete(E.doc.key)),1!==E.type&&(m=m.add(E.doc),oe=m.indexOf(E.doc.key)),{type:bu(E.type),doc:k,oldIndex:q,newIndex:oe}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bu(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fn()}}function Sg(s,e){return s instanceof Kc&&e instanceof Kc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof fl&&e instanceof fl&&s._firestore===e._firestore&&Hc(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function L_(s){s=mi(s,Fs);const e=mi(s.firestore,As);return D_(Zs(e),s._key).then(t=>lp(e,s,t))}class Du extends ip{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fs(this.firestore,null,t)}}function jd(s){s=mi(s,Fs);const e=mi(s.firestore,As),t=Zs(e),l=new Du(e);return function I0(s,e){const t=new Ts;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(l=(0,y.Z)(function*(h,m,E){try{const k=yield function(q,oe){const Se=Tn(q);return Se.persistence.runTransaction("read document","readonly",rt=>Se.localDocuments.getDocument(rt,oe))}(h,m);k.isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new Lt(Xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const q=Bl(k,`Failed to get document '${m} from cache`);E.reject(q)}}),function(h,m,E){return l.apply(this,arguments)})(yield kh(s),e,t);var l})),t.promise}(t,s._key).then(h=>new Kc(e,l,s._key,h,new Wc(null!==h&&h.hasLocalMutations,!0),s.converter))}function ey(s){s=mi(s,Fs);const e=mi(s.firestore,As);return D_(Zs(e),s._key,{source:"server"}).then(t=>lp(e,s,t))}function B_(s){s=mi(s,Ys);const e=mi(s.firestore,As),t=Zs(e),l=new Du(e);return Gh(s._query),Nd(t,s._query).then(h=>new fl(e,l,s,h))}function ap(s){s=mi(s,Ys);const e=mi(s.firestore,As),t=Zs(e),l=new Du(e);return function fv(s,e){const t=new Ts;return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return(l=(0,y.Z)(function*(h,m,E){try{const k=yield Lf(h,m,!0),q=new qy(m,k.ir),oe=q.sc(k.documents),Se=q.applyChanges(oe,!1);E.resolve(Se.snapshot)}catch(k){const q=Bl(k,`Failed to execute query '${m} against cache`);E.reject(q)}}),function(h,m,E){return l.apply(this,arguments)})(yield kh(s),e,t);var l})),t.promise}(t,s._query).then(h=>new fl(e,l,s,h))}function D0(s){s=mi(s,Ys);const e=mi(s.firestore,As),t=Zs(e),l=new Du(e);return Nd(t,s._query,{source:"server"}).then(h=>new fl(e,l,s,h))}function ty(s,e,t){s=mi(s,Fs);const l=mi(s.firestore,As),h=sp(s.converter,e,t);return Yh(l,[Jf(Uh(l),"setDoc",s._key,h,null!==s.converter,t).toMutation(s._key,ys.none())])}function ny(s,e,t,...l){s=mi(s,Fs);const h=mi(s.firestore,As),m=Uh(h);let E;return E="string"==typeof(e=(0,xe.m9)(e))||e instanceof _u?Gc(m,"updateDoc",s._key,e,t,l):jh(m,"updateDoc",s._key,e),Yh(h,[E.toMutation(s._key,ys.exists(!0))])}function Tg(s){return Yh(mi(s.firestore,As),[new au(s._key,ys.none())])}function Rv(s,e){const t=mi(s.firestore,As),l=Fd(s),h=sp(s.converter,e);return Yh(t,[Jf(Uh(s.firestore),"addDoc",l._key,h,null!==s.converter,{}).toMutation(l._key,ys.exists(!1))]).then(()=>l)}function xv(s,...e){var t,l,h;s=(0,xe.m9)(s);let m={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||zc(e[E])||(m=e[E],E++);const k={includeMetadataChanges:m.includeMetadataChanges};if(zc(e[E])){const rt=e[E];e[E]=null===(t=rt.next)||void 0===t?void 0:t.bind(rt),e[E+1]=null===(l=rt.error)||void 0===l?void 0:l.bind(rt),e[E+2]=null===(h=rt.complete)||void 0===h?void 0:h.bind(rt)}let q,oe,Se;if(s instanceof Fs)oe=mi(s.firestore,As),Se=iu(s._key.path),q={next:rt=>{e[E]&&e[E](lp(oe,s,rt))},error:e[E+1],complete:e[E+2]};else{const rt=mi(s,Ys);oe=mi(rt.firestore,As),Se=rt._query;const Ot=new Du(oe);q={next:Xt=>{e[E]&&e[E](new fl(oe,Ot,rt,Xt))},error:e[E+1],complete:e[E+2]},Gh(s._query)}return function(rt,Ot,Xt,Dn){const Hn=new Od(Dn),qn=new wm(Ot,Hn,Xt);return rt.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return Ad(yield Zf(rt),qn)})),()=>{Hn.Dc(),rt.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return xh(yield Zf(rt),qn)}))}}(Zs(oe),Se,k,q)}function To(s,e){return function Vm(s,e){const t=new Od(e);return s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return l=yield Zf(s),h=t,Tn(l).ku.add(h),void h.next();var l,h})),()=>{t.Dc(),s.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return l=yield Zf(s),h=t,void Tn(l).ku.delete(h);var l,h}))}}(Zs(s=mi(s,As)),zc(e)?e:{next:e})}function Yh(s,e){return function(t,l){const h=new Ts;return t.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Xy(s,e,t){return eg.apply(this,arguments)}(yield dv(t),l,h)})),h.promise}(Zs(s),e)}function lp(s,e,t){const l=t.docs.get(e._key),h=new Du(s);return new Kc(s,h,e._key,l,new Wc(t.hasPendingWrites,t.fromCache),e.converter)}const Su={maxAttempts:5};class kv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uh(e)}set(e,t,l){this._verifyNotCommitted();const h=ec(e,this._firestore),m=sp(h.converter,t,l),E=Jf(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,l);return this._mutations.push(E.toMutation(h._key,ys.none())),this}update(e,t,l,...h){this._verifyNotCommitted();const m=ec(e,this._firestore);let E;return E="string"==typeof(t=(0,xe.m9)(t))||t instanceof _u?Gc(this._dataReader,"WriteBatch.update",m._key,t,l,h):jh(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(E.toMutation(m._key,ys.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ec(e,this._firestore);return this._mutations=this._mutations.concat(new au(t._key,ys.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(Xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ec(s,e){if((s=(0,xe.m9)(s)).firestore!==e)throw new Lt(Xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Tu extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Uh(e)}get(e){const t=ec(e,this._firestore),l=new op(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return Fn();const m=h[0];if(m.isFoundDocument())return new Ya(this._firestore,l,m.key,m,t.converter);if(m.isNoDocument())return new Ya(this._firestore,l,t._key,null,t.converter);throw Fn()})}set(e,t,l){const h=ec(e,this._firestore),m=sp(h.converter,t,l),E=Jf(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,l);return this._transaction.set(h._key,E),this}update(e,t,l,...h){const m=ec(e,this._firestore);let E;return E="string"==typeof(t=(0,xe.m9)(t))||t instanceof _u?Gc(this._dataReader,"Transaction.update",m._key,t,l,h):jh(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,E),this}delete(e){const t=ec(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ec(e,this._firestore),l=new Du(this._firestore);return super.get(e).then(h=>new Kc(this._firestore,l,t._key,h._document,new Wc(!1,!1),t.converter))}}function Za(s,e,t){s=mi(s,As);const l=Object.assign(Object.assign({},Su),t);return function(h){if(h.maxAttempts<1)throw new Lt(Xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(h,m,E){const k=new Ts;return h.asyncQueue.enqueueAndForget((0,y.Z)(function*(){const q=yield function $m(s){return Bm(s).then(e=>e.datastore)}(h);new I_(h.asyncQueue,q,E,m,k).run()})),k.promise}(Zs(s),h=>e(new Tu(s,h)),l)}function jl(){return new $d("deleteField")}function Fv(){return new Vd("serverTimestamp")}function Lv(...s){return new yg("arrayUnion",s)}function U_(...s){return new bv("arrayRemove",s)}function Bv(s){return new vg("increment",s)}!function(s,e=!0){qr=g.SDK_VERSION,(0,g._registerComponent)(new se.wA("firestore",(t,{instanceIdentifier:l,options:h})=>{const m=t.getProvider("app").getImmediate(),E=new As(new vl(t.getProvider("auth-internal")),new Zc(t.getProvider("app-check-internal")),function(k,q){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new Lt(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(k.options.projectId,q)}(m,l),m);return h=Object.assign({useFetchStreams:e},h),E._setSettings(h),E},"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(Yn,"3.12.1",s),(0,g.registerVersion)(Yn,"3.12.1","esm2017")}()},2090:(un,dt,L)=>{"use strict";L.d(dt,{$s:()=>wn,BH:()=>gt,DV:()=>Ft,Dv:()=>cr,G6:()=>Ne,GJ:()=>Nt,L:()=>Ve,LL:()=>Pt,P0:()=>ot,Pz:()=>it,Sg:()=>_t,UG:()=>St,UI:()=>hr,US:()=>Ee,Wj:()=>Wn,Wl:()=>kt,Yr:()=>We,ZB:()=>ze,ZR:()=>Tt,aH:()=>Ge,b$:()=>vt,cI:()=>tt,dS:()=>ei,eu:()=>je,g5:()=>se,gK:()=>Rr,gQ:()=>Fr,h$:()=>Ce,hl:()=>ke,hu:()=>g,jU:()=>nt,lb:()=>gn,m9:()=>gr,ne:()=>Cn,p$:()=>be,pd:()=>tr,q4:()=>ft,r3:()=>In,ru:()=>mt,tV:()=>Te,uI:()=>Oe,ug:()=>Vn,vZ:()=>yr,w1:()=>De,w9:()=>_n,xO:()=>er,xb:()=>Kn,z$:()=>Ye,zI:()=>ne,zd:()=>zn});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},g=function(et,he){if(!et)throw se(he)},se=function(et){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+et)},ge=function(et){const he=[];let W=0;for(let H=0;H<et.length;H++){let K=et.charCodeAt(H);K<128?he[W++]=K:K<2048?(he[W++]=K>>6|192,he[W++]=63&K|128):55296==(64512&K)&&H+1<et.length&&56320==(64512&et.charCodeAt(H+1))?(K=65536+((1023&K)<<10)+(1023&et.charCodeAt(++H)),he[W++]=K>>18|240,he[W++]=K>>12&63|128,he[W++]=K>>6&63|128,he[W++]=63&K|128):(he[W++]=K>>12|224,he[W++]=K>>6&63|128,he[W++]=63&K|128)}return he},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(et,he){if(!Array.isArray(et))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let K=0;K<et.length;K+=3){const Fe=et[K],at=K+1<et.length,Be=at?et[K+1]:0,pt=K+2<et.length,Ct=pt?et[K+2]:0;let sn=(15&Be)<<2|Ct>>6,dn=63&Ct;pt||(dn=64,at||(sn=64)),H.push(W[Fe>>2],W[(3&Fe)<<4|Be>>4],W[sn],W[dn])}return H.join("")},encodeString(et,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(et):this.encodeByteArray(ge(et),he)},decodeString(et,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(et):function(et){const he=[];let W=0,H=0;for(;W<et.length;){const K=et[W++];if(K<128)he[H++]=String.fromCharCode(K);else if(K>191&&K<224){const Fe=et[W++];he[H++]=String.fromCharCode((31&K)<<6|63&Fe)}else if(K>239&&K<365){const pt=((7&K)<<18|(63&et[W++])<<12|(63&et[W++])<<6|63&et[W++])-65536;he[H++]=String.fromCharCode(55296+(pt>>10)),he[H++]=String.fromCharCode(56320+(1023&pt))}else{const Fe=et[W++],at=et[W++];he[H++]=String.fromCharCode((15&K)<<12|(63&Fe)<<6|63&at)}}return he.join("")}(this.decodeStringToByteArray(et,he))},decodeStringToByteArray(et,he){this.init_();const W=he?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let K=0;K<et.length;){const Fe=W[et.charAt(K++)],Be=K<et.length?W[et.charAt(K)]:0;++K;const Ct=K<et.length?W[et.charAt(K)]:64;++K;const Ht=K<et.length?W[et.charAt(K)]:64;if(++K,null==Fe||null==Be||null==Ct||null==Ht)throw new de;H.push(Fe<<2|Be>>4),64!==Ct&&(H.push(Be<<4&240|Ct>>2),64!==Ht&&H.push(Ct<<6&192|Ht))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let et=0;et<this.ENCODED_VALS.length;et++)this.byteToCharMap_[et]=this.ENCODED_VALS.charAt(et),this.charToByteMap_[this.byteToCharMap_[et]]=et,this.byteToCharMapWebSafe_[et]=this.ENCODED_VALS_WEBSAFE.charAt(et),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[et]]=et,et>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(et)]=et,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(et)]=et)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(et){const he=ge(et);return Ee.encodeByteArray(he,!0)},Ve=function(et){return Ce(et).replace(/\./g,"")},Te=function(et){try{return Ee.decodeString(et,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function be(et){return ze(void 0,et)}function ze(et,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===et&&(et={});break;case Array:et=[];break;default:return he}for(const W in he)!he.hasOwnProperty(W)||!ve(W)||(et[W]=ze(et[W],he[W]));return et}function ve(et){return"__proto__"!==et}const we=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const et=process.env.__FIREBASE_DEFAULTS__;return et?JSON.parse(et):void 0})()||(()=>{if(typeof document>"u")return;let et;try{et=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=et&&Te(et[1]);return he&&JSON.parse(he)})()}catch(et){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${et}`)}},ft=et=>{var he,W;return null===(W=null===(he=we())||void 0===he?void 0:he.emulatorHosts)||void 0===W?void 0:W[et]},ot=et=>{const he=ft(et);if(!he)return;const W=he.lastIndexOf(":");if(W<=0||W+1===he.length)throw new Error(`Invalid host ${he} with no separate hostname and port!`);const H=parseInt(he.substring(W+1),10);return"["===he[0]?[he.substring(1,W-1),H]:[he.substring(0,W),H]},Ge=()=>{var et;return null===(et=we())||void 0===et?void 0:et.config},it=et=>{var he;return null===(he=we())||void 0===he?void 0:he[`_${et}`]};class gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,W)=>{this.resolve=he,this.reject=W})}wrapCallback(he){return(W,H)=>{W?this.reject(W):this.resolve(H),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(W):he(W,H))}}}function _t(et,he){if(et.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=he||"demo-project",K=et.iat||0,Fe=et.sub||et.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:K,exp:K+3600,auth_time:K,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},et);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(at)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function St(){var et;const he=null===(et=we())||void 0===et?void 0:et.forceEnvironment;if("node"===he)return!0;if("browser"===he)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function mt(){const et="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof et&&void 0!==et.id}function vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){const et=Ye();return et.indexOf("MSIE ")>=0||et.indexOf("Trident/")>=0}function We(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function Ne(){return!St()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((et,he)=>{try{let W=!0;const H="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(H);K.onsuccess=()=>{K.result.close(),W||self.indexedDB.deleteDatabase(H),et(!0)},K.onupgradeneeded=()=>{W=!1},K.onerror=()=>{var Fe;he((null===(Fe=K.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(W){he(W)}})}function ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tt extends Error{constructor(he,W,H){super(W),this.code=he,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(he,W,H){this.service=he,this.serviceName=W,this.errors=H}create(he,...W){const H=W[0]||{},K=`${this.service}/${he}`,Fe=this.errors[he],at=Fe?function rn(et,he){return et.replace(At,(W,H)=>{const K=he[H];return null!=K?String(K):`<${H}?>`})}(Fe,H):"Error";return new Tt(K,`${this.serviceName}: ${at} (${K}).`,H)}}const At=/\{\$([^}]+)}/g;function tt(et){return JSON.parse(et)}function kt(et){return JSON.stringify(et)}const Jt=function(et){let he={},W={},H={},K="";try{const Fe=et.split(".");he=tt(Te(Fe[0])||""),W=tt(Te(Fe[1])||""),K=Fe[2],H=W.d||{},delete W.d}catch{}return{header:he,claims:W,data:H,signature:K}},_n=function(et){const W=Jt(et).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},Nt=function(et){const he=Jt(et).claims;return"object"==typeof he&&!0===he.admin};function In(et,he){return Object.prototype.hasOwnProperty.call(et,he)}function Ft(et,he){if(Object.prototype.hasOwnProperty.call(et,he))return et[he]}function Kn(et){for(const he in et)if(Object.prototype.hasOwnProperty.call(et,he))return!1;return!0}function hr(et,he,W){const H={};for(const K in et)Object.prototype.hasOwnProperty.call(et,K)&&(H[K]=he.call(W,et[K],K,et));return H}function yr(et,he){if(et===he)return!0;const W=Object.keys(et),H=Object.keys(he);for(const K of W){if(!H.includes(K))return!1;const Fe=et[K],at=he[K];if(Yt(Fe)&&Yt(at)){if(!yr(Fe,at))return!1}else if(Fe!==at)return!1}for(const K of H)if(!W.includes(K))return!1;return!0}function Yt(et){return null!==et&&"object"==typeof et}function er(et){const he=[];for(const[W,H]of Object.entries(et))Array.isArray(H)?H.forEach(K=>{he.push(encodeURIComponent(W)+"="+encodeURIComponent(K))}):he.push(encodeURIComponent(W)+"="+encodeURIComponent(H));return he.length?"&"+he.join("&"):""}function zn(et){const he={};return et.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[K,Fe]=H.split("=");he[decodeURIComponent(K)]=decodeURIComponent(Fe)}}),he}function tr(et){const he=et.indexOf("?");if(!he)return"";const W=et.indexOf("#",he);return et.substring(he,W>0?W:void 0)}class Fr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let he=1;he<this.blockSize;++he)this.pad_[he]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(he,W){W||(W=0);const H=this.W_;if("string"==typeof he)for(let Ht=0;Ht<16;Ht++)H[Ht]=he.charCodeAt(W)<<24|he.charCodeAt(W+1)<<16|he.charCodeAt(W+2)<<8|he.charCodeAt(W+3),W+=4;else for(let Ht=0;Ht<16;Ht++)H[Ht]=he[W]<<24|he[W+1]<<16|he[W+2]<<8|he[W+3],W+=4;for(let Ht=16;Ht<80;Ht++){const sn=H[Ht-3]^H[Ht-8]^H[Ht-14]^H[Ht-16];H[Ht]=4294967295&(sn<<1|sn>>>31)}let Ct,Kt,K=this.chain_[0],Fe=this.chain_[1],at=this.chain_[2],Be=this.chain_[3],pt=this.chain_[4];for(let Ht=0;Ht<80;Ht++){Ht<40?Ht<20?(Ct=Be^Fe&(at^Be),Kt=1518500249):(Ct=Fe^at^Be,Kt=1859775393):Ht<60?(Ct=Fe&at|Be&(Fe|at),Kt=2400959708):(Ct=Fe^at^Be,Kt=3395469782);const sn=(K<<5|K>>>27)+Ct+pt+Kt+H[Ht]&4294967295;pt=Be,Be=at,at=4294967295&(Fe<<30|Fe>>>2),Fe=K,K=sn}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Fe&4294967295,this.chain_[2]=this.chain_[2]+at&4294967295,this.chain_[3]=this.chain_[3]+Be&4294967295,this.chain_[4]=this.chain_[4]+pt&4294967295}update(he,W){if(null==he)return;void 0===W&&(W=he.length);const H=W-this.blockSize;let K=0;const Fe=this.buf_;let at=this.inbuf_;for(;K<W;){if(0===at)for(;K<=H;)this.compress_(he,K),K+=this.blockSize;if("string"==typeof he){for(;K<W;)if(Fe[at]=he.charCodeAt(K),++at,++K,at===this.blockSize){this.compress_(Fe),at=0;break}}else for(;K<W;)if(Fe[at]=he[K],++at,++K,at===this.blockSize){this.compress_(Fe),at=0;break}}this.inbuf_=at,this.total_+=W}digest(){const he=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&W,W/=256;this.compress_(this.buf_);let H=0;for(let K=0;K<5;K++)for(let Fe=24;Fe>=0;Fe-=8)he[H]=this.chain_[K]>>Fe&255,++H;return he}}function Cn(et,he){const W=new En(et,he);return W.subscribe.bind(W)}class En{constructor(he,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{he(this)}).catch(H=>{this.error(H)})}next(he){this.forEachObserver(W=>{W.next(he)})}error(he){this.forEachObserver(W=>{W.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,W,H){let K;if(void 0===he&&void 0===W&&void 0===H)throw new Error("Missing Observer.");K=function fr(et,he){if("object"!=typeof et||null===et)return!1;for(const W of he)if(W in et&&"function"==typeof et[W])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:W,complete:H},void 0===K.next&&(K.next=ur),void 0===K.error&&(K.error=ur),void 0===K.complete&&(K.complete=ur);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Fe}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,he)}sendOne(he,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{W(this.observers[he])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ur(){}const cr=function(et,he,W,H){let K;if(H<he?K="at least "+he:H>W&&(K=0===W?"none":"no more than "+W),K)throw new Error(et+" failed: Was called with "+H+(1===H?" argument.":" arguments.")+" Expects "+K+".")};function Rr(et,he){return`${et} failed: ${he} argument `}function Wn(et,he,W,H){if((!H||W)&&"function"!=typeof W)throw new Error(Rr(et,he)+"must be a valid function.")}function gn(et,he,W,H){if((!H||W)&&("object"!=typeof W||null===W))throw new Error(Rr(et,he)+"must be a valid context object.")}const ei=function(et){const he=[];let W=0;for(let H=0;H<et.length;H++){let K=et.charCodeAt(H);if(K>=55296&&K<=56319){const Fe=K-55296;H++,g(H<et.length,"Surrogate pair missing trail surrogate."),K=65536+(Fe<<10)+(et.charCodeAt(H)-56320)}K<128?he[W++]=K:K<2048?(he[W++]=K>>6|192,he[W++]=63&K|128):K<65536?(he[W++]=K>>12|224,he[W++]=K>>6&63|128,he[W++]=63&K|128):(he[W++]=K>>18|240,he[W++]=K>>12&63|128,he[W++]=K>>6&63|128,he[W++]=63&K|128)}return he},Vn=function(et){let he=0;for(let W=0;W<et.length;W++){const H=et.charCodeAt(W);H<128?he++:H<2048?he+=2:H>=55296&&H<=56319?(he+=4,W++):he+=3}return he},fe=1e3,Ke=2,Mt=144e5,ln=.5;function wn(et,he=fe,W=Ke){const H=he*Math.pow(W,et),K=Math.round(ln*H*(Math.random()-.5)*2);return Math.min(Mt,H+K)}function gr(et){return et&&et._delegate?et._delegate:et}},8261:(un,dt,L)=>{"use strict";L.d(dt,{KY:()=>_t,DM:()=>Ye,J2:()=>mt,Iq:()=>vt});var g=L(9751),se=L(4968),ge={error:"cordova_not_available"},xe={error:"plugin_not_installed"};function Ee(ce){if(typeof window<"u"&&window.angular){var He=window.document,We=window.angular.element(He.querySelector("[ng-app]")||He.body).injector();if(We)return We.get("$q")(function(ke,je){ce(ke,je)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(ke,je){ce(ke,je)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function be(ce,De,He){var We,Ne,ke;return"string"==typeof ce?We=ce:(We=ce.constructor.getPluginRef(),He=ce.constructor.getPluginName(),ke=ce.constructor.getPluginInstallName()),!(!(Ne=It(We))||De&&typeof Ne[De]>"u")||(typeof window>"u"||!window.cordova?(function ft(ce,De){typeof process>"u"&&console.warn(De?"Native: tried calling "+ce+"."+De+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+ce+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(He,De),ge):(function we(ce,De,He){console.warn(He?"Native: tried calling "+ce+"."+He+", but the "+ce+" plugin is not installed.":"Native: tried accessing the "+ce+" plugin but it's not installed."),De&&console.warn("Install the "+ce+" plugin: 'ionic cordova plugin add "+De+"'")}(He,ke,De),xe))}function Ue(ce,De,He,We,Ne,ke){void 0===We&&(We={}),He=function ve(ce,De,He,We){if(void 0===De&&(De={}),De.sync)return ce;if("reverse"===De.callbackOrder)ce.unshift(We),ce.unshift(He);else if("node"===De.callbackStyle)ce.push(function(ne,ct){ne?We(ne):He(ct)});else if("object"===De.callbackStyle&&De.successName&&De.errorName){var Ne={};Ne[De.successName]=He,Ne[De.errorName]=We,ce.push(Ne)}else if(typeof De.successIndex<"u"||typeof De.errorIndex<"u"){var ke=function(){De.successIndex>ce.length?ce[De.successIndex]=He:ce.splice(De.successIndex,0,He)},je=function(){De.errorIndex>ce.length?ce[De.errorIndex]=We:ce.splice(De.errorIndex,0,We)};De.successIndex>De.errorIndex?(je(),ke()):(ke(),je())}else ce.push(He),ce.push(We);return ce}(He,We,Ne,ke);var je=be(ce,De);if(!0===je){var ne=It(ce.constructor.getPluginRef());return ne[De].apply(ne,He)}return je}function It(ce){return typeof window<"u"?Me(window,ce):null}function Me(ce,De){for(var He=De.split("."),We=ce,Ne=0;Ne<He.length;Ne++){if(!We)return null;We=We[He[Ne]]}return We}var ot=function(ce,De,He){return void 0===He&&(He={}),function(){for(var We=[],Ne=0;Ne<arguments.length;Ne++)We[Ne]=arguments[Ne];return He.sync?Ue(ce,De,We,He):He.observable?function Ve(ce,De,He,We){return void 0===We&&(We={}),new g.y(function(Ne){var ke;return ke=We.destruct?Ue(ce,De,He,We,function(){for(var je=[],ne=0;ne<arguments.length;ne++)je[ne]=arguments[ne];return Ne.next(je)},function(){for(var je=[],ne=0;ne<arguments.length;ne++)je[ne]=arguments[ne];return Ne.error(je)}):Ue(ce,De,He,We,Ne.next.bind(Ne),Ne.error.bind(Ne)),ke&&ke.error&&(Ne.error(ke.error),Ne.complete()),function(){try{if(We.clearFunction)return We.clearWithArgs?Ue(ce,We.clearFunction,He,We,Ne.next.bind(Ne),Ne.error.bind(Ne)):Ue(ce,We.clearFunction,[])}catch(je){console.warn("Unable to clear the previous observable watch for",ce.constructor.getPluginName(),De),console.warn(je)}}})}(ce,De,We,He):He.eventObservable&&He.event?function Te(ce,De){return De=typeof window<"u"&&De?Me(window,De):De||(typeof window<"u"?window:{}),(0,se.R)(De,ce)}(He.event,He.element):He.otherPromise?function Ce(ce,De,He,We){return void 0===We&&(We={}),Ee(function(Ne,ke){var je=Ue(ce,De,He,We);je?je.error?ke(je.error):je.then&&je.then(Ne).catch(ke):ke({error:"unexpected_error"})})}(ce,De,We,He):function de(ce,De,He,We){void 0===We&&(We={});var Ne,ke,je=Ee(function(ne,ct){Ne=We.destruct?Ue(ce,De,He,We,function(){for(var Tt=[],Pt=0;Pt<arguments.length;Pt++)Tt[Pt]=arguments[Pt];return ne(Tt)},function(){for(var Tt=[],Pt=0;Pt<arguments.length;Pt++)Tt[Pt]=arguments[Pt];return ct(Tt)}):Ue(ce,De,He,We,ne,ct),ke=ct});return Ne&&Ne.error&&(je.catch(function(){}),"function"==typeof ke&&ke(Ne.error)),je}(ce,De,We,He)}},_t=function(){function ce(){}return ce.installed=function(){return!0===be(this.pluginRef)},ce.getPlugin=function(){return typeof window<"u"?function it(ce,De){for(var He=De.split("."),We=ce,Ne=0;Ne<He.length;Ne++){if(!We)return null;We=We[He[Ne]]}return We}(window,this.pluginRef):null},ce.getPluginName=function(){return this.pluginName},ce.getPluginRef=function(){return this.pluginRef},ce.getPluginInstallName=function(){return this.plugin},ce.getSupportedPlatforms=function(){return this.platforms},ce.pluginName="",ce.pluginRef="",ce.plugin="",ce.repo="",ce.platforms=[],ce.install="",ce}();function Ye(ce,De,He,We){return ot(ce,De,He).apply(this,We)}function mt(ce,De){return!0===be(ce,De)?It(ce.constructor.getPluginRef())[De]:null}function vt(ce,De,He){!0===be(ce,De)&&(It(ce.constructor.getPluginRef())[De]=He)}!function y(){if(typeof process>"u"){var ce=typeof window<"u"?window:{},He=Date.now(),We=!1;ce.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-He)+" ms"),We=!0}),setTimeout(function(){!We&&ce.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},83:(un,dt,L)=>{"use strict";L.d(dt,{S:()=>ge});var y=L(655),g=L(2223),se=L(8261),ge=function(xe){function Ee(){return null!==xe&&xe.apply(this,arguments)||this}return(0,y.ZT)(Ee,xe),Ee.prototype.getCurrentAcceleration=function(){return(0,se.DM)(this,"getCurrentAcceleration",{},arguments)},Ee.prototype.watchAcceleration=function(de){return(0,se.DM)(this,"watchAcceleration",{callbackOrder:"reverse",observable:!0,clearFunction:"clearWatch"},arguments)},Ee.pluginName="DeviceMotion",Ee.plugin="cordova-plugin-device-motion",Ee.pluginRef="navigator.accelerometer",Ee.repo="https://github.com/apache/cordova-plugin-device-motion",Ee.platforms=["Android","BlackBerry 10","Browser","Firefox OS","iOS","Tizen","Ubuntu","Windows","Windows Phone 8"],Ee.decorators=[{type:g.GSi}],Ee}(se.KY)},2720:(un,dt,L)=>{"use strict";L.d(dt,{y:()=>ge});var y=L(655),g=L(2223),se=L(8261),ge=function(xe){function Ee(){return null!==xe&&xe.apply(this,arguments)||this}return(0,y.ZT)(Ee,xe),Ee.prototype.available=function(){return(0,se.DM)(this,"available",{},arguments)},Ee.prototype.switchOn=function(){return(0,se.DM)(this,"switchOn",{},arguments)},Ee.prototype.switchOff=function(){return(0,se.DM)(this,"switchOff",{},arguments)},Ee.prototype.toggle=function(){return(0,se.DM)(this,"toggle",{},arguments)},Ee.prototype.isSwitchedOn=function(){return(0,se.DM)(this,"isSwitchedOn",{sync:!0},arguments)},Ee.pluginName="Flashlight",Ee.plugin="cordova-plugin-flashlight",Ee.pluginRef="window.plugins.flashlight",Ee.repo="https://github.com/EddyVerbruggen/Flashlight-PhoneGap-Plugin",Ee.platforms=["Android","iOS","Windows Phone 8"],Ee.decorators=[{type:g.GSi}],Ee}(se.KY)},5089:(un,dt,L)=>{"use strict";L.d(dt,{E:()=>ge});var y=L(655),g=L(2223),se=L(8261),ge=function(xe){function Ee(){var de=null!==xe&&xe.apply(this,arguments)||this;return de.ORIENTATIONS={PORTRAIT_PRIMARY:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary",LANDSCAPE_PRIMARY:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait",LANDSCAPE:"landscape",ANY:"any"},de}return(0,y.ZT)(Ee,xe),Ee.prototype.onChange=function(){return(0,se.DM)(this,"onChange",{eventObservable:!0,event:"orientationchange",element:"window"},arguments)},Ee.prototype.lock=function(de){return(0,se.DM)(this,"lock",{otherPromise:!0},arguments)},Ee.prototype.unlock=function(){return(0,se.DM)(this,"unlock",{sync:!0},arguments)},Object.defineProperty(Ee.prototype,"type",{get:function(){return(0,se.J2)(this,"type")},set:function(de){(0,se.Iq)(this,"type",de)},enumerable:!1,configurable:!0}),Ee.pluginName="ScreenOrientation",Ee.plugin="cordova-plugin-screen-orientation",Ee.pluginRef="screen.orientation",Ee.repo="https://github.com/apache/cordova-plugin-screen-orientation",Ee.platforms=["Android","iOS","Windows"],Ee.decorators=[{type:g.GSi}],Ee}(se.KY)},5789:(un,dt,L)=>{"use strict";L.d(dt,{w:()=>ge});var y=L(655),g=L(2223),se=L(8261),ge=function(xe){function Ee(){return null!==xe&&xe.apply(this,arguments)||this}return(0,y.ZT)(Ee,xe),Ee.prototype.vibrate=function(de){return(0,se.DM)(this,"vibrate",{sync:!0},arguments)},Ee.pluginName="Vibration",Ee.plugin="cordova-plugin-vibration",Ee.pluginRef="navigator",Ee.repo="https://github.com/apache/cordova-plugin-vibration",Ee.platforms=["Android","iOS","Windows"],Ee.decorators=[{type:g.GSi}],Ee}(se.KY)},9613:(un,dt,L)=>{"use strict";L.d(dt,{c:()=>It});var y=L(3577),g=L(3457);let se;const xe=Me=>Me.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ee=Me=>(void 0===se&&(se=void 0===Me.style.animationName&&void 0!==Me.style.webkitAnimationName?"-webkit-":""),se),de=(Me,we,ft)=>{const ot=we.startsWith("animation")?Ee(Me):"";Me.style.setProperty(ot+we,ft)},Ce=(Me,we)=>{const ft=we.startsWith("animation")?Ee(Me):"";Me.style.removeProperty(ft+we)},be=[],Ze=(Me=[],we)=>{if(void 0!==we){const ft=Array.isArray(we)?we:[we];return[...Me,...ft]}return Me},It=Me=>{let we,ft,ot,Ge,it,gt,nt,ke,je,ne,ct,At,tt,_t=[],Ye=[],Oe=[],St=!1,mt={},vt=[],ce=[],De={},He=0,We=!1,Ne=!1,Tt=!0,Pt=!1,rn=!0,kt=!1;const Jt=Me,cn=[],Mn=[],_n=[],Nt=[],In=[],Ft=[],Kn=[],hr=[],yr=[],Yt=[],Pr="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,er="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Pr,tr=()=>Yt,fr=(ae,z)=>((null!=z&&z.oneTimeCallback?Mn:cn).push({c:ae,o:z}),tt),cr=()=>{if(er)Yt.forEach(ae=>{ae.cancel()}),Yt.length=0;else{const ae=_n.slice();(0,y.r)(()=>{ae.forEach(z=>{Ce(z,"animation-name"),Ce(z,"animation-duration"),Ce(z,"animation-timing-function"),Ce(z,"animation-iteration-count"),Ce(z,"animation-delay"),Ce(z,"animation-play-state"),Ce(z,"animation-fill-mode"),Ce(z,"animation-direction")})})}},Rr=()=>{In.forEach(ae=>{null!=ae&&ae.parentNode&&ae.parentNode.removeChild(ae)}),In.length=0},Xn=()=>void 0!==it?it:nt?nt.getFill():"both",gr=()=>void 0!==je?je:void 0!==gt?gt:nt?nt.getDirection():"normal",et=()=>We?"linear":void 0!==ot?ot:nt?nt.getEasing():"linear",he=()=>Ne?0:void 0!==ne?ne:void 0!==ft?ft:nt?nt.getDuration():0,W=()=>void 0!==Ge?Ge:nt?nt.getIterations():1,H=()=>void 0!==ct?ct:void 0!==we?we:nt?nt.getDelay():0,Wt=()=>{0!==He&&(He--,0===He&&((()=>{Os(),hr.forEach(Qe=>Qe()),yr.forEach(Qe=>Qe());const ae=Tt?1:0,z=vt,ie=ce,$e=De;_n.forEach(Qe=>{const ht=Qe.classList;z.forEach(xt=>ht.add(xt)),ie.forEach(xt=>ht.remove(xt));for(const xt in $e)$e.hasOwnProperty(xt)&&de(Qe,xt,$e[xt])}),cn.forEach(Qe=>Qe.c(ae,tt)),Mn.forEach(Qe=>Qe.c(ae,tt)),Mn.length=0,rn=!0,Tt&&(Pt=!0),Tt=!0})(),nt&&nt.animationFinish()))},vn=(ae=!0)=>{Rr();const z=(Me=>(Me.forEach(we=>{for(const ft in we)if(we.hasOwnProperty(ft)){const ot=we[ft];if("easing"===ft)we["animation-timing-function"]=ot,delete we[ft];else{const Ge=xe(ft);Ge!==ft&&(we[Ge]=ot,delete we[ft])}}}),Me))(_t);_n.forEach(ie=>{if(z.length>0){const $e=((Me=[])=>Me.map(we=>{const ft=we.offset,ot=[];for(const Ge in we)we.hasOwnProperty(Ge)&&"offset"!==Ge&&ot.push(`${Ge}: ${we[Ge]};`);return`${100*ft}% { ${ot.join(" ")} }`}).join(" "))(z);At=void 0!==Me?Me:(Me=>{let we=be.indexOf(Me);return we<0&&(we=be.push(Me)-1),`ion-animation-${we}`})($e);const Qe=((Me,we,ft)=>{var ot;const Ge=(Me=>{const we=void 0!==Me.getRootNode?Me.getRootNode():Me;return we.head||we})(ft),it=Ee(ft),gt=Ge.querySelector("#"+Me);if(gt)return gt;const _t=(null!==(ot=ft.ownerDocument)&&void 0!==ot?ot:document).createElement("style");return _t.id=Me,_t.textContent=`@${it}keyframes ${Me} { ${we} } @${it}keyframes ${Me}-alt { ${we} }`,Ge.appendChild(_t),_t})(At,$e,ie);In.push(Qe),de(ie,"animation-duration",`${he()}ms`),de(ie,"animation-timing-function",et()),de(ie,"animation-delay",`${H()}ms`),de(ie,"animation-fill-mode",Xn()),de(ie,"animation-direction",gr());const ht=W()===1/0?"infinite":W().toString();de(ie,"animation-iteration-count",ht),de(ie,"animation-play-state","paused"),ae&&de(ie,"animation-name",`${Qe.id}-alt`),(0,y.r)(()=>{de(ie,"animation-name",Qe.id||null)})}})},ir=(ae=!0)=>{(()=>{Ft.forEach($e=>$e()),Kn.forEach($e=>$e());const ae=Ye,z=Oe,ie=mt;_n.forEach($e=>{const Qe=$e.classList;ae.forEach(ht=>Qe.add(ht)),z.forEach(ht=>Qe.remove(ht));for(const ht in ie)ie.hasOwnProperty(ht)&&de($e,ht,ie[ht])})})(),_t.length>0&&(er?(_n.forEach(ae=>{const z=ae.animate(_t,{id:Jt,delay:H(),duration:he(),easing:et(),iterations:W(),fill:Xn(),direction:gr()});z.pause(),Yt.push(z)}),Yt.length>0&&(Yt[0].onfinish=()=>{Wt()})):vn(ae)),St=!0},nr=ae=>{if(ae=Math.min(Math.max(ae,0),.9999),er)Yt.forEach(z=>{z.currentTime=z.effect.getComputedTiming().delay+he()*ae,z.pause()});else{const z=`-${he()*ae}ms`;_n.forEach(ie=>{_t.length>0&&(de(ie,"animation-delay",z),de(ie,"animation-play-state","paused"))})}},Zr=ae=>{Yt.forEach(z=>{z.effect.updateTiming({delay:H(),duration:he(),easing:et(),iterations:W(),fill:Xn(),direction:gr()})}),void 0!==ae&&nr(ae)},Ar=(ae=!0,z)=>{(0,y.r)(()=>{_n.forEach(ie=>{de(ie,"animation-name",At||null),de(ie,"animation-duration",`${he()}ms`),de(ie,"animation-timing-function",et()),de(ie,"animation-delay",void 0!==z?`-${z*he()}ms`:`${H()}ms`),de(ie,"animation-fill-mode",Xn()||null),de(ie,"animation-direction",gr()||null);const $e=W()===1/0?"infinite":W().toString();de(ie,"animation-iteration-count",$e),ae&&de(ie,"animation-name",`${At}-alt`),(0,y.r)(()=>{de(ie,"animation-name",At||null)})})})},dr=(ae=!1,z=!0,ie)=>(ae&&Nt.forEach($e=>{$e.update(ae,z,ie)}),er?Zr(ie):Ar(z,ie),tt),ps=()=>{St&&(er?Yt.forEach(ae=>{ae.pause()}):_n.forEach(ae=>{de(ae,"animation-play-state","paused")}),kt=!0)},es=()=>{ke=void 0,Wt()},Os=()=>{ke&&clearTimeout(ke)},os=ae=>new Promise(z=>{null!=ae&&ae.sync&&(Ne=!0,fr(()=>Ne=!1,{oneTimeCallback:!0})),St||ir(),Pt&&(er?(nr(0),Zr()):Ar(),Pt=!1),rn&&(He=Nt.length+1,rn=!1),fr(()=>z(),{oneTimeCallback:!0}),Nt.forEach(ie=>{ie.play()}),er?(Yt.forEach(ae=>{ae.play()}),(0===_t.length||0===_n.length)&&Wt()):(()=>{if(Os(),(0,y.r)(()=>{_n.forEach(ae=>{_t.length>0&&de(ae,"animation-play-state","running")})}),0===_t.length||0===_n.length)Wt();else{const ae=H()||0,z=he()||0,ie=W()||1;isFinite(ie)&&(ke=setTimeout(es,ae+z*ie+100)),((Me,we)=>{let ft;const ot={passive:!0},it=gt=>{Me===gt.target&&(ft&&ft(),Os(),(0,y.r)(()=>{_n.forEach(ae=>{Ce(ae,"animation-duration"),Ce(ae,"animation-delay"),Ce(ae,"animation-play-state")}),(0,y.r)(Wt)}))};Me&&(Me.addEventListener("webkitAnimationEnd",it,ot),Me.addEventListener("animationend",it,ot),ft=()=>{Me.removeEventListener("webkitAnimationEnd",it,ot),Me.removeEventListener("animationend",it,ot)})})(_n[0])}})(),kt=!1}),G=(ae,z)=>{const ie=_t[0];return void 0===ie||void 0!==ie.offset&&0!==ie.offset?_t=[{offset:0,[ae]:z},..._t]:ie[ae]=z,tt};return tt={parentAnimation:nt,elements:_n,childAnimations:Nt,id:Jt,animationFinish:Wt,from:G,to:(ae,z)=>{const ie=_t[_t.length-1];return void 0===ie||void 0!==ie.offset&&1!==ie.offset?_t=[..._t,{offset:1,[ae]:z}]:ie[ae]=z,tt},fromTo:(ae,z,ie)=>G(ae,z).to(ae,ie),parent:ae=>(nt=ae,tt),play:os,pause:()=>(Nt.forEach(ae=>{ae.pause()}),ps(),tt),stop:()=>{Nt.forEach(ae=>{ae.stop()}),St&&(cr(),St=!1),We=!1,Ne=!1,rn=!0,je=void 0,ne=void 0,ct=void 0,He=0,Pt=!1,Tt=!0,kt=!1},destroy:ae=>(Nt.forEach(z=>{z.destroy(ae)}),(ae=>{cr(),ae&&Rr()})(ae),_n.length=0,Nt.length=0,_t.length=0,cn.length=0,Mn.length=0,St=!1,rn=!0,tt),keyframes:ae=>{const z=_t!==ae;return _t=ae,z&&(ae=>{er?tr().forEach(z=>{if(z.effect.setKeyframes)z.effect.setKeyframes(ae);else{const ie=new KeyframeEffect(z.effect.target,ae,z.effect.getTiming());z.effect=ie}}):vn()})(_t),tt},addAnimation:ae=>{if(null!=ae)if(Array.isArray(ae))for(const z of ae)z.parent(tt),Nt.push(z);else ae.parent(tt),Nt.push(ae);return tt},addElement:ae=>{if(null!=ae)if(1===ae.nodeType)_n.push(ae);else if(ae.length>=0)for(let z=0;z<ae.length;z++)_n.push(ae[z]);else console.error("Invalid addElement value");return tt},update:dr,fill:ae=>(it=ae,dr(!0),tt),direction:ae=>(gt=ae,dr(!0),tt),iterations:ae=>(Ge=ae,dr(!0),tt),duration:ae=>(!er&&0===ae&&(ae=1),ft=ae,dr(!0),tt),easing:ae=>(ot=ae,dr(!0),tt),delay:ae=>(we=ae,dr(!0),tt),getWebAnimations:tr,getKeyframes:()=>_t,getFill:Xn,getDirection:gr,getDelay:H,getIterations:W,getEasing:et,getDuration:he,afterAddRead:ae=>(hr.push(ae),tt),afterAddWrite:ae=>(yr.push(ae),tt),afterClearStyles:(ae=[])=>{for(const z of ae)De[z]="";return tt},afterStyles:(ae={})=>(De=ae,tt),afterRemoveClass:ae=>(ce=Ze(ce,ae),tt),afterAddClass:ae=>(vt=Ze(vt,ae),tt),beforeAddRead:ae=>(Ft.push(ae),tt),beforeAddWrite:ae=>(Kn.push(ae),tt),beforeClearStyles:(ae=[])=>{for(const z of ae)mt[z]="";return tt},beforeStyles:(ae={})=>(mt=ae,tt),beforeRemoveClass:ae=>(Oe=Ze(Oe,ae),tt),beforeAddClass:ae=>(Ye=Ze(Ye,ae),tt),onFinish:fr,isRunning:()=>0!==He&&!kt,progressStart:(ae=!1,z)=>(Nt.forEach(ie=>{ie.progressStart(ae,z)}),ps(),We=ae,St||ir(),dr(!1,!0,z),tt),progressStep:ae=>(Nt.forEach(z=>{z.progressStep(ae)}),nr(ae),tt),progressEnd:(ae,z,ie)=>(We=!1,Nt.forEach($e=>{$e.progressEnd(ae,z,ie)}),void 0!==ie&&(ne=ie),Pt=!1,Tt=!0,0===ae?(je="reverse"===gr()?"normal":"reverse","reverse"===je&&(Tt=!1),er?(dr(),nr(1-z)):(ct=(1-z)*he()*-1,dr(!1,!1))):1===ae&&(er?(dr(),nr(z)):(ct=z*he()*-1,dr(!1,!1))),void 0!==ae&&(fr(()=>{ne=void 0,je=void 0,ct=void 0},{oneTimeCallback:!0}),nt||os()),tt)}}},3982:(un,dt,L)=>{"use strict";L.d(dt,{E:()=>Te,a:()=>y,s:()=>Ce});const y=be=>{try{if(be instanceof de)return be.value;if(!ge()||"string"!=typeof be||""===be)return be;if(be.includes("onload="))return"";const ze=document.createDocumentFragment(),ve=document.createElement("div");ze.appendChild(ve),ve.innerHTML=be,Ee.forEach(Me=>{const we=ze.querySelectorAll(Me);for(let ft=we.length-1;ft>=0;ft--){const ot=we[ft];ot.parentNode?ot.parentNode.removeChild(ot):ze.removeChild(ot);const Ge=se(ot);for(let it=0;it<Ge.length;it++)g(Ge[it])}});const Ue=se(ze);for(let Me=0;Me<Ue.length;Me++)g(Ue[Me]);const Ze=document.createElement("div");Ze.appendChild(ze);const It=Ze.querySelector("div");return null!==It?It.innerHTML:Ze.innerHTML}catch(ze){return console.error(ze),""}},g=be=>{if(be.nodeType&&1!==be.nodeType)return;if(typeof NamedNodeMap<"u"&&!(be.attributes instanceof NamedNodeMap))return void be.remove();for(let ve=be.attributes.length-1;ve>=0;ve--){const Ue=be.attributes.item(ve),Ze=Ue.name;if(!xe.includes(Ze.toLowerCase())){be.removeAttribute(Ze);continue}const It=Ue.value,Me=be[Ze];(null!=It&&It.toLowerCase().includes("javascript:")||null!=Me&&Me.toLowerCase().includes("javascript:"))&&be.removeAttribute(Ze)}const ze=se(be);for(let ve=0;ve<ze.length;ve++)g(ze[ve])},se=be=>null!=be.children?be.children:be.childNodes,ge=()=>{var be;const ze=window,ve=null===(be=null==ze?void 0:ze.Ionic)||void 0===be?void 0:be.config;return!ve||(ve.get?ve.get("sanitizerEnabled",!0):!0===ve.sanitizerEnabled||void 0===ve.sanitizerEnabled)},xe=["class","id","href","src","name","slot"],Ee=["script","style","iframe","meta","link","object","embed"];class de{constructor(ze){this.value=ze}}const Ce=be=>{const ze=window,ve=ze.Ionic;if(!ve||!ve.config||"Object"===ve.config.constructor.name)return ze.Ionic=ze.Ionic||{},ze.Ionic.config=Object.assign(Object.assign({},ze.Ionic.config),be),ze.Ionic.config},Te=!1},6782:(un,dt,L)=>{"use strict";L.d(dt,{C:()=>xe,a:()=>se,d:()=>ge});var y=L(5861),g=L(3577);const se=function(){var Ee=(0,y.Z)(function*(de,Ce,Ve,Te,be,ze){var ve;if(de)return de.attachViewToDom(Ce,Ve,be,Te);if(!(ze||"string"==typeof Ve||Ve instanceof HTMLElement))throw new Error("framework delegate is missing");const Ue="string"==typeof Ve?null===(ve=Ce.ownerDocument)||void 0===ve?void 0:ve.createElement(Ve):Ve;return Te&&Te.forEach(Ze=>Ue.classList.add(Ze)),be&&Object.assign(Ue,be),Ce.appendChild(Ue),yield new Promise(Ze=>(0,g.c)(Ue,Ze)),Ue});return function(Ce,Ve,Te,be,ze,ve){return Ee.apply(this,arguments)}}(),ge=(Ee,de)=>{if(de){if(Ee)return Ee.removeViewFromDom(de.parentElement,de);de.remove()}return Promise.resolve()},xe=()=>{let Ee,de;return{attachViewToDom:function(){var Te=(0,y.Z)(function*(be,ze,ve={},Ue=[]){var Ze,It;if(Ee=be,ze){const we="string"==typeof ze?null===(Ze=Ee.ownerDocument)||void 0===Ze?void 0:Ze.createElement(ze):ze;Ue.forEach(ft=>we.classList.add(ft)),Object.assign(we,ve),Ee.appendChild(we),yield new Promise(ft=>(0,g.c)(we,ft))}else if(Ee.children.length>0&&("ION-MODAL"===Ee.tagName||"ION-POPOVER"===Ee.tagName)&&!Ee.children[0].classList.contains("ion-delegate-host")){const ft=null===(It=Ee.ownerDocument)||void 0===It?void 0:It.createElement("div");ft.classList.add("ion-delegate-host"),Ue.forEach(ot=>ft.classList.add(ot)),ft.append(...Ee.children),Ee.appendChild(ft)}const Me=document.querySelector("ion-app")||document.body;return de=document.createComment("ionic teleport"),Ee.parentNode.insertBefore(de,Ee),Me.appendChild(Ee),Ee});return function(ze,ve){return Te.apply(this,arguments)}}(),removeViewFromDom:()=>(Ee&&de&&(de.parentNode.insertBefore(Ee,de),de.remove()),Promise.resolve())}}},4349:(un,dt,L)=>{"use strict";L.d(dt,{G:()=>xe});class g{constructor(de,Ce,Ve,Te,be){this.id=Ce,this.name=Ve,this.disableScroll=be,this.priority=1e6*Te+Ce,this.ctrl=de}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const de=this.ctrl.capture(this.name,this.id,this.priority);return de&&this.disableScroll&&this.ctrl.disableScroll(this.id),de}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class se{constructor(de,Ce,Ve,Te){this.id=Ce,this.disable=Ve,this.disableScroll=Te,this.ctrl=de}block(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.disableGesture(de,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.enableGesture(de,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ge="backdrop-no-scroll",xe=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(de){var Ce;return new g(this,this.newID(),de.name,null!==(Ce=de.priority)&&void 0!==Ce?Ce:0,!!de.disableScroll)}createBlocker(de={}){return new se(this,this.newID(),de.disable,!!de.disableScroll)}start(de,Ce,Ve){return this.canStart(de)?(this.requestedStart.set(Ce,Ve),!0):(this.requestedStart.delete(Ce),!1)}capture(de,Ce,Ve){if(!this.start(de,Ce,Ve))return!1;const Te=this.requestedStart;let be=-1e4;if(Te.forEach(ze=>{be=Math.max(be,ze)}),be===Ve){this.capturedId=Ce,Te.clear();const ze=new CustomEvent("ionGestureCaptured",{detail:{gestureName:de}});return document.dispatchEvent(ze),!0}return Te.delete(Ce),!1}release(de){this.requestedStart.delete(de),this.capturedId===de&&(this.capturedId=void 0)}disableGesture(de,Ce){let Ve=this.disabledGestures.get(de);void 0===Ve&&(Ve=new Set,this.disabledGestures.set(de,Ve)),Ve.add(Ce)}enableGesture(de,Ce){const Ve=this.disabledGestures.get(de);void 0!==Ve&&Ve.delete(Ce)}disableScroll(de){this.disabledScroll.add(de),1===this.disabledScroll.size&&document.body.classList.add(ge)}enableScroll(de){this.disabledScroll.delete(de),0===this.disabledScroll.size&&document.body.classList.remove(ge)}canStart(de){return!(void 0!==this.capturedId||this.isDisabled(de))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(de){const Ce=this.disabledGestures.get(de);return!!(Ce&&Ce.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(un,dt,L)=>{"use strict";L.r(dt),L.d(dt,{MENU_BACK_BUTTON_PRIORITY:()=>xe,OVERLAY_BACK_BUTTON_PRIORITY:()=>ge,blockHardwareBackButton:()=>g,startHardwareBackButton:()=>se});var y=L(5861);const g=()=>{document.addEventListener("backbutton",()=>{})},se=()=>{const Ee=document;let de=!1;Ee.addEventListener("backbutton",()=>{if(de)return;let Ce=0,Ve=[];const Te=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ve,Ue){Ve.push({priority:ve,handler:Ue,id:Ce++})}}});Ee.dispatchEvent(Te);const be=function(){var ve=(0,y.Z)(function*(Ue){try{if(null!=Ue&&Ue.handler){const Ze=Ue.handler(ze);null!=Ze&&(yield Ze)}}catch(Ze){console.error(Ze)}});return function(Ze){return ve.apply(this,arguments)}}(),ze=()=>{if(Ve.length>0){let ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ve.forEach(Ue=>{Ue.priority>=ve.priority&&(ve=Ue)}),de=!0,Ve=Ve.filter(Ue=>Ue.id!==ve.id),be(ve).then(()=>de=!1)}};ze()})},ge=100,xe=99},3577:(un,dt,L)=>{"use strict";L.d(dt,{a:()=>Ce,b:()=>Ve,c:()=>se,d:()=>It,e:()=>Ze,f:()=>Ue,g:()=>Te,h:()=>ve,i:()=>de,j:()=>it,k:()=>xe,l:()=>Me,m:()=>ge,n:()=>ze,o:()=>we,p:()=>ot,q:()=>Ge,r:()=>be,s:()=>_t,t:()=>y,u:()=>gt,v:()=>ft});const y=(Ye,Oe=0)=>new Promise(St=>{g(Ye,Oe,St)}),g=(Ye,Oe=0,St)=>{let nt,mt;const vt={passive:!0},De=()=>{nt&&nt()},He=We=>{(void 0===We||Ye===We.target)&&(De(),St(We))};return Ye&&(Ye.addEventListener("webkitTransitionEnd",He,vt),Ye.addEventListener("transitionend",He,vt),mt=setTimeout(He,Oe+500),nt=()=>{mt&&(clearTimeout(mt),mt=void 0),Ye.removeEventListener("webkitTransitionEnd",He,vt),Ye.removeEventListener("transitionend",He,vt)}),De},se=(Ye,Oe)=>{Ye.componentOnReady?Ye.componentOnReady().then(St=>Oe(St)):be(()=>Oe(Ye))},ge=Ye=>void 0!==Ye.componentOnReady,xe=(Ye,Oe=[])=>{const St={};return Oe.forEach(nt=>{Ye.hasAttribute(nt)&&(null!==Ye.getAttribute(nt)&&(St[nt]=Ye.getAttribute(nt)),Ye.removeAttribute(nt))}),St},Ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],de=(Ye,Oe)=>{let St=Ee;return Oe&&Oe.length>0&&(St=St.filter(nt=>!Oe.includes(nt))),xe(Ye,St)},Ce=(Ye,Oe,St,nt)=>{var mt;if(typeof window<"u"){const vt=window,ce=null===(mt=null==vt?void 0:vt.Ionic)||void 0===mt?void 0:mt.config;if(ce){const De=ce.get("_ael");if(De)return De(Ye,Oe,St,nt);if(ce._ael)return ce._ael(Ye,Oe,St,nt)}}return Ye.addEventListener(Oe,St,nt)},Ve=(Ye,Oe,St,nt)=>{var mt;if(typeof window<"u"){const vt=window,ce=null===(mt=null==vt?void 0:vt.Ionic)||void 0===mt?void 0:mt.config;if(ce){const De=ce.get("_rel");if(De)return De(Ye,Oe,St,nt);if(ce._rel)return ce._rel(Ye,Oe,St,nt)}}return Ye.removeEventListener(Oe,St,nt)},Te=(Ye,Oe=Ye)=>Ye.shadowRoot||Oe,be=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye),ze=Ye=>!!Ye.shadowRoot&&!!Ye.attachShadow,ve=Ye=>{const Oe=Ye.closest("ion-item");return Oe?Oe.querySelector("ion-label"):null},Ue=Ye=>{if(Ye.focus(),Ye.classList.contains("ion-focusable")){const Oe=Ye.closest("ion-app");Oe&&Oe.setFocus([Ye])}},Ze=(Ye,Oe)=>{let St;const nt=Ye.getAttribute("aria-labelledby"),mt=Ye.id;let vt=null!==nt&&""!==nt.trim()?nt:Oe+"-lbl",ce=null!==nt&&""!==nt.trim()?document.getElementById(nt):ve(Ye);return ce?(null===nt&&(ce.id=vt),St=ce.textContent,ce.setAttribute("aria-hidden","true")):""!==mt.trim()&&(ce=document.querySelector(`label[for="${mt}"]`),ce&&(""!==ce.id?vt=ce.id:ce.id=vt=`${mt}-lbl`,St=ce.textContent)),{label:ce,labelId:vt,labelText:St}},It=(Ye,Oe,St,nt,mt)=>{if(Ye||ze(Oe)){let vt=Oe.querySelector("input.aux-input");vt||(vt=Oe.ownerDocument.createElement("input"),vt.type="hidden",vt.classList.add("aux-input"),Oe.appendChild(vt)),vt.disabled=mt,vt.name=St,vt.value=nt||""}},Me=(Ye,Oe,St)=>Math.max(Ye,Math.min(Oe,St)),we=(Ye,Oe)=>{if(!Ye){const St="ASSERT: "+Oe;throw console.error(St),new Error(St)}},ft=Ye=>Ye.timeStamp||Date.now(),ot=Ye=>{if(Ye){const Oe=Ye.changedTouches;if(Oe&&Oe.length>0){const St=Oe[0];return{x:St.clientX,y:St.clientY}}if(void 0!==Ye.pageX)return{x:Ye.pageX,y:Ye.pageY}}return{x:0,y:0}},Ge=Ye=>{const Oe="rtl"===document.dir;switch(Ye){case"start":return Oe;case"end":return!Oe;default:throw new Error(`"${Ye}" is not a valid value for [side]. Use "start" or "end" instead.`)}},it=(Ye,Oe)=>{const St=Ye._original||Ye;return{_original:Ye,emit:gt(St.emit.bind(St),Oe)}},gt=(Ye,Oe=0)=>{let St;return(...nt)=>{clearTimeout(St),St=setTimeout(Ye,Oe,...nt)}},_t=(Ye,Oe)=>{if(null!=Ye||(Ye={}),null!=Oe||(Oe={}),Ye===Oe)return!0;const St=Object.keys(Ye);if(St.length!==Object.keys(Oe).length)return!1;for(const nt of St)if(!(nt in Oe)||Ye[nt]!==Oe[nt])return!1;return!0}},3457:(un,dt,L)=>{"use strict";L.d(dt,{w:()=>y});const y=typeof window<"u"?window:void 0},1898:(un,dt,L)=>{"use strict";L.r(dt),L.d(dt,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>Ve});var y=L(4349);const g=(ve,Ue,Ze,It)=>{const Me=se(ve)?{capture:!!It.capture,passive:!!It.passive}:!!It.capture;let we,ft;return ve.__zone_symbol__addEventListener?(we="__zone_symbol__addEventListener",ft="__zone_symbol__removeEventListener"):(we="addEventListener",ft="removeEventListener"),ve[we](Ue,Ze,Me),()=>{ve[ft](Ue,Ze,Me)}},se=ve=>{if(void 0===ge)try{const Ue=Object.defineProperty({},"passive",{get:()=>{ge=!0}});ve.addEventListener("optsTest",()=>{},Ue)}catch{ge=!1}return!!ge};let ge;const de=ve=>ve instanceof Document?ve:ve.ownerDocument,Ve=ve=>{let Ue=!1,Ze=!1,It=!0,Me=!1;const we=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ve),ft=we.canStart,ot=we.onWillStart,Ge=we.onStart,it=we.onEnd,gt=we.notCaptured,_t=we.onMove,Ye=we.threshold,Oe=we.passive,St=we.blurOnStart,nt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},mt=((ve,Ue,Ze)=>{const It=Ze*(Math.PI/180),Me="x"===ve,we=Math.cos(It),ft=Ue*Ue;let ot=0,Ge=0,it=!1,gt=0;return{start(_t,Ye){ot=_t,Ge=Ye,gt=0,it=!0},detect(_t,Ye){if(!it)return!1;const Oe=_t-ot,St=Ye-Ge,nt=Oe*Oe+St*St;if(nt<ft)return!1;const mt=Math.sqrt(nt),vt=(Me?Oe:St)/mt;return gt=vt>we?1:vt<-we?-1:0,it=!1,!0},isGesture:()=>0!==gt,getDirection:()=>gt}})(we.direction,we.threshold,we.maxAngle),vt=y.G.createGesture({name:ve.gestureName,priority:ve.gesturePriority,disableScroll:ve.disableScroll}),He=()=>{Ue&&(Me=!1,_t&&_t(nt))},We=()=>!!vt.capture()&&(Ue=!0,It=!1,nt.startX=nt.currentX,nt.startY=nt.currentY,nt.startTime=nt.currentTime,ot?ot(nt).then(ke):ke(),!0),ke=()=>{St&&(()=>{if(typeof document<"u"){const Pt=document.activeElement;null!=Pt&&Pt.blur&&Pt.blur()}})(),Ge&&Ge(nt),It=!0},je=()=>{Ue=!1,Ze=!1,Me=!1,It=!0,vt.release()},ne=Pt=>{const rn=Ue,At=It;if(je(),At){if(Te(nt,Pt),rn)return void(it&&it(nt));gt&&gt(nt)}},ct=((ve,Ue,Ze,It,Me)=>{let we,ft,ot,Ge,it,gt,_t,Ye=0;const Oe=Ne=>{Ye=Date.now()+2e3,Ue(Ne)&&(!ft&&Ze&&(ft=g(ve,"touchmove",Ze,Me)),ot||(ot=g(Ne.target,"touchend",nt,Me)),Ge||(Ge=g(Ne.target,"touchcancel",nt,Me)))},St=Ne=>{Ye>Date.now()||Ue(Ne)&&(!gt&&Ze&&(gt=g(de(ve),"mousemove",Ze,Me)),_t||(_t=g(de(ve),"mouseup",mt,Me)))},nt=Ne=>{vt(),It&&It(Ne)},mt=Ne=>{ce(),It&&It(Ne)},vt=()=>{ft&&ft(),ot&&ot(),Ge&&Ge(),ft=ot=Ge=void 0},ce=()=>{gt&&gt(),_t&&_t(),gt=_t=void 0},De=()=>{vt(),ce()},He=(Ne=!0)=>{Ne?(we||(we=g(ve,"touchstart",Oe,Me)),it||(it=g(ve,"mousedown",St,Me))):(we&&we(),it&&it(),we=it=void 0,De())};return{enable:He,stop:De,destroy:()=>{He(!1),It=Ze=Ue=void 0}}})(we.el,Pt=>{const rn=ze(Pt);return!(Ze||!It||(be(Pt,nt),nt.startX=nt.currentX,nt.startY=nt.currentY,nt.startTime=nt.currentTime=rn,nt.velocityX=nt.velocityY=nt.deltaX=nt.deltaY=0,nt.event=Pt,ft&&!1===ft(nt))||(vt.release(),!vt.start()))&&(Ze=!0,0===Ye?We():(mt.start(nt.startX,nt.startY),!0))},Pt=>{Ue?!Me&&It&&(Me=!0,Te(nt,Pt),requestAnimationFrame(He)):(Te(nt,Pt),mt.detect(nt.currentX,nt.currentY)&&(!mt.isGesture()||!We())&&Tt())},ne,{capture:!1,passive:Oe}),Tt=()=>{je(),ct.stop(),gt&&gt(nt)};return{enable(Pt=!0){Pt||(Ue&&ne(void 0),je()),ct.enable(Pt)},destroy(){vt.destroy(),ct.destroy()}}},Te=(ve,Ue)=>{if(!Ue)return;const Ze=ve.currentX,It=ve.currentY,Me=ve.currentTime;be(Ue,ve);const we=ve.currentX,ft=ve.currentY,Ge=(ve.currentTime=ze(Ue))-Me;if(Ge>0&&Ge<100){const gt=(ft-It)/Ge;ve.velocityX=(we-Ze)/Ge*.7+.3*ve.velocityX,ve.velocityY=.7*gt+.3*ve.velocityY}ve.deltaX=we-ve.startX,ve.deltaY=ft-ve.startY,ve.event=Ue},be=(ve,Ue)=>{let Ze=0,It=0;if(ve){const Me=ve.changedTouches;if(Me&&Me.length>0){const we=Me[0];Ze=we.clientX,It=we.clientY}else void 0!==ve.pageX&&(Ze=ve.pageX,It=ve.pageY)}Ue.currentX=Ze,Ue.currentY=It},ze=ve=>ve.timeStamp||Date.now()},4083:(un,dt,L)=>{"use strict";L.d(dt,{B:()=>be,H:()=>De,a:()=>vi,b:()=>pt,c:()=>Pt,d:()=>kt,e:()=>os,f:()=>tt,g:()=>rn,h:()=>vt,i:()=>wn,j:()=>ze,p:()=>ps,r:()=>Dt,w:()=>Ms});var y=L(5861);let se,ge,xe,Ee=!1,de=!1,Ce=!1,Ve=!1,Te=!1;const be={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ze=G=>{const X=new URL(G,Qn.$resourcesUrl$);return X.origin!==Ar.location.origin?X.href:X.pathname},ft="s-id",ot="sty-id",gt="http://www.w3.org/1999/xlink",_t={},nt=G=>"object"==(G=typeof G)||"function"===G;function mt(G){var X,_e,ae;return null!==(ae=null===(_e=null===(X=G.head)||void 0===X?void 0:X.querySelector('meta[name="csp-nonce"]'))||void 0===_e?void 0:_e.getAttribute("content"))&&void 0!==ae?ae:void 0}const vt=(G,X,..._e)=>{let ae=null,z=null,ie=null,$e=!1,Qe=!1;const ht=[],xt=fn=>{for(let Ln=0;Ln<fn.length;Ln++)ae=fn[Ln],Array.isArray(ae)?xt(ae):null!=ae&&"boolean"!=typeof ae&&(($e="function"!=typeof G&&!nt(ae))&&(ae=String(ae)),$e&&Qe?ht[ht.length-1].$text$+=ae:ht.push($e?ce(null,ae):ae),Qe=$e)};if(xt(_e),X){X.key&&(z=X.key),X.name&&(ie=X.name);{const fn=X.className||X.class;fn&&(X.class="object"!=typeof fn?fn:Object.keys(fn).filter(Ln=>fn[Ln]).join(" "))}}if("function"==typeof G)return G(null===X?{}:X,ht,We);const an=ce(G,null);return an.$attrs$=X,ht.length>0&&(an.$children$=ht),an.$key$=z,an.$name$=ie,an},ce=(G,X)=>({$flags$:0,$tag$:G,$text$:X,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),De={},We={forEach:(G,X)=>G.map(Ne).forEach(X),map:(G,X)=>G.map(Ne).map(X).map(ke)},Ne=G=>({vattrs:G.$attrs$,vchildren:G.$children$,vkey:G.$key$,vname:G.$name$,vtag:G.$tag$,vtext:G.$text$}),ke=G=>{if("function"==typeof G.vtag){const _e=Object.assign({},G.vattrs);return G.vkey&&(_e.key=G.vkey),G.vname&&(_e.name=G.vname),vt(G.vtag,_e,...G.vchildren||[])}const X=ce(G.vtag,G.vtext);return X.$attrs$=G.vattrs,X.$children$=G.vchildren,X.$key$=G.vkey,X.$name$=G.vname,X},ne=(G,X,_e,ae,z,ie,$e)=>{let Qe,ht,xt,an;if(1===ie.nodeType){for(Qe=ie.getAttribute("c-id"),Qe&&(ht=Qe.split("."),(ht[0]===$e||"0"===ht[0])&&(xt={$flags$:0,$hostId$:ht[0],$nodeId$:ht[1],$depth$:ht[2],$index$:ht[3],$tag$:ie.tagName.toLowerCase(),$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},X.push(xt),ie.removeAttribute("c-id"),G.$children$||(G.$children$=[]),G.$children$[xt.$index$]=xt,G=xt,ae&&"0"===xt.$depth$&&(ae[xt.$index$]=xt.$elm$))),an=ie.childNodes.length-1;an>=0;an--)ne(G,X,_e,ae,z,ie.childNodes[an],$e);if(ie.shadowRoot)for(an=ie.shadowRoot.childNodes.length-1;an>=0;an--)ne(G,X,_e,ae,z,ie.shadowRoot.childNodes[an],$e)}else if(8===ie.nodeType)ht=ie.nodeValue.split("."),(ht[1]===$e||"0"===ht[1])&&(Qe=ht[0],xt={$flags$:0,$hostId$:ht[1],$nodeId$:ht[2],$depth$:ht[3],$index$:ht[4],$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Qe?(xt.$elm$=ie.nextSibling,xt.$elm$&&3===xt.$elm$.nodeType&&(xt.$text$=xt.$elm$.textContent,X.push(xt),ie.remove(),G.$children$||(G.$children$=[]),G.$children$[xt.$index$]=xt,ae&&"0"===xt.$depth$&&(ae[xt.$index$]=xt.$elm$))):xt.$hostId$===$e&&("s"===Qe?(xt.$tag$="slot",ie["s-sn"]=ht[5]?xt.$name$=ht[5]:"",ie["s-sr"]=!0,ae&&(xt.$elm$=dr.createElement(xt.$tag$),xt.$name$&&xt.$elm$.setAttribute("name",xt.$name$),ie.parentNode.insertBefore(xt.$elm$,ie),ie.remove(),"0"===xt.$depth$&&(ae[xt.$index$]=xt.$elm$)),_e.push(xt),G.$children$||(G.$children$=[]),G.$children$[xt.$index$]=xt):"r"===Qe&&(ae?ie.remove():(z["s-cr"]=ie,ie["s-cn"]=!0))));else if(G&&"style"===G.$tag$){const fn=ce(null,ie.textContent);fn.$elm$=ie,fn.$index$="0",G.$children$=[fn]}},ct=(G,X)=>{if(1===G.nodeType){let _e=0;for(;_e<G.childNodes.length;_e++)ct(G.childNodes[_e],X);if(G.shadowRoot)for(_e=0;_e<G.shadowRoot.childNodes.length;_e++)ct(G.shadowRoot.childNodes[_e],X)}else if(8===G.nodeType){const _e=G.nodeValue.split(".");"o"===_e[0]&&(X.set(_e[1]+"."+_e[2],G),G.nodeValue="",G["s-en"]=_e[3])}},Pt=G=>Zr.push(G),rn=G=>Un(G).$modeName$,tt=G=>Un(G).$hostElement$,kt=(G,X,_e)=>{const ae=tt(G);return{emit:z=>Jt(ae,X,{bubbles:!!(4&_e),composed:!!(2&_e),cancelable:!!(1&_e),detail:z})}},Jt=(G,X,_e)=>{const ae=Qn.ce(X,_e);return G.dispatchEvent(ae),ae},cn=new WeakMap,Mn=(G,X,_e)=>{let ae=nr.get(G);Ci&&_e?(ae=ae||new CSSStyleSheet,"string"==typeof ae?ae=X:ae.replaceSync(X)):ae=X,nr.set(G,ae)},_n=(G,X,_e,ae)=>{var z;let ie=In(X,_e);const $e=nr.get(ie);if(G=11===G.nodeType?G:dr,$e)if("string"==typeof $e){let ht,Qe=cn.get(G=G.head||G);if(Qe||cn.set(G,Qe=new Set),!Qe.has(ie)){if(G.host&&(ht=G.querySelector(`[${ot}="${ie}"]`)))ht.innerHTML=$e;else{ht=dr.createElement("style"),ht.innerHTML=$e;const xt=null!==(z=Qn.$nonce$)&&void 0!==z?z:mt(dr);null!=xt&&ht.setAttribute("nonce",xt),G.insertBefore(ht,G.querySelector("link"))}Qe&&Qe.add(ie)}}else G.adoptedStyleSheets.includes($e)||(G.adoptedStyleSheets=[...G.adoptedStyleSheets,$e]);return ie},In=(G,X)=>"sc-"+(X&&32&G.$flags$?G.$tagName$+"-"+X:G.$tagName$),Ft=G=>G.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Kn=(G,X,_e,ae,z,ie)=>{if(_e!==ae){let $e=Wt(G,X),Qe=X.toLowerCase();if("class"===X){const ht=G.classList,xt=yr(_e),an=yr(ae);ht.remove(...xt.filter(fn=>fn&&!an.includes(fn))),ht.add(...an.filter(fn=>fn&&!xt.includes(fn)))}else if("style"===X){for(const ht in _e)(!ae||null==ae[ht])&&(ht.includes("-")?G.style.removeProperty(ht):G.style[ht]="");for(const ht in ae)(!_e||ae[ht]!==_e[ht])&&(ht.includes("-")?G.style.setProperty(ht,ae[ht]):G.style[ht]=ae[ht])}else if("key"!==X)if("ref"===X)ae&&ae(G);else if($e||"o"!==X[0]||"n"!==X[1]){const ht=nt(ae);if(($e||ht&&null!==ae)&&!z)try{if(G.tagName.includes("-"))G[X]=ae;else{const an=null==ae?"":ae;"list"===X?$e=!1:(null==_e||G[X]!=an)&&(G[X]=an)}}catch{}let xt=!1;Qe!==(Qe=Qe.replace(/^xlink\:?/,""))&&(X=Qe,xt=!0),null==ae||!1===ae?(!1!==ae||""===G.getAttribute(X))&&(xt?G.removeAttributeNS(gt,X):G.removeAttribute(X)):(!$e||4&ie||z)&&!ht&&(ae=!0===ae?"":ae,xt?G.setAttributeNS(gt,X,ae):G.setAttribute(X,ae))}else X="-"===X[2]?X.slice(3):Wt(Ar,Qe)?Qe.slice(2):Qe[2]+X.slice(3),_e&&Qn.rel(G,X,_e,!1),ae&&Qn.ael(G,X,ae,!1)}},hr=/\s/,yr=G=>G?G.split(hr):[],Yt=(G,X,_e,ae)=>{const z=11===X.$elm$.nodeType&&X.$elm$.host?X.$elm$.host:X.$elm$,ie=G&&G.$attrs$||_t,$e=X.$attrs$||_t;for(ae in ie)ae in $e||Kn(z,ae,ie[ae],void 0,_e,X.$flags$);for(ae in $e)Kn(z,ae,ie[ae],$e[ae],_e,X.$flags$)},Pr=(G,X,_e,ae)=>{const z=X.$children$[_e];let $e,Qe,ht,ie=0;if(Ee||(Ce=!0,"slot"===z.$tag$&&(se&&ae.classList.add(se+"-s"),z.$flags$|=z.$children$?2:1)),null!==z.$text$)$e=z.$elm$=dr.createTextNode(z.$text$);else if(1&z.$flags$)$e=z.$elm$=dr.createTextNode("");else{if(Ve||(Ve="svg"===z.$tag$),$e=z.$elm$=dr.createElementNS(Ve?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&z.$flags$?"slot-fb":z.$tag$),Ve&&"foreignObject"===z.$tag$&&(Ve=!1),Yt(null,z,Ve),(G=>null!=G)(se)&&$e["s-si"]!==se&&$e.classList.add($e["s-si"]=se),z.$children$)for(ie=0;ie<z.$children$.length;++ie)Qe=Pr(G,z,ie,$e),Qe&&$e.appendChild(Qe);"svg"===z.$tag$?Ve=!1:"foreignObject"===$e.tagName&&(Ve=!0)}return $e["s-hn"]=xe,3&z.$flags$&&($e["s-sr"]=!0,$e["s-cr"]=ge,$e["s-sn"]=z.$name$||"",ht=G&&G.$children$&&G.$children$[_e],ht&&ht.$tag$===z.$tag$&&G.$elm$&&er(G.$elm$,!1)),$e},er=(G,X)=>{Qn.$flags$|=1;const _e=G.childNodes;for(let ae=_e.length-1;ae>=0;ae--){const z=_e[ae];z["s-hn"]!==xe&&z["s-ol"]&&(xn(z).insertBefore(z,En(z)),z["s-ol"].remove(),z["s-ol"]=void 0,Ce=!0),X&&er(z,X)}Qn.$flags$&=-2},zn=(G,X,_e,ae,z,ie)=>{let Qe,$e=G["s-cr"]&&G["s-cr"].parentNode||G;for($e.shadowRoot&&$e.tagName===xe&&($e=$e.shadowRoot);z<=ie;++z)ae[z]&&(Qe=Pr(null,_e,z,G),Qe&&(ae[z].$elm$=Qe,$e.insertBefore(Qe,En(X))))},tr=(G,X,_e)=>{for(let ae=X;ae<=_e;++ae){const z=G[ae];if(z){const ie=z.$elm$;Wn(z),ie&&(de=!0,ie["s-ol"]?ie["s-ol"].remove():er(ie,!0),ie.remove())}}},Cn=(G,X)=>G.$tag$===X.$tag$&&("slot"===G.$tag$?G.$name$===X.$name$:G.$key$===X.$key$),En=G=>G&&G["s-ol"]||G,xn=G=>(G["s-ol"]?G["s-ol"]:G).parentNode,fr=(G,X)=>{const _e=X.$elm$=G.$elm$,ae=G.$children$,z=X.$children$,ie=X.$tag$,$e=X.$text$;let Qe;null===$e?(Ve="svg"===ie||"foreignObject"!==ie&&Ve,"slot"===ie||Yt(G,X,Ve),null!==ae&&null!==z?((G,X,_e,ae)=>{let Ei,Ti,z=0,ie=0,$e=0,Qe=0,ht=X.length-1,xt=X[0],an=X[ht],fn=ae.length-1,Ln=ae[0],sr=ae[fn];for(;z<=ht&&ie<=fn;)if(null==xt)xt=X[++z];else if(null==an)an=X[--ht];else if(null==Ln)Ln=ae[++ie];else if(null==sr)sr=ae[--fn];else if(Cn(xt,Ln))fr(xt,Ln),xt=X[++z],Ln=ae[++ie];else if(Cn(an,sr))fr(an,sr),an=X[--ht],sr=ae[--fn];else if(Cn(xt,sr))("slot"===xt.$tag$||"slot"===sr.$tag$)&&er(xt.$elm$.parentNode,!1),fr(xt,sr),G.insertBefore(xt.$elm$,an.$elm$.nextSibling),xt=X[++z],sr=ae[--fn];else if(Cn(an,Ln))("slot"===xt.$tag$||"slot"===sr.$tag$)&&er(an.$elm$.parentNode,!1),fr(an,Ln),G.insertBefore(an.$elm$,xt.$elm$),an=X[--ht],Ln=ae[++ie];else{for($e=-1,Qe=z;Qe<=ht;++Qe)if(X[Qe]&&null!==X[Qe].$key$&&X[Qe].$key$===Ln.$key$){$e=Qe;break}$e>=0?(Ti=X[$e],Ti.$tag$!==Ln.$tag$?Ei=Pr(X&&X[ie],_e,$e,G):(fr(Ti,Ln),X[$e]=void 0,Ei=Ti.$elm$),Ln=ae[++ie]):(Ei=Pr(X&&X[ie],_e,ie,G),Ln=ae[++ie]),Ei&&xn(xt.$elm$).insertBefore(Ei,En(xt.$elm$))}z>ht?zn(G,null==ae[fn+1]?null:ae[fn+1].$elm$,_e,ae,ie,fn):ie>fn&&tr(X,z,ht)})(_e,ae,X,z):null!==z?(null!==G.$text$&&(_e.textContent=""),zn(_e,null,X,z,0,z.length-1)):null!==ae&&tr(ae,0,ae.length-1),Ve&&"svg"===ie&&(Ve=!1)):(Qe=_e["s-cr"])?Qe.parentNode.textContent=$e:G.$text$!==$e&&(_e.data=$e)},ur=G=>{const X=G.childNodes;let _e,ae,z,ie,$e,Qe;for(ae=0,z=X.length;ae<z;ae++)if(_e=X[ae],1===_e.nodeType){if(_e["s-sr"])for($e=_e["s-sn"],_e.hidden=!1,ie=0;ie<z;ie++)if(Qe=X[ie].nodeType,X[ie]["s-hn"]!==_e["s-hn"]||""!==$e){if(1===Qe&&$e===X[ie].getAttribute("slot")){_e.hidden=!0;break}}else if(1===Qe||3===Qe&&""!==X[ie].textContent.trim()){_e.hidden=!0;break}ur(_e)}},cr=[],Rr=G=>{let X,_e,ae,z,ie,$e,Qe=0;const ht=G.childNodes,xt=ht.length;for(;Qe<xt;Qe++){if(X=ht[Qe],X["s-sr"]&&(_e=X["s-cr"])&&_e.parentNode)for(ae=_e.parentNode.childNodes,z=X["s-sn"],$e=ae.length-1;$e>=0;$e--)_e=ae[$e],!_e["s-cn"]&&!_e["s-nr"]&&_e["s-hn"]!==X["s-hn"]&&(Tr(_e,z)?(ie=cr.find(an=>an.$nodeToRelocate$===_e),de=!0,_e["s-sn"]=_e["s-sn"]||z,ie?ie.$slotRefNode$=X:cr.push({$slotRefNode$:X,$nodeToRelocate$:_e}),_e["s-sr"]&&cr.map(an=>{Tr(an.$nodeToRelocate$,_e["s-sn"])&&(ie=cr.find(fn=>fn.$nodeToRelocate$===_e),ie&&!an.$slotRefNode$&&(an.$slotRefNode$=ie.$slotRefNode$))})):cr.some(an=>an.$nodeToRelocate$===_e)||cr.push({$nodeToRelocate$:_e}));1===X.nodeType&&Rr(X)}},Tr=(G,X)=>1===G.nodeType?null===G.getAttribute("slot")&&""===X||G.getAttribute("slot")===X:G["s-sn"]===X||""===X,Wn=G=>{G.$attrs$&&G.$attrs$.ref&&G.$attrs$.ref(null),G.$children$&&G.$children$.map(Wn)},ei=(G,X)=>{X&&!G.$onRenderResolve$&&X["s-p"]&&X["s-p"].push(new Promise(_e=>G.$onRenderResolve$=_e))},Vn=(G,X)=>{if(G.$flags$|=16,!(4&G.$flags$))return ei(G,G.$ancestorComponent$),Ms(()=>Ut(G,X));G.$flags$|=512},Ut=(G,X)=>{const ae=G.$lazyInstance$;let z;return X&&(G.$flags$|=256,G.$queuedListeners$&&(G.$queuedListeners$.map(([ie,$e])=>Xn(ae,ie,$e)),G.$queuedListeners$=null),z=Xn(ae,"componentWillLoad")),z=fe(z,()=>Xn(ae,"componentWillRender")),fe(z,()=>Ke(G,ae,X))},fe=(G,X)=>G instanceof Promise?G.then(X):X(),Ke=function(){var G=(0,y.Z)(function*(X,_e,ae){const z=X.$hostElement$,$e=z["s-rc"];ae&&(G=>{const X=G.$cmpMeta$,_e=G.$hostElement$,ae=X.$flags$,ie=_n(_e.shadowRoot?_e.shadowRoot:_e.getRootNode(),X,G.$modeName$);10&ae&&(_e["s-sc"]=ie,_e.classList.add(ie+"-h"),2&ae&&_e.classList.add(ie+"-s"))})(X);Mt(X,_e),$e&&($e.map(ht=>ht()),z["s-rc"]=void 0);{const ht=z["s-p"],xt=()=>ln(X);0===ht.length?xt():(Promise.all(ht).then(xt),X.$flags$|=4,ht.length=0)}});return function(_e,ae,z){return G.apply(this,arguments)}}(),Mt=(G,X,_e)=>{try{X=X.render&&X.render(),G.$flags$&=-17,G.$flags$|=2,((G,X)=>{const _e=G.$hostElement$,ae=G.$cmpMeta$,z=G.$vnode$||ce(null,null),ie=(G=>G&&G.$tag$===De)(X)?X:vt(null,null,X);if(xe=_e.tagName,ae.$attrsToReflect$&&(ie.$attrs$=ie.$attrs$||{},ae.$attrsToReflect$.map(([$e,Qe])=>ie.$attrs$[Qe]=_e[$e])),ie.$tag$=null,ie.$flags$|=4,G.$vnode$=ie,ie.$elm$=z.$elm$=_e.shadowRoot||_e,se=_e["s-sc"],ge=_e["s-cr"],Ee=0!=(1&ae.$flags$),de=!1,fr(z,ie),Qn.$flags$|=1,Ce){Rr(ie.$elm$);let $e,Qe,ht,xt,an,fn,Ln=0;for(;Ln<cr.length;Ln++)$e=cr[Ln],Qe=$e.$nodeToRelocate$,Qe["s-ol"]||(ht=dr.createTextNode(""),ht["s-nr"]=Qe,Qe.parentNode.insertBefore(Qe["s-ol"]=ht,Qe));for(Ln=0;Ln<cr.length;Ln++)if($e=cr[Ln],Qe=$e.$nodeToRelocate$,$e.$slotRefNode$){for(xt=$e.$slotRefNode$.parentNode,an=$e.$slotRefNode$.nextSibling,ht=Qe["s-ol"];ht=ht.previousSibling;)if(fn=ht["s-nr"],fn&&fn["s-sn"]===Qe["s-sn"]&&xt===fn.parentNode&&(fn=fn.nextSibling,!fn||!fn["s-nr"])){an=fn;break}(!an&&xt!==Qe.parentNode||Qe.nextSibling!==an)&&Qe!==an&&(!Qe["s-hn"]&&Qe["s-ol"]&&(Qe["s-hn"]=Qe["s-ol"].parentNode.nodeName),xt.insertBefore(Qe,an))}else 1===Qe.nodeType&&(Qe.hidden=!0)}de&&ur(ie.$elm$),Qn.$flags$&=-2,cr.length=0})(G,X)}catch(ae){vn(ae,G.$hostElement$)}return null},ln=G=>{const _e=G.$hostElement$,z=G.$lazyInstance$,ie=G.$ancestorComponent$;Xn(z,"componentDidRender"),64&G.$flags$?Xn(z,"componentDidUpdate"):(G.$flags$|=64,gr(_e),Xn(z,"componentDidLoad"),G.$onReadyResolve$(_e),ie||pr()),G.$onInstanceResolve$(_e),G.$onRenderResolve$&&(G.$onRenderResolve$(),G.$onRenderResolve$=void 0),512&G.$flags$&&Yi(()=>Vn(G,!1)),G.$flags$&=-517},wn=G=>{{const X=Un(G),_e=X.$hostElement$.isConnected;return _e&&2==(18&X.$flags$)&&Vn(X,!1),_e}},pr=G=>{gr(dr.documentElement),Yi(()=>Jt(Ar,"appload",{detail:{namespace:"ionic"}}))},Xn=(G,X,_e)=>{if(G&&G[X])try{return G[X](_e)}catch(ae){vn(ae)}},gr=G=>G.classList.add("hydrated"),W=(G,X,_e)=>{if(X.$members$){G.watchers&&(X.$watchers$=G.watchers);const ae=Object.entries(X.$members$),z=G.prototype;if(ae.map(([ie,[$e]])=>{31&$e||2&_e&&32&$e?Object.defineProperty(z,ie,{get(){return((G,X)=>Un(this).$instanceValues$.get(X))(0,ie)},set(Qe){((G,X,_e,ae)=>{const z=Un(G),ie=z.$hostElement$,$e=z.$instanceValues$.get(X),Qe=z.$flags$,ht=z.$lazyInstance$;_e=((G,X)=>null==G||nt(G)?G:4&X?"false"!==G&&(""===G||!!G):2&X?parseFloat(G):1&X?String(G):G)(_e,ae.$members$[X][0]);const xt=Number.isNaN($e)&&Number.isNaN(_e);if((!(8&Qe)||void 0===$e)&&_e!==$e&&!xt&&(z.$instanceValues$.set(X,_e),ht)){if(ae.$watchers$&&128&Qe){const fn=ae.$watchers$[X];fn&&fn.map(Ln=>{try{ht[Ln](_e,$e,X)}catch(sr){vn(sr,ie)}})}2==(18&Qe)&&Vn(z,!1)}})(this,ie,Qe,X)},configurable:!0,enumerable:!0}):1&_e&&64&$e&&Object.defineProperty(z,ie,{value(...Qe){const ht=Un(this);return ht.$onInstancePromise$.then(()=>ht.$lazyInstance$[ie](...Qe))}})}),1&_e){const ie=new Map;z.attributeChangedCallback=function($e,Qe,ht){Qn.jmp(()=>{const xt=ie.get($e);if(this.hasOwnProperty(xt))ht=this[xt],delete this[xt];else if(z.hasOwnProperty(xt)&&"number"==typeof this[xt]&&this[xt]==ht)return;this[xt]=(null!==ht||"boolean"!=typeof this[xt])&&ht})},G.observedAttributes=ae.filter(([$e,Qe])=>15&Qe[0]).map(([$e,Qe])=>{const ht=Qe[1]||$e;return ie.set(ht,$e),512&Qe[0]&&X.$attrsToReflect$.push([$e,ht]),ht})}}return G},H=function(){var G=(0,y.Z)(function*(X,_e,ae,z,ie){if(!(32&_e.$flags$)){_e.$flags$|=32;{if((ie=ir(ae)).then){const xt=()=>{};ie=yield ie,xt()}ie.isProxied||(ae.$watchers$=ie.watchers,W(ie,ae,2),ie.isProxied=!0);const ht=()=>{};_e.$flags$|=8;try{new ie(_e)}catch(xt){vn(xt)}_e.$flags$&=-9,_e.$flags$|=128,ht(),K(_e.$lazyInstance$)}if(ie.style){let ht=ie.style;"string"!=typeof ht&&(ht=ht[_e.$modeName$=(G=>Zr.map(X=>X(G)).find(X=>!!X))(X)]);const xt=In(ae,_e.$modeName$);if(!nr.has(xt)){const an=()=>{};Mn(xt,ht,!!(1&ae.$flags$)),an()}}}const $e=_e.$ancestorComponent$,Qe=()=>Vn(_e,!0);$e&&$e["s-rc"]?$e["s-rc"].push(Qe):Qe()});return function(_e,ae,z,ie,$e){return G.apply(this,arguments)}}(),K=G=>{Xn(G,"connectedCallback")},at=G=>{const X=G["s-cr"]=dr.createComment("");X["s-cn"]=!0,G.insertBefore(X,G.firstChild)},pt=(G,X={})=>{var _e;const z=[],ie=X.exclude||[],$e=Ar.customElements,Qe=dr.head,ht=Qe.querySelector("meta[charset]"),xt=dr.createElement("style"),an=[],fn=dr.querySelectorAll(`[${ot}]`);let Ln,sr=!0,Ei=0;for(Object.assign(Qn,X),Qn.$resourcesUrl$=new URL(X.resourcesUrl||"./",dr.baseURI).href,Qn.$flags$|=2;Ei<fn.length;Ei++)Mn(fn[Ei].getAttribute(ot),Ft(fn[Ei].innerHTML),!0);G.map(Ti=>{Ti[1].map(Pi=>{const Hr={$flags$:Pi[0],$tagName$:Pi[1],$members$:Pi[2],$listeners$:Pi[3]};Hr.$members$=Pi[2],Hr.$listeners$=Pi[3],Hr.$attrsToReflect$=[],Hr.$watchers$={};const bn=Hr.$tagName$,Ir=class extends HTMLElement{constructor(Wr){super(Wr),bt(Wr=this,Hr),1&Hr.$flags$&&Wr.attachShadow({mode:"open",delegatesFocus:!!(16&Hr.$flags$)})}connectedCallback(){Ln&&(clearTimeout(Ln),Ln=null),sr?an.push(this):Qn.jmp(()=>(G=>{if(!(1&Qn.$flags$)){const X=Un(G),_e=X.$cmpMeta$,ae=()=>{};if(1&X.$flags$)Ct(G,X,_e.$listeners$),K(X.$lazyInstance$);else{let z;if(X.$flags$|=1,z=G.getAttribute(ft),z){if(1&_e.$flags$){const ie=_n(G.shadowRoot,_e,G.getAttribute("s-mode"));G.classList.remove(ie+"-h",ie+"-s")}((G,X,_e,ae)=>{const ie=G.shadowRoot,$e=[],ht=ie?[]:null,xt=ae.$vnode$=ce(X,null);Qn.$orgLocNodes$||ct(dr.body,Qn.$orgLocNodes$=new Map),G[ft]=_e,G.removeAttribute(ft),ne(xt,$e,[],ht,G,G,_e),$e.map(an=>{const fn=an.$hostId$+"."+an.$nodeId$,Ln=Qn.$orgLocNodes$.get(fn),sr=an.$elm$;Ln&&_i&&""===Ln["s-en"]&&Ln.parentNode.insertBefore(sr,Ln.nextSibling),ie||(sr["s-hn"]=X,Ln&&(sr["s-ol"]=Ln,sr["s-ol"]["s-nr"]=sr)),Qn.$orgLocNodes$.delete(fn)}),ie&&ht.map(an=>{an&&ie.appendChild(an)})})(G,_e.$tagName$,z,X)}z||12&_e.$flags$&&at(G);{let ie=G;for(;ie=ie.parentNode||ie.host;)if(1===ie.nodeType&&ie.hasAttribute("s-id")&&ie["s-p"]||ie["s-p"]){ei(X,X.$ancestorComponent$=ie);break}}_e.$members$&&Object.entries(_e.$members$).map(([ie,[$e]])=>{if(31&$e&&G.hasOwnProperty(ie)){const Qe=G[ie];delete G[ie],G[ie]=Qe}}),H(G,X,_e)}ae()}})(this))}disconnectedCallback(){Qn.jmp(()=>(G=>{if(!(1&Qn.$flags$)){const X=Un(this),_e=X.$lazyInstance$;X.$rmListeners$&&(X.$rmListeners$.map(ae=>ae()),X.$rmListeners$=void 0),Xn(_e,"disconnectedCallback")}})())}componentOnReady(){return Un(this).$onReadyPromise$}};Hr.$lazyBundleId$=Ti[0],!ie.includes(bn)&&!$e.get(bn)&&(z.push(bn),$e.define(bn,W(Ir,Hr,1)))})});{xt.innerHTML=z+"{visibility:hidden}.hydrated{visibility:inherit}",xt.setAttribute("data-styles","");const Ti=null!==(_e=Qn.$nonce$)&&void 0!==_e?_e:mt(dr);null!=Ti&&xt.setAttribute("nonce",Ti),Qe.insertBefore(xt,ht?ht.nextSibling:Qe.firstChild)}sr=!1,an.length?an.map(Ti=>Ti.connectedCallback()):Qn.jmp(()=>Ln=setTimeout(pr,30))},Ct=(G,X,_e,ae)=>{_e&&_e.map(([z,ie,$e])=>{const Qe=Ht(G,z),ht=Kt(X,$e),xt=sn(z);Qn.ael(Qe,ie,ht,xt),(X.$rmListeners$=X.$rmListeners$||[]).push(()=>Qn.rel(Qe,ie,ht,xt))})},Kt=(G,X)=>_e=>{try{256&G.$flags$?G.$lazyInstance$[X](_e):(G.$queuedListeners$=G.$queuedListeners$||[]).push([X,_e])}catch(ae){vn(ae)}},Ht=(G,X)=>4&X?dr:8&X?Ar:16&X?dr.body:G,sn=G=>0!=(2&G),Gn=new WeakMap,Un=G=>Gn.get(G),Dt=(G,X)=>Gn.set(X.$lazyInstance$=G,X),bt=(G,X)=>{const _e={$flags$:0,$hostElement$:G,$cmpMeta$:X,$instanceValues$:new Map};return _e.$onInstancePromise$=new Promise(ae=>_e.$onInstanceResolve$=ae),_e.$onReadyPromise$=new Promise(ae=>_e.$onReadyResolve$=ae),G["s-p"]=[],G["s-rc"]=[],Ct(G,_e,X.$listeners$),Gn.set(G,_e)},Wt=(G,X)=>X in G,vn=(G,X)=>(0,console.error)(G,X),Nn=new Map,ir=(G,X,_e)=>{const ae=G.$tagName$.replace(/-/g,"_"),z=G.$lazyBundleId$,ie=Nn.get(z);return ie?ie[ae]:L(863)(`./${z}.entry.js`).then($e=>(Nn.set(z,$e),$e[ae]),vn)},nr=new Map,Zr=[],Ar=typeof window<"u"?window:{},dr=Ar.document||{head:{}},Qn={$flags$:0,$resourcesUrl$:"",jmp:G=>G(),raf:G=>requestAnimationFrame(G),ael:(G,X,_e,ae)=>G.addEventListener(X,_e,ae),rel:(G,X,_e,ae)=>G.removeEventListener(X,_e,ae),ce:(G,X)=>new CustomEvent(G,X)},vi=G=>{Object.assign(Qn,G)},_i=!0,ps=G=>Promise.resolve(G),Ci=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),es=[],Os=[],xi=(G,X)=>_e=>{G.push(_e),Te||(Te=!0,X&&4&Qn.$flags$?Yi(ss):Qn.raf(ss))},si=G=>{for(let X=0;X<G.length;X++)try{G[X](performance.now())}catch(_e){vn(_e)}G.length=0},ss=()=>{si(es),si(Os),(Te=es.length>0)&&Qn.raf(ss)},Yi=G=>ps().then(G),os=xi(es,!1),Ms=xi(Os,!0)},8126:(un,dt,L)=>{"use strict";L.d(dt,{m:()=>be});var y=L(5861),g=L(7593),se=L(3577),ge=L(5273),xe=L(9613);const Ee=ze=>(0,xe.c)().duration(ze?400:300),de=ze=>{let ve,Ue;const Ze=ze.width+8,It=(0,xe.c)(),Me=(0,xe.c)();ze.isEndSide?(ve=Ze+"px",Ue="0px"):(ve=-Ze+"px",Ue="0px"),It.addElement(ze.menuInnerEl).fromTo("transform",`translateX(${ve})`,`translateX(${Ue})`);const ft="ios"===(0,ge.b)(ze),ot=ft?.2:.25;return Me.addElement(ze.backdropEl).fromTo("opacity",.01,ot),Ee(ft).addAnimation([It,Me])},Ce=ze=>{let ve,Ue;const Ze=(0,ge.b)(ze),It=ze.width;ze.isEndSide?(ve=-It+"px",Ue=It+"px"):(ve=It+"px",Ue=-It+"px");const Me=(0,xe.c)().addElement(ze.menuInnerEl).fromTo("transform",`translateX(${Ue})`,"translateX(0px)"),we=(0,xe.c)().addElement(ze.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`),ft=(0,xe.c)().addElement(ze.backdropEl).fromTo("opacity",.01,.32);return Ee("ios"===Ze).addAnimation([Me,we,ft])},Ve=ze=>{const ve=(0,ge.b)(ze),Ue=ze.width*(ze.isEndSide?-1:1)+"px",Ze=(0,xe.c)().addElement(ze.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ue})`);return Ee("ios"===ve).addAnimation(Ze)},be=(()=>{const ze=new Map,ve=[],Ue=function(){var ke=(0,y.Z)(function*(je){const ne=yield Ge(je);return!!ne&&ne.open()});return function(ne){return ke.apply(this,arguments)}}(),Ze=function(){var ke=(0,y.Z)(function*(je){const ne=yield void 0!==je?Ge(je):it();return void 0!==ne&&ne.close()});return function(ne){return ke.apply(this,arguments)}}(),It=function(){var ke=(0,y.Z)(function*(je){const ne=yield Ge(je);return!!ne&&ne.toggle()});return function(ne){return ke.apply(this,arguments)}}(),Me=function(){var ke=(0,y.Z)(function*(je,ne){const ct=yield Ge(ne);return ct&&(ct.disabled=!je),ct});return function(ne,ct){return ke.apply(this,arguments)}}(),we=function(){var ke=(0,y.Z)(function*(je,ne){const ct=yield Ge(ne);return ct&&(ct.swipeGesture=je),ct});return function(ne,ct){return ke.apply(this,arguments)}}(),ft=function(){var ke=(0,y.Z)(function*(je){if(null!=je){const ne=yield Ge(je);return void 0!==ne&&ne.isOpen()}return void 0!==(yield it())});return function(ne){return ke.apply(this,arguments)}}(),ot=function(){var ke=(0,y.Z)(function*(je){const ne=yield Ge(je);return!!ne&&!ne.disabled});return function(ne){return ke.apply(this,arguments)}}(),Ge=function(){var ke=(0,y.Z)(function*(je){return yield Ne(),"start"===je||"end"===je?We(Tt=>Tt.side===je&&!Tt.disabled)||We(Tt=>Tt.side===je):null!=je?We(ct=>ct.menuId===je):We(ct=>!ct.disabled)||(ve.length>0?ve[0].el:void 0)});return function(ne){return ke.apply(this,arguments)}}(),it=function(){var ke=(0,y.Z)(function*(){return yield Ne(),ce()});return function(){return ke.apply(this,arguments)}}(),gt=function(){var ke=(0,y.Z)(function*(){return yield Ne(),De()});return function(){return ke.apply(this,arguments)}}(),_t=function(){var ke=(0,y.Z)(function*(){return yield Ne(),He()});return function(){return ke.apply(this,arguments)}}(),Ye=(ke,je)=>{ze.set(ke,je)},nt=ke=>{const je=ke.side;ve.filter(ne=>ne.side===je&&ne!==ke).forEach(ne=>ne.disabled=!0)},mt=function(){var ke=(0,y.Z)(function*(je,ne,ct){if(He())return!1;if(ne){const Tt=yield it();Tt&&je.el!==Tt&&(yield Tt.setOpen(!1,!1))}return je._setOpen(ne,ct)});return function(ne,ct,Tt){return ke.apply(this,arguments)}}(),ce=()=>We(ke=>ke._isOpen),De=()=>ve.map(ke=>ke.el),He=()=>ve.some(ke=>ke.isAnimating),We=ke=>{const je=ve.find(ke);if(void 0!==je)return je.el},Ne=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ke=>new Promise(je=>(0,se.c)(ke,je))));return Ye("reveal",Ve),Ye("push",Ce),Ye("overlay",de),typeof document<"u"&&document.addEventListener("ionBackButton",ke=>{const je=ce();je&&ke.detail.register(g.MENU_BACK_BUTTON_PRIORITY,()=>je.close())}),{registerAnimation:Ye,get:Ge,getMenus:gt,getOpen:it,isEnabled:ot,swipeGesture:we,isAnimating:_t,isOpen:ft,enable:Me,toggle:It,close:Ze,open:Ue,_getOpenSync:ce,_createAnimation:(ke,je)=>{const ne=ze.get(ke);if(!ne)throw new Error("animation not registered");return ne(je)},_register:ke=>{ve.indexOf(ke)<0&&(ke.disabled||nt(ke),ve.push(ke))},_unregister:ke=>{const je=ve.indexOf(ke);je>-1&&ve.splice(je,1)},_setOpen:mt,_setActiveMenu:nt}})()},1178:(un,dt,L)=>{"use strict";L.d(dt,{a:()=>g,b:()=>se,p:()=>y});const y=(ge,...xe)=>console.warn(`[Ionic Warning]: ${ge}`,...xe),g=(ge,...xe)=>console.error(`[Ionic Error]: ${ge}`,...xe),se=(ge,...xe)=>console.error(`<${ge.tagName.toLowerCase()}> must be used inside ${xe.join(" or ")}.`)},9866:(un,dt,L)=>{"use strict";L.d(dt,{L:()=>ge,a:()=>xe,b:()=>Ee,c:()=>de,d:()=>Ce,e:()=>_t,g:()=>St,l:()=>gt,s:()=>Ye,t:()=>be});var y=L(5861),g=L(4083),se=L(3577);const ge="ionViewWillEnter",xe="ionViewDidEnter",Ee="ionViewWillLeave",de="ionViewDidLeave",Ce="ionViewWillUnload",be=nt=>new Promise((mt,vt)=>{(0,g.w)(()=>{ze(nt),ve(nt).then(ce=>{ce.animation&&ce.animation.destroy(),Ue(nt),mt(ce)},ce=>{Ue(nt),vt(ce)})})}),ze=nt=>{const mt=nt.enteringEl,vt=nt.leavingEl;Oe(mt,vt,nt.direction),nt.showGoBack?mt.classList.add("can-go-back"):mt.classList.remove("can-go-back"),Ye(mt,!1),mt.style.setProperty("pointer-events","none"),vt&&(Ye(vt,!1),vt.style.setProperty("pointer-events","none"))},ve=function(){var nt=(0,y.Z)(function*(mt){const vt=yield Ze(mt);return vt&&g.B.isBrowser?It(vt,mt):Me(mt)});return function(vt){return nt.apply(this,arguments)}}(),Ue=nt=>{const mt=nt.enteringEl,vt=nt.leavingEl;mt.classList.remove("ion-page-invisible"),mt.style.removeProperty("pointer-events"),void 0!==vt&&(vt.classList.remove("ion-page-invisible"),vt.style.removeProperty("pointer-events"))},Ze=function(){var nt=(0,y.Z)(function*(mt){return mt.leavingEl&&mt.animated&&0!==mt.duration?mt.animationBuilder?mt.animationBuilder:"ios"===mt.mode?(yield Promise.resolve().then(L.bind(L,3551))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,1138))).mdTransitionAnimation:void 0});return function(vt){return nt.apply(this,arguments)}}(),It=function(){var nt=(0,y.Z)(function*(mt,vt){yield we(vt,!0);const ce=mt(vt.baseEl,vt);Ge(vt.enteringEl,vt.leavingEl);const De=yield ot(ce,vt);return vt.progressCallback&&vt.progressCallback(void 0),De&&it(vt.enteringEl,vt.leavingEl),{hasCompleted:De,animation:ce}});return function(vt,ce){return nt.apply(this,arguments)}}(),Me=function(){var nt=(0,y.Z)(function*(mt){const vt=mt.enteringEl,ce=mt.leavingEl;return yield we(mt,!1),Ge(vt,ce),it(vt,ce),{hasCompleted:!0}});return function(vt){return nt.apply(this,arguments)}}(),we=function(){var nt=(0,y.Z)(function*(mt,vt){(void 0!==mt.deepWait?mt.deepWait:vt)&&(yield Promise.all([_t(mt.enteringEl),_t(mt.leavingEl)])),yield ft(mt.viewIsReady,mt.enteringEl)});return function(vt,ce){return nt.apply(this,arguments)}}(),ft=function(){var nt=(0,y.Z)(function*(mt,vt){mt&&(yield mt(vt))});return function(vt,ce){return nt.apply(this,arguments)}}(),ot=(nt,mt)=>{const vt=mt.progressCallback,ce=new Promise(De=>{nt.onFinish(He=>De(1===He))});return vt?(nt.progressStart(!0),vt(nt)):nt.play(),ce},Ge=(nt,mt)=>{gt(mt,Ee),gt(nt,ge)},it=(nt,mt)=>{gt(nt,xe),gt(mt,de)},gt=(nt,mt)=>{if(nt){const vt=new CustomEvent(mt,{bubbles:!1,cancelable:!1});nt.dispatchEvent(vt)}},_t=function(){var nt=(0,y.Z)(function*(mt){const vt=mt;if(vt){if(null!=vt.componentOnReady){if(null!=(yield vt.componentOnReady()))return}else if(null!=vt.__registerHost)return void(yield new Promise(De=>(0,se.r)(De)));yield Promise.all(Array.from(vt.children).map(_t))}});return function(vt){return nt.apply(this,arguments)}}(),Ye=(nt,mt)=>{mt?(nt.setAttribute("aria-hidden","true"),nt.classList.add("ion-page-hidden")):(nt.hidden=!1,nt.removeAttribute("aria-hidden"),nt.classList.remove("ion-page-hidden"))},Oe=(nt,mt,vt)=>{void 0!==nt&&(nt.style.zIndex="back"===vt?"99":"101"),void 0!==mt&&(mt.style.zIndex="100")},St=nt=>nt.classList.contains("ion-page")?nt:nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||nt},5273:(un,dt,L)=>{"use strict";L.d(dt,{a:()=>be,b:()=>He,c:()=>se,g:()=>Te,i:()=>We});var y=L(4083);class g{constructor(){this.m=new Map}reset(ke){this.m=new Map(Object.entries(ke))}get(ke,je){const ne=this.m.get(ke);return void 0!==ne?ne:je}getBoolean(ke,je=!1){const ne=this.m.get(ke);return void 0===ne?je:"string"==typeof ne?"true"===ne:!!ne}getNumber(ke,je){const ne=parseFloat(this.m.get(ke));return isNaN(ne)?void 0!==je?je:NaN:ne}set(ke,je){this.m.set(ke,je)}}const se=new g,Ve="ionic-persist-config",Te=Ne=>ze(Ne),be=(Ne,ke)=>("string"==typeof Ne&&(ke=Ne,Ne=void 0),Te(Ne).includes(ke)),ze=(Ne=window)=>{if(typeof Ne>"u")return[];Ne.Ionic=Ne.Ionic||{};let ke=Ne.Ionic.platforms;return null==ke&&(ke=Ne.Ionic.platforms=ve(Ne),ke.forEach(je=>Ne.document.documentElement.classList.add(`plt-${je}`))),ke},ve=Ne=>{const ke=se.get("platform");return Object.keys(ce).filter(je=>{const ne=null==ke?void 0:ke[je];return"function"==typeof ne?ne(Ne):ce[je](Ne)})},Ze=Ne=>!!(mt(Ne,/iPad/i)||mt(Ne,/Macintosh/i)&&it(Ne)),we=Ne=>mt(Ne,/android|sink/i),it=Ne=>vt(Ne,"(any-pointer:coarse)"),_t=Ne=>Ye(Ne)||Oe(Ne),Ye=Ne=>!!(Ne.cordova||Ne.phonegap||Ne.PhoneGap),Oe=Ne=>{const ke=Ne.Capacitor;return!(null==ke||!ke.isNative)},mt=(Ne,ke)=>ke.test(Ne.navigator.userAgent),vt=(Ne,ke)=>{var je;return null===(je=Ne.matchMedia)||void 0===je?void 0:je.call(Ne,ke).matches},ce={ipad:Ze,iphone:Ne=>mt(Ne,/iPhone/i),ios:Ne=>mt(Ne,/iPhone|iPod/i)||Ze(Ne),android:we,phablet:Ne=>{const ke=Ne.innerWidth,je=Ne.innerHeight,ne=Math.min(ke,je),ct=Math.max(ke,je);return ne>390&&ne<520&&ct>620&&ct<800},tablet:Ne=>{const ke=Ne.innerWidth,je=Ne.innerHeight,ne=Math.min(ke,je),ct=Math.max(ke,je);return Ze(Ne)||(Ne=>we(Ne)&&!mt(Ne,/mobile/i))(Ne)||ne>460&&ne<820&&ct>780&&ct<1400},cordova:Ye,capacitor:Oe,electron:Ne=>mt(Ne,/electron/i),pwa:Ne=>{var ke;return!!(null!==(ke=Ne.matchMedia)&&void 0!==ke&&ke.call(Ne,"(display-mode: standalone)").matches||Ne.navigator.standalone)},mobile:it,mobileweb:Ne=>it(Ne)&&!_t(Ne),desktop:Ne=>!it(Ne),hybrid:_t};let De;const He=Ne=>Ne&&(0,y.g)(Ne)||De,We=(Ne={})=>{if(typeof window>"u")return;const ke=window.document,je=window,ne=je.Ionic=je.Ionic||{},ct={};Ne._ael&&(ct.ael=Ne._ael),Ne._rel&&(ct.rel=Ne._rel),Ne._ce&&(ct.ce=Ne._ce),(0,y.a)(ct);const Tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ne=>{try{const ke=Ne.sessionStorage.getItem(Ve);return null!==ke?JSON.parse(ke):{}}catch{return{}}})(je)),{persistConfig:!1}),ne.config),(Ne=>{const ke={};return Ne.location.search.slice(1).split("&").map(je=>je.split("=")).map(([je,ne])=>[decodeURIComponent(je),decodeURIComponent(ne)]).filter(([je])=>((Ne,ke)=>Ne.substr(0,ke.length)===ke)(je,"ionic:")).map(([je,ne])=>[je.slice(6),ne]).forEach(([je,ne])=>{ke[je]=ne}),ke})(je)),Ne);se.reset(Tt),se.getBoolean("persistConfig")&&((Ne,ke)=>{try{Ne.sessionStorage.setItem(Ve,JSON.stringify(ke))}catch{return}})(je,Tt),ze(je),ne.config=se,ne.mode=De=se.get("mode",ke.documentElement.getAttribute("mode")||(be(je,"ios")?"ios":"md")),se.set("mode",De),ke.documentElement.setAttribute("mode",De),ke.documentElement.classList.add(De),se.getBoolean("_testing")&&se.set("animated",!1);const Pt=At=>{var tt;return null===(tt=At.tagName)||void 0===tt?void 0:tt.startsWith("ION-")},rn=At=>["ios","md"].includes(At);(0,y.c)(At=>{for(;At;){const tt=At.mode||At.getAttribute("mode");if(tt){if(rn(tt))return tt;Pt(At)&&console.warn('Invalid ionic mode: "'+tt+'", expected: "ios" or "md"')}At=At.parentElement}return De})}},3551:(un,dt,L)=>{"use strict";L.r(dt),L.d(dt,{iosTransitionAnimation:()=>ve,shadow:()=>de});var y=L(9613),g=L(9866);L(3457),L(4083);const Ee=Ue=>document.querySelector(`${Ue}.ion-cloned-element`),de=Ue=>Ue.shadowRoot||Ue,Ce=Ue=>{const Ze="ION-TABS"===Ue.tagName?Ue:Ue.querySelector("ion-tabs"),It="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ze){const Me=Ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Me?Me.querySelector(It):null}return Ue.querySelector(It)},Ve=(Ue,Ze)=>{const It="ION-TABS"===Ue.tagName?Ue:Ue.querySelector("ion-tabs");let Me=[];if(null!=It){const we=It.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=we&&(Me=we.querySelectorAll("ion-buttons"))}else Me=Ue.querySelectorAll("ion-buttons");for(const we of Me){const ft=we.closest("ion-header"),ot=ft&&!ft.classList.contains("header-collapse-condense-inactive"),Ge=we.querySelector("ion-back-button"),it=we.classList.contains("buttons-collapse");if(null!==Ge&&("start"===we.slot||""===we.slot)&&(it&&ot&&Ze||!it))return Ge}return null},be=(Ue,Ze,It,Me,we,ft)=>{const ot=Ze?`calc(100% - ${ft.right+4}px)`:ft.left-4+"px",Ge=Ze?"7px":"-7px",it=Ze?"-4px":"4px",gt=Ze?"-4px":"4px",_t=Ze?"right":"left",Ye=Ze?"left":"right",nt=It?[{offset:0,opacity:1,transform:`translate3d(${it}, ${ft.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${we.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${we.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${ft.top-46}px, 0) scale(1)`}],ce=It?[{offset:0,opacity:1,transform:`translate3d(${gt}, ${ft.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${gt}, ${ft.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${gt}, ${ft.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${gt}, ${ft.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${gt}, ${ft.top-46}px, 0) scale(1)`}],De=(0,y.c)(),He=(0,y.c)(),We=Ee("ion-back-button"),Ne=de(We).querySelector(".button-text"),ke=de(We).querySelector("ion-icon");We.text=Me.text,We.mode=Me.mode,We.icon=Me.icon,We.color=Me.color,We.disabled=Me.disabled,We.style.setProperty("display","block"),We.style.setProperty("position","fixed"),He.addElement(ke),De.addElement(Ne),De.beforeStyles({"transform-origin":`${_t} center`}).beforeAddWrite(()=>{Me.style.setProperty("display","none"),We.style.setProperty(_t,ot)}).afterAddWrite(()=>{Me.style.setProperty("display",""),We.style.setProperty("display","none"),We.style.removeProperty(_t)}).keyframes(nt),He.beforeStyles({"transform-origin":`${Ye} center`}).keyframes(ce),Ue.addAnimation([De,He])},ze=(Ue,Ze,It,Me,we,ft)=>{const ot=Ze?`calc(100% - ${we.right}px)`:`${we.left}px`,Ge=Ze?"-18px":"18px",it=Ze?"right":"left",Ye=It?[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${ft.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${we.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${we.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${ft.top-4}px, 0) scale(0.5)`}],Oe=Ee("ion-title"),St=(0,y.c)();Oe.innerText=Me.innerText,Oe.size=Me.size,Oe.color=Me.color,St.addElement(Oe),St.beforeStyles({"transform-origin":`${it} center`,height:"46px",display:"",position:"relative",[it]:ot}).beforeAddWrite(()=>{Me.style.setProperty("display","none")}).afterAddWrite(()=>{Me.style.setProperty("display",""),Oe.style.setProperty("display","none")}).keyframes(Ye),Ue.addAnimation(St)},ve=(Ue,Ze)=>{var It;try{const Me="cubic-bezier(0.32,0.72,0,1)",we="opacity",ft="transform",ot="0%",it="rtl"===Ue.ownerDocument.dir,gt=it?"-99.5%":"99.5%",_t=it?"33%":"-33%",Ye=Ze.enteringEl,Oe=Ze.leavingEl,St="back"===Ze.direction,nt=Ye.querySelector(":scope > ion-content"),mt=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),vt=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),ce=(0,y.c)(),De=(0,y.c)();if(ce.addElement(Ye).duration((null!==(It=Ze.duration)&&void 0!==It?It:0)||540).easing(Ze.easing||Me).fill("both").beforeRemoveClass("ion-page-invisible"),Oe&&null!=Ue){const ke=(0,y.c)();ke.addElement(Ue),ce.addAnimation(ke)}if(nt||0!==vt.length||0!==mt.length?(De.addElement(nt),De.addElement(mt)):De.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(De),St?De.beforeClearStyles([we]).fromTo("transform",`translateX(${_t})`,`translateX(${ot})`).fromTo(we,.8,1):De.beforeClearStyles([we]).fromTo("transform",`translateX(${gt})`,`translateX(${ot})`),nt){const ke=de(nt).querySelector(".transition-effect");if(ke){const je=ke.querySelector(".transition-cover"),ne=ke.querySelector(".transition-shadow"),ct=(0,y.c)(),Tt=(0,y.c)(),Pt=(0,y.c)();ct.addElement(ke).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(je).beforeClearStyles([we]).fromTo(we,0,.1),Pt.addElement(ne).beforeClearStyles([we]).fromTo(we,.03,.7),ct.addAnimation([Tt,Pt]),De.addAnimation([ct])}}const He=Ye.querySelector("ion-header.header-collapse-condense"),{forward:We,backward:Ne}=((Ue,Ze,It,Me,we)=>{const ft=Ve(Me,It),ot=Ce(we),Ge=Ce(Me),it=Ve(we,It),gt=null!==ft&&null!==ot&&!It,_t=null!==Ge&&null!==it&&It;if(gt){const Ye=ot.getBoundingClientRect(),Oe=ft.getBoundingClientRect();ze(Ue,Ze,It,ot,Ye,Oe),be(Ue,Ze,It,ft,Ye,Oe)}else if(_t){const Ye=Ge.getBoundingClientRect(),Oe=it.getBoundingClientRect();ze(Ue,Ze,It,Ge,Ye,Oe),be(Ue,Ze,It,it,Ye,Oe)}return{forward:gt,backward:_t}})(ce,it,St,Ye,Oe);if(vt.forEach(ke=>{const je=(0,y.c)();je.addElement(ke),ce.addAnimation(je);const ne=(0,y.c)();ne.addElement(ke.querySelector("ion-title"));const ct=(0,y.c)(),Tt=Array.from(ke.querySelectorAll("ion-buttons,[menuToggle]")),Pt=ke.closest("ion-header"),rn=null==Pt?void 0:Pt.classList.contains("header-collapse-condense-inactive");let At;At=Tt.filter(St?Mn=>{const _n=Mn.classList.contains("buttons-collapse");return _n&&!rn||!_n}:Mn=>!Mn.classList.contains("buttons-collapse")),ct.addElement(At);const tt=(0,y.c)();tt.addElement(ke.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const kt=(0,y.c)();kt.addElement(de(ke).querySelector(".toolbar-background"));const Jt=(0,y.c)(),cn=ke.querySelector("ion-back-button");if(cn&&Jt.addElement(cn),je.addAnimation([ne,ct,tt,kt,Jt]),ct.fromTo(we,.01,1),tt.fromTo(we,.01,1),St)rn||ne.fromTo("transform",`translateX(${_t})`,`translateX(${ot})`).fromTo(we,.01,1),tt.fromTo("transform",`translateX(${_t})`,`translateX(${ot})`),Jt.fromTo(we,.01,1);else if(He||ne.fromTo("transform",`translateX(${gt})`,`translateX(${ot})`).fromTo(we,.01,1),tt.fromTo("transform",`translateX(${gt})`,`translateX(${ot})`),kt.beforeClearStyles([we,"transform"]),(null==Pt?void 0:Pt.translucent)?kt.fromTo("transform",it?"translateX(-100%)":"translateX(100%)","translateX(0px)"):kt.fromTo(we,.01,"var(--opacity)"),We||Jt.fromTo(we,.01,1),cn&&!We){const _n=(0,y.c)();_n.addElement(de(cn).querySelector(".button-text")).fromTo("transform",it?"translateX(-100px)":"translateX(100px)","translateX(0px)"),je.addAnimation(_n)}}),Oe){const ke=(0,y.c)(),je=Oe.querySelector(":scope > ion-content"),ne=Oe.querySelectorAll(":scope > ion-header > ion-toolbar"),ct=Oe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(je||0!==ne.length||0!==ct.length?(ke.addElement(je),ke.addElement(ct)):ke.addElement(Oe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(ke),St){ke.beforeClearStyles([we]).fromTo("transform",`translateX(${ot})`,it?"translateX(-100%)":"translateX(100%)");const Tt=(0,g.g)(Oe);ce.afterAddWrite(()=>{"normal"===ce.getDirection()&&Tt.style.setProperty("display","none")})}else ke.fromTo("transform",`translateX(${ot})`,`translateX(${_t})`).fromTo(we,1,.8);if(je){const Tt=de(je).querySelector(".transition-effect");if(Tt){const Pt=Tt.querySelector(".transition-cover"),rn=Tt.querySelector(".transition-shadow"),At=(0,y.c)(),tt=(0,y.c)(),kt=(0,y.c)();At.addElement(Tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),tt.addElement(Pt).beforeClearStyles([we]).fromTo(we,.1,0),kt.addElement(rn).beforeClearStyles([we]).fromTo(we,.7,.03),At.addAnimation([tt,kt]),ke.addAnimation([At])}}ne.forEach(Tt=>{const Pt=(0,y.c)();Pt.addElement(Tt);const rn=(0,y.c)();rn.addElement(Tt.querySelector("ion-title"));const At=(0,y.c)(),tt=Tt.querySelectorAll("ion-buttons,[menuToggle]"),kt=Tt.closest("ion-header"),Jt=null==kt?void 0:kt.classList.contains("header-collapse-condense-inactive"),cn=Array.from(tt).filter(Kn=>{const hr=Kn.classList.contains("buttons-collapse");return hr&&!Jt||!hr});At.addElement(cn);const Mn=(0,y.c)(),_n=Tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");_n.length>0&&Mn.addElement(_n);const Nt=(0,y.c)();Nt.addElement(de(Tt).querySelector(".toolbar-background"));const In=(0,y.c)(),Ft=Tt.querySelector("ion-back-button");if(Ft&&In.addElement(Ft),Pt.addAnimation([rn,At,Mn,In,Nt]),ce.addAnimation(Pt),In.fromTo(we,.99,0),At.fromTo(we,.99,0),Mn.fromTo(we,.99,0),St){if(Jt||rn.fromTo("transform",`translateX(${ot})`,it?"translateX(-100%)":"translateX(100%)").fromTo(we,.99,0),Mn.fromTo("transform",`translateX(${ot})`,it?"translateX(-100%)":"translateX(100%)"),Nt.beforeClearStyles([we,"transform"]),(null==kt?void 0:kt.translucent)?Nt.fromTo("transform","translateX(0px)",it?"translateX(-100%)":"translateX(100%)"):Nt.fromTo(we,"var(--opacity)",0),Ft&&!Ne){const hr=(0,y.c)();hr.addElement(de(Ft).querySelector(".button-text")).fromTo("transform",`translateX(${ot})`,`translateX(${(it?-124:124)+"px"})`),Pt.addAnimation(hr)}}else Jt||rn.fromTo("transform",`translateX(${ot})`,`translateX(${_t})`).fromTo(we,.99,0).afterClearStyles([ft,we]),Mn.fromTo("transform",`translateX(${ot})`,`translateX(${_t})`).afterClearStyles([ft,we]),In.afterClearStyles([we]),rn.afterClearStyles([we]),At.afterClearStyles([we])})}return ce}catch(Me){throw Me}}},1138:(un,dt,L)=>{"use strict";L.r(dt),L.d(dt,{mdTransitionAnimation:()=>xe});var y=L(9613),g=L(9866);L(3457),L(4083);const xe=(Ee,de)=>{var Ce,Ve,Te;const ve="back"===de.direction,Ze=de.leavingEl,It=(0,g.g)(de.enteringEl),Me=It.querySelector("ion-toolbar"),we=(0,y.c)();if(we.addElement(It).fill("both").beforeRemoveClass("ion-page-invisible"),ve?we.duration((null!==(Ce=de.duration)&&void 0!==Ce?Ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):we.duration((null!==(Ve=de.duration)&&void 0!==Ve?Ve:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Me){const ft=(0,y.c)();ft.addElement(Me),we.addAnimation(ft)}if(Ze&&ve){we.duration((null!==(Te=de.duration)&&void 0!==Te?Te:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ft=(0,y.c)();ft.addElement((0,g.g)(Ze)).onFinish(ot=>{1===ot&&ft.elements.length>0&&ft.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),we.addAnimation(ft)}return we}},2583:(un,dt,L)=>{"use strict";L.d(dt,{B:()=>ct,G:()=>Tt,a:()=>Te,b:()=>be,c:()=>Ze,d:()=>Pt,e:()=>rn,f:()=>mt,g:()=>ce,h:()=>We,i:()=>ke,j:()=>Me,k:()=>Ce,m:()=>ve,n:()=>ot,o:()=>St,s:()=>ne});var y=L(5861),g=L(5273),se=L(6782),ge=L(7593),xe=L(3577),Ee=L(1178);let de=0;const Ce=new WeakMap,Ve=At=>({create:tt=>we(At,tt),dismiss:(tt,kt,Jt)=>Ye(document,tt,kt,At,Jt),getTop:()=>(0,y.Z)(function*(){return St(document,At)})()}),Te=Ve("ion-alert"),be=Ve("ion-action-sheet"),ve=Ve("ion-modal"),Ze=Ve("ion-popover"),Me=At=>{typeof document<"u"&&_t(document);const tt=de++;At.overlayIndex=tt,At.hasAttribute("id")||(At.id=`ion-overlay-${tt}`)},we=(At,tt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(At).then(()=>{const kt=document.createElement(At);return kt.classList.add("overlay-hidden"),Object.assign(kt,Object.assign(Object.assign({},tt),{hasController:!0})),De(document).appendChild(kt),new Promise(Jt=>(0,xe.c)(kt,Jt))}):Promise.resolve(),ft='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ot=(At,tt)=>{let kt=At.querySelector(ft);const Jt=null==kt?void 0:kt.shadowRoot;Jt&&(kt=Jt.querySelector(ft)||kt),kt?(0,xe.f)(kt):tt.focus()},it=(At,tt)=>{const kt=Array.from(At.querySelectorAll(ft));let Jt=kt.length>0?kt[kt.length-1]:null;const cn=null==Jt?void 0:Jt.shadowRoot;cn&&(Jt=cn.querySelector(ft)||Jt),Jt?Jt.focus():tt.focus()},_t=At=>{0===de&&(de=1,At.addEventListener("focus",tt=>{((At,tt)=>{const kt=St(tt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Jt=At.target;kt&&Jt&&!kt.classList.contains("ion-disable-focus-trap")&&(kt.shadowRoot?(()=>{if(kt.contains(Jt))kt.lastFocus=Jt;else{const _n=kt.lastFocus;ot(kt,kt),_n===tt.activeElement&&it(kt,kt),kt.lastFocus=tt.activeElement}})():(()=>{if(kt===Jt)kt.lastFocus=void 0;else{const _n=(0,xe.g)(kt);if(!_n.contains(Jt))return;const Nt=_n.querySelector(".ion-overlay-wrapper");if(!Nt)return;if(Nt.contains(Jt))kt.lastFocus=Jt;else{const In=kt.lastFocus;ot(Nt,kt),In===tt.activeElement&&it(Nt,kt),kt.lastFocus=tt.activeElement}}})())})(tt,At)},!0),At.addEventListener("ionBackButton",tt=>{const kt=St(At);null!=kt&&kt.backdropDismiss&&tt.detail.register(ge.OVERLAY_BACK_BUTTON_PRIORITY,()=>kt.dismiss(void 0,ct))}),At.addEventListener("keydown",tt=>{if("Escape"===tt.key){const kt=St(At);null!=kt&&kt.backdropDismiss&&kt.dismiss(void 0,ct)}}))},Ye=(At,tt,kt,Jt,cn)=>{const Mn=St(At,Jt,cn);return Mn?Mn.dismiss(tt,kt):Promise.reject("overlay does not exist")},St=(At,tt,kt)=>{const Jt=((At,tt)=>(void 0===tt&&(tt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(At.querySelectorAll(tt)).filter(kt=>kt.overlayIndex>0)))(At,tt).filter(cn=>!(At=>At.classList.contains("overlay-hidden"))(cn));return void 0===kt?Jt[Jt.length-1]:Jt.find(cn=>cn.id===kt)},nt=(At=!1)=>{const kt=De(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");kt&&(At?kt.setAttribute("aria-hidden","true"):kt.removeAttribute("aria-hidden"))},mt=function(){var At=(0,y.Z)(function*(tt,kt,Jt,cn,Mn){var _n,Nt;if(tt.presented)return;nt(!0),tt.presented=!0,tt.willPresent.emit(),null===(_n=tt.willPresentShorthand)||void 0===_n||_n.emit();const In=(0,g.b)(tt),Ft=tt.enterAnimation?tt.enterAnimation:g.c.get(kt,"ios"===In?Jt:cn);(yield He(tt,Ft,tt.el,Mn))&&(tt.didPresent.emit(),null===(Nt=tt.didPresentShorthand)||void 0===Nt||Nt.emit()),"ION-TOAST"!==tt.el.tagName&&vt(tt.el),tt.keyboardClose&&(null===document.activeElement||!tt.el.contains(document.activeElement))&&tt.el.focus()});return function(kt,Jt,cn,Mn,_n){return At.apply(this,arguments)}}(),vt=function(){var At=(0,y.Z)(function*(tt){let kt=document.activeElement;if(!kt)return;const Jt=null==kt?void 0:kt.shadowRoot;Jt&&(kt=Jt.querySelector(ft)||kt),yield tt.onDidDismiss(),kt.focus()});return function(kt){return At.apply(this,arguments)}}(),ce=function(){var At=(0,y.Z)(function*(tt,kt,Jt,cn,Mn,_n,Nt){var In,Ft;if(!tt.presented)return!1;nt(!1),tt.presented=!1;try{tt.el.style.setProperty("pointer-events","none"),tt.willDismiss.emit({data:kt,role:Jt}),null===(In=tt.willDismissShorthand)||void 0===In||In.emit({data:kt,role:Jt});const Kn=(0,g.b)(tt),hr=tt.leaveAnimation?tt.leaveAnimation:g.c.get(cn,"ios"===Kn?Mn:_n);Jt!==Tt&&(yield He(tt,hr,tt.el,Nt)),tt.didDismiss.emit({data:kt,role:Jt}),null===(Ft=tt.didDismissShorthand)||void 0===Ft||Ft.emit({data:kt,role:Jt}),Ce.delete(tt),tt.el.classList.add("overlay-hidden"),tt.el.style.removeProperty("pointer-events"),void 0!==tt.el.lastFocus&&(tt.el.lastFocus=void 0)}catch(Kn){console.error(Kn)}return tt.el.remove(),!0});return function(kt,Jt,cn,Mn,_n,Nt,In){return At.apply(this,arguments)}}(),De=At=>At.querySelector("ion-app")||At.body,He=function(){var At=(0,y.Z)(function*(tt,kt,Jt,cn){Jt.classList.remove("overlay-hidden");const _n=kt(tt.el,cn);(!tt.animated||!g.c.getBoolean("animated",!0))&&_n.duration(0),tt.keyboardClose&&_n.beforeAddWrite(()=>{const In=Jt.ownerDocument.activeElement;null!=In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const Nt=Ce.get(tt)||[];return Ce.set(tt,[...Nt,_n]),yield _n.play(),!0});return function(kt,Jt,cn,Mn){return At.apply(this,arguments)}}(),We=(At,tt)=>{let kt;const Jt=new Promise(cn=>kt=cn);return Ne(At,tt,cn=>{kt(cn.detail)}),Jt},Ne=(At,tt,kt)=>{const Jt=cn=>{(0,xe.b)(At,tt,Jt),kt(cn)};(0,xe.a)(At,tt,Jt)},ke=At=>"cancel"===At||At===ct,je=At=>At(),ne=(At,tt)=>{if("function"==typeof At)return g.c.get("_zoneGate",je)(()=>{try{return At(tt)}catch(Jt){throw Jt}})},ct="backdrop",Tt="gesture",Pt=At=>{let kt,tt=!1;const Jt=(0,se.C)(),cn=(Nt=!1)=>{if(kt&&!Nt)return{delegate:kt,inline:tt};const{el:In,hasController:Ft,delegate:Kn}=At;return tt=null!==In.parentNode&&!Ft,kt=tt?Kn||Jt:Kn,{inline:tt,delegate:kt}};return{attachViewToDom:function(){var Nt=(0,y.Z)(function*(In){const{delegate:Ft}=cn(!0);if(Ft)return yield Ft.attachViewToDom(At.el,In);const{hasController:Kn}=At;if(Kn&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(Ft){return Nt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Nt}=cn();Nt&&void 0!==At.el&&Nt.removeViewFromDom(At.el.parentElement,At.el)}}},rn=()=>{let At;const tt=()=>{At&&(At(),At=void 0)};return{addClickListener:(Jt,cn)=>{tt();const Mn=void 0!==cn?document.getElementById(cn):null;Mn?At=((Nt,In)=>{const Ft=()=>{In.present()};return Nt.addEventListener("click",Ft),()=>{Nt.removeEventListener("click",Ft)}})(Mn,Jt):(0,Ee.p)(`A trigger element with the ID "${cn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Jt)},removeClickListener:tt}}},6118:(un,dt,L)=>{"use strict";L.d(dt,{e:()=>Ee});var y=L(5861),g=L(9260);let se=(()=>{class de{}return de.email=Ce=>{if(!(Ce.endsWith("@admin.com")||Ce.endsWith("@invitado.com")||Ce.endsWith("@usuario.com")||Ce.endsWith("@anonimo.com")||Ce.endsWith("@tester.com")))throw new Error("Mal formato de datos.");return Ce},de})();var ge=L(2223),xe=L(3385);let Ee=(()=>{class de{constructor(Ve){var Te=this;this.angularFireAuth=Ve,this.signIn=function(){var be=(0,y.Z)(function*(ze,ve){return yield Te.angularFireAuth.signInWithEmailAndPassword(se.email(ze),ve).then(Ue=>Ue).catch(Ue=>{throw"auth/user-disabled"===Ue.code?new Error("El usuario ha sido deshabilitado."):"auth/user-not-found"===Ue.code?new Error("No existe un usuario con estos datos."):new Error("Datos incorrectos.")})});return function(ze,ve){return be.apply(this,arguments)}}(),this.signUp=function(){var be=(0,y.Z)(function*(ze,ve){return yield Te.angularFireAuth.createUserWithEmailAndPassword(se.email(ze),ve).then(Ue=>Ue).catch(Ue=>{throw"auth/operation-not-allowed"===Ue.code?new Error("Lo siento, hubo un error interno. Vuelva a intentarlo mas tarde."):"auth/email-already-in-use"===Ue.code?new Error("El mail ingresado, ya pertenece a un usuario existente."):new Error("Mal formato de datos.")})});return function(ze,ve){return be.apply(this,arguments)}}(),this.signOut=(0,y.Z)(function*(){yield Te.angularFireAuth.signOut()}),this.signUpWithGoogle=(0,y.Z)(function*(){const be=new g.Z.auth.GoogleAuthProvider;return be.addScope("profile"),be.addScope("email"),yield Te.signUpWithProvider(be)}),this.signUpWithProvider=function(){var be=(0,y.Z)(function*(ze){return yield Te.angularFireAuth.signInWithPopup(ze).then(ve=>ve).catch(()=>{throw new Error("Operaci\xf3n cancelada.")})});return function(ze){return be.apply(this,arguments)}}(),this.userData=Ve.authState}getUser(){return"123456"}}return de.\u0275fac=function(Ve){return new(Ve||de)(ge.LFG(xe.zQ))},de.\u0275prov=ge.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},7092:(un,dt,L)=>{"use strict";var y=L(6550),g=L(2223),se=L(96),ge=L(9972),xe=L(655),Ee=L(8261),de=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return(0,xe.ZT)(i,u),i.prototype.show=function(){return(0,Ee.DM)(this,"show",{sync:!0},arguments)},i.prototype.hide=function(){return(0,Ee.DM)(this,"hide",{sync:!0},arguments)},i.pluginName="SplashScreen",i.plugin="cordova-plugin-splashscreen",i.pluginRef="navigator.splashscreen",i.repo="https://github.com/apache/cordova-plugin-splashscreen",i.platforms=["Amazon Fire OS","Android","iOS","Windows"],i.decorators=[{type:g.GSi}],i}(Ee.KY),Ce=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return(0,xe.ZT)(i,u),i.prototype.overlaysWebView=function(o){return(0,Ee.DM)(this,"overlaysWebView",{sync:!0},arguments)},i.prototype.styleDefault=function(){return(0,Ee.DM)(this,"styleDefault",{sync:!0},arguments)},i.prototype.styleLightContent=function(){return(0,Ee.DM)(this,"styleLightContent",{sync:!0},arguments)},i.prototype.styleBlackTranslucent=function(){return(0,Ee.DM)(this,"styleBlackTranslucent",{sync:!0},arguments)},i.prototype.styleBlackOpaque=function(){return(0,Ee.DM)(this,"styleBlackOpaque",{sync:!0},arguments)},i.prototype.backgroundColorByName=function(o){return(0,Ee.DM)(this,"backgroundColorByName",{sync:!0},arguments)},i.prototype.backgroundColorByHexString=function(o){return(0,Ee.DM)(this,"backgroundColorByHexString",{sync:!0},arguments)},i.prototype.hide=function(){return(0,Ee.DM)(this,"hide",{sync:!0},arguments)},i.prototype.show=function(){return(0,Ee.DM)(this,"show",{sync:!0},arguments)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return(0,Ee.J2)(this,"isVisible")},set:function(o){(0,Ee.Iq)(this,"isVisible",o)},enumerable:!1,configurable:!0}),i.pluginName="StatusBar",i.plugin="cordova-plugin-statusbar",i.pluginRef="StatusBar",i.repo="https://github.com/apache/cordova-plugin-statusbar",i.platforms=["Android","iOS","Windows"],i.decorators=[{type:g.GSi}],i}(Ee.KY);let Ve=(()=>{class u{constructor(o,d,p,w){this.platform=o,this.splashScreen=d,this.statusBar=p,this.navCtrl=w,this.initializeApp()}ngOnInit(){setTimeout(()=>{this.navCtrl.navigateRoot("/login")},3e3)}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide()})}}return u.\u0275fac=function(o){return new(o||u)(g.Y36(ge.t4),g.Y36(de),g.Y36(Ce),g.Y36(ge.SH))},u.\u0275cmp=g.Xpm({type:u,selectors:[["app-root"]],decls:2,vars:0,consts:[["id","main-content"]],template:function(o,d){1&o&&(g.TgZ(0,"ion-app"),g._UZ(1,"ion-router-outlet",0),g.qZA())},dependencies:[ge.dr,ge.jP],styles:['@charset "UTF-8";ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}.custom-splash[_ngcontent-%COMP%]{background-color:#aa0303db;display:flex;justify-content:center;align-items:center;opacity:0;animation:_ngcontent-%COMP%_fadeIn 5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.scale-up-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-center .4s cubic-bezier(.39,.575,.565,1) both}@keyframes _ngcontent-%COMP%_scale-up-center{0%{transform:scale(.5)}to{transform:scale(1)}}']}),u})();const be=[{path:"",component:(()=>{class u{constructor(o){this.router=o}ngOnInit(){this.hide(2e3)}hide(o=500){setTimeout(()=>{this.router.navigate(["login"])},o)}}return u.\u0275fac=function(o){return new(o||u)(g.Y36(se.F0))},u.\u0275cmp=g.Xpm({type:u,selectors:[["app-splash-screen"]],decls:11,vars:0,consts:[["fullscreen","true"],[1,"centered-component"],[1,"ion-justify-content-center"],["src","../../assets/icon.png","alt","logo",1,"icon","scale-in-center"]],template:function(o,d){1&o&&(g.TgZ(0,"ion-content",0)(1,"div",1)(2,"div")(3,"ion-row",2)(4,"h1"),g._uU(5,"Begue Alejandro"),g.qZA()(),g.TgZ(6,"ion-row",2),g._UZ(7,"img",3),g.qZA(),g.TgZ(8,"ion-row",2)(9,"h1"),g._uU(10,"4\xb0B"),g.qZA()()()()())},dependencies:[ge.W2,ge.Nd],styles:['ion-content[_ngcontent-%COMP%]{--background: rgb(64, 3, 64)}h3[_ngcontent-%COMP%]{font-family:"Noto Serif",serif;font-weight:700}.icon[_ngcontent-%COMP%]{width:40%}.focus-in-expand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_focus-in-expand .8s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_focus-in-expand{0%{letter-spacing:-.5em;filter:blur(12px);opacity:0}to{filter:blur(0px);opacity:1}}.centered-component[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.scale-in-center[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-in-center .5s cubic-bezier(.25,.46,.45,.94) both}@keyframes _ngcontent-%COMP%_scale-in-center{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:1}}']}),u})()},{path:"folder/:id",loadChildren:()=>L.e(1910).then(L.bind(L,1910)).then(u=>u.FolderPageModule)},{path:"admin",loadChildren:()=>L.e(3015).then(L.bind(L,3015)).then(u=>u.AdminPageModule)},{path:"home",loadChildren:()=>L.e(4851).then(L.bind(L,4851)).then(u=>u.HomePageModule)},{path:"login",loadChildren:()=>Promise.all([L.e(8592),L.e(4987)]).then(L.bind(L,4987)).then(u=>u.LoginPageModule)},{path:"register",loadChildren:()=>L.e(4275).then(L.bind(L,4275)).then(u=>u.RegisterPageModule)},{path:"signup",loadChildren:()=>Promise.all([L.e(8592),L.e(6533)]).then(L.bind(L,6533)).then(u=>u.SignupPageModule)},{path:"splash",loadChildren:()=>L.e(8663).then(L.bind(L,8663)).then(u=>u.SplashPageModule)}];let ze=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({imports:[se.Bz.forRoot(be,{preloadingStrategy:se.wm}),se.Bz]}),u})();var ve=L(2011),Ue=L(3385),Ze=L(4986),It=L(9751),Me=L(9646),we=L(6451),ft=L(4004),ot=L(3099),Ge=L(3900),it=L(5026),gt=L(1884),_t=L(4482),Ye=L(5403),Oe=L(8421),St=L(4671),nt=L(5032),mt=L(7669),De=L(3324),We=(L(9568),L(3942)),Ne=L(4859),ke=L(5861),je=L(6881),ne=L(2090),ct=L(1877);const Tt="@firebase/database";let rn="";function At(u){rn=u}class tt{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,o){null==o?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,ne.Wl)(o))}get(i){const o=this.domStorage_.getItem(this.prefixedName_(i));return null==o?null:(0,ne.cI)(o)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class kt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,o){null==o?delete this.cache_[i]:this.cache_[i]=o}get(i){return(0,ne.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Jt=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const i=window[u];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new tt(i)}}catch{}return new kt},cn=Jt("localStorage"),Mn=Jt("sessionStorage"),_n=new ct.Yd("@firebase/database"),Nt=function(){let u=1;return function(){return u++}}(),In=function(u){const i=(0,ne.dS)(u),o=new ne.gQ;o.update(i);const d=o.digest();return ne.US.encodeByteArray(d)},Ft=function(...u){let i="";for(let o=0;o<u.length;o++){const d=u[o];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?i+=Ft.apply(null,d):i+="object"==typeof d?(0,ne.Wl)(d):d,i+=" "}return i};let Kn=null,hr=!0;const yr=function(u,i){(0,ne.hu)(!i||!0===u||!1===u,"Can't turn on custom loggers persistently."),!0===u?(_n.logLevel=ct.in.VERBOSE,Kn=_n.log.bind(_n),i&&Mn.set("logging_enabled",!0)):"function"==typeof u?Kn=u:(Kn=null,Mn.remove("logging_enabled"))},Yt=function(...u){if(!0===hr&&(hr=!1,null===Kn&&!0===Mn.get("logging_enabled")&&yr(!0)),Kn){const i=Ft.apply(null,u);Kn(i)}},Pr=function(u){return function(...i){Yt(u,...i)}},er=function(...u){const i="FIREBASE INTERNAL ERROR: "+Ft(...u);_n.error(i)},zn=function(...u){const i=`FIREBASE FATAL ERROR: ${Ft(...u)}`;throw _n.error(i),new Error(i)},tr=function(...u){const i="FIREBASE WARNING: "+Ft(...u);_n.warn(i)},Cn=function(u){return"number"==typeof u&&(u!=u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},xn="[MIN_NAME]",fr="[MAX_NAME]",ur=function(u,i){if(u===i)return 0;if(u===xn||i===fr)return-1;if(i===xn||u===fr)return 1;{const o=wn(u),d=wn(i);return null!==o?null!==d?o-d==0?u.length-i.length:o-d:-1:null!==d?1:u<i?-1:1}},cr=function(u,i){return u===i?0:u<i?-1:1},Rr=function(u,i){if(i&&u in i)return i[u];throw new Error("Missing required key ("+u+") in object: "+(0,ne.Wl)(i))},Tr=function(u){if("object"!=typeof u||null===u)return(0,ne.Wl)(u);const i=[];for(const d in u)i.push(d);i.sort();let o="{";for(let d=0;d<i.length;d++)0!==d&&(o+=","),o+=(0,ne.Wl)(i[d]),o+=":",o+=Tr(u[i[d]]);return o+="}",o},Wn=function(u,i){const o=u.length;if(o<=i)return[u];const d=[];for(let p=0;p<o;p+=i)d.push(u.substring(p,p+i>o?o:p+i));return d};function gn(u,i){for(const o in u)u.hasOwnProperty(o)&&i(o,u[o])}const ei=function(u){(0,ne.hu)(!Cn(u),"Invalid JSON number");const d=1023;let p,w,A,V,Q;0===u?(w=0,A=0,p=1/u==-1/0?1:0):(p=u<0,(u=Math.abs(u))>=Math.pow(2,1-d)?(V=Math.min(Math.floor(Math.log(u)/Math.LN2),d),w=V+d,A=Math.round(u*Math.pow(2,52-V)-Math.pow(2,52))):(w=0,A=Math.round(u/Math.pow(2,-1074))));const ue=[];for(Q=52;Q;Q-=1)ue.push(A%2?1:0),A=Math.floor(A/2);for(Q=11;Q;Q-=1)ue.push(w%2?1:0),w=Math.floor(w/2);ue.push(p?1:0),ue.reverse();const Je=ue.join("");let lt="";for(Q=0;Q<64;Q+=8){let Et=parseInt(Je.substr(Q,8),2).toString(16);1===Et.length&&(Et="0"+Et),lt+=Et}return lt.toLowerCase()},Ke=new RegExp("^-?(0*)\\d{1,10}$"),wn=function(u){if(Ke.test(u)){const i=Number(u);if(i>=-2147483648&&i<=2147483647)return i}return null},pr=function(u){try{u()}catch(i){setTimeout(()=>{throw tr("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},gr=function(u,i){const o=setTimeout(u,i);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class et{constructor(i,o){this.appName_=i,this.appCheckProvider=o,this.appCheck=null==o?void 0:o.getImmediate({optional:!0}),this.appCheck||null==o||o.get().then(d=>this.appCheck=d)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((o,d)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(d=>d.addTokenListener(i))}notifyForInvalidToken(){tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class he{constructor(i,o,d){this.appName_=i,this.firebaseOptions_=o,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(p=>this.auth_=p)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(o=>o&&"auth/token-not-initialized"===o.code?(Yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,d)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(o,d):o(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(o=>o.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(o=>o.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tr(i)}}let W=(()=>{class u{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return u.OWNER="owner",u})();const H="5",pt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sn="websocket",dn="long_polling";class Gn{constructor(i,o,d,p,w=!1,A="",V=!1,Q=!1){this.secure=o,this.namespace=d,this.webSocketOnly=p,this.nodeAdmin=w,this.persistenceKey=A,this.includeNamespaceInQueryParams=V,this.isUsingEmulator=Q,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cn.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&cn.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Dt(u,i,o){let d;if((0,ne.hu)("string"==typeof i,"typeof type must == string"),(0,ne.hu)("object"==typeof o,"typeof params must == object"),i===sn)d=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else{if(i!==dn)throw new Error("Unknown connection type: "+i);d=(u.secure?"https://":"http://")+u.internalHost+"/.lp?"}(function Un(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams})(u)&&(o.ns=u.namespace);const p=[];return gn(o,(w,A)=>{p.push(w+"="+A)}),d+p.join("&")}class bt{constructor(){this.counters_={}}incrementCounter(i,o=1){(0,ne.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=o}get(){return(0,ne.p$)(this.counters_)}}const Wt={},vn={};function Nn(u){const i=u.toString();return Wt[i]||(Wt[i]=new bt),Wt[i]}class nr{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,o){this.closeAfterResponse=i,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,o){for(this.pendingResponses[i]=o;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<d.length;++p)d[p]&&pr(()=>{this.onMessage_(d[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class X{constructor(i,o,d,p,w,A,V){this.connId=i,this.repoInfo=o,this.applicationId=d,this.appCheckToken=p,this.authToken=w,this.transportSessionId=A,this.lastSessionId=V,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pr(i),this.stats_=Nn(o),this.urlFn=Q=>(this.appCheckToken&&(Q.ac=this.appCheckToken),Dt(o,dn,Q))}open(i,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new nr(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(u){if((0,ne.Yr)()||"complete"===document.readyState)u();else{let i=!1;const o=function(){document.body?i||(i=!0,u()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _e((...w)=>{const[A,V,Q,ue,Je]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===A)this.id=V,this.password=Q;else{if("close"!==A)throw new Error("Unrecognized command received: "+A);V?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(V,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[A,V]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(A,V)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v=H,this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&pt.test(location.hostname)&&(d.r="f");const p=this.urlFn(d);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){X.forceAllow_=!0}static forceDisallow(){X.forceDisallow_=!0}static isAvailable(){return!((0,ne.Yr)()||!X.forceAllow_&&(X.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const o=(0,ne.Wl)(i);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const d=(0,ne.h$)(o),p=Wn(d,1840);for(let w=0;w<p.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[w]),this.curSegmentNum++}addDisconnectPingFrame(i,o){if((0,ne.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=i,d.pw=o,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const o=(0,ne.Wl)(i).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class _e{constructor(i,o,d,p){if(this.onDisconnect=d,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ne.Yr)())this.commandCB=i,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Nt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=_e.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const A="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(A),this.myIFrame.doc.close()}catch(V){Yt("frame writing exception"),V.stack&&Yt(V.stack),Yt(V)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||Yt("No IE domain setting required")}catch{const d=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,o){for(this.myID=i,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let o=this.urlFn(i),d="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const A=this.pendingSegs.shift();d=d+"&seg"+p+"="+A.seg+"&ts"+p+"="+A.ts+"&d"+p+"="+A.d,p++}return o+=d,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(i,o,d){this.pendingSegs.push({seg:i,ts:o,d}),this.alive&&this.newRequest_()}addLongPollTag_(i,o){this.outstandingRequests.add(o);const d=()=>{this.outstandingRequests.delete(o),this.newRequest_()},p=setTimeout(d,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(p),d()})}addTag(i,o){(0,ne.Yr)()?this.doNodeLongPoll(i,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=i,d.onload=d.onreadystatechange=function(){const p=d.readyState;(!p||"loaded"===p||"complete"===p)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),o())},d.onerror=()=>{Yt("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let ie=null;typeof MozWebSocket<"u"?ie=MozWebSocket:typeof WebSocket<"u"&&(ie=WebSocket);let $e=(()=>{class u{constructor(o,d,p,w,A,V,Q){this.connId=o,this.applicationId=p,this.appCheckToken=w,this.authToken=A,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pr(this.connId),this.stats_=Nn(d),this.connURL=u.connectionURL_(d,V,Q,w,p),this.nodeAdmin=d.nodeAdmin}static connectionURL_(o,d,p,w,A){const V={};return V.v=H,!(0,ne.Yr)()&&typeof location<"u"&&location.hostname&&pt.test(location.hostname)&&(V.r="f"),d&&(V.s=d),p&&(V.ls=p),w&&(V.ac=w),A&&(V.p=A),Dt(o,sn,V)}open(o,d){this.onDisconnect=d,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cn.set("previous_websocket_failure",!0);try{let p;if((0,ne.Yr)()){p={headers:{"User-Agent":`Firebase/${H}/${rn}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const A=process.env,V=0===this.connURL.indexOf("wss://")?A.HTTPS_PROXY||A.https_proxy:A.HTTP_PROXY||A.http_proxy;V&&(p.proxy={origin:V})}this.mySock=new ie(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const w=p.message||p.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const w=p.message||p.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){u.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(o=!0)}return!o&&null!==ie&&!u.forceDisallow_}static previouslyFailed(){return cn.isInMemoryStorage||!0===cn.get("previous_websocket_failure")}markConnectionHealthy(){cn.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const p=(0,ne.cI)(d);this.onMessage(p)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,ne.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const d=Number(o);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const d=o.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const p=this.extractFrameCount_(d);null!==p&&this.appendFrame_(p)}}send(o){this.resetKeepAlive();const d=(0,ne.Wl)(o);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const p=Wn(d,16384);p.length>1&&this.sendString_(String(p.length));for(let w=0;w<p.length;w++)this.sendString_(p[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return u.responsesRequiredToBeHealthy=2,u.healthyTimeout=3e4,u})(),Qe=(()=>{class u{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[X,$e]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const d=$e&&$e.isAvailable();let p=d&&!$e.previouslyFailed();if(o.webSocketOnly&&(d||tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[$e];else{const w=this.transports_=[];for(const A of u.ALL_TRANSPORTS)A&&A.isAvailable()&&w.push(A);u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return u.globalTransportInitialized_=!1,u})();class $s{constructor(i,o,d,p,w,A,V,Q,ue,Je){this.id=i,this.repoInfo_=o,this.applicationId_=d,this.appCheckToken_=p,this.authToken_=w,this.onMessage_=A,this.onReady_=V,this.onDisconnect_=Q,this.onKill_=ue,this.lastSessionId=Je,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pr("c:"+this.id+":"),this.transportManager_=new Qe(o),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,d)},Math.floor(0));const p=i.healthyTimeout||0;p>0&&(this.healthyTimeout_=gr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return o=>{i===this.conn_?this.onConnectionLost_(o):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return o=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(o):i===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const o=i.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const o=Rr("t",i),d=Rr("d",i);if("c"===o)this.onSecondaryControl_(d);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const o=Rr("t",i),d=Rr("d",i);"c"===o?this.onControl_(d):"d"===o&&this.onDataMessage_(d)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const o=Rr("t",i);if("d"in i){const d=i.d;if("h"===o){const p=Object.assign({},d);this.repoInfo_.isUsingEmulator&&(p.h=this.repoInfo_.host),this.onHandshake_(p)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(d):"r"===o?this.onReset_(d):"e"===o?er("Server Error: "+d):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):er("Unknown control packet command: "+o)}}onHandshake_(i){const o=i.ts,d=i.v,p=i.h;this.sessionId=i.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),H!==d&&tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,d),gr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,o){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hi{put(i,o,d,p){}merge(i,o,d,p){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,o,d){}onDisconnectMerge(i,o,d){}onDisconnectCancel(i,o){}reportStats(i){}}class Zi{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,ne.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...o){if(Array.isArray(this.listeners_[i])){const d=[...this.listeners_[i]];for(let p=0;p<d.length;p++)d[p].callback.apply(d[p].context,o)}}on(i,o,d){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:o,context:d});const p=this.getInitialEvent(i);p&&o.apply(d,p)}off(i,o,d){this.validateEventType_(i);const p=this.listeners_[i]||[];for(let w=0;w<p.length;w++)if(p[w].callback===o&&(!d||d===p[w].context))return void p.splice(w,1)}validateEventType_(i){(0,ne.hu)(this.allowedEvents_.find(o=>o===i),"Unknown event: "+i)}}class Ur extends Zi{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ne.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ur}getInitialEvent(i){return(0,ne.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class on{constructor(i,o){if(void 0===o){this.pieces_=i.split("/");let d=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[d]=this.pieces_[p],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=o}toString(){let i="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(i+="/"+this.pieces_[o]);return i||"/"}}function Nr(){return new on("")}function mr(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function wi(u){return u.pieces_.length-u.pieceNum_}function vr(u){let i=u.pieceNum_;return i<u.pieces_.length&&i++,new on(u.pieces_,i)}function ls(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function ts(u,i=0){return u.pieces_.slice(u.pieceNum_+i)}function Us(u){if(u.pieceNum_>=u.pieces_.length)return null;const i=[];for(let o=u.pieceNum_;o<u.pieces_.length-1;o++)i.push(u.pieces_[o]);return new on(i,0)}function ti(u,i){const o=[];for(let d=u.pieceNum_;d<u.pieces_.length;d++)o.push(u.pieces_[d]);if(i instanceof on)for(let d=i.pieceNum_;d<i.pieces_.length;d++)o.push(i.pieces_[d]);else{const d=i.split("/");for(let p=0;p<d.length;p++)d[p].length>0&&o.push(d[p])}return new on(o,0)}function or(u){return u.pieceNum_>=u.pieces_.length}function ni(u,i){const o=mr(u),d=mr(i);if(null===o)return i;if(o===d)return ni(vr(u),vr(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+u+")")}function vo(u,i){const o=ts(u,0),d=ts(i,0);for(let p=0;p<o.length&&p<d.length;p++){const w=ur(o[p],d[p]);if(0!==w)return w}return o.length===d.length?0:o.length<d.length?-1:1}function Oi(u,i){if(wi(u)!==wi(i))return!1;for(let o=u.pieceNum_,d=i.pieceNum_;o<=u.pieces_.length;o++,d++)if(u.pieces_[o]!==i.pieces_[d])return!1;return!0}function _r(u,i){let o=u.pieceNum_,d=i.pieceNum_;if(wi(u)>wi(i))return!1;for(;o<u.pieces_.length;){if(u.pieces_[o]!==i.pieces_[d])return!1;++o,++d}return!0}class Mo{constructor(i,o){this.errorPrefix_=o,this.parts_=ts(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,ne.ug)(this.parts_[d]);Ds(this)}}function Ds(u){if(u.byteLength_>768)throw new Error(u.errorPrefix_+"has a key path longer than 768 bytes ("+u.byteLength_+").");if(u.parts_.length>32)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Xi(u))}function Xi(u){return 0===u.parts_.length?"":"in property '"+u.parts_.join(".")+"'"}class Rs extends Zi{constructor(){let i,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const d=!document[i];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new Rs}getInitialEvent(i){return(0,ne.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const gs=1e3;let oo,Ss=(()=>{class u extends hi{constructor(o,d,p,w,A,V,Q,ue){if(super(),this.repoInfo_=o,this.applicationId_=d,this.onDataUpdate_=p,this.onConnectStatus_=w,this.onServerInfoUpdate_=A,this.authTokenProvider_=V,this.appCheckTokenProvider_=Q,this.authOverride_=ue,this.id=u.nextPersistentConnectionId_++,this.log_=Pr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ue&&!(0,ne.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rs.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&Ur.getInstance().on("online",this.onOnline_,this)}sendRequest(o,d,p){const w=++this.requestNumber_,A={r:w,a:o,b:d};this.log_((0,ne.Wl)(A)),(0,ne.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(A),p&&(this.requestCBHash_[w]=p)}get(o){this.initConnection_();const d=new ne.BH,w={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:V=>{const Q=V.d;"ok"===V.s?d.resolve(Q):d.reject(Q)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(o,d,p,w){this.initConnection_();const A=o._queryIdentifier,V=o._path.toString();this.log_("Listen called for "+V+" "+A),this.listens.has(V)||this.listens.set(V,new Map),(0,ne.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ne.hu)(!this.listens.get(V).has(A),"listen() called twice for same path/queryId.");const Q={onComplete:w,hashFn:d,query:o,tag:p};this.listens.get(V).set(A,Q),this.connected_&&this.sendListen_(Q)}sendGet_(o){const d=this.outstandingGets_[o];this.sendRequest("g",d.request,p=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(p)})}sendListen_(o){const d=o.query,p=d._path.toString(),w=d._queryIdentifier;this.log_("Listen on "+p+" for "+w);const A={p};o.tag&&(A.q=d._queryObject,A.t=o.tag),A.h=o.hashFn(),this.sendRequest("q",A,Q=>{const ue=Q.d,Je=Q.s;u.warnOnListenWarnings_(ue,d),(this.listens.get(p)&&this.listens.get(p).get(w))===o&&(this.log_("listen response",Q),"ok"!==Je&&this.removeListen_(p,w),o.onComplete&&o.onComplete(Je,ue))})}static warnOnListenWarnings_(o,d){if(o&&"object"==typeof o&&(0,ne.r3)(o,"w")){const p=(0,ne.DV)(o,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const w='".indexOn": "'+d._queryParams.getIndex().toString()+'"',A=d._path.toString();tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${A} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,ne.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,d=(0,ne.w9)(o)?"auth":"gauth",p={cred:o};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(d,p,w=>{const A=w.s,V=w.d||"error";this.authToken_===o&&("ok"===A?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(A,V))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const d=o.s,p=o.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,p)})}unlisten(o,d){const p=o._path.toString(),w=o._queryIdentifier;this.log_("Unlisten called for "+p+" "+w),(0,ne.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,w)&&this.connected_&&this.sendUnlisten_(p,w,o._queryObject,d)}sendUnlisten_(o,d,p,w){this.log_("Unlisten on "+o+" for "+d);const A={p:o};w&&(A.q=p,A.t=w),this.sendRequest("n",A)}onDisconnectPut(o,d,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,d,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:d,onComplete:p})}onDisconnectMerge(o,d,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,d,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:d,onComplete:p})}onDisconnectCancel(o,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,d):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(o,d,p,w){const A={p:d,d:p};this.log_("onDisconnect "+o,A),this.sendRequest(o,A,V=>{w&&setTimeout(()=>{w(V.s,V.d)},Math.floor(0))})}put(o,d,p,w){this.putInternal("p",o,d,p,w)}merge(o,d,p,w){this.putInternal("m",o,d,p,w)}putInternal(o,d,p,w,A){this.initConnection_();const V={p:d,d:p};void 0!==A&&(V.h=A),this.outstandingPuts_.push({action:o,request:V,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(o){const d=this.outstandingPuts_[o].action,p=this.outstandingPuts_[o].request,w=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(d,p,A=>{this.log_(d+" response",A),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(A.s,A.d)})}reportStats(o){if(this.connected_){const d={c:o};this.log_("reportStats",d),this.sendRequest("s",d,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,ne.Wl)(o));const d=o.r,p=this.requestCBHash_[d];p&&(delete this.requestCBHash_[d],p(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,d){this.log_("handleServerMessage",o,d),"d"===o?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===o?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===o?this.onListenRevoked_(d.p,d.q):"ac"===o?this.onAuthRevoked_(d.s,d.d):"apc"===o?this.onAppCheckRevoked_(d.s,d.d):"sd"===o?this.onSecurityDebugPacket_(d):er("Unrecognized action received from server: "+(0,ne.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,ne.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-o);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,ke.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const d=o.onDataMessage_.bind(o),p=o.onReady_.bind(o),w=o.onRealtimeDisconnect_.bind(o),A=o.id+":"+u.nextConnectionId_++,V=o.lastSessionId;let Q=!1,ue=null;const Je=function(){ue?ue.close():(Q=!0,w())};o.realtime_={close:Je,sendRequest:function(Vt){(0,ne.hu)(ue,"sendRequest call when we're not connected not allowed."),ue.sendRequest(Vt)}};const Et=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[Vt,Gt]=yield Promise.all([o.authTokenProvider_.getToken(Et),o.appCheckTokenProvider_.getToken(Et)]);Q?Yt("getToken() completed but was canceled"):(Yt("getToken() completed. Creating connection."),o.authToken_=Vt&&Vt.accessToken,o.appCheckToken_=Gt&&Gt.token,ue=new $s(A,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,d,p,w,hn=>{tr(hn+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},V))}catch(Vt){o.log_("Failed to get token: "+Vt),Q||(o.repoInfo_.nodeAdmin&&tr(Vt),Je())}}})()}interrupt(o){Yt("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){Yt("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,ne.xb)(this.interruptReasons_)&&(this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const d=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const d=this.outstandingPuts_[o];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,d){let p;p=d?d.map(A=>Tr(A)).join("$"):"default";const w=this.removeListen_(o,p);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(o,d){const p=new on(o).toString();let w;if(this.listens.has(p)){const A=this.listens.get(p);w=A.get(d),A.delete(d),0===A.size&&this.listens.delete(p)}else w=void 0;return w}onAuthRevoked_(o,d){Yt("Auth token revoked: "+o+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,d){Yt("App check token revoked: "+o+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const d of o.values())this.sendListen_(d);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let d="js";(0,ne.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+d+"."+rn.replace(/\./g,"-")]=1,(0,ne.uI)()?o["framework.cordova"]=1:(0,ne.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=Ur.getInstance().currentlyOnline();return(0,ne.xb)(this.interruptReasons_)&&o}}return u.nextPersistentConnectionId_=0,u.nextConnectionId_=0,u})();class br{constructor(i,o){this.name=i,this.node=o}static Wrap(i,o){return new br(i,o)}}class _s{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,o){const d=new br(xn,i),p=new br(xn,o);return 0!==this.compare(d,p)}minPost(){return br.MIN}}class cs extends _s{static get __EMPTY_NODE(){return oo}static set __EMPTY_NODE(i){oo=i}compare(i,o){return ur(i.name,o.name)}isDefinedOn(i){throw(0,ne.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,o){return!1}minPost(){return br.MIN}maxPost(){return new br(fr,oo)}makePost(i,o){return(0,ne.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new br(i,oo)}toString(){return".key"}}const Es=new cs;class ao{constructor(i,o,d,p,w=null){this.isReverse_=p,this.resultGenerator_=w,this.nodeStack_=[];let A=1;for(;!i.isEmpty();)if(A=o?d(i.key,o):1,p&&(A*=-1),A<0)i=this.isReverse_?i.left:i.right;else{if(0===A){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,i=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let S,ri=(()=>{class u{constructor(o,d,p,w,A){this.key=o,this.value=d,this.color=null!=p?p:u.RED,this.left=null!=w?w:Ai.EMPTY_NODE,this.right=null!=A?A:Ai.EMPTY_NODE}copy(o,d,p,w,A){return new u(null!=o?o:this.key,null!=d?d:this.value,null!=p?p:this.color,null!=w?w:this.left,null!=A?A:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,d,p){let w=this;const A=p(o,w.key);return w=A<0?w.copy(null,null,null,w.left.insert(o,d,p),null):0===A?w.copy(null,d,null,null,null):w.copy(null,null,null,null,w.right.insert(o,d,p)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ai.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,d){let p,w;if(p=this,d(o,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(o,d),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===d(o,p.key)){if(p.right.isEmpty())return Ai.EMPTY_NODE;w=p.right.min_(),p=p.copy(w.key,w.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(o,d))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,d)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return u.RED=!0,u.BLACK=!1,u})();class Ai{constructor(i,o=Ai.EMPTY_NODE){this.comparator_=i,this.root_=o}insert(i,o){return new Ai(this.comparator_,this.root_.insert(i,o,this.comparator_).copy(null,null,ri.BLACK,null,null))}remove(i){return new Ai(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,ri.BLACK,null,null))}get(i){let o,d=this.root_;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o)return d.value;o<0?d=d.left:o>0&&(d=d.right)}return null}getPredecessorKey(i){let o,d=this.root_,p=null;for(;!d.isEmpty();){if(o=this.comparator_(i,d.key),0===o){if(d.left.isEmpty())return p?p.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}o<0?d=d.left:o>0&&(p=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new ao(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,o){return new ao(this.root_,i,this.comparator_,!1,o)}getReverseIteratorFrom(i,o){return new ao(this.root_,i,this.comparator_,!0,o)}getReverseIterator(i){return new ao(this.root_,null,this.comparator_,!0,i)}}function Bi(u,i){return ur(u.name,i.name)}function xo(u,i){return ur(u,i)}Ai.EMPTY_NODE=new class Qs{copy(i,o,d,p,w){return this}insert(i,o,d){return new ri(i,o,null)}remove(i,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const T=function(u){return"number"==typeof u?"number:"+ei(u):"string:"+u},Z=function(u){if(u.isLeafNode()){const i=u.val();(0,ne.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,ne.r3)(i,".sv"),"Priority must be a string or number.")}else(0,ne.hu)(u===S||u.isEmpty(),"priority of unexpected type.");(0,ne.hu)(u===S||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Pe,Bn,rr,qt=(()=>{class u{constructor(o,d=u.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=d,this.lazyHash_=null,(0,ne.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Z(this.priorityNode_)}static set __childrenNodeConstructor(o){Pe=o}static get __childrenNodeConstructor(){return Pe}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new u(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return or(o)?this:".priority"===mr(o)?this.priorityNode_:u.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,d){return null}updateImmediateChild(o,d){return".priority"===o?this.updatePriority(d):d.isEmpty()&&".priority"!==o?this:u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,d).updatePriority(this.priorityNode_)}updateChild(o,d){const p=mr(o);return null===p?d:d.isEmpty()&&".priority"!==p?this:((0,ne.hu)(".priority"!==p||1===wi(o),".priority must be the last token in a path"),this.updateImmediateChild(p,u.__childrenNodeConstructor.EMPTY_NODE.updateChild(vr(o),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,d){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+T(this.priorityNode_.val())+":");const d=typeof this.value_;o+=d+":",o+="number"===d?ei(this.value_):this.value_,this.lazyHash_=In(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===u.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof u.__childrenNodeConstructor?-1:((0,ne.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const d=typeof o.value_,p=typeof this.value_,w=u.VALUE_TYPE_ORDER.indexOf(d),A=u.VALUE_TYPE_ORDER.indexOf(p);return(0,ne.hu)(w>=0,"Unknown leaf type: "+d),(0,ne.hu)(A>=0,"Unknown leaf type: "+p),w===A?"object"===p?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:A-w}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return u.VALUE_TYPE_ORDER=["object","boolean","number","string"],u})();const jr=new class ns extends _s{compare(i,o){const d=i.node.getPriority(),p=o.node.getPriority(),w=d.compareTo(p);return 0===w?ur(i.name,o.name):w}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,o){return!i.getPriority().equals(o.getPriority())}minPost(){return br.MIN}maxPost(){return new br(fr,new qt("[PRIORITY-POST]",rr))}makePost(i,o){const d=Bn(i);return new br(o,new qt("[PRIORITY-POST]",d))}toString(){return".priority"}},ds=Math.log(2);class ws{constructor(i){this.count=parseInt(Math.log(i+1)/ds,10),this.current_=this.count-1;const p=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&p}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Xs=function(u,i,o,d){u.sort(i);const p=function(Q,ue){const Je=ue-Q;let lt,Et;if(0===Je)return null;if(1===Je)return lt=u[Q],Et=o?o(lt):lt,new ri(Et,lt.node,ri.BLACK,null,null);{const Vt=parseInt(Je/2,10)+Q,Gt=p(Q,Vt),hn=p(Vt+1,ue);return lt=u[Vt],Et=o?o(lt):lt,new ri(Et,lt.node,ri.BLACK,Gt,hn)}},V=function(Q){let ue=null,Je=null,lt=u.length;const Et=function(Gt,hn){const On=lt-Gt,$r=lt;lt-=Gt;const ui=p(On+1,$r),Di=u[On],Ri=o?o(Di):Di;Vt(new ri(Ri,Di.node,hn,null,ui))},Vt=function(Gt){ue?(ue.left=Gt,ue=Gt):(Je=Gt,ue=Gt)};for(let Gt=0;Gt<Q.count;++Gt){const hn=Q.nextBitIsOne(),On=Math.pow(2,Q.count-(Gt+1));hn?Et(On,ri.BLACK):(Et(On,ri.BLACK),Et(On,ri.RED))}return Je}(new ws(u.length));return new Ai(d||i,V)};let lo;const Y={};class U{constructor(i,o){this.indexes_=i,this.indexSet_=o}static get Default(){return(0,ne.hu)(Y&&jr,"ChildrenNode.ts has not been loaded"),lo=lo||new U({".priority":Y},{".priority":jr}),lo}get(i){const o=(0,ne.DV)(this.indexes_,i);if(!o)throw new Error("No index defined for "+i);return o instanceof Ai?o:null}hasIndex(i){return(0,ne.r3)(this.indexSet_,i.toString())}addIndex(i,o){(0,ne.hu)(i!==Es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let p=!1;const w=o.getIterator(br.Wrap);let V,A=w.getNext();for(;A;)p=p||i.isDefinedOn(A.node),d.push(A),A=w.getNext();V=p?Xs(d,i.getCompare()):Y;const Q=i.toString(),ue=Object.assign({},this.indexSet_);ue[Q]=i;const Je=Object.assign({},this.indexes_);return Je[Q]=V,new U(Je,ue)}addToIndexes(i,o){const d=(0,ne.UI)(this.indexes_,(p,w)=>{const A=(0,ne.DV)(this.indexSet_,w);if((0,ne.hu)(A,"Missing index implementation for "+w),p===Y){if(A.isDefinedOn(i.node)){const V=[],Q=o.getIterator(br.Wrap);let ue=Q.getNext();for(;ue;)ue.name!==i.name&&V.push(ue),ue=Q.getNext();return V.push(i),Xs(V,A.getCompare())}return Y}{const V=o.get(i.name);let Q=p;return V&&(Q=Q.remove(new br(i.name,V))),Q.insert(i,i.node)}});return new U(d,this.indexSet_)}removeFromIndexes(i,o){const d=(0,ne.UI)(this.indexes_,p=>{if(p===Y)return p;{const w=o.get(i.name);return w?p.remove(new br(i.name,w)):p}});return new U(d,this.indexSet_)}}let C,P=(()=>{class u{constructor(o,d,p){this.children_=o,this.priorityNode_=d,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&Z(this.priorityNode_),this.children_.isEmpty()&&(0,ne.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return C||(C=new u(new Ai(xo),null,U.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||C}updatePriority(o){return this.children_.isEmpty()?this:new u(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const d=this.children_.get(o);return null===d?C:d}}getChild(o){const d=mr(o);return null===d?this:this.getImmediateChild(d).getChild(vr(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,d){if((0,ne.hu)(d,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(d);{const p=new br(o,d);let w,A;d.isEmpty()?(w=this.children_.remove(o),A=this.indexMap_.removeFromIndexes(p,this.children_)):(w=this.children_.insert(o,d),A=this.indexMap_.addToIndexes(p,this.children_));const V=w.isEmpty()?C:this.priorityNode_;return new u(w,V,A)}}updateChild(o,d){const p=mr(o);if(null===p)return d;{(0,ne.hu)(".priority"!==mr(o)||1===wi(o),".priority must be the last token in a path");const w=this.getImmediateChild(p).updateChild(vr(o),d);return this.updateImmediateChild(p,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const d={};let p=0,w=0,A=!0;if(this.forEachChild(jr,(V,Q)=>{d[V]=Q.val(o),p++,A&&u.INTEGER_REGEXP_.test(V)?w=Math.max(w,Number(V)):A=!1}),!o&&A&&w<2*p){const V=[];for(const Q in d)V[Q]=d[Q];return V}return o&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+T(this.getPriority().val())+":"),this.forEachChild(jr,(d,p)=>{const w=p.hash();""!==w&&(o+=":"+d+":"+w)}),this.lazyHash_=""===o?"":In(o)}return this.lazyHash_}getPredecessorChildName(o,d,p){const w=this.resolveIndex_(p);if(w){const A=w.getPredecessorKey(new br(o,d));return A?A.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const d=this.resolveIndex_(o);if(d){const p=d.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(o){const d=this.getFirstChildName(o);return d?new br(d,this.children_.get(d)):null}getLastChildName(o){const d=this.resolveIndex_(o);if(d){const p=d.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(o){const d=this.getLastChildName(o);return d?new br(d,this.children_.get(d)):null}forEachChild(o,d){const p=this.resolveIndex_(o);return p?p.inorderTraversal(w=>d(w.name,w.node)):this.children_.inorderTraversal(d)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,d){const p=this.resolveIndex_(d);if(p)return p.getIteratorFrom(o,w=>w);{const w=this.children_.getIteratorFrom(o.name,br.Wrap);let A=w.peek();for(;null!=A&&d.compare(A,o)<0;)w.getNext(),A=w.peek();return w}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,d){const p=this.resolveIndex_(d);if(p)return p.getReverseIteratorFrom(o,w=>w);{const w=this.children_.getReverseIteratorFrom(o.name,br.Wrap);let A=w.peek();for(;null!=A&&d.compare(A,o)>0;)w.getNext(),A=w.peek();return w}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===st?-1:0}withIndex(o){if(o===Es||this.indexMap_.hasIndex(o))return this;{const d=this.indexMap_.addIndex(o,this.children_);return new u(this.children_,this.priorityNode_,d)}}isIndexed(o){return o===Es||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const d=o;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const p=this.getIterator(jr),w=d.getIterator(jr);let A=p.getNext(),V=w.getNext();for(;A&&V;){if(A.name!==V.name||!A.node.equals(V.node))return!1;A=p.getNext(),V=w.getNext()}return null===A&&null===V}return!1}return!1}}resolveIndex_(o){return o===Es?null:this.indexMap_.get(o.toString())}}return u.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,u})();const st=new class me extends P{constructor(){super(new Ai(xo),P.EMPTY_NODE,U.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return P.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(br,{MIN:{value:new br(xn,P.EMPTY_NODE)},MAX:{value:new br(fr,st)}}),cs.__EMPTY_NODE=P.EMPTY_NODE,qt.__childrenNodeConstructor=P,function te(u){S=u}(st),function Br(u){rr=u}(st);const $t=!0;function Zt(u,i=null){if(null===u)return P.EMPTY_NODE;if("object"==typeof u&&".priority"in u&&(i=u[".priority"]),(0,ne.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof u&&".value"in u&&null!==u[".value"]&&(u=u[".value"]),"object"!=typeof u||".sv"in u)return new qt(u,Zt(i));if(u instanceof Array||!$t){let o=P.EMPTY_NODE;return gn(u,(d,p)=>{if((0,ne.r3)(u,d)&&"."!==d.substring(0,1)){const w=Zt(p);(w.isLeafNode()||!w.isEmpty())&&(o=o.updateImmediateChild(d,w))}}),o.updatePriority(Zt(i))}{const o=[];let d=!1;if(gn(u,(A,V)=>{if("."!==A.substring(0,1)){const Q=Zt(V);Q.isEmpty()||(d=d||!Q.getPriority().isEmpty(),o.push(new br(A,Q)))}}),0===o.length)return P.EMPTY_NODE;const w=Xs(o,Bi,A=>A.name,xo);if(d){const A=Xs(o,jr.getCompare());return new P(w,Zt(i),new U({".priority":A},{".priority":jr}))}return new P(w,Zt(i),U.Default)}}!function Dr(u){Bn=u}(Zt);class mn extends _s{constructor(i){super(),this.indexPath_=i,(0,ne.hu)(!or(i)&&".priority"!==mr(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,o){const d=this.extractChild(i.node),p=this.extractChild(o.node),w=d.compareTo(p);return 0===w?ur(i.name,o.name):w}makePost(i,o){const d=Zt(i),p=P.EMPTY_NODE.updateChild(this.indexPath_,d);return new br(o,p)}maxPost(){const i=P.EMPTY_NODE.updateChild(this.indexPath_,st);return new br(fr,i)}toString(){return ts(this.indexPath_,0).join("/")}}const Xr=new class Qr extends _s{compare(i,o){const d=i.node.compareTo(o.node);return 0===d?ur(i.name,o.name):d}isDefinedOn(i){return!0}indexedValueChanged(i,o){return!i.equals(o)}minPost(){return br.MIN}maxPost(){return br.MAX}makePost(i,o){const d=Zt(i);return new br(o,d)}toString(){return".value"}};function oi(u){return{type:"value",snapshotNode:u}}function zr(u,i){return{type:"child_added",snapshotNode:i,childName:u}}function Lr(u,i){return{type:"child_removed",snapshotNode:i,childName:u}}function Is(u,i,o){return{type:"child_changed",snapshotNode:i,childName:u,oldSnap:o}}class Hs{constructor(i){this.index_=i}updateChild(i,o,d,p,w,A){(0,ne.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const V=i.getImmediateChild(o);return V.getChild(p).equals(d.getChild(p))&&V.isEmpty()===d.isEmpty()||(null!=A&&(d.isEmpty()?i.hasChild(o)?A.trackChildChange(Lr(o,V)):(0,ne.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):V.isEmpty()?A.trackChildChange(zr(o,d)):A.trackChildChange(Is(o,d,V))),i.isLeafNode()&&d.isEmpty())?i:i.updateImmediateChild(o,d).withIndex(this.index_)}updateFullNode(i,o,d){return null!=d&&(i.isLeafNode()||i.forEachChild(jr,(p,w)=>{o.hasChild(p)||d.trackChildChange(Lr(p,w))}),o.isLeafNode()||o.forEachChild(jr,(p,w)=>{if(i.hasChild(p)){const A=i.getImmediateChild(p);A.equals(w)||d.trackChildChange(Is(p,w,A))}else d.trackChildChange(zr(p,w))})),o.withIndex(this.index_)}updatePriority(i,o){return i.isEmpty()?P.EMPTY_NODE:i.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class uo{constructor(i){this.indexedFilter_=new Hs(i.getIndex()),this.index_=i.getIndex(),this.startPost_=uo.getStartPost_(i),this.endPost_=uo.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,d=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return o&&d}updateChild(i,o,d,p,w,A){return this.matches(new br(o,d))||(d=P.EMPTY_NODE),this.indexedFilter_.updateChild(i,o,d,p,w,A)}updateFullNode(i,o,d){o.isLeafNode()&&(o=P.EMPTY_NODE);let p=o.withIndex(this.index_);p=p.updatePriority(P.EMPTY_NODE);const w=this;return o.forEachChild(jr,(A,V)=>{w.matches(new br(A,V))||(p=p.updateImmediateChild(A,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,p,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const o=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),o)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const o=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),o)}return i.getIndex().maxPost()}}class Yo{constructor(i){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const d=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?d<=0:d<0},this.withinEndPost=o=>{const d=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?d<=0:d<0},this.rangedFilter_=new uo(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,o,d,p,w,A){return this.rangedFilter_.matches(new br(o,d))||(d=P.EMPTY_NODE),i.getImmediateChild(o).equals(d)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,o,d,p,w,A):this.fullLimitUpdateChild_(i,o,d,w,A)}updateFullNode(i,o,d){let p;if(o.isLeafNode()||o.isEmpty())p=P.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let w;p=P.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let A=0;for(;w.hasNext()&&A<this.limit_;){const V=w.getNext();if(this.withinDirectionalStart(V)){if(!this.withinDirectionalEnd(V))break;p=p.updateImmediateChild(V.name,V.node),A++}}}else{let w;p=o.withIndex(this.index_),p=p.updatePriority(P.EMPTY_NODE),w=this.reverse_?p.getReverseIterator(this.index_):p.getIterator(this.index_);let A=0;for(;w.hasNext();){const V=w.getNext();A<this.limit_&&this.withinDirectionalStart(V)&&this.withinDirectionalEnd(V)?A++:p=p.updateImmediateChild(V.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,p,d)}updatePriority(i,o){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,o,d,p,w){let A;if(this.reverse_){const lt=this.index_.getCompare();A=(Et,Vt)=>lt(Vt,Et)}else A=this.index_.getCompare();const V=i;(0,ne.hu)(V.numChildren()===this.limit_,"");const Q=new br(o,d),ue=this.reverse_?V.getFirstChild(this.index_):V.getLastChild(this.index_),Je=this.rangedFilter_.matches(Q);if(V.hasChild(o)){const lt=V.getImmediateChild(o);let Et=p.getChildAfterChild(this.index_,ue,this.reverse_);for(;null!=Et&&(Et.name===o||V.hasChild(Et.name));)Et=p.getChildAfterChild(this.index_,Et,this.reverse_);const Vt=null==Et?1:A(Et,Q);if(Je&&!d.isEmpty()&&Vt>=0)return null!=w&&w.trackChildChange(Is(o,d,lt)),V.updateImmediateChild(o,d);{null!=w&&w.trackChildChange(Lr(o,lt));const hn=V.updateImmediateChild(o,P.EMPTY_NODE);return null!=Et&&this.rangedFilter_.matches(Et)?(null!=w&&w.trackChildChange(zr(Et.name,Et.node)),hn.updateImmediateChild(Et.name,Et.node)):hn}}return d.isEmpty()?i:Je&&A(ue,Q)>=0?(null!=w&&(w.trackChildChange(Lr(ue.name,ue.node)),w.trackChildChange(zr(o,d))),V.updateImmediateChild(o,d).updateImmediateChild(ue.name,P.EMPTY_NODE)):i}}class $i{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ne.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jr}copy(){const i=new $i;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Ma(u,i,o){const d=u.copy();return d.startSet_=!0,void 0===i&&(i=null),d.indexStartValue_=i,null!=o?(d.startNameSet_=!0,d.indexStartName_=o):(d.startNameSet_=!1,d.indexStartName_=""),d}function Po(u,i,o){const d=u.copy();return d.endSet_=!0,void 0===i&&(i=null),d.indexEndValue_=i,void 0!==o?(d.endNameSet_=!0,d.indexEndName_=o):(d.endNameSet_=!1,d.indexEndName_=""),d}function fi(u,i){const o=u.copy();return o.index_=i,o}function Wl(u){const i={};if(u.isDefault())return i;let o;if(u.index_===jr?o="$priority":u.index_===Xr?o="$value":u.index_===Es?o="$key":((0,ne.hu)(u.index_ instanceof mn,"Unrecognized index type!"),o=u.index_.toString()),i.orderBy=(0,ne.Wl)(o),u.startSet_){const d=u.startAfterSet_?"startAfter":"startAt";i[d]=(0,ne.Wl)(u.indexStartValue_),u.startNameSet_&&(i[d]+=","+(0,ne.Wl)(u.indexStartName_))}if(u.endSet_){const d=u.endBeforeSet_?"endBefore":"endAt";i[d]=(0,ne.Wl)(u.indexEndValue_),u.endNameSet_&&(i[d]+=","+(0,ne.Wl)(u.indexEndName_))}return u.limitSet_&&(u.isViewFromLeft()?i.limitToFirst=u.limit_:i.limitToLast=u.limit_),i}function Au(u){const i={};if(u.startSet_&&(i.sp=u.indexStartValue_,u.startNameSet_&&(i.sn=u.indexStartName_),i.sin=!u.startAfterSet_),u.endSet_&&(i.ep=u.indexEndValue_,u.endNameSet_&&(i.en=u.indexEndName_),i.ein=!u.endBeforeSet_),u.limitSet_){i.l=u.limit_;let o=u.viewFrom_;""===o&&(o=u.isViewFromLeft()?"l":"r"),i.vf=o}return u.index_!==jr&&(i.i=u.index_.toString()),i}class co extends hi{constructor(i,o,d,p){super(),this.repoInfo_=i,this.onDataUpdate_=o,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.log_=Pr("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,o){return void 0!==o?"tag$"+o:((0,ne.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,o,d,p){const w=i._path.toString();this.log_("Listen called for "+w+" "+i._queryIdentifier);const A=co.getListenId_(i,d),V={};this.listens_[A]=V;const Q=Wl(i._queryParams);this.restRequest_(w+".json",Q,(ue,Je)=>{let lt=Je;if(404===ue&&(lt=null,ue=null),null===ue&&this.onDataUpdate_(w,lt,!1,d),(0,ne.DV)(this.listens_,A)===V){let Et;Et=ue?401===ue?"permission_denied":"rest_error:"+ue:"ok",p(Et,null)}})}unlisten(i,o){const d=co.getListenId_(i,o);delete this.listens_[d]}get(i){const o=Wl(i._queryParams),d=i._path.toString(),p=new ne.BH;return this.restRequest_(d+".json",o,(w,A)=>{let V=A;404===w&&(V=null,w=null),null===w?(this.onDataUpdate_(d,V,!1,null),p.resolve(V)):p.reject(new Error(V))}),p.promise}refreshAuthToken(i){}restRequest_(i,o={},d){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,w])=>{p&&p.accessToken&&(o.auth=p.accessToken),w&&w.token&&(o.ac=w.token);const A=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,ne.xO)(o);this.log_("Sending REST request for "+A);const V=new XMLHttpRequest;V.onreadystatechange=()=>{if(d&&4===V.readyState){this.log_("REST Response for "+A+" received. status:",V.status,"response:",V.responseText);let Q=null;if(V.status>=200&&V.status<300){try{Q=(0,ne.cI)(V.responseText)}catch{tr("Failed to parse JSON response for "+A+": "+V.responseText)}d(null,Q)}else 401!==V.status&&404!==V.status&&tr("Got unsuccessful REST response for "+A+" Status: "+V.status),d(V.status);d=null}},V.open("GET",A,!0),V.send()})}}class ic{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,o){this.rootNode_=this.rootNode_.updateChild(i,o)}}function Vo(){return{value:null,children:new Map}}function Zo(u,i,o){if(or(i))u.value=o,u.children.clear();else if(null!==u.value)u.value=u.value.updateChild(i,o);else{const d=mr(i);u.children.has(d)||u.children.set(d,Vo()),Zo(u.children.get(d),i=vr(i),o)}}function va(u,i){if(or(i))return u.value=null,u.children.clear(),!0;if(null!==u.value){if(u.value.isLeafNode())return!1;{const o=u.value;return u.value=null,o.forEachChild(jr,(d,p)=>{Zo(u,new on(d),p)}),va(u,i)}}if(u.children.size>0){const o=mr(i);return i=vr(i),u.children.has(o)&&va(u.children.get(o),i)&&u.children.delete(o),0===u.children.size}return!0}function Kl(u,i,o){null!==u.value?o(i,u.value):function xs(u,i){u.children.forEach((o,d)=>{i(d,o)})}(u,(d,p)=>{Kl(p,new on(i.toString()+"/"+d),o)})}class Eo{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),o=Object.assign({},i);return this.last_&&gn(this.last_,(d,p)=>{o[d]=o[d]-p}),this.last_=i,o}}class _a{constructor(i,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Eo(i);const d=1e4+2e4*Math.random();gr(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const i=this.statsListener_.get(),o={};let d=!1;gn(i,(p,w)=>{w>0&&(0,ne.r3)(this.statsToReport_,p)&&(o[p]=w,d=!0)}),d&&this.server_.reportStats(o),gr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Kr=(()=>((Kr=Kr||{})[Kr.OVERWRITE=0]="OVERWRITE",Kr[Kr.MERGE=1]="MERGE",Kr[Kr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Kr[Kr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Kr))();function xa(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}class zs{constructor(i,o,d){this.path=i,this.affectedTree=o,this.revert=d,this.type=Kr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(or(this.path)){if(null!=this.affectedTree.value)return(0,ne.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new on(i));return new zs(Nr(),o,this.revert)}}return(0,ne.hu)(mr(this.path)===i,"operationForChild called for unrelated child."),new zs(vr(this.path),this.affectedTree,this.revert)}}class Xa{constructor(i,o){this.source=i,this.path=o,this.type=Kr.LISTEN_COMPLETE}operationForChild(i){return or(this.path)?new Xa(this.source,Nr()):new Xa(this.source,vr(this.path))}}class ua{constructor(i,o,d){this.source=i,this.path=o,this.snap=d,this.type=Kr.OVERWRITE}operationForChild(i){return or(this.path)?new ua(this.source,Nr(),this.snap.getImmediateChild(i)):new ua(this.source,vr(this.path),this.snap)}}class ${constructor(i,o,d){this.source=i,this.path=o,this.children=d,this.type=Kr.MERGE}operationForChild(i){if(or(this.path)){const o=this.children.subtree(new on(i));return o.isEmpty()?null:o.value?new ua(this.source,Nr(),o.value):new $(this.source,Nr(),o)}return(0,ne.hu)(mr(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new $(this.source,vr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class re{constructor(i,o,d){this.node_=i,this.fullyInitialized_=o,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(or(i))return this.isFullyInitialized()&&!this.filtered_;const o=mr(i);return this.isCompleteForChild(o)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class j{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function qe(u,i,o,d,p,w){const A=d.filter(V=>V.type===o);A.sort((V,Q)=>function Qt(u,i,o){if(null==i.childName||null==o.childName)throw(0,ne.g5)("Should only compare child_ events.");const d=new br(i.childName,i.snapshotNode),p=new br(o.childName,o.snapshotNode);return u.index_.compare(d,p)}(u,V,Q)),A.forEach(V=>{const Q=function jt(u,i,o){return"value"===i.type||"child_removed"===i.type||(i.prevName=o.getPredecessorChildName(i.childName,i.snapshotNode,u.index_)),i}(u,V,w);p.forEach(ue=>{ue.respondsTo(V.type)&&i.push(ue.createEvent(Q,u.query_))})})}function Yn(u,i){return{eventCache:u,serverCache:i}}function yn(u,i,o,d){return Yn(new re(i,o,d),u.serverCache)}function qr(u,i,o,d){return Yn(u.eventCache,new re(i,o,d))}function Or(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function Mr(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}let Ji;class Jn{constructor(i,o=(()=>(Ji||(Ji=new Ai(cr)),Ji))()){this.value=i,this.children=o}static fromObject(i){let o=new Jn(null);return gn(i,(d,p)=>{o=o.set(new on(d),p)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,o){if(null!=this.value&&o(this.value))return{path:Nr(),value:this.value};if(or(i))return null;{const d=mr(i),p=this.children.get(d);if(null!==p){const w=p.findRootMostMatchingPathAndValue(vr(i),o);return null!=w?{path:ti(new on(d),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(or(i))return this;{const o=mr(i),d=this.children.get(o);return null!==d?d.subtree(vr(i)):new Jn(null)}}set(i,o){if(or(i))return new Jn(o,this.children);{const d=mr(i),w=(this.children.get(d)||new Jn(null)).set(vr(i),o),A=this.children.insert(d,w);return new Jn(this.value,A)}}remove(i){if(or(i))return this.children.isEmpty()?new Jn(null):new Jn(null,this.children);{const o=mr(i),d=this.children.get(o);if(d){const p=d.remove(vr(i));let w;return w=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),null===this.value&&w.isEmpty()?new Jn(null):new Jn(this.value,w)}return this}}get(i){if(or(i))return this.value;{const o=mr(i),d=this.children.get(o);return d?d.get(vr(i)):null}}setTree(i,o){if(or(i))return o;{const d=mr(i),w=(this.children.get(d)||new Jn(null)).setTree(vr(i),o);let A;return A=w.isEmpty()?this.children.remove(d):this.children.insert(d,w),new Jn(this.value,A)}}fold(i){return this.fold_(Nr(),i)}fold_(i,o){const d={};return this.children.inorderTraversal((p,w)=>{d[p]=w.fold_(ti(i,p),o)}),o(i,this.value,d)}findOnPath(i,o){return this.findOnPath_(i,Nr(),o)}findOnPath_(i,o,d){const p=!!this.value&&d(o,this.value);if(p)return p;if(or(i))return null;{const w=mr(i),A=this.children.get(w);return A?A.findOnPath_(vr(i),ti(o,w),d):null}}foreachOnPath(i,o){return this.foreachOnPath_(i,Nr(),o)}foreachOnPath_(i,o,d){if(or(i))return this;{this.value&&d(o,this.value);const p=mr(i),w=this.children.get(p);return w?w.foreachOnPath_(vr(i),ti(o,p),d):new Jn(null)}}foreach(i){this.foreach_(Nr(),i)}foreach_(i,o){this.children.inorderTraversal((d,p)=>{p.foreach_(ti(i,d),o)}),this.value&&o(i,this.value)}foreachChild(i){this.children.inorderTraversal((o,d)=>{d.value&&i(o,d.value)})}}class bi{constructor(i){this.writeTree_=i}static empty(){return new bi(new Jn(null))}}function ji(u,i,o){if(or(i))return new bi(new Jn(o));{const d=u.writeTree_.findRootMostValueAndPath(i);if(null!=d){const p=d.path;let w=d.value;const A=ni(p,i);return w=w.updateChild(A,o),new bi(u.writeTree_.set(p,w))}{const p=new Jn(o),w=u.writeTree_.setTree(i,p);return new bi(w)}}}function Fn(u,i,o){let d=u;return gn(o,(p,w)=>{d=ji(d,ti(i,p),w)}),d}function jn(u,i){if(or(i))return bi.empty();{const o=u.writeTree_.setTree(i,new Jn(null));return new bi(o)}}function Uo(u,i){return null!=Tn(u,i)}function Tn(u,i){const o=u.writeTree_.findRootMostValueAndPath(i);return null!=o?u.writeTree_.get(o.path).getChild(ni(o.path,i)):null}function Xe(u){const i=[],o=u.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(jr,(d,p)=>{i.push(new br(d,p))}):u.writeTree_.children.inorderTraversal((d,p)=>{null!=p.value&&i.push(new br(d,p.value))}),i}function Lt(u,i){if(or(i))return u;{const o=Tn(u,i);return new bi(null!=o?new Jn(o):u.writeTree_.subtree(i))}}function Ts(u){return u.writeTree_.isEmpty()}function ca(u,i){return Gs(Nr(),u.writeTree_,i)}function Gs(u,i,o){if(null!=i.value)return o.updateChild(u,i.value);{let d=null;return i.children.inorderTraversal((p,w)=>{".priority"===p?((0,ne.hu)(null!==w.value,"Priority writes must always be leaf nodes"),d=w.value):o=Gs(ti(u,p),w,o)}),!o.getChild(u).isEmpty()&&null!==d&&(o=o.updateChild(ti(u,".priority"),d)),o}}function sc(u,i){return El(i,u)}function Zc(u,i){if(u.snap)return _r(u.path,i);for(const o in u.children)if(u.children.hasOwnProperty(o)&&_r(ti(u.path,o),i))return!0;return!1}function Jh(u){return u.visible}function di(u,i,o){let d=bi.empty();for(let p=0;p<u.length;++p){const w=u[p];if(i(w)){const A=w.path;let V;if(w.snap)_r(o,A)?(V=ni(o,A),d=ji(d,V,w.snap)):_r(A,o)&&(V=ni(A,o),d=ji(d,Nr(),w.snap.getChild(V)));else{if(!w.children)throw(0,ne.g5)("WriteRecord should have .snap or .children");if(_r(o,A))V=ni(o,A),d=Fn(d,V,w.children);else if(_r(A,o))if(V=ni(A,o),or(V))d=Fn(d,Nr(),w.children);else{const Q=(0,ne.DV)(w.children,mr(V));if(Q){const ue=Q.getChild(vr(V));d=ji(d,Nr(),ue)}}}}}return d}function ar(u,i,o,d,p){if(d||p){const w=Lt(u.visibleWrites,i);return!p&&Ts(w)?o:p||null!=o||Uo(w,Nr())?ca(di(u.allWrites,function(ue){return(ue.visible||p)&&(!d||!~d.indexOf(ue.writeId))&&(_r(ue.path,i)||_r(i,ue.path))},i),o||P.EMPTY_NODE):null}{const w=Tn(u.visibleWrites,i);if(null!=w)return w;{const A=Lt(u.visibleWrites,i);return Ts(A)?o:null!=o||Uo(A,Nr())?ca(A,o||P.EMPTY_NODE):null}}}function Ql(u,i,o,d){return ar(u.writeTree,u.treePath,i,o,d)}function Hi(u,i){return function Oa(u,i,o){let d=P.EMPTY_NODE;const p=Tn(u.visibleWrites,i);if(p)return p.isLeafNode()||p.forEachChild(jr,(w,A)=>{d=d.updateImmediateChild(w,A)}),d;if(o){const w=Lt(u.visibleWrites,i);return o.forEachChild(jr,(A,V)=>{const Q=ca(Lt(w,new on(A)),V);d=d.updateImmediateChild(A,Q)}),Xe(w).forEach(A=>{d=d.updateImmediateChild(A.name,A.node)}),d}return Xe(Lt(u.visibleWrites,i)).forEach(A=>{d=d.updateImmediateChild(A.name,A.node)}),d}(u.writeTree,u.treePath,i)}function Pn(u,i,o,d){return function Zl(u,i,o,d,p){(0,ne.hu)(d||p,"Either existingEventSnap or existingServerSnap must exist");const w=ti(i,o);if(Uo(u.visibleWrites,w))return null;{const A=Lt(u.visibleWrites,w);return Ts(A)?p.getChild(o):ca(A,p.getChild(o))}}(u.writeTree,u.treePath,i,o,d)}function da(u,i){return function Er(u,i){return Tn(u.visibleWrites,i)}(u.writeTree,ti(u.treePath,i))}function ka(u,i,o){return function Si(u,i,o,d){const p=ti(i,o),w=Tn(u.visibleWrites,p);return null!=w?w:d.isCompleteForChild(o)?ca(Lt(u.visibleWrites,p),d.getNode().getImmediateChild(o)):null}(u.writeTree,u.treePath,i,o)}function uc(u,i){return El(ti(u.treePath,i),u.writeTree)}function El(u,i){return{treePath:u,writeTree:i}}class Qc{constructor(){this.changeMap=new Map}trackChildChange(i){const o=i.type,d=i.childName;(0,ne.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,ne.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(d);if(p){const w=p.type;if("child_added"===o&&"child_removed"===w)this.changeMap.set(d,Is(d,i.snapshotNode,p.snapshotNode));else if("child_removed"===o&&"child_added"===w)this.changeMap.delete(d);else if("child_removed"===o&&"child_changed"===w)this.changeMap.set(d,Lr(d,p.oldSnap));else if("child_changed"===o&&"child_added"===w)this.changeMap.set(d,zr(d,i.snapshotNode));else{if("child_changed"!==o||"child_changed"!==w)throw(0,ne.g5)("Illegal combination of changes: "+i+" occurred after "+p);this.changeMap.set(d,Is(d,i.snapshotNode,p.oldSnap))}}else this.changeMap.set(d,i)}getChanges(){return Array.from(this.changeMap.values())}}const Mu=new class Xl{getCompleteChild(i){return null}getChildAfterChild(i,o,d){return null}};class wl{constructor(i,o,d=null){this.writes_=i,this.viewCache_=o,this.optCompleteServerCache_=d}getCompleteChild(i){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(i))return o.getNode().getImmediateChild(i);{const d=null!=this.optCompleteServerCache_?new re(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ka(this.writes_,i,d)}}getChildAfterChild(i,o,d){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mr(this.viewCache_),w=function Na(u,i,o,d,p,w){return function _l(u,i,o,d,p,w,A){let V;const Q=Lt(u.visibleWrites,i),ue=Tn(Q,Nr());if(null!=ue)V=ue;else{if(null==o)return[];V=ca(Q,o)}if(V=V.withIndex(A),V.isEmpty()||V.isLeafNode())return[];{const Je=[],lt=A.getCompare(),Et=w?V.getReverseIteratorFrom(d,A):V.getIteratorFrom(d,A);let Vt=Et.getNext();for(;Vt&&Je.length<p;)0!==lt(Vt,d)&&Je.push(Vt),Vt=Et.getNext();return Je}}(u.writeTree,u.treePath,i,o,d,p,w)}(this.writes_,p,o,1,d,i);return 0===w.length?null:w[0]}}function Io(u,i,o,d,p,w){const A=i.eventCache;if(null!=da(d,o))return i;{let V,Q;if(or(o))if((0,ne.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const ue=Mr(i),lt=Hi(d,ue instanceof P?ue:P.EMPTY_NODE);V=u.filter.updateFullNode(i.eventCache.getNode(),lt,w)}else{const ue=Ql(d,Mr(i));V=u.filter.updateFullNode(i.eventCache.getNode(),ue,w)}else{const ue=mr(o);if(".priority"===ue){(0,ne.hu)(1===wi(o),"Can't have a priority with additional path components");const Je=A.getNode();Q=i.serverCache.getNode();const lt=Pn(d,o,Je,Q);V=null!=lt?u.filter.updatePriority(Je,lt):A.getNode()}else{const Je=vr(o);let lt;if(A.isCompleteForChild(ue)){Q=i.serverCache.getNode();const Et=Pn(d,o,A.getNode(),Q);lt=null!=Et?A.getNode().getImmediateChild(ue).updateChild(Je,Et):A.getNode().getImmediateChild(ue)}else lt=ka(d,ue,i.serverCache);V=null!=lt?u.filter.updateChild(A.getNode(),ue,lt,Je,p,w):A.getNode()}}return yn(i,V,A.isFullyInitialized()||or(o),u.filter.filtersNodes())}}function Gi(u,i,o,d,p,w,A,V){const Q=i.serverCache;let ue;const Je=A?u.filter:u.filter.getIndexedFilter();if(or(o))ue=Je.updateFullNode(Q.getNode(),d,null);else if(Je.filtersNodes()&&!Q.isFiltered()){const Vt=Q.getNode().updateChild(o,d);ue=Je.updateFullNode(Q.getNode(),Vt,null)}else{const Vt=mr(o);if(!Q.isCompleteForPath(o)&&wi(o)>1)return i;const Gt=vr(o),On=Q.getNode().getImmediateChild(Vt).updateChild(Gt,d);ue=".priority"===Vt?Je.updatePriority(Q.getNode(),On):Je.updateChild(Q.getNode(),Vt,On,Gt,Mu,null)}const lt=qr(i,ue,Q.isFullyInitialized()||or(o),Je.filtersNodes());return Io(u,lt,o,p,new wl(p,lt,w),V)}function Bt(u,i,o,d,p,w,A){const V=i.eventCache;let Q,ue;const Je=new wl(p,i,w);if(or(o))ue=u.filter.updateFullNode(i.eventCache.getNode(),d,A),Q=yn(i,ue,!0,u.filter.filtersNodes());else{const lt=mr(o);if(".priority"===lt)ue=u.filter.updatePriority(i.eventCache.getNode(),d),Q=yn(i,ue,V.isFullyInitialized(),V.isFiltered());else{const Et=vr(o),Vt=V.getNode().getImmediateChild(lt);let Gt;if(or(Et))Gt=d;else{const hn=Je.getCompleteChild(lt);Gt=null!=hn?".priority"===ls(Et)&&hn.getChild(Us(Et)).isEmpty()?hn:hn.updateChild(Et,d):P.EMPTY_NODE}Q=Vt.equals(Gt)?i:yn(i,u.filter.updateChild(V.getNode(),lt,Gt,Et,Je,A),V.isFullyInitialized(),u.filter.filtersNodes())}}return Q}function Ru(u,i){return u.eventCache.isCompleteForChild(i)}function xu(u,i,o){return o.foreach((d,p)=>{i=i.updateChild(d,p)}),i}function Il(u,i,o,d,p,w,A,V){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let ue,Q=i;ue=or(o)?d:new Jn(null).setTree(o,d);const Je=i.serverCache.getNode();return ue.children.inorderTraversal((lt,Et)=>{if(Je.hasChild(lt)){const Gt=xu(0,i.serverCache.getNode().getImmediateChild(lt),Et);Q=Gi(u,Q,new on(lt),Gt,p,w,A,V)}}),ue.children.inorderTraversal((lt,Et)=>{const Vt=!i.serverCache.isCompleteForChild(lt)&&null===Et.value;if(!Je.hasChild(lt)&&!Vt){const hn=xu(0,i.serverCache.getNode().getImmediateChild(lt),Et);Q=Gi(u,Q,new on(lt),hn,p,w,A,V)}}),Q}class tf{constructor(i,o){this.query_=i,this.eventRegistrations_=[];const d=this.query_._queryParams,p=new Hs(d.getIndex()),w=function rs(u){return u.loadsAllData()?new Hs(u.getIndex()):u.hasLimit()?new Yo(u):new uo(u)}(d);this.processor_=function wo(u){return{filter:u}}(w);const A=o.serverCache,V=o.eventCache,Q=p.updateFullNode(P.EMPTY_NODE,A.getNode(),null),ue=w.updateFullNode(P.EMPTY_NODE,V.getNode(),null),Je=new re(Q,A.isFullyInitialized(),p.filtersNodes()),lt=new re(ue,V.isFullyInitialized(),w.filtersNodes());this.viewCache_=Yn(lt,Je),this.eventGenerator_=new j(this.query_)}get query(){return this.query_}}function N(u,i){const o=Mr(u.viewCache_);return o&&(u.query._queryParams.loadsAllData()||!or(i)&&!o.getImmediateChild(mr(i)).isEmpty())?o.getChild(i):null}function D(u){return 0===u.eventRegistrations_.length}function ee(u,i,o){const d=[];if(o){(0,ne.hu)(null==i,"A cancel should cancel all event registrations.");const p=u.query._path;u.eventRegistrations_.forEach(w=>{const A=w.createCancelEvent(o,p);A&&d.push(A)})}if(i){let p=[];for(let w=0;w<u.eventRegistrations_.length;++w){const A=u.eventRegistrations_[w];if(A.matches(i)){if(i.hasAnyCallback()){p=p.concat(u.eventRegistrations_.slice(w+1));break}}else p.push(A)}u.eventRegistrations_=p}else u.eventRegistrations_=[];return d}function Re(u,i,o,d){i.type===Kr.MERGE&&null!==i.source.queryId&&((0,ne.hu)(Mr(u.viewCache_),"We should always have a full cache before handling merges"),(0,ne.hu)(Or(u.viewCache_),"Missing event cache, even though we have a server cache"));const p=u.viewCache_,w=function ef(u,i,o,d,p){const w=new Qc;let A,V;if(o.type===Kr.OVERWRITE){const ue=o;ue.source.fromUser?A=Bt(u,i,ue.path,ue.snap,d,p,w):((0,ne.hu)(ue.source.fromServer,"Unknown source."),V=ue.source.tagged||i.serverCache.isFiltered()&&!or(ue.path),A=Gi(u,i,ue.path,ue.snap,d,p,V,w))}else if(o.type===Kr.MERGE){const ue=o;ue.source.fromUser?A=function Qo(u,i,o,d,p,w,A){let V=i;return d.foreach((Q,ue)=>{const Je=ti(o,Q);Ru(i,mr(Je))&&(V=Bt(u,V,Je,ue,p,w,A))}),d.foreach((Q,ue)=>{const Je=ti(o,Q);Ru(i,mr(Je))||(V=Bt(u,V,Je,ue,p,w,A))}),V}(u,i,ue.path,ue.children,d,p,w):((0,ne.hu)(ue.source.fromServer,"Unknown source."),V=ue.source.tagged||i.serverCache.isFiltered(),A=Il(u,i,ue.path,ue.children,d,p,V,w))}else if(o.type===Kr.ACK_USER_WRITE){const ue=o;A=ue.revert?function Co(u,i,o,d,p,w){let A;if(null!=da(d,o))return i;{const V=new wl(d,i,p),Q=i.eventCache.getNode();let ue;if(or(o)||".priority"===mr(o)){let Je;if(i.serverCache.isFullyInitialized())Je=Ql(d,Mr(i));else{const lt=i.serverCache.getNode();(0,ne.hu)(lt instanceof P,"serverChildren would be complete if leaf node"),Je=Hi(d,lt)}ue=u.filter.updateFullNode(Q,Je,w)}else{const Je=mr(o);let lt=ka(d,Je,i.serverCache);null==lt&&i.serverCache.isCompleteForChild(Je)&&(lt=Q.getImmediateChild(Je)),ue=null!=lt?u.filter.updateChild(Q,Je,lt,vr(o),V,w):i.eventCache.getNode().hasChild(Je)?u.filter.updateChild(Q,Je,P.EMPTY_NODE,vr(o),V,w):Q,ue.isEmpty()&&i.serverCache.isFullyInitialized()&&(A=Ql(d,Mr(i)),A.isLeafNode()&&(ue=u.filter.updateFullNode(ue,A,w)))}return A=i.serverCache.isFullyInitialized()||null!=da(d,Nr()),yn(i,ue,A,u.filter.filtersNodes())}}(u,i,ue.path,d,p,w):function Ja(u,i,o,d,p,w,A){if(null!=da(p,o))return i;const V=i.serverCache.isFiltered(),Q=i.serverCache;if(null!=d.value){if(or(o)&&Q.isFullyInitialized()||Q.isCompleteForPath(o))return Gi(u,i,o,Q.getNode().getChild(o),p,w,V,A);if(or(o)){let ue=new Jn(null);return Q.getNode().forEachChild(Es,(Je,lt)=>{ue=ue.set(new on(Je),lt)}),Il(u,i,o,ue,p,w,V,A)}return i}{let ue=new Jn(null);return d.foreach((Je,lt)=>{const Et=ti(o,Je);Q.isCompleteForPath(Et)&&(ue=ue.set(Je,Q.getNode().getChild(Et)))}),Il(u,i,o,ue,p,w,V,A)}}(u,i,ue.path,ue.affectedTree,d,p,w)}else{if(o.type!==Kr.LISTEN_COMPLETE)throw(0,ne.g5)("Unknown operation type: "+o.type);A=function Jc(u,i,o,d,p){const w=i.serverCache;return Io(u,qr(i,w.getNode(),w.isFullyInitialized()||or(o),w.isFiltered()),o,d,Mu,p)}(u,i,o.path,d,w)}const Q=w.getChanges();return function Js(u,i,o){const d=i.eventCache;if(d.isFullyInitialized()){const p=d.getNode().isLeafNode()||d.getNode().isEmpty(),w=Or(u);(o.length>0||!u.eventCache.isFullyInitialized()||p&&!d.getNode().equals(w)||!d.getNode().getPriority().equals(w.getPriority()))&&o.push(oi(Or(i)))}}(i,A,Q),{viewCache:A,changes:Q}}(u.processor_,p,i,o,d);return function Xc(u,i){(0,ne.hu)(i.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),(0,ne.hu)(i.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}(u.processor_,w.viewCache),(0,ne.hu)(w.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=w.viewCache,yt(u,w.changes,w.viewCache.eventCache.getNode(),null)}function yt(u,i,o,d){return function ye(u,i,o,d){const p=[],w=[];return i.forEach(A=>{"child_changed"===A.type&&u.index_.indexedValueChanged(A.oldSnap,A.snapshotNode)&&w.push(function _o(u,i){return{type:"child_moved",snapshotNode:i,childName:u}}(A.childName,A.snapshotNode))}),qe(u,p,"child_removed",i,d,o),qe(u,p,"child_added",i,d,o),qe(u,p,"child_moved",w,d,o),qe(u,p,"child_changed",i,d,o),qe(u,p,"value",i,d,o),p}(u.eventGenerator_,i,o,d?[d]:u.eventRegistrations_)}let tn,ed;class Rn{constructor(){this.views=new Map}}function eo(u,i,o,d){const p=i.source.queryId;if(null!==p){const w=u.views.get(p);return(0,ne.hu)(null!=w,"SyncTree gave us an op for an invalid query."),Re(w,i,o,d)}{let w=[];for(const A of u.views.values())w=w.concat(Re(A,i,o,d));return w}}function jo(u,i,o,d,p){const A=u.views.get(i._queryIdentifier);if(!A){let V=Ql(o,p?d:null),Q=!1;V?Q=!0:d instanceof P?(V=Hi(o,d),Q=!1):(V=P.EMPTY_NODE,Q=!1);const ue=Yn(new re(V,Q,!1),new re(d,p,!1));return new tf(i,ue)}return A}function Fa(u){const i=[];for(const o of u.views.values())o.query._queryParams.loadsAllData()||i.push(o);return i}function Ia(u,i){let o=null;for(const d of u.views.values())o=o||N(d,i);return o}function Ho(u,i){return i._queryParams.loadsAllData()?nf(u):u.views.get(i._queryIdentifier)}function Jl(u,i){return null!=Ho(u,i)}function Oo(u){return null!=nf(u)}function nf(u){for(const i of u.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let el=1;class dp{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Jn(null),this.pendingWriteTree_=function pi(){return{visibleWrites:bi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cl(u,i,o,d,p){return function vl(u,i,o,d,p){(0,ne.hu)(d>u.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),u.allWrites.push({path:i,snap:o,writeId:d,visible:p}),p&&(u.visibleWrites=ji(u.visibleWrites,i,o)),u.lastWriteId=d}(u.pendingWriteTree_,i,o,d,p),p?Ki(u,new ua({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,o)):[]}function Ca(u,i,o=!1){const d=function oc(u,i){for(let o=0;o<u.allWrites.length;o++){const d=u.allWrites[o];if(d.writeId===i)return d}return null}(u.pendingWriteTree_,i);if(function ac(u,i){const o=u.allWrites.findIndex(V=>V.writeId===i);(0,ne.hu)(o>=0,"removeWrite called with nonexistent writeId.");const d=u.allWrites[o];u.allWrites.splice(o,1);let p=d.visible,w=!1,A=u.allWrites.length-1;for(;p&&A>=0;){const V=u.allWrites[A];V.visible&&(A>=o&&Zc(V,d.path)?p=!1:_r(d.path,V.path)&&(w=!0)),A--}return!!p&&(w?(function lc(u){u.visibleWrites=di(u.allWrites,Jh,Nr()),u.lastWriteId=u.allWrites.length>0?u.allWrites[u.allWrites.length-1].writeId:-1}(u),!0):(d.snap?u.visibleWrites=jn(u.visibleWrites,d.path):gn(d.children,Q=>{u.visibleWrites=jn(u.visibleWrites,ti(d.path,Q))}),!0))}(u.pendingWriteTree_,i)){let w=new Jn(null);return null!=d.snap?w=w.set(Nr(),!0):gn(d.children,A=>{w=w.set(new on(A),!0)}),Ki(u,new zs(d.path,w,o))}return[]}function eu(u,i,o){return Ki(u,new ua({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}function tl(u,i,o,d,p=!1){const w=i._path,A=u.syncPointTree_.get(w);let V=[];if(A&&("default"===i._queryIdentifier||Jl(A,i))){const Q=function Ou(u,i,o,d){const p=i._queryIdentifier,w=[];let A=[];const V=Oo(u);if("default"===p)for(const[Q,ue]of u.views.entries())A=A.concat(ee(ue,o,d)),D(ue)&&(u.views.delete(Q),ue.query._queryParams.loadsAllData()||w.push(ue.query));else{const Q=u.views.get(p);Q&&(A=A.concat(ee(Q,o,d)),D(Q)&&(u.views.delete(p),Q.query._queryParams.loadsAllData()||w.push(Q.query)))}return V&&!Oo(u)&&w.push(new(function lr(){return(0,ne.hu)(tn,"Reference.ts has not been loaded"),tn}())(i._repo,i._path)),{removed:w,events:A}}(A,i,o,d);(function is(u){return 0===u.views.size})(A)&&(u.syncPointTree_=u.syncPointTree_.remove(w));const ue=Q.removed;if(V=Q.events,!p){const Je=-1!==ue.findIndex(Et=>Et._queryParams.loadsAllData()),lt=u.syncPointTree_.findOnPath(w,(Et,Vt)=>Oo(Vt));if(Je&&!lt){const Et=u.syncPointTree_.subtree(w);if(!Et.isEmpty()){const Vt=function ms(u){return u.fold((i,o,d)=>{if(o&&Oo(o))return[nf(o)];{let p=[];return o&&(p=Fa(o)),gn(d,(w,A)=>{p=p.concat(A)}),p}})}(Et);for(let Gt=0;Gt<Vt.length;++Gt){const hn=Vt[Gt],On=hn.query,$r=Ls(u,hn);u.listenProvider_.startListening(ho(On),cc(u,On),$r.hashFn,$r.onComplete)}}}!lt&&ue.length>0&&!d&&(Je?u.listenProvider_.stopListening(ho(i),null):ue.forEach(Et=>{const Vt=u.queryToTagMap.get(id(Et));u.listenProvider_.stopListening(ho(Et),Vt)}))}!function Dl(u,i){for(let o=0;o<i.length;++o){const d=i[o];if(!d._queryParams.loadsAllData()){const p=id(d),w=u.queryToTagMap.get(p);u.queryToTagMap.delete(p),u.tagToQueryMap.delete(w)}}}(u,ue)}return V}function nl(u,i,o,d){const p=bs(u,d);if(null!=p){const w=af(p),A=w.path,V=w.queryId,Q=ni(A,i);return La(u,A,new ua(xa(V),Q,o))}return[]}function Wi(u,i,o,d=!1){const p=i._path;let w=null,A=!1;u.syncPointTree_.foreachOnPath(p,(Et,Vt)=>{const Gt=ni(Et,p);w=w||Ia(Vt,Gt),A=A||Oo(Vt)});let Q,V=u.syncPointTree_.get(p);V?(A=A||Oo(V),w=w||Ia(V,Nr())):(V=new Rn,u.syncPointTree_=u.syncPointTree_.set(p,V)),null!=w?Q=!0:(Q=!1,w=P.EMPTY_NODE,u.syncPointTree_.subtree(p).foreachChild((Vt,Gt)=>{const hn=Ia(Gt,Nr());hn&&(w=w.updateImmediateChild(Vt,hn))}));const ue=Jl(V,i);if(!ue&&!i._queryParams.loadsAllData()){const Et=id(i);(0,ne.hu)(!u.queryToTagMap.has(Et),"View does not exist, but we have a tag");const Vt=function Ba(){return el++}();u.queryToTagMap.set(Et,Vt),u.tagToQueryMap.set(Vt,Et)}let lt=function wa(u,i,o,d,p,w){const A=jo(u,i,d,p,w);return u.views.has(i._queryIdentifier)||u.views.set(i._queryIdentifier,A),function F(u,i){u.eventRegistrations_.push(i)}(A,o),function Ie(u,i){const o=u.viewCache_.eventCache,d=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(jr,(w,A)=>{d.push(zr(w,A))}),o.isFullyInitialized()&&d.push(oi(o.getNode())),yt(u,d,o.getNode(),i)}(A,o)}(V,i,o,sc(u.pendingWriteTree_,p),w,Q);if(!ue&&!A&&!d){const Et=Ho(V,i);lt=lt.concat(function dc(u,i,o){const d=i._path,p=cc(u,i),w=Ls(u,o),A=u.listenProvider_.startListening(ho(i),p,w.hashFn,w.onComplete),V=u.syncPointTree_.subtree(d);if(p)(0,ne.hu)(!Oo(V.value),"If we're adding a query, it shouldn't be shadowed");else{const Q=V.fold((ue,Je,lt)=>{if(!or(ue)&&Je&&Oo(Je))return[nf(Je).query];{let Et=[];return Je&&(Et=Et.concat(Fa(Je).map(Vt=>Vt.query))),gn(lt,(Vt,Gt)=>{Et=Et.concat(Gt)}),Et}});for(let ue=0;ue<Q.length;++ue){const Je=Q[ue];u.listenProvider_.stopListening(ho(Je),cc(u,Je))}}return A}(u,i,Et))}return lt}function ba(u,i,o){const p=u.pendingWriteTree_,w=u.syncPointTree_.findOnPath(i,(A,V)=>{const ue=Ia(V,ni(A,i));if(ue)return ue});return ar(p,i,w,o,!0)}function Ki(u,i){return rd(i,u.syncPointTree_,null,sc(u.pendingWriteTree_,Nr()))}function rd(u,i,o,d){if(or(u.path))return bl(u,i,o,d);{const p=i.get(Nr());null==o&&null!=p&&(o=Ia(p,Nr()));let w=[];const A=mr(u.path),V=u.operationForChild(A),Q=i.children.get(A);if(Q&&V){const ue=o?o.getImmediateChild(A):null,Je=uc(d,A);w=w.concat(rd(V,Q,ue,Je))}return p&&(w=w.concat(eo(p,u,d,o))),w}}function bl(u,i,o,d){const p=i.get(Nr());null==o&&null!=p&&(o=Ia(p,Nr()));let w=[];return i.children.inorderTraversal((A,V)=>{const Q=o?o.getImmediateChild(A):null,ue=uc(d,A),Je=u.operationForChild(A);Je&&(w=w.concat(bl(Je,V,Q,ue)))}),p&&(w=w.concat(eo(p,u,d,o))),w}function Ls(u,i){const o=i.query,d=cc(u,o);return{hashFn:()=>(function Pu(u){return u.viewCache_.serverCache.getNode()}(i)||P.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return d?function to(u,i,o){const d=bs(u,o);if(d){const p=af(d),w=p.path,A=p.queryId,V=ni(w,i);return La(u,w,new Xa(xa(A),V))}return[]}(u,o._path,d):function nd(u,i){return Ki(u,new Xa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(u,o._path);{const w=function fe(u,i){let o="Unknown Error";"too_big"===u?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===u?o="Client doesn't have permission to access the desired data.":"unavailable"===u&&(o="The service is unavailable");const d=new Error(u+" at "+i._path.toString()+": "+o);return d.code=u.toUpperCase(),d}(p,o);return tl(u,o,null,w)}}}}function cc(u,i){const o=id(i);return u.queryToTagMap.get(o)}function id(u){return u._path.toString()+"$"+u._queryIdentifier}function bs(u,i){return u.tagToQueryMap.get(i)}function af(u){const i=u.indexOf("$");return(0,ne.hu)(-1!==i&&i<u.length-1,"Bad queryKey."),{queryId:u.substr(i+1),path:new on(u.substr(0,i))}}function La(u,i,o){const d=u.syncPointTree_.get(i);return(0,ne.hu)(d,"Missing sync point for query tag that we're tracking"),eo(d,o,sc(u.pendingWriteTree_,i),null)}function ho(u){return u._queryParams.loadsAllData()&&!u._queryParams.isDefault()?new(function cp(){return(0,ne.hu)(ed,"Reference.ts has not been loaded"),ed}())(u._repo,u._path):u}class Nu{constructor(i){this.node_=i}getImmediateChild(i){const o=this.node_.getImmediateChild(i);return new Nu(o)}node(){return this.node_}}class bo{constructor(i,o){this.syncTree_=i,this.path_=o}getImmediateChild(i){const o=ti(this.path_,i);return new bo(this.syncTree_,o)}node(){return ba(this.syncTree_,this.path_)}}const Sl=function(u){return(u=u||{}).timestamp=u.timestamp||(new Date).getTime(),u},hc=function(u,i,o){return u&&"object"==typeof u?((0,ne.hu)(".sv"in u,"Unexpected leaf node or priority contents"),"string"==typeof u[".sv"]?Tl(u[".sv"],i,o):"object"==typeof u[".sv"]?Al(u[".sv"],i):void(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2))):u},Tl=function(u,i,o){if("timestamp"===u)return o.timestamp;(0,ne.hu)(!1,"Unexpected server value: "+u)},Al=function(u,i,o){u.hasOwnProperty("increment")||(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const d=u.increment;"number"!=typeof d&&(0,ne.hu)(!1,"Unexpected increment value: "+d);const p=i.node();if((0,ne.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return d;const A=p.getValue();return"number"!=typeof A?d:A+d},fc=function(u,i,o,d){return Zd(i,new bo(o,u),d)},rl=function(u,i,o){return Zd(u,new Nu(i),o)};function Zd(u,i,o){const d=u.getPriority().val(),p=hc(d,i.getImmediateChild(".priority"),o);let w;if(u.isLeafNode()){const A=u,V=hc(A.getValue(),i,o);return V!==A.getValue()||p!==A.getPriority().val()?new qt(V,Zt(p)):u}{const A=u;return w=A,p!==A.getPriority().val()&&(w=w.updatePriority(new qt(p))),A.forEachChild(jr,(V,Q)=>{const ue=Zd(Q,i.getImmediateChild(V),o);ue!==Q&&(w=w.updateImmediateChild(V,ue))}),w}}class ku{constructor(i="",o=null,d={children:{},childCount:0}){this.name=i,this.parent=o,this.node=d}}function $a(u,i){let o=i instanceof on?i:new on(i),d=u,p=mr(o);for(;null!==p;){const w=(0,ne.DV)(d.node.children,p)||{children:{},childCount:0};d=new ku(p,d,w),o=vr(o),p=mr(o)}return d}function Va(u){return u.node.value}function tu(u,i){u.node.value=i,od(u)}function Ns(u){return u.node.childCount>0}function Ua(u,i){gn(u.node.children,(o,d)=>{i(new ku(o,u,d))})}function lf(u,i,o,d){o&&!d&&i(u),Ua(u,p=>{lf(p,i,!0,d)}),o&&d&&i(u)}function Xo(u){return new on(null===u.parent?u.name:Xo(u.parent)+"/"+u.name)}function od(u){null!==u.parent&&function Fu(u,i,o){const d=function sd(u){return void 0===Va(u)&&!Ns(u)}(o),p=(0,ne.r3)(u.node.children,i);d&&p?(delete u.node.children[i],u.node.childCount--,od(u)):!d&&!p&&(u.node.children[i]=o.node,u.node.childCount++,od(u))}(u.parent,u.name,u)}const ad=/[\[\].#$\/\u0000-\u001F\u007F]/,hp=/[\[\].#$\u0000-\u001F\u007F]/,uf=10485760,Ws=function(u){return"string"==typeof u&&0!==u.length&&!ad.test(u)},fp=function(u){return"string"==typeof u&&0!==u.length&&!hp.test(u)},Jo=function(u){return null===u||"string"==typeof u||"number"==typeof u&&!Cn(u)||u&&"object"==typeof u&&(0,ne.r3)(u,".sv")},No=function(u,i,o,d){d&&void 0===i||Lu((0,ne.gK)(u,"value"),i,o)},Lu=function(u,i,o){const d=o instanceof on?new Mo(o,u):o;if(void 0===i)throw new Error(u+"contains undefined "+Xi(d));if("function"==typeof i)throw new Error(u+"contains a function "+Xi(d)+" with contents = "+i.toString());if(Cn(i))throw new Error(u+"contains "+i.toString()+" "+Xi(d));if("string"==typeof i&&i.length>uf/3&&(0,ne.ug)(i)>uf)throw new Error(u+"contains a string greater than "+uf+" utf8 bytes "+Xi(d)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let p=!1,w=!1;if(gn(i,(A,V)=>{if(".value"===A)p=!0;else if(".priority"!==A&&".sv"!==A&&(w=!0,!Ws(A)))throw new Error(u+" contains an invalid key ("+A+") "+Xi(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function js(u,i){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(i),u.byteLength_+=(0,ne.ug)(i),Ds(u)})(d,A),Lu(u,V,d),function la(u){const i=u.parts_.pop();u.byteLength_-=(0,ne.ug)(i),u.parts_.length>0&&(u.byteLength_-=1)}(d)}),p&&w)throw new Error(u+' contains ".value" child '+Xi(d)+" in addition to actual children.")}},pp=function(u,i,o,d){if(d&&void 0===i)return;const p=(0,ne.gK)(u,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(p+" must be an object containing the children to replace.");const w=[];gn(i,(A,V)=>{const Q=new on(A);if(Lu(p,V,ti(o,Q)),".priority"===ls(Q)&&!Jo(V))throw new Error(p+"contains an invalid value for '"+Q.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(Q)}),function(u,i){let o,d;for(o=0;o<i.length;o++){d=i[o];const w=ts(d);for(let A=0;A<w.length;A++)if((".priority"!==w[A]||A!==w.length-1)&&!Ws(w[A]))throw new Error(u+"contains an invalid key ("+w[A]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(vo);let p=null;for(o=0;o<i.length;o++){if(d=i[o],null!==p&&_r(p,d))throw new Error(u+"contains a path "+p.toString()+" that is ancestor of another path "+d.toString());p=d}}(p,w)},Qd=function(u,i,o){if(!o||void 0!==i){if(Cn(i))throw new Error((0,ne.gK)(u,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Jo(i))throw new Error((0,ne.gK)(u,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ci=function(u,i,o,d){if(!(d&&void 0===o||Ws(o)))throw new Error((0,ne.gK)(u,i)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ki=function(u,i,o,d){if(!(d&&void 0===o||fp(o)))throw new Error((0,ne.gK)(u,i)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$u=function(u,i,o,d){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),ki(u,i,o,d)},ea=function(u,i){if(".info"===mr(i))throw new Error(u+" failed = Can't modify data under /.info/")},pc=function(u,i){const o=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Ws(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==o.length&&!function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),fp(u)}(o))throw new Error((0,ne.gK)(u,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ld{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gc(u,i){let o=null;for(let d=0;d<i.length;d++){const p=i[d],w=p.getPath();null!==o&&!Oi(w,o.path)&&(u.eventLists_.push(o),o=null),null===o&&(o={events:[],path:w}),o.events.push(p)}o&&u.eventLists_.push(o)}function mc(u,i,o){gc(u,o),nu(u,d=>Oi(d,i))}function ko(u,i,o){gc(u,o),nu(u,d=>_r(d,i)||_r(i,d))}function nu(u,i){u.recursionDepth_++;let o=!0;for(let d=0;d<u.eventLists_.length;d++){const p=u.eventLists_[d];p&&(i(p.path)?(xg(u.eventLists_[d]),u.eventLists_[d]=null):o=!1)}o&&(u.eventLists_=[]),u.recursionDepth_--}function xg(u){for(let i=0;i<u.events.length;i++){const o=u.events[i];if(null!==o){u.events[i]=null;const d=o.getEventRunner();Kn&&Yt("event: "+o.toString()),pr(d)}}}const ud="repo_interrupt",cf=25;class yc{constructor(i,o,d,p){this.repoInfo_=i,this.forceRestClient_=o,this.authTokenProvider_=d,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ld,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vo(),this.transactionQueueTree_=new ku,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cd(u){const o=u.infoData_.getNode(new on(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function dd(u){return Sl({timestamp:cd(u)})}function vc(u,i,o,d,p){u.dataUpdateCount++;const w=new on(i);o=u.interceptServerDataCallback_?u.interceptServerDataCallback_(i,o):o;let A=[];if(p)if(d){const Q=(0,ne.UI)(o,ue=>Zt(ue));A=function sf(u,i,o,d){const p=bs(u,d);if(p){const w=af(p),A=w.path,V=w.queryId,Q=ni(A,i),ue=Jn.fromObject(o);return La(u,A,new $(xa(V),Q,ue))}return[]}(u.serverSyncTree_,w,Q,p)}else{const Q=Zt(o);A=nl(u.serverSyncTree_,w,Q,p)}else if(d){const Q=(0,ne.UI)(o,ue=>Zt(ue));A=function td(u,i,o){const d=Jn.fromObject(o);return Ki(u,new $({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,d))}(u.serverSyncTree_,w,Q)}else{const Q=Zt(o);A=eu(u.serverSyncTree_,w,Q)}let V=w;A.length>0&&(V=kn(u,w)),ko(u.eventQueue_,V,A)}function ru(u,i){ja(u,"connected",i),!1===i&&function yp(u){O(u,"onDisconnectEvents");const i=dd(u),o=Vo();Kl(u.onDisconnect_,Nr(),(p,w)=>{const A=fc(p,w,u.serverSyncTree_,i);Zo(o,p,A)});let d=[];Kl(o,Nr(),(p,w)=>{d=d.concat(eu(u.serverSyncTree_,p,w));const A=no(u,p);kn(u,A)}),u.onDisconnect_=Vo(),ko(u.eventQueue_,Nr(),d)}(u)}function ja(u,i,o){const d=new on("/.info/"+i),p=Zt(o);u.infoData_.updateSnapshot(d,p);const w=eu(u.infoSyncTree_,d,p);ko(u.eventQueue_,d,w)}function il(u){return u.nextWriteId_++}function fd(u,i,o,d,p){O(u,"set",{path:i.toString(),value:o,priority:d});const w=dd(u),A=Zt(o,d),V=ba(u.serverSyncTree_,i),Q=rl(A,V,w),ue=il(u),Je=Cl(u.serverSyncTree_,i,Q,ue,!0);gc(u.eventQueue_,Je),u.server_.put(i.toString(),A.val(!0),(Et,Vt)=>{const Gt="ok"===Et;Gt||tr("set at "+i+" failed: "+Et);const hn=Ca(u.serverSyncTree_,ue,!Gt);ko(u.eventQueue_,i,hn),le(0,p,Et,Vt)});const lt=no(u,i);kn(u,lt),ko(u.eventQueue_,lt,[])}function Ml(u,i,o){u.server_.onDisconnectCancel(i.toString(),(d,p)=>{"ok"===d&&va(u.onDisconnect_,i),le(0,o,d,p)})}function _c(u,i,o,d){const p=Zt(o);u.server_.onDisconnectPut(i.toString(),p.val(!0),(w,A)=>{"ok"===w&&Zo(u.onDisconnect_,i,p),le(0,d,w,A)})}function R(u,i,o){let d;d=".info"===mr(i._path)?tl(u.infoSyncTree_,i,o):tl(u.serverSyncTree_,i,o),mc(u.eventQueue_,i._path,d)}function _(u){u.persistentConnection_&&u.persistentConnection_.interrupt(ud)}function O(u,...i){let o="";u.persistentConnection_&&(o=u.persistentConnection_.id+":"),Yt(o,...i)}function le(u,i,o,d){i&&pr(()=>{if("ok"===o)i(null);else{const p=(o||"error").toUpperCase();let w=p;d&&(w+=": "+d);const A=new Error(w);A.code=p,i(A)}})}function wt(u,i,o){return ba(u.serverSyncTree_,i,o)||P.EMPTY_NODE}function zt(u,i=u.transactionQueueTree_){if(i||Vu(u,i),Va(i)){const o=ta(u,i);(0,ne.hu)(o.length>0,"Sending zero length transaction queue"),o.every(p=>0===p.status)&&function An(u,i,o){const d=o.map(ue=>ue.currentWriteId),p=wt(u,i,d);let w=p;const A=p.hash();for(let ue=0;ue<o.length;ue++){const Je=o[ue];(0,ne.hu)(0===Je.status,"tryToSendTransactionQueue_: items in queue should all be run."),Je.status=1,Je.retryCount++;const lt=ni(i,Je.path);w=w.updateChild(lt,Je.currentOutputSnapshotRaw)}const V=w.val(!0),Q=i;u.server_.put(Q.toString(),V,ue=>{O(u,"transaction put response",{path:Q.toString(),status:ue});let Je=[];if("ok"===ue){const lt=[];for(let Et=0;Et<o.length;Et++)o[Et].status=2,Je=Je.concat(Ca(u.serverSyncTree_,o[Et].currentWriteId)),o[Et].onComplete&&lt.push(()=>o[Et].onComplete(null,!0,o[Et].currentOutputSnapshotResolved)),o[Et].unwatcher();Vu(u,$a(u.transactionQueueTree_,i)),zt(u,u.transactionQueueTree_),ko(u.eventQueue_,i,Je);for(let Et=0;Et<lt.length;Et++)pr(lt[Et])}else{if("datastale"===ue)for(let lt=0;lt<o.length;lt++)o[lt].status=3===o[lt].status?4:0;else{tr("transaction at "+Q.toString()+" failed: "+ue);for(let lt=0;lt<o.length;lt++)o[lt].status=4,o[lt].abortReason=ue}kn(u,i)}},A)}(u,Xo(i),o)}else Ns(i)&&Ua(i,o=>{zt(u,o)})}function kn(u,i){const o=gi(u,i),d=Xo(o);return function wr(u,i,o){if(0===i.length)return;const d=[];let p=[];const A=i.filter(V=>0===V.status).map(V=>V.currentWriteId);for(let V=0;V<i.length;V++){const Q=i[V],ue=ni(o,Q.path);let lt,Je=!1;if((0,ne.hu)(null!==ue,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Q.status)Je=!0,lt=Q.abortReason,p=p.concat(Ca(u.serverSyncTree_,Q.currentWriteId,!0));else if(0===Q.status)if(Q.retryCount>=cf)Je=!0,lt="maxretry",p=p.concat(Ca(u.serverSyncTree_,Q.currentWriteId,!0));else{const Et=wt(u,Q.path,A);Q.currentInputSnapshot=Et;const Vt=i[V].update(Et.val());if(void 0!==Vt){Lu("transaction failed: Data returned ",Vt,Q.path);let Gt=Zt(Vt);"object"==typeof Vt&&null!=Vt&&(0,ne.r3)(Vt,".priority")||(Gt=Gt.updatePriority(Et.getPriority()));const On=Q.currentWriteId,$r=dd(u),ui=rl(Gt,Et,$r);Q.currentOutputSnapshotRaw=Gt,Q.currentOutputSnapshotResolved=ui,Q.currentWriteId=il(u),A.splice(A.indexOf(On),1),p=p.concat(Cl(u.serverSyncTree_,Q.path,ui,Q.currentWriteId,Q.applyLocally)),p=p.concat(Ca(u.serverSyncTree_,On,!0))}else Je=!0,lt="nodata",p=p.concat(Ca(u.serverSyncTree_,Q.currentWriteId,!0))}ko(u.eventQueue_,o,p),p=[],Je&&(i[V].status=2,setTimeout(i[V].unwatcher,Math.floor(0)),i[V].onComplete&&d.push("nodata"===lt?()=>i[V].onComplete(null,!1,i[V].currentInputSnapshot):()=>i[V].onComplete(new Error(lt),!1,null)))}Vu(u,u.transactionQueueTree_);for(let V=0;V<d.length;V++)pr(d[V]);zt(u,u.transactionQueueTree_)}(u,ta(u,o),d),d}function gi(u,i){let o,d=u.transactionQueueTree_;for(o=mr(i);null!==o&&void 0===Va(d);)d=$a(d,o),o=mr(i=vr(i));return d}function ta(u,i){const o=[];return Fo(u,i,o),o.sort((d,p)=>d.order-p.order),o}function Fo(u,i,o){const d=Va(i);if(d)for(let p=0;p<d.length;p++)o.push(d[p]);Ua(i,p=>{Fo(u,p,o)})}function Vu(u,i){const o=Va(i);if(o){let d=0;for(let p=0;p<o.length;p++)2!==o[p].status&&(o[d]=o[p],d++);o.length=d,tu(i,o.length>0?o:void 0)}Ua(i,d=>{Vu(u,d)})}function no(u,i){const o=Xo(gi(u,i)),d=$a(u.transactionQueueTree_,i);return function zo(u,i,o){let d=o?u:u.parent;for(;null!==d;){if(i(d))return!0;d=d.parent}}(d,p=>{su(u,p)}),su(u,d),lf(d,p=>{su(u,p)}),o}function su(u,i){const o=Va(i);if(o){const d=[];let p=[],w=-1;for(let A=0;A<o.length;A++)3===o[A].status||(1===o[A].status?((0,ne.hu)(w===A-1,"All SENT items should be at beginning of queue."),w=A,o[A].status=3,o[A].abortReason="set"):((0,ne.hu)(0===o[A].status,"Unexpected transaction status in abort"),o[A].unwatcher(),p=p.concat(Ca(u.serverSyncTree_,o[A].currentWriteId,!0)),o[A].onComplete&&d.push(o[A].onComplete.bind(null,new Error("set"),!1,null))));-1===w?tu(i,void 0):o.length=w+1,ko(u.eventQueue_,Xo(i),p);for(let A=0;A<d.length;A++)pr(d[A])}}const Go=function(u,i){const o=Da(u),d=o.namespace;return"firebase.com"===o.domain&&zn(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==o.domain&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Gn(o.host,o.secure,d,"ws"===o.scheme||"wss"===o.scheme,i,"",d!==o.subdomain),path:new on(o.pathString)}},Da=function(u){let i="",o="",d="",p="",w="",A=!0,V="https",Q=443;if("string"==typeof u){let ue=u.indexOf("//");ue>=0&&(V=u.substring(0,ue-1),u=u.substring(ue+2));let Je=u.indexOf("/");-1===Je&&(Je=u.length);let lt=u.indexOf("?");-1===lt&&(lt=u.length),i=u.substring(0,Math.min(Je,lt)),Je<lt&&(p=function Uu(u){let i="";const o=u.split("/");for(let d=0;d<o.length;d++)if(o[d].length>0){let p=o[d];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}i+="/"+p}return i}(u.substring(Je,lt)));const Et=function eh(u){const i={};"?"===u.charAt(0)&&(u=u.substring(1));for(const o of u.split("&")){if(0===o.length)continue;const d=o.split("=");2===d.length?i[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):tr(`Invalid query segment '${o}' in query '${u}'`)}return i}(u.substring(Math.min(u.length,lt)));ue=i.indexOf(":"),ue>=0?(A="https"===V||"wss"===V,Q=parseInt(i.substring(ue+1),10)):ue=i.length;const Vt=i.slice(0,ue);if("localhost"===Vt.toLowerCase())o="localhost";else if(Vt.split(".").length<=2)o=Vt;else{const Gt=i.indexOf(".");d=i.substring(0,Gt).toLowerCase(),o=i.substring(Gt+1),w=d}"ns"in Et&&(w=Et.ns)}return{host:i,port:Q,domain:o,subdomain:d,secure:A,scheme:V,pathString:p,namespace:w}},ju="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",df=function(){let u=0;const i=[];return function(o){const d=o===u;let p;u=o;const w=new Array(8);for(p=7;p>=0;p--)w[p]=ju.charAt(o%64),o=Math.floor(o/64);(0,ne.hu)(0===o,"Cannot push at time == 0");let A=w.join("");if(d){for(p=11;p>=0&&63===i[p];p--)i[p]=0;i[p]++}else for(p=0;p<12;p++)i[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)A+=ju.charAt(i[p]);return(0,ne.hu)(20===A.length,"nextPushId: Length should be 20."),A}}();class hf{constructor(i,o,d,p){this.eventType=i,this.eventRegistration=o,this.snapshot=d,this.prevName=p}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ne.Wl)(this.snapshot.exportVal())}}class Jr{constructor(i,o,d){this.eventRegistration=i,this.error=o,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Hu{constructor(i,o){this.snapshotCallback=i,this.cancelCallback=o}onValue(i,o){this.snapshotCallback.call(null,i,o)}onCancel(i){return(0,ne.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class th{constructor(i,o){this._repo=i,this._path=o}cancel(){const i=new ne.BH;return Ml(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){ea("OnDisconnect.remove",this._path);const i=new ne.BH;return _c(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){ea("OnDisconnect.set",this._path),No("OnDisconnect.set",i,this._path,!1);const o=new ne.BH;return _c(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}setWithPriority(i,o){ea("OnDisconnect.setWithPriority",this._path),No("OnDisconnect.setWithPriority",i,this._path,!1),Qd("OnDisconnect.setWithPriority",o,!1);const d=new ne.BH;return function iu(u,i,o,d,p){const w=Zt(o,d);u.server_.onDisconnectPut(i.toString(),w.val(!0),(A,V)=>{"ok"===A&&Zo(u.onDisconnect_,i,w),le(0,p,A,V)})}(this._repo,this._path,i,o,d.wrapCallback(()=>{})),d.promise}update(i){ea("OnDisconnect.update",this._path),pp("OnDisconnect.update",i,this._path,!1);const o=new ne.BH;return function vp(u,i,o,d){if((0,ne.xb)(o))return Yt("onDisconnect().update() called with empty data.  Don't do anything."),void le(0,d,"ok",void 0);u.server_.onDisconnectMerge(i.toString(),o,(p,w)=>{"ok"===p&&gn(o,(A,V)=>{const Q=Zt(V);Zo(u.onDisconnect_,ti(i,A),Q)}),le(0,d,p,w)})}(this._repo,this._path,i,o.wrapCallback(()=>{})),o.promise}}class ha{constructor(i,o,d,p){this._repo=i,this._path=o,this._queryParams=d,this._orderByCalled=p}get key(){return or(this._path)?null:ls(this._path)}get ref(){return new sl(this._repo,this._path)}get _queryIdentifier(){const i=Au(this._queryParams),o=Tr(i);return"{}"===o?"default":o}get _queryObject(){return Au(this._queryParams)}isEqual(i){if(!((i=(0,ne.m9)(i))instanceof ha))return!1;const o=this._repo===i._repo,d=Oi(this._path,i._path);return o&&d&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Vs(u){let i="";for(let o=u.pieceNum_;o<u.pieces_.length;o++)""!==u.pieces_[o]&&(i+="/"+encodeURIComponent(String(u.pieces_[o])));return i||"/"}(this._path)}}function ff(u,i){if(!0===u._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function ou(u){let i=null,o=null;if(u.hasStart()&&(i=u.getIndexStartValue()),u.hasEnd()&&(o=u.getIndexEndValue()),u.getIndex()===Es){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(u.hasStart()){if(u.getIndexStartName()!==xn)throw new Error(d);if("string"!=typeof i)throw new Error(p)}if(u.hasEnd()){if(u.getIndexEndName()!==fr)throw new Error(d);if("string"!=typeof o)throw new Error(p)}}else if(u.getIndex()===jr){if(null!=i&&!Jo(i)||null!=o&&!Jo(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ne.hu)(u.getIndex()instanceof mn||u.getIndex()===Xr,"unknown index type."),null!=i&&"object"==typeof i||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pd(u){if(u.hasStart()&&u.hasEnd()&&u.hasLimit()&&!u.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class sl extends ha{constructor(i,o){super(i,o,new $i,!1)}get parent(){const i=Us(this._path);return null===i?null:new sl(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class fo{constructor(i,o,d){this._node=i,this.ref=o,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const o=new on(i),d=fa(this.ref,i);return new fo(this._node.getChild(o),d,jr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,p)=>i(new fo(p,fa(this.ref,d),jr)))}hasChild(i){const o=new on(i);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pf(u,i){return(u=(0,ne.m9)(u))._checkNotDeleted("ref"),void 0!==i?fa(u._root,i):u._root}function Ec(u,i){(u=(0,ne.m9)(u))._checkNotDeleted("refFromURL");const o=Go(i,u._repo.repoInfo_.nodeAdmin);pc("refFromURL",o);const d=o.repoInfo;return!u._repo.repoInfo_.isCustomHost()&&d.host!==u._repo.repoInfo_.host&&zn("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+u._repo.repoInfo_.host+")"),pf(u,o.path.toString())}function fa(u,i){return null===mr((u=(0,ne.m9)(u))._path)?$u("child","path",i,!1):ki("child","path",i,!1),new sl(u._repo,ti(u._path,i))}function zu(u,i){u=(0,ne.m9)(u),ea("set",u._path),No("set",i,u._path,!1);const o=new ne.BH;return fd(u._repo,u._path,i,null,o.wrapCallback(()=>{})),o.promise}function gf(u,i){pp("update",i,u._path,!1);const o=new ne.BH;return function mp(u,i,o,d){O(u,"update",{path:i.toString(),value:o});let p=!0;const w=dd(u),A={};if(gn(o,(V,Q)=>{p=!1,A[V]=fc(ti(i,V),Zt(Q),u.serverSyncTree_,w)}),p)Yt("update() called with empty data.  Don't do anything."),le(0,d,"ok",void 0);else{const V=il(u),Q=function rf(u,i,o,d){!function Pa(u,i,o,d){(0,ne.hu)(d>u.lastWriteId,"Stacking an older merge on top of newer ones"),u.allWrites.push({path:i,children:o,writeId:d,visible:!0}),u.visibleWrites=Fn(u.visibleWrites,i,o),u.lastWriteId=d}(u.pendingWriteTree_,i,o,d);const p=Jn.fromObject(o);return Ki(u,new $({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,p))}(u.serverSyncTree_,i,A,V);gc(u.eventQueue_,Q),u.server_.merge(i.toString(),o,(ue,Je)=>{const lt="ok"===ue;lt||tr("update at "+i+" failed: "+ue);const Et=Ca(u.serverSyncTree_,V,!lt),Vt=Et.length>0?kn(u,i):i;ko(u.eventQueue_,Vt,Et),le(0,d,ue,Je)}),gn(o,ue=>{const Je=no(u,ti(i,ue));kn(u,Je)}),ko(u.eventQueue_,i,[])}}(u._repo,u._path,i,o.wrapCallback(()=>{})),o.promise}function hy(u){u=(0,ne.m9)(u);const i=new Hu(()=>{}),o=new mf(i);return function hd(u,i,o){const d=function Cs(u,i){const o=i._path;let d=null;u.syncPointTree_.foreachOnPath(o,(ue,Je)=>{const lt=ni(ue,o);d=d||Ia(Je,lt)});let p=u.syncPointTree_.get(o);p?d=d||Ia(p,Nr()):(p=new Rn,u.syncPointTree_=u.syncPointTree_.set(o,p));const w=null!=d,A=w?new re(d,!0,!1):null;return function M(u){return Or(u.viewCache_)}(jo(p,i,sc(u.pendingWriteTree_,i._path),w?A.getNode():P.EMPTY_NODE,w))}(u.serverSyncTree_,i);return null!=d?Promise.resolve(d):u.server_.get(i).then(p=>{const w=Zt(p).withIndex(i._queryParams.getIndex());let A;if(Wi(u.serverSyncTree_,i,o,!0),i._queryParams.loadsAllData())A=eu(u.serverSyncTree_,i._path,w);else{const V=cc(u.serverSyncTree_,i);A=nl(u.serverSyncTree_,i._path,w,V)}return ko(u.eventQueue_,i._path,A),tl(u.serverSyncTree_,i,o,null,!0),w},p=>(O(u,"get for query "+(0,ne.Wl)(i)+" failed: "+p),Promise.reject(new Error(p))))}(u._repo,u,o).then(d=>new fo(d,new sl(u._repo,u._path),u._queryParams.getIndex()))}class mf{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,o){const d=o._queryParams.getIndex();return new hf("value",this,new fo(i.snapshotNode,new sl(o._repo,o._path),d))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new Jr(this,i,o):null}matches(i){return i instanceof mf&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ys{constructor(i,o){this.eventType=i,this.callbackContext=o}respondsTo(i){let o="children_added"===i?"child_added":i;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(i,o){return this.callbackContext.hasCancelCallback?new Jr(this,i,o):null}createEvent(i,o){(0,ne.hu)(null!=i.childName,"Child events should have a childName.");const d=fa(new sl(o._repo,o._path),i.childName),p=o._queryParams.getIndex();return new hf(i.type,this,new fo(i.snapshotNode,d,p),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof ys&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function wc(u,i,o,d,p){let w;if("object"==typeof d&&(w=void 0,p=d),"function"==typeof d&&(w=d),p&&p.onlyOnce){const Q=o,ue=(Je,lt)=>{R(u._repo,u,V),Q(Je,lt)};ue.userCallback=o.userCallback,ue.context=o.context,o=ue}const A=new Hu(o,w||void 0),V="value"===i?new mf(A):new ys(i,A);return function Jd(u,i,o){let d;d=".info"===mr(i._path)?Wi(u.infoSyncTree_,i,o):Wi(u.serverSyncTree_,i,o),mc(u.eventQueue_,i._path,d)}(u._repo,u,V),()=>R(u._repo,u,V)}function nh(u,i,o,d){return wc(u,"value",i,o,d)}function yf(u,i,o,d){return wc(u,"child_added",i,o,d)}function _p(u,i,o,d){return wc(u,"child_changed",i,o,d)}function rh(u,i,o,d){return wc(u,"child_moved",i,o,d)}function ih(u,i,o,d){return wc(u,"child_removed",i,o,d)}function Ng(u,i,o){let d=null;const p=o?new Hu(o):null;"value"===i?d=new mf(p):i&&(d=new ys(i,p)),R(u._repo,u,d)}class ra{}class ol extends ra{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("endAt",this._value,i._path,!0);const o=Po(i._queryParams,this._value,this._key);if(pd(o),ou(o),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ha(i._repo,i._path,o,i._orderByCalled)}}class kg extends ra{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("endBefore",this._value,i._path,!1);const o=function Qa(u,i,o){let d;return d=Po(u,i,u.index_===Es||o?o:xn),d.endBeforeSet_=!0,d}(i._queryParams,this._value,this._key);if(pd(o),ou(o),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ha(i._repo,i._path,o,i._orderByCalled)}}class au extends ra{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("startAt",this._value,i._path,!0);const o=Ma(i._queryParams,this._value,this._key);if(pd(o),ou(o),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ha(i._repo,i._path,o,i._orderByCalled)}}class vf extends ra{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){No("startAfter",this._value,i._path,!1);const o=function Ra(u,i,o){let d;return d=Ma(u,i,u.index_===Es||o?o:fr),d.startAfterSet_=!0,d}(i._queryParams,this._value,this._key);if(pd(o),ou(o),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ha(i._repo,i._path,o,i._orderByCalled)}}class Fg extends ra{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ha(i._repo,i._path,function yl(u,i){const o=u.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="l",o}(i._queryParams,this._limit),i._orderByCalled)}}class Xv extends ra{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ha(i._repo,i._path,function qd(u,i){const o=u.copy();return o.limitSet_=!0,o.limit_=i,o.viewFrom_="r",o}(i._queryParams,this._limit),i._orderByCalled)}}class Vi extends ra{constructor(i){super(),this._path=i}_apply(i){ff(i,"orderByChild");const o=new on(this._path);if(or(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new mn(o),p=fi(i._queryParams,d);return ou(p),new ha(i._repo,i._path,p,!0)}}class Lg extends ra{_apply(i){ff(i,"orderByKey");const o=fi(i._queryParams,Es);return ou(o),new ha(i._repo,i._path,o,!0)}}class Ef extends ra{_apply(i){ff(i,"orderByPriority");const o=fi(i._queryParams,jr);return ou(o),new ha(i._repo,i._path,o,!0)}}class Jv extends ra{_apply(i){ff(i,"orderByValue");const o=fi(i._queryParams,Xr);return ou(o),new ha(i._repo,i._path,o,!0)}}class Cp extends ra{constructor(i,o){super(),this._value=i,this._key=o}_apply(i){if(No("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ol(this._value,this._key)._apply(new au(this._value,this._key)._apply(i))}}function ro(u,...i){let o=(0,ne.m9)(u);for(const d of i)o=d._apply(o);return o}(function Sr(u){(0,ne.hu)(!tn,"__referenceConstructor has already been defined"),tn=u})(sl),function Yd(u){(0,ne.hu)(!ed,"__referenceConstructor has already been defined"),ed=u}(sl);const Ic={};function ah(u,i,o,d,p){let w=d||u.options.databaseURL;void 0===w&&(u.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yt("Using default host for project ",u.options.projectId),w=`${u.options.projectId}-default-rtdb.firebaseio.com`);let Q,ue,A=Go(w,p),V=A.repoInfo;typeof process<"u"&&process.env&&(ue=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ue?(Q=!0,w=`http://${ue}?ns=${V.namespace}`,A=Go(w,p),V=A.repoInfo):Q=!A.repoInfo.secure;const Je=p&&Q?new W(W.OWNER):new he(u.name,u.options,i);pc("Invalid Firebase Database URL",A),or(A.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const lt=function my(u,i,o,d){let p=Ic[i.name];p||(p={},Ic[i.name]=p);let w=p[u.toURLString()];return w&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new yc(u,false,o,d),p[u.toURLString()]=w,w}(V,u,Je,new et(u.name,o));return new $g(lt,u)}class $g{constructor(i,o){this._repoInternal=i,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function gp(u,i,o){if(u.stats_=Nn(u.repoInfo_),u.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)u.server_=new co(u.repoInfo_,(d,p,w,A)=>{vc(u,d,p,w,A)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>ru(u,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ne.Wl)(o)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}u.persistentConnection_=new Ss(u.repoInfo_,i,(d,p,w,A)=>{vc(u,d,p,w,A)},d=>{ru(u,d)},d=>{!function Xd(u,i){gn(i,(o,d)=>{ja(u,o,d)})}(u,d)},u.authTokenProvider_,u.appCheckProvider_,o),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(d=>{u.server_.refreshAuthToken(d)}),u.appCheckProvider_.addTokenChangeListener(d=>{u.server_.refreshAppCheckToken(d.token)}),u.statsReporter_=function ir(u,i){const o=u.toString();return vn[o]||(vn[o]=i()),vn[o]}(u.repoInfo_,()=>new _a(u.stats_,u.server_)),u.infoData_=new ic,u.infoSyncTree_=new dp({startListening:(d,p,w,A)=>{let V=[];const Q=u.infoData_.getNode(d._path);return Q.isEmpty()||(V=eu(u.infoSyncTree_,d._path,Q),setTimeout(()=>{A("ok")},0)),V},stopListening:()=>{}}),ja(u,"connected",!1),u.serverSyncTree_=new dp({startListening:(d,p,w,A)=>(u.server_.listen(d,w,p,(V,Q)=>{const ue=A(V,Q);ko(u.eventQueue_,d._path,ue)}),[]),stopListening:(d,p)=>{u.server_.unlisten(d,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sl(this._repo,Nr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function gy(u,i){const o=Ic[i];(!o||o[u.key]!==u)&&zn(`Database ${i}(${u.repoInfo_}) has already been deleted.`),_(u),delete o[u.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&zn("Cannot call "+i+" on a deleted database.")}}function Dp(){Qe.IS_TRANSPORT_INITIALIZED&&tr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function yy(){Dp(),X.forceDisallow()}function Sp(){Dp(),$e.forceDisallow(),X.forceAllow()}function vy(u,i){yr(u,i)}const md={".sv":"timestamp"};class lu{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ss.prototype.simpleListen=function(u,i){this.sendRequest("q",{p:u},i)},Ss.prototype.echo=function(u,i){this.sendRequest("echo",{d:u},i)},function Bs(u){At(je.SDK_VERSION),(0,je._registerComponent)(new Ne.wA("database",(i,{instanceIdentifier:o})=>ah(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,je.registerVersion)(Tt,"0.14.4",u),(0,je.registerVersion)(Tt,"0.14.4","esm2017")}();const Ap=new ct.Yd("@firebase/database-compat"),yd=function(u){Ap.warn("FIREBASE WARNING: "+u)};class Ey{constructor(i){this._delegate=i}cancel(i){(0,ne.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.cancel","onComplete",i,!0);const o=this._delegate.cancel();return i&&o.then(()=>i(null),d=>i(d)),o}remove(i){(0,ne.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.remove","onComplete",i,!0);const o=this._delegate.remove();return i&&o.then(()=>i(null),d=>i(d)),o}set(i,o){(0,ne.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ne.Wj)("OnDisconnect.set","onComplete",o,!0);const d=this._delegate.set(i);return o&&d.then(()=>o(null),p=>o(p)),d}setWithPriority(i,o,d){(0,ne.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ne.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const p=this._delegate.setWithPriority(i,o);return d&&p.then(()=>d(null),w=>d(w)),p}update(i,o){if((0,ne.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const p={};for(let w=0;w<i.length;++w)p[""+w]=i[w];i=p,yd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ne.Wj)("OnDisconnect.update","onComplete",o,!0);const d=this._delegate.update(i);return o&&d.then(()=>o(null),p=>o(p)),d}}class r_{constructor(i,o){this.committed=i,this.snapshot=o}toJSON(){return(0,ne.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xl{constructor(i,o){this._database=i,this._delegate=o}val(){return(0,ne.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ne.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ne.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ne.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,ne.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),ki("DataSnapshot.child","path",i,!1),new xl(this._database,this._delegate.child(i))}hasChild(i){return(0,ne.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ki("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,ne.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,ne.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ne.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(o=>i(new xl(this._database,o)))}hasChildren(){return(0,ne.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ne.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ne.Dv)("DataSnapshot.ref",0,0,arguments.length),new Lo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Do{constructor(i,o){this.database=i,this._delegate=o}on(i,o,d,p){var w;(0,ne.Dv)("Query.on",2,4,arguments.length),(0,ne.Wj)("Query.on","callback",o,!1);const A=Do.getCancelAndContextArgs_("Query.on",d,p),V=(ue,Je)=>{o.call(A.context,new xl(this.database,ue),Je)};V.userCallback=o,V.context=A.context;const Q=null===(w=A.cancel)||void 0===w?void 0:w.bind(A.context);switch(i){case"value":return nh(this._delegate,V,Q),o;case"child_added":return yf(this._delegate,V,Q),o;case"child_removed":return ih(this._delegate,V,Q),o;case"child_changed":return _p(this._delegate,V,Q),o;case"child_moved":return rh(this._delegate,V,Q),o;default:throw new Error((0,ne.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,o,d){if((0,ne.Dv)("Query.off",0,3,arguments.length),function(u,i,o){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ne.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,ne.Wj)("Query.off","callback",o,!0),(0,ne.lb)("Query.off","context",d,!0),o){const p=()=>{};p.userCallback=o,p.context=d,Ng(this._delegate,i,p)}else Ng(this._delegate,i)}get(){return hy(this._delegate).then(i=>new xl(this.database,i))}once(i,o,d,p){(0,ne.Dv)("Query.once",1,4,arguments.length),(0,ne.Wj)("Query.once","callback",o,!0);const w=Do.getCancelAndContextArgs_("Query.once",d,p),A=new ne.BH,V=(ue,Je)=>{const lt=new xl(this.database,ue);o&&o.call(w.context,lt,Je),A.resolve(lt)};V.userCallback=o,V.context=w.context;const Q=ue=>{w.cancel&&w.cancel.call(w.context,ue),A.reject(ue)};switch(i){case"value":nh(this._delegate,V,Q,{onlyOnce:!0});break;case"child_added":yf(this._delegate,V,Q,{onlyOnce:!0});break;case"child_removed":ih(this._delegate,V,Q,{onlyOnce:!0});break;case"child_changed":_p(this._delegate,V,Q,{onlyOnce:!0});break;case"child_moved":rh(this._delegate,V,Q,{onlyOnce:!0});break;default:throw new Error((0,ne.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return A.promise}limitToFirst(i){return(0,ne.Dv)("Query.limitToFirst",1,1,arguments.length),new Do(this.database,ro(this._delegate,function Qv(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Fg(u)}(i)))}limitToLast(i){return(0,ne.Dv)("Query.limitToLast",1,1,arguments.length),new Do(this.database,ro(this._delegate,function po(u){if("number"!=typeof u||Math.floor(u)!==u||u<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xv(u)}(i)))}orderByChild(i){return(0,ne.Dv)("Query.orderByChild",1,1,arguments.length),new Do(this.database,ro(this._delegate,function fy(u){if("$key"===u)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===u)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===u)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ki("orderByChild","path",u,!1),new Vi(u)}(i)))}orderByKey(){return(0,ne.Dv)("Query.orderByKey",0,0,arguments.length),new Do(this.database,ro(this._delegate,function _f(){return new Lg}()))}orderByPriority(){return(0,ne.Dv)("Query.orderByPriority",0,0,arguments.length),new Do(this.database,ro(this._delegate,function Ip(){return new Ef}()))}orderByValue(){return(0,ne.Dv)("Query.orderByValue",0,0,arguments.length),new Do(this.database,ro(this._delegate,function py(){return new Jv}()))}startAt(i=null,o){return(0,ne.Dv)("Query.startAt",0,2,arguments.length),new Do(this.database,ro(this._delegate,function wp(u=null,i){return ci("startAt","key",i,!0),new au(u,i)}(i,o)))}startAfter(i=null,o){return(0,ne.Dv)("Query.startAfter",0,2,arguments.length),new Do(this.database,ro(this._delegate,function sh(u,i){return ci("startAfter","key",i,!0),new vf(u,i)}(i,o)))}endAt(i=null,o){return(0,ne.Dv)("Query.endAt",0,2,arguments.length),new Do(this.database,ro(this._delegate,function Ep(u,i){return ci("endAt","key",i,!0),new ol(u,i)}(i,o)))}endBefore(i=null,o){return(0,ne.Dv)("Query.endBefore",0,2,arguments.length),new Do(this.database,ro(this._delegate,function gd(u,i){return ci("endBefore","key",i,!0),new kg(u,i)}(i,o)))}equalTo(i,o){return(0,ne.Dv)("Query.equalTo",1,2,arguments.length),new Do(this.database,ro(this._delegate,function bp(u,i){return ci("equalTo","key",i,!0),new Cp(u,i)}(i,o)))}toString(){return(0,ne.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ne.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,ne.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Do))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,o,d){const p={cancel:void 0,context:void 0};if(o&&d)p.cancel=o,(0,ne.Wj)(i,"cancel",p.cancel,!0),p.context=d,(0,ne.lb)(i,"context",p.context,!0);else if(o)if("object"==typeof o&&null!==o)p.context=o;else{if("function"!=typeof o)throw new Error((0,ne.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=o}return p}get ref(){return new Lo(this.database,new sl(this._delegate._repo,this._delegate._path))}}class Lo extends Do{constructor(i,o){super(i,new ha(o._repo,o._path,new $i,!1)),this.database=i,this._delegate=o}getKey(){return(0,ne.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,ne.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new Lo(this.database,fa(this._delegate,i))}getParent(){(0,ne.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new Lo(this.database,i):null}getRoot(){return(0,ne.Dv)("Reference.root",0,0,arguments.length),new Lo(this.database,this._delegate.root)}set(i,o){(0,ne.Dv)("Reference.set",1,2,arguments.length),(0,ne.Wj)("Reference.set","onComplete",o,!0);const d=zu(this._delegate,i);return o&&d.then(()=>o(null),p=>o(p)),d}update(i,o){if((0,ne.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const p={};for(let w=0;w<i.length;++w)p[""+w]=i[w];i=p,yd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ea("Reference.update",this._delegate._path),(0,ne.Wj)("Reference.update","onComplete",o,!0);const d=gf(this._delegate,i);return o&&d.then(()=>o(null),p=>o(p)),d}setWithPriority(i,o,d){(0,ne.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ne.Wj)("Reference.setWithPriority","onComplete",d,!0);const p=function Og(u,i,o){if(ea("setWithPriority",u._path),No("setWithPriority",i,u._path,!1),Qd("setWithPriority",o,!1),".length"===u.key||".keys"===u.key)throw"setWithPriority failed: "+u.key+" is a read-only object.";const d=new ne.BH;return fd(u._repo,u._path,i,o,d.wrapCallback(()=>{})),d.promise}(this._delegate,i,o);return d&&p.then(()=>d(null),w=>d(w)),p}remove(i){(0,ne.Dv)("Reference.remove",0,1,arguments.length),(0,ne.Wj)("Reference.remove","onComplete",i,!0);const o=function Pg(u){return ea("remove",u._path),zu(u,null)}(this._delegate);return i&&o.then(()=>i(null),d=>i(d)),o}transaction(i,o,d){(0,ne.Dv)("Reference.transaction",1,3,arguments.length),(0,ne.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,ne.Wj)("Reference.transaction","onComplete",o,!0),function(u,i,o,d){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,ne.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const p=function Vg(u,i,o){var d;if(u=(0,ne.m9)(u),ea("Reference.transaction",u._path),".length"===u.key||".keys"===u.key)throw"Reference.transaction failed: "+u.key+" is a read-only object.";const p=null===(d=null==o?void 0:o.applyLocally)||void 0===d||d,w=new ne.BH,V=nh(u,()=>{});return function Ae(u,i,o,d,p,w){O(u,"transaction on "+i);const A={path:i,update:o,onComplete:d,status:null,order:Nt(),applyLocally:w,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},V=wt(u,i,void 0);A.currentInputSnapshot=V;const Q=A.update(V.val());if(void 0===Q)A.unwatcher(),A.currentOutputSnapshotRaw=null,A.currentOutputSnapshotResolved=null,A.onComplete&&A.onComplete(null,!1,A.currentInputSnapshot);else{Lu("transaction failed: Data returned ",Q,A.path),A.status=0;const ue=$a(u.transactionQueueTree_,i),Je=Va(ue)||[];let lt;Je.push(A),tu(ue,Je),"object"==typeof Q&&null!==Q&&(0,ne.r3)(Q,".priority")?(lt=(0,ne.DV)(Q,".priority"),(0,ne.hu)(Jo(lt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):lt=(ba(u.serverSyncTree_,i)||P.EMPTY_NODE).getPriority().val();const Et=dd(u),Vt=Zt(Q,lt),Gt=rl(Vt,V,Et);A.currentOutputSnapshotRaw=Vt,A.currentOutputSnapshotResolved=Gt,A.currentWriteId=il(u);const hn=Cl(u.serverSyncTree_,i,Gt,A.currentWriteId,A.applyLocally);ko(u.eventQueue_,i,hn),zt(u,u.transactionQueueTree_)}}(u._repo,u._path,i,(Q,ue,Je)=>{let lt=null;Q?w.reject(Q):(lt=new fo(Je,new sl(u._repo,u._path),jr),w.resolve(new lu(ue,lt)))},V,p),w.promise}(this._delegate,i,{applyLocally:d}).then(w=>new r_(w.committed,new xl(this.database,w.snapshot)));return o&&p.then(w=>o(null,w.committed,w.snapshot),w=>o(w,!1,null)),p}setPriority(i,o){(0,ne.Dv)("Reference.setPriority",1,2,arguments.length),(0,ne.Wj)("Reference.setPriority","onComplete",o,!0);const d=function dy(u,i){u=(0,ne.m9)(u),ea("setPriority",u._path),Qd("setPriority",i,!1);const o=new ne.BH;return fd(u._repo,ti(u._path,".priority"),i,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,i);return o&&d.then(()=>o(null),p=>o(p)),d}push(i,o){(0,ne.Dv)("Reference.push",0,2,arguments.length),(0,ne.Wj)("Reference.push","onComplete",o,!0);const d=function Rl(u,i){u=(0,ne.m9)(u),ea("push",u._path),No("push",i,u._path,!0);const o=cd(u._repo),d=df(o),p=fa(u,d),w=fa(u,d);let A;return A=null!=i?zu(w,i).then(()=>w):Promise.resolve(w),p.then=A.then.bind(A),p.catch=A.then.bind(A,void 0),p}(this._delegate,i),p=d.then(A=>new Lo(this.database,A));o&&p.then(()=>o(null),A=>o(A));const w=new Lo(this.database,d);return w.then=p.then.bind(p),w.catch=p.catch.bind(p,void 0),w}onDisconnect(){return ea("Reference.onDisconnect",this._delegate._path),new Ey(new th(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class bc{constructor(i,o){this._delegate=i,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:yy,forceLongPolling:Sp}}useEmulator(i,o,d={}){!function If(u,i,o,d={}){(u=(0,ne.m9)(u))._checkNotDeleted("useEmulator"),u._instanceStarted&&zn("Cannot call useEmulator() after instance has already been initialized.");const p=u._repoInternal;let w;if(p.repoInfo_.nodeAdmin)d.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new W(W.OWNER);else if(d.mockUserToken){const A="string"==typeof d.mockUserToken?d.mockUserToken:(0,ne.Sg)(d.mockUserToken,u.app.options.projectId);w=new W(A)}!function e_(u,i,o,d){u.repoInfo_=new Gn(`${i}:${o}`,!1,u.repoInfo_.namespace,u.repoInfo_.webSocketOnly,u.repoInfo_.nodeAdmin,u.repoInfo_.persistenceKey,u.repoInfo_.includeNamespaceInQueryParams,!0),d&&(u.authTokenProvider_=d)}(p,i,o,w)}(this._delegate,i,o,d)}ref(i){if((0,ne.Dv)("database.ref",0,1,arguments.length),i instanceof Lo){const o=Ec(this._delegate,i.toString());return new Lo(this,o)}{const o=pf(this._delegate,i);return new Lo(this,o)}}refFromURL(i){(0,ne.Dv)("database.refFromURL",1,1,arguments.length);const d=Ec(this._delegate,i);return new Lo(this,d)}goOffline(){return(0,ne.Dv)("database.goOffline",0,0,arguments.length),function Cc(u){(u=(0,ne.m9)(u))._checkNotDeleted("goOffline"),_(u._repo)}(this._delegate)}goOnline(){return(0,ne.Dv)("database.goOnline",0,0,arguments.length),function Cf(u){(u=(0,ne.m9)(u))._checkNotDeleted("goOnline"),function I(u){u.persistentConnection_&&u.persistentConnection_.resume(ud)}(u._repo)}(this._delegate)}}bc.ServerValue={TIMESTAMP:function _y(){return md}(),increment:u=>function lh(u){return{".sv":{increment:u}}}(u)};var wy=Object.freeze({__proto__:null,initStandalone:function Mp({app:u,url:i,version:o,customAuthImpl:d,namespace:p,nodeAdmin:w=!1}){At(o);const A=new Ne.zt("auth-internal",new Ne.H0("database-standalone"));return A.setComponent(new Ne.wA("auth-internal",()=>d,"PRIVATE")),{instance:new bc(ah(u,A,void 0,i,w),u),namespace:p}}});const Iy=bc.ServerValue;!function Cy(u){u.INTERNAL.registerComponent(new Ne.wA("database-compat",(i,{instanceIdentifier:o})=>{const d=i.getProvider("app-compat").getImmediate(),p=i.getProvider("database").getImmediate({identifier:o});return new bc(p,d)},"PUBLIC").setServiceProps({Reference:Lo,Query:Do,Database:bc,DataSnapshot:xl,enableLogging:vy,INTERNAL:wy,ServerValue:Iy}).setMultipleInstances(!0)),u.registerVersion("@firebase/database-compat","0.3.4")}(We.Z);var al=L(2313),uu=L(9260);function jg(u){return null==u}function cu(u){return"function"==typeof u.set}function du(u,i){return cu(i)?i:u.ref(i)}function uh(u,i){if(function by(u){return"string"==typeof u}(u))return i.stringCase();if(cu(u))return i.firebaseCase();if(function i_(u){return"function"==typeof u.exportVal}(u))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof u)}function ch(u,i,o="on",d=Ze.z){return new It.y(p=>{let w=null;return w=u[o](i,(A,V)=>{d.schedule(()=>{p.next({snapshot:A,prevKey:V})}),"once"===o&&d.schedule(()=>p.complete())},A=>{d.schedule(()=>p.error(A))}),"on"===o?{unsubscribe(){null!=w&&u.off(i,w)}}:{unsubscribe(){}}}).pipe((0,ft.U)(p=>{const{snapshot:w,prevKey:A}=p;let V=null;return w.exists()&&(V=w.key),{type:i,payload:w,prevKey:A,key:V}}),(0,ot.B)())}function vd(u,i){const o=u.length;for(let d=0;d<o;d++)if(u[d].payload.key===i)return d;return-1}function hh(u,i){const{payload:o,prevKey:d,key:p}=i,w=vd(u,p),A=function dh(u,i){if(jg(i))return 0;{const o=vd(u,i);return-1===o?u.length:o+1}}(u,d);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let V=null;i.payload.forEach(Q=>{const ue={payload:Q,type:"value",prevKey:V,key:Q.key};return V=Q.key,u=[...u,ue],!1})}return u;case"child_added":if(w>-1){const V=u[w-1];(V&&V.key||null)!==d&&(u=u.filter(Q=>Q.payload.key!==o.key)).splice(A,0,i)}else{if(null==d)return[i,...u];(u=u.slice()).splice(A,0,i)}return u;case"child_removed":return u.filter(V=>V.payload.key!==o.key);case"child_changed":return u.map(V=>V.payload.key===p?i:V);case"child_moved":if(w>-1){const V=u.splice(w,1)[0];return(u=u.slice()).splice(A,0,V),u}return u;default:return u}}function Tf(u){return(jg(u)||0===u.length)&&(u=["child_added","child_removed","child_changed","child_moved"]),u}function Rp(u,i,o){return function Hg(u,i,o){return ch(u,"value","once",o).pipe((0,Ge.w)(d=>{const p=[(0,Me.of)(d)];return i.forEach(w=>p.push(ch(u,w,"on",o))),(0,we.T)(...p).pipe((0,it.R)(hh,[]))}),(0,gt.x)())}(u,i=Tf(i),o)}function xp(u,i,o){const d=(i=Tf(i)).map(p=>ch(u,p,"on",o));return(0,we.T)(...d)}function Pp(u,i){return function(d,p){return uh(d,{stringCase:()=>u.child(d)[i](p),firebaseCase:()=>d[i](p),snapshotCase:()=>d.ref[i](p)})}}function hu(u){return function(o){return o?uh(o,{stringCase:()=>u.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):u.remove()}}function ph(u,i){return function(){return ch(u,"value","on",i)}}const Dc=new g.OlP("angularfire2.realtimeDatabaseURL"),s0=new g.OlP("angularfire2.database.use-emulator");let s_=(()=>{class u{constructor(o,d,p,w,A,V,Q,ue,Je,lt,Et,Vt,Gt,hn,On){this.schedulers=V;const $r=Q,ui=(0,ve.on)(o,A,d);ue&&(0,Ue.nw)(ui,A,Je,Et,Vt,Gt,lt,hn),this.database=(0,ve.cc)(`${ui.name}.database.${p}`,"AngularFireDatabase",ui.name,()=>{const Di=A.runOutsideAngular(()=>ui.database(p||void 0));return $r&&Di.useEmulator(...$r),Di},[$r])}list(o,d){const p=this.schedulers.ngZone.runOutsideAngular(()=>du(this.database,o));let w=p;return d&&(w=d(p)),function fh(u,i){const o=i.schedulers.outsideAngular,d=i.schedulers.ngZone.run(()=>u.ref);return{query:u,update:Pp(d,"update"),set:Pp(d,"set"),push:p=>d.push(p),remove:hu(d),snapshotChanges:p=>Rp(u,p,o).pipe(De.iC),stateChanges:p=>xp(u,p,o).pipe(De.iC),auditTrail:p=>function zg(u,i,o){return function Sy(u,i,o){return function Dy(u,i){return ch(u,"value","on",i).pipe((0,ft.U)(o=>{let d;return o.payload.forEach(p=>(d=p.key,!1)),{data:o,lastKeyToLoad:d}}))}(u,o).pipe(function vt(...u){const i=(0,mt.jO)(u);return(0,_t.e)((o,d)=>{const p=u.length,w=new Array(p);let A=u.map(()=>!1),V=!1;for(let Q=0;Q<p;Q++)(0,Oe.Xf)(u[Q]).subscribe((0,Ye.x)(d,ue=>{w[Q]=ue,!V&&!A[Q]&&(A[Q]=!0,(V=A.every(St.y))&&(A=null))},nt.Z));o.subscribe((0,Ye.x)(d,Q=>{if(V){const ue=[Q,...w];d.next(i?i(...ue):ue)}}))})}(i),(0,ft.U)(([p,w])=>{const A=p.lastKeyToLoad,V=w.map(Q=>Q.key);return{actions:w,lastKeyToLoad:A,loadedKeys:V}}),function ce(u){return(0,_t.e)((i,o)=>{let d=!1,p=0;i.subscribe((0,Ye.x)(o,w=>(d||(d=!u(w,p++)))&&o.next(w)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,ft.U)(p=>p.actions))}(u,xp(u,i).pipe((0,it.R)((p,w)=>[...p,w],[])),o)}(u,p,o).pipe(De.iC),valueChanges:(p,w)=>Rp(u,p,o).pipe((0,ft.U)(V=>V.map(Q=>w&&w.idField?Object.assign(Object.assign({},Q.payload.val()),{[w.idField]:Q.key}):Q.payload.val())),De.iC)}}(w,this)}object(o){return function gh(u,i){return{query:u,snapshotChanges:()=>ph(u,i.schedulers.outsideAngular)().pipe(De.iC),update:o=>u.ref.update(o),set:o=>u.ref.set(o),remove:()=>u.ref.remove(),valueChanges:()=>ph(u,i.schedulers.outsideAngular)().pipe(De.iC,(0,ft.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>du(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(ve.Dh),g.LFG(ve.xv,8),g.LFG(Dc,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(De.HU),g.LFG(s0,8),g.LFG(Ue.zQ,8),g.LFG(Ue.Qv,8),g.LFG(Ue.L6,8),g.LFG(Ue._Q,8),g.LFG(Ue.rT,8),g.LFG(Ue.lh,8),g.LFG(Ue.f7,8),g.LFG(al.nm,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),o0=(()=>{class u{constructor(){uu.Z.registerVersion("angularfire",De.q4.full,"rtdb-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[s_]}),u})();var Gg=L(515),mh=L(4755),Op=L(5363),yh=L(3151),Gu=L(5132),Wg=L(9300),o_=L(7579);var a_=L(5577),Np=L(8675),vh=L(1520),Sc=L(3692),_h=L(259);const Ac="firebase_screen_id",fu="outlet",xf="screen_class",Pl="screen_name";let Ry=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const pu={},c_=u=>{const i=[u[xf],u[fu]].join("#");if(pu.hasOwnProperty(i))return pu[i];{const o=Ry++;return pu[i]=o,o}},Py=new g.OlP("angularfire2.analytics.analyticsCollectionEnabled"),wd=new g.OlP("angularfire2.analytics.appVersion"),h_=new g.OlP("angularfire2.analytics.appName"),f_=new g.OlP("angularfire2.analytics.debugMode"),Jg=new g.OlP("angularfire2.analytics.config"),Pf="dataLayer";let xc=(()=>{class u{constructor(o,d,p,w,A,V,Q,ue,Je){if(this.analyticsInitialized=new Promise(()=>{}),(0,mh.NF)(Q)){window[Pf]=window[Pf]||[];const Et=(...hn)=>"config"===hn[0]&&"firebase"===hn[2].origin&&(this.measurementId=hn[1],!0),Vt=hn=>{window.gtag=(...On)=>{hn&&hn(...On),"event"===On[0]&&On[2].send_to===this.measurementId&&(w&&(On[2].app_name=w),p&&(On[2].app_version=p)),A&&typeof console<"u"&&console.info(...On),function(...$r){window[Pf].push(arguments)}(...On)}};window[Pf].some(Et)?(this.analyticsInitialized=Promise.resolve(),Vt()):this.analyticsInitialized=new Promise(hn=>{Vt((...On)=>{Et(...On)&&hn()})}),V&&this.updateConfig(V),A&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const lt=(0,Me.of)(void 0).pipe((0,Op.Q)(Je.outsideAngular),(0,Ge.w)(Gu.Gb),(0,Ge.w)(Et=>Et?ue.runOutsideAngular(()=>L.e(3814).then(L.bind(L,3814))):Gg.E),(0,ft.U)(()=>(0,ve.cc)("analytics","AngularFireAnalytics",o.name,()=>{const Et=o.analytics();return!1===d&&Et.setAnalyticsCollectionEnabled(!1),Et},[o,d,V,A])),(0,yh.d)({bufferSize:1,refCount:!1}));return(0,ve.pX)(this,lt,ue)}updateConfig(o){return(0,xe.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},o),{update:!0}))})}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(ve.Ot),g.LFG(Py,8),g.LFG(wd,8),g.LFG(h_,8),g.LFG(f_,8),g.LFG(Jg,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(De.HU))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Of=(()=>{class u{constructor(o,d,p,w){if(this.disposables=[],uu.Z.registerVersion("angularfire",De.q4.full,"compat-user-tracking"),(0,mh.PM)(d))this.initialized=Promise.resolve();else{let A;this.initialized=w.runOutsideAngular(()=>new Promise(V=>A=V)),this.disposables=[p.authState.subscribe(V=>{o.setUserId(null==V?void 0:V.uid),A()}),p.credential.subscribe(V=>{if(V){const Q=V.user.isAnonymous?"anonymous":V.additionalUserInfo.providerId;V.additionalUserInfo.isNewUser&&o.logEvent("sign_up",{method:Q}),o.logEvent("login",{method:Q})}})]}}ngOnDestroy(){this.disposables.forEach(o=>o.unsubscribe())}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(xc),g.LFG(g.Lbi),g.LFG(Ue.zQ),g.LFG(g.R0b))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),ky=(()=>{class u{constructor(o,d,p,w,A,V){if(uu.Z.registerVersion("angularfire",De.q4.full,"compat-screen-tracking"),!d||!o)return this;A.runOutsideAngular(()=>{this.disposable=((u,i,o)=>u.events.pipe((0,Wg.h)(p=>p instanceof se.jw)).pipe((0,Ge.w)(p=>{var w;const V=(null===(w=u.parseUrl(u.url.replace(/(?:\().+(?:\))/g,Vt=>Vt.replace("://",":///"))).root.children[p.snapshot.outlet])||void 0===w?void 0:w.toString())||"",Q=u.routerState.root.children.map(Vt=>Vt).find(Vt=>Vt.outlet===p.snapshot.outlet);if(!Q)return(0,Me.of)(null);let ue=Q;for(;ue.firstChild;)ue=ue.firstChild;const Je=ue.pathFromRoot.map(Vt=>{var Gt;return null===(Gt=Vt.routeConfig)||void 0===Gt?void 0:Gt.path}).filter(Vt=>Vt).join("/")||"/",lt={[Pl]:Je,page_path:`/${V}`,firebase_event_origin:"auto",firebase_screen:Je,[fu]:p.snapshot.outlet};i&&(lt.page_title=i.getTitle());let Et=Q.component;if(Et){if(Et===se.fw){let Vt=p.snapshot;for(;Vt.firstChild;)Vt=Vt.firstChild;Et=Vt.component}}else Et=p.snapshot.component;if("string"==typeof Et)return(0,Me.of)(Object.assign(Object.assign({},lt),{[xf]:Et}));if(Et){const Vt=o.resolveComponentFactory(Et);return(0,Me.of)(Object.assign(Object.assign({},lt),{[xf]:Vt.selector}))}return(0,Me.of)(null)}),(0,Wg.h)(p=>!!p),(0,ft.U)(p=>Object.assign({firebase_screen_class:p[xf],[Ac]:c_(p)},p)),function Ty(u,i,o,d){return(0,_t.e)((p,w)=>{let A;i&&"function"!=typeof i?({duration:o,element:A,connector:d}=i):A=i;const V=new Map,Q=Gt=>{V.forEach(Gt),Gt(w)},ue=Gt=>Q(hn=>hn.error(Gt));let Je=0,lt=!1;const Et=new Ye.Q(w,Gt=>{try{const hn=u(Gt);let On=V.get(hn);if(!On){V.set(hn,On=d?d():new o_.x);const $r=function Vt(Gt,hn){const On=new It.y($r=>{Je++;const ui=hn.subscribe($r);return()=>{ui.unsubscribe(),0==--Je&&lt&&Et.unsubscribe()}});return On.key=Gt,On}(hn,On);if(w.next($r),o){const ui=(0,Ye.x)(On,()=>{On.complete(),null==ui||ui.unsubscribe()},void 0,void 0,()=>V.delete(hn));Et.add((0,Oe.Xf)(o($r)).subscribe(ui))}}On.next(A?A(Gt):Gt)}catch(hn){ue(hn)}},()=>Q(Gt=>Gt.complete()),ue,()=>V.clear(),()=>(lt=!0,0===Je));p.subscribe(Et)})}(p=>p[fu]),(0,a_.z)(p=>p.pipe((0,gt.x)((w,A)=>JSON.stringify(w)===JSON.stringify(A)),(0,Np.O)(void 0),(0,vh.G)(),(0,ft.U)(([w,A])=>w?Object.assign({firebase_previous_class:w[xf],firebase_previous_screen:w[Pl],firebase_previous_id:w[Ac]},A):A)))))(d,p,w).pipe((0,Ge.w)(Q=>(0,xe.mG)(this,void 0,void 0,function*(){return V&&(yield V.initialized),yield o.logEvent("screen_view",Q)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(xc),g.LFG(se.F0,8),g.LFG(y.Dx,8),g.LFG(g._Vd),g.LFG(g.R0b),g.LFG(Of,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),Fy=(()=>{class u{constructor(o,d,p){uu.Z.registerVersion("angularfire",De.q4.full,"analytics-compat"),o.app.then(()=>{})}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(xc),g.LFG(ky,8),g.LFG(Of,8))},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[xc]}),u})();var tm=L(1085),Ol=L(8996);const wh="firebasestorage.googleapis.com",Ih="storageBucket";class hs extends ne.ZR{constructor(i,o,d=0){super(Id(i),`Firebase Storage: ${o} (${Id(i)})`),this.status_=d,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hs.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return Id(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var xr=(()=>((xr=xr||{}).UNKNOWN="unknown",xr.OBJECT_NOT_FOUND="object-not-found",xr.BUCKET_NOT_FOUND="bucket-not-found",xr.PROJECT_NOT_FOUND="project-not-found",xr.QUOTA_EXCEEDED="quota-exceeded",xr.UNAUTHENTICATED="unauthenticated",xr.UNAUTHORIZED="unauthorized",xr.UNAUTHORIZED_APP="unauthorized-app",xr.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",xr.INVALID_CHECKSUM="invalid-checksum",xr.CANCELED="canceled",xr.INVALID_EVENT_NAME="invalid-event-name",xr.INVALID_URL="invalid-url",xr.INVALID_DEFAULT_BUCKET="invalid-default-bucket",xr.NO_DEFAULT_BUCKET="no-default-bucket",xr.CANNOT_SLICE_BLOB="cannot-slice-blob",xr.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",xr.NO_DOWNLOAD_URL="no-download-url",xr.INVALID_ARGUMENT="invalid-argument",xr.INVALID_ARGUMENT_COUNT="invalid-argument-count",xr.APP_DELETED="app-deleted",xr.INVALID_ROOT_OPERATION="invalid-root-operation",xr.INVALID_FORMAT="invalid-format",xr.INTERNAL_ERROR="internal-error",xr.UNSUPPORTED_ENVIRONMENT="unsupported-environment",xr))();function Id(u){return"storage/"+u}function kf(){return new hs(xr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ff(){return new hs(xr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Lf(){return new hs(xr.CANCELED,"User canceled the upload/download.")}function By(){return new hs(xr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ku(u){return new hs(xr.INVALID_ARGUMENT,u)}function Bf(){return new hs(xr.APP_DELETED,"The Firebase app was deleted.")}function zp(u){return new hs(xr.INVALID_ROOT_OPERATION,"The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qu(u,i){return new hs(xr.INVALID_FORMAT,"String does not match format '"+u+"': "+i)}function Nl(u){throw new hs(xr.INTERNAL_ERROR,"Internal error: "+u)}class qs{constructor(i,o){this.bucket=i,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,o){let d;try{d=qs.makeFromUrl(i,o)}catch{return new qs(i,"")}if(""===d.path)return d;throw function nm(u){return new hs(xr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+u+"'.")}(i)}static makeFromUrl(i,o){let d=null;const p="([A-Za-z0-9.\\-_]+)",V=new RegExp("^gs://"+p+"(/(.*))?$","i");function ue(Ri){Ri.path_=decodeURIComponent(Ri.path)}const lt=o.replace(/[.]/g,"\\."),Di=[{regex:V,indices:{bucket:1,path:3},postModify:function w(Ri){"/"===Ri.path.charAt(Ri.path.length-1)&&(Ri.path_=Ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${lt}/v[A-Za-z0-9_]+/b/${p}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ue},{regex:new RegExp(`^https?://${o===wh?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${p}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ue}];for(let Ri=0;Ri<Di.length;Ri++){const pl=Di[Ri],gl=pl.regex.exec(i);if(gl){let aa=gl[pl.indices.path];aa||(aa=""),d=new qs(gl[pl.indices.bucket],aa),pl.postModify(d);break}}if(null==d)throw function Ly(u){return new hs(xr.INVALID_URL,"Invalid URL '"+u+"'.")}(i);return d}}class om{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function kl(u){return"string"==typeof u||u instanceof String}function Wp(u){return Nc()&&u instanceof Blob}function Nc(){return typeof Blob<"u"&&!(0,ne.UG)()}function Cd(u,i,o,d){if(d<i)throw Ku(`Invalid value for '${u}'. Expected ${i} or greater.`);if(d>o)throw Ku(`Invalid value for '${u}'. Expected ${o} or less.`)}function ks(u,i,o){let d=i;return null==o&&(d=`https://${i}`),`${o}://${d}/v0${u}`}function um(u){const i=encodeURIComponent;let o="?";for(const d in u)u.hasOwnProperty(d)&&(o=o+(i(d)+"=")+i(u[d])+"&");return o=o.slice(0,-1),o}var pa=(()=>((pa=pa||{})[pa.NO_ERROR=0]="NO_ERROR",pa[pa.NETWORK_ERROR=1]="NETWORK_ERROR",pa[pa.ABORT=2]="ABORT",pa))();function $f(u,i){const o=u>=500&&u<600,p=-1!==[408,429].indexOf(u),w=-1!==i.indexOf(u);return o||p||w}class Vf{constructor(i,o,d,p,w,A,V,Q,ue,Je,lt,Et=!0){this.url_=i,this.method_=o,this.headers_=d,this.body_=p,this.successCodes_=w,this.additionalRetryCodes_=A,this.callback_=V,this.errorCallback_=Q,this.timeout_=ue,this.progressCallback_=Je,this.connectionFactory_=lt,this.retry=Et,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Vt,Gt)=>{this.resolve_=Vt,this.reject_=Gt,this.start_()})}start_(){const o=(d,p)=>{const w=this.resolve_,A=this.reject_,V=p.connection;if(p.wasSuccessCode)try{const Q=this.callback_(V,V.getResponse());!function lm(u){return void 0!==u}(Q)?w():w(Q)}catch(Q){A(Q)}else if(null!==V){const Q=kf();Q.serverResponse=V.getErrorText(),A(this.errorCallback_?this.errorCallback_(V,Q):Q)}else A(p.canceled?this.appDelete_?Bf():Lf():Ff())};this.canceled_?o(0,new bd(!1,null,!0)):this.backoffId_=function Gp(u,i,o){let d=1,p=null,w=null,A=!1,V=0;function Q(){return 2===V}let ue=!1;function Je(...On){ue||(ue=!0,i.apply(null,On))}function lt(On){p=setTimeout(()=>{p=null,u(Vt,Q())},On)}function Et(){w&&clearTimeout(w)}function Vt(On,...$r){if(ue)return void Et();if(On)return Et(),void Je.call(null,On,...$r);if(Q()||A)return Et(),void Je.call(null,On,...$r);let Di;d<64&&(d*=2),1===V?(V=2,Di=0):Di=1e3*(d+Math.random()),lt(Di)}let Gt=!1;function hn(On){Gt||(Gt=!0,Et(),!ue&&(null!==p?(On||(V=2),clearTimeout(p),lt(0)):On||(V=1)))}return lt(0),w=setTimeout(()=>{A=!0,hn(!0)},o),hn}((d,p)=>{if(p)return void d(!1,new bd(!1,null,!0));const w=this.connectionFactory_();this.pendingConnection_=w;const A=V=>{null!==this.progressCallback_&&this.progressCallback_(V.loaded,V.lengthComputable?V.total:-1)};null!==this.progressCallback_&&w.addUploadProgressListener(A),w.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&w.removeUploadProgressListener(A),this.pendingConnection_=null;const V=w.getErrorCode()===pa.NO_ERROR,Q=w.getStatus();if(!V||$f(Q,this.additionalRetryCodes_)&&this.retry){const Je=w.getErrorCode()===pa.ABORT;return void d(!1,new bd(!1,null,Je))}const ue=-1!==this.successCodes_.indexOf(Q);d(!0,new bd(ue,w))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&function am(u){u(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bd{constructor(i,o,d){this.wasSuccessCode=i,this.connection=o,this.canceled=!!d}}function Dh(...u){const i=function jf(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==i){const o=new i;for(let d=0;d<u.length;d++)o.append(u[d]);return o.getBlob()}if(Nc())return new Blob(u);throw new hs(xr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Bo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fl{constructor(i,o){this.data=i,this.contentType=o||null}}function Ah(u,i){switch(u){case Bo.RAW:return new Fl(Mh(i));case Bo.BASE64:case Bo.BASE64URL:return new Fl(Kp(u,i));case Bo.DATA_URL:return new Fl(function fm(u){const i=new hm(u);return i.base64?Kp(Bo.BASE64,i.rest):function Hf(u){let i;try{i=decodeURIComponent(u)}catch{throw qu(Bo.DATA_URL,"Malformed data URL.")}return Mh(i)}(i.rest)}(i),function pm(u){return new hm(u).contentType}(i))}throw kf()}function Mh(u){const i=[];for(let o=0;o<u.length;o++){let d=u.charCodeAt(o);d<=127?i.push(d):d<=2047?i.push(192|d>>6,128|63&d):55296==(64512&d)?o<u.length-1&&56320==(64512&u.charCodeAt(o+1))?(d=65536|(1023&d)<<10|1023&u.charCodeAt(++o),i.push(240|d>>18,128|d>>12&63,128|d>>6&63,128|63&d)):i.push(239,191,189):56320==(64512&d)?i.push(239,191,189):i.push(224|d>>12,128|d>>6&63,128|63&d)}return new Uint8Array(i)}function Kp(u,i){switch(u){case Bo.BASE64:{const p=-1!==i.indexOf("-"),w=-1!==i.indexOf("_");if(p||w)throw qu(u,"Invalid character '"+(p?"-":"_")+"' found: is it base64url encoded?");break}case Bo.BASE64URL:{const p=-1!==i.indexOf("+"),w=-1!==i.indexOf("/");if(p||w)throw qu(u,"Invalid character '"+(p?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function Th(u){if(typeof atob>"u")throw function sm(u){return new hs(xr.UNSUPPORTED_ENVIRONMENT,`${u} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(u)}(i)}catch(p){throw p.message.includes("polyfill")?p:qu(u,"Invalid character found")}const d=new Uint8Array(o.length);for(let p=0;p<o.length;p++)d[p]=o.charCodeAt(p);return d}class hm{constructor(i){this.base64=!1,this.contentType=null;const o=i.match(/^data:([^,]+)?,/);if(null===o)throw qu(Bo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const d=o[1]||null;null!=d&&(this.base64=function kc(u,i){return u.length>=i.length&&u.substring(u.length-i.length)===i}(d,";base64"),this.contentType=this.base64?d.substring(0,d.length-7):d),this.rest=i.substring(i.indexOf(",")+1)}}class ll{constructor(i,o){let d=0,p="";Wp(i)?(this.data_=i,d=i.size,p=i.type):i instanceof ArrayBuffer?(o?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),d=this.data_.length):i instanceof Uint8Array&&(o?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),d=i.length),this.size_=d,this.type_=p}size(){return this.size_}type(){return this.type_}slice(i,o){if(Wp(this.data_)){const p=function Sh(u,i,o){return u.webkitSlice?u.webkitSlice(i,o):u.mozSlice?u.mozSlice(i,o):u.slice?u.slice(i,o):null}(this.data_,i,o);return null===p?null:new ll(p)}{const d=new Uint8Array(this.data_.buffer,i,o-i);return new ll(d,!0)}}static getBlob(...i){if(Nc()){const o=i.map(d=>d instanceof ll?d.data_:d);return new ll(Dh.apply(null,o))}{const o=i.map(A=>kl(A)?Ah(Bo.RAW,A).data:A.data_);let d=0;o.forEach(A=>{d+=A.byteLength});const p=new Uint8Array(d);let w=0;return o.forEach(A=>{for(let V=0;V<A.length;V++)p[w++]=A[V]}),new ll(p,!0)}}uploadData(){return this.data_}}function Fc(u){let i;try{i=JSON.parse(u)}catch{return null}return function $y(u){return"object"==typeof u&&!Array.isArray(u)}(i)?i:null}function qp(u){const i=u.lastIndexOf("/",u.length-2);return-1===i?u:u.slice(i+1)}function y0(u,i){return i}class ia{constructor(i,o,d,p){this.server=i,this.local=o||i,this.writable=!!d,this.xform=p||y0}}let Lc=null;function Dd(){if(Lc)return Lc;const u=[];u.push(new ia("bucket")),u.push(new ia("generation")),u.push(new ia("metageneration")),u.push(new ia("name","fullPath",!0));const o=new ia("name");o.xform=function i(w,A){return function Uy(u){return!kl(u)||u.length<2?u:qp(u)}(A)},u.push(o);const p=new ia("size");return p.xform=function d(w,A){return void 0!==A?Number(A):A},u.push(p),u.push(new ia("timeCreated")),u.push(new ia("updated")),u.push(new ia("md5Hash",null,!0)),u.push(new ia("cacheControl",null,!0)),u.push(new ia("contentDisposition",null,!0)),u.push(new ia("contentEncoding",null,!0)),u.push(new ia("contentLanguage",null,!0)),u.push(new ia("contentType",null,!0)),u.push(new ia("metadata","customMetadata",!0)),Lc=u,Lc}function gm(u,i,o){const d=Fc(i);return null===d?null:function Yp(u,i,o){const d={type:"file"},p=o.length;for(let w=0;w<p;w++){const A=o[w];d[A.local]=A.xform(d,i[A.server])}return function gu(u,i){Object.defineProperty(u,"ref",{get:function o(){const w=new qs(u.bucket,u.fullPath);return i._makeStorageReference(w)}})}(d,u),d}(u,d,o)}function Yr(u,i){const o={},d=i.length;for(let p=0;p<d;p++){const w=i[p];w.writable&&(o[w.server]=u[w.local])}return JSON.stringify(o)}const Zp="prefixes",mm="items";class Ha{constructor(i,o,d,p){this.url=i,this.method=o,this.handler=d,this.timeout=p,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mu(u){if(!u)throw kf()}function Rh(u,i){return function o(d,p){const w=gm(u,p,i);return mu(null!==w),w}}function Bc(u){return function i(o,d){let p;return p=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function Pc(){return new hs(xr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function h0(){return new hs(xr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function bh(u){return new hs(xr.QUOTA_EXCEEDED,"Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(u.bucket):403===o.getStatus()?function Oc(u){return new hs(xr.UNAUTHORIZED,"User does not have permission to access '"+u+"'.")}(u.path):d,p.status=o.getStatus(),p.serverResponse=d.serverResponse,p}}function Sd(u){const i=Bc(u);return function o(d,p){let w=i(d,p);return 404===d.getStatus()&&(w=function Hp(u){return new hs(xr.OBJECT_NOT_FOUND,"Object '"+u+"' does not exist.")}(u.path)),w.serverResponse=p.serverResponse,w}}function Qp(u,i,o){const p=ks(i.fullServerUrl(),u.host,u._protocol),A=u.maxOperationRetryTime,V=new Ha(p,"GET",Rh(u,o),A);return V.errorHandler=Sd(i),V}function vm(u,i,o,d,p){const w={};w.prefix=i.isRoot?"":i.path+"/",o&&o.length>0&&(w.delimiter=o),d&&(w.pageToken=d),p&&(w.maxResults=p);const V=ks(i.bucketOnlyServerUrl(),u.host,u._protocol),ue=u.maxOperationRetryTime,Je=new Ha(V,"GET",function zy(u,i){return function o(d,p){const w=function m_(u,i,o){const d=Fc(o);return null===d?null:function Hy(u,i,o){const d={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[Zp])for(const p of o[Zp]){const w=p.replace(/\/$/,""),A=u._makeStorageReference(new qs(i,w));d.prefixes.push(A)}if(o[mm])for(const p of o[mm]){const w=u._makeStorageReference(new qs(i,p.name));d.items.push(w)}return d}(u,i,d)}(u,i,p);return mu(null!==w),w}}(u,i.bucket),ue);return Je.urlParams=w,Je.errorHandler=Bc(i),Je}function _m(u,i,o){const d=Object.assign({},o);return d.fullPath=u.path,d.size=i.size(),d.contentType||(d.contentType=function Td(u,i){return u&&u.contentType||i&&i.type()||"application/octet-stream"}(null,i)),d}class Zu{constructor(i,o,d,p){this.current=i,this.total=o,this.finalized=!!d,this.metadata=p||null}}function zf(u,i){let o=null;try{o=u.getResponseHeader("X-Goog-Upload-Status")}catch{mu(!1)}return mu(!!o&&-1!==(i||["active"]).indexOf(o)),o}const Em={STATE_CHANGED:"state_changed"},sa={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Md(u){switch(u){case"running":case"pausing":case"canceling":return sa.RUNNING;case"paused":return sa.PAUSED;case"success":return sa.SUCCESS;case"canceled":return sa.CANCELED;default:return sa.ERROR}}class wm{constructor(i,o,d){if(function p0(u){return"function"==typeof u}(i)||null!=o||null!=d)this.next=i,this.error=null!=o?o:void 0,this.complete=null!=d?d:void 0;else{const w=i;this.next=w.next,this.error=w.error,this.complete=w.complete}}}function Ph(u){return(...i)=>{Promise.resolve().then(()=>u(...i))}}let Im=null;class Gy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pa.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pa.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pa.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,o,d,p){if(this.sent_)throw Nl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,i,!0),void 0!==p)for(const w in p)p.hasOwnProperty(w)&&this.xhr_.setRequestHeader(w,p[w].toString());return void 0!==d?this.xhr_.send(d):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class Wy extends Gy{initXhr(){this.xhr_.responseType="text"}}function ul(){return Im?Im():new Wy}class Qy{constructor(i,o,d=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=o,this._metadata=d,this._mappings=Dd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=p=>{if(this._request=void 0,this._chunkMultiplier=1,p._codeEquals(xr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const w=this.isExponentialBackoffExpired();if($f(p.status,[])){if(!w)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();p=Ff()}this._error=p,this._transition("error")}},this._metadataErrorHandler=p=>{this._request=void 0,p._codeEquals(xr.CANCELED)?this.completeTransitions_():(this._error=p,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((p,w)=>{this._resolve=p,this._reject=w,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const i=this._transferred;return o=>this._updateProgress(i+o)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,d])=>{switch(this._state){case"running":i(o,d);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,o)=>{const d=function Ad(u,i,o,d,p){const w=i.bucketOnlyServerUrl(),A=_m(i,d,p),V={name:A.fullPath},Q=ks(w,u.host,u._protocol),Je={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${d.size()}`,"X-Goog-Upload-Header-Content-Type":A.contentType,"Content-Type":"application/json; charset=utf-8"},lt=Yr(A,o),Gt=new Ha(Q,"POST",function Vt(hn){let On;zf(hn);try{On=hn.getResponseHeader("X-Goog-Upload-URL")}catch{mu(!1)}return mu(kl(On)),On},u.maxUploadRetryTime);return Gt.urlParams=V,Gt.headers=Je,Gt.body=lt,Gt.errorHandler=Bc(i),Gt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(d,ul,i,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._uploadUrl=w,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((o,d)=>{const p=function Xp(u,i,o,d){const Q=new Ha(o,"POST",function w(ue){const Je=zf(ue,["active","final"]);let lt=null;try{lt=ue.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mu(!1)}lt||mu(!1);const Et=Number(lt);return mu(!isNaN(Et)),new Zu(Et,d.size(),"final"===Je)},u.maxUploadRetryTime);return Q.headers={"X-Goog-Upload-Command":"query"},Q.errorHandler=Bc(i),Q}(this._ref.storage,this._ref._location,i,this._blob),w=this._ref.storage._makeRequest(p,ul,o,d);this._request=w,w.getPromise().then(A=>{this._request=void 0,this._updateProgress(A.current),this._needToFetchStatus=!1,A.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,o=new Zu(this._transferred,this._blob.size()),d=this._uploadUrl;this._resolveToken((p,w)=>{let A;try{A=function Gf(u,i,o,d,p,w,A,V){const Q=new Zu(0,0);if(A?(Q.current=A.current,Q.total=A.total):(Q.current=0,Q.total=d.size()),d.size()!==Q.total)throw function im(){return new hs(xr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ue=Q.total-Q.current;let Je=ue;p>0&&(Je=Math.min(Je,p));const lt=Q.current;let Vt="";Vt=0===Je?"finalize":ue===Je?"upload, finalize":"upload";const Gt={"X-Goog-Upload-Command":Vt,"X-Goog-Upload-Offset":`${Q.current}`},hn=d.slice(lt,lt+Je);if(null===hn)throw By();const Di=new Ha(o,"POST",function On(Ri,pl){const gl=zf(Ri,["active","final"]),oa=Q.current+Je,aa=d.size();let Qh;return Qh="final"===gl?Rh(i,w)(Ri,pl):null,new Zu(oa,aa,"final"===gl,Qh)},i.maxUploadRetryTime);return Di.headers=Gt,Di.body=hn.uploadData(),Di.progressCallback=V||null,Di.errorHandler=Bc(u),Di}(this._ref._location,this._ref.storage,d,this._blob,i,this._mappings,o,this._makeProgressCallback())}catch(Q){return this._error=Q,void this._transition("error")}const V=this._ref.storage._makeRequest(A,ul,p,w,!1);this._request=V,V.getPromise().then(Q=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Q.current),Q.finalized?(this._metadata=Q.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,o)=>{const d=Qp(this._ref.storage,this._ref._location,this._mappings),p=this._ref.storage._makeRequest(d,ul,i,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,o)=>{const d=function vu(u,i,o,d,p){const w=i.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"},Q=function V(){let Di="";for(let Ri=0;Ri<2;Ri++)Di+=Math.random().toString().slice(2);return Di}();A["Content-Type"]="multipart/related; boundary="+Q;const ue=_m(i,d,p),Je=Yr(ue,o),Vt=ll.getBlob("--"+Q+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Je+"\r\n--"+Q+"\r\nContent-Type: "+ue.contentType+"\r\n\r\n",d,"\r\n--"+Q+"--");if(null===Vt)throw By();const Gt={name:ue.fullPath},hn=ks(w,u.host,u._protocol),$r=u.maxUploadRetryTime,ui=new Ha(hn,"POST",Rh(u,o),$r);return ui.urlParams=Gt,ui.headers=A,ui.body=Vt.uploadData(),ui.errorHandler=Bc(i),ui}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(d,ul,i,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const o=this._transferred;this._transferred=i,this._transferred!==o&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=i,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=i,this._notifyObservers();break;case"canceled":this._error=Lf(),this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=Md(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,o,d,p){const w=new wm(o||void 0,d||void 0,p||void 0);return this._addObserver(w),()=>{this._removeObserver(w)}}then(i,o){return this._promise.then(i,o)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const o=this._observers.indexOf(i);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(Md(this._state)){case sa.SUCCESS:Ph(this._resolve.bind(null,this.snapshot))();break;case sa.CANCELED:case sa.ERROR:Ph(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(Md(this._state)){case sa.RUNNING:case sa.PAUSED:i.next&&Ph(i.next.bind(i,this.snapshot))();break;case sa.SUCCESS:i.complete&&Ph(i.complete.bind(i))();break;default:i.error&&Ph(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class Rd{constructor(i,o){this._service=i,this._location=o instanceof qs?o:qs.makeFromUrl(o,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,o){return new Rd(i,o)}get root(){const i=new qs(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qp(this._location.path)}get storage(){return this._service}get parent(){const i=function Ll(u){if(0===u.length)return null;const i=u.lastIndexOf("/");return-1===i?"":u.slice(0,i)}(this._location.path);if(null===i)return null;const o=new qs(this._location.bucket,i);return new Rd(this._service,o)}_throwIfRoot(i){if(""===this._location.path)throw zp(i)}}function eg(u,i,o){return tg.apply(this,arguments)}function tg(){return(tg=(0,ke.Z)(function*(u,i,o){const p=yield ng(u,{pageToken:o});i.prefixes.push(...p.prefixes),i.items.push(...p.items),null!=p.nextPageToken&&(yield eg(u,i,p.nextPageToken))})).apply(this,arguments)}function ng(u,i){null!=i&&"number"==typeof i.maxResults&&Cd("options.maxResults",1,1e3,i.maxResults);const o=i||{},d=vm(u.storage,u._location,"/",o.pageToken,o.maxResults);return u.storage.makeRequestWithTokens(d,ul)}function Dm(u){u._throwIfRoot("getDownloadURL");const i=function Yu(u,i,o){const p=ks(i.fullServerUrl(),u.host,u._protocol),A=u.maxOperationRetryTime,V=new Ha(p,"GET",function ym(u,i){return function o(d,p){const w=gm(u,p,i);return mu(null!==w),function jy(u,i,o,d){const p=Fc(i);if(null===p||!kl(p.downloadTokens))return null;const w=p.downloadTokens;if(0===w.length)return null;const A=encodeURIComponent;return w.split(",").map(ue=>{const lt=u.fullPath;return ks("/b/"+A(u.bucket)+"/o/"+A(lt),o,d)+um({alt:"media",token:ue})})[0]}(w,p,u.host,u._protocol)}}(u,o),A);return V.errorHandler=Sd(i),V}(u.storage,u._location,Dd());return u.storage.makeRequestWithTokens(i,ul).then(o=>{if(null===o)throw function f0(){return new hs(xr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function rg(u,i){const o=function m0(u,i){const o=i.split("/").filter(d=>d.length>0).join("/");return 0===u.length?o:u+"/"+o}(u._location.path,i),d=new qs(u._location.bucket,o);return new Rd(u.storage,d)}function Jy(u,i){if(u instanceof Vc){const o=u;if(null==o._bucket)throw function rm(){return new hs(xr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ih+"' property when initializing the app?")}();const d=new Rd(o,o._bucket);return null!=i?Jy(d,i):d}return void 0!==i?rg(u,i):u}function Am(u,i){if(i&&function v_(u){return/^[A-Za-z]+:\/\//.test(u)}(i)){if(u instanceof Vc)return function Tm(u,i){return new Rd(u,i)}(u,i);throw Ku("To use ref(service, url), the first argument must be a Storage instance.")}return Jy(u,i)}function za(u,i){const o=null==i?void 0:i[Ih];return null==o?null:qs.makeFromBucketSpec(o,u)}class Vc{constructor(i,o,d,p,w){this.app=i,this._authProvider=o,this._appCheckProvider=d,this._url=p,this._firebaseVersion=w,this._bucket=null,this._host=wh,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=p?qs.makeFromBucketSpec(p,this._host):za(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?qs.makeFromBucketSpec(this._url,i):za(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){Cd("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){Cd("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,ke.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const o=i._authProvider.getImmediate({optional:!0});if(o){const d=yield o.getToken();if(null!==d)return d.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,ke.Z)(function*(){const o=i._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Rd(this,i)}_makeRequest(i,o,d,p,w=!0){if(this._deleted)return new om(Bf());{const A=function g0(u,i,o,d,p,w,A=!0){const V=um(u.urlParams),Q=u.url+V,ue=Object.assign({},u.headers);return function Uf(u,i){i&&(u["X-Firebase-GMPID"]=i)}(ue,i),function cm(u,i){null!==i&&i.length>0&&(u.Authorization="Firebase "+i)}(ue,o),function dm(u,i){u["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(ue,w),function Vy(u,i){null!==i&&(u["X-Firebase-AppCheck"]=i)}(ue,d),new Vf(Q,u.method,ue,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,p,A)}(i,this._appId,d,p,o,this._firebaseVersion,w);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}makeRequestWithTokens(i,o){var d=this;return(0,ke.Z)(function*(){const[p,w]=yield Promise.all([d._getAuthToken(),d._getAppCheckToken()]);return d._makeRequest(i,o,p,w).getPromise()})()}}const ig="@firebase/storage";function nv(u,i){return Am(u=(0,ne.m9)(u),i)}function E_(u,{instanceIdentifier:i}){const o=u.getProvider("app").getImmediate(),d=u.getProvider("auth-internal"),p=u.getProvider("app-check-internal");return new Vc(o,d,p,i,je.SDK_VERSION)}!function sv(){(0,je._registerComponent)(new Ne.wA("storage",E_,"PUBLIC").setMultipleInstances(!0)),(0,je.registerVersion)(ig,"0.11.2",""),(0,je.registerVersion)(ig,"0.11.2","esm2017")}();class cg{constructor(i,o,d){this._delegate=i,this.task=o,this.ref=d}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xd{constructor(i,o){this._delegate=i,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new cg(this._delegate.snapshot,this,this._ref)}then(i,o){return this._delegate.then(d=>{if(i)return i(new cg(d,this,this._ref))},o)}on(i,o,d,p){let w;return o&&(w="function"==typeof o?A=>o(new cg(A,this,this._ref)):{next:o.next?A=>o.next(new cg(A,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(i,w,d||void 0,p||void 0)}}class Oh{constructor(i,o){this._delegate=i,this._service=o}get prefixes(){return this._delegate.prefixes.map(i=>new Sa(i,this._service))}get items(){return this._delegate.items.map(i=>new Sa(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Sa{constructor(i,o){this._delegate=i,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const o=function Pm(u,i){return rg(u,i)}(this._delegate,i);return new Sa(o,this.storage)}get root(){return new Sa(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new Sa(i,this.storage)}put(i,o){return this._throwIfRoot("put"),new xd(function _0(u,i,o){return function v0(u,i,o){return u._throwIfRoot("uploadBytesResumable"),new Qy(u,new ll(i),o)}(u=(0,ne.m9)(u),i,o)}(this._delegate,i,o),this)}putString(i,o=Bo.RAW,d){this._throwIfRoot("putString");const p=Ah(o,i),w=Object.assign({},d);return null==w.contentType&&null!=p.contentType&&(w.contentType=p.contentType),new xd(new Qy(this._delegate,new ll(p.data,!0),w),this)}listAll(){return function lg(u){return function Xy(u){const i={prefixes:[],items:[]};return eg(u,i).then(()=>i)}(u=(0,ne.m9)(u))}(this._delegate).then(i=>new Oh(i,this.storage))}list(i){return function tv(u,i){return ng(u=(0,ne.m9)(u),i)}(this._delegate,i||void 0).then(o=>new Oh(o,this.storage))}getMetadata(){return function ag(u){return function bm(u){u._throwIfRoot("getMetadata");const i=Qp(u.storage,u._location,Dd());return u.storage.makeRequestWithTokens(i,ul)}(u=(0,ne.m9)(u))}(this._delegate)}updateMetadata(i){return function ev(u,i){return function y_(u,i){u._throwIfRoot("updateMetadata");const o=function yu(u,i,o,d){const w=ks(i.fullServerUrl(),u.host,u._protocol),V=Yr(o,d),ue=u.maxOperationRetryTime,Je=new Ha(w,"PATCH",Rh(u,d),ue);return Je.headers={"Content-Type":"application/json; charset=utf-8"},Je.body=V,Je.errorHandler=Sd(i),Je}(u.storage,u._location,i,Dd());return u.storage.makeRequestWithTokens(o,ul)}(u=(0,ne.m9)(u),i)}(this._delegate,i)}getDownloadURL(){return function xm(u){return Dm(u=(0,ne.m9)(u))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Vl(u){return function Sm(u){u._throwIfRoot("deleteObject");const i=function Bl(u,i){const d=ks(i.fullServerUrl(),u.host,u._protocol),V=new Ha(d,"DELETE",function A(Q,ue){},u.maxOperationRetryTime);return V.successCodes=[200,204],V.errorHandler=Sd(i),V}(u.storage,u._location);return u.storage.makeRequestWithTokens(i,ul)}(u=(0,ne.m9)(u))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw zp(i)}}class Om{constructor(i,o){this.app=i,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(dg(i))throw Ku("ref() expected a child path but got a URL, use refFromURL instead.");return new Sa(nv(this._delegate,i),this)}refFromURL(i){if(!dg(i))throw Ku("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qs.makeFromUrl(i,this._delegate.host)}catch{throw Ku("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sa(nv(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,o,d={}){!function ug(u,i,o,d={}){!function Kf(u,i,o,d={}){u.host=`${i}:${o}`,u._protocol="http";const{mockUserToken:p}=d;p&&(u._overrideAuthToken="string"==typeof p?p:(0,ne.Sg)(p,u.app.options.projectId))}(u,i,o,d)}(this._delegate,i,o,d)}}function dg(u){return/^[A-Za-z]+:\/\//.test(u)}function Nm(u,{instanceIdentifier:i}){const o=u.getProvider("app-compat").getImmediate(),d=u.getProvider("storage").getImmediate({identifier:i});return new Om(o,d)}function Pd(u){const i=function Nh(u){return new It.y(i=>{const o=A=>i.next(A);o(u.snapshot);const w=u.on("state_changed",o);return u.then(A=>{o(A),i.complete()},A=>{o(u.snapshot),(A=>{i.error(A)})(A)}),function(){w()}}).pipe(function Up(u,i=Ze.z){return(0,_t.e)((o,d)=>{let p=null,w=null,A=null;const V=()=>{if(p){p.unsubscribe(),p=null;const ue=w;w=null,d.next(ue)}};function Q(){const ue=A+u,Je=i.now();if(Je<ue)return p=this.schedule(void 0,ue-Je),void d.add(p);V()}o.subscribe((0,Ye.x)(d,ue=>{w=ue,A=i.now(),p||(p=i.schedule(Q,u),d.add(p))},()=>{V(),d.complete()},void 0,()=>{w=p=null}))})}(0))}(u);return{task:u,then:u.then.bind(u),catch:u.catch.bind(u),pause:u.pause.bind(u),cancel:u.cancel.bind(u),resume:u.resume.bind(u),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,ft.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Od(u){return{getDownloadURL:()=>(0,Me.of)(void 0).pipe(De.fc,(0,Ge.w)(()=>u.getDownloadURL()),De.iC),getMetadata:()=>(0,Me.of)(void 0).pipe(De.fc,(0,Ge.w)(()=>u.getMetadata()),De.iC),delete:()=>(0,Ol.D)(u.delete()),child:i=>Od(u.child(i)),updateMetadata:i=>(0,Ol.D)(u.updateMetadata(i)),put:(i,o)=>Pd(u.put(i,o)),putString:(i,o,d)=>Pd(u.putString(i,o,d)),list:i=>(0,Ol.D)(u.list(i)),listAll:()=>(0,Ol.D)(u.listAll())}}!function fg(u){const i={TaskState:sa,TaskEvent:Em,StringFormat:Bo,Storage:Om,Reference:Sa};u.INTERNAL.registerComponent(new Ne.wA("storage-compat",Nm,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),u.registerVersion("@firebase/storage-compat","0.3.2")}(We.Z);const ov=new g.OlP("angularfire2.storageBucket"),av=new g.OlP("angularfire2.storage.maxUploadRetryTime"),I_=new g.OlP("angularfire2.storage.maxOperationRetryTime"),C_=new g.OlP("angularfire2.storage.use-emulator");let Uc=(()=>{class u{constructor(o,d,p,w,A,V,Q,ue,Je,lt){const Et=(0,ve.on)(o,A,d);this.storage=(0,ve.cc)(`${Et.name}.storage.${p}`,"AngularFireStorage",Et.name,()=>{const Vt=A.runOutsideAngular(()=>Et.storage(p||void 0)),Gt=Je;return Gt&&Vt.useEmulator(...Gt),Q&&Vt.setMaxUploadRetryTime(Q),ue&&Vt.setMaxOperationRetryTime(ue),Vt},[Q,ue])}ref(o){return Od(this.storage.ref(o))}refFromURL(o){return Od(this.storage.refFromURL(o))}upload(o,d,p){return Od(this.storage.ref(o)).put(d,p)}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(ve.Dh),g.LFG(ve.xv,8),g.LFG(ov,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(De.HU),g.LFG(av,8),g.LFG(I_,8),g.LFG(C_,8),g.LFG(al.nm,8))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),uv=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({}),u})(),km=(()=>{class u{constructor(){uu.Z.registerVersion("angularfire",De.q4.full,"gcs-compat")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[Uc],imports:[uv]}),u})();class Fm{}class Lm{}const Ul="*";function kh(u,i=null){return{type:2,steps:u,options:i}}function Yf(u){return{type:6,styles:u,offset:null}}function fv(u){Promise.resolve().then(u)}class Nd{constructor(i=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const o="start"==i?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class Vm{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let o=0,d=0,p=0;const w=this.players.length;0==w?fv(()=>this._onFinish()):this.players.forEach(A=>{A.onDone(()=>{++o==w&&this._onFinish()}),A.onDestroy(()=>{++d==w&&this._onDestroy()}),A.onStart(()=>{++p==w&&this._onStart()})}),this.totalTime=this.players.reduce((A,V)=>Math.max(A,V.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const o=i*this.totalTime;this.players.forEach(d=>{const p=d.totalTime?Math.min(1,o/d.totalTime):1;d.setPosition(p)})}getPosition(){const i=this.players.reduce((o,d)=>null===o||d.totalTime>o.totalTime?d:o,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const o="start"==i?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}const Um="!";function jm(u){return new g.vHH(3e3,!1)}function Ld(u){switch(u.length){case 0:return new Nd;case 1:return u[0];default:return new Vm(u)}}function R_(u,i,o,d,p=new Map,w=new Map){const A=[],V=[];let Q=-1,ue=null;if(d.forEach(Je=>{const lt=Je.get("offset"),Et=lt==Q,Vt=Et&&ue||new Map;Je.forEach((Gt,hn)=>{let On=hn,$r=Gt;if("offset"!==hn)switch(On=i.normalizePropertyName(On,A),$r){case Um:$r=p.get(hn);break;case Ul:$r=w.get(hn);break;default:$r=i.normalizeStyleValue(hn,On,$r,A)}Vt.set(On,$r)}),Et||V.push(Vt),ue=Vt,Q=lt}),A.length)throw function yv(u){return new g.vHH(3502,!1)}();return V}function Gm(u,i,o,d){switch(i){case"start":u.onStart(()=>d(o&&Wm(o,"start",u)));break;case"done":u.onDone(()=>d(o&&Wm(o,"done",u)));break;case"destroy":u.onDestroy(()=>d(o&&Wm(o,"destroy",u)))}}function Wm(u,i,o){const d=o.totalTime,w=Bd(u.element,u.triggerName,u.fromState,u.toState,i||u.phaseName,null==d?u.totalTime:d,!!o.disabled),A=u._data;return null!=A&&(w._data=A),w}function Bd(u,i,o,d,p="",w=0,A){return{element:u,triggerName:i,fromState:o,toState:d,phaseName:p,totalTime:w,disabled:!!A}}function Ka(u,i,o){let d=u.get(i);return d||u.set(i,d=o),d}function Qu(u){const i=u.indexOf(":");return[u.substring(1,i),u.slice(i+1)]}const _u=(()=>typeof document>"u"?null:document.documentElement)();function Vh(u){const i=u.parentNode||u.host||null;return i===_u?null:i}let qa=null,Km=!1;function Ju(u,i){for(;i;){if(i===u)return!0;i=Vh(i)}return!1}function Cv(u,i,o){if(o)return Array.from(u.querySelectorAll(i));const d=u.querySelector(i);return d?[d]:[]}let Jf=(()=>{class u{validateStyleProperty(o){return function Xf(u){qa||(qa=function Iv(){return typeof document<"u"?document.body:null}()||{},Km=!!qa.style&&"WebkitAppearance"in qa.style);let i=!0;return qa.style&&!function Xu(u){return"ebkit"==u.substring(1,6)}(u)&&(i=u in qa.style,!i&&Km&&(i="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in qa.style)),i}(o)}matchesElement(o,d){return!1}containsElement(o,d){return Ju(o,d)}getParentElement(o){return Vh(o)}query(o,d,p){return Cv(o,d,p)}computeStyle(o,d,p){return p||""}animate(o,d,p,w,A,V=[],Q){return new Nd(p,w)}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})(),$d=(()=>{class u{}return u.NOOP=new Jf,u})();const mg=1e3,bv="ng-enter",vg="ng-leave",jh="ng-trigger",Gc=".ng-trigger",qm="ng-animating",Eu=".ng-animating";function wu(u){if("number"==typeof u)return u;const i=u.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:_g(parseFloat(i[1]),i[2])}function _g(u,i){return"s"===i?u*mg:u}function Ud(u,i,o){return u.hasOwnProperty("duration")?u:function Hh(u,i,o){let p,w=0,A="";if("string"==typeof u){const V=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===V)return i.push(jm()),{duration:0,delay:0,easing:""};p=_g(parseFloat(V[1]),V[2]);const Q=V[3];null!=Q&&(w=_g(parseFloat(Q),V[4]));const ue=V[5];ue&&(A=ue)}else p=u;if(!o){let V=!1,Q=i.length;p<0&&(i.push(function S_(){return new g.vHH(3100,!1)}()),V=!0),w<0&&(i.push(function Qf(){return new g.vHH(3101,!1)}()),V=!0),V&&i.splice(Q,0,jm())}return{duration:p,delay:w,easing:A}}(u,i,o)}function zh(u,i={}){return Object.keys(u).forEach(o=>{i[o]=u[o]}),i}function ep(u){const i=new Map;return Object.keys(u).forEach(o=>{i.set(o,u[o])}),i}function Ya(u,i=new Map,o){if(o)for(let[d,p]of o)i.set(d,p);for(let[d,p]of u)i.set(d,p);return i}function cl(u,i,o){i.forEach((d,p)=>{const w=Dv(p);o&&!o.has(p)&&o.set(p,u.style[w]),u.style[w]=d})}function dl(u,i){i.forEach((o,d)=>{const p=Dv(d);u.style[p]=""})}function Gh(u){return Array.isArray(u)?1==u.length?u[0]:kh(u):u}const Iu=new RegExp("{{\\s*(.+?)\\s*}}","g");function wg(u){let i=[];if("string"==typeof u){let o;for(;o=Iu.exec(u);)i.push(o[1]);Iu.lastIndex=0}return i}function Cu(u,i,o){const d=u.toString(),p=d.replace(Iu,(w,A)=>{let V=i[A];return null==V&&(o.push(function pv(u){return new g.vHH(3003,!1)}()),V=""),V.toString()});return p==d?u:p}function Ig(u){const i=[];let o=u.next();for(;!o.done;)i.push(o.value),o=u.next();return i}const Kh=/-+([a-z0-9])/g;function Dv(u){return u.replace(Kh,(...i)=>i[1].toUpperCase())}function Ko(u,i,o){switch(i.type){case 7:return u.visitTrigger(i,o);case 0:return u.visitState(i,o);case 1:return u.visitTransition(i,o);case 2:return u.visitSequence(i,o);case 3:return u.visitGroup(i,o);case 4:return u.visitAnimate(i,o);case 5:return u.visitKeyframes(i,o);case 6:return u.visitStyle(i,o);case 8:return u.visitReference(i,o);case 9:return u.visitAnimateChild(i,o);case 10:return u.visitAnimateRef(i,o);case 11:return u.visitQuery(i,o);case 12:return u.visitStagger(i,o);default:throw function pg(u){return new g.vHH(3004,!1)}()}}function Sv(u,i){return window.getComputedStyle(u)[i]}const bg="*";function Qm(u,i){const o=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(d=>function Xm(u,i,o){if(":"==u[0]){const Q=function Jm(u,i){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return i.push(function Hc(u){return new g.vHH(3016,!1)}()),"* => *"}}(u,o);if("function"==typeof Q)return void i.push(Q);u=Q}const d=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function Bh(u){return new g.vHH(3015,!1)}()),i;const p=d[1],w=d[2],A=d[3];i.push(Dg(p,A));"<"==w[0]&&!(p==bg&&A==bg)&&i.push(Dg(A,p))}(d,o,i)):o.push(u),o}const qh=new Set(["true","1"]),rp=new Set(["false","0"]);function Dg(u,i){const o=qh.has(u)||rp.has(u),d=qh.has(i)||rp.has(i);return(p,w)=>{let A=u==bg||u==p,V=i==bg||i==w;return!A&&o&&"boolean"==typeof p&&(A=p?qh.has(u):rp.has(u)),!V&&d&&"boolean"==typeof w&&(V=w?qh.has(i):rp.has(i)),A&&V}}const sp=new RegExp("s*:selfs*,?","g");function op(u,i,o,d){return new N_(u).build(i,o,d)}class N_{constructor(i){this._driver=i}build(i,o,d){const p=new F_(o);return this._resetContextStyleTimingState(p),Ko(this,Gh(i),p)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,o){let d=o.queryCount=0,p=o.depCount=0;const w=[],A=[];return"@"==i.name.charAt(0)&&o.errors.push(function Ga(){return new g.vHH(3006,!1)}()),i.definitions.forEach(V=>{if(this._resetContextStyleTimingState(o),0==V.type){const Q=V,ue=Q.name;ue.toString().split(/\s*,\s*/).forEach(Je=>{Q.name=Je,w.push(this.visitState(Q,o))}),Q.name=ue}else if(1==V.type){const Q=this.visitTransition(V,o);d+=Q.queryCount,p+=Q.depCount,A.push(Q)}else o.errors.push(function mi(){return new g.vHH(3007,!1)}())}),{type:7,name:i.name,states:w,transitions:A,queryCount:d,depCount:p,options:null}}visitState(i,o){const d=this.visitStyle(i.styles,o),p=i.options&&i.options.params||null;if(d.containsDynamicStyles){const w=new Set,A=p||{};d.styles.forEach(V=>{V instanceof Map&&V.forEach(Q=>{wg(Q).forEach(ue=>{A.hasOwnProperty(ue)||w.add(ue)})})}),w.size&&(Ig(w.values()),o.errors.push(function Wo(u,i){return new g.vHH(3008,!1)}()))}return{type:0,name:i.name,style:d,options:p?{params:p}:null}}visitTransition(i,o){o.queryCount=0,o.depCount=0;const d=Ko(this,Gh(i.animation),o);return{type:1,matchers:Qm(i.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:hl(i.options)}}visitSequence(i,o){return{type:2,steps:i.steps.map(d=>Ko(this,d,o)),options:hl(i.options)}}visitGroup(i,o){const d=o.currentTime;let p=0;const w=i.steps.map(A=>{o.currentTime=d;const V=Ko(this,A,o);return p=Math.max(p,o.currentTime),V});return o.currentTime=p,{type:3,steps:w,options:hl(i.options)}}visitAnimate(i,o){const d=function Kc(u,i){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return fl(Ud(u,i).duration,0,"");const o=u;if(o.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=fl(0,0,"");return w.dynamic=!0,w.strValue=o,w}const p=Ud(o,i);return fl(p.duration,p.delay,p.easing)}(i.timings,o.errors);o.currentAnimateTimings=d;let p,w=i.styles?i.styles:Yf({});if(5==w.type)p=this.visitKeyframes(w,o);else{let A=i.styles,V=!1;if(!A){V=!0;const ue={};d.easing&&(ue.easing=d.easing),A=Yf(ue)}o.currentTime+=d.duration+d.delay;const Q=this.visitStyle(A,o);Q.isEmptyStep=V,p=Q}return o.currentAnimateTimings=null,{type:4,timings:d,style:p,options:null}}visitStyle(i,o){const d=this._makeStyleAst(i,o);return this._validateStyleAst(d,o),d}_makeStyleAst(i,o){const d=[],p=Array.isArray(i.styles)?i.styles:[i.styles];for(let V of p)"string"==typeof V?V===Ul?d.push(V):o.errors.push(new g.vHH(3002,!1)):d.push(ep(V));let w=!1,A=null;return d.forEach(V=>{if(V instanceof Map&&(V.has("easing")&&(A=V.get("easing"),V.delete("easing")),!w))for(let Q of V.values())if(Q.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:d,easing:A,offset:i.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(i,o){const d=o.currentAnimateTimings;let p=o.currentTime,w=o.currentTime;d&&w>0&&(w-=d.duration+d.delay),i.styles.forEach(A=>{"string"!=typeof A&&A.forEach((V,Q)=>{const ue=o.collectedStyles.get(o.currentQuerySelector),Je=ue.get(Q);let lt=!0;Je&&(w!=p&&w>=Je.startTime&&p<=Je.endTime&&(o.errors.push(function Wa(u,i,o,d,p){return new g.vHH(3010,!1)}()),lt=!1),w=Je.startTime),lt&&ue.set(Q,{startTime:w,endTime:p}),o.options&&function Wh(u,i,o){const d=i.params||{},p=wg(u);p.length&&p.forEach(w=>{d.hasOwnProperty(w)||o.push(function Hm(u){return new g.vHH(3001,!1)}())})}(V,o.options,o.errors)})})}visitKeyframes(i,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Fs(){return new g.vHH(3011,!1)}()),d;let w=0;const A=[];let V=!1,Q=!1,ue=0;const Je=i.steps.map($r=>{const ui=this._makeStyleAst($r,o);let Di=null!=ui.offset?ui.offset:function Wc(u){if("string"==typeof u)return null;let i=null;if(Array.isArray(u))u.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;i=parseFloat(d.get("offset")),d.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const o=u;i=parseFloat(o.get("offset")),o.delete("offset")}return i}(ui.styles),Ri=0;return null!=Di&&(w++,Ri=ui.offset=Di),Q=Q||Ri<0||Ri>1,V=V||Ri<ue,ue=Ri,A.push(Ri),ui});Q&&o.errors.push(function Ys(){return new g.vHH(3012,!1)}()),V&&o.errors.push(function ma(){return new g.vHH(3200,!1)}());const lt=i.steps.length;let Et=0;w>0&&w<lt?o.errors.push(function Fh(){return new g.vHH(3202,!1)}()):0==w&&(Et=1/(lt-1));const Vt=lt-1,Gt=o.currentTime,hn=o.currentAnimateTimings,On=hn.duration;return Je.forEach(($r,ui)=>{const Di=Et>0?ui==Vt?1:Et*ui:A[ui],Ri=Di*On;o.currentTime=Gt+hn.delay+Ri,hn.duration=Ri,this._validateStyleAst($r,o),$r.offset=Di,d.styles.push($r)}),d}visitReference(i,o){return{type:8,animation:Ko(this,Gh(i.animation),o),options:hl(i.options)}}visitAnimateChild(i,o){return o.depCount++,{type:9,options:hl(i.options)}}visitAnimateRef(i,o){return{type:10,animation:this.visitReference(i.animation,o),options:hl(i.options)}}visitQuery(i,o){const d=o.currentQuerySelector,p=i.options||{};o.queryCount++,o.currentQuery=i;const[w,A]=function Mv(u){const i=!!u.split(/\s*,\s*/).find(o=>":self"==o);return i&&(u=u.replace(sp,"")),u=u.replace(/@\*/g,Gc).replace(/@\w+/g,o=>Gc+"-"+o.slice(1)).replace(/:animating/g,Eu),[u,i]}(i.selector);o.currentQuerySelector=d.length?d+" "+w:w,Ka(o.collectedStyles,o.currentQuerySelector,new Map);const V=Ko(this,Gh(i.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:w,limit:p.limit||0,optional:!!p.optional,includeSelf:A,animation:V,originalSelector:i.selector,options:hl(i.options)}}visitStagger(i,o){o.currentQuery||o.errors.push(function Lh(){return new g.vHH(3013,!1)}());const d="full"===i.timings?{duration:0,delay:0,easing:"full"}:Ud(i.timings,o.errors,!0);return{type:12,animation:Ko(this,Gh(i.animation),o),timings:d,options:null}}}class F_{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hl(u){return u?(u=zh(u)).params&&(u.params=function k_(u){return u?zh(u):null}(u.params)):u={},u}function fl(u,i,o){return{duration:u,delay:i,easing:o}}function bu(u,i,o,d,p,w,A=null,V=!1){return{type:1,element:u,keyframes:i,preStyleProps:o,postStyleProps:d,duration:p,delay:w,totalTime:p+w,easing:A,subTimeline:V}}class Sg{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,o){let d=this._map.get(i);d||this._map.set(i,d=[]),d.push(...o)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const jd=new RegExp(":enter","g"),B_=new RegExp(":leave","g");function ap(u,i,o,d,p,w=new Map,A=new Map,V,Q,ue=[]){return(new D0).buildKeyframes(u,i,o,d,p,w,A,V,Q,ue)}class D0{buildKeyframes(i,o,d,p,w,A,V,Q,ue,Je=[]){ue=ue||new Sg;const lt=new ny(i,o,ue,p,w,Je,[]);lt.options=Q;const Et=Q.delay?wu(Q.delay):0;lt.currentTimeline.delayNextStep(Et),lt.currentTimeline.setStyles([A],null,lt.errors,Q),Ko(this,d,lt);const Vt=lt.timelines.filter(Gt=>Gt.containsAnimation());if(Vt.length&&V.size){let Gt;for(let hn=Vt.length-1;hn>=0;hn--){const On=Vt[hn];if(On.element===o){Gt=On;break}}Gt&&!Gt.allowOnlyTimelineStyles()&&Gt.setStyles([V],null,lt.errors,Q)}return Vt.length?Vt.map(Gt=>Gt.buildKeyframes()):[bu(o,[],[],[],0,Et,"",!1)]}visitTrigger(i,o){}visitState(i,o){}visitTransition(i,o){}visitAnimateChild(i,o){const d=o.subInstructions.get(o.element);if(d){const p=o.createSubContext(i.options),w=o.currentTimeline.currentTime,A=this._visitSubInstructions(d,p,p.options);w!=A&&o.transformIntoNewTimeline(A)}o.previousNode=i}visitAnimateRef(i,o){const d=o.createSubContext(i.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],o,d),this.visitReference(i.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=i}_applyAnimationRefDelays(i,o,d){for(const w of i){const A=null==w?void 0:w.delay;if(A){var p;const V="number"==typeof A?A:wu(Cu(A,null!==(p=null==w?void 0:w.params)&&void 0!==p?p:{},o.errors));d.delayNextStep(V)}}}_visitSubInstructions(i,o,d){let w=o.currentTimeline.currentTime;const A=null!=d.duration?wu(d.duration):null,V=null!=d.delay?wu(d.delay):null;return 0!==A&&i.forEach(Q=>{const ue=o.appendInstructionToTimeline(Q,A,V);w=Math.max(w,ue.duration+ue.delay)}),w}visitReference(i,o){o.updateOptions(i.options,!0),Ko(this,i.animation,o),o.previousNode=i}visitSequence(i,o){const d=o.subContextCount;let p=o;const w=i.options;if(w&&(w.params||w.delay)&&(p=o.createSubContext(w),p.transformIntoNewTimeline(),null!=w.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=ty);const A=wu(w.delay);p.delayNextStep(A)}i.steps.length&&(i.steps.forEach(A=>Ko(this,A,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>d&&p.transformIntoNewTimeline()),o.previousNode=i}visitGroup(i,o){const d=[];let p=o.currentTimeline.currentTime;const w=i.options&&i.options.delay?wu(i.options.delay):0;i.steps.forEach(A=>{const V=o.createSubContext(i.options);w&&V.delayNextStep(w),Ko(this,A,V),p=Math.max(p,V.currentTimeline.currentTime),d.push(V.currentTimeline)}),d.forEach(A=>o.currentTimeline.mergeTimelineCollectedStyles(A)),o.transformIntoNewTimeline(p),o.previousNode=i}_visitTiming(i,o){if(i.dynamic){const d=i.strValue;return Ud(o.params?Cu(d,o.params,o.errors):d,o.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,o){const d=o.currentAnimateTimings=this._visitTiming(i.timings,o),p=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),p.snapshotCurrentStyles());const w=i.style;5==w.type?this.visitKeyframes(w,o):(o.incrementTime(d.duration),this.visitStyle(w,o),p.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=i}visitStyle(i,o){const d=o.currentTimeline,p=o.currentAnimateTimings;!p&&d.hasCurrentStyleProperties()&&d.forwardFrame();const w=p&&p.easing||i.easing;i.isEmptyStep?d.applyEmptyStep(w):d.setStyles(i.styles,w,o.errors,o.options),o.previousNode=i}visitKeyframes(i,o){const d=o.currentAnimateTimings,p=o.currentTimeline.duration,w=d.duration,V=o.createSubContext().currentTimeline;V.easing=d.easing,i.styles.forEach(Q=>{V.forwardTime((Q.offset||0)*w),V.setStyles(Q.styles,Q.easing,o.errors,o.options),V.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(V),o.transformIntoNewTimeline(p+w),o.previousNode=i}visitQuery(i,o){const d=o.currentTimeline.currentTime,p=i.options||{},w=p.delay?wu(p.delay):0;w&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ty);let A=d;const V=o.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!p.optional,o.errors);o.currentQueryTotal=V.length;let Q=null;V.forEach((ue,Je)=>{o.currentQueryIndex=Je;const lt=o.createSubContext(i.options,ue);w&&lt.delayNextStep(w),ue===o.element&&(Q=lt.currentTimeline),Ko(this,i.animation,lt),lt.currentTimeline.applyStylesToKeyframe(),A=Math.max(A,lt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(A),Q&&(o.currentTimeline.mergeTimelineCollectedStyles(Q),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=i}visitStagger(i,o){const d=o.parentContext,p=o.currentTimeline,w=i.timings,A=Math.abs(w.duration),V=A*(o.currentQueryTotal-1);let Q=A*o.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":Q=V-Q;break;case"full":Q=d.currentStaggerTime}const Je=o.currentTimeline;Q&&Je.delayNextStep(Q);const lt=Je.currentTime;Ko(this,i.animation,o),o.previousNode=i,d.currentStaggerTime=p.currentTime-lt+(p.startTime-d.currentTimeline.startTime)}}const ty={};class ny{constructor(i,o,d,p,w,A,V,Q){this._driver=i,this.element=o,this.subInstructions=d,this._enterClassName=p,this._leaveClassName=w,this.errors=A,this.timelines=V,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ty,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Q||new Tg(this._driver,o,0),V.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,o){if(!i)return;const d=i;let p=this.options;null!=d.duration&&(p.duration=wu(d.duration)),null!=d.delay&&(p.delay=wu(d.delay));const w=d.params;if(w){let A=p.params;A||(A=this.options.params={}),Object.keys(w).forEach(V=>{(!o||!A.hasOwnProperty(V))&&(A[V]=Cu(w[V],A,this.errors))})}}_copyOptions(){const i={};if(this.options){const o=this.options.params;if(o){const d=i.params={};Object.keys(o).forEach(p=>{d[p]=o[p]})}}return i}createSubContext(i=null,o,d){const p=o||this.element,w=new ny(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,d||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(i),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(i){return this.previousNode=ty,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,o,d){const p={duration:null!=o?o:i.duration,delay:this.currentTimeline.currentTime+(null!=d?d:0)+i.delay,easing:""},w=new Rv(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,p,i.stretchStartingKeyframe);return this.timelines.push(w),p}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,o,d,p,w,A){let V=[];if(p&&V.push(this.element),i.length>0){i=(i=i.replace(jd,"."+this._enterClassName)).replace(B_,"."+this._leaveClassName);let ue=this._driver.query(this.element,i,1!=d);0!==d&&(ue=d<0?ue.slice(ue.length+d,ue.length):ue.slice(0,d)),V.push(...ue)}return!w&&0==V.length&&A.push(function Fd(u){return new g.vHH(3014,!1)}()),V}}class Tg{constructor(i,o,d,p){this._driver=i,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=p,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+i),o&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,o){return this.applyStylesToKeyframe(),new Tg(this._driver,i,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,o){this._localTimelineStyles.set(i,o),this._globalTimelineStyles.set(i,o),this._styleSummary.set(i,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||Ul),this._currentKeyframe.set(o,Ul);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,o,d,p){o&&this._previousKeyframe.set("easing",o);const w=p&&p.params||{},A=function To(u,i){const o=new Map;let d;return u.forEach(p=>{if("*"===p){d=d||i.keys();for(let w of d)o.set(w,Ul)}else Ya(p,o)}),o}(i,this._globalTimelineStyles);for(let[Q,ue]of A){const Je=Cu(ue,w,d);var V;this._pendingStyles.set(Q,Je),this._localTimelineStyles.has(Q)||this._backFill.set(Q,null!==(V=this._globalTimelineStyles.get(Q))&&void 0!==V?V:Ul),this._updateStyle(Q,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,o)=>{this._currentKeyframe.set(o,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,i)}))}snapshotCurrentStyles(){for(let[i,o]of this._localTimelineStyles)this._pendingStyles.set(i,o),this._updateStyle(i,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let o in this._currentKeyframe)i.push(o);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((o,d)=>{const p=this._styleSummary.get(d);(!p||o.time>p.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach((V,Q)=>{const ue=Ya(V,new Map,this._backFill);ue.forEach((Je,lt)=>{Je===Um?i.add(lt):Je===Ul&&o.add(lt)}),d||ue.set("offset",Q/this.duration),p.push(ue)});const w=i.size?Ig(i.values()):[],A=o.size?Ig(o.values()):[];if(d){const V=p[0],Q=new Map(V);V.set("offset",0),Q.set("offset",1),p=[V,Q]}return bu(this.element,p,w,A,this.duration,this.startTime,this.easing,!1)}}class Rv extends Tg{constructor(i,o,d,p,w,A,V=!1){super(i,o,A.delay),this.keyframes=d,this.preStyleProps=p,this.postStyleProps=w,this._stretchStartingKeyframe=V,this.timings={duration:A.duration,delay:A.delay,easing:A.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:o,duration:d,easing:p}=this.timings;if(this._stretchStartingKeyframe&&o){const w=[],A=d+o,V=o/A,Q=Ya(i[0]);Q.set("offset",0),w.push(Q);const ue=Ya(i[0]);ue.set("offset",xv(V)),w.push(ue);const Je=i.length-1;for(let lt=1;lt<=Je;lt++){let Et=Ya(i[lt]);const Vt=Et.get("offset");Et.set("offset",xv((o+Vt*d)/A)),w.push(Et)}d=A,o=0,p="",i=w}return bu(this.element,i,this.preStyleProps,this.postStyleProps,d,o,p,!0)}}function xv(u,i=3){const o=Math.pow(10,i-1);return Math.round(u*o)/o}class lp{}const Pv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $_ extends lp{normalizePropertyName(i,o){return Dv(i)}normalizeStyleValue(i,o,d,p){let w="";const A=d.toString().trim();if(Pv.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)w="px";else{const V=d.match(/^[+-]?[\d\.]+([a-z]*)$/);V&&0==V[1].length&&p.push(function gv(u,i){return new g.vHH(3005,!1)}())}return A+w}}function ry(u,i,o,d,p,w,A,V,Q,ue,Je,lt,Et){return{type:0,element:u,triggerName:i,isRemovalTransition:p,fromState:o,fromStyles:w,toState:d,toStyles:A,timelines:V,queriedElements:Q,preStyleProps:ue,postStyleProps:Je,totalTime:lt,errors:Et}}const Ag={};class Hd{constructor(i,o,d){this._triggerName=i,this.ast=o,this._stateStyles=d}match(i,o,d,p){return function S0(u,i,o,d,p){return u.some(w=>w(i,o,d,p))}(this.ast.matchers,i,o,d,p)}buildStyles(i,o,d){let p=this._stateStyles.get("*");return void 0!==i&&(p=this._stateStyles.get(null==i?void 0:i.toString())||p),p?p.buildStyles(o,d):new Map}build(i,o,d,p,w,A,V,Q,ue,Je){var lt;const Et=[],Vt=this.ast.options&&this.ast.options.params||Ag,hn=this.buildStyles(d,V&&V.params||Ag,Et),On=Q&&Q.params||Ag,$r=this.buildStyles(p,On,Et),ui=new Set,Di=new Map,Ri=new Map,pl="void"===p,gl={params:V_(On,Vt),delay:null===(lt=this.ast.options)||void 0===lt?void 0:lt.delay},oa=Je?[]:ap(i,o,this.ast.animation,w,A,hn,$r,gl,ue,Et);let aa=0;if(oa.forEach(tc=>{aa=Math.max(tc.duration+tc.delay,aa)}),Et.length)return ry(o,this._triggerName,d,p,pl,hn,$r,[],[],Di,Ri,aa,Et);oa.forEach(tc=>{const ly=tc.element,Gd=Ka(Di,ly,new Set);tc.preStyleProps.forEach(Xh=>Gd.add(Xh));const uy=Ka(Ri,ly,new Set);tc.postStyleProps.forEach(Xh=>uy.add(Xh)),ly!==o&&ui.add(ly)});const Qh=Ig(ui.values());return ry(o,this._triggerName,d,p,pl,hn,$r,oa,Qh,Di,Ri,aa)}}function V_(u,i){const o=zh(i);for(const d in u)u.hasOwnProperty(d)&&null!=u[d]&&(o[d]=u[d]);return o}class T0{constructor(i,o,d){this.styles=i,this.defaultParams=o,this.normalizer=d}buildStyles(i,o){const d=new Map,p=zh(this.defaultParams);return Object.keys(i).forEach(w=>{const A=i[w];null!==A&&(p[w]=A)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((A,V)=>{A&&(A=Cu(A,p,o));const Q=this.normalizer.normalizePropertyName(V,o);A=this.normalizer.normalizeStyleValue(V,Q,A,o),d.set(V,A)})}),d}}class A0{constructor(i,o,d){this.name=i,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(p=>{this.states.set(p.name,new T0(p.style,p.options&&p.options.params||{},d))}),iy(this.states,"true","1"),iy(this.states,"false","0"),o.transitions.forEach(p=>{this.transitionFactories.push(new Hd(i,p,this.states))}),this.fallbackTransition=function Nv(u,i,o){return new Hd(u,{type:1,animation:{type:2,steps:[],options:null},matchers:[(A,V)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,o,d,p){return this.transitionFactories.find(A=>A.match(i,o,d,p))||null}matchStyles(i,o,d){return this.fallbackTransition.buildStyles(i,o,d)}}function iy(u,i,o){u.has(i)?u.has(o)||u.set(o,u.get(i)):u.has(o)&&u.set(i,u.get(o))}const Su=new Sg;class kv{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,o){const d=[],w=op(this._driver,o,d,[]);if(d.length)throw function As(u){return new g.vHH(3503,!1)}();this._animations.set(i,w)}_buildPlayer(i,o,d){const p=i.element,w=R_(0,this._normalizer,0,i.keyframes,o,d);return this._driver.animate(p,w,i.duration,i.delay,i.easing,[],!0)}create(i,o,d={}){const p=[],w=this._animations.get(i);let A;const V=new Map;if(w?(A=ap(this._driver,o,w,bv,vg,new Map,new Map,d,Su,p),A.forEach(Je=>{const lt=Ka(V,Je.element,new Map);Je.postStyleProps.forEach(Et=>lt.set(Et,null))})):(p.push(function T_(){return new g.vHH(3300,!1)}()),A=[]),p.length)throw function vv(u){return new g.vHH(3504,!1)}();V.forEach((Je,lt)=>{Je.forEach((Et,Vt)=>{Je.set(Vt,this._driver.computeStyle(lt,Vt,Ul))})});const ue=Ld(A.map(Je=>{const lt=V.get(Je.element);return this._buildPlayer(Je,new Map,lt)}));return this._playersById.set(i,ue),ue.onDestroy(()=>this.destroy(i)),this.players.push(ue),ue}destroy(i){const o=this._getPlayer(i);o.destroy(),this._playersById.delete(i);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(i){const o=this._playersById.get(i);if(!o)throw function Zs(u){return new g.vHH(3301,!1)}();return o}listen(i,o,d,p){const w=Bd(o,"","","");return Gm(this._getPlayer(i),d,w,p),()=>{}}command(i,o,d,p){if("register"==d)return void this.register(i,p[0]);if("create"==d)return void this.create(i,o,p[0]||{});const w=this._getPlayer(i);switch(d){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(i)}}}const ec="ng-animate-queued",Za="ng-animate-disabled",U_=[],Bv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class Zh{get params(){return this.options.params}constructor(i,o=""){this.namespaceId=o;const d=i&&i.hasOwnProperty("value");if(this.value=function E(u){return null!=u?u:null}(d?i.value:i),d){const w=zh(i);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const o=i.params;if(o){const d=this.options.params;Object.keys(o).forEach(p=>{null==d[p]&&(d[p]=o[p])})}}}const s="void",e=new Zh(s);class t{constructor(i,o,d){this.id=i,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ot(o,this._hostClassName)}listen(i,o,d,p){if(!this._triggers.has(o))throw function zm(u,i){return new g.vHH(3302,!1)}();if(null==d||0==d.length)throw function _v(u){return new g.vHH(3303,!1)}();if(!function q(u){return"start"==u||"done"==u}(d))throw function Ev(u,i){return new g.vHH(3400,!1)}();const w=Ka(this._elementListeners,i,[]),A={name:o,phase:d,callback:p};w.push(A);const V=Ka(this._engine.statesByElement,i,new Map);return V.has(o)||(Ot(i,jh),Ot(i,jh+"-"+o),V.set(o,e)),()=>{this._engine.afterFlush(()=>{const Q=w.indexOf(A);Q>=0&&w.splice(Q,1),this._triggers.has(o)||V.delete(o)})}}register(i,o){return!this._triggers.has(i)&&(this._triggers.set(i,o),!0)}_getTrigger(i){const o=this._triggers.get(i);if(!o)throw function gg(u){return new g.vHH(3401,!1)}();return o}trigger(i,o,d,p=!0){const w=this._getTrigger(o),A=new h(this.id,o,i);let V=this._engine.statesByElement.get(i);V||(Ot(i,jh),Ot(i,jh+"-"+o),this._engine.statesByElement.set(i,V=new Map));let Q=V.get(o);const ue=new Zh(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&Q&&ue.absorbOptions(Q.options),V.set(o,ue),Q||(Q=e),ue.value!==s&&Q.value===ue.value){if(!function ai(u,i){const o=Object.keys(u),d=Object.keys(i);if(o.length!=d.length)return!1;for(let p=0;p<o.length;p++){const w=o[p];if(!i.hasOwnProperty(w)||u[w]!==i[w])return!1}return!0}(Q.params,ue.params)){const hn=[],On=w.matchStyles(Q.value,Q.params,hn),$r=w.matchStyles(ue.value,ue.params,hn);hn.length?this._engine.reportError(hn):this._engine.afterFlush(()=>{dl(i,On),cl(i,$r)})}return}const Et=Ka(this._engine.playersByElement,i,[]);Et.forEach(hn=>{hn.namespaceId==this.id&&hn.triggerName==o&&hn.queued&&hn.destroy()});let Vt=w.matchTransition(Q.value,ue.value,i,ue.params),Gt=!1;if(!Vt){if(!p)return;Vt=w.fallbackTransition,Gt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:Vt,fromState:Q,toState:ue,player:A,isFallbackTransition:Gt}),Gt||(Ot(i,ec),A.onStart(()=>{Xt(i,ec)})),A.onDone(()=>{let hn=this.players.indexOf(A);hn>=0&&this.players.splice(hn,1);const On=this._engine.playersByElement.get(i);if(On){let $r=On.indexOf(A);$r>=0&&On.splice($r,1)}}),this.players.push(A),Et.push(A),A}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(o=>o.delete(i)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(p=>p.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const o=this._engine.playersByElement.get(i);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,o){const d=this._engine.driver.query(i,Gc,!0);d.forEach(p=>{if(p[Hl])return;const w=this._engine.fetchNamespacesByElement(p);w.size?w.forEach(A=>A.triggerLeaveAnimation(p,o,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(i,o,d,p){const w=this._engine.statesByElement.get(i),A=new Map;if(w){const V=[];if(w.forEach((Q,ue)=>{if(A.set(ue,Q.value),this._triggers.has(ue)){const Je=this.trigger(i,ue,s,p);Je&&V.push(Je)}}),V.length)return this._engine.markElementAsRemoved(this.id,i,!0,o,A),d&&Ld(V).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const o=this._elementListeners.get(i),d=this._engine.statesByElement.get(i);if(o&&d){const p=new Set;o.forEach(w=>{const A=w.name;if(p.has(A))return;p.add(A);const Q=this._triggers.get(A).fallbackTransition,ue=d.get(A)||e,Je=new Zh(s),lt=new h(this.id,A,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:A,transition:Q,fromState:ue,toState:Je,player:lt,isFallbackTransition:!0})})}}removeNode(i,o){const d=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,o),this.triggerLeaveAnimation(i,o,!0))return;let p=!1;if(d.totalAnimations){const w=d.players.length?d.playersByQueriedElement.get(i):[];if(w&&w.length)p=!0;else{let A=i;for(;A=A.parentNode;)if(d.statesByElement.get(A)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(i),p)d.markElementAsRemoved(this.id,i,!1,o);else{const w=i[Hl];(!w||w===Bv)&&(d.afterFlush(()=>this.clearElementCache(i)),d.destroyInnerAnimations(i),d._onRemovalComplete(i,o))}}insertNode(i,o){Ot(i,this._hostClassName)}drainQueuedTransitions(i){const o=[];return this._queue.forEach(d=>{const p=d.player;if(p.destroyed)return;const w=d.element,A=this._elementListeners.get(w);A&&A.forEach(V=>{if(V.name==d.triggerName){const Q=Bd(w,d.triggerName,d.fromState.value,d.toState.value);Q._data=i,Gm(d.player,V.phase,Q,V.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):o.push(d)}),this._queue=[],o.sort((d,p)=>{const w=d.transition.ast.depCount,A=p.transition.ast.depCount;return 0==w||0==A?w-A:this._engine.driver.containsElement(d.element,p.element)?1:-1})}destroy(i){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let o=!1;return this._elementListeners.has(i)&&(o=!0),o=!!this._queue.find(d=>d.element===i)||o,o}}class l{_onRemovalComplete(i,o){this.onRemovalComplete(i,o)}constructor(i,o,d){this.bodyNode=i,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,w)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&i.push(d)})}),i}createNamespace(i,o){const d=new t(i,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[i]=d}_balanceNamespaceList(i,o){const d=this._namespaceList,p=this.namespacesByHostElement;if(d.length-1>=0){let A=!1,V=this.driver.getParentElement(o);for(;V;){const Q=p.get(V);if(Q){const ue=d.indexOf(Q);d.splice(ue+1,0,i),A=!0;break}V=this.driver.getParentElement(V)}A||d.unshift(i)}else d.push(i);return p.set(o,i),i}register(i,o){let d=this._namespaceLookup[i];return d||(d=this.createNamespace(i,o)),d}registerTrigger(i,o,d){let p=this._namespaceLookup[i];p&&p.register(o,d)&&this.totalAnimations++}destroy(i,o){if(!i)return;const d=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[i];const p=this._namespaceList.indexOf(d);p>=0&&this._namespaceList.splice(p,1)}),this.afterFlushAnimationsDone(()=>d.destroy(o))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const o=new Set,d=this.statesByElement.get(i);if(d)for(let p of d.values())if(p.namespaceId){const w=this._fetchNamespace(p.namespaceId);w&&o.add(w)}return o}trigger(i,o,d,p){if(k(o)){const w=this._fetchNamespace(i);if(w)return w.trigger(o,d,p),!0}return!1}insertNode(i,o,d,p){if(!k(o))return;const w=o[Hl];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const A=this.collectedLeaveElements.indexOf(o);A>=0&&this.collectedLeaveElements.splice(A,1)}if(i){const A=this._fetchNamespace(i);A&&A.insertNode(o,d)}p&&this.collectEnterElement(o)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,o){o?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ot(i,Za)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Xt(i,Za))}removeNode(i,o,d,p){if(k(o)){const w=i?this._fetchNamespace(i):null;if(w?w.removeNode(o,p):this.markElementAsRemoved(i,o,!1,p),d){const A=this.namespacesByHostElement.get(o);A&&A.id!==i&&A.removeNode(o,p)}}else this._onRemovalComplete(o,p)}markElementAsRemoved(i,o,d,p,w){this.collectedLeaveElements.push(o),o[Hl]={namespaceId:i,setForRemoval:p,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:w}}listen(i,o,d,p,w){return k(o)?this._fetchNamespace(i).listen(o,d,p,w):()=>{}}_buildInstruction(i,o,d,p,w){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,d,p,i.fromState.options,i.toState.options,o,w)}destroyInnerAnimations(i){let o=this.driver.query(i,Gc,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(i,Eu,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(i){const o=this.playersByElement.get(i);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(i){const o=this.playersByQueriedElement.get(i);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Ld(this.players).onDone(()=>i());i()})}processLeaveNode(i){var o;const d=i[Hl];if(d&&d.setForRemoval){if(i[Hl]=Bv,d.namespaceId){this.destroyInnerAnimations(i);const p=this._fetchNamespace(d.namespaceId);p&&p.clearElementCache(i)}this._onRemovalComplete(i,d.setForRemoval)}null!==(o=i.classList)&&void 0!==o&&o.contains(Za)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(i=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,p)=>this._balanceNamespaceList(d,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)Ot(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,i)}finally{for(let p=0;p<d.length;p++)d[p]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Ld(o).onDone(()=>{d.forEach(p=>p())}):d.forEach(p=>p())}}reportError(i){throw function A_(u){return new g.vHH(3402,!1)}()}_flushAnimations(i,o){const d=new Sg,p=[],w=new Map,A=[],V=new Map,Q=new Map,ue=new Map,Je=new Set;this.disabledNodes.forEach(Cr=>{Je.add(Cr);const kr=this.driver.query(Cr,".ng-animate-queued",!0);for(let Vr=0;Vr<kr.length;Vr++)Je.add(kr[Vr])});const lt=this.bodyNode,Et=Array.from(this.statesByElement.keys()),Vt=rt(Et,this.collectedEnterElements),Gt=new Map;let hn=0;Vt.forEach((Cr,kr)=>{const Vr=bv+hn++;Gt.set(kr,Vr),Cr.forEach(Fi=>Ot(Fi,Vr))});const On=[],$r=new Set,ui=new Set;for(let Cr=0;Cr<this.collectedLeaveElements.length;Cr++){const kr=this.collectedLeaveElements[Cr],Vr=kr[Hl];Vr&&Vr.setForRemoval&&(On.push(kr),$r.add(kr),Vr.hasAnimation?this.driver.query(kr,".ng-star-inserted",!0).forEach(Fi=>$r.add(Fi)):ui.add(kr))}const Di=new Map,Ri=rt(Et,Array.from($r));Ri.forEach((Cr,kr)=>{const Vr=vg+hn++;Di.set(kr,Vr),Cr.forEach(Fi=>Ot(Fi,Vr))}),i.push(()=>{Vt.forEach((Cr,kr)=>{const Vr=Gt.get(kr);Cr.forEach(Fi=>Xt(Fi,Vr))}),Ri.forEach((Cr,kr)=>{const Vr=Di.get(kr);Cr.forEach(Fi=>Xt(Fi,Vr))}),On.forEach(Cr=>{this.processLeaveNode(Cr)})});const pl=[],gl=[];for(let Cr=this._namespaceList.length-1;Cr>=0;Cr--)this._namespaceList[Cr].drainQueuedTransitions(o).forEach(Vr=>{const Fi=Vr.player,yo=Vr.element;if(pl.push(Fi),this.collectedEnterElements.length){const Aa=yo[Hl];if(Aa&&Aa.setForMove){if(Aa.previousTriggersValues&&Aa.previousTriggersValues.has(Vr.triggerName)){const up=Aa.previousTriggersValues.get(Vr.triggerName),zl=this.statesByElement.get(Vr.element);if(zl&&zl.has(Vr.triggerName)){const Kv=zl.get(Vr.triggerName);Kv.value=up,zl.set(Vr.triggerName,Kv)}}return void Fi.destroy()}}const Yc=!lt||!this.driver.containsElement(lt,yo),Ta=Di.get(yo),Wd=Gt.get(yo),so=this._buildInstruction(Vr,d,Wd,Ta,Yc);if(so.errors&&so.errors.length)return void gl.push(so);if(Yc)return Fi.onStart(()=>dl(yo,so.fromStyles)),Fi.onDestroy(()=>cl(yo,so.toStyles)),void p.push(Fi);if(Vr.isFallbackTransition)return Fi.onStart(()=>dl(yo,so.fromStyles)),Fi.onDestroy(()=>cl(yo,so.toStyles)),void p.push(Fi);const q0=[];so.timelines.forEach(Aa=>{Aa.stretchStartingKeyframe=!0,this.disabledNodes.has(Aa.element)||q0.push(Aa)}),so.timelines=q0,d.append(yo,so.timelines),A.push({instruction:so,player:Fi,element:yo}),so.queriedElements.forEach(Aa=>Ka(V,Aa,[]).push(Fi)),so.preStyleProps.forEach((Aa,up)=>{if(Aa.size){let zl=Q.get(up);zl||Q.set(up,zl=new Set),Aa.forEach((Kv,n0)=>zl.add(n0))}}),so.postStyleProps.forEach((Aa,up)=>{let zl=ue.get(up);zl||ue.set(up,zl=new Set),Aa.forEach((Kv,n0)=>zl.add(n0))})});if(gl.length){const Cr=[];gl.forEach(kr=>{Cr.push(function C0(u,i){return new g.vHH(3505,!1)}())}),pl.forEach(kr=>kr.destroy()),this.reportError(Cr)}const oa=new Map,aa=new Map;A.forEach(Cr=>{const kr=Cr.element;d.has(kr)&&(aa.set(kr,kr),this._beforeAnimationBuild(Cr.player.namespaceId,Cr.instruction,oa))}),p.forEach(Cr=>{const kr=Cr.element;this._getPreviousPlayers(kr,!1,Cr.namespaceId,Cr.triggerName,null).forEach(Fi=>{Ka(oa,kr,[]).push(Fi),Fi.destroy()})});const Qh=On.filter(Cr=>Mi(Cr,Q,ue)),tc=new Map;Se(tc,this.driver,ui,ue,Ul).forEach(Cr=>{Mi(Cr,Q,ue)&&Qh.push(Cr)});const Gd=new Map;Vt.forEach((Cr,kr)=>{Se(Gd,this.driver,new Set(Cr),Q,Um)}),Qh.forEach(Cr=>{var kr,Vr;const Fi=tc.get(Cr),yo=Gd.get(Cr);tc.set(Cr,new Map([...Array.from(null!==(kr=null==Fi?void 0:Fi.entries())&&void 0!==kr?kr:[]),...Array.from(null!==(Vr=null==yo?void 0:yo.entries())&&void 0!==Vr?Vr:[])]))});const uy=[],Xh=[],nc={};A.forEach(Cr=>{const{element:kr,player:Vr,instruction:Fi}=Cr;if(d.has(kr)){if(Je.has(kr))return Vr.onDestroy(()=>cl(kr,Fi.toStyles)),Vr.disabled=!0,Vr.overrideTotalTime(Fi.totalTime),void p.push(Vr);let yo=nc;if(aa.size>1){let Ta=kr;const Wd=[];for(;Ta=Ta.parentNode;){const so=aa.get(Ta);if(so){yo=so;break}Wd.push(Ta)}Wd.forEach(so=>aa.set(so,yo))}const Yc=this._buildAnimation(Vr.namespaceId,Fi,oa,w,Gd,tc);if(Vr.setRealPlayer(Yc),yo===nc)uy.push(Vr);else{const Ta=this.playersByElement.get(yo);Ta&&Ta.length&&(Vr.parentPlayer=Ld(Ta)),p.push(Vr)}}else dl(kr,Fi.fromStyles),Vr.onDestroy(()=>cl(kr,Fi.toStyles)),Xh.push(Vr),Je.has(kr)&&p.push(Vr)}),Xh.forEach(Cr=>{const kr=w.get(Cr.element);if(kr&&kr.length){const Vr=Ld(kr);Cr.setRealPlayer(Vr)}}),p.forEach(Cr=>{Cr.parentPlayer?Cr.syncPlayerEvents(Cr.parentPlayer):Cr.destroy()});for(let Cr=0;Cr<On.length;Cr++){const kr=On[Cr],Vr=kr[Hl];if(Xt(kr,vg),Vr&&Vr.hasAnimation)continue;let Fi=[];if(V.size){let Yc=V.get(kr);Yc&&Yc.length&&Fi.push(...Yc);let Ta=this.driver.query(kr,Eu,!0);for(let Wd=0;Wd<Ta.length;Wd++){let so=V.get(Ta[Wd]);so&&so.length&&Fi.push(...so)}}const yo=Fi.filter(Yc=>!Yc.destroyed);yo.length?Dn(this,kr,yo):this.processLeaveNode(kr)}return On.length=0,uy.forEach(Cr=>{this.players.push(Cr),Cr.onDone(()=>{Cr.destroy();const kr=this.players.indexOf(Cr);this.players.splice(kr,1)}),Cr.play()}),uy}elementContainsData(i,o){let d=!1;const p=o[Hl];return p&&p.setForRemoval&&(d=!0),this.playersByElement.has(o)&&(d=!0),this.playersByQueriedElement.has(o)&&(d=!0),this.statesByElement.has(o)&&(d=!0),this._fetchNamespace(i).elementContainsData(o)||d}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,o,d,p,w){let A=[];if(o){const V=this.playersByQueriedElement.get(i);V&&(A=V)}else{const V=this.playersByElement.get(i);if(V){const Q=!w||w==s;V.forEach(ue=>{ue.queued||!Q&&ue.triggerName!=p||A.push(ue)})}}return(d||p)&&(A=A.filter(V=>!(d&&d!=V.namespaceId||p&&p!=V.triggerName))),A}_beforeAnimationBuild(i,o,d){const w=o.element,A=o.isRemovalTransition?void 0:i,V=o.isRemovalTransition?void 0:o.triggerName;for(const Q of o.timelines){const ue=Q.element,Je=ue!==w,lt=Ka(d,ue,[]);this._getPreviousPlayers(ue,Je,A,V,o.toState).forEach(Vt=>{const Gt=Vt.getRealPlayer();Gt.beforeDestroy&&Gt.beforeDestroy(),Vt.destroy(),lt.push(Vt)})}dl(w,o.fromStyles)}_buildAnimation(i,o,d,p,w,A){const V=o.triggerName,Q=o.element,ue=[],Je=new Set,lt=new Set,Et=o.timelines.map(Gt=>{const hn=Gt.element;Je.add(hn);const On=hn[Hl];if(On&&On.removedBeforeQueried)return new Nd(Gt.duration,Gt.delay);const $r=hn!==Q,ui=function Hn(u){const i=[];return qn(u,i),i}((d.get(hn)||U_).map(oa=>oa.getRealPlayer())).filter(oa=>!!oa.element&&oa.element===hn),Di=w.get(hn),Ri=A.get(hn),pl=R_(0,this._normalizer,0,Gt.keyframes,Di,Ri),gl=this._buildPlayer(Gt,pl,ui);if(Gt.subTimeline&&p&&lt.add(hn),$r){const oa=new h(i,V,hn);oa.setRealPlayer(gl),ue.push(oa)}return gl});ue.forEach(Gt=>{Ka(this.playersByQueriedElement,Gt.element,[]).push(Gt),Gt.onDone(()=>function m(u,i,o){let d=u.get(i);if(d){if(d.length){const p=d.indexOf(o);d.splice(p,1)}0==d.length&&u.delete(i)}return d}(this.playersByQueriedElement,Gt.element,Gt))}),Je.forEach(Gt=>Ot(Gt,qm));const Vt=Ld(Et);return Vt.onDestroy(()=>{Je.forEach(Gt=>Xt(Gt,qm)),cl(Q,o.toStyles)}),lt.forEach(Gt=>{Ka(p,Gt,[]).push(Vt)}),Vt}_buildPlayer(i,o,d){return o.length>0?this.driver.animate(i.element,o,i.duration,i.delay,i.easing,d):new Nd(i.duration,i.delay)}}class h{constructor(i,o,d){this.namespaceId=i,this.triggerName=o,this.element=d,this._player=new Nd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((o,d)=>{o.forEach(p=>Gm(i,d,void 0,p))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const o=this._player;o.triggerCallback&&i.onStart(()=>o.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,o){Ka(this._queuedCallbacks,i,[]).push(o)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const o=this._player;o.triggerCallback&&o.triggerCallback(i)}}function k(u){return u&&1===u.nodeType}function oe(u,i){const o=u.style.display;return u.style.display=null!=i?i:"none",o}function Se(u,i,o,d,p){const w=[];o.forEach(Q=>w.push(oe(Q)));const A=[];d.forEach((Q,ue)=>{const Je=new Map;Q.forEach(lt=>{const Et=i.computeStyle(ue,lt,p);Je.set(lt,Et),(!Et||0==Et.length)&&(ue[Hl]=M0,A.push(ue))}),u.set(ue,Je)});let V=0;return o.forEach(Q=>oe(Q,w[V++])),A}function rt(u,i){const o=new Map;if(u.forEach(V=>o.set(V,[])),0==i.length)return o;const d=1,p=new Set(i),w=new Map;function A(V){if(!V)return d;let Q=w.get(V);if(Q)return Q;const ue=V.parentNode;return Q=o.has(ue)?ue:p.has(ue)?d:A(ue),w.set(V,Q),Q}return i.forEach(V=>{const Q=A(V);Q!==d&&o.get(Q).push(V)}),o}function Ot(u,i){var o;null===(o=u.classList)||void 0===o||o.add(i)}function Xt(u,i){var o;null===(o=u.classList)||void 0===o||o.remove(i)}function Dn(u,i,o){Ld(o).onDone(()=>u.processLeaveNode(i))}function qn(u,i){for(let o=0;o<u.length;o++){const d=u[o];d instanceof Vm?qn(d.players,i):i.push(d)}}function Mi(u,i,o){const d=o.get(u);if(!d)return!1;let p=i.get(u);return p?d.forEach(w=>p.add(w)):i.set(u,d),o.delete(u),!0}class li{constructor(i,o,d){this.bodyNode=i,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(p,w)=>{},this._transitionEngine=new l(i,o,d),this._timelineEngine=new kv(i,o,d),this._transitionEngine.onRemovalComplete=(p,w)=>this.onRemovalComplete(p,w)}registerTrigger(i,o,d,p,w){const A=i+"-"+p;let V=this._triggerCache[A];if(!V){const Q=[],Je=op(this._driver,w,Q,[]);if(Q.length)throw function mv(u,i){return new g.vHH(3404,!1)}();V=function Ov(u,i,o){return new A0(u,i,o)}(p,Je,this._normalizer),this._triggerCache[A]=V}this._transitionEngine.registerTrigger(o,p,V)}register(i,o){this._transitionEngine.register(i,o)}destroy(i,o){this._transitionEngine.destroy(i,o)}onInsert(i,o,d,p){this._transitionEngine.insertNode(i,o,d,p)}onRemove(i,o,d,p){this._transitionEngine.removeNode(i,o,p||!1,d)}disableAnimations(i,o){this._transitionEngine.markElementAsDisabled(i,o)}process(i,o,d,p){if("@"==d.charAt(0)){const[w,A]=Qu(d);this._timelineEngine.command(w,o,A,p)}else this._transitionEngine.trigger(i,o,d,p)}listen(i,o,d,p,w){if("@"==d.charAt(0)){const[A,V]=Qu(d);return this._timelineEngine.listen(A,o,V,w)}return this._transitionEngine.listen(i,o,d,p,w)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let io=(()=>{class u{constructor(o,d,p){this._element=o,this._startStyles=d,this._endStyles=p,this._state=0;let w=u.initialStylesByElement.get(o);w||u.initialStylesByElement.set(o,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&cl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cl(this._element,this._initialStyles),this._endStyles&&(cl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(dl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dl(this._element,this._endStyles),this._endStyles=null),cl(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function vs(u){let i=null;return u.forEach((o,d)=>{(function ya(u){return"display"===u||"position"===u})(d)&&(i=i||new Map,i.set(d,o))}),i}class qc{constructor(i,o,d,p){this.element=i,this.keyframes=o,this.options=d,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const o=[];return i.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(i,o,d){return i.animate(this._convertKeyframesToObject(o),d)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,p)=>{"offset"!==p&&i.set(p,this._finished?d:Sv(this.element,p))}),this.currentSnapshot=i}triggerCallback(i){const o="start"===i?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class $v{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,o){return!1}containsElement(i,o){return Ju(i,o)}getParentElement(i){return Vh(i)}query(i,o,d){return Cv(i,o,d)}computeStyle(i,o,d){return window.getComputedStyle(i)[o]}animate(i,o,d,p,w,A=[]){const Q={duration:d,delay:p,fill:0==p?"both":"forwards"};w&&(Q.easing=w);const ue=new Map,Je=A.filter(Vt=>Vt instanceof qc);(function tp(u,i){return 0===u||0===i})(d,p)&&Je.forEach(Vt=>{Vt.currentSnapshot.forEach((Gt,hn)=>ue.set(hn,Gt))});let lt=function Eg(u){return u.length?u[0]instanceof Map?u:u.map(i=>ep(i)):[]}(o).map(Vt=>Ya(Vt));lt=function Zm(u,i,o){if(o.size&&i.length){let d=i[0],p=[];if(o.forEach((w,A)=>{d.has(A)||p.push(A),d.set(A,w)}),p.length)for(let w=1;w<i.length;w++){let A=i[w];p.forEach(V=>A.set(V,Sv(u,V)))}}return i}(i,lt,ue);const Et=function mo(u,i){let o=null,d=null;return Array.isArray(i)&&i.length?(o=vs(i[0]),i.length>1&&(d=vs(i[i.length-1]))):i instanceof Map&&(o=vs(i)),o||d?new io(u,o,d):null}(i,lt);return new qc(i,lt,Q,Et)}}let oE=(()=>{class u extends Fm{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const p=Array.isArray(o)?kh(o):o;return R0(this._renderer,null,d,"register",[p]),new aE(d,this._renderer)}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(g.FYo),g.LFG(mh.K0))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})();class aE extends Lm{constructor(i,o){super(),this._id=i,this._renderer=o}create(i,o){return new lE(this._id,i,o||{},this._renderer)}}class lE{constructor(i,o,d,p){this.id=i,this.element=o,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(i,o){return this._renderer.listen(this.element,`@@${this.id}:${i}`,o)}_command(i,...o){return R0(this._renderer,this.element,this.id,i,o)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,o;return null!==(i=null===(o=this._renderer.engine.players[+this.id])||void 0===o?void 0:o.getPosition())&&void 0!==i?i:0}}function R0(u,i,o,d,p){return u.setProperty(i,`@@${o}:${d}`,p)}const x0="@.disabled";let uE=(()=>{class u{constructor(o,d,p){this.delegate=o,this.engine=d,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(w,A)=>{const V=null==A?void 0:A.parentNode(w);V&&A.removeChild(V,w)}}createRenderer(o,d){const w=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let Je=this._rendererCache.get(w);return Je||(Je=new P0("",w,this.engine,()=>this._rendererCache.delete(w)),this._rendererCache.set(w,Je)),Je}const A=d.id,V=d.id+"-"+this._currentId;this._currentId++,this.engine.register(V,o);const Q=Je=>{Array.isArray(Je)?Je.forEach(Q):this.engine.registerTrigger(A,V,o,Je.name,Je)};return d.data.animation.forEach(Q),new cE(this,V,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,p){o>=0&&o<this._microtaskId?this._zone.run(()=>d(p)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(w=>{const[A,V]=w;A(V)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,p]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(g.FYo),g.LFG(li),g.LFG(g.R0b))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})();class P0{constructor(i,o,d,p){this.namespaceId=i,this.delegate=o,this.engine=d,this._onDestroy=p,this.destroyNode=this.delegate.destroyNode?w=>o.destroyNode(w):null}get data(){return this.delegate.data}destroy(){var i;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(i=this._onDestroy)||void 0===i||i.call(this)}createElement(i,o){return this.delegate.createElement(i,o)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,o){this.delegate.appendChild(i,o),this.engine.onInsert(this.namespaceId,o,i,!1)}insertBefore(i,o,d,p=!0){this.delegate.insertBefore(i,o,d),this.engine.onInsert(this.namespaceId,o,i,p)}removeChild(i,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate,d)}selectRootElement(i,o){return this.delegate.selectRootElement(i,o)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,o,d,p){this.delegate.setAttribute(i,o,d,p)}removeAttribute(i,o,d){this.delegate.removeAttribute(i,o,d)}addClass(i,o){this.delegate.addClass(i,o)}removeClass(i,o){this.delegate.removeClass(i,o)}setStyle(i,o,d,p){this.delegate.setStyle(i,o,d,p)}removeStyle(i,o,d){this.delegate.removeStyle(i,o,d)}setProperty(i,o,d){"@"==o.charAt(0)&&o==x0?this.disableAnimations(i,!!d):this.delegate.setProperty(i,o,d)}setValue(i,o){this.delegate.setValue(i,o)}listen(i,o,d){return this.delegate.listen(i,o,d)}disableAnimations(i,o){this.engine.disableAnimations(i,o)}}class cE extends P0{constructor(i,o,d,p,w){super(o,d,p,w),this.factory=i,this.namespaceId=o}setProperty(i,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==x0?this.disableAnimations(i,d=void 0===d||!!d):this.engine.process(this.namespaceId,i,o.slice(1),d):this.delegate.setProperty(i,o,d)}listen(i,o,d){if("@"==o.charAt(0)){const p=function dE(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(i);let w=o.slice(1),A="";return"@"!=w.charAt(0)&&([w,A]=function hE(u){const i=u.indexOf(".");return[u.substring(0,i),u.slice(i+1)]}(w)),this.engine.listen(this.namespaceId,p,w,A,V=>{this.factory.scheduleListenerCallback(V._data||-1,d,V)})}return this.delegate.listen(i,o,d)}}const O0=[{provide:Fm,useClass:oE},{provide:lp,useFactory:function pE(){return new $_}},{provide:li,useClass:(()=>{class u extends li{constructor(o,d,p,w){super(o.body,d,p)}ngOnDestroy(){this.flush()}}return u.\u0275fac=function(o){return new(o||u)(g.LFG(mh.K0),g.LFG($d),g.LFG(lp),g.LFG(g.z2F))},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac}),u})()},{provide:g.FYo,useFactory:function gE(u,i,o){return new uE(u,i,o)},deps:[y.se,li,g.R0b]}],j_=[{provide:$d,useFactory:()=>new $v},{provide:g.QbO,useValue:"BrowserAnimations"},...O0],H_=[{provide:$d,useClass:Jf},{provide:g.QbO,useValue:"NoopAnimations"},...O0];let N0=(()=>{class u{static withConfig(o){return{ngModule:u,providers:o.disableAnimations?H_:j_}}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:j_,imports:[y.b2]}),u})();const Uv_firebase={projectId:"app3alarma",appId:"1:8095028083:web:96e5b0d643fdaa7f702b06",storageBucket:"app3alarma.appspot.com",locationId:"us-central",apiKey:"AIzaSyAFmUx-1FmcLBfHBMv-3XheagBNElki7qY",authDomain:"app3alarma.firebaseapp.com",messagingSenderId:"8095028083"};var k0=L(1389);class jv{constructor(i){return i}}class G_{constructor(){return(0,De.vb)("auth")}}const zd=new g.OlP("angularfire2.auth-instances");function wE(u){return(i,o)=>{const d=i.runOutsideAngular(()=>u(o));return new jv(d)}}const Mg={provide:G_,deps:[[new g.FiY,zd]]},$w={provide:jv,useFactory:function EE(u,i){const o=(0,De.JM)("auth",u,i);return o&&new jv(o)},deps:[[new g.FiY,zd],Sc.Ot]};let W_=(()=>{class u{constructor(){(0,_h.KN)("angularfire",De.q4.full,"auth")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[$w,Mg]}),u})();function Vw(u,...i){return{ngModule:W_,providers:[{provide:zd,useFactory:wE(u),multi:!0,deps:[g.R0b,g.zs3,De.HU,Sc.z6,[new g.FiY,al.nm],...i]}]}}const Gw=(0,De.u3)(k0.o,!0);var $E=L(2810);class Q_{constructor(i){return i}}const F0="firestore",X_=new g.OlP("angularfire2.firestore-instances");function UE(u){return(i,o)=>{const d=i.runOutsideAngular(()=>u(o));return new Q_(d)}}const jE={provide:class VE{constructor(){return(0,De.vb)(F0)}},deps:[[new g.FiY,X_]]},oy={provide:Q_,useFactory:function L0(u,i){const o=(0,De.JM)(F0,u,i);return o&&new Q_(o)},deps:[[new g.FiY,X_],Sc.Ot]};let HE=(()=>{class u{constructor(){(0,_h.KN)("angularfire",De.q4.full,"fst")}}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({providers:[oy,jE]}),u})();function B0(u,...i){return{ngModule:HE,providers:[{provide:X_,useFactory:UE(u),multi:!0,deps:[g.R0b,g.zs3,De.HU,Sc.z6,[new g.FiY,G_],[new g.FiY,al.nm],...i]}]}}const J_=(0,De.u3)($E.ad,!0);var lw=L(6118),uw=L(83),cw=L(2720),K0=L(5789),FI=L(5089),e0=L(5030);let dw=(()=>{class u{}return u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=g.oAB({type:u,bootstrap:[Ve]}),u.\u0275inj=g.cJS({providers:[Ce,de,lw.e,uw.S,cw.y,K0.w,FI.E,tm.yb,{provide:se.wN,useClass:ge.r4}],imports:[y.b2,ge.Pc.forRoot(),ze,e0.u5,ve.hO.initializeApp(Uv_firebase),Ue.ww,o0,Fy,tm.yb,N0,km,e0.UX,(0,Sc.hX)(()=>(0,Sc.ZF)(Uv_firebase)),Vw(()=>Gw()),B0(()=>J_())]}),u})();(0,g.G48)(),y.q6().bootstrapModule(dw).catch(u=>console.log(u))},1135:(un,dt,L)=>{"use strict";L.d(dt,{X:()=>g});var y=L(7579);class g extends y.x{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const xe=super._subscribe(ge);return!xe.closed&&ge.next(this._value),xe}getValue(){const{hasError:ge,thrownError:xe,_value:Ee}=this;if(ge)throw xe;return this._throwIfClosed(),Ee}next(ge){super.next(this._value=ge)}}},9751:(un,dt,L)=>{"use strict";L.d(dt,{y:()=>Ce});var y=L(930),g=L(727),se=L(8822),ge=L(9635),xe=L(2416),Ee=L(576),de=L(2806);let Ce=(()=>{class ze{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Ze=new ze;return Ze.source=this,Ze.operator=Ue,Ze}subscribe(Ue,Ze,It){const Me=function be(ze){return ze&&ze instanceof y.Lv||function Te(ze){return ze&&(0,Ee.m)(ze.next)&&(0,Ee.m)(ze.error)&&(0,Ee.m)(ze.complete)}(ze)&&(0,g.Nn)(ze)}(Ue)?Ue:new y.Hp(Ue,Ze,It);return(0,de.x)(()=>{const{operator:we,source:ft}=this;Me.add(we?we.call(Me,ft):ft?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Ze){Ue.error(Ze)}}forEach(Ue,Ze){return new(Ze=Ve(Ze))((It,Me)=>{const we=new y.Hp({next:ft=>{try{Ue(ft)}catch(ot){Me(ot),we.unsubscribe()}},error:Me,complete:It});this.subscribe(we)})}_subscribe(Ue){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ue)}[se.L](){return this}pipe(...Ue){return(0,ge.U)(Ue)(this)}toPromise(Ue){return new(Ue=Ve(Ue))((Ze,It)=>{let Me;this.subscribe(we=>Me=we,we=>It(we),()=>Ze(Me))})}}return ze.create=ve=>new ze(ve),ze})();function Ve(ze){var ve;return null!==(ve=null!=ze?ze:xe.config.Promise)&&void 0!==ve?ve:Promise}},7579:(un,dt,L)=>{"use strict";L.d(dt,{x:()=>de});var y=L(9751),g=L(727);const ge=(0,L(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=L(8737),Ee=L(2806);let de=(()=>{class Ve extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(be){const ze=new Ce(this,this);return ze.operator=be,ze}_throwIfClosed(){if(this.closed)throw new ge}next(be){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(be)}})}error(be){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=be;const{observers:ze}=this;for(;ze.length;)ze.shift().error(be)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:be}=this;for(;be.length;)be.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var be;return(null===(be=this.observers)||void 0===be?void 0:be.length)>0}_trySubscribe(be){return this._throwIfClosed(),super._trySubscribe(be)}_subscribe(be){return this._throwIfClosed(),this._checkFinalizedStatuses(be),this._innerSubscribe(be)}_innerSubscribe(be){const{hasError:ze,isStopped:ve,observers:Ue}=this;return ze||ve?g.Lc:(this.currentObservers=null,Ue.push(be),new g.w0(()=>{this.currentObservers=null,(0,xe.P)(Ue,be)}))}_checkFinalizedStatuses(be){const{hasError:ze,thrownError:ve,isStopped:Ue}=this;ze?be.error(ve):Ue&&be.complete()}asObservable(){const be=new y.y;return be.source=this,be}}return Ve.create=(Te,be)=>new Ce(Te,be),Ve})();class Ce extends de{constructor(Te,be){super(),this.destination=Te,this.source=be}next(Te){var be,ze;null===(ze=null===(be=this.destination)||void 0===be?void 0:be.next)||void 0===ze||ze.call(be,Te)}error(Te){var be,ze;null===(ze=null===(be=this.destination)||void 0===be?void 0:be.error)||void 0===ze||ze.call(be,Te)}complete(){var Te,be;null===(be=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===be||be.call(Te)}_subscribe(Te){var be,ze;return null!==(ze=null===(be=this.source)||void 0===be?void 0:be.subscribe(Te))&&void 0!==ze?ze:g.Lc}}},930:(un,dt,L)=>{"use strict";L.d(dt,{Hp:()=>It,Lv:()=>ze});var y=L(576),g=L(727),se=L(2416),ge=L(7849),xe=L(5032);const Ee=Ve("C",void 0,void 0);function Ve(Ge,it,gt){return{kind:Ge,value:it,error:gt}}var Te=L(3410),be=L(2806);class ze extends g.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,g.Nn)(it)&&it.add(this)):this.destination=ot}static create(it,gt,_t){return new It(it,gt,_t)}next(it){this.isStopped?ft(function Ce(Ge){return Ve("N",Ge,void 0)}(it),this):this._next(it)}error(it){this.isStopped?ft(function de(Ge){return Ve("E",void 0,Ge)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?ft(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function Ue(Ge,it){return ve.call(Ge,it)}class Ze{constructor(it){this.partialObserver=it}next(it){const{partialObserver:gt}=this;if(gt.next)try{gt.next(it)}catch(_t){Me(_t)}}error(it){const{partialObserver:gt}=this;if(gt.error)try{gt.error(it)}catch(_t){Me(_t)}else Me(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(gt){Me(gt)}}}class It extends ze{constructor(it,gt,_t){let Ye;if(super(),(0,y.m)(it)||!it)Ye={next:null!=it?it:void 0,error:null!=gt?gt:void 0,complete:null!=_t?_t:void 0};else{let Oe;this&&se.config.useDeprecatedNextContext?(Oe=Object.create(it),Oe.unsubscribe=()=>this.unsubscribe(),Ye={next:it.next&&Ue(it.next,Oe),error:it.error&&Ue(it.error,Oe),complete:it.complete&&Ue(it.complete,Oe)}):Ye=it}this.destination=new Ze(Ye)}}function Me(Ge){se.config.useDeprecatedSynchronousErrorHandling?(0,be.O)(Ge):(0,ge.h)(Ge)}function ft(Ge,it){const{onStoppedNotification:gt}=se.config;gt&&Te.z.setTimeout(()=>gt(Ge,it))}const ot={closed:!0,next:xe.Z,error:function we(Ge){throw Ge},complete:xe.Z}},727:(un,dt,L)=>{"use strict";L.d(dt,{Lc:()=>Ee,w0:()=>xe,Nn:()=>de});var y=L(576);const se=(0,L(3888).d)(Ve=>function(be){Ve(this),this.message=be?`${be.length} errors occurred during unsubscription:\n${be.map((ze,ve)=>`${ve+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=be});var ge=L(8737);class xe{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:be}=this;if(be)if(this._parentage=null,Array.isArray(be))for(const Ue of be)Ue.remove(this);else be.remove(this);const{initialTeardown:ze}=this;if((0,y.m)(ze))try{ze()}catch(Ue){Te=Ue instanceof se?Ue.errors:[Ue]}const{_finalizers:ve}=this;if(ve){this._finalizers=null;for(const Ue of ve)try{Ce(Ue)}catch(Ze){Te=null!=Te?Te:[],Ze instanceof se?Te=[...Te,...Ze.errors]:Te.push(Ze)}}if(Te)throw new se(Te)}}add(Te){var be;if(Te&&Te!==this)if(this.closed)Ce(Te);else{if(Te instanceof xe){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._finalizers=null!==(be=this._finalizers)&&void 0!==be?be:[]).push(Te)}}_hasParent(Te){const{_parentage:be}=this;return be===Te||Array.isArray(be)&&be.includes(Te)}_addParent(Te){const{_parentage:be}=this;this._parentage=Array.isArray(be)?(be.push(Te),be):be?[be,Te]:Te}_removeParent(Te){const{_parentage:be}=this;be===Te?this._parentage=null:Array.isArray(be)&&(0,ge.P)(be,Te)}remove(Te){const{_finalizers:be}=this;be&&(0,ge.P)(be,Te),Te instanceof xe&&Te._removeParent(this)}}xe.EMPTY=(()=>{const Ve=new xe;return Ve.closed=!0,Ve})();const Ee=xe.EMPTY;function de(Ve){return Ve instanceof xe||Ve&&"closed"in Ve&&(0,y.m)(Ve.remove)&&(0,y.m)(Ve.add)&&(0,y.m)(Ve.unsubscribe)}function Ce(Ve){(0,y.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(un,dt,L)=>{"use strict";L.d(dt,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(un,dt,L)=>{"use strict";L.d(dt,{z:()=>xe});var y=L(8189),se=L(7669),ge=L(8996);function xe(...Ee){return function g(){return(0,y.J)(1)}()((0,ge.D)(Ee,(0,se.yG)(Ee)))}},515:(un,dt,L)=>{"use strict";L.d(dt,{E:()=>g});const g=new(L(9751).y)(xe=>xe.complete())},8996:(un,dt,L)=>{"use strict";L.d(dt,{D:()=>it});var y=L(8421),g=L(5363),se=L(9468),Ee=L(9751),Ce=L(2202),Ve=L(576),Te=L(9672);function ze(gt,_t){if(!gt)throw new Error("Iterable cannot be null");return new Ee.y(Ye=>{(0,Te.f)(Ye,_t,()=>{const Oe=gt[Symbol.asyncIterator]();(0,Te.f)(Ye,_t,()=>{Oe.next().then(St=>{St.done?Ye.complete():Ye.next(St.value)})},0,!0)})})}var ve=L(3670),Ue=L(8239),Ze=L(1144),It=L(6495),Me=L(2206),we=L(4532),ft=L(3260);function it(gt,_t){return _t?function Ge(gt,_t){if(null!=gt){if((0,ve.c)(gt))return function ge(gt,_t){return(0,y.Xf)(gt).pipe((0,se.R)(_t),(0,g.Q)(_t))}(gt,_t);if((0,Ze.z)(gt))return function de(gt,_t){return new Ee.y(Ye=>{let Oe=0;return _t.schedule(function(){Oe===gt.length?Ye.complete():(Ye.next(gt[Oe++]),Ye.closed||this.schedule())})})}(gt,_t);if((0,Ue.t)(gt))return function xe(gt,_t){return(0,y.Xf)(gt).pipe((0,se.R)(_t),(0,g.Q)(_t))}(gt,_t);if((0,Me.D)(gt))return ze(gt,_t);if((0,It.T)(gt))return function be(gt,_t){return new Ee.y(Ye=>{let Oe;return(0,Te.f)(Ye,_t,()=>{Oe=gt[Ce.h](),(0,Te.f)(Ye,_t,()=>{let St,nt;try{({value:St,done:nt}=Oe.next())}catch(mt){return void Ye.error(mt)}nt?Ye.complete():Ye.next(St)},0,!0)}),()=>(0,Ve.m)(null==Oe?void 0:Oe.return)&&Oe.return()})}(gt,_t);if((0,ft.L)(gt))return function ot(gt,_t){return ze((0,ft.Q)(gt),_t)}(gt,_t)}throw(0,we.z)(gt)}(gt,_t):(0,y.Xf)(gt)}},4968:(un,dt,L)=>{"use strict";L.d(dt,{R:()=>Te});var y=L(8421),g=L(9751),se=L(5577),ge=L(1144),xe=L(576),Ee=L(3268);const de=["addListener","removeListener"],Ce=["addEventListener","removeEventListener"],Ve=["on","off"];function Te(Ze,It,Me,we){if((0,xe.m)(Me)&&(we=Me,Me=void 0),we)return Te(Ze,It,Me).pipe((0,Ee.Z)(we));const[ft,ot]=function Ue(Ze){return(0,xe.m)(Ze.addEventListener)&&(0,xe.m)(Ze.removeEventListener)}(Ze)?Ce.map(Ge=>it=>Ze[Ge](It,it,Me)):function ze(Ze){return(0,xe.m)(Ze.addListener)&&(0,xe.m)(Ze.removeListener)}(Ze)?de.map(be(Ze,It)):function ve(Ze){return(0,xe.m)(Ze.on)&&(0,xe.m)(Ze.off)}(Ze)?Ve.map(be(Ze,It)):[];if(!ft&&(0,ge.z)(Ze))return(0,se.z)(Ge=>Te(Ge,It,Me))((0,y.Xf)(Ze));if(!ft)throw new TypeError("Invalid event target");return new g.y(Ge=>{const it=(...gt)=>Ge.next(1<gt.length?gt:gt[0]);return ft(it),()=>ot(it)})}function be(Ze,It){return Me=>we=>Ze[Me](It,we)}},8421:(un,dt,L)=>{"use strict";L.d(dt,{Xf:()=>ve});var y=L(655),g=L(1144),se=L(8239),ge=L(9751),xe=L(3670),Ee=L(2206),de=L(4532),Ce=L(6495),Ve=L(3260),Te=L(576),be=L(7849),ze=L(8822);function ve(Ge){if(Ge instanceof ge.y)return Ge;if(null!=Ge){if((0,xe.c)(Ge))return function Ue(Ge){return new ge.y(it=>{const gt=Ge[ze.L]();if((0,Te.m)(gt.subscribe))return gt.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,g.z)(Ge))return function Ze(Ge){return new ge.y(it=>{for(let gt=0;gt<Ge.length&&!it.closed;gt++)it.next(Ge[gt]);it.complete()})}(Ge);if((0,se.t)(Ge))return function It(Ge){return new ge.y(it=>{Ge.then(gt=>{it.closed||(it.next(gt),it.complete())},gt=>it.error(gt)).then(null,be.h)})}(Ge);if((0,Ee.D)(Ge))return we(Ge);if((0,Ce.T)(Ge))return function Me(Ge){return new ge.y(it=>{for(const gt of Ge)if(it.next(gt),it.closed)return;it.complete()})}(Ge);if((0,Ve.L)(Ge))return function ft(Ge){return we((0,Ve.Q)(Ge))}(Ge)}throw(0,de.z)(Ge)}function we(Ge){return new ge.y(it=>{(function ot(Ge,it){var gt,_t,Ye,Oe;return(0,y.mG)(this,void 0,void 0,function*(){try{for(gt=(0,y.KL)(Ge);!(_t=yield gt.next()).done;)if(it.next(_t.value),it.closed)return}catch(St){Ye={error:St}}finally{try{_t&&!_t.done&&(Oe=gt.return)&&(yield Oe.call(gt))}finally{if(Ye)throw Ye.error}}it.complete()})})(Ge,it).catch(gt=>it.error(gt))})}},6451:(un,dt,L)=>{"use strict";L.d(dt,{T:()=>Ee});var y=L(8189),g=L(8421),se=L(515),ge=L(7669),xe=L(8996);function Ee(...de){const Ce=(0,ge.yG)(de),Ve=(0,ge._6)(de,1/0),Te=de;return Te.length?1===Te.length?(0,g.Xf)(Te[0]):(0,y.J)(Ve)((0,xe.D)(Te,Ce)):se.E}},9646:(un,dt,L)=>{"use strict";L.d(dt,{of:()=>se});var y=L(7669),g=L(8996);function se(...ge){const xe=(0,y.yG)(ge);return(0,g.D)(ge,xe)}},5403:(un,dt,L)=>{"use strict";L.d(dt,{Q:()=>se,x:()=>g});var y=L(930);function g(ge,xe,Ee,de,Ce){return new se(ge,xe,Ee,de,Ce)}class se extends y.Lv{constructor(xe,Ee,de,Ce,Ve,Te){super(xe),this.onFinalize=Ve,this.shouldUnsubscribe=Te,this._next=Ee?function(be){try{Ee(be)}catch(ze){xe.error(ze)}}:super._next,this._error=Ce?function(be){try{Ce(be)}catch(ze){xe.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(be){xe.error(be)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},6590:(un,dt,L)=>{"use strict";L.d(dt,{d:()=>se});var y=L(4482),g=L(5403);function se(ge){return(0,y.e)((xe,Ee)=>{let de=!1;xe.subscribe((0,g.x)(Ee,Ce=>{de=!0,Ee.next(Ce)},()=>{de||Ee.next(ge),Ee.complete()}))})}},1884:(un,dt,L)=>{"use strict";L.d(dt,{x:()=>ge});var y=L(4671),g=L(4482),se=L(5403);function ge(Ee,de=y.y){return Ee=null!=Ee?Ee:xe,(0,g.e)((Ce,Ve)=>{let Te,be=!0;Ce.subscribe((0,se.x)(Ve,ze=>{const ve=de(ze);(be||!Ee(Te,ve))&&(be=!1,Te=ve,Ve.next(ze))}))})}function xe(Ee,de){return Ee===de}},9300:(un,dt,L)=>{"use strict";L.d(dt,{h:()=>se});var y=L(4482),g=L(5403);function se(ge,xe){return(0,y.e)((Ee,de)=>{let Ce=0;Ee.subscribe((0,g.x)(de,Ve=>ge.call(xe,Ve,Ce++)&&de.next(Ve)))})}},590:(un,dt,L)=>{"use strict";L.d(dt,{P:()=>de});var y=L(6805),g=L(9300),se=L(5698),ge=L(6590),xe=L(8068),Ee=L(4671);function de(Ce,Ve){const Te=arguments.length>=2;return be=>be.pipe(Ce?(0,g.h)((ze,ve)=>Ce(ze,ve,be)):Ee.y,(0,se.q)(1),Te?(0,ge.d)(Ve):(0,xe.T)(()=>new y.K))}},4004:(un,dt,L)=>{"use strict";L.d(dt,{U:()=>se});var y=L(4482),g=L(5403);function se(ge,xe){return(0,y.e)((Ee,de)=>{let Ce=0;Ee.subscribe((0,g.x)(de,Ve=>{de.next(ge.call(xe,Ve,Ce++))}))})}},8189:(un,dt,L)=>{"use strict";L.d(dt,{J:()=>se});var y=L(5577),g=L(4671);function se(ge=1/0){return(0,y.z)(g.y,ge)}},5577:(un,dt,L)=>{"use strict";L.d(dt,{z:()=>Ce});var y=L(4004),g=L(8421),se=L(4482),ge=L(9672),xe=L(5403),de=L(576);function Ce(Ve,Te,be=1/0){return(0,de.m)(Te)?Ce((ze,ve)=>(0,y.U)((Ue,Ze)=>Te(ze,Ue,ve,Ze))((0,g.Xf)(Ve(ze,ve))),be):("number"==typeof Te&&(be=Te),(0,se.e)((ze,ve)=>function Ee(Ve,Te,be,ze,ve,Ue,Ze,It){const Me=[];let we=0,ft=0,ot=!1;const Ge=()=>{ot&&!Me.length&&!we&&Te.complete()},it=_t=>we<ze?gt(_t):Me.push(_t),gt=_t=>{Ue&&Te.next(_t),we++;let Ye=!1;(0,g.Xf)(be(_t,ft++)).subscribe((0,xe.x)(Te,Oe=>{null==ve||ve(Oe),Ue?it(Oe):Te.next(Oe)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(we--;Me.length&&we<ze;){const Oe=Me.shift();Ze?(0,ge.f)(Te,Ze,()=>gt(Oe)):gt(Oe)}Ge()}catch(Oe){Te.error(Oe)}}))};return Ve.subscribe((0,xe.x)(Te,it,()=>{ot=!0,Ge()})),()=>{null==It||It()}}(ze,ve,Ve,be)))}},5363:(un,dt,L)=>{"use strict";L.d(dt,{Q:()=>ge});var y=L(9672),g=L(4482),se=L(5403);function ge(xe,Ee=0){return(0,g.e)((de,Ce)=>{de.subscribe((0,se.x)(Ce,Ve=>(0,y.f)(Ce,xe,()=>Ce.next(Ve),Ee),()=>(0,y.f)(Ce,xe,()=>Ce.complete(),Ee),Ve=>(0,y.f)(Ce,xe,()=>Ce.error(Ve),Ee)))})}},1520:(un,dt,L)=>{"use strict";L.d(dt,{G:()=>se});var y=L(4482),g=L(5403);function se(){return(0,y.e)((ge,xe)=>{let Ee,de=!1;ge.subscribe((0,g.x)(xe,Ce=>{const Ve=Ee;Ee=Ce,de&&xe.next([Ve,Ce]),de=!0}))})}},5026:(un,dt,L)=>{"use strict";L.d(dt,{R:()=>ge});var y=L(4482),g=L(5403);function ge(xe,Ee){return(0,y.e)(function se(xe,Ee,de,Ce,Ve){return(Te,be)=>{let ze=de,ve=Ee,Ue=0;Te.subscribe((0,g.x)(be,Ze=>{const It=Ue++;ve=ze?xe(ve,Ze,It):(ze=!0,Ze),Ce&&be.next(ve)},Ve&&(()=>{ze&&be.next(ve),be.complete()})))}}(xe,Ee,arguments.length>=2,!0))}},3099:(un,dt,L)=>{"use strict";L.d(dt,{B:()=>xe});var y=L(8421),g=L(7579),se=L(930),ge=L(4482);function xe(de={}){const{connector:Ce=(()=>new g.x),resetOnError:Ve=!0,resetOnComplete:Te=!0,resetOnRefCountZero:be=!0}=de;return ze=>{let ve,Ue,Ze,It=0,Me=!1,we=!1;const ft=()=>{null==Ue||Ue.unsubscribe(),Ue=void 0},ot=()=>{ft(),ve=Ze=void 0,Me=we=!1},Ge=()=>{const it=ve;ot(),null==it||it.unsubscribe()};return(0,ge.e)((it,gt)=>{It++,!we&&!Me&&ft();const _t=Ze=null!=Ze?Ze:Ce();gt.add(()=>{It--,0===It&&!we&&!Me&&(Ue=Ee(Ge,be))}),_t.subscribe(gt),!ve&&It>0&&(ve=new se.Hp({next:Ye=>_t.next(Ye),error:Ye=>{we=!0,ft(),Ue=Ee(ot,Ve,Ye),_t.error(Ye)},complete:()=>{Me=!0,ft(),Ue=Ee(ot,Te),_t.complete()}}),(0,y.Xf)(it).subscribe(ve))})(ze)}}function Ee(de,Ce,...Ve){if(!0===Ce)return void de();if(!1===Ce)return;const Te=new se.Hp({next:()=>{Te.unsubscribe(),de()}});return(0,y.Xf)(Ce(...Ve)).subscribe(Te)}},3151:(un,dt,L)=>{"use strict";L.d(dt,{d:()=>xe});var y=L(7579),g=L(6063);class se extends y.x{constructor(de=1/0,Ce=1/0,Ve=g.l){super(),this._bufferSize=de,this._windowTime=Ce,this._timestampProvider=Ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,de),this._windowTime=Math.max(1,Ce)}next(de){const{isStopped:Ce,_buffer:Ve,_infiniteTimeWindow:Te,_timestampProvider:be,_windowTime:ze}=this;Ce||(Ve.push(de),!Te&&Ve.push(be.now()+ze)),this._trimBuffer(),super.next(de)}_subscribe(de){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(de),{_infiniteTimeWindow:Ve,_buffer:Te}=this,be=Te.slice();for(let ze=0;ze<be.length&&!de.closed;ze+=Ve?1:2)de.next(be[ze]);return this._checkFinalizedStatuses(de),Ce}_trimBuffer(){const{_bufferSize:de,_timestampProvider:Ce,_buffer:Ve,_infiniteTimeWindow:Te}=this,be=(Te?1:2)*de;if(de<1/0&&be<Ve.length&&Ve.splice(0,Ve.length-be),!Te){const ze=Ce.now();let ve=0;for(let Ue=1;Ue<Ve.length&&Ve[Ue]<=ze;Ue+=2)ve=Ue;ve&&Ve.splice(0,ve+1)}}}var ge=L(3099);function xe(Ee,de,Ce){let Ve,Te=!1;return Ee&&"object"==typeof Ee?({bufferSize:Ve=1/0,windowTime:de=1/0,refCount:Te=!1,scheduler:Ce}=Ee):Ve=null!=Ee?Ee:1/0,(0,ge.B)({connector:()=>new se(Ve,de,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Te})}},8675:(un,dt,L)=>{"use strict";L.d(dt,{O:()=>ge});var y=L(7272),g=L(7669),se=L(4482);function ge(...xe){const Ee=(0,g.yG)(xe);return(0,se.e)((de,Ce)=>{(Ee?(0,y.z)(xe,de,Ee):(0,y.z)(xe,de)).subscribe(Ce)})}},9468:(un,dt,L)=>{"use strict";L.d(dt,{R:()=>g});var y=L(4482);function g(se,ge=0){return(0,y.e)((xe,Ee)=>{Ee.add(se.schedule(()=>xe.subscribe(Ee),ge))})}},3900:(un,dt,L)=>{"use strict";L.d(dt,{w:()=>ge});var y=L(8421),g=L(4482),se=L(5403);function ge(xe,Ee){return(0,g.e)((de,Ce)=>{let Ve=null,Te=0,be=!1;const ze=()=>be&&!Ve&&Ce.complete();de.subscribe((0,se.x)(Ce,ve=>{null==Ve||Ve.unsubscribe();let Ue=0;const Ze=Te++;(0,y.Xf)(xe(ve,Ze)).subscribe(Ve=(0,se.x)(Ce,It=>Ce.next(Ee?Ee(ve,It,Ze,Ue++):It),()=>{Ve=null,ze()}))},()=>{be=!0,ze()}))})}},5698:(un,dt,L)=>{"use strict";L.d(dt,{q:()=>ge});var y=L(515),g=L(4482),se=L(5403);function ge(xe){return xe<=0?()=>y.E:(0,g.e)((Ee,de)=>{let Ce=0;Ee.subscribe((0,se.x)(de,Ve=>{++Ce<=xe&&(de.next(Ve),xe<=Ce&&de.complete())}))})}},8505:(un,dt,L)=>{"use strict";L.d(dt,{b:()=>xe});var y=L(576),g=L(4482),se=L(5403),ge=L(4671);function xe(Ee,de,Ce){const Ve=(0,y.m)(Ee)||de||Ce?{next:Ee,error:de,complete:Ce}:Ee;return Ve?(0,g.e)((Te,be)=>{var ze;null===(ze=Ve.subscribe)||void 0===ze||ze.call(Ve);let ve=!0;Te.subscribe((0,se.x)(be,Ue=>{var Ze;null===(Ze=Ve.next)||void 0===Ze||Ze.call(Ve,Ue),be.next(Ue)},()=>{var Ue;ve=!1,null===(Ue=Ve.complete)||void 0===Ue||Ue.call(Ve),be.complete()},Ue=>{var Ze;ve=!1,null===(Ze=Ve.error)||void 0===Ze||Ze.call(Ve,Ue),be.error(Ue)},()=>{var Ue,Ze;ve&&(null===(Ue=Ve.unsubscribe)||void 0===Ue||Ue.call(Ve)),null===(Ze=Ve.finalize)||void 0===Ze||Ze.call(Ve)}))}):ge.y}},8068:(un,dt,L)=>{"use strict";L.d(dt,{T:()=>ge});var y=L(6805),g=L(4482),se=L(5403);function ge(Ee=xe){return(0,g.e)((de,Ce)=>{let Ve=!1;de.subscribe((0,se.x)(Ce,Te=>{Ve=!0,Ce.next(Te)},()=>Ve?Ce.complete():Ce.error(Ee())))})}function xe(){return new y.K}},4408:(un,dt,L)=>{"use strict";L.d(dt,{o:()=>xe});var y=L(727);class g extends y.w0{constructor(de,Ce){super()}schedule(de,Ce=0){return this}}const se={setInterval(Ee,de,...Ce){const{delegate:Ve}=se;return null!=Ve&&Ve.setInterval?Ve.setInterval(Ee,de,...Ce):setInterval(Ee,de,...Ce)},clearInterval(Ee){const{delegate:de}=se;return((null==de?void 0:de.clearInterval)||clearInterval)(Ee)},delegate:void 0};var ge=L(8737);class xe extends g{constructor(de,Ce){super(de,Ce),this.scheduler=de,this.work=Ce,this.pending=!1}schedule(de,Ce=0){var Ve;if(this.closed)return this;this.state=de;const Te=this.id,be=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(be,Te,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(be,this.id,Ce),this}requestAsyncId(de,Ce,Ve=0){return se.setInterval(de.flush.bind(de,this),Ve)}recycleAsyncId(de,Ce,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Ce;null!=Ce&&se.clearInterval(Ce)}execute(de,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(de,Ce);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Ce){let Te,Ve=!1;try{this.work(de)}catch(be){Ve=!0,Te=be||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:de,scheduler:Ce}=this,{actions:Ve}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(Ve,this),null!=de&&(this.id=this.recycleAsyncId(Ce,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(un,dt,L)=>{"use strict";L.d(dt,{v:()=>se});var y=L(6063);class g{constructor(xe,Ee=g.now){this.schedulerActionCtor=xe,this.now=Ee}schedule(xe,Ee=0,de){return new this.schedulerActionCtor(this,xe).schedule(de,Ee)}}g.now=y.l.now;class se extends g{constructor(xe,Ee=g.now){super(xe,Ee),this.actions=[],this._active=!1}flush(xe){const{actions:Ee}=this;if(this._active)return void Ee.push(xe);let de;this._active=!0;do{if(de=xe.execute(xe.state,xe.delay))break}while(xe=Ee.shift());if(this._active=!1,de){for(;xe=Ee.shift();)xe.unsubscribe();throw de}}}},4986:(un,dt,L)=>{"use strict";L.d(dt,{z:()=>se});var y=L(4408);const se=new(L(7565).v)(y.o)},6063:(un,dt,L)=>{"use strict";L.d(dt,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(un,dt,L)=>{"use strict";L.d(dt,{z:()=>y});const y={setTimeout(g,se,...ge){const{delegate:xe}=y;return null!=xe&&xe.setTimeout?xe.setTimeout(g,se,...ge):setTimeout(g,se,...ge)},clearTimeout(g){const{delegate:se}=y;return((null==se?void 0:se.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(un,dt,L)=>{"use strict";L.d(dt,{h:()=>g});const g=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(un,dt,L)=>{"use strict";L.d(dt,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(un,dt,L)=>{"use strict";L.d(dt,{K:()=>g});const g=(0,L(3888).d)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(un,dt,L)=>{"use strict";L.d(dt,{_6:()=>Ee,jO:()=>ge,yG:()=>xe});var y=L(576);function se(de){return de[de.length-1]}function ge(de){return(0,y.m)(se(de))?de.pop():void 0}function xe(de){return function g(de){return de&&(0,y.m)(de.schedule)}(se(de))?de.pop():void 0}function Ee(de,Ce){return"number"==typeof se(de)?de.pop():Ce}},4742:(un,dt,L)=>{"use strict";L.d(dt,{D:()=>xe});const{isArray:y}=Array,{getPrototypeOf:g,prototype:se,keys:ge}=Object;function xe(de){if(1===de.length){const Ce=de[0];if(y(Ce))return{args:Ce,keys:null};if(function Ee(de){return de&&"object"==typeof de&&g(de)===se}(Ce)){const Ve=ge(Ce);return{args:Ve.map(Te=>Ce[Te]),keys:Ve}}}return{args:de,keys:null}}},8737:(un,dt,L)=>{"use strict";function y(g,se){if(g){const ge=g.indexOf(se);0<=ge&&g.splice(ge,1)}}L.d(dt,{P:()=>y})},3888:(un,dt,L)=>{"use strict";function y(g){const ge=g(xe=>{Error.call(xe),xe.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}L.d(dt,{d:()=>y})},1810:(un,dt,L)=>{"use strict";function y(g,se){return g.reduce((ge,xe,Ee)=>(ge[xe]=se[Ee],ge),{})}L.d(dt,{n:()=>y})},2806:(un,dt,L)=>{"use strict";L.d(dt,{O:()=>ge,x:()=>se});var y=L(2416);let g=null;function se(xe){if(y.config.useDeprecatedSynchronousErrorHandling){const Ee=!g;if(Ee&&(g={errorThrown:!1,error:null}),xe(),Ee){const{errorThrown:de,error:Ce}=g;if(g=null,de)throw Ce}}else xe()}function ge(xe){y.config.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=xe)}},9672:(un,dt,L)=>{"use strict";function y(g,se,ge,xe=0,Ee=!1){const de=se.schedule(function(){ge(),Ee?g.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(g.add(de),!Ee)return de}L.d(dt,{f:()=>y})},4671:(un,dt,L)=>{"use strict";function y(g){return g}L.d(dt,{y:()=>y})},1144:(un,dt,L)=>{"use strict";L.d(dt,{z:()=>y});const y=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(un,dt,L)=>{"use strict";L.d(dt,{D:()=>g});var y=L(576);function g(se){return Symbol.asyncIterator&&(0,y.m)(null==se?void 0:se[Symbol.asyncIterator])}},576:(un,dt,L)=>{"use strict";function y(g){return"function"==typeof g}L.d(dt,{m:()=>y})},3670:(un,dt,L)=>{"use strict";L.d(dt,{c:()=>se});var y=L(8822),g=L(576);function se(ge){return(0,g.m)(ge[y.L])}},6495:(un,dt,L)=>{"use strict";L.d(dt,{T:()=>se});var y=L(2202),g=L(576);function se(ge){return(0,g.m)(null==ge?void 0:ge[y.h])}},8239:(un,dt,L)=>{"use strict";L.d(dt,{t:()=>g});var y=L(576);function g(se){return(0,y.m)(null==se?void 0:se.then)}},3260:(un,dt,L)=>{"use strict";L.d(dt,{L:()=>ge,Q:()=>se});var y=L(655),g=L(576);function se(xe){return(0,y.FC)(this,arguments,function*(){const de=xe.getReader();try{for(;;){const{value:Ce,done:Ve}=yield(0,y.qq)(de.read());if(Ve)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ce)}}finally{de.releaseLock()}})}function ge(xe){return(0,g.m)(null==xe?void 0:xe.getReader)}},4482:(un,dt,L)=>{"use strict";L.d(dt,{A:()=>g,e:()=>se});var y=L(576);function g(ge){return(0,y.m)(null==ge?void 0:ge.lift)}function se(ge){return xe=>{if(g(xe))return xe.lift(function(Ee){try{return ge(Ee,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(un,dt,L)=>{"use strict";L.d(dt,{Z:()=>ge});var y=L(4004);const{isArray:g}=Array;function ge(xe){return(0,y.U)(Ee=>function se(xe,Ee){return g(Ee)?xe(...Ee):xe(Ee)}(xe,Ee))}},5032:(un,dt,L)=>{"use strict";function y(){}L.d(dt,{Z:()=>y})},9635:(un,dt,L)=>{"use strict";L.d(dt,{U:()=>se,z:()=>g});var y=L(4671);function g(...ge){return se(ge)}function se(ge){return 0===ge.length?y.y:1===ge.length?ge[0]:function(Ee){return ge.reduce((de,Ce)=>Ce(de),Ee)}}},7849:(un,dt,L)=>{"use strict";L.d(dt,{h:()=>se});var y=L(2416),g=L(3410);function se(ge){g.z.setTimeout(()=>{const{onUnhandledError:xe}=y.config;if(!xe)throw ge;xe(ge)})}},4532:(un,dt,L)=>{"use strict";function y(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(dt,{z:()=>y})},863:(un,dt,L)=>{var y={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7879,9230],"./ion-datetime_3.entry.js":[4959,7879,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function g(se){if(!L.o(y,se))return Promise.resolve().then(()=>{var Ee=new Error("Cannot find module '"+se+"'");throw Ee.code="MODULE_NOT_FOUND",Ee});var ge=y[se],xe=ge[0];return Promise.all(ge.slice(1).map(L.e)).then(()=>L(xe))}g.keys=()=>Object.keys(y),g.id=863,un.exports=g},655:(un,dt,L)=>{"use strict";L.d(dt,{FC:()=>it,KL:()=>_t,ZT:()=>g,_T:()=>ge,gn:()=>xe,mG:()=>ze,qq:()=>Ge});var y=function(De,He){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(We,Ne){We.__proto__=Ne}||function(We,Ne){for(var ke in Ne)Object.prototype.hasOwnProperty.call(Ne,ke)&&(We[ke]=Ne[ke])})(De,He)};function g(De,He){if("function"!=typeof He&&null!==He)throw new TypeError("Class extends value "+String(He)+" is not a constructor or null");function We(){this.constructor=De}y(De,He),De.prototype=null===He?Object.create(He):(We.prototype=He.prototype,new We)}function ge(De,He){var We={};for(var Ne in De)Object.prototype.hasOwnProperty.call(De,Ne)&&He.indexOf(Ne)<0&&(We[Ne]=De[Ne]);if(null!=De&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(Ne=Object.getOwnPropertySymbols(De);ke<Ne.length;ke++)He.indexOf(Ne[ke])<0&&Object.prototype.propertyIsEnumerable.call(De,Ne[ke])&&(We[Ne[ke]]=De[Ne[ke]])}return We}function xe(De,He,We,Ne){var ne,ke=arguments.length,je=ke<3?He:null===Ne?Ne=Object.getOwnPropertyDescriptor(He,We):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(De,He,We,Ne);else for(var ct=De.length-1;ct>=0;ct--)(ne=De[ct])&&(je=(ke<3?ne(je):ke>3?ne(He,We,je):ne(He,We))||je);return ke>3&&je&&Object.defineProperty(He,We,je),je}function ze(De,He,We,Ne){return new(We||(We=Promise))(function(je,ne){function ct(rn){try{Pt(Ne.next(rn))}catch(At){ne(At)}}function Tt(rn){try{Pt(Ne.throw(rn))}catch(At){ne(At)}}function Pt(rn){rn.done?je(rn.value):function ke(je){return je instanceof We?je:new We(function(ne){ne(je)})}(rn.value).then(ct,Tt)}Pt((Ne=Ne.apply(De,He||[])).next())})}function Ge(De){return this instanceof Ge?(this.v=De,this):new Ge(De)}function it(De,He,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Ne=We.apply(De,He||[]),je=[];return ke={},ne("next"),ne("throw"),ne("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ne(tt){Ne[tt]&&(ke[tt]=function(kt){return new Promise(function(Jt,cn){je.push([tt,kt,Jt,cn])>1||ct(tt,kt)})})}function ct(tt,kt){try{!function Tt(tt){tt.value instanceof Ge?Promise.resolve(tt.value.v).then(Pt,rn):At(je[0][2],tt)}(Ne[tt](kt))}catch(Jt){At(je[0][3],Jt)}}function Pt(tt){ct("next",tt)}function rn(tt){ct("throw",tt)}function At(tt,kt){tt(kt),je.shift(),je.length&&ct(je[0][0],je[0][1])}}function _t(De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,He=De[Symbol.asyncIterator];return He?He.call(De):(De=function It(De){var He="function"==typeof Symbol&&Symbol.iterator,We=He&&De[He],Ne=0;if(We)return We.call(De);if(De&&"number"==typeof De.length)return{next:function(){return De&&Ne>=De.length&&(De=void 0),{value:De&&De[Ne++],done:!De}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(De),We={},Ne("next"),Ne("throw"),Ne("return"),We[Symbol.asyncIterator]=function(){return this},We);function Ne(je){We[je]=De[je]&&function(ne){return new Promise(function(ct,Tt){!function ke(je,ne,ct,Tt){Promise.resolve(Tt).then(function(Pt){je({value:Pt,done:ct})},ne)}(ct,Tt,(ne=De[je](ne)).done,ne.value)})}}}},4755:(un,dt,L)=>{"use strict";L.d(dt,{Do:()=>ft,EM:()=>qo,HT:()=>ge,JF:()=>Ss,K0:()=>Ee,Mx:()=>ps,NF:()=>Ds,O5:()=>G,PM:()=>Xi,S$:()=>It,V_:()=>Ve,Ye:()=>ot,b0:()=>we,bD:()=>_r,ez:()=>Oi,q:()=>se,tP:()=>fn,w_:()=>xe});var y=L(2223);let g=null;function se(){return g}function ge($){g||(g=$)}class xe{}const Ee=new y.OlP("DocumentToken");let de=(()=>{class ${historyGo(j){throw new Error("Not implemented")}}return $.\u0275fac=function(j){return new(j||$)},$.\u0275prov=y.Yz7({token:$,factory:function(){return function Ce(){return(0,y.LFG)(Te)}()},providedIn:"platform"}),$})();const Ve=new y.OlP("Location Initialized");let Te=(()=>{class $ extends de{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(j){const ye=se().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("popstate",j,!1),()=>ye.removeEventListener("popstate",j)}onHashChange(j){const ye=se().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("hashchange",j,!1),()=>ye.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ye,qe){be()?this._history.pushState(j,ye,qe):this._location.hash=qe}replaceState(j,ye,qe){be()?this._history.replaceState(j,ye,qe):this._location.hash=qe}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return $.\u0275fac=function(j){return new(j||$)(y.LFG(Ee))},$.\u0275prov=y.Yz7({token:$,factory:function(){return function ze(){return new Te((0,y.LFG)(Ee))}()},providedIn:"platform"}),$})();function be(){return!!window.history.pushState}function ve($,re){if(0==$.length)return re;if(0==re.length)return $;let j=0;return $.endsWith("/")&&j++,re.startsWith("/")&&j++,2==j?$+re.substring(1):1==j?$+re:$+"/"+re}function Ue($){const re=$.match(/#|\?|$/),j=re&&re.index||$.length;return $.slice(0,j-("/"===$[j-1]?1:0))+$.slice(j)}function Ze($){return $&&"?"!==$[0]?"?"+$:$}let It=(()=>{class ${historyGo(j){throw new Error("Not implemented")}}return $.\u0275fac=function(j){return new(j||$)},$.\u0275prov=y.Yz7({token:$,factory:function(){return(0,y.f3M)(we)},providedIn:"root"}),$})();const Me=new y.OlP("appBaseHref");let we=(()=>{class $ extends It{constructor(j,ye){var qe,jt,Qt;super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=null!==(qe=null!==(jt=null!=ye?ye:this._platformLocation.getBaseHrefFromDOM())&&void 0!==jt?jt:null===(Qt=(0,y.f3M)(Ee).location)||void 0===Qt?void 0:Qt.origin)&&void 0!==qe?qe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ve(this._baseHref,j)}path(j=!1){const ye=this._platformLocation.pathname+Ze(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&j?`${ye}${qe}`:ye}pushState(j,ye,qe,jt){const Qt=this.prepareExternalUrl(qe+Ze(jt));this._platformLocation.pushState(j,ye,Qt)}replaceState(j,ye,qe,jt){const Qt=this.prepareExternalUrl(qe+Ze(jt));this._platformLocation.replaceState(j,ye,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var ye,qe;null===(ye=(qe=this._platformLocation).historyGo)||void 0===ye||ye.call(qe,j)}}return $.\u0275fac=function(j){return new(j||$)(y.LFG(de),y.LFG(Me,8))},$.\u0275prov=y.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),ft=(()=>{class $ extends It{constructor(j,ye){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ye&&(this._baseHref=ye)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ye=this._platformLocation.hash;return null==ye&&(ye="#"),ye.length>0?ye.substring(1):ye}prepareExternalUrl(j){const ye=ve(this._baseHref,j);return ye.length>0?"#"+ye:ye}pushState(j,ye,qe,jt){let Qt=this.prepareExternalUrl(qe+Ze(jt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.pushState(j,ye,Qt)}replaceState(j,ye,qe,jt){let Qt=this.prepareExternalUrl(qe+Ze(jt));0==Qt.length&&(Qt=this._platformLocation.pathname),this._platformLocation.replaceState(j,ye,Qt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var ye,qe;null===(ye=(qe=this._platformLocation).historyGo)||void 0===ye||ye.call(qe,j)}}return $.\u0275fac=function(j){return new(j||$)(y.LFG(de),y.LFG(Me,8))},$.\u0275prov=y.Yz7({token:$,factory:$.\u0275fac}),$})(),ot=(()=>{class ${constructor(j){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ye=this._locationStrategy.getBaseHref();this._basePath=function _t($){if(new RegExp("^(https?:)?//").test($)){const[,j]=$.split(/\/\/[^\/]+/);return j}return $}(Ue(gt(ye))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){var j;null===(j=this._urlChangeSubscription)||void 0===j||j.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ye=""){return this.path()==this.normalize(j+Ze(ye))}normalize(j){return $.stripTrailingSlash(function it($,re){if(!$||!re.startsWith($))return re;const j=re.substring($.length);return""===j||["/",";","?","#"].includes(j[0])?j:re}(this._basePath,gt(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ye="",qe=null){this._locationStrategy.pushState(qe,"",j,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ze(ye)),qe)}replaceState(j,ye="",qe=null){this._locationStrategy.replaceState(qe,"",j,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Ze(ye)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){var ye,qe;null===(ye=(qe=this._locationStrategy).historyGo)||void 0===ye||ye.call(qe,j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ye=>{this._notifyUrlChangeListeners(ye.url,ye.state)})),()=>{const ye=this._urlChangeListeners.indexOf(j);var qe;this._urlChangeListeners.splice(ye,1),0===this._urlChangeListeners.length&&(null===(qe=this._urlChangeSubscription)||void 0===qe||qe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ye){this._urlChangeListeners.forEach(qe=>qe(j,ye))}subscribe(j,ye,qe){return this._subject.subscribe({next:j,error:ye,complete:qe})}}return $.normalizeQueryParams=Ze,$.joinWithSlash=ve,$.stripTrailingSlash=Ue,$.\u0275fac=function(j){return new(j||$)(y.LFG(It))},$.\u0275prov=y.Yz7({token:$,factory:function(){return function Ge(){return new ot((0,y.LFG)(It))}()},providedIn:"root"}),$})();function gt($){return $.replace(/\/index.html$/,"")}function ps($,re){re=encodeURIComponent(re);for(const j of $.split(";")){const ye=j.indexOf("="),[qe,jt]=-1==ye?[j,""]:[j.slice(0,ye),j.slice(ye+1)];if(qe.trim()===re)return decodeURIComponent(jt)}return null}let G=(()=>{class ${constructor(j,ye){this._viewContainer=j,this._context=new X,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ye}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){_e("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){_e("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ye){return!0}}return $.\u0275fac=function(j){return new(j||$)(y.Y36(y.s_b),y.Y36(y.Rgc))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),$})();class X{constructor(){this.$implicit=null,this.ngIf=null}}function _e($,re){if(re&&!re.createEmbeddedView)throw new Error(`${$} must be a TemplateRef, but received '${(0,y.AaK)(re)}'.`)}let fn=(()=>{class ${constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const ye=this._viewContainerRef;if(this._viewRef&&ye.remove(ye.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:qe,ngTemplateOutletContext:jt,ngTemplateOutletInjector:Qt}=this;this._viewRef=ye.createEmbeddedView(qe,jt,Qt?{injector:Qt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return $.\u0275fac=function(j){return new(j||$)(y.Y36(y.s_b))},$.\u0275dir=y.lG2({type:$,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),$})(),Oi=(()=>{class ${}return $.\u0275fac=function(j){return new(j||$)},$.\u0275mod=y.oAB({type:$}),$.\u0275inj=y.cJS({}),$})();const _r="browser",Mo="server";function Ds($){return $===_r}function Xi($){return $===Mo}let qo=(()=>{class ${}return $.\u0275prov=(0,y.Yz7)({token:$,providedIn:"root",factory:()=>new us((0,y.LFG)(Ee),window)}),$})();class us{constructor(re,j){this.document=re,this.window=j,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const j=function $o($,re){const j=$.getElementById(re)||$.getElementsByName(re)[0];if(j)return j;if("function"==typeof $.createTreeWalker&&$.body&&"function"==typeof $.body.attachShadow){const ye=$.createTreeWalker($.body,NodeFilter.SHOW_ELEMENT);let qe=ye.currentNode;for(;qe;){const jt=qe.shadowRoot;if(jt){const Qt=jt.getElementById(re)||jt.querySelector(`[name="${re}"]`);if(Qt)return Qt}qe=ye.nextNode()}}return null}(this.document,re);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=re)}}scrollToElement(re){const j=re.getBoundingClientRect(),ye=j.left+this.window.pageXOffset,qe=j.top+this.window.pageYOffset,jt=this.offset();this.window.scrollTo(ye-jt[0],qe-jt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=zi(this.window.history)||zi(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function zi($){return Object.getOwnPropertyDescriptor($,"scrollRestoration")}class Ss{}},2223:(un,dt,L)=>{"use strict";L.d(dt,{$8M:()=>ms,$WT:()=>an,$Z:()=>Td,AFp:()=>Oy,AaK:()=>Ve,CHM:()=>Ts,CRH:()=>qI,D6c:()=>LD,EJc:()=>Ub,EpF:()=>Cg,F$t:()=>Dg,F4k:()=>P_,FYo:()=>um,FiY:()=>mc,G48:()=>dD,GSi:()=>vm,Gf:()=>WI,GfV:()=>bd,GkF:()=>Zm,Gpc:()=>ze,HDt:()=>XC,Hsn:()=>ip,JOm:()=>Da,KtG:()=>ca,LFG:()=>Mt,LMc:()=>$D,Lbi:()=>em,Lck:()=>PI,MAs:()=>Ya,MMx:()=>nw,NdJ:()=>np,Ojb:()=>xc,OlP:()=>qi,Oqu:()=>Dn,P3R:()=>Mf,PXZ:()=>nD,Q6J:()=>cl,QGY:()=>Tv,QbO:()=>g_,Qsj:()=>pa,R0b:()=>ml,RDi:()=>Do,Rgc:()=>Vr,SBq:()=>Cd,Sil:()=>Hb,Suo:()=>KI,TTD:()=>fi,TgZ:()=>Wh,X6Q:()=>cD,XFs:()=>Yt,Xpm:()=>os,Xts:()=>Tc,Y36:()=>Bl,YKP:()=>ew,YNc:()=>Ud,Yjl:()=>$e,Yz7:()=>tt,Z0I:()=>Mn,ZZ4:()=>kw,_Bn:()=>JE,_UZ:()=>wg,_Vd:()=>kl,_c5:()=>TD,_uU:()=>Se,aQg:()=>Fw,c2e:()=>gC,cJS:()=>Jt,cg1:()=>W_,dDg:()=>Xb,dqk:()=>Cn,eFA:()=>MC,eJc:()=>vw,ekj:()=>iy,eoX:()=>DC,f3M:()=>wn,g9A:()=>Ny,h0i:()=>ay,hGG:()=>AD,hij:()=>Hn,iGM:()=>GI,ifc:()=>Fe,ip1:()=>pC,jDz:()=>rw,kL8:()=>IE,lG2:()=>ie,lqb:()=>_d,lri:()=>CC,n5z:()=>id,oAB:()=>_e,oxw:()=>qh,q4F:()=>cm,qFp:()=>VD,qLn:()=>Dh,qOj:()=>Yf,qZA:()=>Iu,rWj:()=>bC,sBO:()=>hD,s_b:()=>Y0,soG:()=>Q0,tb:()=>Mw,tp0:()=>nu,uIk:()=>Fs,vHH:()=>we,vpe:()=>nc,wAp:()=>Gr,xp6:()=>Zp,z2F:()=>Zv,zSh:()=>Eh,zs3:()=>yu});var Ee,y=L(7579),g=L(727),se=L(9751),ge=L(6451),xe=L(3099);function de(n){for(let r in n)if(n[r]===de)return r;throw Error("Could not find renamed property on target object.")}function Ce(n,r){for(const a in r)r.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=r[a])}function Ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function Te(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const be=de({__forward_ref__:de});function ze(n){return n.__forward_ref__=ze,n.toString=function(){return Ve(this())},n}function ve(n){return Ue(n)?n():n}function Ue(n){return"function"==typeof n&&n.hasOwnProperty(be)&&n.__forward_ref__===ze}function Ze(n){return n&&!!n.\u0275providers}const Me="https://g.co/ng/security#xss";class we extends Error{constructor(r,a){super(function ft(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,a)),this.code=r}}function ot(n){return"string"==typeof n?n:null==n?"":String(n)}function Ye(n,r){throw new we(-201,!1)}function ct(n,r){null==n&&function Tt(n,r,a,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${a} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function tt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function cn(n){return _n(n,Ft)||_n(n,hr)}function Mn(n){return null!==cn(n)}function _n(n,r){return n.hasOwnProperty(r)?n[r]:null}function In(n){return n&&(n.hasOwnProperty(Kn)||n.hasOwnProperty(yr))?n[Kn]:null}const Ft=de({\u0275prov:de}),Kn=de({\u0275inj:de}),hr=de({ngInjectableDef:de}),yr=de({ngInjectorDef:de});var Yt=(()=>((Yt=Yt||{})[Yt.Default=0]="Default",Yt[Yt.Host=1]="Host",Yt[Yt.Self=2]="Self",Yt[Yt.SkipSelf=4]="SkipSelf",Yt[Yt.Optional=8]="Optional",Yt))();let Pr;function zn(n){const r=Pr;return Pr=n,r}function tr(n,r,a){const c=cn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Yt.Optional?null:void 0!==r?r:void Ye(Ve(n))}const Cn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ur={},cr="__NG_DI_FLAG__",Rr="ngTempTokenPath",Wn=/\n/gm,ei="__source";let Vn;function fe(n){const r=Vn;return Vn=n,r}function Ke(n,r=Yt.Default){if(void 0===Vn)throw new we(-203,!1);return null===Vn?tr(n,void 0,r):Vn.get(n,r&Yt.Optional?null:void 0,r)}function Mt(n,r=Yt.Default){return(function er(){return Pr}()||Ke)(ve(n),r)}function wn(n,r=Yt.Default){return Mt(n,pr(r))}function pr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Xn(n){const r=[];for(let a=0;a<n.length;a++){const c=ve(n[a]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let f,v=Yt.Default;for(let b=0;b<c.length;b++){const x=c[b],B=et(x);"number"==typeof B?-1===B?f=x.token:v|=B:f=x}r.push(Mt(f,v))}else r.push(Mt(c))}return r}function gr(n,r){return n[cr]=r,n.prototype[cr]=r,n}function et(n){return n[cr]}function H(n){return{toString:n}.toString()}var K=(()=>((K=K||{})[K.OnPush=0]="OnPush",K[K.Default=1]="Default",K))(),Fe=(()=>{return(n=Fe||(Fe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Fe;var n})();const at={},Be=[],pt=de({\u0275cmp:de}),Ct=de({\u0275dir:de}),Kt=de({\u0275pipe:de}),Ht=de({\u0275mod:de}),sn=de({\u0275fac:de}),dn=de({__NG_ELEMENT_ID__:de}),Gn=de({__NG_ENV_ID__:de});function Un(n,r,a){let c=n.length;for(;;){const f=n.indexOf(r,a);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const v=r.length;if(f+v===c||n.charCodeAt(f+v)<=32)return f}a=f+1}}function Dt(n,r,a){let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const v=a[c++],b=a[c++],x=a[c++];n.setAttribute(r,b,x,v)}else{const v=f,b=a[++c];Wt(v)?n.setProperty(r,v,b):n.setAttribute(r,v,b),c++}}return c}function bt(n){return 3===n||4===n||6===n}function Wt(n){return 64===n.charCodeAt(0)}function vn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let a=-1;for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?a=f:0===a||Nn(n,a,f,null,-1===a||2===a?r[++c]:null)}}return n}function Nn(n,r,a,c,f){let v=0,b=n.length;if(-1===r)b=-1;else for(;v<n.length;){const x=n[v++];if("number"==typeof x){if(x===r){b=-1;break}if(x>r){b=v-1;break}}}for(;v<n.length;){const x=n[v];if("number"==typeof x)break;if(x===a){if(null===c)return void(null!==f&&(n[v+1]=f));if(c===n[v+1])return void(n[v+2]=f)}v++,null!==c&&v++,null!==f&&v++}-1!==b&&(n.splice(b,0,r),v=b+1),n.splice(v++,0,a),null!==c&&n.splice(v++,0,c),null!==f&&n.splice(v++,0,f)}const ir="ng-template";function nr(n,r,a){let c=0,f=!0;for(;c<n.length;){let v=n[c++];if("string"==typeof v&&f){const b=n[c++];if(a&&"class"===v&&-1!==Un(b.toLowerCase(),r,0))return!0}else{if(1===v){for(;c<n.length&&"string"==typeof(v=n[c++]);)if(v.toLowerCase()===r)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function Zr(n){return 4===n.type&&n.value!==ir}function Ar(n,r,a){return r===(4!==n.type||a?n.value:ir)}function dr(n,r,a){let c=4;const f=n.attrs||[],v=function Ci(n){for(let r=0;r<n.length;r++)if(bt(n[r]))return r;return n.length}(f);let b=!1;for(let x=0;x<r.length;x++){const B=r[x];if("number"!=typeof B){if(!b)if(4&c){if(c=2|1&c,""!==B&&!Ar(n,B,a)||""===B&&1===r.length){if(Qn(c))return!1;b=!0}}else{const J=8&c?B:r[++x];if(8&c&&null!==n.attrs){if(!nr(n.attrs,J,a)){if(Qn(c))return!1;b=!0}continue}const Le=vi(8&c?"class":B,f,Zr(n),a);if(-1===Le){if(Qn(c))return!1;b=!0;continue}if(""!==J){let ut;ut=Le>v?"":f[Le+1].toLowerCase();const Rt=8&c?ut:null;if(Rt&&-1!==Un(Rt,J,0)||2&c&&J!==ut){if(Qn(c))return!1;b=!0}}}}else{if(!b&&!Qn(c)&&!Qn(B))return!1;if(b&&Qn(B))continue;b=!1,c=B|1&c}}return Qn(c)||b}function Qn(n){return 0==(1&n)}function vi(n,r,a,c){if(null===r)return-1;let f=0;if(c||!a){let v=!1;for(;f<r.length;){const b=r[f];if(b===n)return f;if(3===b||6===b)v=!0;else{if(1===b||2===b){let x=r[++f];for(;"string"==typeof x;)x=r[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=v?1:2}return-1}return function es(n,r){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const c=n[a];if("number"==typeof c)return-1;if(c===r)return a;a++}return-1}(r,n)}function _i(n,r,a=!1){for(let c=0;c<r.length;c++)if(dr(n,r[c],a))return!0;return!1}function Os(n,r){e:for(let a=0;a<r.length;a++){const c=r[a];if(n.length===c.length){for(let f=0;f<n.length;f++)if(n[f]!==c[f])continue e;return!0}}return!1}function xi(n,r){return n?":not("+r.trim()+")":r}function si(n){let r=n[0],a=1,c=2,f="",v=!1;for(;a<n.length;){let b=n[a];if("string"==typeof b)if(2&c){const x=n[++a];f+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&c?f+="."+b:4&c&&(f+=" "+b);else""!==f&&!Qn(b)&&(r+=xi(v,f),f=""),c=b,v=v||!Qn(c);a++}return""!==f&&(r+=xi(v,f)),r}function os(n){return H(()=>{const r=Ln(n),a={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Fe.Emulated,styles:n.styles||Be,_:null,schemas:n.schemas||null,tView:null,id:""};sr(a);const c=n.dependencies;return a.directiveDefs=Ei(c,!1),a.pipeDefs=Ei(c,!0),a.id=function Pi(n){let r=0;const a=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const f of a)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function G(n){return Qe(n)||ht(n)}function X(n){return null!==n}function _e(n){return H(()=>({type:n.type,bootstrap:n.bootstrap||Be,declarations:n.declarations||Be,imports:n.imports||Be,exports:n.exports||Be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function z(n,r){if(null==n)return at;const a={};for(const c in n)if(n.hasOwnProperty(c)){let f=n[c],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),a[f]=c,r&&(r[f]=v)}return a}function ie(n){return H(()=>{const r=Ln(n);return sr(r),r})}function $e(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qe(n){return n[pt]||null}function ht(n){return n[Ct]||null}function xt(n){return n[Kt]||null}function an(n){const r=Qe(n)||ht(n)||xt(n);return null!==r&&r.standalone}function fn(n,r){const a=n[Ht]||null;if(!a&&!0===r)throw new Error(`Type ${Ve(n)} does not have '\u0275mod' property.`);return a}function Ln(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Be,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:z(n.inputs,r),outputs:z(n.outputs)}}function sr(n){var r;null===(r=n.features)||void 0===r||r.forEach(a=>a(n))}function Ei(n,r){if(!n)return null;const a=r?xt:G;return()=>("function"==typeof n?n():n).map(c=>a(c)).filter(X)}const Hr=0,bn=1,Ir=2,Wr=3,Li=4,$s=5,hi=6,Zi=7,Ur=8,Qi=9,as=10,on=11,Nr=12,mr=13,wi=14,vr=15,ls=16,Vs=17,ts=18,Us=19,ti=20,or=21,ni=22,vo=23,Oi=24,_r=25,js=1,la=2,Ds=7,Xi=8,Rs=9,Ui=11;function us(n){return Array.isArray(n)&&"object"==typeof n[js]}function zi(n){return Array.isArray(n)&&!0===n[js]}function $o(n){return 0!=(4&n.flags)}function Ro(n){return n.componentOffset>-1}function Ss(n){return 1==(1&n.flags)}function br(n){return!!n.template}function _s(n){return 0!=(512&n[Ir])}function ds(n,r){return n.hasOwnProperty(sn)?n[sn]:null}let C=null!==(Ee=Cn.WeakRef)&&void 0!==Ee?Ee:class U{constructor(r){this.ref=r}deref(){return this.ref}},st=0,$t=null,Zt=!1;function mn(n){const r=$t;return $t=n,r}class Qr{constructor(){this.id=st++,this.ref=function P(n){return new C(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(r),null==c||c.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=Zt;Zt=!0;try{for(const[a,c]of this.consumers){const f=c.consumerNode.deref();void 0!==f&&f.trackingVersion===c.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),null==f||f.producers.delete(this.id))}}finally{Zt=r}}producerAccessed(){if(Zt)throw new Error("");if(null===$t)return;let r=$t.producers.get(this.id);void 0===r?(r={consumerNode:$t.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:$t.trackingVersion},$t.producers.set(this.id,r),this.consumers.set($t.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=$t.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=$t)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let Hs=null;const Ra=()=>{};class Po extends Qr{constructor(r,a,c){super(),this.watch=r,this.schedule=a,this.dirty=!1,this.cleanupFn=Ra,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=mn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ra,this.watch(this.registerOnCleanup)}finally{mn(r)}}cleanup(){this.cleanupFn()}}class Qa{constructor(r,a,c){this.previousValue=r,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function fi(){return Wl}function Wl(n){return n.type.prototype.ngOnChanges&&(n.setInput=co),Au}function Au(){const n=Vo(this),r=null==n?void 0:n.current;if(r){const a=n.previous;if(a===at)n.previous=r;else for(let c in r)a[c]=r[c];n.current=null,this.ngOnChanges(r)}}function co(n,r,a,c){const f=this.declaredInputs[a],v=Vo(n)||function Zo(n,r){return n[ic]=r}(n,{previous:at,current:null}),b=v.current||(v.current={}),x=v.previous,B=x[f];b[f]=new Qa(B&&B.currentValue,r,x===at),n[c]=r}fi.ngInherit=!0;const ic="__ngSimpleChanges__";function Vo(n){return n[ic]||null}const xs=function(n,r,a){};function Ni(n){for(;Array.isArray(n);)n=n[Hr];return n}function _a(n,r){return Ni(r[n])}function Kr(n,r){return Ni(r[n.index])}function Ea(n,r){return n.data[r]}function zs(n,r){const a=r[n];return us(a)?a:a[Hr]}function ua(n){return 128==(128&n[Ir])}function re(n,r){return null==r?null:n[r]}function j(n){n[Vs]=0}function ye(n){1024&n[Ir]||(n[Ir]|=1024,jt(n,1))}function qe(n){1024&n[Ir]&&(n[Ir]&=-1025,jt(n,-1))}function jt(n,r){let a=n[Wr];if(null===a)return;a[$s]+=r;let c=a;for(a=a[Wr];null!==a&&(1===r&&1===c[$s]||-1===r&&0===c[$s]);)a[$s]+=r,c=a,a=a[Wr]}const yn={lFrame:Xl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jn(){return yn.bindingsEnabled}function Xe(){return yn.lFrame.lView}function Lt(){return yn.lFrame.tView}function Ts(n){return yn.lFrame.contextLView=n,n[Ur]}function ca(n){return yn.lFrame.contextLView=null,n}function Gs(){let n=sc();for(;null!==n&&64===n.type;)n=n.parent;return n}function sc(){return yn.lFrame.currentTNode}function Pa(n,r){const a=yn.lFrame;a.currentTNode=n,a.isParent=r}function oc(){return yn.lFrame.isParent}function ac(){yn.lFrame.isParent=!1}function Zl(){return yn.lFrame.bindingIndex++}function pi(n,r){const a=yn.lFrame;a.bindingIndex=a.bindingRootIndex=n,Hi(r)}function Hi(n){yn.lFrame.currentDirectiveIndex=n}function da(){return yn.lFrame.currentQueryIndex}function Na(n){yn.lFrame.currentQueryIndex=n}function ka(n){const r=n[bn];return 2===r.type?r.declTNode:1===r.type?n[hi]:null}function uc(n,r,a){if(a&Yt.SkipSelf){let f=r,v=n;for(;!(f=f.parent,null!==f||a&Yt.Host||(f=ka(v),null===f||(v=v[wi],10&f.type))););if(null===f)return!1;r=f,n=v}const c=yn.lFrame=Qc();return c.currentTNode=r,c.lView=n,!0}function El(n){const r=Qc(),a=n[bn];yn.lFrame=r,r.currentTNode=a.firstChild,r.lView=n,r.tView=a,r.contextLView=n,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function Qc(){const n=yn.lFrame,r=null===n?null:n.child;return null===r?Xl(n):r}function Xl(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Mu(){const n=yn.lFrame;return yn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wl=Mu;function wo(){const n=Mu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Js(){return yn.lFrame.selectedIndex}function Io(n){yn.lFrame.selectedIndex=n}function Gi(){const n=yn.lFrame;return Ea(n.tView,n.selectedIndex)}let Ja=!0;function Jc(){return Ja}function Co(n){Ja=n}function Pu(n,r){for(let J=r.directiveStart,pe=r.directiveEnd;J<pe;J++){const ut=n.data[J].type.prototype,{ngAfterContentInit:Rt,ngAfterContentChecked:nn,ngAfterViewInit:Sn,ngAfterViewChecked:$n,ngOnDestroy:Zn}=ut;var a,c,f,v,b,x,B;Rt&&(null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(-J,Rt),nn&&((null!==(c=n.contentHooks)&&void 0!==c?c:n.contentHooks=[]).push(J,nn),(null!==(f=n.contentCheckHooks)&&void 0!==f?f:n.contentCheckHooks=[]).push(J,nn)),Sn&&(null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(-J,Sn),$n&&((null!==(b=n.viewHooks)&&void 0!==b?b:n.viewHooks=[]).push(J,$n),(null!==(x=n.viewCheckHooks)&&void 0!==x?x:n.viewCheckHooks=[]).push(J,$n)),null!=Zn&&(null!==(B=n.destroyHooks)&&void 0!==B?B:n.destroyHooks=[]).push(J,Zn)}}function M(n,r,a){F(n,r,3,a)}function N(n,r,a,c){(3&n[Ir])===a&&F(n,r,a,c)}function D(n,r){let a=n[Ir];(3&a)===r&&(a&=4095,a+=1,n[Ir]=a)}function F(n,r,a,c){const v=null!=c?c:-1,b=r.length-1;let x=0;for(let B=void 0!==c?65535&n[Vs]:0;B<b;B++)if("number"==typeof r[B+1]){if(x=r[B],null!=c&&x>=c)break}else r[B]<0&&(n[Vs]+=65536),(x<v||-1==v)&&(Re(n,a,r,B),n[Vs]=(4294901760&n[Vs])+B+2),B++}function ee(n,r){xs(4,n,r);const a=mn(null);try{r.call(n)}finally{mn(a),xs(5,n,r)}}function Re(n,r,a,c){const f=a[c]<0,v=a[c+1],x=n[f?-a[c]:a[c]];f?n[Ir]>>12<n[Vs]>>16&&(3&n[Ir])===r&&(n[Ir]+=4096,ee(x,v)):ee(x,v)}const Ie=-1;class yt{constructor(r,a,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ou(n){return n!==Ie}function Fa(n){return 32767&n}function Ho(n,r){let a=function Ia(n){return n>>16}(n),c=r;for(;a>0;)c=c[wi],a--;return c}let Jl=!0;function Oo(n){const r=Jl;return Jl=n,r}const ed=255,Yd=5;let cp=0;const el={};function Cl(n,r){const a=Ca(n,r);if(-1!==a)return a;const c=r[bn];c.firstCreatePass&&(n.injectorIndex=r.length,rf(c.data,n),rf(r,null),rf(c.blueprint,null));const f=eu(n,r),v=n.injectorIndex;if(Ou(f)){const b=Fa(f),x=Ho(f,r),B=x[bn].data;for(let J=0;J<8;J++)r[v+J]=x[b+J]|B[b+J]}return r[v+8]=f,v}function rf(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ca(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function eu(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,c=null,f=r;for(;null!==f;){if(c=La(f),null===c)return Ie;if(a++,f=f[wi],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Ie}function td(n,r,a){!function dp(n,r,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(dn)&&(c=a[dn]),null==c&&(c=a[dn]=cp++);const f=c&ed;r.data[n+(f>>Yd)]|=1<<f}(n,r,a)}function to(n,r,a){if(a&Yt.Optional||void 0!==n)return n;Ye()}function tl(n,r,a,c){if(a&Yt.Optional&&void 0===c&&(c=null),!(a&(Yt.Self|Yt.Host))){const f=n[Qi],v=zn(void 0);try{return f?f.get(r,c,a&Yt.Optional):tr(r,c,a&Yt.Optional)}finally{zn(v)}}return to(c,0,a)}function nl(n,r,a,c=Yt.Default,f){if(null!==n){if(2048&r[Ir]){const b=function af(n,r,a,c,f){let v=n,b=r;for(;null!==v&&null!==b&&2048&b[Ir]&&!(512&b[Ir]);){const x=sf(v,b,a,c|Yt.Self,el);if(x!==el)return x;let B=v.parent;if(!B){const J=b[ti];if(J){const pe=J.get(a,el,c);if(pe!==el)return pe}B=La(b),b=b[wi]}v=B}return f}(n,r,a,c,el);if(b!==el)return b}const v=sf(n,r,a,c,el);if(v!==el)return v}return tl(r,a,c,f)}function sf(n,r,a,c,f){const v=function Ki(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(dn)?n[dn]:void 0;return"number"==typeof r?r>=0?r&ed:cc:r}(a);if("function"==typeof v){if(!uc(r,n,c))return c&Yt.Host?to(f,0,c):tl(r,a,c,f);try{const b=v(c);if(null!=b||c&Yt.Optional)return b;Ye()}finally{wl()}}else if("number"==typeof v){let b=null,x=Ca(n,r),B=Ie,J=c&Yt.Host?r[vr][hi]:null;for((-1===x||c&Yt.SkipSelf)&&(B=-1===x?eu(n,r):r[x+8],B!==Ie&&bl(c,!1)?(b=r[bn],x=Fa(B),r=Ho(B,r)):x=-1);-1!==x;){const pe=r[bn];if(rd(v,x,pe.data)){const Le=Wi(x,r,a,b,c,J);if(Le!==el)return Le}B=r[x+8],B!==Ie&&bl(c,r[bn].data[x+8]===J)&&rd(v,x,r)?(b=pe,x=Fa(B),r=Ho(B,r)):x=-1}}return f}function Wi(n,r,a,c,f,v){const b=r[bn],x=b.data[n+8],pe=ba(x,b,a,null==c?Ro(x)&&Jl:c!=b&&0!=(3&x.type),f&Yt.Host&&v===x);return null!==pe?Cs(r,b,pe,x):el}function ba(n,r,a,c,f){const v=n.providerIndexes,b=r.data,x=1048575&v,B=n.directiveStart,pe=v>>20,ut=f?x+pe:n.directiveEnd;for(let Rt=c?x:x+pe;Rt<ut;Rt++){const nn=b[Rt];if(Rt<B&&a===nn||Rt>=B&&nn.type===a)return Rt}if(f){const Rt=b[B];if(Rt&&br(Rt)&&Rt.type===a)return B}return null}function Cs(n,r,a,c){let f=n[a];const v=r.data;if(function tn(n){return n instanceof yt}(f)){const b=f;b.resolving&&function it(n,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new we(-200,`Circular dependency in DI detected for ${n}${a}`)}(function Ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ot(n)}(v[a]));const x=Oo(b.canSeeViewProviders);b.resolving=!0;const B=b.injectImpl?zn(b.injectImpl):null;uc(n,c,Yt.Default);try{f=n[a]=b.factory(void 0,v,n,c),r.firstCreatePass&&a>=c.directiveStart&&function tf(n,r,a){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:v}=r.type.prototype;if(c){var b,x;const Le=Wl(r);(null!==(b=a.preOrderHooks)&&void 0!==b?b:a.preOrderHooks=[]).push(n,Le),(null!==(x=a.preOrderCheckHooks)&&void 0!==x?x:a.preOrderCheckHooks=[]).push(n,Le)}var B,J,pe;f&&(null!==(B=a.preOrderHooks)&&void 0!==B?B:a.preOrderHooks=[]).push(0-n,f),v&&((null!==(J=a.preOrderHooks)&&void 0!==J?J:a.preOrderHooks=[]).push(n,v),(null!==(pe=a.preOrderCheckHooks)&&void 0!==pe?pe:a.preOrderCheckHooks=[]).push(n,v))}(a,v[a],r)}finally{null!==B&&zn(B),Oo(x),b.resolving=!1,wl()}}return f}function rd(n,r,a){return!!(a[r+(n>>Yd)]&1<<n)}function bl(n,r){return!(n&Yt.Self||n&Yt.Host&&r)}class Ls{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,c){return nl(this._tNode,this._lView,r,pr(c),a)}}function cc(){return new Ls(Gs(),Xe())}function id(n){return H(()=>{const r=n.prototype.constructor,a=r[sn]||bs(r),c=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==c;){const v=f[sn]||bs(f);if(v&&v!==a)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function bs(n){return Ue(n)?()=>{const r=bs(ve(n));return r&&r()}:ds(n)}function La(n){const r=n[bn],a=r.type;return 2===a?r.declTNode:1===a?n[hi]:null}function ms(n){return function nd(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const a=n.attrs;if(a){const c=a.length;let f=0;for(;f<c;){const v=a[f];if(bt(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<c&&"string"==typeof a[f];)f++;else{if(v===r)return a[f+1];f+=2}}}return null}(Gs(),n)}const ho="__annotations__",Dl="__parameters__",Ba="__prop__metadata__";function dc(n,r,a,c,f){return H(()=>{const v=Nu(r);function b(...x){if(this instanceof b)return v.call(this,...x),this;const B=new b(...x);return function(pe){return f&&f(pe,...x),(pe.hasOwnProperty(ho)?pe[ho]:Object.defineProperty(pe,ho,{value:[]})[ho]).push(B),c&&c(pe),pe}}return a&&(b.prototype=Object.create(a.prototype)),b.prototype.ngMetadataName=n,b.annotationCls=b,b})}function Nu(n){return function(...a){if(n){const c=n(...a);for(const f in c)this[f]=c[f]}}}function bo(n,r,a){return H(()=>{const c=Nu(r);function f(...v){if(this instanceof f)return c.apply(this,v),this;const b=new f(...v);return x.annotation=b,x;function x(B,J,pe){const Le=B.hasOwnProperty(Dl)?B[Dl]:Object.defineProperty(B,Dl,{value:[]})[Dl];for(;Le.length<=pe;)Le.push(null);return(Le[pe]=Le[pe]||[]).push(b),B}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}const hc=bo("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>ms(n)}));function Ns(n){const r=Cn.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const sd=Function;function Ua(n){return"function"==typeof n}function Xo(n,r){n.forEach(a=>Array.isArray(a)?Xo(a,r):r(a))}function od(n,r,a){r>=n.length?n.push(a):n.splice(r,0,a)}function Fu(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ad(n,r){const a=[];for(let c=0;c<n;c++)a.push(r);return a}function Ii(n,r,a){let c=No(n,r);return c>=0?n[1|c]=a:(c=~c,function Ws(n,r,a,c){let f=n.length;if(f==r)n.push(a,c);else if(1===f)n.push(c,n[0]),n[0]=a;else{for(f--,n.push(n[f-1],n[f]);f>r;)n[f]=n[f-2],f--;n[r]=a,n[r+1]=c}}(n,c,r,a)),c}function Jo(n,r){const a=No(n,r);if(a>=0)return n[1|a]}function No(n,r){return function Bu(n,r,a){let c=0,f=n.length>>a;for(;f!==c;){const v=c+(f-c>>1),b=n[v<<a];if(r===b)return v<<a;b>r?f=v:c=v+1}return~(f<<a)}(n,r,1)}const pp=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Qd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ci=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ki=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ea{constructor(r){this._reflect=r||Cn.Reflect}factory(r){return(...a)=>new r(...a)}_zipTypesAndAnnotations(r,a){let c;c=ad(typeof r>"u"?a.length:r.length);for(let f=0;f<c.length;f++)c[f]=typeof r>"u"?[]:r[f]&&r[f]!=Object?[r[f]]:[],a&&null!=a[f]&&(c[f]=c[f].concat(a[f]));return c}_ownParameters(r,a){if(function $u(n){return pp.test(n)||ki.test(n)||Qd.test(n)&&!ci.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==a.parameters)return r.parameters;const f=r.ctorParameters;if(f&&f!==a.ctorParameters){const x="function"==typeof f?f():f,B=x.map(pe=>pe&&pe.type),J=x.map(pe=>pe&&pc(pe.decorators));return this._zipTypesAndAnnotations(B,J)}const v=r.hasOwnProperty(Dl)&&r[Dl],b=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return b||v?this._zipTypesAndAnnotations(b,v):ad(r.length)}parameters(r){if(!Ua(r))return[];const a=ld(r);let c=this._ownParameters(r,a);return!c&&a!==Object&&(c=this.parameters(a)),c||[]}_ownAnnotations(r,a){if(r.annotations&&r.annotations!==a.annotations){let c=r.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return r.decorators&&r.decorators!==a.decorators?pc(r.decorators):r.hasOwnProperty(ho)?r[ho]:null}annotations(r){if(!Ua(r))return[];const a=ld(r),c=this._ownAnnotations(r,a)||[];return(a!==Object?this.annotations(a):[]).concat(c)}_ownPropMetadata(r,a){if(r.propMetadata&&r.propMetadata!==a.propMetadata){let c=r.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(r.propDecorators&&r.propDecorators!==a.propDecorators){const c=r.propDecorators,f={};return Object.keys(c).forEach(v=>{f[v]=pc(c[v])}),f}return r.hasOwnProperty(Ba)?r[Ba]:null}propMetadata(r){if(!Ua(r))return{};const a=ld(r),c={};if(a!==Object){const v=this.propMetadata(a);Object.keys(v).forEach(b=>{c[b]=v[b]})}const f=this._ownPropMetadata(r,a);return f&&Object.keys(f).forEach(v=>{const b=[];c.hasOwnProperty(v)&&b.push(...c[v]),b.push(...f[v]),c[v]=b}),c}ownPropMetadata(r){return Ua(r)&&this._ownPropMetadata(r,ld(r))||{}}hasLifecycleHook(r,a){return r instanceof sd&&a in r.prototype}}function pc(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function ld(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const gc=gr(bo("Inject",n=>({token:n})),-1),mc=gr(bo("Optional"),8),ko=gr(bo("Self"),2),nu=gr(bo("SkipSelf"),4),xg=gr(bo("Host"),1);let ud=null;function yc(n){return gp(function cf(){return ud=ud||new ea}().parameters(n))}function gp(n){return n.map(r=>function cd(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let a=0;a<n.length;a++){const c=n[a];if(void 0===c)continue;const f=Object.getPrototypeOf(c);if(c instanceof mc||"Optional"===f.ngMetadataName)r.optional=!0;else if(c instanceof nu||"SkipSelf"===f.ngMetadataName)r.skipSelf=!0;else if(c instanceof ko||"Self"===f.ngMetadataName)r.self=!0;else if(c instanceof xg||"Host"===f.ngMetadataName)r.host=!0;else if(c instanceof gc)r.token=c.token;else if(c instanceof hc){if(void 0===c.attributeName)throw new we(204,!1);r.attribute=c.attributeName}else r.token=c}else r.token=void 0===n||Array.isArray(n)&&0===n.length?null:n;return r}(r))}var Da=(()=>((Da=Da||{})[Da.Important=1]="Important",Da[Da.DashCase=2]="DashCase",Da))();const ju=/^>|^->|<!--|-->|--!>|<!-$/g,df=/(<|>)/,hf="\u200b$1\u200b";const Hu=new Map;let th=0;const fa="__ngContext__";function na(n,r){us(r)?(n[fa]=r[Us],function ff(n){Hu.set(n[Us],n)}(r)):n[fa]=r}let yf;function _p(n,r){return yf(n,r)}function ih(n){const r=n[Wr];return zi(r)?r[Wr]:r}function ol(n){return kg(n[Nr])}function Ep(n){return kg(n[Li])}function kg(n){for(;null!==n&&!zi(n);)n=n[Li];return n}function gd(n,r,a,c,f){if(null!=c){let v,b=!1;zi(c)?v=c:us(c)&&(b=!0,c=c[Hr]);const x=Ni(c);0===n&&null!==a?null==f?oh(r,a,x):ro(r,a,x,f||null,!0):1===n&&null!==a?ro(r,a,x,f||null,!0):2===n?function Cf(n,r,a){const c=ah(n,r);c&&function wf(n,r,a,c){n.removeChild(r,a,c)}(n,c,r,a)}(r,x,b):3===n&&r.destroyNode(x),null!=v&&function lu(n,r,a,c,f){const v=a[Ds];v!==Ni(a)&&gd(r,n,c,v,f);for(let x=Ui;x<a.length;x++){const B=a[x];md(B[bn],B,n,r,c,v)}}(r,n,v,a,f)}}function vf(n,r){return n.createComment(function Jr(n){return n.replace(ju,r=>r.replace(df,hf))}(r))}function sh(n,r,a){return n.createElement(r,a)}function Lg(n,r){const a=n[Rs],c=a.indexOf(r);qe(r),a.splice(c,1)}function _f(n,r){if(n.length<=Ui)return;const a=Ui+r,c=n[a];if(c){const f=c[ls];null!==f&&f!==n&&Lg(f,c),r>0&&(n[a-1][Li]=c[Li]);const v=Fu(n,Ui+r);!function Fg(n,r){md(n,r,r[on],2,null,null),r[Hr]=null,r[hi]=null}(c[bn],c);const b=v[ts];null!==b&&b.detachView(v[bn]),c[Wr]=null,c[Li]=null,c[Ir]&=-129}return c}function Ef(n,r){if(!(256&r[Ir])){var a,c;const f=r[on];null===(a=r[vo])||void 0===a||a.destroy(),null===(c=r[Oi])||void 0===c||c.destroy(),f.destroyNode&&md(n,r,f,3,null,null),function po(n){let r=n[Nr];if(!r)return Ip(n[bn],n);for(;r;){let a=null;if(us(r))a=r[Nr];else{const c=r[Ui];c&&(a=c)}if(!a){for(;r&&!r[Li]&&r!==n;)us(r)&&Ip(r[bn],r),r=r[Wr];null===r&&(r=n),us(r)&&Ip(r[bn],r),a=r&&r[Li]}r=a}}(r)}}function Ip(n,r){if(!(256&r[Ir])){r[Ir]&=-129,r[Ir]|=256,function py(n,r){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let c=0;c<a.length;c+=2){const f=r[a[c]];if(!(f instanceof yt)){const v=a[c+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const x=f[v[b]],B=v[b+1];xs(4,x,B);try{B.call(x)}finally{xs(5,x,B)}}else{xs(4,f,v);try{v.call(f)}finally{xs(5,f,v)}}}}}(n,r),function Jv(n,r){const a=n.cleanup,c=r[Zi];if(null!==a)for(let v=0;v<a.length-1;v+=2)if("string"==typeof a[v]){const b=a[v+3];b>=0?c[b]():c[-b].unsubscribe(),v+=2}else a[v].call(c[a[v+1]]);null!==c&&(r[Zi]=null);const f=r[or];if(null!==f){for(let v=0;v<f.length;v++)(0,f[v])();r[or]=null}}(n,r),1===r[bn].type&&r[on].destroy();const a=r[ls];if(null!==a&&zi(r[Wr])){a!==r[Wr]&&Lg(a,r);const c=r[ts];null!==c&&c.detachView(n)}!function pd(n){Hu.delete(n[Us])}(r)}}function Cp(n,r,a){return function bp(n,r,a){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return a[Hr];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:v}=n.data[c.directiveStart+f];if(v===Fe.None||v===Fe.Emulated)return null}return Kr(c,a)}}(n,r.parent,a)}function ro(n,r,a,c,f){n.insertBefore(r,a,c,f)}function oh(n,r,a){n.appendChild(r,a)}function Ic(n,r,a,c,f){null!==c?ro(n,r,a,c,f):oh(n,r,a)}function ah(n,r){return n.parentNode(r)}function my(n,r,a){return $g(n,r,a)}let Dp,xl,bc,$g=function Bg(n,r,a){return 40&n.type?Kr(n,a):null};function Sp(n,r,a,c){const f=Cp(n,c,r),v=r[on],x=my(c.parent||r[hi],c,r);if(null!=f)if(Array.isArray(a))for(let B=0;B<a.length;B++)Ic(v,f,a[B],x,!1);else Ic(v,f,a,x,!1);void 0!==Dp&&Dp(v,c,r,a,f)}function Tp(n,r){if(null!==r){const a=r.type;if(3&a)return Kr(r,n);if(4&a)return Cc(-1,n[r.index]);if(8&a){const c=r.child;if(null!==c)return Tp(n,c);{const f=n[r.index];return zi(f)?Cc(-1,f):Ni(f)}}if(32&a)return _p(r,n)()||Ni(n[r.index]);{const c=If(n,r);return null!==c?Array.isArray(c)?c[0]:Tp(ih(n[vr]),c):Tp(n,r.next)}}return null}function If(n,r){return null!==r?n[vr][hi].projection[r.projection]:null}function Cc(n,r){const a=Ui+n+1;if(a<r.length){const c=r[a],f=c[bn].firstChild;if(null!==f)return Tp(c,f)}return r[Ds]}function Bs(n,r,a,c,f,v,b){for(;null!=a;){const x=c[a.index],B=a.type;if(b&&0===r&&(x&&na(Ni(x),c),a.flags|=2),32!=(32&a.flags))if(8&B)Bs(n,r,a.child,c,f,v,!1),gd(r,n,f,x,v);else if(32&B){const J=_p(a,c);let pe;for(;pe=J();)gd(r,n,f,pe,v);gd(r,n,f,x,v)}else 16&B?lh(n,r,c,a,f,v):gd(r,n,f,x,v);a=b?a.projectionNext:a.next}}function md(n,r,a,c,f,v){Bs(a,c,n.firstChild,r,f,v,!1)}function lh(n,r,a,c,f,v){const b=a[vr],B=b[hi].projection[c.projection];if(Array.isArray(B))for(let J=0;J<B.length;J++)gd(r,n,f,B[J],v);else Bs(n,r,B,b[Wr],f,v,!0)}function bf(n,r,a){""===a?n.removeAttribute(r,"class"):n.setAttribute(r,"class",a)}function Ug(n,r,a){const{mergedAttrs:c,classes:f,styles:v}=a;null!==c&&Dt(n,r,c),null!==f&&bf(n,r,f),null!==v&&function t_(n,r,a){n.setAttribute(r,"style",a)}(n,r,v)}function Do(n){xl=n}function Cy(n){var r;return(null===(r=function Mp(){if(void 0===bc&&(bc=null,Cn.trustedTypes))try{bc=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bc}())||void 0===r?void 0:r.createScriptURL(n))||n}class al{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}function du(n){return n instanceof al?n.changingThisBreaksApplicationSecurity:n}function uh(n,r){const a=function ch(n){return n instanceof al&&n.getTypeName()||null}(n);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${Me})`)}return a===r}const Sy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ks=(()=>((Ks=Ks||{})[Ks.NONE=0]="NONE",Ks[Ks.HTML=1]="HTML",Ks[Ks.STYLE=2]="STYLE",Ks[Ks.SCRIPT=3]="SCRIPT",Ks[Ks.URL=4]="URL",Ks[Ks.RESOURCE_URL=5]="RESOURCE_URL",Ks))();function Kg(n){const r=So();return r?r.sanitize(Ks.URL,n)||"":uh(n,"URL")?du(n):function Pp(n){return(n=String(n)).match(Sy)?n:"unsafe:"+n}(ot(n))}function Fp(n){const r=So();if(r)return Cy(r.sanitize(Ks.RESOURCE_URL,n)||"");if(uh(n,"ResourceURL"))return Cy(du(n));throw new we(904,!1)}function Mf(n,r,a){return function qg(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Fp:Kg}(r,a)(n)}function So(){const n=Xe();return n&&n[as].sanitizer}class qi{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tc=new qi("ENVIRONMENT_INITIALIZER"),Rf=new qi("INJECTOR",-1),Yg=new qi("INJECTOR_DEF_TYPES");class Wu{get(r,a=ur){if(a===ur){const c=new Error(`NullInjectorError: No provider for ${Ve(r)}!`);throw c.name="NullInjectorError",c}return a}}function Ay(...n){return{\u0275providers:fu(0,n),\u0275fromNgModule:!0}}function fu(n,...r){const a=[],c=new Set;let f;return Xo(r,v=>{const b=v;Mc(b,a,[],c)&&(f||(f=[]),f.push(b))}),void 0!==f&&My(f,a),a}function My(n,r){for(let a=0;a<n.length;a++){const{providers:f}=n[a];Pl(f,v=>{r.push(v)})}}function Mc(n,r,a,c){if(!(n=ve(n)))return!1;let f=null,v=In(n);const b=!v&&Qe(n);if(v||b){if(b&&!b.standalone)return!1;f=n}else{const B=n.ngModule;if(v=In(B),!v)return!1;f=B}const x=c.has(f);if(b){if(x)return!1;if(c.add(f),b.dependencies){const B="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const J of B)Mc(J,r,a,c)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let J;c.add(f);try{Xo(v.imports,pe=>{Mc(pe,r,a,c)&&(J||(J=[]),J.push(pe))})}finally{}void 0!==J&&My(J,r)}if(!x){const J=ds(f)||(()=>new f);r.push({provide:f,useFactory:J,deps:Be},{provide:Yg,useValue:f,multi:!0},{provide:Tc,useValue:()=>Mt(f),multi:!0})}const B=v.providers;null==B||x||Pl(B,pe=>{r.push(pe)})}}return f!==n&&void 0!==n.providers}function Pl(n,r){for(let a of n)Ze(a)&&(a=a.\u0275providers),Array.isArray(a)?Pl(a,r):r(a)}const u_=de({provide:String,useValue:de});function Zg(n){return null!==n&&"object"==typeof n&&u_ in n}function pu(n){return"function"==typeof n}const Eh=new qi("Set Injector scope."),Bp={},Xg={};let $p;function Vp(){return void 0===$p&&($p=new Wu),$p}class _d{}class Rc extends _d{get destroyed(){return this._destroyed}constructor(r,a,c,f){super(),this.parent=a,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,go(r,b=>this.processProvider(b)),this.records.set(Rf,wd(void 0,this)),f.has("environment")&&this.records.set(_d,wd(void 0,this));const v=this.records.get(Eh);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Yg.multi,Be,Yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const a=fe(this),c=zn(void 0);try{return r()}finally{fe(a),zn(c)}}get(r,a=ur,c=Yt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Gn))return r[Gn](this);c=pr(c);const f=fe(this),v=zn(void 0);try{if(!(c&Yt.SkipSelf)){let x=this.records.get(r);if(void 0===x){const B=function Jg(n){return"function"==typeof n||"object"==typeof n&&n instanceof qi}(r)&&cn(r);x=B&&this.injectableDefInScope(B)?wd(Ed(r),Bp):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(c&Yt.Self?Vp():this.parent).get(r,a=c&Yt.Optional&&a===ur?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[Rr]=b[Rr]||[]).unshift(Ve(r)),f)throw b;return function he(n,r,a,c){const f=n[Rr];throw r[ei]&&f.unshift(r[ei]),n.message=function W(n,r,a,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let f=Ve(r);if(Array.isArray(r))f=r.map(Ve).join(" -> ");else if("object"==typeof r){let v=[];for(let b in r)if(r.hasOwnProperty(b)){let x=r[b];v.push(b+":"+("string"==typeof x?JSON.stringify(x):Ve(x)))}f=`{${v.join(", ")}}`}return`${a}${c?"("+c+")":""}[${f}]: ${n.replace(Wn,"\n  ")}`}("\n"+n.message,f,a,c),n.ngTokenPath=f,n[Rr]=null,n}(b,r,"R3InjectorError",this.source)}throw b}finally{zn(v),fe(f)}}resolveInjectorInitializers(){const r=fe(this),a=zn(void 0);try{const c=this.get(Tc.multi,Be,Yt.Self);for(const f of c)f()}finally{fe(r),zn(a)}}toString(){const r=[],a=this.records;for(const c of a.keys())r.push(Ve(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(r){let a=pu(r=ve(r))?r:ve(r&&r.provide);const c=function xy(n){return Zg(n)?wd(void 0,n.useValue):wd(Py(n),Bp)}(r);if(pu(r)||!0!==r.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=wd(void 0,Bp,!0),f.factory=()=>Xn(f.multi),this.records.set(a,f)),a=r,f.multi.push(r)}this.records.set(a,c)}hydrate(r,a){return a.value===Bp&&(a.value=Xg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function f_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=ve(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(r){const a=this._onDestroyHooks.indexOf(r);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ed(n){const r=cn(n),a=null!==r?r.factory:ds(n);if(null!==a)return a;if(n instanceof qi)throw new we(204,!1);if(n instanceof Function)return function d_(n){const r=n.length;if(r>0)throw ad(r,"?"),new we(204,!1);const a=function Nt(n){return n&&(n[Ft]||n[hr])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new we(204,!1)}function Py(n,r,a){let c;if(pu(n)){const f=ve(n);return ds(f)||Ed(f)}if(Zg(n))c=()=>ve(n.useValue);else if(function Ry(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Xn(n.deps||[]));else if(function Qg(n){return!(!n||!n.useExisting)}(n))c=()=>Mt(ve(n.useExisting));else{const f=ve(n&&(n.useClass||n.provide));if(!function h_(n){return!!n.deps}(n))return ds(f)||Ed(f);c=()=>new f(...Xn(n.deps))}return c}function wd(n,r,a=!1){return{factory:n,value:r,multi:a?[]:void 0}}function go(n,r){for(const a of n)Array.isArray(a)?go(a,r):a&&Ze(a)?go(a.\u0275providers,r):r(a)}const Oy=new qi("AppId",{providedIn:"root",factory:()=>p_}),p_="ng",Ny=new qi("Platform Initializer"),em=new qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),g_=new qi("AnimationModuleType"),xc=new qi("CSP nonce",{providedIn:"root",factory:()=>{var n,r;return(null===(n=function Lo(){return void 0!==xl?xl:typeof document<"u"?document:void 0}().body)||void 0===n||null===(r=n.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let Ff=(n,r)=>null;function nm(n,r){return Ff(n,r)}class om{}class Gp{}class $y{resolveComponentFactory(r){throw function am(n){const r=Error(`No component factory found for ${Ve(n)}.`);return r.ngComponent=n,r}(r)}}let kl=(()=>{class n{}return n.NULL=new $y,n})();function Wp(){return Nc(Gs(),Xe())}function Nc(n,r){return new Cd(Kr(n,r))}let Cd=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Wp,n})();function ks(n){return n instanceof Cd?n.nativeElement:n}class um{}let pa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $f(){const n=Xe(),a=zs(Gs().index,n);return(us(a)?a:n)[on]}(),n})(),Vf=(()=>{class n{}return n.\u0275prov=tt({token:n,providedIn:"root",factory:()=>null}),n})();class bd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const cm=new bd("16.0.0"),dm={};function Uf(n){for(;n;){n[Ir]|=64;const r=ih(n);if(_s(n)&&!r)return n;n=r}return null}function jf(n){return n.ngOriginalError}class Dh{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&jf(r);for(;a&&jf(a);)a=jf(a);return a||null}}const Mh=new qi("",{providedIn:"root",factory:()=>!1});function Ll(n){return n instanceof Function?n():n}class Dd extends Qr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Uf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,a,c){const f=mn(this);this.trackingVersion++;try{r(a,c)}finally{mn(f)}}destroy(){this.trackingVersion++}}let gu=null;function Yp(){var n;return null!==(n=gu)&&void 0!==n||(gu=new Dd),gu}function gm(n,r){var a;return null!==(a=n[r])&&void 0!==a?a:Yp()}function jy(n,r){const a=Yp();a.hasReadASignal&&(n[r]=gu,a.lView=n,gu=new Dd)}const Yr={};function Zp(n){mm(Lt(),Xe(),Js()+n,!1)}function mm(n,r,a,c){if(!c)if(3==(3&r[Ir])){const v=n.preOrderCheckHooks;null!==v&&M(r,v,a)}else{const v=n.preOrderHooks;null!==v&&N(r,v,0,a)}Io(a)}const Ha={\u0275\u0275defineInjectable:tt,\u0275\u0275defineInjector:Jt,\u0275\u0275inject:Mt,\u0275\u0275invalidFactoryDep:function ln(n){throw new we(202,!1)},resolveForwardRef:ve};const Rh=de({provide:String,useValue:de});function zy(n){return void 0!==n.useClass}function Bc(n){return void 0!==n.useFactory}const vm=dc("Injectable",void 0,void 0,void 0,(n,r)=>function mu(n,r){let a=null,c=null;n.hasOwnProperty(Ft)||Object.defineProperty(n,Ft,{get:()=>(null===a&&(a=Ns().compileInjectable(Ha,`ng:///${n.name}/\u0275prov.js`,function Qp(n,r){const a=r||{providedIn:null},c={name:n.name,type:n,typeArgumentCount:0,providedIn:a.providedIn};return(zy(a)||Bc(a))&&void 0!==a.deps&&(c.deps=gp(a.deps)),zy(a)?c.useClass=a.useClass:function ym(n){return Rh in n}(a)?c.useValue=a.useValue:Bc(a)?c.useFactory=a.useFactory:function Sd(n){return void 0!==n.useExisting}(a)&&(c.useExisting=a.useExisting),c}(n,r))),a)}),n.hasOwnProperty(sn)||Object.defineProperty(n,sn,{get:()=>{if(null===c){const f=Ns();c=f.compileFactory(Ha,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:yc(n),target:f.FactoryTarget.Injectable})}return c},configurable:!0})}(n,r));function $c(n,r=null,a=null,c){const f=Yu(n,r,a,c);return f.resolveInjectorInitializers(),f}function Yu(n,r=null,a=null,c,f=new Set){const v=[a||Be,Ay(n)];return c=c||("object"==typeof n?void 0:Ve(n)),new Rc(v,r||Vp(),c||null,f)}let yu=(()=>{class n{static create(a,c){if(Array.isArray(a))return $c({name:""},c,a,"");{var f;const v=null!==(f=a.name)&&void 0!==f?f:"";return $c({name:v},a.parent,a.providers,v)}}}return n.THROW_IF_NOT_FOUND=ur,n.NULL=new Wu,n.\u0275prov=tt({token:n,providedIn:"any",factory:()=>Mt(Rf)}),n.__NG_ELEMENT_ID__=-1,n})();function Bl(n,r=Yt.Default){const a=Xe();return null===a?Mt(n,r):nl(Gs(),a,ve(n),r)}function Td(){throw new Error("invalid")}function vu(n,r,a,c,f,v,b,x,B,J,pe){const Le=r.blueprint.slice();return Le[Hr]=f,Le[Ir]=140|c,(null!==J||n&&2048&n[Ir])&&(Le[Ir]|=2048),j(Le),Le[Wr]=Le[wi]=n,Le[Ur]=a,Le[as]=b||n&&n[as],Le[on]=x||n&&n[on],Le[Qi]=B||n&&n[Qi]||null,Le[hi]=v,Le[Us]=function ha(){return th++}(),Le[ni]=pe,Le[ti]=J,Le[vr]=2==r.type?n[vr]:Le,Le}function Zu(n,r,a,c,f){let v=n.data[r];if(null===v)v=function zf(n,r,a,c,f){const v=sc(),b=oc(),B=n.data[r]=function qy(n,r,a,c,f,v){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,a,r,c,f);return null===n.firstChild&&(n.firstChild=B),null!==v&&(b?null==v.child&&null!==B.parent&&(v.child=B):null===v.next&&(v.next=B,B.prev=v)),B}(n,r,a,c,f),function Er(){return yn.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=a,v.value=c,v.attrs=f;const b=function vl(){const n=yn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return Pa(v,!0),v}function Ad(n,r,a,c){if(0===a)return-1;const f=r.length;for(let v=0;v<a;v++)r.push(c),n.blueprint.push(c),n.data.push(null);return f}function Xp(n,r,a,c,f){const v=gm(r,vo),b=Js(),x=2&c;try{if(Io(-1),x&&r.length>_r&&mm(n,r,_r,!1),xs(x?2:0,f),x)v.runInContext(a,c,f);else{const J=mn(null);try{a(c,f)}finally{mn(J)}}}finally{x&&null===r[vo]&&jy(r,vo),Io(b),xs(x?3:1,f)}}function xh(n,r,a){if($o(r)){const c=mn(null);try{const v=r.directiveEnd;for(let b=r.directiveStart;b<v;b++){const x=n.data[b];x.contentQueries&&x.contentQueries(1,a[b],b)}}finally{mn(c)}}}function Gf(n,r,a){Jn()&&(function ng(n,r,a,c){const f=a.directiveStart,v=a.directiveEnd;Ro(a)&&function Am(n,r,a){const c=Kr(r,n),b=$l(n,vu(n,sa(a),null,a.onPush?64:16,c,r,null,n[as].rendererFactory.createRenderer(c,a),null,null,null));n[r.index]=b}(r,a,n.data[f+a.componentOffset]),n.firstCreatePass||Cl(a,r),na(c,r);const b=a.initialInputs;for(let x=f;x<v;x++){const B=n.data[x],J=Cs(r,n,x,a);na(J,r),null!==b&&Vc(0,x-f,J,B,0,b),br(B)&&(zs(a.index,r)[Ur]=Cs(r,n,x,a))}}(n,r,a,Kr(a,r)),64==(64&a.flags)&&bm(n,r,a))}function Em(n,r,a=Kr){const c=r.localNames;if(null!==c){let f=r.index+1;for(let v=0;v<c.length;v+=2){const b=c[v+1],x=-1===b?a(r,n):n[b];n[f++]=x}}}function sa(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Md(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Md(n,r,a,c,f,v,b,x,B,J,pe){const Le=_r+c,ut=Le+f,Rt=function wm(n,r){const a=[];for(let c=0;c<r;c++)a.push(c<n?null:Yr);return a}(Le,ut),nn="function"==typeof J?J():J;return Rt[bn]={type:n,blueprint:Rt,template:a,queries:null,viewQuery:x,declTNode:r,data:Rt.slice().fill(null,Le),bindingStartIndex:Le,expandoStartIndex:ut,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:B,consts:nn,incompleteFirstPass:!1,ssrId:pe}}let Gy=n=>null;function Yy(n,r,a,c){for(let f in n)if(n.hasOwnProperty(f)){a=null===a?{}:a;const v=n[f];null===c?Zy(a,r,f,v):c.hasOwnProperty(f)&&Zy(a,r,c[f],v)}return a}function Zy(n,r,a,c){n.hasOwnProperty(a)?n[a].push(r,c):n[a]=[r,c]}function Wf(n,r,a,c){if(Jn()){const f=null===c?null:{"":-1},v=function Dm(n,r){const a=n.directiveRegistry;let c=null,f=null;if(a)for(let b=0;b<a.length;b++){const x=a[b];if(_i(r,x.selectors,!1))if(c||(c=[]),br(x))if(null!==x.findHostDirectiveDefs){const B=[];f=f||new Map,x.findHostDirectiveDefs(x,B,f),c.unshift(...B,x),Sm(n,r,B.length)}else c.unshift(x),Sm(n,r,0);else{var v;f=f||new Map,null===(v=x.findHostDirectiveDefs)||void 0===v||v.call(x,x,c,f),c.push(x)}}return null===c?null:[c,f]}(n,a);let b,x;null===v?b=x=null:[b,x]=v,null!==b&&Xy(n,r,a,b,f,x),f&&function rg(n,r,a){if(r){const c=n.localNames=[];for(let f=0;f<r.length;f+=2){const v=a[r[f+1]];if(null==v)throw new we(-301,!1);c.push(r[f],v)}}}(a,c,f)}a.mergedAttrs=vn(a.mergedAttrs,a.attrs)}function Xy(n,r,a,c,f,v){for(let Le=0;Le<c.length;Le++)td(Cl(a,r),n,c[Le].type);!function Tm(n,r,a){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+a,n.providerIndexes=r}(a,n.data.length,c.length);for(let Le=0;Le<c.length;Le++){const ut=c[Le];ut.providersResolver&&ut.providersResolver(ut)}let b=!1,x=!1,B=Ad(n,r,c.length,null);for(let Le=0;Le<c.length;Le++){const ut=c[Le];a.mergedAttrs=vn(a.mergedAttrs,ut.hostAttrs),Jy(n,a,r,B,ut),v_(B,ut,f),null!==ut.contentQueries&&(a.flags|=4),(null!==ut.hostBindings||null!==ut.hostAttrs||0!==ut.hostVars)&&(a.flags|=64);const Rt=ut.type.prototype;var J,pe;!b&&(Rt.ngOnChanges||Rt.ngOnInit||Rt.ngDoCheck)&&((null!==(J=n.preOrderHooks)&&void 0!==J?J:n.preOrderHooks=[]).push(a.index),b=!0),x||!Rt.ngOnChanges&&!Rt.ngDoCheck||((null!==(pe=n.preOrderCheckHooks)&&void 0!==pe?pe:n.preOrderCheckHooks=[]).push(a.index),x=!0),B++}!function Qy(n,r,a){const f=r.directiveEnd,v=n.data,b=r.attrs,x=[];let B=null,J=null;for(let pe=r.directiveStart;pe<f;pe++){const Le=v[pe],ut=a?a.get(Le):null,nn=ut?ut.outputs:null;B=Yy(Le.inputs,pe,B,ut?ut.inputs:null),J=Yy(Le.outputs,pe,J,nn);const Sn=null===B||null===b||Zr(r)?null:sg(B,pe,b);x.push(Sn)}null!==B&&(B.hasOwnProperty("class")&&(r.flags|=8),B.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=x,r.inputs=B,r.outputs=J}(n,a,v)}function bm(n,r,a){const c=a.directiveStart,f=a.directiveEnd,v=a.index,b=function Ql(){return yn.lFrame.currentDirectiveIndex}();try{Io(v);for(let x=c;x<f;x++){const B=n.data[x],J=r[x];Hi(x),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&y_(B,J)}}finally{Io(-1),Hi(b)}}function y_(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Sm(n,r,a){var c;r.componentOffset=a,(null!==(c=n.components)&&void 0!==c?c:n.components=[]).push(r.index)}function v_(n,r,a){if(a){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)a[r.exportAs[c]]=n;br(r)&&(a[""]=n)}}function Jy(n,r,a,c,f){n.data[c]=f;const v=f.factory||(f.factory=ds(f.type)),b=new yt(v,br(f),Bl);n.blueprint[c]=b,a[c]=b,function eg(n,r,a,c,f){const v=f.hostBindings;if(v){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const x=~r.index;(function tg(n){let r=n.length;for(;r>0;){const a=n[--r];if("number"==typeof a&&a<0)return a}return 0})(b)!=x&&b.push(x),b.push(a,c,v)}}(n,r,c,Ad(n,a,f.hostVars,Yr),f)}function za(n,r,a,c,f,v){const b=Kr(n,r);!function Kf(n,r,a,c,f,v,b){if(null==v)n.removeAttribute(r,f,a);else{const x=null==b?ot(v):b(v,c||"",f);n.setAttribute(r,f,x,a)}}(r[on],b,v,n.value,a,c,f)}function Vc(n,r,a,c,f,v){const b=v[r];if(null!==b)for(let x=0;x<b.length;)ig(c,a,b[x++],b[x++],b[x++])}function ig(n,r,a,c,f){const v=mn(null);try{null!==n.setInput?n.setInput(r,f,a,c):r[c]=f}finally{mn(v)}}function sg(n,r,a){let c=null,f=0;for(;f<a.length;){const v=a[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===c&&(c=[]);const b=n[v];for(let x=0;x<b.length;x+=2)if(b[x]===r){c.push(v,b[x+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Mm(n,r,a,c){return[n,!0,!1,r,null,0,c,a,null,null,null]}function Rm(n,r){const a=n.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const v=a[c+1];if(-1!==v){const b=n.data[v];Na(a[c]),b.contentQueries(2,r[v],v)}}}function $l(n,r){return n[Nr]?n[mr][Li]=r:n[Nr]=r,n[mr]=r,r}function og(n,r,a){Na(0);const c=mn(null);try{r(n,a)}finally{mn(c)}}function ag(n){return n[Zi]||(n[Zi]=[])}function ev(n){return n.cleanup||(n.cleanup=[])}function lg(n,r){const a=n[Qi],c=a?a.get(Dh,null):null;c&&c.handleError(r)}function xm(n,r,a,c,f){for(let v=0;v<a.length;){const b=a[v++],x=a[v++];ig(n.data[b],r[b],c,x,f)}}function nv(n,r){const a=zs(r,n),c=a[bn];!function Pm(n,r){for(let a=r.length;a<n.blueprint.length;a++)r.push(n.blueprint[a])}(c,a);const f=a[Hr];null!==f&&null===a[ni]&&(a[ni]=nm(f,a[Qi])),rv(c,a,a[Ur])}function rv(n,r,a){El(r);try{const c=n.viewQuery;null!==c&&og(1,c,a);const f=n.template;null!==f&&Xp(n,r,f,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Rm(n,r),n.staticViewQueries&&og(2,n.viewQuery,a);const v=n.components;null!==v&&function ug(n,r){for(let a=0;a<r.length;a++)nv(n,r[a])}(r,v)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[Ir]&=-5,wo()}}let sv=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(a,c,f){const v=typeof Zone>"u"?null:Zone.current,b=new Po(a,J=>{this.all.has(J)&&this.queue.set(J,v)},f);let x;this.all.add(b),b.notify();const B=()=>{var J;b.cleanup(),null===(J=x)||void 0===J||J(),this.all.delete(b),this.queue.delete(b)};return x=null==c?void 0:c.onDestroy(B),{destroy:B}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=tt({token:n,providedIn:"root",factory:()=>new n}),n})();function xd(n,r,a){let c=a?n.styles:null,f=a?n.classes:null,v=0;if(null!==r)for(let b=0;b<r.length;b++){const x=r[b];"number"==typeof x?v=x:1==v?f=Te(f,x):2==v&&(c=Te(c,x+": "+r[++b]+";"))}a?n.styles=c:n.stylesWithoutHost=c,a?n.classes=f:n.classesWithoutHost=f}function Oh(n,r,a,c,f=!1){for(;null!==a;){const v=r[a.index];if(null!==v&&c.push(Ni(v)),zi(v)){for(let x=Ui;x<v.length;x++){const B=v[x],J=B[bn].firstChild;null!==J&&Oh(B[bn],B,J,c)}v[Ds]!==v[Hr]&&c.push(v[Ds])}const b=a.type;if(8&b)Oh(n,r,a.child,c);else if(32&b){const x=_p(a,r);let B;for(;B=x();)c.push(B)}else if(16&b){const x=If(r,a);if(Array.isArray(x))c.push(...x);else{const B=ih(r[vr]);Oh(B[bn],B,x,c,!0)}}a=f?a.projectionNext:a.next}return c}function Sa(n,r,a,c=!0){const f=r[as].rendererFactory;f.begin&&f.begin();try{hg(n,r,n.template,a)}catch(x){throw c&&lg(r,x),x}finally{var b;f.end&&f.end(),null===(b=r[as].effectManager)||void 0===b||b.flush()}}function hg(n,r,a,c){var f;const v=r[Ir];if(256!=(256&v)){null===(f=r[as].effectManager)||void 0===f||f.flush(),El(r);try{j(r),function Oa(n){return yn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&Xp(n,r,a,2,c);const x=3==(3&v);if(x){const pe=n.preOrderCheckHooks;null!==pe&&M(r,pe,null)}else{const pe=n.preOrderHooks;null!==pe&&N(r,pe,0,null),D(r,0)}if(function w_(n){for(let r=ol(n);null!==r;r=Ep(r)){if(!r[la])continue;const a=r[Rs];for(let c=0;c<a.length;c++){ye(a[c])}}}(r),function qf(n){for(let r=ol(n);null!==r;r=Ep(r))for(let a=Ui;a<r.length;a++){const c=r[a],f=c[bn];ua(c)&&hg(f,c,f.template,c[Ur])}}(r),null!==n.contentQueries&&Rm(n,r),x){const pe=n.contentCheckHooks;null!==pe&&M(r,pe)}else{const pe=n.contentHooks;null!==pe&&N(r,pe,1),D(r,1)}!function _m(n,r){const a=n.hostBindingOpCodes;if(null===a)return;const c=gm(r,Oi);try{for(let f=0;f<a.length;f++){const v=a[f];if(v<0)Io(~v);else{const b=v,x=a[++f],B=a[++f];pi(x,b),c.runInContext(B,2,r[b])}}}finally{null===r[Oi]&&jy(r,Oi),Io(-1)}}(n,r);const B=n.components;null!==B&&function Nh(n,r){for(let a=0;a<r.length;a++)Nm(n,r[a])}(r,B);const J=n.viewQuery;if(null!==J&&og(2,J,c),x){const pe=n.viewCheckHooks;null!==pe&&M(r,pe)}else{const pe=n.viewHooks;null!==pe&&N(r,pe,2),D(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Ir]&=-73,qe(r)}finally{wo()}}}function Nm(n,r){const a=zs(r,n);if(ua(a)){const c=a[bn];80&a[Ir]?hg(c,a,c.template,a[Ur]):a[$s]>0&&fg(a)}}function fg(n){for(let c=ol(n);null!==c;c=Ep(c))for(let f=Ui;f<c.length;f++){const v=c[f];if(ua(v))if(1024&v[Ir]){const b=v[bn];hg(b,v,b.template,v[Ur])}else v[$s]>0&&fg(v)}const a=n[bn].components;if(null!==a)for(let c=0;c<a.length;c++){const f=zs(a[c],n);ua(f)&&f[$s]>0&&fg(f)}}class Pd{get rootNodes(){const r=this._lView,a=r[bn];return Oh(a,r,a.firstChild,[])}constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ur]}set context(r){this._lView[Ur]=r}get destroyed(){return 256==(256&this._lView[Ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Wr];if(zi(r)){const a=r[Xi],c=a?a.indexOf(this):-1;c>-1&&(_f(r,c),Fu(a,c))}this._attachedToViewContainer=!1}Ef(this._lView[bn],this._lView)}onDestroy(r){!function Qt(n,r){if(256==(256&n[Ir]))throw new we(911,!1);null===n[or]&&(n[or]=[]),n[or].push(r)}(this._lView,r)}markForCheck(){Uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ir]&=-129}reattach(){this._lView[Ir]|=128}detectChanges(){Sa(this._lView[bn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xv(n,r){md(n,r,r[on],2,null,null)}(this._lView[bn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=r}}class Od extends Pd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Sa(r[bn],r,r[Ur],!1)}checkNoChanges(){}get context(){return null}}class ov extends kl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=Qe(r);return new Uc(a,this.ngModule)}}function av(n){const r=[];for(let a in n)n.hasOwnProperty(a)&&r.push({propName:n[a],templateName:a});return r}class C_{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,c){c=pr(c);const f=this.injector.get(r,dm,c);return f!==dm||a===dm?f:this.parentInjector.get(r,a,c)}}class Uc extends Gp{get inputs(){return av(this.componentDef.inputs)}get outputs(){return av(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function ss(n){return n.map(si).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,c,f){var v;let b=(f=f||this.ngModule)instanceof _d?f:null===(v=f)||void 0===v?void 0:v.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const x=b?new C_(r,b):r,B=x.get(um,null);if(null===B)throw new we(407,!1);const Le={rendererFactory:B,sanitizer:x.get(Vf,null),effectManager:x.get(sv,null)},ut=B.createRenderer(null,this.componentDef),Rt=this.componentDef.selectors[0][0]||"div",nn=c?function Ph(n,r,a,c){const v=c.get(Mh,!1)||a===Fe.ShadowDom,b=n.selectRootElement(r,v);return function Im(n){Gy(n)}(b),b}(ut,c,this.componentDef.encapsulation,x):sh(ut,Rt,function I_(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Rt)),Sn=this.componentDef.onPush?576:528,$n=Md(0,null,null,1,0,null,null,null,null,null,null),Zn=vu(null,$n,null,Sn,null,null,Le,ut,x,null,null);let pn,ii;El(Zn);try{const yi=this.componentDef;let fs,rc=null;yi.findHostDirectiveDefs?(fs=[],rc=new Map,yi.findHostDirectiveDefs(yi,fs,rc),fs.push(yi)):fs=[yi];const eb=function km(n,r){const a=n[bn],c=_r;return n[c]=r,Zu(a,c,2,"#host",null)}(Zn,nn),UD=function Fm(n,r,a,c,f,v,b){const x=f[bn];!function Lm(n,r,a,c){for(const f of n)r.mergedAttrs=vn(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(xd(r,r.mergedAttrs,!0),null!==a&&Ug(c,a,r))}(c,n,r,b);let B=null;null!==r&&(B=nm(r,f[Qi]));const J=v.rendererFactory.createRenderer(r,a),pe=vu(f,sa(a),null,a.onPush?64:16,f[n.index],n,v,J,null,null,B);return x.firstCreatePass&&Sm(x,n,c.length-1),$l(f,pe),f[n.index]=pe}(eb,nn,yi,fs,Zn,Le,ut);ii=Ea($n,_r),nn&&function Bm(n,r,a,c){if(c)Dt(n,a,["ng-version",cm.full]);else{const{attrs:f,classes:v}=function Yi(n){const r=[],a=[];let c=1,f=2;for(;c<n.length;){let v=n[c];if("string"==typeof v)2===f?""!==v&&r.push(v,n[++c]):8===f&&a.push(v);else{if(!Qn(f))break;f=v}c++}return{attrs:r,classes:a}}(r.selectors[0]);f&&Dt(n,a,f),v&&v.length>0&&bf(n,a,v.join(" "))}}(ut,yi,nn,c),void 0!==a&&function cv(n,r,a){const c=n.projection=[];for(let f=0;f<r.length;f++){const v=a[f];c.push(null!=v?Array.from(v):null)}}(ii,this.ngContentSelectors,a),pn=function Ul(n,r,a,c,f,v){const b=Gs(),x=f[bn],B=Kr(b,f);Xy(x,f,b,a,null,c);for(let pe=0;pe<a.length;pe++)na(Cs(f,x,b.directiveStart+pe,b),f);bm(x,f,b),B&&na(B,f);const J=Cs(f,x,b.directiveStart+b.componentOffset,b);if(n[Ur]=f[Ur]=J,null!==v)for(const pe of v)pe(J,r);return xh(x,b,n),J}(UD,yi,fs,rc,Zn,[b_]),rv($n,Zn,null)}finally{wo()}return new lv(this.componentType,pn,Nc(ii,Zn),Zn,ii)}}class lv extends om{constructor(r,a,c,f,v){super(),this.location=c,this._rootLView=f,this._tNode=v,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Od(f),this.componentType=r}setInput(r,a){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[r])){var v;if(null!==(v=this.previousInputValues)&&void 0!==v||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),a))return;const b=this._rootLView;xm(b[bn],b,f,r,a),this.previousInputValues.set(r,a),Uf(zs(this._tNode.index,b))}}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function b_(){const n=Gs();Pu(Xe()[bn],n)}function Yf(n){let r=function kh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const c=[n];for(;r;){let f;if(br(n))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new we(903,!1);f=r.\u0275dir}if(f){if(a){c.push(f);const b=n;b.inputs=$m(n.inputs),b.declaredInputs=$m(n.declaredInputs),b.outputs=$m(n.outputs);const x=f.hostBindings;x&&E0(n,x);const B=f.viewQuery,J=f.contentQueries;if(B&&Zf(n,B),J&&hv(n,J),Ce(n.inputs,f.inputs),Ce(n.declaredInputs,f.declaredInputs),Ce(n.outputs,f.outputs),br(f)&&f.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let b=0;b<v.length;b++){const x=v[b];x&&x.ngInherit&&x(n),x===Yf&&(a=!1)}}r=Object.getPrototypeOf(r)}!function dv(n){let r=0,a=null;for(let c=n.length-1;c>=0;c--){const f=n[c];f.hostVars=r+=f.hostVars,f.hostAttrs=vn(f.hostAttrs,a=vn(a,f.hostAttrs))}}(c)}function $m(n){return n===at?{}:n===Be?[]:n}function Zf(n,r){const a=n.viewQuery;n.viewQuery=a?(c,f)=>{r(c,f),a(c,f)}:r}function hv(n,r){const a=n.contentQueries;n.contentQueries=a?(c,f,v)=>{r(c,f,v),a(c,f,v)}:r}function E0(n,r){const a=n.hostBindings;n.hostBindings=a?(c,f)=>{r(c,f),a(c,f)}:r}function Qf(n){return!!pg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function pg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wo(n,r,a){return!Object.is(n[r],a)&&(n[r]=a,!0)}function Fs(n,r,a,c){const f=Xe();return Wo(f,Zl(),r)&&(Lt(),za(Gi(),f,n,r,a,c)),Fs}function Ud(n,r,a,c,f,v,b,x){const B=Xe(),J=Lt(),pe=n+_r,Le=J.firstCreatePass?function _g(n,r,a,c,f,v,b,x,B){const J=r.consts,pe=Zu(r,n,4,b||null,re(J,x));Wf(r,a,pe,re(J,B)),Pu(r,pe);const Le=pe.tView=Md(2,pe,c,f,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,J,null);return null!==r.queries&&(r.queries.template(r,pe),Le.queries=r.queries.embeddedTView(pe)),pe}(pe,J,B,r,a,c,f,v,b):J.data[pe];Pa(Le,!1);const ut=Hh(J,B,Le,n);Jc()&&Sp(J,B,ut,Le),na(ut,B),$l(B,B[pe]=Mm(ut,B,ut,Le)),Ss(Le)&&Gf(J,B,Le),null!=b&&Em(B,Le,x)}let Hh=function zh(n,r,a,c){return Co(!0),r[on].createComment("")};function Ya(n){return function xa(n,r){return n[r]}(function Zc(){return yn.lFrame.contextLView}(),_r+n)}function cl(n,r,a){const c=Xe();return Wo(c,Zl(),r)&&function ga(n,r,a,c,f,v,b,x){const B=Kr(r,a);let pe,J=r.inputs;!x&&null!=J&&(pe=J[c])?(xm(n,a,pe,c,f),Ro(r)&&function Cm(n,r){const a=zs(r,n);16&a[Ir]||(a[Ir]|=64)}(a,r.index)):3&r.type&&(c=function Rd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),f=null!=b?b(f,r.value||"",c):f,v.setProperty(B,c,f))}(Lt(),Gi(),c,n,r,c[on],a,!1),cl}function dl(n,r,a,c,f){const b=f?"class":"style";xm(n,a,r.inputs[b],b,c)}function Wh(n,r,a,c){const f=Xe(),v=Lt(),b=_r+n,x=f[on],B=v.firstCreatePass?function Gh(n,r,a,c,f,v){const b=r.consts,B=Zu(r,n,2,c,re(b,f));return Wf(r,a,B,re(b,v)),null!==B.attrs&&xd(B,B.attrs,!1),null!==B.mergedAttrs&&xd(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(b,v,f,r,a,c):v.data[b],J=Cu(v,f,B,x,r,n);f[b]=J;const pe=Ss(B);return Pa(B,!0),Ug(x,J,B),32!=(32&B.flags)&&Jc()&&Sp(v,f,J,B),0===function Mr(){return yn.lFrame.elementDepthCount}()&&na(J,f),function Ji(){yn.lFrame.elementDepthCount++}(),pe&&(Gf(v,f,B),xh(v,B,f)),null!==c&&Em(f,B),Wh}function Iu(){let n=Gs();oc()?ac():(n=n.parent,Pa(n,!1));const r=n;(function ji(n){return yn.skipHydrationRootTNode===n})(r)&&function Tn(){yn.skipHydrationRootTNode=null}(),function en(){yn.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(Pu(a,n),$o(n)&&a.queries.elementEnd(n)),null!=r.classesWithoutHost&&function is(n){return 0!=(8&n.flags)}(r)&&dl(a,r,Xe(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function eo(n){return 0!=(16&n.flags)}(r)&&dl(a,r,Xe(),r.stylesWithoutHost,!1),Iu}function wg(n,r,a,c){return Wh(n,r,a,c),Iu(),wg}let Cu=(n,r,a,c,f,v)=>(Co(!0),sh(c,f,function Il(){return yn.lFrame.currentNamespace}()));function x_(n,r,a){const c=Xe(),f=Lt(),v=n+_r,b=f.firstCreatePass?function Dv(n,r,a,c,f){const v=r.consts,b=re(v,c),x=Zu(r,n,8,"ng-container",b);return null!==b&&xd(x,b,!0),Wf(r,a,x,re(v,f)),null!==r.queries&&r.queries.elementStart(r,x),x}(v,f,c,r,a):f.data[v];Pa(b,!0);const x=Ko(f,c,b,n);return c[v]=x,Jc()&&Sp(f,c,x,b),na(x,c),Ss(b)&&(Gf(f,c,b),xh(f,b,c)),null!=a&&Em(c,b),x_}function tp(){let n=Gs();const r=Lt();return oc()?ac():(n=n.parent,Pa(n,!1)),r.firstCreatePass&&(Pu(r,n),$o(n)&&r.queries.elementEnd(n)),tp}function Zm(n,r,a){return x_(n,r,a),tp(),Zm}let Ko=(n,r,a,c)=>(Co(!0),vf(r[on],""));function Cg(){return Xe()}function Tv(n){return!!n&&"function"==typeof n.then}function P_(n){return!!n&&"function"==typeof n.subscribe}function np(n,r,a,c){const f=Xe(),v=Lt(),b=Gs();return function Qm(n,r,a,c,f,v,b){const x=Ss(c),J=n.firstCreatePass&&ev(n),pe=r[Ur],Le=ag(r);let ut=!0;if(3&c.type||b){const Sn=Kr(c,r),$n=b?b(Sn):Sn,Zn=Le.length,pn=b?yi=>b(Ni(yi[c.index])):c.index;let ii=null;if(!b&&x&&(ii=function bg(n,r,a,c){const f=n.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const b=f[v];if(b===a&&f[v+1]===c){const x=r[Zi],B=f[v+2];return x.length>B?x[B]:null}"string"==typeof b&&(v+=2)}return null}(n,r,f,c.index)),null!==ii)(ii.__ngLastListenerFn__||ii).__ngNextListenerFn__=v,ii.__ngLastListenerFn__=v,ut=!1;else{v=Jm(c,r,pe,v,!1);const yi=a.listen($n,f,v);Le.push(v,yi),J&&J.push(f,pn,Zn,Zn+1)}}else v=Jm(c,r,pe,v,!1);const Rt=c.outputs;let nn;if(ut&&null!==Rt&&(nn=Rt[f])){const Sn=nn.length;if(Sn)for(let $n=0;$n<Sn;$n+=2){const fs=r[nn[$n]][nn[$n+1]].subscribe(v),rc=Le.length;Le.push(v,fs),J&&J.push(f,c.index,rc,-(rc+1))}}}(v,f,f[on],b,n,r,c),np}function Xm(n,r,a,c){try{return xs(6,r,a),!1!==a(c)}catch(f){return lg(n,f),!1}finally{xs(7,r,a)}}function Jm(n,r,a,c,f){return function v(b){if(b===Function)return c;Uf(n.componentOffset>-1?zs(n.index,r):r);let B=Xm(r,a,c,b),J=v.__ngNextListenerFn__;for(;J;)B=Xm(r,a,J,b)&&B,J=J.__ngNextListenerFn__;return f&&!1===B&&(b.preventDefault(),b.returnValue=!1),B}}function qh(n=1){return function Xc(n){return(yn.lFrame.contextLView=function ef(n,r){for(;n>0;)r=r[wi],n--;return r}(n,yn.lFrame.contextLView))[Ur]}(n)}function rp(n,r){let a=null;const c=function ps(n){const r=n.attrs;if(null!=r){const a=r.indexOf(5);if(!(1&a))return r[a+1]}return null}(n);for(let f=0;f<r.length;f++){const v=r[f];if("*"!==v){if(null===c?_i(n,v,!0):Os(c,v))return f}else a=f}return a}function Dg(n){const r=Xe()[vr][hi];if(!r.projection){const c=r.projection=ad(n?n.length:1,null),f=c.slice();let v=r.child;for(;null!==v;){const b=n?rp(v,n):0;null!==b&&(f[b]?f[b].projectionNext=v:c[b]=v,f[b]=v),v=v.next}}}function ip(n,r=0,a){const c=Xe(),f=Lt(),v=Zu(f,_r+n,16,null,a||null);null===v.projection&&(v.projection=r),ac(),(!c[ni]||function bi(){return null!==yn.skipHydrationRootTNode}())&&32!=(32&v.flags)&&function _y(n,r,a){lh(r[on],0,r,a,Cp(n,a,r),my(a.parent||r[hi],a,r))}(f,c,v)}function fl(n,r){return n<<17|r<<2}function bu(n){return n>>17&32767}function Du(n){return 2|n}function jd(n){return(131068&n)>>2}function ey(n,r){return-131069&n|r<<2}function ap(n){return 1|n}function Rv(n,r,a,c,f){const v=n[a+1],b=null===r;let x=c?bu(v):jd(v),B=!1;for(;0!==x&&(!1===B||b);){const pe=n[x+1];xv(n[x],r)&&(B=!0,n[x+1]=c?ap(pe):Du(pe)),x=c?bu(pe):jd(pe)}B&&(n[a+1]=c?Du(v):ap(v))}function xv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&No(n,r)>=0}function iy(n,r){return function Za(n,r,a,c){const f=Xe(),v=Lt(),b=function Si(n){const r=yn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,a}(2);v.firstUpdatePass&&function Lv(n,r,a,c){const f=n.data;if(null===f[a+1]){const v=f[Js()],b=function Fv(n,r){return r>=n.expandoStartIndex}(n,a);(function oe(n,r){return 0!=(n.flags&(r?8:16))})(v,c)&&null===r&&!b&&(r=!1),r=function U_(n,r,a,c){const f=function Pn(n){const r=yn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let v=c?r.residualClasses:r.residualStyles;if(null===f)0===(c?r.classBindings:r.styleBindings)&&(a=s(a=Zh(null,n,r,a,c),r.attrs,c),v=null);else{const b=r.directiveStylingLast;if(-1===b||n[b]!==f)if(a=Zh(f,n,r,a,c),null===v){let B=function Bv(n,r,a){const c=a?r.classBindings:r.styleBindings;if(0!==jd(c))return n[bu(c)]}(n,r,c);void 0!==B&&Array.isArray(B)&&(B=Zh(null,n,r,B[1],c),B=s(B,r.attrs,c),function M0(n,r,a,c){n[bu(a?r.classBindings:r.styleBindings)]=c}(n,r,c,B))}else v=function Hl(n,r,a){let c;const f=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<f;v++)c=s(c,n[v].hostAttrs,a);return s(c,r.attrs,a)}(n,r,c)}return void 0!==v&&(c?r.residualClasses=v:r.residualStyles=v),a}(f,v,r,c),function ny(n,r,a,c,f,v){let b=v?r.classBindings:r.styleBindings,x=bu(b),B=jd(b);n[c]=a;let pe,J=!1;if(Array.isArray(a)?(pe=a[1],(null===pe||No(a,pe)>0)&&(J=!0)):pe=a,f)if(0!==B){const ut=bu(n[x+1]);n[c+1]=fl(ut,x),0!==ut&&(n[ut+1]=ey(n[ut+1],c)),n[x+1]=function L_(n,r){return 131071&n|r<<17}(n[x+1],c)}else n[c+1]=fl(x,0),0!==x&&(n[x+1]=ey(n[x+1],c)),x=c;else n[c+1]=fl(B,0),0===x?x=c:n[B+1]=ey(n[B+1],c),B=c;J&&(n[c+1]=Du(n[c+1])),Rv(n,pe,c,!0),Rv(n,pe,c,!1),function Tg(n,r,a,c,f){const v=f?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof r&&No(v,r)>=0&&(a[c+1]=ap(a[c+1]))}(r,pe,n,c,v),b=fl(x,B),v?r.classBindings=b:r.styleBindings=b}(f,v,r,a,b,c)}}(v,n,b,c),r!==Yr&&Wo(f,b,r)&&function m(n,r,a,c,f,v,b,x){if(!(3&r.type))return;const B=n.data,J=B[x+1],pe=function B_(n){return 1==(1&n)}(J)?E(B,r,a,f,jd(J),b):void 0;k(pe)||(k(v)||function Sg(n){return 2==(2&n)}(J)&&(v=E(B,null,a,f,x,b)),function Vg(n,r,a,c,f){if(r)f?n.addClass(a,c):n.removeClass(a,c);else{let v=-1===c.indexOf("-")?void 0:Da.DashCase;null==f?n.removeStyle(a,c,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Da.Important),n.setStyle(a,c,f,v))}}(c,b,_a(Js(),a),f,v))}(v,v.data[Js()],f,f[on],n,f[b+1]=function q(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ve(du(n)))),n}(r,a),c,b)}(n,r,null,!0),iy}function Zh(n,r,a,c,f){let v=null;const b=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<b&&(v=r[x],c=s(c,v.hostAttrs,f),v!==n);)x++;return null!==n&&(a.directiveStylingLast=x),c}function s(n,r,a){const c=a?1:2;let f=-1;if(null!==r)for(let v=0;v<r.length;v++){const b=r[v];"number"==typeof b?f=b:f===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ii(n,b,!!a||r[++v]))}return void 0===n?null:n}function E(n,r,a,c,f,v){const b=null===r;let x;for(;f>0;){const B=n[f],J=Array.isArray(B),pe=J?B[1]:B,Le=null===pe;let ut=a[f+1];ut===Yr&&(ut=Le?Be:void 0);let Rt=Le?Jo(ut,c):pe===c?ut:void 0;if(J&&!k(Rt)&&(Rt=Jo(B,c)),k(Rt)&&(x=Rt,b))return x;const nn=n[f+1];f=b?bu(nn):jd(nn)}if(null!==r){let B=v?r.residualClasses:r.residualStyles;null!=B&&(x=Jo(B,c))}return x}function k(n){return void 0!==n}function Se(n,r=""){const a=Xe(),c=Lt(),f=n+_r,v=c.firstCreatePass?Zu(c,f,1,r,null):c.data[f],b=rt(c,a,v,r,n);a[f]=b,Jc()&&Sp(c,a,b,v),Pa(v,!1)}let rt=(n,r,a,c,f)=>(Co(!0),function au(n,r){return n.createText(r)}(r[on],c));function Dn(n){return Hn("",n,""),Dn}function Hn(n,r,a){const c=Xe(),f=function ma(n,r,a,c){return Wo(n,Zl(),a)?r+ot(a)+c:Yr}(c,n,r,a);return f!==Yr&&function Vl(n,r,a){const c=_a(r,n);!function wp(n,r,a){n.setValue(r,a)}(n[on],c,a)}(c,Js(),f),Hn}const zd=void 0;var wE=["en",[["a","p"],["AM","PM"],zd],[["AM","PM"],zd,zd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zd,"{1} 'at' {0}",zd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EE(n){const a=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Mg={};function W_(n){const r=function Uw(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=CE(r);if(a)return a;const c=r.split("-")[0];if(a=CE(c),a)return a;if("en"===c)return wE;throw new we(701,!1)}function IE(n){return W_(n)[Gr.PluralCase]}function CE(n){return n in Mg||(Mg[n]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[n]),Mg[n]}var Gr=(()=>((Gr=Gr||{})[Gr.LocaleId=0]="LocaleId",Gr[Gr.DayPeriodsFormat=1]="DayPeriodsFormat",Gr[Gr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gr[Gr.DaysFormat=3]="DaysFormat",Gr[Gr.DaysStandalone=4]="DaysStandalone",Gr[Gr.MonthsFormat=5]="MonthsFormat",Gr[Gr.MonthsStandalone=6]="MonthsStandalone",Gr[Gr.Eras=7]="Eras",Gr[Gr.FirstDayOfWeek=8]="FirstDayOfWeek",Gr[Gr.WeekendRange=9]="WeekendRange",Gr[Gr.DateFormat=10]="DateFormat",Gr[Gr.TimeFormat=11]="TimeFormat",Gr[Gr.DateTimeFormat=12]="DateTimeFormat",Gr[Gr.NumberSymbols=13]="NumberSymbols",Gr[Gr.NumberFormats=14]="NumberFormats",Gr[Gr.CurrencyCode=15]="CurrencyCode",Gr[Gr.CurrencySymbol=16]="CurrencySymbol",Gr[Gr.CurrencyName=17]="CurrencyName",Gr[Gr.Currencies=18]="Currencies",Gr[Gr.Directionality=19]="Directionality",Gr[Gr.PluralCase=20]="PluralCase",Gr[Gr.ExtraData=21]="ExtraData",Gr))();const sy="en-US";let bE=sy;function U0(n,r,a,c,f){if(n=ve(n),Array.isArray(n))for(let v=0;v<n.length;v++)U0(n[v],r,a,c,f);else{const v=Lt(),b=Xe();let x=pu(n)?n:ve(n.provide),B=Py(n);const J=Gs(),pe=1048575&J.providerIndexes,Le=J.directiveStart,ut=J.providerIndexes>>20;if(pu(n)||!n.multi){const Rt=new yt(B,f,Bl),nn=j0(x,r,f?pe:pe+ut,Le);-1===nn?(td(Cl(J,b),v,x),J_(v,n,r.length),r.push(x),J.directiveStart++,J.directiveEnd++,f&&(J.providerIndexes+=1048576),a.push(Rt),b.push(Rt)):(a[nn]=Rt,b[nn]=Rt)}else{const Rt=j0(x,r,pe+ut,Le),nn=j0(x,r,pe,pe+ut),$n=nn>=0&&a[nn];if(f&&!$n||!f&&!(Rt>=0&&a[Rt])){td(Cl(J,b),v,x);const Zn=function xI(n,r,a,c,f){const v=new yt(n,a,Bl);return v.multi=[],v.index=r,v.componentProviders=0,XE(v,f,c&&!a),v}(f?RI:MI,a.length,f,c,B);!f&&$n&&(a[nn].providerFactory=Zn),J_(v,n,r.length,0),r.push(x),J.directiveStart++,J.directiveEnd++,f&&(J.providerIndexes+=1048576),a.push(Zn),b.push(Zn)}else J_(v,n,Rt>-1?Rt:nn,XE(a[f?nn:Rt],B,!f&&c));!f&&c&&$n&&a[nn].componentProviders++}}}function J_(n,r,a,c){const f=pu(r),v=function c_(n){return!!n.useClass}(r);if(f||v){const B=(v?ve(r.useClass):r).prototype.ngOnDestroy;if(B){const J=n.destroyHooks||(n.destroyHooks=[]);if(!f&&r.multi){const pe=J.indexOf(a);-1===pe?J.push(a,[c,B]):J[pe+1].push(c,B)}else J.push(a,B)}}}function XE(n,r,a){return a&&n.componentProviders++,n.multi.push(r)-1}function j0(n,r,a,c){for(let f=a;f<c;f++)if(r[f]===n)return f;return-1}function MI(n,r,a,c){return H0(this.multi,[])}function RI(n,r,a,c){const f=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Cs(a,a[bn],this.providerFactory.index,c);v=x.slice(0,b),H0(f,v);for(let B=b;B<x.length;B++)v.push(x[B])}else v=[],H0(f,v);return v}function H0(n,r){for(let a=0;a<n.length;a++)r.push((0,n[a])());return r}function JE(n,r=[]){return a=>{a.providersResolver=(c,f)=>function AI(n,r,a){const c=Lt();if(c.firstCreatePass){const f=br(n);U0(a,c.data,c.blueprint,f,!0),U0(r,c.data,c.blueprint,f,!1)}}(c,f?f(n):n,r)}}class ay{}class ew{}function PI(n,r){return new z0(n,null!=r?r:null,[])}class z0 extends ay{constructor(r,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ov(this);const f=fn(r);this._bootstrapComponents=Ll(f.bootstrap),this._r3Injector=Yu(r,a,[{provide:ay,useValue:this},{provide:kl,useValue:this.componentFactoryResolver},...c],Ve(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class G0 extends ew{constructor(r){super(),this.moduleType=r}create(r){return new z0(this.moduleType,r,[])}}class tw extends ay{constructor(r){super(),this.componentFactoryResolver=new ov(this),this.instance=null;const a=new Rc([...r.providers,{provide:ay,useValue:this},{provide:kl,useValue:this.componentFactoryResolver}],r.parent||Vp(),r.debugName,new Set(["environment"]));this.injector=a,r.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function nw(n,r,a=null){return new tw({providers:n,parent:r,debugName:a,runEnvironmentInitializers:!0}).injector}let NI=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=fu(0,a.type),f=c.length>0?nw([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,f)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=tt({token:n,providedIn:"environment",factory:()=>new n(Mt(_d))}),n})();function rw(n){n.getStandaloneInjector=r=>r.get(NI).getOrCreateStandaloneInjector(n)}function Xh(n){return r=>{setTimeout(n,void 0,r)}}const nc=class uy extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,c){let f=r,v=a||(()=>null),b=c;if(r&&"object"==typeof r){var x,B,J;const Le=r;f=null===(x=Le.next)||void 0===x?void 0:x.bind(Le),v=null===(B=Le.error)||void 0===B?void 0:B.bind(Le),b=null===(J=Le.complete)||void 0===J?void 0:J.bind(Le)}this.__isAsync&&(v=Xh(v),f&&(f=Xh(f)),b&&(b=Xh(b)));const pe=super.subscribe({next:f,error:v,complete:b});return r instanceof g.w0&&r.add(pe),pe}};function Cr(){return this._results[Symbol.iterator]()}class kr{get changes(){return this._changes||(this._changes=new nc)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=kr.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Cr)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const c=this;c.dirty=!1;const f=function zo(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function lf(n,r,a){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let f=n[c],v=r[c];if(a&&(f=a(f),v=a(v)),v!==f)return!1}return!0}(c._results,f,a))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Yc,n})();const Fi=Vr,yo=class extends Fi{constructor(r,a,c){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=c}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,a){return this.createEmbeddedViewImpl(r,a,null)}createEmbeddedViewImpl(r,a,c){const f=this._declarationTContainer.tView,v=vu(this._declarationLView,f,r,16,null,f.declTNode,null,null,null,a||null,c||null);v[ls]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[ts];return null!==x&&(v[ts]=x.createEmbeddedView(f)),rv(f,v,r),new Pd(v)}};function Yc(){return Ta(Gs(),Xe())}function Ta(n,r){return 4&n.type?new yo(r,n,Nc(n,r)):null}let Y0=(()=>{class n{}return n.__NG_ELEMENT_ID__=lb,n})();function lb(){return VI(Gs(),Xe())}const ub=Y0,BI=class extends ub{constructor(r,a,c){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=c}get element(){return Nc(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const r=eu(this._hostTNode,this._hostLView);if(Ou(r)){const a=Ho(r,this._hostLView),c=Fa(r);return new Ls(a[bn].data[c+8],a)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=$I(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-Ui}createEmbeddedView(r,a,c){let f,v;"number"==typeof c?f=c:null!=c&&(f=c.index,v=c.injector);const x=r.createEmbeddedViewImpl(a||{},v,null);return this.insertImpl(x,f,!1),x}createComponent(r,a,c,f,v){var b,B;const J=r&&!Ua(r);let pe;if(J)pe=a;else{const Zn=a||{};pe=Zn.index,c=Zn.injector,f=Zn.projectableNodes,v=Zn.environmentInjector||Zn.ngModuleRef}const Le=J?r:new Uc(Qe(r)),ut=c||this.parentInjector;if(!v&&null==Le.ngModule){const pn=(J?ut:this.parentInjector).get(_d,null);pn&&(v=pn)}const Rt=Qe(null!==(b=Le.componentType)&&void 0!==b?b:{}),nn=(null==Rt?void 0:Rt.id,null),Sn=null!==(B=null==nn?void 0:nn.firstChild)&&void 0!==B?B:null,$n=Le.create(ut,f,Sn,v);return this.insertImpl($n.hostView,pe,!!nn),$n}insert(r,a){return this.insertImpl(r,a,!1)}insertImpl(r,a,c){const f=r._lView,v=f[bn];if(function $(n){return zi(n[Wr])}(f)){const B=this.indexOf(r);if(-1!==B)this.detach(B);else{const J=f[Wr],pe=new BI(J,J[hi],J[Wr]);pe.detach(pe.indexOf(r))}}const b=this._adjustIndex(a),x=this._lContainer;if(function Vi(n,r,a,c){const f=Ui+c,v=a.length;c>0&&(a[f-1][Li]=r),c<v-Ui?(r[Li]=a[f],od(a,Ui+c,r)):(a.push(r),r[Li]=null),r[Wr]=a;const b=r[ls];null!==b&&a!==b&&function fy(n,r){const a=n[Rs];r[vr]!==r[Wr][Wr][vr]&&(n[la]=!0),null===a?n[Rs]=[r]:a.push(r)}(b,r);const x=r[ts];null!==x&&x.insertView(n),r[Ir]|=128}(v,f,x,b),!c){const B=Cc(b,x),J=f[on],pe=ah(J,x[Ds]);null!==pe&&function Qv(n,r,a,c,f,v){c[Hr]=f,c[hi]=r,md(n,c,a,1,f,v)}(v,x[hi],J,f,pe,B)}return r.attachToViewContainerRef(),od(hw(x),b,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=$I(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),c=_f(this._lContainer,a);c&&(Fu(hw(this._lContainer),a),Ef(c[bn],c))}detach(r){const a=this._adjustIndex(r,-1),c=_f(this._lContainer,a);return c&&null!=Fu(hw(this._lContainer),a)?new Pd(c):null}_adjustIndex(r,a=0){return null==r?this.length+a:r}};function $I(n){return n[Xi]}function hw(n){return n[Xi]||(n[Xi]=[])}function VI(n,r){let a;const c=r[n.index];return zi(c)?a=c:(a=Mm(c,r,null,n),r[n.index]=a,$l(r,a)),UI(a,r,n,c),new BI(a,n,r)}let UI=function jI(n,r,a,c){if(n[Ds])return;let f;f=8&a.type?Ni(c):function cb(n,r){const a=n[on],c=a.createComment(""),f=Kr(r,n);return ro(a,ah(a,f),c,function gy(n,r){return n.nextSibling(r)}(a,f),!1),c}(r,a),n[Ds]=f};class fw{constructor(r){this.queryList=r,this.matches=null}clone(){return new fw(this.queryList)}setDirty(){this.queryList.setDirty()}}class pw{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const c=null!==r.contentQueries?r.contentQueries[0]:a.length,f=[];for(let v=0;v<c;v++){const b=a.getByIndex(v);f.push(this.queries[b.indexInDeclarationView].clone())}return new pw(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==QI(r,a).matches&&this.queries[a].setDirty()}}class HI{constructor(r,a,c=null){this.predicate=r,this.flags=a,this.read=c}}class gw{constructor(r=[]){this.queries=r}elementStart(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let c=0;c<this.length;c++){const f=null!==a?a.length:0,v=this.getByIndex(c).embeddedTView(r,f);v&&(v.indexInDeclarationView=c,null!==a?a.push(v):a=[v])}return null!==a?new gw(a):null}template(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class mw{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new mw(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const v=c[f];this.matchTNodeWithReadOption(r,a,fb(a,v)),this.matchTNodeWithReadOption(r,a,ba(a,r,v,!1,!1))}else c===Vr?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,ba(a,r,c,!1,!1))}matchTNodeWithReadOption(r,a,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Cd||f===Y0||f===Vr&&4&a.type)this.addMatch(a.index,-2);else{const v=ba(a,r,f,!1,!1);null!==v&&this.addMatch(a.index,v)}else this.addMatch(a.index,c)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function fb(n,r){const a=n.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===r)return a[c+1];return null}function gb(n,r,a,c){return-1===a?function pb(n,r){return 11&n.type?Nc(n,r):4&n.type?Ta(n,r):null}(r,n):-2===a?function mb(n,r,a){return a===Cd?Nc(r,n):a===Vr?Ta(r,n):a===Y0?VI(r,n):void 0}(n,r,c):Cs(n,n[bn],a,r)}function zI(n,r,a,c){const f=r[ts].queries[c];if(null===f.matches){const v=n.data,b=a.matches,x=[];for(let B=0;B<b.length;B+=2){const J=b[B];x.push(J<0?null:gb(r,v[J],b[B+1],a.metadata.read))}f.matches=x}return f.matches}function yw(n,r,a,c){const f=n.queries.getByIndex(a),v=f.matches;if(null!==v){const b=zI(n,r,f,a);for(let x=0;x<v.length;x+=2){const B=v[x];if(B>0)c.push(b[x/2]);else{const J=v[x+1],pe=r[-B];for(let Le=Ui;Le<pe.length;Le++){const ut=pe[Le];ut[ls]===ut[Wr]&&yw(ut[bn],ut,J,c)}if(null!==pe[Rs]){const Le=pe[Rs];for(let ut=0;ut<Le.length;ut++){const Rt=Le[ut];yw(Rt[bn],Rt,J,c)}}}}}return c}function GI(n){const r=Xe(),a=Lt(),c=da();Na(c+1);const f=QI(a,c);if(n.dirty&&function Xa(n){return 4==(4&n[Ir])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const v=f.crossesNgTemplate?yw(a,r,c,[]):zI(a,r,f,c);n.reset(v,ks),n.notifyOnChanges()}return!0}return!1}function WI(n,r,a){const c=Lt();c.firstCreatePass&&(ZI(c,new HI(n,r,a),-1),2==(2&r)&&(c.staticViewQueries=!0)),YI(c,Xe(),r)}function KI(n,r,a,c){const f=Lt();if(f.firstCreatePass){const v=Gs();ZI(f,new HI(r,a,c),v.index),function vb(n,r){const a=n.contentQueries||(n.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,r)}(f,n),2==(2&a)&&(f.staticContentQueries=!0)}YI(f,Xe(),a)}function qI(){return function yb(n,r){return n[ts].queries[r].queryList}(Xe(),da())}function YI(n,r,a){const c=new kr(4==(4&a));(function Ky(n,r,a,c){const f=ag(r);f.push(a),n.firstCreatePass&&ev(n).push(c,f.length-1)})(n,r,c,c.destroy),null===r[ts]&&(r[ts]=new pw),r[ts].queries.push(new fw(c))}function ZI(n,r,a){null===n.queries&&(n.queries=new gw),n.queries.track(new mw(r,a))}function QI(n,r){return n.queries.getByIndex(r)}function vw(n){return!!fn(n)}const pC=new qi("Application Initializer");let Cw=(()=>{class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f}),this.appInits=null!==(a=wn(pC,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const v=f();if(Tv(v))a.push(v);else if(P_(v)){const b=new Promise((x,B)=>{v.subscribe({complete:x,error:B})});a.push(b)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(f=>{this.reject(f)}),0===a.length&&c(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gC=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Q0=new qi("LocaleId",{providedIn:"root",factory:()=>wn(Q0,Yt.Optional|Yt.SkipSelf)||function Vb(){return typeof $localize<"u"&&$localize.locale||sy}()}),Ub=new qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jb{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let Hb=(()=>{class n{compileModuleSync(a){return new G0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),v=Ll(fn(a).declarations).reduce((b,x)=>{const B=Qe(x);return B&&b.push(new Uc(B)),b},[]);return new jb(c,v)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wb=(()=>Promise.resolve(0))();function bw(n){typeof Zone>"u"?Wb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function vC(...n){}class ml{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&a,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Kb(){let n=Cn.requestAnimationFrame,r=Cn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Zb(n){const r=()=>{!function Yb(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Cn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sw(n),n.isCheckStableRunning=!0,Dw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,f,v,b,x)=>{try{return _C(n),a.invokeTask(f,v,b,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&r(),EC(n)}},onInvoke:(a,c,f,v,b,x,B)=>{try{return _C(n),a.invoke(f,v,b,x,B)}finally{n.shouldCoalesceRunChangeDetection&&r(),EC(n)}},onHasTask:(a,c,f,v)=>{a.hasTask(f,v),c===f&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,Sw(n),Dw(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(a,c,f,v)=>(a.handleError(f,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ml.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(ml.isInAngularZone())throw new we(909,!1)}run(r,a,c){return this._inner.run(r,a,c)}runTask(r,a,c,f){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+f,r,qb,vC,vC);try{return v.runTask(b,a,c)}finally{v.cancelTask(b)}}runGuarded(r,a,c){return this._inner.runGuarded(r,a,c)}runOutsideAngular(r){return this._outer.run(r)}}const qb={};function Dw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _C(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EC(n){n._nesting--,Dw(n)}class Qb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(r,a,c){return r.apply(a,c)}runGuarded(r,a,c){return r.apply(a,c)}runOutsideAngular(r){return r()}runTask(r,a,c,f){return r.apply(a,c)}}const wC=new qi("",{providedIn:"root",factory:IC});function IC(){const n=wn(ml);let r=!0;const a=new se.y(f=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{f.next(r),f.complete()})}),c=new se.y(f=>{let v;n.runOutsideAngular(()=>{v=n.onStable.subscribe(()=>{ml.assertNotInAngularZone(),bw(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const b=n.onUnstable.subscribe(()=>{ml.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{f.next(!1)}))});return()=>{v.unsubscribe(),b.unsubscribe()}});return(0,ge.T)(a,c.pipe((0,xe.B)()))}const CC=new qi(""),bC=new qi("");let Tw,Xb=(()=>{class n{constructor(a,c,f){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tw||(function Jb(n){Tw=n}(f),f.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ml.assertNotInAngularZone(),bw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bw(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,f){let v=-1;c&&c>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==v),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:v,updateCb:f})}whenStable(a,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,f){return[]}}return n.\u0275fac=function(a){return new(a||n)(Mt(ml),Mt(DC),Mt(bC))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})(),DC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var f,v;return null!==(f=null===(v=Tw)||void 0===v?void 0:v.findTestabilityInTree(this,a,c))&&void 0!==f?f:null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Rg=null;const SC=new qi("AllowMultipleToken"),Aw=new qi("PlatformDestroyListeners"),Mw=new qi("appBootstrapListener");class nD{constructor(r,a){this.name=r,this.token=a}}function MC(n,r,a=[]){const c=`Platform: ${r}`,f=new qi(c);return(v=[])=>{let b=Rw();if(!b||b.injector.get(SC,!1)){const x=[...a,...v,{provide:f,useValue:!0}];n?n(x):function rD(n){if(Rg&&!Rg.get(SC,!1))throw new we(400,!1);(function TC(){!function Yo(n){Hs=n}(()=>{throw new we(600,!1)})})(),Rg=n;const r=n.get(xC);(function AC(n){const r=n.get(Ny,null);null==r||r.forEach(a=>a())})(n)}(function RC(n=[],r){return yu.create({name:r,providers:[{provide:Eh,useValue:"platform"},{provide:Aw,useValue:new Set([()=>Rg=null])},...n]})}(x,c))}return function sD(n){const r=Rw();if(!r)throw new we(401,!1);return r}()}}function Rw(){var n,r;return null!==(n=null===(r=Rg)||void 0===r?void 0:r.get(xC))&&void 0!==n?n:null}let xC=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const f=function oD(n="zone.js",r){return"noop"===n?new Qb:"zone.js"===n?new ml(r):n}(null==c?void 0:c.ngZone,function PC(n){var r,a;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(a=null==n?void 0:n.runCoalescing)&&void 0!==a&&a}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return f.run(()=>{const v=function OI(n,r,a){return new z0(n,r,a)}(a.moduleType,this.injector,function LC(n){return[{provide:ml,useFactory:n},{provide:Tc,multi:!0,useFactory:()=>{const r=wn(lD,{optional:!0});return()=>r.initialize()}},{provide:FC,useFactory:aD},{provide:wC,useFactory:IC}]}(()=>f)),b=v.injector.get(Dh,null);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:B=>{b.handleError(B)}});v.onDestroy(()=>{X0(this._modules,v),x.unsubscribe()})}),function OC(n,r,a){try{const c=a();return Tv(c)?c.catch(f=>{throw r.runOutsideAngular(()=>n.handleError(f)),f}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(b,f,()=>{const x=v.injector.get(Cw);return x.runInitializers(),x.donePromise.then(()=>(function DE(n){ct(n,"Expected localeId to be defined"),"string"==typeof n&&(bE=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Q0,sy)||sy),this._moduleDoBootstrap(v),v))})})}bootstrapModule(a,c=[]){const f=NC({},c);return function eD(n,r,a){const c=new G0(a);return Promise.resolve(c)}(0,0,a).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(a){const c=a.injector.get(Zv);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new we(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Aw,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Mt(yu))},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function NC(n,r){return Array.isArray(r)?r.reduce(NC,n):{...n,...r}}let Zv=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wn(FC),this.componentTypes=[],this.components=[],this.isStable=wn(wC),this._injector=wn(_d)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const f=a instanceof Gp;if(!this._injector.get(Cw).done)throw!f&&an(a),new we(405,!1);let b;b=f?a:this._injector.get(kl).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const x=function tD(n){return n.isBoundToModule}(b)?void 0:this._injector.get(ay),J=b.create(yu.NULL,[],c||b.selector,x),pe=J.location.nativeElement,Le=J.injector.get(CC,null);return null==Le||Le.registerApplication(pe),J.onDestroy(()=>{this.detachView(J.hostView),X0(this.components,J),null==Le||Le.unregisterApplication(pe)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;X0(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Mw,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>X0(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X0(n,r){const a=n.indexOf(r);a>-1&&n.splice(a,1)}const FC=new qi("",{providedIn:"root",factory:()=>wn(Dh).handleError.bind(void 0)});function aD(){const n=wn(ml),r=wn(Dh);return a=>n.runOutsideAngular(()=>r.handleError(a))}let lD=(()=>{class n{constructor(){this.zone=wn(ml),this.applicationRef=wn(Zv)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cD(){return!1}function dD(){}let hD=(()=>{class n{}return n.__NG_ELEMENT_ID__=fD,n})();function fD(n){return function pD(n,r,a){if(Ro(n)&&!a){const c=zs(n.index,r);return new Pd(c,c)}return 47&n.type?new Pd(r[vr],r):null}(Gs(),Xe(),16==(16&n))}class UC{constructor(){}supports(r){return Qf(r)}create(r){return new ED(r)}}const _D=(n,r)=>r;class ED{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_D}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,c=this._removalsHead,f=0,v=null;for(;a||c;){const b=!c||a&&a.currentIndex<HC(c,f,v)?a:c,x=HC(b,f,v),B=b.currentIndex;if(b===c)f--,c=c._nextRemoved;else if(a=a._next,null==b.previousIndex)f++;else{v||(v=[]);const J=x-f,pe=B-f;if(J!=pe){for(let ut=0;ut<J;ut++){const Rt=ut<v.length?v[ut]:v[ut]=0,nn=Rt+ut;pe<=nn&&nn<J&&(v[ut]=Rt+1)}v[b.previousIndex]=pe-J}}x!==B&&r(b,x,B)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Qf(r))throw new we(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,v,b,a=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)v=r[x],b=this._trackByFn(x,v),null!==a&&Object.is(a.trackById,b)?(c&&(a=this._verifyReinsertion(a,v,b,x)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,b,x),c=!0),a=a._next}else f=0,function pv(n,r){if(Array.isArray(n))for(let a=0;a<n.length;a++)r(n[a]);else{const a=n[Symbol.iterator]();let c;for(;!(c=a.next()).done;)r(c.value)}}(r,x=>{b=this._trackByFn(f,x),null!==a&&Object.is(a.trackById,b)?(c&&(a=this._verifyReinsertion(a,x,b,f)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,b,f),c=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,c,f){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,v,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,v,f)):r=this._addAfter(new wD(a,c),v,f),r}_verifyReinsertion(r,a,c,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==v?r=this._reinsertAfter(v,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,v=r._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(r,a,c),this._addToMoves(r,c),r}_moveAfter(r,a,c){return this._unlink(r),this._insertAfter(r,a,c),this._addToMoves(r,c),r}_addAfter(r,a,c){return this._insertAfter(r,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,c){const f=null===a?this._itHead:a._next;return r._next=f,r._prev=a,null===f?this._itTail=r:f._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new jC),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,c=r._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class wD{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ID{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const a=r._prevDup,c=r._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class jC{constructor(){this.map=new Map}put(r){const a=r.trackById;let c=this.map.get(a);c||(c=new ID,this.map.set(a,c)),c.add(r)}get(r,a){const f=this.map.get(r);return f?f.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HC(n,r,a){const c=n.previousIndex;if(null===c)return c;let f=0;return a&&c<a.length&&(f=a[c]),c+r+f}class zC{constructor(){}supports(r){return r instanceof Map||pg(r)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||pg(r)))throw new we(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const v=this._getOrCreateRecordForKey(f,c);a=this._insertBeforeOrAppend(a,v)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const c=r._prev;return a._next=r,a._prev=c,r._prev=a,c&&(c._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,a);const v=f._prev,b=f._next;return v&&(v._next=b),b&&(b._prev=v),f._next=null,f._prev=null,f}const c=new bD(r);return this._records.set(r,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(c=>a(r[c],c))}}class bD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GC(){return new kw([new UC])}let kw=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const f=c.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||GC()),deps:[[n,new nu,new mc]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(null!=c)return c;throw new we(901,!1)}}return n.\u0275prov=tt({token:n,providedIn:"root",factory:GC}),n})();function WC(){return new Fw([new zC])}let Fw=(()=>{class n{constructor(a){this.factories=a}static create(a,c){if(c){const f=c.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||WC()),deps:[[n,new nu,new mc]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(c)return c;throw new we(901,!1)}}return n.\u0275prov=tt({token:n,providedIn:"root",factory:WC}),n})();const TD=MC(null,"core",[]);let AD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Mt(Zv))},n.\u0275mod=_e({type:n}),n.\u0275inj=Jt({}),n})(),XC=(()=>{class n{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=wn(ml),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(a=>{this.resolve=a})})}add(){if(this.completed)return-1;const a=this.taskId++;return this.collection.add(a),a}remove(a){this.completed||(this.collection.delete(a),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function $D(n,r){const a=Qe(n),c=r.elementInjector||Vp();return new Uc(a).create(c,r.projectableNodes,r.hostElement,r.environmentInjector)}function VD(n){const r=Qe(n);if(!r)return null;const a=new Uc(r);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return r.standalone}}}},5030:(un,dt,L)=>{"use strict";L.d(dt,{u5:()=>Xs,wO:()=>Ai,JU:()=>Ze,a5:()=>Yt,JJ:()=>tr,JL:()=>Fr,F:()=>_e,On:()=>Hr,UX:()=>lo,Q7:()=>cs,_Y:()=>bn});var y=L(2223),g=L(4755),se=L(8996),ge=L(9751),xe=L(4742),Ee=L(8421),de=L(7669),Ce=L(5403),Ve=L(3268),Te=L(1810),ze=L(4004);let ve=(()=>{class Y{constructor(C,P){this._renderer=C,this._elementRef=P,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(C,P){this._renderer.setProperty(this._elementRef.nativeElement,C,P)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return Y.\u0275fac=function(C){return new(C||Y)(y.Y36(y.Qsj),y.Y36(y.SBq))},Y.\u0275dir=y.lG2({type:Y}),Y})(),Ue=(()=>{class Y extends ve{}return Y.\u0275fac=function(){let U;return function(P){return(U||(U=y.n5z(Y)))(P||Y)}}(),Y.\u0275dir=y.lG2({type:Y,features:[y.qOj]}),Y})();const Ze=new y.OlP("NgValueAccessor"),we={provide:Ze,useExisting:(0,y.Gpc)(()=>Ge),multi:!0},ot=new y.OlP("CompositionEventMode");let Ge=(()=>{class Y extends ve{constructor(C,P,me){super(C,P),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ft(){const Y=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(C){this.setProperty("value",null==C?"":C)}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return Y.\u0275fac=function(C){return new(C||Y)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(ot,8))},Y.\u0275dir=y.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,P){1&C&&y.NdJ("input",function(st){return P._handleInput(st.target.value)})("blur",function(){return P.onTouched()})("compositionstart",function(){return P._compositionStart()})("compositionend",function(st){return P._compositionEnd(st.target.value)})},features:[y._Bn([we]),y.qOj]}),Y})();function it(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}const _t=new y.OlP("NgValidators"),Ye=new y.OlP("NgAsyncValidators");function vt(Y){return it(Y.value)?{required:!0}:null}function ke(Y){return null}function je(Y){return null!=Y}function ne(Y){return(0,y.QGY)(Y)?(0,se.D)(Y):Y}function ct(Y){let U={};return Y.forEach(C=>{U=null!=C?{...U,...C}:U}),0===Object.keys(U).length?null:U}function Tt(Y,U){return U.map(C=>C(Y))}function rn(Y){return Y.map(U=>function Pt(Y){return!Y.validate}(U)?U:C=>U.validate(C))}function tt(Y){return null!=Y?function At(Y){if(!Y)return null;const U=Y.filter(je);return 0==U.length?null:function(C){return ct(Tt(C,U))}}(rn(Y)):null}function Jt(Y){return null!=Y?function kt(Y){if(!Y)return null;const U=Y.filter(je);return 0==U.length?null:function(C){return function be(...Y){const U=(0,de.jO)(Y),{args:C,keys:P}=(0,xe.D)(Y),me=new ge.y(st=>{const{length:$t}=C;if(!$t)return void st.complete();const Zt=new Array($t);let mn=$t,Qr=$t;for(let Xr=0;Xr<$t;Xr++){let oi=!1;(0,Ee.Xf)(C[Xr]).subscribe((0,Ce.x)(st,zr=>{oi||(oi=!0,Qr--),Zt[Xr]=zr},()=>mn--,void 0,()=>{(!mn||!oi)&&(Qr||st.next(P?(0,Te.n)(P,Zt):Zt),st.complete())}))}});return U?me.pipe((0,Ve.Z)(U)):me}(Tt(C,U).map(ne)).pipe((0,ze.U)(ct))}}(rn(Y)):null}function cn(Y,U){return null===Y?[U]:Array.isArray(Y)?[...Y,U]:[Y,U]}function Nt(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function In(Y,U){return Array.isArray(Y)?Y.includes(U):Y===U}function Ft(Y,U){const C=Nt(U);return Nt(Y).forEach(me=>{In(C,me)||C.push(me)}),C}function Kn(Y,U){return Nt(U).filter(C=>!In(Y,C))}class hr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=tt(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=Jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U=void 0){this.control&&this.control.reset(U)}hasError(U,C){return!!this.control&&this.control.hasError(U,C)}getError(U,C){return this.control?this.control.getError(U,C):null}}class yr extends hr{get formDirective(){return null}get path(){return null}}class Yt extends hr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pr{constructor(U){this._cd=U}get isTouched(){var U,C;return!(null===(U=this._cd)||void 0===U||null===(C=U.control)||void 0===C||!C.touched)}get isUntouched(){var U,C;return!(null===(U=this._cd)||void 0===U||null===(C=U.control)||void 0===C||!C.untouched)}get isPristine(){var U,C;return!(null===(U=this._cd)||void 0===U||null===(C=U.control)||void 0===C||!C.pristine)}get isDirty(){var U,C;return!(null===(U=this._cd)||void 0===U||null===(C=U.control)||void 0===C||!C.dirty)}get isValid(){var U,C;return!(null===(U=this._cd)||void 0===U||null===(C=U.control)||void 0===C||!C.valid)}get isInvalid(){var U,C;return!(null===(U=this._cd)||void 0===U||null===(C=U.control)||void 0===C||!C.invalid)}get isPending(){var U,C;return!(null===(U=this._cd)||void 0===U||null===(C=U.control)||void 0===C||!C.pending)}get isSubmitted(){var U;return!(null===(U=this._cd)||void 0===U||!U.submitted)}}let tr=(()=>{class Y extends Pr{constructor(C){super(C)}}return Y.\u0275fac=function(C){return new(C||Y)(y.Y36(Yt,2))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,P){2&C&&y.ekj("ng-untouched",P.isUntouched)("ng-touched",P.isTouched)("ng-pristine",P.isPristine)("ng-dirty",P.isDirty)("ng-valid",P.isValid)("ng-invalid",P.isInvalid)("ng-pending",P.isPending)},features:[y.qOj]}),Y})(),Fr=(()=>{class Y extends Pr{constructor(C){super(C)}}return Y.\u0275fac=function(C){return new(C||Y)(y.Y36(yr,10))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,P){2&C&&y.ekj("ng-untouched",P.isUntouched)("ng-touched",P.isTouched)("ng-pristine",P.isPristine)("ng-dirty",P.isDirty)("ng-valid",P.isValid)("ng-invalid",P.isInvalid)("ng-pending",P.isPending)("ng-submitted",P.isSubmitted)},features:[y.qOj]}),Y})();const wn="VALID",pr="INVALID",Xn="PENDING",gr="DISABLED";function et(Y){return(K(Y)?Y.validators:Y)||null}function W(Y,U){return(K(U)?U.asyncValidators:Y)||null}function K(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class Be{constructor(U,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(U),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===wn}get invalid(){return this.status===pr}get pending(){return this.status==Xn}get disabled(){return this.status===gr}get enabled(){return this.status!==gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._assignValidators(U)}setAsyncValidators(U){this._assignAsyncValidators(U)}addValidators(U){this.setValidators(Ft(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(Ft(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(Kn(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(Kn(U,this._rawAsyncValidators))}hasValidator(U){return In(this._rawValidators,U)}hasAsyncValidator(U){return In(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=Xn,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const C=this._parentMarkedDirty(U.onlySelf);this.status=gr,this.errors=null,this._forEachChild(P=>{P.disable({...U,onlySelf:!0})}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...U,skipPristineCheck:C}),this._onDisabledChange.forEach(P=>P(!0))}enable(U={}){const C=this._parentMarkedDirty(U.onlySelf);this.status=wn,this._forEachChild(P=>{P.enable({...U,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors({...U,skipPristineCheck:C}),this._onDisabledChange.forEach(P=>P(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}getRawValue(){return this.value}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wn||this.status===Xn)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gr:wn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=Xn,this._hasOwnPendingAsyncValidator=!0;const C=ne(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(P=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(P,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,C={}){this.errors=U,this._updateControlsErrors(!1!==C.emitEvent)}get(U){let C=U;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((P,me)=>P&&P._find(me),this)}getError(U,C){const P=C?this.get(C):this;return P&&P.errors?P.errors[U]:null}hasError(U,C){return!!this.getError(U,C)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?gr:this.errors?pr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xn)?Xn:this._anyControlsHaveStatus(pr)?pr:wn}_anyControlsHaveStatus(U){return this._anyControls(C=>C.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){K(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(U){return null}_assignValidators(U){this._rawValidators=Array.isArray(U)?U.slice():U,this._composedValidatorFn=function he(Y){return Array.isArray(Y)?tt(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(U){this._rawAsyncValidators=Array.isArray(U)?U.slice():U,this._composedAsyncValidatorFn=function H(Y){return Array.isArray(Y)?Jt(Y):Y||null}(this._rawAsyncValidators)}}class pt extends Be{constructor(U,C,P){super(et(C),W(P,C)),this.controls=U,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,C){return this.controls[U]?this.controls[U]:(this.controls[U]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(U,C,P={}){this.registerControl(U,C),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}removeControl(U,C={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(U,C,P={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],C&&this.registerControl(U,C),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,C={}){(function at(Y,U,C){Y._forEachChild((P,me)=>{if(void 0===C[me])throw new y.vHH(1002,"")})})(this,0,U),Object.keys(U).forEach(P=>{(function Fe(Y,U,C){const P=Y.controls;if(!(U?Object.keys(P):P).length)throw new y.vHH(1e3,"");if(!P[C])throw new y.vHH(1001,"")})(this,!0,P),this.controls[P].setValue(U[P],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(U,C={}){null!=U&&(Object.keys(U).forEach(P=>{const me=this.controls[P];me&&me.patchValue(U[P],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(U={},C={}){this._forEachChild((P,me)=>{P.reset(U[me],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(U,C,P)=>(U[P]=C.getRawValue(),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(C,P)=>!!P._syncPendingControls()||C);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(C=>{const P=this.controls[C];P&&U(P,C)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const[C,P]of Object.entries(this.controls))if(this.contains(C)&&U(P))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,P,me)=>((P.enabled||this.disabled)&&(C[me]=P.value),C))}_reduceChildren(U,C){let P=U;return this._forEachChild((me,st)=>{P=C(P,me,st)}),P}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(U){return this.controls.hasOwnProperty(U)?this.controls[U]:null}}const dn=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Gn}),Gn="always";function Dt(Y,U,C=Gn){var P,me;Nn(Y,U),U.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===C)&&(null===(P=(me=U.valueAccessor).setDisabledState)||void 0===P||P.call(me,Y.disabled)),function nr(Y,U){U.valueAccessor.registerOnChange(C=>{Y._pendingValue=C,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Ar(Y,U)})}(Y,U),function dr(Y,U){const C=(P,me)=>{U.valueAccessor.writeValue(P),me&&U.viewToModelUpdate(P)};Y.registerOnChange(C),U._registerOnDestroy(()=>{Y._unregisterOnChange(C)})}(Y,U),function Zr(Y,U){U.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Ar(Y,U),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,U),function vn(Y,U){if(U.valueAccessor.setDisabledState){const C=P=>{U.valueAccessor.setDisabledState(P)};Y.registerOnDisabledChange(C),U._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(C)})}}(Y,U)}function Wt(Y,U){Y.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(U)})}function Nn(Y,U){const C=function Mn(Y){return Y._rawValidators}(Y);null!==U.validator?Y.setValidators(cn(C,U.validator)):"function"==typeof C&&Y.setValidators([C]);const P=function _n(Y){return Y._rawAsyncValidators}(Y);null!==U.asyncValidator?Y.setAsyncValidators(cn(P,U.asyncValidator)):"function"==typeof P&&Y.setAsyncValidators([P]);const me=()=>Y.updateValueAndValidity();Wt(U._rawValidators,me),Wt(U._rawAsyncValidators,me)}function Ar(Y,U){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}const G={provide:yr,useExisting:(0,y.Gpc)(()=>_e)},X=(()=>Promise.resolve())();let _e=(()=>{class Y extends yr{constructor(C,P,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new pt({},tt(C),Jt(P))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(C){X.then(()=>{const P=this._findContainer(C.path);C.control=P.registerControl(C.name,C.control),Dt(C.control,C,this.callSetDisabledState),C.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(C)})}getControl(C){return this.form.get(C.path)}removeControl(C){X.then(()=>{const P=this._findContainer(C.path);P&&P.removeControl(C.name),this._directives.delete(C)})}addFormGroup(C){X.then(()=>{const P=this._findContainer(C.path),me=new pt({});(function Qn(Y,U){Nn(Y,U)})(me,C),P.registerControl(C.name,me),me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(C){X.then(()=>{const P=this._findContainer(C.path);P&&P.removeControl(C.name)})}getFormGroup(C){return this.form.get(C.path)}updateModel(C,P){X.then(()=>{this.form.get(C.path).setValue(P)})}setValue(C){this.control.setValue(C)}onSubmit(C){var P;return this.submitted=!0,function ss(Y,U){Y._syncPendingControls(),U.forEach(C=>{const P=C.control;"submit"===P.updateOn&&P._pendingChange&&(C.viewToModelUpdate(P._pendingValue),P._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(C),"dialog"===(null==C||null===(P=C.target)||void 0===P?void 0:P.method)}onReset(){this.resetForm()}resetForm(C=void 0){this.form.reset(C),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(C){return C.pop(),C.length?this.form.get(C):this.form}}return Y.\u0275fac=function(C){return new(C||Y)(y.Y36(_t,10),y.Y36(Ye,10),y.Y36(dn,8))},Y.\u0275dir=y.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(C,P){1&C&&y.NdJ("submit",function(st){return P.onSubmit(st)})("reset",function(){return P.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([G]),y.qOj]}),Y})();function ae(Y,U){const C=Y.indexOf(U);C>-1&&Y.splice(C,1)}function z(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const ie=class extends Be{constructor(U=null,C,P){super(et(C),W(P,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=z(U)?U.value:U)}setValue(U,C={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(P=>P(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(U,C={}){this.setValue(U,C)}reset(U=this.defaultValue,C={}){this._applyFormState(U),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){ae(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){ae(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){z(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}},Ti={provide:Yt,useExisting:(0,y.Gpc)(()=>Hr)},Pi=(()=>Promise.resolve())();let Hr=(()=>{class Y extends Yt{constructor(C,P,me,st,$t,Zt){super(),this._changeDetectorRef=$t,this.callSetDisabledState=Zt,this.control=new ie,this._registered=!1,this.name="",this.update=new y.vpe,this._parent=C,this._setValidators(P),this._setAsyncValidators(me),this.valueAccessor=function Yi(Y,U){if(!U)return null;let C,P,me;return Array.isArray(U),U.forEach(st=>{st.constructor===Ge?C=st:function si(Y){return Object.getPrototypeOf(Y.constructor)===Ue}(st)?P=st:me=st}),me||P||C||null}(0,st)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const P=C.name.previousValue;this.formDirective.removeControl({name:P,path:this._getPath(P)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),function xi(Y,U){if(!Y.hasOwnProperty("model"))return!1;const C=Y.model;return!!C.isFirstChange()||!Object.is(U,C.currentValue)}(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){Pi.then(()=>{var P;this.control.setValue(C,{emitViewToModelChange:!1}),null===(P=this._changeDetectorRef)||void 0===P||P.markForCheck()})}_updateDisabled(C){const P=C.isDisabled.currentValue,me=0!==P&&(0,y.D6c)(P);Pi.then(()=>{var st;me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),null===(st=this._changeDetectorRef)||void 0===st||st.markForCheck()})}_getPath(C){return this._parent?function Un(Y,U){return[...U.path,Y]}(C,this._parent):[C]}}return Y.\u0275fac=function(C){return new(C||Y)(y.Y36(yr,9),y.Y36(_t,10),y.Y36(Ye,10),y.Y36(Ze,10),y.Y36(y.sBO,8),y.Y36(dn,8))},Y.\u0275dir=y.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Ti]),y.qOj,y.TTD]}),Y})(),bn=(()=>{class Y{}return Y.\u0275fac=function(C){return new(C||Y)},Y.\u0275dir=y.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})(),hi=(()=>{class Y{}return Y.\u0275fac=function(C){return new(C||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({}),Y})();const on=new y.OlP("NgModelWithFormControlWarning");let zi=(()=>{class Y{constructor(){this._validator=ke}ngOnChanges(C){if(this.inputName in C){const P=this.normalizeInput(C[this.inputName].currentValue);this._enabled=this.enabled(P),this._validator=this._enabled?this.createValidator(P):ke,this._onChange&&this._onChange()}}validate(C){return this._validator(C)}registerOnValidatorChange(C){this._onChange=C}enabled(C){return null!=C}}return Y.\u0275fac=function(C){return new(C||Y)},Y.\u0275dir=y.lG2({type:Y,features:[y.TTD]}),Y})();const _s={provide:_t,useExisting:(0,y.Gpc)(()=>cs),multi:!0};let cs=(()=>{class Y extends zi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.D6c,this.createValidator=C=>vt}enabled(C){return C}}return Y.\u0275fac=function(){let U;return function(P){return(U||(U=y.n5z(Y)))(P||Y)}}(),Y.\u0275dir=y.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(C,P){2&C&&y.uIk("required",P._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([_s]),y.qOj]}),Y})();const Qs={provide:_t,useExisting:(0,y.Gpc)(()=>Ai),multi:!0};let Ai=(()=>{class Y extends zi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=C=>function qo(Y){return"number"==typeof Y?Y:parseInt(Y,10)}(C),this.createValidator=C=>function He(Y){return U=>it(U.value)||!function gt(Y){return null!=Y&&"number"==typeof Y.length}(U.value)?null:U.value.length<Y?{minlength:{requiredLength:Y,actualLength:U.value.length}}:null}(C)}}return Y.\u0275fac=function(){let U;return function(P){return(U||(U=y.n5z(Y)))(P||Y)}}(),Y.\u0275dir=y.lG2({type:Y,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(C,P){2&C&&y.uIk("minlength",P._enabled?P.minlength:null)},inputs:{minlength:"minlength"},features:[y._Bn([Qs]),y.qOj]}),Y})(),qt=(()=>{class Y{}return Y.\u0275fac=function(C){return new(C||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({imports:[hi]}),Y})(),Xs=(()=>{class Y{static withConfig(C){var P;return{ngModule:Y,providers:[{provide:dn,useValue:null!==(P=C.callSetDisabledState)&&void 0!==P?P:Gn}]}}}return Y.\u0275fac=function(C){return new(C||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({imports:[qt]}),Y})(),lo=(()=>{class Y{static withConfig(C){var P,me;return{ngModule:Y,providers:[{provide:on,useValue:null!==(P=C.warnOnNgModelWithFormControl)&&void 0!==P?P:"always"},{provide:dn,useValue:null!==(me=C.callSetDisabledState)&&void 0!==me?me:Gn}]}}}return Y.\u0275fac=function(C){return new(C||Y)},Y.\u0275mod=y.oAB({type:Y}),Y.\u0275inj=y.cJS({imports:[qt]}),Y})()},6550:(un,dt,L)=>{"use strict";L.d(dt,{Dx:()=>Yt,b2:()=>In,q6:()=>cn,se:()=>Oe});var y=L(2223),g=L(4755);class se extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends se{static makeCurrent(){(0,g.HT)(new ge)}onAndCancel(W,H,K){return W.addEventListener(H,K),()=>{W.removeEventListener(H,K)}}dispatchEvent(W,H){W.dispatchEvent(H)}remove(W){W.parentNode&&W.parentNode.removeChild(W)}createElement(W,H){return(H=H||this.getDefaultDocument()).createElement(W)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(W){return W.nodeType===Node.ELEMENT_NODE}isShadowRoot(W){return W instanceof DocumentFragment}getGlobalEventTarget(W,H){return"window"===H?window:"document"===H?W:"body"===H?W.body:null}getBaseHref(W){const H=function Ee(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==H?null:function Ce(he){de=de||document.createElement("a"),de.setAttribute("href",he);const W=de.pathname;return"/"===W.charAt(0)?W:`/${W}`}(H)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(W){return(0,g.Mx)(document.cookie,W)}}let de,xe=null,Te=(()=>{class he{build(){return new XMLHttpRequest}}return he.\u0275fac=function(H){return new(H||he)},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const be=new y.OlP("EventManagerPlugins");let ze=(()=>{class he{constructor(H,K){this._zone=K,this._eventNameToPlugin=new Map,H.forEach(Fe=>{Fe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,K,Fe){return this._findPluginFor(K).addEventListener(H,K,Fe)}getZone(){return this._zone}_findPluginFor(H){const K=this._eventNameToPlugin.get(H);if(K)return K;const Fe=this._plugins;for(let at=0;at<Fe.length;at++){const Be=Fe[at];if(Be.supports(H))return this._eventNameToPlugin.set(H,Be),Be}throw new Error(`No event manager plugin found for event ${H}`)}}return he.\u0275fac=function(H){return new(H||he)(y.LFG(be),y.LFG(y.R0b))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();class ve{constructor(W){this._doc=W}}const Ue="ng-app-id";let Ze=(()=>{class he{constructor(H,K,Fe,at={}){this.doc=H,this.appId=K,this.nonce=Fe,this.platformId=at,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.PM)(at),this.resetHostNodes()}addStyles(H){for(const K of H)1===this.changeUsageCount(K,1)&&this.onStyleAdded(K)}removeStyles(H){for(const K of H)this.changeUsageCount(K,-1)<=0&&this.onStyleRemoved(K)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(K=>K.remove()),H.clear());for(const K of this.getAllStyles())this.onStyleRemoved(K);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const K of this.getAllStyles())this.addStyleToHost(H,K)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const K of this.hostNodes)this.addStyleToHost(K,H)}onStyleRemoved(H){var K,Fe;const at=this.styleRef;null===(K=at.get(H))||void 0===K||null===(Fe=K.elements)||void 0===Fe||Fe.forEach(Be=>Be.remove()),at.delete(H)}collectServerRenderedStyles(){var H;const K=null===(H=this.doc.head)||void 0===H?void 0:H.querySelectorAll(`style[${Ue}="${this.appId}"]`);if(null!=K&&K.length){const Fe=new Map;return K.forEach(at=>{null!=at.textContent&&Fe.set(at.textContent,at)}),Fe}return null}changeUsageCount(H,K){const Fe=this.styleRef;if(Fe.has(H)){const at=Fe.get(H);return at.usage+=K,at.usage}return Fe.set(H,{usage:K,elements:[]}),K}getStyleElement(H,K){const Fe=this.styleNodesInDOM,at=null==Fe?void 0:Fe.get(K);if((null==at?void 0:at.parentNode)===H)return Fe.delete(K),at.removeAttribute(Ue),at;{const Be=this.doc.createElement("style");return this.nonce&&Be.setAttribute("nonce",this.nonce),Be.textContent=K,this.platformIsServer&&Be.setAttribute(Ue,this.appId),Be}}addStyleToHost(H,K){var Fe;const at=this.getStyleElement(H,K);H.appendChild(at);const Be=this.styleRef,pt=null===(Fe=Be.get(K))||void 0===Fe?void 0:Fe.elements;pt?pt.push(at):Be.set(K,{elements:[at],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return he.\u0275fac=function(H){return new(H||he)(y.LFG(g.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g,it=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ye(he,W){return W.map(H=>H.replace(Me,he))}let Oe=(()=>{class he{constructor(H,K,Fe,at,Be,pt,Ct,Kt=null){this.eventManager=H,this.sharedStylesHost=K,this.appId=Fe,this.removeStylesOnCompDestory=at,this.doc=Be,this.platformId=pt,this.ngZone=Ct,this.nonce=Kt,this.rendererByCompId=new Map,this.platformIsServer=(0,g.PM)(pt),this.defaultRenderer=new St(H,Be,Ct,this.platformIsServer)}createRenderer(H,K){if(!H||!K)return this.defaultRenderer;this.platformIsServer&&K.encapsulation===y.ifc.ShadowDom&&(K={...K,encapsulation:y.ifc.Emulated});const Fe=this.getOrCreateRenderer(H,K);return Fe instanceof He?Fe.applyToHost(H):Fe instanceof De&&Fe.applyStyles(),Fe}getOrCreateRenderer(H,K){const Fe=this.rendererByCompId;let at=Fe.get(K.id);if(!at){const Be=this.doc,pt=this.ngZone,Ct=this.eventManager,Kt=this.sharedStylesHost,Ht=this.removeStylesOnCompDestory,sn=this.platformIsServer;switch(K.encapsulation){case y.ifc.Emulated:at=new He(Ct,Kt,K,this.appId,Ht,Be,pt,sn);break;case y.ifc.ShadowDom:return new ce(Ct,Kt,H,K,Be,pt,this.nonce,sn);default:at=new De(Ct,Kt,K,Ht,Be,pt,sn)}at.onDestroy=()=>Fe.delete(K.id),Fe.set(K.id,at)}return at}ngOnDestroy(){this.rendererByCompId.clear()}}return he.\u0275fac=function(H){return new(H||he)(y.LFG(ze),y.LFG(Ze),y.LFG(y.AFp),y.LFG(it),y.LFG(g.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();class St{constructor(W,H,K,Fe){this.eventManager=W,this.doc=H,this.ngZone=K,this.platformIsServer=Fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(W,H){return H?this.doc.createElementNS(It[H]||H,W):this.doc.createElement(W)}createComment(W){return this.doc.createComment(W)}createText(W){return this.doc.createTextNode(W)}appendChild(W,H){(vt(W)?W.content:W).appendChild(H)}insertBefore(W,H,K){W&&(vt(W)?W.content:W).insertBefore(H,K)}removeChild(W,H){W&&W.removeChild(H)}selectRootElement(W,H){let K="string"==typeof W?this.doc.querySelector(W):W;if(!K)throw new Error(`The selector "${W}" did not match any elements`);return H||(K.textContent=""),K}parentNode(W){return W.parentNode}nextSibling(W){return W.nextSibling}setAttribute(W,H,K,Fe){if(Fe){H=Fe+":"+H;const at=It[Fe];at?W.setAttributeNS(at,H,K):W.setAttribute(H,K)}else W.setAttribute(H,K)}removeAttribute(W,H,K){if(K){const Fe=It[K];Fe?W.removeAttributeNS(Fe,H):W.removeAttribute(`${K}:${H}`)}else W.removeAttribute(H)}addClass(W,H){W.classList.add(H)}removeClass(W,H){W.classList.remove(H)}setStyle(W,H,K,Fe){Fe&(y.JOm.DashCase|y.JOm.Important)?W.style.setProperty(H,K,Fe&y.JOm.Important?"important":""):W.style[H]=K}removeStyle(W,H,K){K&y.JOm.DashCase?W.style.removeProperty(H):W.style[H]=""}setProperty(W,H,K){W[H]=K}setValue(W,H){W.nodeValue=H}listen(W,H,K){if("string"==typeof W&&!(W=(0,g.q)().getGlobalEventTarget(this.doc,W)))throw new Error(`Unsupported event target ${W} for event ${H}`);return this.eventManager.addEventListener(W,H,this.decoratePreventDefault(K))}decoratePreventDefault(W){return H=>{if("__ngUnwrap__"===H)return W;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>W(H)):W(H))&&(H.preventDefault(),H.returnValue=!1)}}}function vt(he){return"TEMPLATE"===he.tagName&&void 0!==he.content}class ce extends St{constructor(W,H,K,Fe,at,Be,pt,Ct){super(W,at,Be,Ct),this.sharedStylesHost=H,this.hostEl=K,this.shadowRoot=K.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=Ye(Fe.id,Fe.styles);for(const Ht of Kt){const sn=document.createElement("style");pt&&sn.setAttribute("nonce",pt),sn.textContent=Ht,this.shadowRoot.appendChild(sn)}}nodeOrShadowRoot(W){return W===this.hostEl?this.shadowRoot:W}appendChild(W,H){return super.appendChild(this.nodeOrShadowRoot(W),H)}insertBefore(W,H,K){return super.insertBefore(this.nodeOrShadowRoot(W),H,K)}removeChild(W,H){return super.removeChild(this.nodeOrShadowRoot(W),H)}parentNode(W){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(W)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class De extends St{constructor(W,H,K,Fe,at,Be,pt,Ct){super(W,at,Be,pt),this.sharedStylesHost=H,this.removeStylesOnCompDestory=Fe,this.rendererUsageCount=0,this.styles=Ct?Ye(Ct,K.styles):K.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var W;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(W=this.onDestroy)||void 0===W||W.call(this))}}class He extends De{constructor(W,H,K,Fe,at,Be,pt,Ct){const Kt=Fe+"-"+K.id;super(W,H,K,at,Be,pt,Ct,Kt),this.contentAttr=function gt(he){return"_ngcontent-%COMP%".replace(Me,he)}(Kt),this.hostAttr=function _t(he){return"_nghost-%COMP%".replace(Me,he)}(Kt)}applyToHost(W){this.applyStyles(),this.setAttribute(W,this.hostAttr,"")}createElement(W,H){const K=super.createElement(W,H);return super.setAttribute(K,this.contentAttr,""),K}}let We=(()=>{class he extends ve{constructor(H){super(H)}supports(H){return!0}addEventListener(H,K,Fe){return H.addEventListener(K,Fe,!1),()=>this.removeEventListener(H,K,Fe)}removeEventListener(H,K,Fe){return H.removeEventListener(K,Fe)}}return he.\u0275fac=function(H){return new(H||he)(y.LFG(g.K0))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const Ne=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={alt:he=>he.altKey,control:he=>he.ctrlKey,meta:he=>he.metaKey,shift:he=>he.shiftKey};let ne=(()=>{class he extends ve{constructor(H){super(H)}supports(H){return null!=he.parseEventName(H)}addEventListener(H,K,Fe){const at=he.parseEventName(K),Be=he.eventCallback(at.fullKey,Fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(H,at.domEventName,Be))}static parseEventName(H){const K=H.toLowerCase().split("."),Fe=K.shift();if(0===K.length||"keydown"!==Fe&&"keyup"!==Fe)return null;const at=he._normalizeKey(K.pop());let Be="",pt=K.indexOf("code");if(pt>-1&&(K.splice(pt,1),Be="code."),Ne.forEach(Kt=>{const Ht=K.indexOf(Kt);Ht>-1&&(K.splice(Ht,1),Be+=Kt+".")}),Be+=at,0!=K.length||0===at.length)return null;const Ct={};return Ct.domEventName=Fe,Ct.fullKey=Be,Ct}static matchEventFullKeyCode(H,K){let Fe=ke[H.key]||H.key,at="";return K.indexOf("code.")>-1&&(Fe=H.code,at="code."),!(null==Fe||!Fe)&&(Fe=Fe.toLowerCase()," "===Fe?Fe="space":"."===Fe&&(Fe="dot"),Ne.forEach(Be=>{Be!==Fe&&(0,je[Be])(H)&&(at+=Be+".")}),at+=Fe,at===K)}static eventCallback(H,K,Fe){return at=>{he.matchEventFullKeyCode(at,H)&&Fe.runGuarded(()=>K(at))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return he.\u0275fac=function(H){return new(H||he)(y.LFG(g.K0))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac}),he})();const cn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:g.bD},{provide:y.g9A,useValue:function At(){ge.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function kt(){return(0,y.RDi)(document),document},deps:[]}]),Mn=new y.OlP(""),_n=[{provide:y.rWj,useClass:class Ve{addToWindow(W){y.dqk.getAngularTestability=(K,Fe=!0)=>{const at=W.findTestabilityInTree(K,Fe);if(null==at)throw new Error("Could not find testability for element.");return at},y.dqk.getAllAngularTestabilities=()=>W.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>W.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(K=>{const Fe=y.dqk.getAllAngularTestabilities();let at=Fe.length,Be=!1;const pt=function(Ct){Be=Be||Ct,at--,0==at&&K(Be)};Fe.forEach(function(Ct){Ct.whenStable(pt)})})}findTestabilityInTree(W,H,K){if(null==H)return null;const Fe=W.getTestability(H);return null!=Fe?Fe:K?(0,g.q)().isShadowRoot(H)?this.findTestabilityInTree(W,H.host,!0):this.findTestabilityInTree(W,H.parentElement,!0):null}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Nt=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function tt(){return new y.qLn},deps:[]},{provide:be,useClass:We,multi:!0,deps:[g.K0,y.R0b,y.Lbi]},{provide:be,useClass:ne,multi:!0,deps:[g.K0]},Oe,Ze,ze,{provide:y.FYo,useExisting:Oe},{provide:g.JF,useClass:Te,deps:[]},[]];let In=(()=>{class he{constructor(H){}static withServerTransition(H){return{ngModule:he,providers:[{provide:y.AFp,useValue:H.appId}]}}}return he.\u0275fac=function(H){return new(H||he)(y.LFG(Mn,12))},he.\u0275mod=y.oAB({type:he}),he.\u0275inj=y.cJS({providers:[...Nt,..._n],imports:[g.ez,y.hGG]}),he})(),Yt=(()=>{class he{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return he.\u0275fac=function(H){return new(H||he)(y.LFG(g.K0))},he.\u0275prov=y.Yz7({token:he,factory:function(H){let K=null;return K=H?new H:function yr(){return new Yt((0,y.LFG)(g.K0))}(),K},providedIn:"root"}),he})();typeof window<"u"&&window},96:(un,dt,L)=>{"use strict";L.d(dt,{gz:()=>mr,jw:()=>Hr,y6:()=>Li,OD:()=>_e,eC:()=>Nt,wm:()=>Pa,wN:()=>Or,F0:()=>Lt,rH:()=>ca,Bz:()=>ef,Hx:()=>fe,fw:()=>us});var y=L(2223),g=L(9751),se=L(576),xe=L(8996),Ee=L(9646),de=L(1135),Ce=L(4742),Ve=L(4671),Te=L(3268),be=L(7669),ze=L(1810),ve=L(5403),Ue=L(9672);function Ze(...M){const N=(0,be.yG)(M),D=(0,be.jO)(M),{args:F,keys:ee}=(0,Ce.D)(M);if(0===F.length)return(0,xe.D)([],N);const Re=new g.y(function It(M,N,D=Ve.y){return F=>{Me(N,()=>{const{length:ee}=M,Re=new Array(ee);let Ie=ee,yt=ee;for(let tn=0;tn<ee;tn++)Me(N,()=>{const Rn=(0,xe.D)(M[tn],N);let Sr=!1;Rn.subscribe((0,ve.x)(F,lr=>{Re[tn]=lr,Sr||(Sr=!0,yt--),yt||F.next(D(Re.slice()))},()=>{--Ie||F.complete()}))},F)},F)}}(F,N,ee?Ie=>(0,ze.n)(ee,Ie):Ve.y));return D?Re.pipe((0,Te.Z)(D)):Re}function Me(M,N,D){M?(0,Ue.f)(D,M,N):N()}var we=L(6805),ft=L(7272),ot=L(8421);function Ge(M){return new g.y(N=>{(0,ot.Xf)(M()).subscribe(N)})}var it=L(9635);function gt(M,N){const D=(0,se.m)(M)?M:()=>M,F=ee=>ee.error(D());return new g.y(N?ee=>N.schedule(F,0,ee):F)}var _t=L(515),Ye=L(727),Oe=L(4482);function St(){return(0,Oe.e)((M,N)=>{let D=null;M._refCount++;const F=(0,ve.x)(N,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(D=null);const ee=M._connection,Re=D;D=null,ee&&(!Re||ee===Re)&&ee.unsubscribe(),N.unsubscribe()});M.subscribe(F),F.closed||(D=M.connect())})}class nt extends g.y{constructor(N,D){super(),this.source=N,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,Oe.A)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,null==N||N.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Ye.w0;const D=this.getSubject();N.add(this.source.subscribe((0,ve.x)(D,void 0,()=>{this._teardown(),D.complete()},F=>{this._teardown(),D.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Ye.w0.EMPTY)}return N}refCount(){return St()(this)}}var mt=L(7579),vt=L(4755),ce=L(4004),De=L(3900),He=L(5698),We=L(8675),Ne=L(9300),ke=L(5577),je=L(590);function ne(M,N){return(0,se.m)(N)?(0,ke.z)(M,N,1):(0,ke.z)(M,1)}var ct=L(8505);function Tt(M){return(0,Oe.e)((N,D)=>{let Re,F=null,ee=!1;F=N.subscribe((0,ve.x)(D,void 0,void 0,Ie=>{Re=(0,ot.Xf)(M(Ie,Tt(M)(N))),F?(F.unsubscribe(),F=null,Re.subscribe(D)):ee=!0})),ee&&(F.unsubscribe(),F=null,Re.subscribe(D))})}var Pt=L(5026),rn=L(6590);function At(M){return M<=0?()=>_t.E:(0,Oe.e)((N,D)=>{let F=[];N.subscribe((0,ve.x)(D,ee=>{F.push(ee),M<F.length&&F.shift()},()=>{for(const ee of F)D.next(ee);D.complete()},void 0,()=>{F=null}))})}var tt=L(8068);function cn(M){return(0,Oe.e)((N,D)=>{try{N.subscribe(D)}finally{D.add(M)}})}var Mn=L(8189),_n=L(6550);const Nt="primary",In=Symbol("RouteTitle");class Ft{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const D=this.params[N];return Array.isArray(D)?D[0]:D}return null}getAll(N){if(this.has(N)){const D=this.params[N];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Kn(M){return new Ft(M)}function hr(M,N,D){const F=D.path.split("/");if(F.length>M.length||"full"===D.pathMatch&&(N.hasChildren()||F.length<M.length))return null;const ee={};for(let Re=0;Re<F.length;Re++){const Ie=F[Re],yt=M[Re];if(Ie.startsWith(":"))ee[Ie.substring(1)]=yt;else if(Ie!==yt.path)return null}return{consumed:M.slice(0,F.length),posParams:ee}}function Yt(M,N){const D=M?Object.keys(M):void 0,F=N?Object.keys(N):void 0;if(!D||!F||D.length!=F.length)return!1;let ee;for(let Re=0;Re<D.length;Re++)if(ee=D[Re],!Pr(M[ee],N[ee]))return!1;return!0}function Pr(M,N){if(Array.isArray(M)&&Array.isArray(N)){if(M.length!==N.length)return!1;const D=[...M].sort(),F=[...N].sort();return D.every((ee,Re)=>F[Re]===ee)}return M===N}function er(M){return M.length>0?M[M.length-1]:null}function zn(M){return function ge(M){return!!M&&(M instanceof g.y||(0,se.m)(M.lift)&&(0,se.m)(M.subscribe))}(M)?M:(0,y.QGY)(M)?(0,xe.D)(Promise.resolve(M)):(0,Ee.of)(M)}const tr={exact:function xn(M,N,D){if(!Vn(M.segments,N.segments)||!Rr(M.segments,N.segments,D)||M.numberOfChildren!==N.numberOfChildren)return!1;for(const F in N.children)if(!M.children[F]||!xn(M.children[F],N.children[F],D))return!1;return!0},subset:ur},Fr={exact:function En(M,N){return Yt(M,N)},subset:function fr(M,N){return Object.keys(N).length<=Object.keys(M).length&&Object.keys(N).every(D=>Pr(M[D],N[D]))},ignored:()=>!0};function Cn(M,N,D){return tr[D.paths](M.root,N.root,D.matrixParams)&&Fr[D.queryParams](M.queryParams,N.queryParams)&&!("exact"===D.fragment&&M.fragment!==N.fragment)}function ur(M,N,D){return cr(M,N,N.segments,D)}function cr(M,N,D,F){if(M.segments.length>D.length){const ee=M.segments.slice(0,D.length);return!(!Vn(ee,D)||N.hasChildren()||!Rr(ee,D,F))}if(M.segments.length===D.length){if(!Vn(M.segments,D)||!Rr(M.segments,D,F))return!1;for(const ee in N.children)if(!M.children[ee]||!ur(M.children[ee],N.children[ee],F))return!1;return!0}{const ee=D.slice(0,M.segments.length),Re=D.slice(M.segments.length);return!!(Vn(M.segments,ee)&&Rr(M.segments,ee,F)&&M.children[Nt])&&cr(M.children[Nt],N,Re,F)}}function Rr(M,N,D){return N.every((F,ee)=>Fr[D](M[ee].parameters,F.parameters))}class Tr{constructor(N=new Wn([],{}),D={},F=null){this.root=N,this.queryParams=D,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return Mt.serialize(this)}}class Wn{constructor(N,D){this.segments=N,this.children=D,this.parent=null,Object.values(D).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ln(this)}}class gn{constructor(N,D){this.path=N,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Kn(this.parameters)),this._parameterMap}toString(){return H(this)}}function Vn(M,N){return M.length===N.length&&M.every((D,F)=>D.path===N[F].path)}let fe=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return new Ke},providedIn:"root"}),M})();class Ke{parse(N){const D=new Gn(N);return new Tr(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(N){const D=`/${wn(N.root,!0)}`,F=function Fe(M){const N=Object.keys(M).map(D=>{const F=M[D];return Array.isArray(F)?F.map(ee=>`${Xn(D)}=${Xn(ee)}`).join("&"):`${Xn(D)}=${Xn(F)}`}).filter(D=>!!D);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${D}${F}${"string"==typeof N.fragment?`#${function gr(M){return encodeURI(M)}(N.fragment)}`:""}`}}const Mt=new Ke;function ln(M){return M.segments.map(N=>H(N)).join("/")}function wn(M,N){if(!M.hasChildren())return ln(M);if(N){const D=M.children[Nt]?wn(M.children[Nt],!1):"",F=[];return Object.entries(M.children).forEach(([ee,Re])=>{ee!==Nt&&F.push(`${ee}:${wn(Re,!1)}`)}),F.length>0?`${D}(${F.join("//")})`:D}{const D=function Ut(M,N){let D=[];return Object.entries(M.children).forEach(([F,ee])=>{F===Nt&&(D=D.concat(N(ee,F)))}),Object.entries(M.children).forEach(([F,ee])=>{F!==Nt&&(D=D.concat(N(ee,F)))}),D}(M,(F,ee)=>ee===Nt?[wn(M.children[Nt],!1)]:[`${ee}:${wn(F,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Nt]?`${ln(M)}/${D[0]}`:`${ln(M)}/(${D.join("//")})`}}function pr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xn(M){return pr(M).replace(/%3B/gi,";")}function et(M){return pr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(M){return decodeURIComponent(M)}function W(M){return he(M.replace(/\+/g,"%20"))}function H(M){return`${et(M.path)}${function K(M){return Object.keys(M).map(N=>`;${et(N)}=${et(M[N])}`).join("")}(M.parameters)}`}const at=/^[^\/()?;#]+/;function Be(M){const N=M.match(at);return N?N[0]:""}const pt=/^[^\/()?;=#]+/,Kt=/^[^=?&#]+/,sn=/^[^&#]+/;class Gn{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(N.length>0||Object.keys(D).length>0)&&(F[Nt]=new Wn(N,D)),F}parseSegment(){const N=Be(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(N),new gn(he(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const D=function Ct(M){const N=M.match(pt);return N?N[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const ee=Be(this.remaining);ee&&(F=ee,this.capture(F))}N[he(D)]=he(F)}parseQueryParam(N){const D=function Ht(M){const N=M.match(Kt);return N?N[0]:""}(this.remaining);if(!D)return;this.capture(D);let F="";if(this.consumeOptional("=")){const Ie=function dn(M){const N=M.match(sn);return N?N[0]:""}(this.remaining);Ie&&(F=Ie,this.capture(F))}const ee=W(D),Re=W(F);if(N.hasOwnProperty(ee)){let Ie=N[ee];Array.isArray(Ie)||(Ie=[Ie],N[ee]=Ie),Ie.push(Re)}else N[ee]=Re}parseParens(N){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Be(this.remaining),ee=this.remaining[F.length];if("/"!==ee&&")"!==ee&&";"!==ee)throw new y.vHH(4010,!1);let Re;F.indexOf(":")>-1?(Re=F.slice(0,F.indexOf(":")),this.capture(Re),this.capture(":")):N&&(Re=Nt);const Ie=this.parseChildren();D[Re]=1===Object.keys(Ie).length?Ie[Nt]:new Wn([],Ie),this.consumeOptional("//")}return D}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new y.vHH(4011,!1)}}function Un(M){return M.segments.length>0?new Wn([],{[Nt]:M}):M}function Dt(M){const N={};for(const F of Object.keys(M.children)){const Re=Dt(M.children[F]);if(F===Nt&&0===Re.segments.length&&Re.hasChildren())for(const[Ie,yt]of Object.entries(Re.children))N[Ie]=yt;else(Re.segments.length>0||Re.hasChildren())&&(N[F]=Re)}return function bt(M){if(1===M.numberOfChildren&&M.children[Nt]){const N=M.children[Nt];return new Wn(M.segments.concat(N.segments),N.children)}return M}(new Wn(M.segments,N))}function Wt(M){return M instanceof Tr}function Nn(M){var N;let D;const Re=Un(function F(Ie){const yt={};for(const Rn of Ie.children){const Sr=F(Rn);yt[Rn.outlet]=Sr}const tn=new Wn(Ie.url,yt);return Ie===M&&(D=tn),tn}(M.root));return null!==(N=D)&&void 0!==N?N:Re}function ir(M,N,D,F){let ee=M;for(;ee.parent;)ee=ee.parent;if(0===N.length)return Ar(ee,ee,ee,D,F);const Re=function vi(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Qn(!0,0,M);let N=0,D=!1;const F=M.reduce((ee,Re,Ie)=>{if("object"==typeof Re&&null!=Re){if(Re.outlets){const yt={};return Object.entries(Re.outlets).forEach(([tn,Rn])=>{yt[tn]="string"==typeof Rn?Rn.split("/"):Rn}),[...ee,{outlets:yt}]}if(Re.segmentPath)return[...ee,Re.segmentPath]}return"string"!=typeof Re?[...ee,Re]:0===Ie?(Re.split("/").forEach((yt,tn)=>{0==tn&&"."===yt||(0==tn&&""===yt?D=!0:".."===yt?N++:""!=yt&&ee.push(yt))}),ee):[...ee,Re]},[]);return new Qn(D,N,F)}(N);if(Re.toRoot())return Ar(ee,ee,new Wn([],{}),D,F);const Ie=function ps(M,N,D){if(M.isAbsolute)return new _i(N,!0,0);if(!D)return new _i(N,!1,NaN);if(null===D.parent)return new _i(D,!0,0);const F=nr(M.commands[0])?0:1;return function Ci(M,N,D){let F=M,ee=N,Re=D;for(;Re>ee;){if(Re-=ee,F=F.parent,!F)throw new y.vHH(4005,!1);ee=F.segments.length}return new _i(F,!1,ee-Re)}(D,D.segments.length-1+F,M.numberOfDoubleDots)}(Re,ee,M),yt=Ie.processChildren?xi(Ie.segmentGroup,Ie.index,Re.commands):Os(Ie.segmentGroup,Ie.index,Re.commands);return Ar(ee,Ie.segmentGroup,yt,D,F)}function nr(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Zr(M){return"object"==typeof M&&null!=M&&M.outlets}function Ar(M,N,D,F,ee){let Ie,Re={};F&&Object.entries(F).forEach(([tn,Rn])=>{Re[tn]=Array.isArray(Rn)?Rn.map(Sr=>`${Sr}`):`${Rn}`}),Ie=M===N?D:dr(M,N,D);const yt=Un(Dt(Ie));return new Tr(yt,Re,ee)}function dr(M,N,D){const F={};return Object.entries(M.children).forEach(([ee,Re])=>{F[ee]=Re===N?D:dr(Re,N,D)}),new Wn(M.segments,F)}class Qn{constructor(N,D,F){if(this.isAbsolute=N,this.numberOfDoubleDots=D,this.commands=F,N&&F.length>0&&nr(F[0]))throw new y.vHH(4003,!1);const ee=F.find(Zr);if(ee&&ee!==er(F))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _i{constructor(N,D,F){this.segmentGroup=N,this.processChildren=D,this.index=F}}function Os(M,N,D){if(M||(M=new Wn([],{})),0===M.segments.length&&M.hasChildren())return xi(M,N,D);const F=function si(M,N,D){let F=0,ee=N;const Re={match:!1,pathIndex:0,commandIndex:0};for(;ee<M.segments.length;){if(F>=D.length)return Re;const Ie=M.segments[ee],yt=D[F];if(Zr(yt))break;const tn=`${yt}`,Rn=F<D.length-1?D[F+1]:null;if(ee>0&&void 0===tn)break;if(tn&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!Ms(tn,Rn,Ie))return Re;F+=2}else{if(!Ms(tn,{},Ie))return Re;F++}ee++}return{match:!0,pathIndex:ee,commandIndex:F}}(M,N,D),ee=D.slice(F.commandIndex);if(F.match&&F.pathIndex<M.segments.length){const Re=new Wn(M.segments.slice(0,F.pathIndex),{});return Re.children[Nt]=new Wn(M.segments.slice(F.pathIndex),M.children),xi(Re,0,ee)}return F.match&&0===ee.length?new Wn(M.segments,{}):F.match&&!M.hasChildren()?ss(M,N,D):F.match?xi(M,0,ee):ss(M,N,D)}function xi(M,N,D){if(0===D.length)return new Wn(M.segments,{});{const F=function es(M){return Zr(M[0])?M[0].outlets:{[Nt]:M}}(D),ee={};if(!F[Nt]&&M.children[Nt]&&1===M.numberOfChildren&&0===M.children[Nt].segments.length){const Re=xi(M.children[Nt],N,D);return new Wn(M.segments,Re.children)}return Object.entries(F).forEach(([Re,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(ee[Re]=Os(M.children[Re],N,Ie))}),Object.entries(M.children).forEach(([Re,Ie])=>{void 0===F[Re]&&(ee[Re]=Ie)}),new Wn(M.segments,ee)}}function ss(M,N,D){const F=M.segments.slice(0,N);let ee=0;for(;ee<D.length;){const Re=D[ee];if(Zr(Re)){const tn=Yi(Re.outlets);return new Wn(F,tn)}if(0===ee&&nr(D[0])){F.push(new gn(M.segments[N].path,os(D[0]))),ee++;continue}const Ie=Zr(Re)?Re.outlets[Nt]:`${Re}`,yt=ee<D.length-1?D[ee+1]:null;Ie&&yt&&nr(yt)?(F.push(new gn(Ie,os(yt))),ee+=2):(F.push(new gn(Ie,{})),ee++)}return new Wn(F,{})}function Yi(M){const N={};return Object.entries(M).forEach(([D,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(N[D]=ss(new Wn([],{}),0,F))}),N}function os(M){const N={};return Object.entries(M).forEach(([D,F])=>N[D]=`${F}`),N}function Ms(M,N,D){return M==D.path&&Yt(N,D.parameters)}const G="imperative";class X{constructor(N,D){this.id=N,this.url=D}}class _e extends X{constructor(N,D,F="imperative",ee=null){super(N,D),this.type=0,this.navigationTrigger=F,this.restoredState=ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ae extends X{constructor(N,D,F){super(N,D),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class z extends X{constructor(N,D,F,ee){super(N,D),this.reason=F,this.code=ee,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ie extends X{constructor(N,D,F,ee){super(N,D),this.reason=F,this.code=ee,this.type=16}}class $e extends X{constructor(N,D,F,ee){super(N,D),this.error=F,this.target=ee,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qe extends X{constructor(N,D,F,ee){super(N,D),this.urlAfterRedirects=F,this.state=ee,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ht extends X{constructor(N,D,F,ee){super(N,D),this.urlAfterRedirects=F,this.state=ee,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends X{constructor(N,D,F,ee,Re){super(N,D),this.urlAfterRedirects=F,this.state=ee,this.shouldActivate=Re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class an extends X{constructor(N,D,F,ee){super(N,D),this.urlAfterRedirects=F,this.state=ee,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends X{constructor(N,D,F,ee){super(N,D),this.urlAfterRedirects=F,this.state=ee,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ei{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(N,D,F){this.routerEvent=N,this.position=D,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Li,this.attachRef=null}}let Li=(()=>{class M{constructor(){this.contexts=new Map}onChildOutletCreated(D,F){const ee=this.getOrCreateContext(D);ee.outlet=F,this.contexts.set(D,ee)}onChildOutletDestroyed(D){const F=this.getContext(D);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let F=this.getContext(D);return F||(F=new Wr,this.contexts.set(D,F)),F}getContext(D){return this.contexts.get(D)||null}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class $s{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const D=this.pathFromRoot(N);return D.length>1?D[D.length-2]:null}children(N){const D=hi(N,this._root);return D?D.children.map(F=>F.value):[]}firstChild(N){const D=hi(N,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(N){const D=Zi(N,this._root);return D.length<2?[]:D[D.length-2].children.map(ee=>ee.value).filter(ee=>ee!==N)}pathFromRoot(N){return Zi(N,this._root).map(D=>D.value)}}function hi(M,N){if(M===N.value)return N;for(const D of N.children){const F=hi(M,D);if(F)return F}return null}function Zi(M,N){if(M===N.value)return[N];for(const D of N.children){const F=Zi(M,D);if(F.length)return F.unshift(N),F}return[]}class Ur{constructor(N,D){this.value=N,this.children=D}toString(){return`TreeNode(${this.value})`}}function Qi(M){const N={};return M&&M.children.forEach(D=>N[D.value.outlet]=D),N}class as extends $s{constructor(N,D){super(N),this.snapshot=D,ts(this,N)}toString(){return this.snapshot.toString()}}function on(M,N){const D=function Nr(M,N){const Ie=new ls([],{},{},"",{},Nt,N,null,{});return new Vs("",new Ur(Ie,[]))}(0,N),F=new de.X([new gn("",{})]),ee=new de.X({}),Re=new de.X({}),Ie=new de.X({}),yt=new de.X(""),tn=new mr(F,ee,Ie,yt,Re,Nt,N,D.root);return tn.snapshot=D.root,new as(new Ur(tn,[]),D)}class mr{constructor(N,D,F,ee,Re,Ie,yt,tn){var Rn,Sr;this.urlSubject=N,this.paramsSubject=D,this.queryParamsSubject=F,this.fragmentSubject=ee,this.dataSubject=Re,this.outlet=Ie,this.component=yt,this._futureSnapshot=tn,this.title=null!==(Rn=null===(Sr=this.dataSubject)||void 0===Sr?void 0:Sr.pipe((0,ce.U)(lr=>lr[In])))&&void 0!==Rn?Rn:(0,Ee.of)(void 0),this.url=N,this.params=D,this.queryParams=F,this.fragment=ee,this.data=Re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ce.U)(N=>Kn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ce.U)(N=>Kn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wi(M,N="emptyOnly"){const D=M.pathFromRoot;let F=0;if("always"!==N)for(F=D.length-1;F>=1;){const ee=D[F],Re=D[F-1];if(ee.routeConfig&&""===ee.routeConfig.path)F--;else{if(Re.component)break;F--}}return function vr(M){return M.reduce((N,D)=>{var F;return{params:{...N.params,...D.params},data:{...N.data,...D.data},resolve:{...D.data,...N.resolve,...null===(F=D.routeConfig)||void 0===F?void 0:F.data,...D._resolvedData}}},{params:{},data:{},resolve:{}})}(D.slice(F))}class ls{get title(){var N;return null===(N=this.data)||void 0===N?void 0:N[In]}constructor(N,D,F,ee,Re,Ie,yt,tn,Rn){this.url=N,this.params=D,this.queryParams=F,this.fragment=ee,this.data=Re,this.outlet=Ie,this.component=yt,this.routeConfig=tn,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vs extends $s{constructor(N,D){super(D),this.url=N,ts(this,D)}toString(){return Us(this._root)}}function ts(M,N){N.value._routerState=M,N.children.forEach(D=>ts(M,D))}function Us(M){const N=M.children.length>0?` { ${M.children.map(Us).join(", ")} } `:"";return`${M.value}${N}`}function ti(M){if(M.snapshot){const N=M.snapshot,D=M._futureSnapshot;M.snapshot=D,Yt(N.queryParams,D.queryParams)||M.queryParamsSubject.next(D.queryParams),N.fragment!==D.fragment&&M.fragmentSubject.next(D.fragment),Yt(N.params,D.params)||M.paramsSubject.next(D.params),function yr(M,N){if(M.length!==N.length)return!1;for(let D=0;D<M.length;++D)if(!Yt(M[D],N[D]))return!1;return!0}(N.url,D.url)||M.urlSubject.next(D.url),Yt(N.data,D.data)||M.dataSubject.next(D.data)}else M.snapshot=M._futureSnapshot,M.dataSubject.next(M._futureSnapshot.data)}function or(M,N){const D=Yt(M.params,N.params)&&function ei(M,N){return Vn(M,N)&&M.every((D,F)=>Yt(D.parameters,N[F].parameters))}(M.url,N.url);return D&&!(!M.parent!=!N.parent)&&(!M.parent||or(M.parent,N.parent))}let ni=(()=>{class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Li),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(Oi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:F,previousValue:ee}=D.name;if(F)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var F;return(null===(F=this.parentContexts.getContext(D))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,F){var ee;this.activated=D,this._activatedRoute=F,this.location.insert(D.hostView),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,F){var ee;if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=D;const Re=this.location,yt=D.snapshot.component,tn=this.parentContexts.getOrCreateContext(this.name).children,Rn=new vo(D,tn,Re.injector);this.activated=Re.createComponent(yt,{index:Re.length,injector:Rn,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275dir=y.lG2({type:M,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),M})();class vo{constructor(N,D,F){this.route=N,this.childContexts=D,this.parent=F}get(N,D){return N===mr?this.route:N===Li?this.childContexts:this.parent.get(N,D)}}const Oi=new y.OlP("");let _r=(()=>{class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var F;null===(F=this.outletDataSubscriptions.get(D))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:F}=D,ee=Ze([F.queryParams,F.params,F.data]).pipe((0,De.w)(([Re,Ie,yt],tn)=>(yt={...Re,...Ie,...yt},0===tn?(0,Ee.of)(yt):Promise.resolve(yt)))).subscribe(Re=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(D);const Ie=(0,y.qFp)(F.component);if(Ie)for(const{templateName:yt}of Ie.inputs)D.activatedComponentRef.setInput(yt,Re[yt]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,ee)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();function js(M,N,D){if(D&&M.shouldReuseRoute(N.value,D.value.snapshot)){const F=D.value;F._futureSnapshot=N.value;const ee=function la(M,N,D){return N.children.map(F=>{for(const ee of D.children)if(M.shouldReuseRoute(F.value,ee.value.snapshot))return js(M,F,ee);return js(M,F)})}(M,N,D);return new Ur(F,ee)}{if(M.shouldAttach(N.value)){const Re=M.retrieve(N.value);if(null!==Re){const Ie=Re.route;return Ie.value._futureSnapshot=N.value,Ie.children=N.children.map(yt=>js(M,yt)),Ie}}const F=function Ds(M){return new mr(new de.X(M.url),new de.X(M.params),new de.X(M.queryParams),new de.X(M.fragment),new de.X(M.data),M.outlet,M.component,M)}(N.value),ee=N.children.map(Re=>js(M,Re));return new Ur(F,ee)}}const Xi="ngNavigationCancelingError";function Rs(M,N){const{redirectTo:D,navigationBehaviorOptions:F}=Wt(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,ee=gs(!1,0,N);return ee.url=D,ee.navigationBehaviorOptions=F,ee}function gs(M,N,D){const F=new Error("NavigationCancelingError: "+(M||""));return F[Xi]=!0,F.cancellationCode=N,D&&(F.url=D),F}function Ui(M){return qo(M)&&Wt(M.url)}function qo(M){return M&&M[Xi]}let us=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275cmp=y.Xpm({type:M,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(D,F){1&D&&y._UZ(0,"router-outlet")},dependencies:[ni],encapsulation:2}),M})();function ao(M){const N=M.children&&M.children.map(ao),D=N?{...M,children:N}:{...M};return!D.component&&!D.loadComponent&&(N||D.loadChildren)&&D.outlet&&D.outlet!==Nt&&(D.component=us),D}function ri(M){return M.outlet||Nt}function Ai(M){var N;if(!M)return null;if(null!==(N=M.routeConfig)&&void 0!==N&&N._injector)return M.routeConfig._injector;for(let D=M.parent;D;D=D.parent){const F=D.routeConfig;if(null!=F&&F._loadedInjector)return F._loadedInjector;if(null!=F&&F._injector)return F._injector}return null}class S{constructor(N,D,F,ee,Re){this.routeReuseStrategy=N,this.futureState=D,this.currState=F,this.forwardEvent=ee,this.inputBindingEnabled=Re}activate(N){const D=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,F,N),ti(this.futureState.root),this.activateChildRoutes(D,F,N)}deactivateChildRoutes(N,D,F){const ee=Qi(D);N.children.forEach(Re=>{const Ie=Re.value.outlet;this.deactivateRoutes(Re,ee[Ie],F),delete ee[Ie]}),Object.values(ee).forEach(Re=>{this.deactivateRouteAndItsChildren(Re,F)})}deactivateRoutes(N,D,F){const ee=N.value,Re=D?D.value:null;if(ee===Re)if(ee.component){const Ie=F.getContext(ee.outlet);Ie&&this.deactivateChildRoutes(N,D,Ie.children)}else this.deactivateChildRoutes(N,D,F);else Re&&this.deactivateRouteAndItsChildren(D,F)}deactivateRouteAndItsChildren(N,D){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,D):this.deactivateRouteAndOutlet(N,D)}detachAndStoreRouteSubtree(N,D){const F=D.getContext(N.value.outlet),ee=F&&N.value.component?F.children:D,Re=Qi(N);for(const Ie of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[Ie],ee);if(F&&F.outlet){const Ie=F.outlet.detach(),yt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Ie,route:N,contexts:yt})}}deactivateRouteAndOutlet(N,D){const F=D.getContext(N.value.outlet),ee=F&&N.value.component?F.children:D,Re=Qi(N);for(const Ie of Object.keys(Re))this.deactivateRouteAndItsChildren(Re[Ie],ee);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(N,D,F){const ee=Qi(D);N.children.forEach(Re=>{this.activateRoutes(Re,ee[Re.value.outlet],F),this.forwardEvent(new Hr(Re.value.snapshot))}),N.children.length&&this.forwardEvent(new Ti(N.value.snapshot))}activateRoutes(N,D,F){const ee=N.value,Re=D?D.value:null;if(ti(ee),ee===Re)if(ee.component){const Ie=F.getOrCreateContext(ee.outlet);this.activateChildRoutes(N,D,Ie.children)}else this.activateChildRoutes(N,D,F);else if(ee.component){const Ie=F.getOrCreateContext(ee.outlet);if(this.routeReuseStrategy.shouldAttach(ee.snapshot)){const yt=this.routeReuseStrategy.retrieve(ee.snapshot);this.routeReuseStrategy.store(ee.snapshot,null),Ie.children.onOutletReAttached(yt.contexts),Ie.attachRef=yt.componentRef,Ie.route=yt.route.value,Ie.outlet&&Ie.outlet.attach(yt.componentRef,yt.route.value),ti(yt.route.value),this.activateChildRoutes(N,null,Ie.children)}else{const yt=Ai(ee.snapshot);Ie.attachRef=null,Ie.route=ee,Ie.injector=yt,Ie.outlet&&Ie.outlet.activateWith(ee,Ie.injector),this.activateChildRoutes(N,null,Ie.children)}}else this.activateChildRoutes(N,null,F)}}class te{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class T{constructor(N,D){this.component=N,this.route=D}}function Z(M,N,D){const F=M._root;return Bn(F,N?N._root:null,D,[F.value])}function qt(M,N){const D=Symbol(),F=N.get(M,D);return F===D?"function"!=typeof M||(0,y.Z0I)(M)?N.get(M):M:F}function Bn(M,N,D,F,ee={canDeactivateChecks:[],canActivateChecks:[]}){const Re=Qi(N);return M.children.forEach(Ie=>{(function rr(M,N,D,F,ee={canDeactivateChecks:[],canActivateChecks:[]}){const Re=M.value,Ie=N?N.value:null,yt=D?D.getContext(M.value.outlet):null;if(Ie&&Re.routeConfig===Ie.routeConfig){const tn=function Dr(M,N,D){if("function"==typeof D)return D(M,N);switch(D){case"pathParamsChange":return!Vn(M.url,N.url);case"pathParamsOrQueryParamsChange":return!Vn(M.url,N.url)||!Yt(M.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!or(M,N)||!Yt(M.queryParams,N.queryParams);default:return!or(M,N)}}(Ie,Re,Re.routeConfig.runGuardsAndResolvers);tn?ee.canActivateChecks.push(new te(F)):(Re.data=Ie.data,Re._resolvedData=Ie._resolvedData),Bn(M,N,Re.component?yt?yt.children:null:D,F,ee),tn&&yt&&yt.outlet&&yt.outlet.isActivated&&ee.canDeactivateChecks.push(new T(yt.outlet.component,Ie))}else Ie&&Br(N,yt,ee),ee.canActivateChecks.push(new te(F)),Bn(M,null,Re.component?yt?yt.children:null:D,F,ee)})(Ie,Re[Ie.value.outlet],D,F.concat([Ie.value]),ee),delete Re[Ie.value.outlet]}),Object.entries(Re).forEach(([Ie,yt])=>Br(yt,D.getContext(Ie),ee)),ee}function Br(M,N,D){const F=Qi(M),ee=M.value;Object.entries(F).forEach(([Re,Ie])=>{Br(Ie,ee.component?N?N.children.getContext(Re):null:N,D)}),D.canDeactivateChecks.push(new T(ee.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,ee))}function ns(M){return"function"==typeof M}function P(M){return M instanceof we.K||"EmptyError"===(null==M?void 0:M.name)}const me=Symbol("INITIAL_VALUE");function st(){return(0,De.w)(M=>Ze(M.map(N=>N.pipe((0,He.q)(1),(0,We.O)(me)))).pipe((0,ce.U)(N=>{for(const D of N)if(!0!==D){if(D===me)return me;if(!1===D||D instanceof Tr)return D}return!0}),(0,Ne.h)(N=>N!==me),(0,He.q)(1)))}function _o(M){return(0,it.z)((0,ct.b)(N=>{if(Wt(N))throw Rs(0,N)}),(0,ce.U)(N=>!0===N))}class uo{constructor(N){this.segmentGroup=N||null}}class Yo{constructor(N){this.urlTree=N}}function $i(M){return gt(new uo(M))}function rs(M){return gt(new Yo(M))}class Ma{constructor(N,D){this.urlSerializer=N,this.urlTree=D}noMatchError(N){return new y.vHH(4002,!1)}lineralizeSegments(N,D){let F=[],ee=D.root;for(;;){if(F=F.concat(ee.segments),0===ee.numberOfChildren)return(0,Ee.of)(F);if(ee.numberOfChildren>1||!ee.children[Nt])return gt(new y.vHH(4e3,!1));ee=ee.children[Nt]}}applyRedirectCommands(N,D,F){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),N,F)}applyRedirectCreateUrlTree(N,D,F,ee){const Re=this.createSegmentGroup(N,D.root,F,ee);return new Tr(Re,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(N,D){const F={};return Object.entries(N).forEach(([ee,Re])=>{if("string"==typeof Re&&Re.startsWith(":")){const yt=Re.substring(1);F[ee]=D[yt]}else F[ee]=Re}),F}createSegmentGroup(N,D,F,ee){const Re=this.createSegments(N,D.segments,F,ee);let Ie={};return Object.entries(D.children).forEach(([yt,tn])=>{Ie[yt]=this.createSegmentGroup(N,tn,F,ee)}),new Wn(Re,Ie)}createSegments(N,D,F,ee){return D.map(Re=>Re.path.startsWith(":")?this.findPosParam(N,Re,ee):this.findOrReturn(Re,F))}findPosParam(N,D,F){const ee=F[D.path.substring(1)];if(!ee)throw new y.vHH(4001,!1);return ee}findOrReturn(N,D){let F=0;for(const ee of D){if(ee.path===N.path)return D.splice(F),ee;F++}return N}}const Ra={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Po(M,N,D,F,ee){const Re=Qa(M,N,D);return Re.matched?(F=function zi(M,N){var D;return M.providers&&!M._injector&&(M._injector=(0,y.MMx)(M.providers,N,`Route: ${M.path}`)),null!==(D=M._injector)&&void 0!==D?D:N}(N,F),function Hs(M,N,D,F){const ee=N.canMatch;if(!ee||0===ee.length)return(0,Ee.of)(!0);const Re=ee.map(Ie=>{const yt=qt(Ie,M);return zn(function Y(M){return M&&ns(M.canMatch)}(yt)?yt.canMatch(N,D):M.runInContext(()=>yt(N,D)))});return(0,Ee.of)(Re).pipe(st(),_o())}(F,N,D).pipe((0,ce.U)(Ie=>!0===Ie?Re:{...Ra}))):(0,Ee.of)(Re)}function Qa(M,N,D){var F,ee;if(""===N.path)return"full"===N.pathMatch&&(M.hasChildren()||D.length>0)?{...Ra}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const Ie=(N.matcher||hr)(D,M,N);if(!Ie)return{...Ra};const yt={};Object.entries(null!==(F=Ie.posParams)&&void 0!==F?F:{}).forEach(([Rn,Sr])=>{yt[Rn]=Sr.path});const tn=Ie.consumed.length>0?{...yt,...Ie.consumed[Ie.consumed.length-1].parameters}:yt;return{matched:!0,consumedSegments:Ie.consumed,remainingSegments:D.slice(Ie.consumed.length),parameters:tn,positionalParamSegments:null!==(ee=Ie.posParams)&&void 0!==ee?ee:{}}}function fi(M,N,D,F){return D.length>0&&function co(M,N,D){return D.some(F=>Vo(M,N,F)&&ri(F)!==Nt)}(M,D,F)?{segmentGroup:new Wn(N,Au(F,new Wn(D,M.children))),slicedSegments:[]}:0===D.length&&function ic(M,N,D){return D.some(F=>Vo(M,N,F))}(M,D,F)?{segmentGroup:new Wn(M.segments,Wl(M,0,D,F,M.children)),slicedSegments:D}:{segmentGroup:new Wn(M.segments,M.children),slicedSegments:D}}function Wl(M,N,D,F,ee){const Re={};for(const Ie of F)if(Vo(M,D,Ie)&&!ee[ri(Ie)]){const yt=new Wn([],{});Re[ri(Ie)]=yt}return{...ee,...Re}}function Au(M,N){const D={};D[Nt]=N;for(const F of M)if(""===F.path&&ri(F)!==Nt){const ee=new Wn([],{});D[ri(F)]=ee}return D}function Vo(M,N,D){return(!(M.hasChildren()||N.length>0)||"full"!==D.pathMatch)&&""===D.path}class xs{constructor(N,D,F,ee,Re,Ie,yt){this.injector=N,this.configLoader=D,this.rootComponentType=F,this.config=ee,this.urlTree=Re,this.paramsInheritanceStrategy=Ie,this.urlSerializer=yt,this.allowRedirects=!0,this.applyRedirects=new Ma(this.urlSerializer,this.urlTree)}noMatchError(N){return new y.vHH(4002,!1)}recognize(){const N=fi(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Nt).pipe(Tt(D=>{if(D instanceof Yo)return this.allowRedirects=!1,this.urlTree=D.urlTree,this.match(D.urlTree);throw D instanceof uo?this.noMatchError(D):D}),(0,ce.U)(D=>{const F=new ls([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,{}),ee=new Ur(F,D),Re=new Vs("",ee),Ie=function vn(M,N,D=null,F=null){return ir(Nn(M),N,D,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Ie.queryParams=this.urlTree.queryParams,Re.url=this.urlSerializer.serialize(Ie),this.inheritParamsAndData(Re._root),{state:Re,tree:Ie}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,Nt).pipe(Tt(F=>{throw F instanceof uo?this.noMatchError(F):F}))}inheritParamsAndData(N){const D=N.value,F=wi(D,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data),N.children.forEach(ee=>this.inheritParamsAndData(ee))}processSegmentGroup(N,D,F,ee){return 0===F.segments.length&&F.hasChildren()?this.processChildren(N,D,F):this.processSegment(N,D,F,F.segments,ee,!0)}processChildren(N,D,F){const ee=[];for(const Re of Object.keys(F.children))"primary"===Re?ee.unshift(Re):ee.push(Re);return(0,xe.D)(ee).pipe(ne(Re=>{const Ie=F.children[Re],yt=function Qs(M,N){const D=M.filter(F=>ri(F)===N);return D.push(...M.filter(F=>ri(F)!==N)),D}(D,Re);return this.processSegmentGroup(N,yt,Ie,Re)}),(0,Pt.R)((Re,Ie)=>(Re.push(...Ie),Re)),(0,rn.d)(null),function kt(M,N){const D=arguments.length>=2;return F=>F.pipe(M?(0,Ne.h)((ee,Re)=>M(ee,Re,F)):Ve.y,At(1),D?(0,rn.d)(N):(0,tt.T)(()=>new we.K))}(),(0,ke.z)(Re=>{if(null===Re)return $i(F);const Ie=Ni(Re);return function Eo(M){M.sort((N,D)=>N.value.outlet===Nt?-1:D.value.outlet===Nt?1:N.value.outlet.localeCompare(D.value.outlet))}(Ie),(0,Ee.of)(Ie)}))}processSegment(N,D,F,ee,Re,Ie){return(0,xe.D)(D).pipe(ne(yt=>{var tn;return this.processSegmentAgainstRoute(null!==(tn=yt._injector)&&void 0!==tn?tn:N,D,yt,F,ee,Re,Ie).pipe(Tt(Rn=>{if(Rn instanceof uo)return(0,Ee.of)(null);throw Rn}))}),(0,je.P)(yt=>!!yt),Tt(yt=>{if(P(yt))return function va(M,N,D){return 0===N.length&&!M.children[D]}(F,ee,Re)?(0,Ee.of)([]):$i(F);throw yt}))}processSegmentAgainstRoute(N,D,F,ee,Re,Ie,yt){return function Zo(M,N,D,F){return!!(ri(M)===F||F!==Nt&&Vo(N,D,M))&&("**"===M.path||Qa(N,M,D).matched)}(F,ee,Re,Ie)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(N,ee,F,Re,Ie,yt):yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,ee,D,F,Re,Ie):$i(ee):$i(ee)}expandSegmentAgainstRouteUsingRedirect(N,D,F,ee,Re,Ie){return"**"===ee.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,F,ee,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(N,D,F,ee,Re,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,D,F,ee){const Re=this.applyRedirects.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?rs(Re):this.applyRedirects.lineralizeSegments(F,Re).pipe((0,ke.z)(Ie=>{const yt=new Wn(Ie,{});return this.processSegment(N,D,yt,Ie,ee,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,D,F,ee,Re,Ie){const{matched:yt,consumedSegments:tn,remainingSegments:Rn,positionalParamSegments:Sr}=Qa(D,ee,Re);if(!yt)return $i(D);const lr=this.applyRedirects.applyRedirectCommands(tn,ee.redirectTo,Sr);return ee.redirectTo.startsWith("/")?rs(lr):this.applyRedirects.lineralizeSegments(ee,lr).pipe((0,ke.z)(is=>this.processSegment(N,F,D,is.concat(Rn),Ie,!1)))}matchSegmentAgainstRoute(N,D,F,ee,Re,Ie){let yt;if("**"===F.path){var tn,Rn;const Sr=ee.length>0?er(ee).parameters:{},lr=new ls(ee,Sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_a(F),ri(F),null!==(tn=null!==(Rn=F.component)&&void 0!==Rn?Rn:F._loadedComponent)&&void 0!==tn?tn:null,F,Kr(F));yt=(0,Ee.of)({snapshot:lr,consumedSegments:[],remainingSegments:[]}),D.children={}}else yt=Po(D,F,ee,N).pipe((0,ce.U)(({matched:Sr,consumedSegments:lr,remainingSegments:is,parameters:eo})=>{var jo,wa;return Sr?{snapshot:new ls(lr,eo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_a(F),ri(F),null!==(jo=null!==(wa=F.component)&&void 0!==wa?wa:F._loadedComponent)&&void 0!==jo?jo:null,F,Kr(F)),consumedSegments:lr,remainingSegments:is}:null}));return yt.pipe((0,De.w)(Sr=>{var lr;return null===Sr?$i(D):(N=null!==(lr=F._injector)&&void 0!==lr?lr:N,this.getChildConfig(N,F,ee).pipe((0,De.w)(({routes:is})=>{var eo;const jo=null!==(eo=F._loadedInjector)&&void 0!==eo?eo:N,{snapshot:wa,consumedSegments:Ou,remainingSegments:Fa}=Sr,{segmentGroup:Ia,slicedSegments:Ho}=fi(D,Ou,Fa,is);if(0===Ho.length&&Ia.hasChildren())return this.processChildren(jo,is,Ia).pipe((0,ce.U)(Oo=>null===Oo?null:[new Ur(wa,Oo)]));if(0===is.length&&0===Ho.length)return(0,Ee.of)([new Ur(wa,[])]);const Jl=ri(F)===Re;return this.processSegment(jo,is,Ia,Ho,Jl?Nt:Re,!0).pipe((0,ce.U)(Oo=>[new Ur(wa,Oo)]))})))}))}getChildConfig(N,D,F){return D.children?(0,Ee.of)({routes:D.children,injector:N}):D.loadChildren?void 0!==D._loadedRoutes?(0,Ee.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Is(M,N,D,F){const ee=N.canLoad;if(void 0===ee||0===ee.length)return(0,Ee.of)(!0);const Re=ee.map(Ie=>{const yt=qt(Ie,M);return zn(function ds(M){return M&&ns(M.canLoad)}(yt)?yt.canLoad(N,D):M.runInContext(()=>yt(N,D)))});return(0,Ee.of)(Re).pipe(st(),_o())}(N,D,F).pipe((0,ke.z)(ee=>ee?this.configLoader.loadChildren(N,D).pipe((0,ct.b)(Re=>{D._loadedRoutes=Re.routes,D._loadedInjector=Re.injector})):function qd(M){return gt(gs(!1,3))}())):(0,Ee.of)({routes:[],injector:N})}}function Ps(M){const N=M.value.routeConfig;return N&&""===N.path}function Ni(M){const N=[],D=new Set;for(const F of M){if(!Ps(F)){N.push(F);continue}const ee=N.find(Re=>F.value.routeConfig===Re.value.routeConfig);void 0!==ee?(ee.children.push(...F.children),D.add(ee)):N.push(F)}for(const F of D){const ee=Ni(F.children);N.push(new Ur(F.value,ee))}return N.filter(F=>!D.has(F))}function _a(M){return M.data||{}}function Kr(M){return M.resolve||{}}function $(M){return"string"==typeof M.title||null===M.title}function re(M){return(0,De.w)(N=>{const D=M(N);return D?(0,xe.D)(D).pipe((0,ce.U)(()=>N)):(0,Ee.of)(N)})}const j=new y.OlP("ROUTES");let ye=(()=>{class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,Ee.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const F=zn(D.loadComponent()).pipe((0,ce.U)(jt),(0,ct.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=Re}),cn(()=>{this.componentLoaders.delete(D)})),ee=new nt(F,()=>new mt.x).pipe(St());return this.componentLoaders.set(D,ee),ee}loadChildren(D,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,Ee.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const Re=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,ce.U)(yt=>{this.onLoadEndListener&&this.onLoadEndListener(F);let tn,Rn;return Array.isArray(yt)?Rn=yt:(tn=yt.create(D).injector,Rn=tn.get(j,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:Rn.map(ao),injector:tn}}),cn(()=>{this.childrenLoaders.delete(F)})),Ie=new nt(Re,()=>new mt.x).pipe(St());return this.childrenLoaders.set(F,Ie),Ie}loadModuleFactoryOrRoutes(D){return zn(D()).pipe((0,ce.U)(jt),(0,ke.z)(F=>F instanceof y.YKP||Array.isArray(F)?(0,Ee.of)(F):(0,xe.D)(this.compiler.compileModuleAsync(F))))}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function jt(M){return function qe(M){return M&&"object"==typeof M&&"default"in M}(M)?M.default:M}let Qt=(()=>{class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new mt.x,this.configLoader=(0,y.f3M)(ye),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(fe),this.rootContexts=(0,y.f3M)(Li),this.inputBindingEnabled=null!==(0,y.f3M)(Oi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ee=>this.events.next(new sr(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new Ln(ee))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var F;const ee=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...D,id:ee})}setupNavigations(D){return this.transitions=new de.X({id:0,currentUrlTree:D.currentUrlTree,currentRawUrl:D.currentUrlTree,extractedUrl:D.urlHandlingStrategy.extract(D.currentUrlTree),urlAfterRedirects:D.urlHandlingStrategy.extract(D.currentUrlTree),rawUrl:D.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:G,restoredState:null,currentSnapshot:D.routerState.snapshot,targetSnapshot:null,currentRouterState:D.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ne.h)(F=>0!==F.id),(0,ce.U)(F=>({...F,extractedUrl:D.urlHandlingStrategy.extract(F.rawUrl)})),(0,De.w)(F=>{let ee=!1,Re=!1;return(0,Ee.of)(F).pipe((0,ct.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.rawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,De.w)(Ie=>{var yt;const tn=D.browserUrlTree.toString(),Rn=!D.navigated||Ie.extractedUrl.toString()!==tn||tn!==D.currentUrlTree.toString(),Sr=null!==(yt=Ie.extras.onSameUrlNavigation)&&void 0!==yt?yt:D.onSameUrlNavigation;if(!Rn&&"reload"!==Sr){const lr="";return this.events.next(new ie(Ie.id,D.serializeUrl(F.rawUrl),lr,0)),D.rawUrlTree=Ie.rawUrl,Ie.resolve(null),_t.E}if(D.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return Yn(Ie.source)&&(D.browserUrlTree=Ie.extractedUrl),(0,Ee.of)(Ie).pipe((0,De.w)(lr=>{var is,eo;const jo=null===(is=this.transitions)||void 0===is?void 0:is.getValue();return this.events.next(new _e(lr.id,this.urlSerializer.serialize(lr.extractedUrl),lr.source,lr.restoredState)),jo!==(null===(eo=this.transitions)||void 0===eo?void 0:eo.getValue())?_t.E:Promise.resolve(lr)}),function Yl(M,N,D,F,ee,Re){return(0,ke.z)(Ie=>function Kl(M,N,D,F,ee,Re,Ie="emptyOnly"){return new xs(M,N,D,F,ee,Ie,Re).recognize()}(M,N,D,F,Ie.extractedUrl,ee,Re).pipe((0,ce.U)(({state:yt,tree:tn})=>({...Ie,targetSnapshot:yt,urlAfterRedirects:tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,D.paramsInheritanceStrategy),(0,ct.b)(lr=>{if(F.targetSnapshot=lr.targetSnapshot,F.urlAfterRedirects=lr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:lr.urlAfterRedirects},"eager"===D.urlUpdateStrategy){if(!lr.extras.skipLocationChange){const eo=D.urlHandlingStrategy.merge(lr.urlAfterRedirects,lr.rawUrl);D.setBrowserUrl(eo,lr)}D.browserUrlTree=lr.urlAfterRedirects}const is=new Qe(lr.id,this.urlSerializer.serialize(lr.extractedUrl),this.urlSerializer.serialize(lr.urlAfterRedirects),lr.targetSnapshot);this.events.next(is)}));if(Rn&&D.urlHandlingStrategy.shouldProcessUrl(D.rawUrlTree)){const{id:lr,extractedUrl:is,source:eo,restoredState:jo,extras:wa}=Ie,Ou=new _e(lr,this.urlSerializer.serialize(is),eo,jo);this.events.next(Ou);const Fa=on(0,this.rootComponentType).snapshot;return F={...Ie,targetSnapshot:Fa,urlAfterRedirects:is,extras:{...wa,skipLocationChange:!1,replaceUrl:!1}},(0,Ee.of)(F)}{const lr="";return this.events.next(new ie(Ie.id,D.serializeUrl(F.extractedUrl),lr,1)),D.rawUrlTree=Ie.rawUrl,Ie.resolve(null),_t.E}}),(0,ct.b)(Ie=>{const yt=new ht(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(yt)}),(0,ce.U)(Ie=>F={...Ie,guards:Z(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)}),function $t(M,N){return(0,ke.z)(D=>{const{targetSnapshot:F,currentSnapshot:ee,guards:{canActivateChecks:Re,canDeactivateChecks:Ie}}=D;return 0===Ie.length&&0===Re.length?(0,Ee.of)({...D,guardsResult:!0}):function Zt(M,N,D,F){return(0,xe.D)(M).pipe((0,ke.z)(ee=>function Lr(M,N,D,F,ee){const Re=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!Re||0===Re.length)return(0,Ee.of)(!0);const Ie=Re.map(yt=>{var tn;const Rn=null!==(tn=Ai(N))&&void 0!==tn?tn:ee,Sr=qt(yt,Rn);return zn(function lo(M){return M&&ns(M.canDeactivate)}(Sr)?Sr.canDeactivate(M,N,D,F):Rn.runInContext(()=>Sr(M,N,D,F))).pipe((0,je.P)())});return(0,Ee.of)(Ie).pipe(st())}(ee.component,ee.route,D,N,F)),(0,je.P)(ee=>!0!==ee,!0))}(Ie,F,ee,M).pipe((0,ke.z)(yt=>yt&&function jr(M){return"boolean"==typeof M}(yt)?function mn(M,N,D,F){return(0,xe.D)(N).pipe(ne(ee=>(0,ft.z)(function Xr(M,N){return null!==M&&N&&N(new Ei(M)),(0,Ee.of)(!0)}(ee.route.parent,F),function Qr(M,N){return null!==M&&N&&N(new Pi(M)),(0,Ee.of)(!0)}(ee.route,F),function zr(M,N,D){const F=N[N.length-1],Re=N.slice(0,N.length-1).reverse().map(Ie=>function Pe(M){const N=M.routeConfig?M.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:M,guards:N}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>Ge(()=>{const yt=Ie.guards.map(tn=>{var Rn;const Sr=null!==(Rn=Ai(Ie.node))&&void 0!==Rn?Rn:D,lr=qt(tn,Sr);return zn(function Xs(M){return M&&ns(M.canActivateChild)}(lr)?lr.canActivateChild(F,M):Sr.runInContext(()=>lr(F,M))).pipe((0,je.P)())});return(0,Ee.of)(yt).pipe(st())}));return(0,Ee.of)(Re).pipe(st())}(M,ee.path,D),function oi(M,N,D){const F=N.routeConfig?N.routeConfig.canActivate:null;if(!F||0===F.length)return(0,Ee.of)(!0);const ee=F.map(Re=>Ge(()=>{var Ie;const yt=null!==(Ie=Ai(N))&&void 0!==Ie?Ie:D,tn=qt(Re,yt);return zn(function ws(M){return M&&ns(M.canActivate)}(tn)?tn.canActivate(N,M):yt.runInContext(()=>tn(N,M))).pipe((0,je.P)())}));return(0,Ee.of)(ee).pipe(st())}(M,ee.route,D))),(0,je.P)(ee=>!0!==ee,!0))}(F,Re,M,N):(0,Ee.of)(yt)),(0,ce.U)(yt=>({...D,guardsResult:yt})))})}(this.environmentInjector,Ie=>this.events.next(Ie)),(0,ct.b)(Ie=>{if(F.guardsResult=Ie.guardsResult,Wt(Ie.guardsResult))throw Rs(0,Ie.guardsResult);const yt=new xt(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.events.next(yt)}),(0,Ne.h)(Ie=>!!Ie.guardsResult||(D.restoreHistory(Ie),this.cancelNavigationTransition(Ie,"",3),!1)),re(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,Ee.of)(Ie).pipe((0,ct.b)(yt=>{const tn=new an(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(tn)}),(0,De.w)(yt=>{let tn=!1;return(0,Ee.of)(yt).pipe(function Ea(M,N){return(0,ke.z)(D=>{const{targetSnapshot:F,guards:{canActivateChecks:ee}}=D;if(!ee.length)return(0,Ee.of)(D);let Re=0;return(0,xe.D)(ee).pipe(ne(Ie=>function xa(M,N,D,F){const ee=M.routeConfig,Re=M._resolve;return void 0!==(null==ee?void 0:ee.title)&&!$(ee)&&(Re[In]=ee.title),function zs(M,N,D,F){const ee=function Xa(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}(M);if(0===ee.length)return(0,Ee.of)({});const Re={};return(0,xe.D)(ee).pipe((0,ke.z)(Ie=>function ua(M,N,D,F){var ee;const Re=null!==(ee=Ai(N))&&void 0!==ee?ee:F,Ie=qt(M,Re);return zn(Ie.resolve?Ie.resolve(N,D):Re.runInContext(()=>Ie(N,D)))}(M[Ie],N,D,F).pipe((0,je.P)(),(0,ct.b)(yt=>{Re[Ie]=yt}))),At(1),function Jt(M){return(0,ce.U)(()=>M)}(Re),Tt(Ie=>P(Ie)?_t.E:gt(Ie)))}(Re,M,N,F).pipe((0,ce.U)(Ie=>(M._resolvedData=Ie,M.data=wi(M,D).resolve,ee&&$(ee)&&(M.data[In]=ee.title),null)))}(Ie.route,F,M,N)),(0,ct.b)(()=>Re++),At(1),(0,ke.z)(Ie=>Re===ee.length?(0,Ee.of)(D):_t.E))})}(D.paramsInheritanceStrategy,this.environmentInjector),(0,ct.b)({next:()=>tn=!0,complete:()=>{tn||(D.restoreHistory(yt),this.cancelNavigationTransition(yt,"",2))}}))}),(0,ct.b)(yt=>{const tn=new fn(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(tn)}))}),re(Ie=>{const yt=tn=>{var Rn;const Sr=[];null!==(Rn=tn.routeConfig)&&void 0!==Rn&&Rn.loadComponent&&!tn.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(tn.routeConfig).pipe((0,ct.b)(lr=>{tn.component=lr}),(0,ce.U)(()=>{})));for(const lr of tn.children)Sr.push(...yt(lr));return Sr};return Ze(yt(Ie.targetSnapshot.root)).pipe((0,rn.d)(),(0,He.q)(1))}),re(()=>this.afterPreactivation()),(0,ce.U)(Ie=>{const yt=function Mo(M,N,D){const F=js(M,N._root,D?D._root:void 0);return new as(F,N)}(D.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return F={...Ie,targetRouterState:yt}}),(0,ct.b)(Ie=>{D.currentUrlTree=Ie.urlAfterRedirects,D.rawUrlTree=D.urlHandlingStrategy.merge(Ie.urlAfterRedirects,Ie.rawUrl),D.routerState=Ie.targetRouterState,"deferred"===D.urlUpdateStrategy&&(Ie.extras.skipLocationChange||D.setBrowserUrl(D.rawUrlTree,Ie),D.browserUrlTree=Ie.urlAfterRedirects)}),((M,N,D,F)=>(0,ce.U)(ee=>(new S(N,ee.targetRouterState,ee.currentRouterState,D,F).activate(M),ee)))(this.rootContexts,D.routeReuseStrategy,Ie=>this.events.next(Ie),this.inputBindingEnabled),(0,He.q)(1),(0,ct.b)({next:Ie=>{var yt;ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,D.navigated=!0,this.events.next(new ae(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(D.currentUrlTree))),null===(yt=D.titleStrategy)||void 0===yt||yt.updateTitle(Ie.targetRouterState.snapshot),Ie.resolve(!0)},complete:()=>{ee=!0}}),cn(()=>{var Ie;ee||Re||this.cancelNavigationTransition(F,"",1),(null===(Ie=this.currentNavigation)||void 0===Ie?void 0:Ie.id)===F.id&&(this.currentNavigation=null)}),Tt(Ie=>{if(Re=!0,qo(Ie)){Ui(Ie)||(D.navigated=!0,D.restoreHistory(F,!0));const tn=new z(F.id,this.urlSerializer.serialize(F.extractedUrl),Ie.message,Ie.cancellationCode);if(this.events.next(tn),Ui(Ie)){const Rn=D.urlHandlingStrategy.merge(Ie.url,D.rawUrlTree),Sr={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===D.urlUpdateStrategy||Yn(F.source)};D.scheduleNavigation(Rn,G,null,Sr,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{var yt;D.restoreHistory(F,!0);const tn=new $e(F.id,this.urlSerializer.serialize(F.extractedUrl),Ie,null!==(yt=F.targetSnapshot)&&void 0!==yt?yt:void 0);this.events.next(tn);try{F.resolve(D.errorHandler(Ie))}catch(Rn){F.reject(Rn)}}return _t.E}))}))}cancelNavigationTransition(D,F,ee){const Re=new z(D.id,this.urlSerializer.serialize(D.extractedUrl),F,ee);this.events.next(Re),D.resolve(!1)}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Yn(M){return M!==G}let yn=(()=>{class M{buildTitle(D){let F,ee=D.root;for(;void 0!==ee;){var Re;F=null!==(Re=this.getResolvedTitleForRoute(ee))&&void 0!==Re?Re:F,ee=ee.children.find(Ie=>Ie.outlet===Nt)}return F}getResolvedTitleForRoute(D){return D.data[In]}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(qr)},providedIn:"root"}),M})(),qr=(()=>{class M extends yn{constructor(D){super(),this.title=D}updateTitle(D){const F=this.buildTitle(D);void 0!==F&&this.title.setTitle(F)}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(_n.Dx))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Or=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(Ji)},providedIn:"root"}),M})();class Mr{shouldDetach(N){return!1}store(N,D){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,D){return N.routeConfig===D.routeConfig}}let Ji=(()=>{class M extends Mr{}return M.\u0275fac=function(){let N;return function(F){return(N||(N=y.n5z(M)))(F||M)}}(),M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const en=new y.OlP("",{providedIn:"root",factory:()=>({})});let Jn=(()=>{class M{}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:function(){return(0,y.f3M)(bi)},providedIn:"root"}),M})(),bi=(()=>{class M{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,F){return D}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var ji=(()=>((ji=ji||{})[ji.COMPLETE=0]="COMPLETE",ji[ji.FAILED=1]="FAILED",ji[ji.REDIRECTING=2]="REDIRECTING",ji))();function Fn(M,N){M.events.pipe((0,Ne.h)(D=>D instanceof ae||D instanceof z||D instanceof $e||D instanceof ie),(0,ce.U)(D=>D instanceof ae||D instanceof ie?ji.COMPLETE:D instanceof z&&(0===D.code||1===D.code)?ji.REDIRECTING:ji.FAILED),(0,Ne.h)(D=>D!==ji.REDIRECTING),(0,He.q)(1)).subscribe(()=>{N()})}function jn(M){throw M}function Uo(M,N,D){return N.parse("/")}const Tn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lt=(()=>{class M{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var D;if("computed"===this.canceledNavigationResolution)return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var D,F;this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(en,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||jn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Uo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(Jn),this.routeReuseStrategy=(0,y.f3M)(Or),this.titleStrategy=(0,y.f3M)(yn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(D=null===(F=(0,y.f3M)(j,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==D?D:[],this.navigationTransitions=(0,y.f3M)(Qt),this.urlSerializer=(0,y.f3M)(fe),this.location=(0,y.f3M)(vt.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(Oi,{optional:!0}),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=on(0,null),this.navigationTransitions.setupNavigations(this).subscribe(ee=>{var Re;this.lastSuccessfulId=ee.id,this.currentPageId=null!==(Re=this.browserPageId)&&void 0!==Re?Re:0},ee=>{this.console.warn(`Unhandled Navigation Error: ${ee}`)})}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const D=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),G,D)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const F="popstate"===D.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(D.url,F,D.state)},0)}))}navigateToSyncWithBrowser(D,F,ee){const Re={replaceUrl:!0},Ie=null!=ee&&ee.navigationId?ee:null;if(ee){const tn={...ee};delete tn.navigationId,delete tn.\u0275routerPageId,0!==Object.keys(tn).length&&(Re.state=tn)}const yt=this.parseUrl(D);this.scheduleNavigation(yt,F,Ie,Re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(ao),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,F={}){const{relativeTo:ee,queryParams:Re,fragment:Ie,queryParamsHandling:yt,preserveFragment:tn}=F,Rn=tn?this.currentUrlTree.fragment:Ie;let lr,Sr=null;switch(yt){case"merge":Sr={...this.currentUrlTree.queryParams,...Re};break;case"preserve":Sr=this.currentUrlTree.queryParams;break;default:Sr=Re||null}null!==Sr&&(Sr=this.removeEmptyProps(Sr));try{lr=Nn(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||!D[0].startsWith("/"))&&(D=[]),lr=this.currentUrlTree.root}return ir(lr,D,Sr,null!=Rn?Rn:null)}navigateByUrl(D,F={skipLocationChange:!1}){const ee=Wt(D)?D:this.parseUrl(D),Re=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(Re,G,null,F)}navigate(D,F={skipLocationChange:!1}){return function Ts(M){for(let N=0;N<M.length;N++)if(null==M[N])throw new y.vHH(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,F),F)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let F;try{F=this.urlSerializer.parse(D)}catch(ee){F=this.malformedUriErrorHandler(ee,this.urlSerializer,D)}return F}isActive(D,F){let ee;if(ee=!0===F?{...Tn}:!1===F?{...Xe}:F,Wt(D))return Cn(this.currentUrlTree,D,ee);const Re=this.parseUrl(D);return Cn(this.currentUrlTree,Re,ee)}removeEmptyProps(D){return Object.keys(D).reduce((F,ee)=>{const Re=D[ee];return null!=Re&&(F[ee]=Re),F},{})}scheduleNavigation(D,F,ee,Re,Ie){if(this.disposed)return Promise.resolve(!1);let yt,tn,Rn;Ie?(yt=Ie.resolve,tn=Ie.reject,Rn=Ie.promise):Rn=new Promise((lr,is)=>{yt=lr,tn=is});const Sr=this.pendingTasks.add();return Fn(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Sr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:Re,resolve:yt,reject:tn,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(lr=>Promise.reject(lr))}setBrowserUrl(D,F){const ee=this.urlSerializer.serialize(D);if(this.location.isCurrentPathEqualTo(ee)||F.extras.replaceUrl){const yt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(ee,"",yt)}else{var Re;const Ie={...F.extras.state,...this.generateNgRouterState(F.id,(null!==(Re=this.browserPageId)&&void 0!==Re?Re:0)+1)};this.location.go(ee,"",Ie)}}restoreHistory(D,F=!1){if("computed"===this.canceledNavigationResolution){var ee,Re;const Ie=null!==(ee=this.browserPageId)&&void 0!==ee?ee:this.currentPageId,yt=this.currentPageId-Ie;0!==yt?this.location.historyGo(yt):this.currentUrlTree===(null===(Re=this.getCurrentNavigation())||void 0===Re?void 0:Re.finalUrl)&&0===yt&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,F){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:F}:{navigationId:D}}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),ca=(()=>{class M{constructor(D,F,ee,Re,Ie,yt){var tn;this.router=D,this.route=F,this.tabIndexAttribute=ee,this.renderer=Re,this.el=Ie,this.locationStrategy=yt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new mt.x;const Rn=null===(tn=Ie.nativeElement.tagName)||void 0===tn?void 0:tn.toLowerCase();this.isAnchorElement="a"===Rn||"area"===Rn,this.isAnchorElement?this.subscription=D.events.subscribe(Sr=>{Sr instanceof ae&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,y.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,y.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,y.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(D,F,ee,Re,Ie){return!!(null===this.urlTree||this.isAnchorElement&&(0!==D||F||ee||Re||Ie||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;this.href=null!==this.urlTree&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const F=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(D,F){const ee=this.renderer,Re=this.el.nativeElement;null!==F?ee.setAttribute(Re,D,F):ee.removeAttribute(Re,D)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return M.\u0275fac=function(D){return new(D||M)(y.Y36(Lt),y.Y36(mr),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(vt.S$))},M.\u0275dir=y.lG2({type:M,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,F){1&D&&y.NdJ("click",function(Re){return F.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&D&&y.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[y.TTD]}),M})();class vl{}let Pa=(()=>{class M{preload(D,F){return F().pipe(Tt(()=>(0,Ee.of)(null)))}}return M.\u0275fac=function(D){return new(D||M)},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),ac=(()=>{class M{constructor(D,F,ee,Re,Ie){this.router=D,this.injector=ee,this.preloadingStrategy=Re,this.loader=Ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.h)(D=>D instanceof ae),ne(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,F){const ee=[];for(const tn of F){var Re,Ie;tn.providers&&!tn._injector&&(tn._injector=(0,y.MMx)(tn.providers,D,`Route: ${tn.path}`));const Rn=null!==(Re=tn._injector)&&void 0!==Re?Re:D,Sr=null!==(Ie=tn._loadedInjector)&&void 0!==Ie?Ie:Rn;var yt;(tn.loadChildren&&!tn._loadedRoutes&&void 0===tn.canLoad||tn.loadComponent&&!tn._loadedComponent)&&ee.push(this.preloadConfig(Rn,tn)),(tn.children||tn._loadedRoutes)&&ee.push(this.processRoutes(Sr,null!==(yt=tn.children)&&void 0!==yt?yt:tn._loadedRoutes))}return(0,xe.D)(ee).pipe((0,Mn.J)())}preloadConfig(D,F){return this.preloadingStrategy.preload(F,()=>{let ee;ee=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(D,F):(0,Ee.of)(null);const Re=ee.pipe((0,ke.z)(Ie=>{var yt;return null===Ie?(0,Ee.of)(void 0):(F._loadedRoutes=Ie.routes,F._loadedInjector=Ie.injector,this.processRoutes(null!==(yt=Ie.injector)&&void 0!==yt?yt:D,Ie.routes))}));if(F.loadComponent&&!F._loadedComponent){const Ie=this.loader.loadComponent(F);return(0,xe.D)([Re,Ie]).pipe((0,Mn.J)())}return Re})}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(Lt),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(vl),y.LFG(ye))},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const Zc=new y.OlP("");let lc=(()=>{class M{constructor(D,F,ee,Re,Ie={}){this.urlSerializer=D,this.transitions=F,this.viewportScroller=ee,this.zone=Re,this.options=Ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ie.scrollPositionRestoration=Ie.scrollPositionRestoration||"disabled",Ie.anchorScrolling=Ie.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof ae?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof ie&&0===D.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof bn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var D,F;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return M.\u0275fac=function(D){y.$Z()},M.\u0275prov=y.Yz7({token:M,factory:M.\u0275fac}),M})();function ar(M,N){return{\u0275kind:M,\u0275providers:N}}function _l(){const M=(0,y.f3M)(y.zs3);return N=>{var D,F;const ee=M.get(y.z2F);if(N!==ee.components[0])return;const Re=M.get(Lt),Ie=M.get(pi);1===M.get(Ql)&&Re.initialNavigation(),null===(D=M.get(Na,null,y.XFs.Optional))||void 0===D||D.setUpPreloading(),null===(F=M.get(Zc,null,y.XFs.Optional))||void 0===F||F.init(),Re.resetRootComponentType(ee.componentTypes[0]),Ie.closed||(Ie.next(),Ie.complete(),Ie.unsubscribe())}}const pi=new y.OlP("",{factory:()=>new mt.x}),Ql=new y.OlP("",{providedIn:"root",factory:()=>1}),Na=new y.OlP("");function ka(M){return ar(0,[{provide:Na,useExisting:ac},{provide:vl,useExisting:M}])}const wl=new y.OlP("ROUTER_FORROOT_GUARD"),wo=[vt.Ye,{provide:fe,useClass:Ke},Lt,Li,{provide:mr,useFactory:function di(M){return M.routerState.root},deps:[Lt]},ye,[]];function Xc(){return new y.PXZ("Router",Lt)}let ef=(()=>{class M{constructor(D){}static forRoot(D,F){return{ngModule:M,providers:[wo,[],{provide:j,multi:!0,useValue:D},{provide:wl,useFactory:Bt,deps:[[Lt,new y.FiY,new y.tp0]]},{provide:en,useValue:F||{}},null!=F&&F.useHash?{provide:vt.S$,useClass:vt.Do}:{provide:vt.S$,useClass:vt.b0},{provide:Zc,useFactory:()=>{const M=(0,y.f3M)(vt.EM),N=(0,y.f3M)(y.R0b),D=(0,y.f3M)(en),F=(0,y.f3M)(Qt),ee=(0,y.f3M)(fe);return D.scrollOffset&&M.setOffset(D.scrollOffset),new lc(ee,F,M,N,D)}},null!=F&&F.preloadingStrategy?ka(F.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Xc},null!=F&&F.initialNavigation?Ru(F):[],null!=F&&F.bindToComponentInputs?ar(8,[_r,{provide:Oi,useExisting:_r}]).\u0275providers:[],[{provide:Qo,useFactory:_l},{provide:y.tb,multi:!0,useExisting:Qo}]]}}static forChild(D){return{ngModule:M,providers:[{provide:j,multi:!0,useValue:D}]}}}return M.\u0275fac=function(D){return new(D||M)(y.LFG(wl,8))},M.\u0275mod=y.oAB({type:M}),M.\u0275inj=y.cJS({}),M})();function Bt(M){return"guarded"}function Ru(M){return["disabled"===M.initialNavigation?ar(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const N=(0,y.f3M)(Lt);return()=>{N.setUpLocationChangeListener()}}},{provide:Ql,useValue:2}]).\u0275providers:[],"enabledBlocking"===M.initialNavigation?ar(2,[{provide:Ql,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:N=>{const D=N.get(vt.V_,Promise.resolve());return()=>D.then(()=>new Promise(F=>{const ee=N.get(Lt),Re=N.get(pi);Fn(ee,()=>{F(!0)}),N.get(Qt).afterPreactivation=()=>(F(!0),Re.closed?(0,Ee.of)(void 0):Re),ee.initialNavigation()}))}}]).\u0275providers:[]]}const Qo=new y.OlP("")},579:(un,dt,L)=>{"use strict";L.d(dt,{EI:()=>et,Gb:()=>Ke,Iv:()=>Xn,Kz:()=>W,Xd:()=>gn,lT:()=>ln,xP:()=>gr});var y=L(5861),g=L(6881),se=L(1877),ge=L(2090),xe=L(4859);L(4727);const de="analytics",Ce="firebase_id",Ve="origin",Te=6e4,be="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ze="https://www.googletagmanager.com/gtag/js",ve=new se.Yd("@firebase/analytics"),Ze=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function It(Be){if(!Be.startsWith(ze)){const pt=Ze.create("invalid-gtag-resource",{gtagURL:Be});return ve.warn(pt.message),""}return Be}function Me(Be){return Promise.all(Be.map(pt=>pt.catch(Ct=>Ct)))}function it(){return(it=(0,y.Z)(function*(Be,pt,Ct,Kt,Ht,sn){const dn=Kt[Ht];try{if(dn)yield pt[dn];else{const Un=(yield Me(Ct)).find(Dt=>Dt.measurementId===Ht);Un&&(yield pt[Un.appId])}}catch(Gn){ve.error(Gn)}Be("config",Ht,sn)})).apply(this,arguments)}function _t(){return(_t=(0,y.Z)(function*(Be,pt,Ct,Kt,Ht){try{let sn=[];if(Ht&&Ht.send_to){let dn=Ht.send_to;Array.isArray(dn)||(dn=[dn]);const Gn=yield Me(Ct);for(const Un of dn){const Dt=Gn.find(Wt=>Wt.measurementId===Un),bt=Dt&&pt[Dt.appId];if(!bt){sn=[];break}sn.push(bt)}}0===sn.length&&(sn=Object.values(pt)),yield Promise.all(sn),Be("event",Kt,Ht||{})}catch(sn){ve.error(sn)}})).apply(this,arguments)}const nt=30,ce=new class vt{constructor(pt={},Ct=1e3){this.throttleMetadata=pt,this.intervalMillis=Ct}getThrottleMetadata(pt){return this.throttleMetadata[pt]}setThrottleMetadata(pt,Ct){this.throttleMetadata[pt]=Ct}deleteThrottleMetadata(pt){delete this.throttleMetadata[pt]}};function De(Be){return new Headers({Accept:"application/json","x-goog-api-key":Be})}function We(){return(We=(0,y.Z)(function*(Be){var pt;const{appId:Ct,apiKey:Kt}=Be,Ht={method:"GET",headers:De(Kt)},sn=be.replace("{app-id}",Ct),dn=yield fetch(sn,Ht);if(200!==dn.status&&304!==dn.status){let Gn="";try{const Un=yield dn.json();null!==(pt=Un.error)&&void 0!==pt&&pt.message&&(Gn=Un.error.message)}catch{}throw Ze.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Gn})}return dn.json()})).apply(this,arguments)}function ke(){return(ke=(0,y.Z)(function*(Be,pt=ce,Ct){const{appId:Kt,apiKey:Ht,measurementId:sn}=Be.options;if(!Kt)throw Ze.create("no-app-id");if(!Ht){if(sn)return{measurementId:sn,appId:Kt};throw Ze.create("no-api-key")}const dn=pt.getThrottleMetadata(Kt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Gn=new Pt;return setTimeout((0,y.Z)(function*(){Gn.abort()}),void 0!==Ct?Ct:Te),je({appId:Kt,apiKey:Ht,measurementId:sn},dn,Gn,pt)})).apply(this,arguments)}function je(Be,pt,Ct){return ne.apply(this,arguments)}function ne(){return ne=(0,y.Z)(function*(Be,{throttleEndTimeMillis:pt,backoffCount:Ct},Kt,Ht=ce){var sn;const{appId:dn,measurementId:Gn}=Be;try{yield function ct(Be,pt){return new Promise((Ct,Kt)=>{const Ht=Math.max(pt-Date.now(),0),sn=setTimeout(Ct,Ht);Be.addEventListener(()=>{clearTimeout(sn),Kt(Ze.create("fetch-throttle",{throttleEndTimeMillis:pt}))})})}(Kt,pt)}catch(Un){if(Gn)return ve.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gn} provided in the "measurementId" field in the local Firebase config. [${null==Un?void 0:Un.message}]`),{appId:dn,measurementId:Gn};throw Un}try{const Un=yield function He(Be){return We.apply(this,arguments)}(Be);return Ht.deleteThrottleMetadata(dn),Un}catch(Un){const Dt=Un;if(!function Tt(Be){if(!(Be instanceof ge.ZR&&Be.customData))return!1;const pt=Number(Be.customData.httpStatus);return 429===pt||500===pt||503===pt||504===pt}(Dt)){if(Ht.deleteThrottleMetadata(dn),Gn)return ve.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gn} provided in the "measurementId" field in the local Firebase config. [${null==Dt?void 0:Dt.message}]`),{appId:dn,measurementId:Gn};throw Un}const bt=503===Number(null===(sn=null==Dt?void 0:Dt.customData)||void 0===sn?void 0:sn.httpStatus)?(0,ge.$s)(Ct,Ht.intervalMillis,nt):(0,ge.$s)(Ct,Ht.intervalMillis),Wt={throttleEndTimeMillis:Date.now()+bt,backoffCount:Ct+1};return Ht.setThrottleMetadata(dn,Wt),ve.debug(`Calling attemptFetch again in ${bt} millis`),je(Be,Wt,Kt,Ht)}}),ne.apply(this,arguments)}class Pt{constructor(){this.listeners=[]}addEventListener(pt){this.listeners.push(pt)}abort(){this.listeners.forEach(pt=>pt())}}let rn,yr;function tt(){return(tt=(0,y.Z)(function*(Be,pt,Ct,Kt,Ht){if(Ht&&Ht.global)Be("event",Ct,Kt);else{const sn=yield pt;Be("event",Ct,Object.assign(Object.assign({},Kt),{send_to:sn}))}})).apply(this,arguments)}function Jt(){return(Jt=(0,y.Z)(function*(Be,pt,Ct,Kt){if(Kt&&Kt.global)return Be("set",{screen_name:Ct}),Promise.resolve();Be("config",yield pt,{update:!0,screen_name:Ct})})).apply(this,arguments)}function Mn(){return(Mn=(0,y.Z)(function*(Be,pt,Ct,Kt){if(Kt&&Kt.global)return Be("set",{user_id:Ct}),Promise.resolve();Be("config",yield pt,{update:!0,user_id:Ct})})).apply(this,arguments)}function Nt(){return(Nt=(0,y.Z)(function*(Be,pt,Ct,Kt){if(Kt&&Kt.global){const Ht={};for(const sn of Object.keys(Ct))Ht[`user_properties.${sn}`]=Ct[sn];return Be("set",Ht),Promise.resolve()}Be("config",yield pt,{update:!0,user_properties:Ct})})).apply(this,arguments)}function hr(){return(hr=(0,y.Z)(function*(Be,pt){const Ct=yield Be;window[`ga-disable-${Ct}`]=!pt})).apply(this,arguments)}function zn(){return(zn=(0,y.Z)(function*(){if(!(0,ge.hl)())return ve.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(Be){return ve.warn(Ze.create("indexeddb-unavailable",{errorInfo:null==Be?void 0:Be.toString()}).message),!1}return!0})).apply(this,arguments)}function Fr(){return Fr=(0,y.Z)(function*(Be,pt,Ct,Kt,Ht,sn,dn){var Gn;const Un=function Ne(Be){return ke.apply(this,arguments)}(Be);Un.then(Nn=>{Ct[Nn.measurementId]=Nn.appId,Be.options.measurementId&&Nn.measurementId!==Be.options.measurementId&&ve.warn(`The measurement ID in the local Firebase config (${Be.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>ve.error(Nn)),pt.push(Un);const Dt=function er(){return zn.apply(this,arguments)}().then(Nn=>{if(Nn)return Kt.getId()}),[bt,Wt]=yield Promise.all([Un,Dt]);(function St(Be){const pt=window.document.getElementsByTagName("script");for(const Ct of Object.values(pt))if(Ct.src&&Ct.src.includes(ze)&&Ct.src.includes(Be))return Ct;return null})(sn)||function ft(Be,pt){const Ct=function we(Be,pt){let Ct;return window.trustedTypes&&(Ct=window.trustedTypes.createPolicy(Be,pt)),Ct}("firebase-js-sdk-policy",{createScriptURL:It}),Kt=document.createElement("script"),Ht=`${ze}?l=${Be}&id=${pt}`;Kt.src=Ct?null==Ct?void 0:Ct.createScriptURL(Ht):Ht,Kt.async=!0,document.head.appendChild(Kt)}(sn,bt.measurementId),yr&&(Ht("consent","default",yr),function Yt(Be){yr=Be}(void 0)),Ht("js",new Date);const vn=null!==(Gn=null==dn?void 0:dn.config)&&void 0!==Gn?Gn:{};return vn[Ve]="firebase",vn.update=!0,null!=Wt&&(vn[Ce]=Wt),Ht("config",bt.measurementId,vn),rn&&(Ht("set",rn),function Pr(Be){rn=Be}(void 0)),bt.measurementId}),Fr.apply(this,arguments)}class Cn{constructor(pt){this.app=pt}_delete(){return delete En[this.app.options.appId],Promise.resolve()}}let En={},xn=[];const fr={};let Rr,Tr,ur="dataLayer",cr="gtag",Wn=!1;function gn(Be){if(Wn)throw Ze.create("already-initialized");Be.dataLayerName&&(ur=Be.dataLayerName),Be.gtagName&&(cr=Be.gtagName)}function Vn(Be,pt,Ct){!function ei(){const Be=[];if((0,ge.ru)()&&Be.push("This is a browser extension environment."),(0,ge.zI)()||Be.push("Cookies are not available."),Be.length>0){const pt=Be.map((Kt,Ht)=>`(${Ht+1}) ${Kt}`).join(" "),Ct=Ze.create("invalid-analytics-context",{errorInfo:pt});ve.warn(Ct.message)}}();const Kt=Be.options.appId;if(!Kt)throw Ze.create("no-app-id");if(!Be.options.apiKey){if(!Be.options.measurementId)throw Ze.create("no-api-key");ve.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Be.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=En[Kt])throw Ze.create("already-exists",{id:Kt});if(!Wn){!function ot(Be){let pt=[];Array.isArray(window[Be])?pt=window[Be]:window[Be]=pt}(ur);const{wrappedGtag:sn,gtagCore:dn}=function Oe(Be,pt,Ct,Kt,Ht){let sn=function(...dn){window[Kt].push(arguments)};return window[Ht]&&"function"==typeof window[Ht]&&(sn=window[Ht]),window[Ht]=function Ye(Be,pt,Ct,Kt){function sn(){return sn=(0,y.Z)(function*(dn,...Gn){try{if("event"===dn){const[Un,Dt]=Gn;yield function gt(Be,pt,Ct,Kt,Ht){return _t.apply(this,arguments)}(Be,pt,Ct,Un,Dt)}else if("config"===dn){const[Un,Dt]=Gn;yield function Ge(Be,pt,Ct,Kt,Ht,sn){return it.apply(this,arguments)}(Be,pt,Ct,Kt,Un,Dt)}else if("consent"===dn){const[Un]=Gn;Be("consent","update",Un)}else if("get"===dn){const[Un,Dt,bt]=Gn;Be("get",Un,Dt,bt)}else if("set"===dn){const[Un]=Gn;Be("set",Un)}else Be(dn,...Gn)}catch(Un){ve.error(Un)}}),sn.apply(this,arguments)}return function Ht(dn){return sn.apply(this,arguments)}}(sn,Be,pt,Ct),{gtagCore:sn,wrappedGtag:window[Ht]}}(En,xn,fr,ur,cr);Tr=sn,Rr=dn,Wn=!0}return En[Kt]=function tr(Be,pt,Ct,Kt,Ht,sn,dn){return Fr.apply(this,arguments)}(Be,xn,fr,pt,Rr,ur,Ct),new Cn(Be)}function Ke(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}function ln(Be,pt,Ct){Be=(0,ge.m9)(Be),function kt(Be,pt,Ct,Kt){return Jt.apply(this,arguments)}(Tr,En[Be.app.options.appId],pt,Ct).catch(Kt=>ve.error(Kt))}function Xn(Be,pt,Ct){Be=(0,ge.m9)(Be),function cn(Be,pt,Ct,Kt){return Mn.apply(this,arguments)}(Tr,En[Be.app.options.appId],pt,Ct).catch(Kt=>ve.error(Kt))}function gr(Be,pt,Ct){Be=(0,ge.m9)(Be),function _n(Be,pt,Ct,Kt){return Nt.apply(this,arguments)}(Tr,En[Be.app.options.appId],pt,Ct).catch(Kt=>ve.error(Kt))}function et(Be,pt){Be=(0,ge.m9)(Be),function Kn(Be,pt){return hr.apply(this,arguments)}(En[Be.app.options.appId],pt).catch(Ct=>ve.error(Ct))}function W(Be,pt,Ct,Kt){Be=(0,ge.m9)(Be),function At(Be,pt,Ct,Kt,Ht){return tt.apply(this,arguments)}(Tr,En[Be.app.options.appId],pt,Ct,Kt).catch(Ht=>ve.error(Ht))}const K="@firebase/analytics";!function at(){(0,g._registerComponent)(new xe.wA(de,(pt,{options:Ct})=>Vn(pt.getProvider("app").getImmediate(),pt.getProvider("installations-internal").getImmediate(),Ct),"PUBLIC")),(0,g._registerComponent)(new xe.wA("analytics-internal",function Be(pt){try{const Ct=pt.getProvider(de).getImmediate();return{logEvent:(Kt,Ht,sn)=>W(Ct,Kt,Ht,sn)}}catch(Ct){throw Ze.create("interop-component-reg-failed",{reason:Ct})}},"PRIVATE")),(0,g.registerVersion)(K,"0.10.0"),(0,g.registerVersion)(K,"0.10.0","esm2017")}()},3942:(un,dt,L)=>{"use strict";L.d(dt,{Z:()=>Ze});var y=L(2090),g=L(4859),se=L(6881),ge=L(1877);class xe{constructor(Me,we){this._delegate=Me,this.firebase=we,(0,se._addComponent)(Me,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(Me,we=se._DEFAULT_ENTRY_NAME){var ft;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(Me);return!ot.isInitialized()&&"EXPLICIT"===(null===(ft=ot.getComponent())||void 0===ft?void 0:ft.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:we})}_removeServiceInstance(Me,we=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(we)}_addComponent(Me){(0,se._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,se._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function Ve(){const It=function Ce(It){const Me={},we={__esModule:!0,initializeApp:function Ge(Ye,Oe={}){const St=se.initializeApp(Ye,Oe);if((0,y.r3)(Me,St.name))return Me[St.name];const nt=new It(St,we);return Me[St.name]=nt,nt},app:ot,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function gt(Ye){const Oe=Ye.name,St=Oe.replace("-compat","");if(se._registerComponent(Ye)&&"PUBLIC"===Ye.type){const nt=(mt=ot())=>{if("function"!=typeof mt[St])throw de.create("invalid-app-argument",{appName:Oe});return mt[St]()};void 0!==Ye.serviceProps&&(0,y.ZB)(nt,Ye.serviceProps),we[St]=nt,It.prototype[St]=function(...mt){return this._getService.bind(this,Oe).apply(this,Ye.multipleInstances?mt:[])}}return"PUBLIC"===Ye.type?we[St]:null},removeApp:function ft(Ye){delete Me[Ye]},useAsService:function _t(Ye,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:se}};function ot(Ye){if(!(0,y.r3)(Me,Ye=Ye||se._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ye});return Me[Ye]}return we.default=we,Object.defineProperty(we,"apps",{get:function it(){return Object.keys(Me).map(Ye=>Me[Ye])}}),ot.App=It,we}(xe);return It.INTERNAL=Object.assign(Object.assign({},It.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function Me(we){(0,y.ZB)(It,we)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),It}(),be=new ge.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){be.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const It=self.firebase.SDK_VERSION;It&&It.indexOf("LITE")>=0&&be.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=Te;!function Ue(It){(0,se.registerVersion)("@firebase/app-compat","0.2.11",It)}()},6881:(un,dt,L)=>{"use strict";L.r(dt),L.d(dt,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>En,_addOrOverwriteComponent:()=>xn,_apps:()=>Fr,_clearComponents:()=>Rr,_components:()=>Cn,_getProvider:()=>ur,_registerComponent:()=>fr,_removeServiceInstance:()=>cr,deleteApp:()=>Ke,getApp:()=>Ut,getApps:()=>fe,initializeApp:()=>Vn,onLog:()=>wn,registerVersion:()=>ln,setLogLevel:()=>pr});var y=L(5861),g=L(4859),se=L(1877),ge=L(2090);const xe=(Dt,bt)=>bt.some(Wt=>Dt instanceof Wt);let Ee,de;const Te=new WeakMap,be=new WeakMap,ze=new WeakMap,ve=new WeakMap,Ue=new WeakMap;let Me={get(Dt,bt,Wt){if(Dt instanceof IDBTransaction){if("done"===bt)return be.get(Dt);if("objectStoreNames"===bt)return Dt.objectStoreNames||ze.get(Dt);if("store"===bt)return Wt.objectStoreNames[1]?void 0:Wt.objectStore(Wt.objectStoreNames[0])}return Ge(Dt[bt])},set:(Dt,bt,Wt)=>(Dt[bt]=Wt,!0),has:(Dt,bt)=>Dt instanceof IDBTransaction&&("done"===bt||"store"===bt)||bt in Dt};function ot(Dt){return"function"==typeof Dt?function ft(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...bt){return Dt.apply(it(this),bt),Ge(Te.get(this))}:function(...bt){return Ge(Dt.apply(it(this),bt))}:function(bt,...Wt){const vn=Dt.call(it(this),bt,...Wt);return ze.set(vn,bt.sort?bt.sort():[bt]),Ge(vn)}}(Dt):(Dt instanceof IDBTransaction&&function It(Dt){if(be.has(Dt))return;const bt=new Promise((Wt,vn)=>{const Nn=()=>{Dt.removeEventListener("complete",ir),Dt.removeEventListener("error",nr),Dt.removeEventListener("abort",nr)},ir=()=>{Wt(),Nn()},nr=()=>{vn(Dt.error||new DOMException("AbortError","AbortError")),Nn()};Dt.addEventListener("complete",ir),Dt.addEventListener("error",nr),Dt.addEventListener("abort",nr)});be.set(Dt,bt)}(Dt),xe(Dt,function Ce(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,Me):Dt)}function Ge(Dt){if(Dt instanceof IDBRequest)return function Ze(Dt){const bt=new Promise((Wt,vn)=>{const Nn=()=>{Dt.removeEventListener("success",ir),Dt.removeEventListener("error",nr)},ir=()=>{Wt(Ge(Dt.result)),Nn()},nr=()=>{vn(Dt.error),Nn()};Dt.addEventListener("success",ir),Dt.addEventListener("error",nr)});return bt.then(Wt=>{Wt instanceof IDBCursor&&Te.set(Wt,Dt)}).catch(()=>{}),Ue.set(bt,Dt),bt}(Dt);if(ve.has(Dt))return ve.get(Dt);const bt=ot(Dt);return bt!==Dt&&(ve.set(Dt,bt),Ue.set(bt,Dt)),bt}const it=Dt=>Ue.get(Dt),Ye=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],St=new Map;function nt(Dt,bt){if(!(Dt instanceof IDBDatabase)||bt in Dt||"string"!=typeof bt)return;if(St.get(bt))return St.get(bt);const Wt=bt.replace(/FromIndex$/,""),vn=bt!==Wt,Nn=Oe.includes(Wt);if(!(Wt in(vn?IDBIndex:IDBObjectStore).prototype)||!Nn&&!Ye.includes(Wt))return;const ir=function(){var nr=(0,y.Z)(function*(Zr,...Ar){const dr=this.transaction(Zr,Nn?"readwrite":"readonly");let Qn=dr.store;return vn&&(Qn=Qn.index(Ar.shift())),(yield Promise.all([Qn[Wt](...Ar),Nn&&dr.done]))[0]});return function(Ar){return nr.apply(this,arguments)}}();return St.set(bt,ir),ir}!function we(Dt){Me=Dt(Me)}(Dt=>({...Dt,get:(bt,Wt,vn)=>nt(bt,Wt)||Dt.get(bt,Wt,vn),has:(bt,Wt)=>!!nt(bt,Wt)||Dt.has(bt,Wt)}));class mt{constructor(bt){this.container=bt}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function vt(Dt){const bt=Dt.getComponent();return"VERSION"===(null==bt?void 0:bt.type)}(Wt)){const vn=Wt.getImmediate();return`${vn.library}/${vn.version}`}return null}).filter(Wt=>Wt).join(" ")}}const ce="@firebase/app",He=new se.Yd("@firebase/app"),zn="[DEFAULT]",tr={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fr=new Map,Cn=new Map;function En(Dt,bt){try{Dt.container.addComponent(bt)}catch(Wt){He.debug(`Component ${bt.name} failed to register with FirebaseApp ${Dt.name}`,Wt)}}function xn(Dt,bt){Dt.container.addOrOverwriteComponent(bt)}function fr(Dt){const bt=Dt.name;if(Cn.has(bt))return He.debug(`There were multiple attempts to register component ${bt}.`),!1;Cn.set(bt,Dt);for(const Wt of Fr.values())En(Wt,Dt);return!0}function ur(Dt,bt){const Wt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Wt&&Wt.triggerHeartbeat(),Dt.container.getProvider(bt)}function cr(Dt,bt,Wt=zn){ur(Dt,bt).clearInstance(Wt)}function Rr(){Cn.clear()}const Wn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gn{constructor(bt,Wt,vn){this._isDeleted=!1,this._options=Object.assign({},bt),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=vn,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(bt){this._isDeleted=bt}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const ei="9.22.1";function Vn(Dt,bt={}){let Wt=Dt;"object"!=typeof bt&&(bt={name:bt});const vn=Object.assign({name:zn,automaticDataCollectionEnabled:!1},bt),Nn=vn.name;if("string"!=typeof Nn||!Nn)throw Wn.create("bad-app-name",{appName:String(Nn)});if(Wt||(Wt=(0,ge.aH)()),!Wt)throw Wn.create("no-options");const ir=Fr.get(Nn);if(ir){if((0,ge.vZ)(Wt,ir.options)&&(0,ge.vZ)(vn,ir.config))return ir;throw Wn.create("duplicate-app",{appName:Nn})}const nr=new g.H0(Nn);for(const Ar of Cn.values())nr.addComponent(Ar);const Zr=new gn(Wt,vn,nr);return Fr.set(Nn,Zr),Zr}function Ut(Dt=zn){const bt=Fr.get(Dt);if(!bt&&Dt===zn&&(0,ge.aH)())return Vn();if(!bt)throw Wn.create("no-app",{appName:Dt});return bt}function fe(){return Array.from(Fr.values())}function Ke(Dt){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(Dt){const bt=Dt.name;Fr.has(bt)&&(Fr.delete(bt),yield Promise.all(Dt.container.getProviders().map(Wt=>Wt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function ln(Dt,bt,Wt){var vn;let Nn=null!==(vn=tr[Dt])&&void 0!==vn?vn:Dt;Wt&&(Nn+=`-${Wt}`);const ir=Nn.match(/\s|\//),nr=bt.match(/\s|\//);if(ir||nr){const Zr=[`Unable to register library "${Nn}" with version "${bt}":`];return ir&&Zr.push(`library name "${Nn}" contains illegal characters (whitespace or "/")`),ir&&nr&&Zr.push("and"),nr&&Zr.push(`version name "${bt}" contains illegal characters (whitespace or "/")`),void He.warn(Zr.join(" "))}fr(new g.wA(`${Nn}-version`,()=>({library:Nn,version:bt}),"VERSION"))}function wn(Dt,bt){if(null!==Dt&&"function"!=typeof Dt)throw Wn.create("invalid-log-argument");(0,se.Am)(Dt,bt)}function pr(Dt){(0,se.Ub)(Dt)}const Xn="firebase-heartbeat-database",gr=1,et="firebase-heartbeat-store";let he=null;function W(){return he||(he=function gt(Dt,bt,{blocked:Wt,upgrade:vn,blocking:Nn,terminated:ir}={}){const nr=indexedDB.open(Dt,bt),Zr=Ge(nr);return vn&&nr.addEventListener("upgradeneeded",Ar=>{vn(Ge(nr.result),Ar.oldVersion,Ar.newVersion,Ge(nr.transaction),Ar)}),Wt&&nr.addEventListener("blocked",Ar=>Wt(Ar.oldVersion,Ar.newVersion,Ar)),Zr.then(Ar=>{ir&&Ar.addEventListener("close",()=>ir()),Nn&&Ar.addEventListener("versionchange",dr=>Nn(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),Zr}(Xn,gr,{upgrade:(Dt,bt)=>{0===bt&&Dt.createObjectStore(et)}}).catch(Dt=>{throw Wn.create("idb-open",{originalErrorMessage:Dt.message})})),he}function K(){return(K=(0,y.Z)(function*(Dt){try{return yield(yield W()).transaction(et).objectStore(et).get(Be(Dt))}catch(bt){if(bt instanceof ge.ZR)He.warn(bt.message);else{const Wt=Wn.create("idb-get",{originalErrorMessage:null==bt?void 0:bt.message});He.warn(Wt.message)}}})).apply(this,arguments)}function Fe(Dt,bt){return at.apply(this,arguments)}function at(){return(at=(0,y.Z)(function*(Dt,bt){try{const vn=(yield W()).transaction(et,"readwrite");yield vn.objectStore(et).put(bt,Be(Dt)),yield vn.done}catch(Wt){if(Wt instanceof ge.ZR)He.warn(Wt.message);else{const vn=Wn.create("idb-set",{originalErrorMessage:null==Wt?void 0:Wt.message});He.warn(vn.message)}}})).apply(this,arguments)}function Be(Dt){return`${Dt.name}!${Dt.options.appId}`}class Kt{constructor(bt){this.container=bt,this._heartbeatsCache=null;const Wt=this.container.getProvider("app").getImmediate();this._storage=new dn(Wt),this._heartbeatsCachePromise=this._storage.read().then(vn=>(this._heartbeatsCache=vn,vn))}triggerHeartbeat(){var bt=this;return(0,y.Z)(function*(){const vn=bt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nn=Ht();if(null===bt._heartbeatsCache&&(bt._heartbeatsCache=yield bt._heartbeatsCachePromise),bt._heartbeatsCache.lastSentHeartbeatDate!==Nn&&!bt._heartbeatsCache.heartbeats.some(ir=>ir.date===Nn))return bt._heartbeatsCache.heartbeats.push({date:Nn,agent:vn}),bt._heartbeatsCache.heartbeats=bt._heartbeatsCache.heartbeats.filter(ir=>{const nr=new Date(ir.date).valueOf();return Date.now()-nr<=2592e6}),bt._storage.overwrite(bt._heartbeatsCache)})()}getHeartbeatsHeader(){var bt=this;return(0,y.Z)(function*(){if(null===bt._heartbeatsCache&&(yield bt._heartbeatsCachePromise),null===bt._heartbeatsCache||0===bt._heartbeatsCache.heartbeats.length)return"";const Wt=Ht(),{heartbeatsToSend:vn,unsentEntries:Nn}=function sn(Dt,bt=1024){const Wt=[];let vn=Dt.slice();for(const Nn of Dt){const ir=Wt.find(nr=>nr.agent===Nn.agent);if(ir){if(ir.dates.push(Nn.date),Gn(Wt)>bt){ir.dates.pop();break}}else if(Wt.push({agent:Nn.agent,dates:[Nn.date]}),Gn(Wt)>bt){Wt.pop();break}vn=vn.slice(1)}return{heartbeatsToSend:Wt,unsentEntries:vn}}(bt._heartbeatsCache.heartbeats),ir=(0,ge.L)(JSON.stringify({version:2,heartbeats:vn}));return bt._heartbeatsCache.lastSentHeartbeatDate=Wt,Nn.length>0?(bt._heartbeatsCache.heartbeats=Nn,yield bt._storage.overwrite(bt._heartbeatsCache)):(bt._heartbeatsCache.heartbeats=[],bt._storage.overwrite(bt._heartbeatsCache)),ir})()}}function Ht(){return(new Date).toISOString().substring(0,10)}class dn{constructor(bt){this.app=bt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var bt=this;return(0,y.Z)(function*(){return(yield bt._canUseIndexedDBPromise)&&(yield function H(Dt){return K.apply(this,arguments)}(bt.app))||{heartbeats:[]}})()}overwrite(bt){var Wt=this;return(0,y.Z)(function*(){var vn;if(yield Wt._canUseIndexedDBPromise){const ir=yield Wt.read();return Fe(Wt.app,{lastSentHeartbeatDate:null!==(vn=bt.lastSentHeartbeatDate)&&void 0!==vn?vn:ir.lastSentHeartbeatDate,heartbeats:bt.heartbeats})}})()}add(bt){var Wt=this;return(0,y.Z)(function*(){var vn;if(yield Wt._canUseIndexedDBPromise){const ir=yield Wt.read();return Fe(Wt.app,{lastSentHeartbeatDate:null!==(vn=bt.lastSentHeartbeatDate)&&void 0!==vn?vn:ir.lastSentHeartbeatDate,heartbeats:[...ir.heartbeats,...bt.heartbeats]})}})()}}function Gn(Dt){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function Un(Dt){fr(new g.wA("platform-logger",bt=>new mt(bt),"PRIVATE")),fr(new g.wA("heartbeat",bt=>new Kt(bt),"PRIVATE")),ln(ce,"0.9.11",Dt),ln(ce,"0.9.11","esm2017"),ln("fire-js","")}("")},4859:(un,dt,L)=>{"use strict";L.d(dt,{H0:()=>Ce,wA:()=>se,zt:()=>xe});var y=L(5861),g=L(2090);class se{constructor(Te,be,ze){this.name=Te,this.instanceFactory=be,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const ge="[DEFAULT]";class xe{constructor(Te,be){this.name=Te,this.container=be,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const be=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(be)){const ze=new g.BH;if(this.instancesDeferred.set(be,ze),this.isInitialized(be)||this.shouldAutoInitialize())try{const ve=this.getOrInitializeService({instanceIdentifier:be});ve&&ze.resolve(ve)}catch{}}return this.instancesDeferred.get(be).promise}getImmediate(Te){var be;const ze=this.normalizeInstanceIdentifier(null==Te?void 0:Te.identifier),ve=null!==(be=null==Te?void 0:Te.optional)&&void 0!==be&&be;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(Ue){if(ve)return null;throw Ue}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function de(Ve){return"EAGER"===Ve.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[be,ze]of this.instancesDeferred.entries()){const ve=this.normalizeInstanceIdentifier(be);try{const Ue=this.getOrInitializeService({instanceIdentifier:ve});ze.resolve(Ue)}catch{}}}}clearInstance(Te=ge){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,y.Z)(function*(){const be=Array.from(Te.instances.values());yield Promise.all([...be.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...be.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=ge){return this.instances.has(Te)}getOptions(Te=ge){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:be={}}=Te,ze=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ve=this.getOrInitializeService({instanceIdentifier:ze,options:be});for(const[Ue,Ze]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(Ue)&&Ze.resolve(ve);return ve}onInit(Te,be){var ze;const ve=this.normalizeInstanceIdentifier(be),Ue=null!==(ze=this.onInitCallbacks.get(ve))&&void 0!==ze?ze:new Set;Ue.add(Te),this.onInitCallbacks.set(ve,Ue);const Ze=this.instances.get(ve);return Ze&&Te(Ze,ve),()=>{Ue.delete(Te)}}invokeOnInitCallbacks(Te,be){const ze=this.onInitCallbacks.get(be);if(ze)for(const ve of ze)try{ve(Te,be)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:be={}}){let ze=this.instances.get(Te);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=Te,Ve===ge?void 0:Ve),options:be}),this.instances.set(Te,ze),this.instancesOptions.set(Te,be),this.invokeOnInitCallbacks(ze,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,ze)}catch{}var Ve;return ze||null}normalizeInstanceIdentifier(Te=ge){return this.component?this.component.multipleInstances?Te:ge:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const be=this.getProvider(Te.name);if(be.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);be.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const be=new xe(Te,this);return this.providers.set(Te,be),be}getProviders(){return Array.from(this.providers.values())}}},4727:(un,dt,L)=>{"use strict";var y=L(5861),g=L(6881),se=L(4859),ge=L(2090);const xe=(z,ie)=>ie.some($e=>z instanceof $e);let Ee,de;const Te=new WeakMap,be=new WeakMap,ze=new WeakMap,ve=new WeakMap,Ue=new WeakMap;let Me={get(z,ie,$e){if(z instanceof IDBTransaction){if("done"===ie)return be.get(z);if("objectStoreNames"===ie)return z.objectStoreNames||ze.get(z);if("store"===ie)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Ge(z[ie])},set:(z,ie,$e)=>(z[ie]=$e,!0),has:(z,ie)=>z instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in z};function ot(z){return"function"==typeof z?function ft(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...ie){return z.apply(it(this),ie),Ge(Te.get(this))}:function(...ie){return Ge(z.apply(it(this),ie))}:function(ie,...$e){const Qe=z.call(it(this),ie,...$e);return ze.set(Qe,ie.sort?ie.sort():[ie]),Ge(Qe)}}(z):(z instanceof IDBTransaction&&function It(z){if(be.has(z))return;const ie=new Promise(($e,Qe)=>{const ht=()=>{z.removeEventListener("complete",xt),z.removeEventListener("error",an),z.removeEventListener("abort",an)},xt=()=>{$e(),ht()},an=()=>{Qe(z.error||new DOMException("AbortError","AbortError")),ht()};z.addEventListener("complete",xt),z.addEventListener("error",an),z.addEventListener("abort",an)});be.set(z,ie)}(z),xe(z,function Ce(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Me):z)}function Ge(z){if(z instanceof IDBRequest)return function Ze(z){const ie=new Promise(($e,Qe)=>{const ht=()=>{z.removeEventListener("success",xt),z.removeEventListener("error",an)},xt=()=>{$e(Ge(z.result)),ht()},an=()=>{Qe(z.error),ht()};z.addEventListener("success",xt),z.addEventListener("error",an)});return ie.then($e=>{$e instanceof IDBCursor&&Te.set($e,z)}).catch(()=>{}),Ue.set(ie,z),ie}(z);if(ve.has(z))return ve.get(z);const ie=ot(z);return ie!==z&&(ve.set(z,ie),Ue.set(ie,z)),ie}const it=z=>Ue.get(z),Ye=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],St=new Map;function nt(z,ie){if(!(z instanceof IDBDatabase)||ie in z||"string"!=typeof ie)return;if(St.get(ie))return St.get(ie);const $e=ie.replace(/FromIndex$/,""),Qe=ie!==$e,ht=Oe.includes($e);if(!($e in(Qe?IDBIndex:IDBObjectStore).prototype)||!ht&&!Ye.includes($e))return;const xt=function(){var an=(0,y.Z)(function*(fn,...Ln){const sr=this.transaction(fn,ht?"readwrite":"readonly");let Ei=sr.store;return Qe&&(Ei=Ei.index(Ln.shift())),(yield Promise.all([Ei[$e](...Ln),ht&&sr.done]))[0]});return function(Ln){return an.apply(this,arguments)}}();return St.set(ie,xt),xt}!function we(z){Me=z(Me)}(z=>({...z,get:(ie,$e,Qe)=>nt(ie,$e)||z.get(ie,$e,Qe),has:(ie,$e)=>!!nt(ie,$e)||z.has(ie,$e)}));const mt="@firebase/installations",vt="0.6.4",ce=1e4,De=`w:${vt}`,He="FIS_v2",We="https://firebaseinstallations.googleapis.com/v1",Ne=36e5,ct=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(z){return z instanceof ge.ZR&&z.code.includes("request-failed")}function Pt({projectId:z}){return`${We}/projects/${z}/installations`}function rn(z){return{token:z.token,requestStatus:2,expiresIn:_n(z.expiresIn),creationTime:Date.now()}}function At(z,ie){return tt.apply(this,arguments)}function tt(){return(tt=(0,y.Z)(function*(z,ie){const Qe=(yield ie.json()).error;return ct.create("request-failed",{requestName:z,serverCode:Qe.code,serverMessage:Qe.message,serverStatus:Qe.status})})).apply(this,arguments)}function kt({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function cn(z){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,y.Z)(function*(z){const ie=yield z();return ie.status>=500&&ie.status<600?z():ie})).apply(this,arguments)}function _n(z){return Number(z.replace("s","000"))}function Ft(){return(Ft=(0,y.Z)(function*({appConfig:z,heartbeatServiceProvider:ie},{fid:$e}){const Qe=Pt(z),ht=kt(z),xt=ie.getImmediate({optional:!0});if(xt){const sr=yield xt.getHeartbeatsHeader();sr&&ht.append("x-firebase-client",sr)}const fn={method:"POST",headers:ht,body:JSON.stringify({fid:$e,authVersion:He,appId:z.appId,sdkVersion:De})},Ln=yield cn(()=>fetch(Qe,fn));if(Ln.ok){const sr=yield Ln.json();return{fid:sr.fid||$e,registrationStatus:2,refreshToken:sr.refreshToken,authToken:rn(sr.authToken)}}throw yield At("Create Installation",Ln)})).apply(this,arguments)}function Kn(z){return new Promise(ie=>{setTimeout(ie,z)})}const yr=/^[cdef][\w-]{21}$/,Yt="";function Pr(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const $e=function er(z){return function hr(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return yr.test($e)?$e:Yt}catch{return Yt}}function zn(z){return`${z.appName}!${z.appId}`}const tr=new Map;function Fr(z,ie){const $e=zn(z);xn($e,ie),function fr(z,ie){const $e=function cr(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=z=>{xn(z.data.key,z.data.fid)}),ur}();$e&&$e.postMessage({key:z,fid:ie}),function Rr(){0===tr.size&&ur&&(ur.close(),ur=null)}()}($e,ie)}function xn(z,ie){const $e=tr.get(z);if($e)for(const Qe of $e)Qe(ie)}let ur=null;const Tr="firebase-installations-database",Wn=1,gn="firebase-installations-store";let ei=null;function Vn(){return ei||(ei=function gt(z,ie,{blocked:$e,upgrade:Qe,blocking:ht,terminated:xt}={}){const an=indexedDB.open(z,ie),fn=Ge(an);return Qe&&an.addEventListener("upgradeneeded",Ln=>{Qe(Ge(an.result),Ln.oldVersion,Ln.newVersion,Ge(an.transaction))}),$e&&an.addEventListener("blocked",()=>$e()),fn.then(Ln=>{xt&&Ln.addEventListener("close",()=>xt()),ht&&Ln.addEventListener("versionchange",()=>ht())}).catch(()=>{}),fn}(Tr,Wn,{upgrade:(z,ie)=>{0===ie&&z.createObjectStore(gn)}})),ei}function Ut(z,ie){return fe.apply(this,arguments)}function fe(){return(fe=(0,y.Z)(function*(z,ie){const $e=zn(z),ht=(yield Vn()).transaction(gn,"readwrite"),xt=ht.objectStore(gn),an=yield xt.get($e);return yield xt.put(ie,$e),yield ht.done,(!an||an.fid!==ie.fid)&&Fr(z,ie.fid),ie})).apply(this,arguments)}function Ke(z){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(z){const ie=zn(z),Qe=(yield Vn()).transaction(gn,"readwrite");yield Qe.objectStore(gn).delete(ie),yield Qe.done})).apply(this,arguments)}function ln(z,ie){return wn.apply(this,arguments)}function wn(){return(wn=(0,y.Z)(function*(z,ie){const $e=zn(z),ht=(yield Vn()).transaction(gn,"readwrite"),xt=ht.objectStore(gn),an=yield xt.get($e),fn=ie(an);return void 0===fn?yield xt.delete($e):yield xt.put(fn,$e),yield ht.done,fn&&(!an||an.fid!==fn.fid)&&Fr(z,fn.fid),fn})).apply(this,arguments)}function pr(z){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,y.Z)(function*(z){let ie;const $e=yield ln(z.appConfig,Qe=>{const ht=function gr(z){return at(z||{fid:Pr(),registrationStatus:0})}(Qe),xt=function et(z,ie){if(0===ie.registrationStatus){if(!navigator.onLine)return{installationEntry:ie,registrationPromise:Promise.reject(ct.create("app-offline"))};const $e={fid:ie.fid,registrationStatus:1,registrationTime:Date.now()},Qe=function he(z,ie){return W.apply(this,arguments)}(z,$e);return{installationEntry:$e,registrationPromise:Qe}}return 1===ie.registrationStatus?{installationEntry:ie,registrationPromise:H(z)}:{installationEntry:ie}}(z,ht);return ie=xt.registrationPromise,xt.installationEntry});return $e.fid===Yt?{installationEntry:yield ie}:{installationEntry:$e,registrationPromise:ie}}),Xn.apply(this,arguments)}function W(){return W=(0,y.Z)(function*(z,ie){try{const $e=yield function In(z,ie){return Ft.apply(this,arguments)}(z,ie);return Ut(z.appConfig,$e)}catch($e){throw Tt($e)&&409===$e.customData.serverCode?yield Ke(z.appConfig):yield Ut(z.appConfig,{fid:ie.fid,registrationStatus:0}),$e}}),W.apply(this,arguments)}function H(z){return K.apply(this,arguments)}function K(){return(K=(0,y.Z)(function*(z){let ie=yield Fe(z.appConfig);for(;1===ie.registrationStatus;)yield Kn(100),ie=yield Fe(z.appConfig);if(0===ie.registrationStatus){const{installationEntry:$e,registrationPromise:Qe}=yield pr(z);return Qe||$e}return ie})).apply(this,arguments)}function Fe(z){return ln(z,ie=>{if(!ie)throw ct.create("installation-not-found");return at(ie)})}function at(z){return function Be(z){return 1===z.registrationStatus&&z.registrationTime+ce<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function Ct(){return(Ct=(0,y.Z)(function*({appConfig:z,heartbeatServiceProvider:ie},$e){const Qe=function Kt(z,{fid:ie}){return`${Pt(z)}/${ie}/authTokens:generate`}(z,$e),ht=function Jt(z,{refreshToken:ie}){const $e=kt(z);return $e.append("Authorization",function Nt(z){return`${He} ${z}`}(ie)),$e}(z,$e),xt=ie.getImmediate({optional:!0});if(xt){const sr=yield xt.getHeartbeatsHeader();sr&&ht.append("x-firebase-client",sr)}const fn={method:"POST",headers:ht,body:JSON.stringify({installation:{sdkVersion:De,appId:z.appId}})},Ln=yield cn(()=>fetch(Qe,fn));if(Ln.ok)return rn(yield Ln.json());throw yield At("Generate Auth Token",Ln)})).apply(this,arguments)}function Ht(z){return sn.apply(this,arguments)}function sn(){return sn=(0,y.Z)(function*(z,ie=!1){let $e;const Qe=yield ln(z.appConfig,xt=>{if(!Wt(xt))throw ct.create("not-registered");const an=xt.authToken;if(!ie&&function vn(z){return 2===z.requestStatus&&!function Nn(z){const ie=Date.now();return ie<z.creationTime||z.creationTime+z.expiresIn<ie+Ne}(z)}(an))return xt;if(1===an.requestStatus)return $e=function dn(z,ie){return Gn.apply(this,arguments)}(z,ie),xt;{if(!navigator.onLine)throw ct.create("app-offline");const fn=function ir(z){const ie={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:ie})}(xt);return $e=function Dt(z,ie){return bt.apply(this,arguments)}(z,fn),fn}});return $e?yield $e:Qe.authToken}),sn.apply(this,arguments)}function Gn(){return(Gn=(0,y.Z)(function*(z,ie){let $e=yield Un(z.appConfig);for(;1===$e.authToken.requestStatus;)yield Kn(100),$e=yield Un(z.appConfig);const Qe=$e.authToken;return 0===Qe.requestStatus?Ht(z,ie):Qe})).apply(this,arguments)}function Un(z){return ln(z,ie=>{if(!Wt(ie))throw ct.create("not-registered");return function nr(z){return 1===z.requestStatus&&z.requestTime+ce<Date.now()}(ie.authToken)?Object.assign(Object.assign({},ie),{authToken:{requestStatus:0}}):ie})}function bt(){return bt=(0,y.Z)(function*(z,ie){try{const $e=yield function pt(z,ie){return Ct.apply(this,arguments)}(z,ie),Qe=Object.assign(Object.assign({},ie),{authToken:$e});return yield Ut(z.appConfig,Qe),$e}catch($e){if(!Tt($e)||401!==$e.customData.serverCode&&404!==$e.customData.serverCode){const Qe=Object.assign(Object.assign({},ie),{authToken:{requestStatus:0}});yield Ut(z.appConfig,Qe)}else yield Ke(z.appConfig);throw $e}}),bt.apply(this,arguments)}function Wt(z){return void 0!==z&&2===z.registrationStatus}function Ar(){return(Ar=(0,y.Z)(function*(z){const ie=z,{installationEntry:$e,registrationPromise:Qe}=yield pr(ie);return Qe?Qe.catch(console.error):Ht(ie).catch(console.error),$e.fid})).apply(this,arguments)}function Qn(){return Qn=(0,y.Z)(function*(z,ie=!1){const $e=z;return yield function vi(z){return _i.apply(this,arguments)}($e),(yield Ht($e,ie)).token}),Qn.apply(this,arguments)}function _i(){return(_i=(0,y.Z)(function*(z){const{registrationPromise:ie}=yield pr(z);ie&&(yield ie)})).apply(this,arguments)}function os(z){return ct.create("missing-app-config-values",{valueName:z})}const Ms="installations",X=z=>{const ie=z.getProvider("app").getImmediate(),$e=function Yi(z){if(!z||!z.options)throw os("App Configuration");if(!z.name)throw os("App Name");const ie=["projectId","apiKey","appId"];for(const $e of ie)if(!z.options[$e])throw os($e);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(ie);return{app:ie,appConfig:$e,heartbeatServiceProvider:(0,g._getProvider)(ie,"heartbeat"),_delete:()=>Promise.resolve()}},_e=z=>{const ie=z.getProvider("app").getImmediate(),$e=(0,g._getProvider)(ie,Ms).getImmediate();return{getId:()=>function Zr(z){return Ar.apply(this,arguments)}($e),getToken:ht=>function dr(z){return Qn.apply(this,arguments)}($e,ht)}};(function ae(){(0,g._registerComponent)(new se.wA(Ms,X,"PUBLIC")),(0,g._registerComponent)(new se.wA("installations-internal",_e,"PRIVATE"))})(),(0,g.registerVersion)(mt,vt),(0,g.registerVersion)(mt,vt,"esm2017")},1877:(un,dt,L)=>{"use strict";L.d(dt,{Am:()=>Ve,Ub:()=>Ce,Yd:()=>de,in:()=>g});const y=[];var g=(()=>((g=g||{})[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT",g))();const se={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},ge=g.INFO,xe={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},Ee=(Te,be,...ze)=>{if(be<Te.logLevel)return;const ve=(new Date).toISOString(),Ue=xe[be];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${be})`);console[Ue](`[${ve}]  ${Te.name}:`,...ze)};class de{constructor(be){this.name=be,this._logLevel=ge,this._logHandler=Ee,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(be){if(!(be in g))throw new TypeError(`Invalid value "${be}" assigned to \`logLevel\``);this._logLevel=be}setLogLevel(be){this._logLevel="string"==typeof be?se[be]:be}get logHandler(){return this._logHandler}set logHandler(be){if("function"!=typeof be)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=be}get userLogHandler(){return this._userLogHandler}set userLogHandler(be){this._userLogHandler=be}debug(...be){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...be),this._logHandler(this,g.DEBUG,...be)}log(...be){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...be),this._logHandler(this,g.VERBOSE,...be)}info(...be){this._userLogHandler&&this._userLogHandler(this,g.INFO,...be),this._logHandler(this,g.INFO,...be)}warn(...be){this._userLogHandler&&this._userLogHandler(this,g.WARN,...be),this._logHandler(this,g.WARN,...be)}error(...be){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...be),this._logHandler(this,g.ERROR,...be)}}function Ce(Te){y.forEach(be=>{be.setLogLevel(Te)})}function Ve(Te,be){for(const ze of y){let ve=null;be&&be.level&&(ve=se[be.level]),ze.userLogHandler=null===Te?null:(Ue,Ze,...It)=>{const Me=It.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch{return null}}).filter(we=>we).join(" ");Ze>=(null!=ve?ve:Ue.logLevel)&&Te({level:g[Ze].toLowerCase(),message:Me,args:It,type:Ue.name})}}}},9972:(un,dt,L)=>{"use strict";L.d(dt,{Br:()=>us,dr:()=>Pr,BJ:()=>er,YG:()=>xn,Sm:()=>fr,hM:()=>ei,wI:()=>Vn,W2:()=>Ut,IJ:()=>Mt,W4:()=>ln,Gu:()=>gr,gu:()=>et,Xz:()=>he,pK:()=>K,Ie:()=>Fe,Q$:()=>Ht,q_:()=>sn,fG:()=>Dt,jP:()=>Oi,Nd:()=>es,PQ:()=>Ms,yW:()=>ae,wd:()=>$e,sr:()=>xt,Pc:()=>xo,r4:()=>ri,IN:()=>Ss,SH:()=>Pi,t4:()=>sr,j9:()=>cn});var y=L(5861),g=L(2223),se=L(5030),ge=L(655),xe=L(4968),Ee=L(7579),de=L(1135),Ce=L(96),ve=(L(9613),L(3551),L(1138),L(1898),L(5273)),Ue=L(3577),Ze=L(3982),It=L(9866),we=(L(8126),L(2583)),Ge=(L(3457),L(4349),L(4083)),gt=L(9300),_t=L(3900),Ye=L(1884),Oe=L(4755);const nt=ve.i,ce=["*"],je=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S);let ne=(()=>{class S{constructor(T,Z){this.injector=T,this.el=Z,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(T){this.el.nativeElement.value=this.lastValue=T,ct(this.el)}handleValueChange(T,Z){T===this.el.nativeElement&&(Z!==this.lastValue&&(this.lastValue=Z,this.onChange(Z)),ct(this.el))}_handleBlurEvent(T){T===this.el.nativeElement&&(this.onTouched(),ct(this.el))}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.el.nativeElement.disabled=T}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let T;try{T=this.injector.get(se.a5)}catch{}if(!T)return;T.statusChanges&&(this.statusChanges=T.statusChanges.subscribe(()=>ct(this.el)));const Z=T.control;Z&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(qt=>{if(typeof Z[qt]<"u"){const Bn=Z[qt].bind(Z);Z[qt]=(...rr)=>{Bn(...rr),ct(this.el)}}})}}return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.zs3),g.Y36(g.SBq))},S.\u0275dir=g.lG2({type:S,hostBindings:function(T,Z){1&T&&g.NdJ("ionBlur",function(qt){return Z._handleBlurEvent(qt.target)})}}),S})();const ct=S=>{je(()=>{const te=S.nativeElement,T=null!=te.value&&te.value.toString().length>0,Z=Tt(te);Pt(te,Z);const Pe=te.closest("ion-item");Pe&&Pt(Pe,T?[...Z,"item-has-value"]:Z)})},Tt=S=>{const te=S.classList,T=[];for(let Z=0;Z<te.length;Z++){const Pe=te.item(Z);null!==Pe&&rn(Pe,"ng-")&&T.push(`ion-${Pe.substring(3)}`)}return T},Pt=(S,te)=>{const T=S.classList;T.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),T.add(...te)},rn=(S,te)=>S.substring(0,te.length)===te;let cn=(()=>{class S extends ne{constructor(T,Z){super(T,Z)}_handleInputEvent(T){this.handleValueChange(T,T.value)}}return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.zs3),g.Y36(g.SBq))},S.\u0275dir=g.lG2({type:S,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(T,Z){1&T&&g.NdJ("ionInput",function(qt){return Z._handleInputEvent(qt.target)})},features:[g._Bn([{provide:se.JU,useExisting:S,multi:!0}]),g.qOj]}),S})();const Mn=(S,te)=>{const T=S.prototype;te.forEach(Z=>{Object.defineProperty(T,Z,{get(){return this.el[Z]},set(Pe){this.z.runOutsideAngular(()=>this.el[Z]=Pe)}})})},_n=(S,te)=>{const T=S.prototype;te.forEach(Z=>{T[Z]=function(){const Pe=arguments;return this.z.runOutsideAngular(()=>this.el[Z].apply(this.el,Pe))}})},Nt=(S,te,T)=>{T.forEach(Z=>S[Z]=(0,xe.R)(te,Z))};function Ft(S){return function(T){const{defineCustomElementFn:Z,inputs:Pe,methods:qt}=S;return void 0!==Z&&Z(),Pe&&Mn(T,Pe),qt&&_n(T,qt),T}}let Pr=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-app"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({})],S),S})(),er=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-avatar"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({})],S),S})(),xn=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],S),S})(),fr=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["collapse"]})],S),S})(),ei=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","disabled","mode","outline"]})],S),S})(),Vn=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],S),S})(),Ut=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement,Nt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],S),S})(),Mt=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],S),S})(),ln=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement,Nt(this,this.el,["ionFocus","ionBlur"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],S),S})(),gr=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["collapse","mode","translucent"]})],S),S})(),et=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],S),S})(),he=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement,Nt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["alt","src"]})],S),S})(),K=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement,Nt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],S),S})(),Fe=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],S),S})(),Ht=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","mode","position"]})],S),S})(),sn=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],S),S})(),Dt=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["autoHide","color","disabled","menu","mode","type"]})],S),S})(),es=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-row"]],ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({})],S),S})(),Ms=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","duration","name","paused"]})],S),S})(),ae=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","mode"]})],S),S})(),$e=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","size"]})],S),S})(),xt=(()=>{let S=class{constructor(T,Z,Pe){this.z=Pe,T.detach(),this.el=Z.nativeElement}};return S.\u0275fac=function(T){return new(T||S)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},S.\u0275cmp=g.Xpm({type:S,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ce,decls:1,vars:0,template:function(T,Z){1&T&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),S=(0,ge.gn)([Ft({inputs:["color","mode"]})],S),S})(),an=(()=>{class S{get(T,Z){const Pe=Ln();return Pe?Pe.get(T,Z):null}getBoolean(T,Z){const Pe=Ln();return!!Pe&&Pe.getBoolean(T,Z)}getNumber(T,Z){const Pe=Ln();return Pe?Pe.getNumber(T,Z):0}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const fn=new g.OlP("USERCONFIG"),Ln=()=>{if(typeof window<"u"){const S=window.Ionic;if(null!=S&&S.config)return S.config}return null};let sr=(()=>{class S{constructor(T,Z){this.doc=T,this.backButton=new Ee.x,this.keyboardDidShow=new Ee.x,this.keyboardDidHide=new Ee.x,this.pause=new Ee.x,this.resume=new Ee.x,this.resize=new Ee.x,Z.run(()=>{var Pe;let qt;this.win=T.defaultView,this.backButton.subscribeWithPriority=function(Bn,rr){return this.subscribe(Dr=>Dr.register(Bn,Br=>Z.run(()=>rr(Br))))},Ti(this.pause,T,"pause"),Ti(this.resume,T,"resume"),Ti(this.backButton,T,"ionBackButton"),Ti(this.resize,this.win,"resize"),Ti(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ti(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Bn=>{qt=Bn}),null!==(Pe=this.win)&&void 0!==Pe&&Pe.cordova?T.addEventListener("deviceready",()=>{qt("cordova")},{once:!0}):qt("dom")})}is(T){return(0,ve.a)(this.win,T)}platforms(){return(0,ve.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(T){return Ei(this.win.location.href,T)}isLandscape(){return!this.isPortrait()}isPortrait(){var T,Z;return null===(T=(Z=this.win).matchMedia)||void 0===T?void 0:T.call(Z,"(orientation: portrait)").matches}testUserAgent(T){const Z=this.win.navigator;return!!(null!=Z&&Z.userAgent&&Z.userAgent.indexOf(T)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return S.\u0275fac=function(T){return new(T||S)(g.LFG(Oe.K0),g.LFG(g.R0b))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ei=(S,te)=>{te=te.replace(/[[\]\\]/g,"\\$&");const Z=new RegExp("[\\?&]"+te+"=([^&#]*)").exec(S);return Z?decodeURIComponent(Z[1].replace(/\+/g," ")):null},Ti=(S,te,T)=>{te&&te.addEventListener(T,Z=>{S.next(null!=Z?Z.detail:void 0)})};let Pi=(()=>{class S{constructor(T,Z,Pe,qt){this.location=Z,this.serializer=Pe,this.router=qt,this.direction=bn,this.animated=Ir,this.guessDirection="forward",this.lastNavId=-1,qt&&qt.events.subscribe(Bn=>{if(Bn instanceof Ce.OD){const rr=Bn.restoredState?Bn.restoredState.navigationId:Bn.id;this.guessDirection=rr<this.lastNavId?"back":"forward",this.guessAnimation=Bn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Bn.id:rr}}),T.backButton.subscribeWithPriority(0,Bn=>{this.pop(),Bn()})}navigateForward(T,Z={}){return this.setDirection("forward",Z.animated,Z.animationDirection,Z.animation),this.navigate(T,Z)}navigateBack(T,Z={}){return this.setDirection("back",Z.animated,Z.animationDirection,Z.animation),this.navigate(T,Z)}navigateRoot(T,Z={}){return this.setDirection("root",Z.animated,Z.animationDirection,Z.animation),this.navigate(T,Z)}back(T={animated:!0,animationDirection:"back"}){return this.setDirection("back",T.animated,T.animationDirection,T.animation),this.location.back()}pop(){var T=this;return(0,y.Z)(function*(){let Z=T.topOutlet;for(;Z&&!(yield Z.pop());)Z=Z.parentOutlet})()}setDirection(T,Z,Pe,qt){this.direction=T,this.animated=Hr(T,Z,Pe),this.animationBuilder=qt}setTopOutlet(T){this.topOutlet=T}consumeTransition(){let Z,T="root";const Pe=this.animationBuilder;return"auto"===this.direction?(T=this.guessDirection,Z=this.guessAnimation):(Z=this.animated,T=this.direction),this.direction=bn,this.animated=Ir,this.animationBuilder=void 0,{direction:T,animation:Z,animationBuilder:Pe}}navigate(T,Z){if(Array.isArray(T))return this.router.navigate(T,Z);{const Pe=this.serializer.parse(T.toString());return void 0!==Z.queryParams&&(Pe.queryParams={...Z.queryParams}),void 0!==Z.fragment&&(Pe.fragment=Z.fragment),this.router.navigateByUrl(Pe,Z)}}}return S.\u0275fac=function(T){return new(T||S)(g.LFG(sr),g.LFG(Oe.Ye),g.LFG(Ce.Hx),g.LFG(Ce.F0,8))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Hr=(S,te,T)=>{if(!1!==te){if(void 0!==T)return T;if("forward"===S||"back"===S)return S;if("root"===S&&!0===te)return"forward"}},bn="auto",Ir=void 0;class Wr{constructor(te={}){this.data=te}get(te){return this.data[te]}}let Li=(()=>{class S{constructor(){this.zone=(0,g.f3M)(g.R0b),this.applicationRef=(0,g.f3M)(g.z2F)}create(T,Z,Pe){return new $s(T,Z,this.applicationRef,this.zone,Pe)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})();class $s{constructor(te,T,Z,Pe,qt){this.environmentInjector=te,this.injector=T,this.applicationRef=Z,this.zone=Pe,this.elementReferenceKey=qt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(te,T,Z,Pe){return this.zone.run(()=>new Promise(qt=>{const Bn={...Z};void 0!==this.elementReferenceKey&&(Bn[this.elementReferenceKey]=te),qt(hi(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,te,T,Bn,Pe))}))}removeViewFromDom(te,T){return this.zone.run(()=>new Promise(Z=>{const Pe=this.elRefMap.get(T);if(Pe){Pe.destroy(),this.elRefMap.delete(T);const qt=this.elEventsMap.get(T);qt&&(qt(),this.elEventsMap.delete(T))}Z()}))}}const hi=(S,te,T,Z,Pe,qt,Bn,rr,Dr,Br)=>{const ns=g.zs3.create({providers:as(Dr),parent:T}),jr=(0,g.LMc)(rr,{environmentInjector:te,elementInjector:ns}),ds=jr.instance,ws=jr.location.nativeElement;if(Dr&&Object.assign(ds,Dr),Br)for(const lo of Br)ws.classList.add(lo);const Xs=Ur(S,ds,ws);return Bn.appendChild(ws),Z.attachView(jr.hostView),Pe.set(ws,jr),qt.set(ws,Xs),ws},Zi=[It.L,It.a,It.b,It.c,It.d],Ur=(S,te,T)=>S.run(()=>{const Z=Zi.filter(Pe=>"function"==typeof te[Pe]).map(Pe=>{const qt=Bn=>te[Pe](Bn.detail);return T.addEventListener(Pe,qt),()=>T.removeEventListener(Pe,qt)});return()=>Z.forEach(Pe=>Pe())}),Qi=new g.OlP("NavParamsToken"),as=S=>[{provide:Qi,useValue:S},{provide:Wr,useFactory:on,deps:[Qi]}],on=S=>new Wr(S),mr=(S,te)=>((S=S.filter(T=>T.stackId!==te.stackId)).push(te),S),ls=(S,te)=>{const T=S.createUrlTree(["."],{relativeTo:te});return S.serializeUrl(T)},ts=(S,te)=>{if(!S)return;const T=Us(te);for(let Z=0;Z<T.length;Z++){if(Z>=S.length)return T[Z];if(T[Z]!==S[Z])return}},Us=S=>S.split("/").map(te=>te.trim()).filter(te=>""!==te),ti=S=>{S&&(S.ref.destroy(),S.unlistenEvents())};class or{constructor(te,T,Z,Pe,qt,Bn){this.containerEl=T,this.router=Z,this.navCtrl=Pe,this.zone=qt,this.location=Bn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==te?Us(te):void 0}createView(te,T){var Z;const Pe=ls(this.router,T),qt=null==te||null===(Z=te.location)||void 0===Z?void 0:Z.nativeElement,Bn=Ur(this.zone,te.instance,qt);return{id:this.nextId++,stackId:ts(this.tabsPrefix,Pe),unlistenEvents:Bn,element:qt,ref:te,url:Pe}}getExistingView(te){const T=ls(this.router,te),Z=this.views.find(Pe=>Pe.url===T);return Z&&Z.ref.changeDetectorRef.reattach(),Z}setActive(te){var T,Z,Pe;const qt=this.navCtrl.consumeTransition();let{direction:Bn,animation:rr,animationBuilder:Dr}=qt;const Br=this.activeView,ns=((S,te)=>!te||S.stackId!==te.stackId)(te,Br);ns&&(Bn="back",rr=void 0);const jr=this.views.slice();let ds;const ws=this.router;ws.getCurrentNavigation?ds=ws.getCurrentNavigation():null!==(T=ws.navigations)&&void 0!==T&&T.value&&(ds=ws.navigations.value),null!==(Z=ds)&&void 0!==Z&&null!==(Pe=Z.extras)&&void 0!==Pe&&Pe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Xs=this.views.includes(te),lo=this.insertView(te,Bn);Xs||te.ref.changeDetectorRef.detectChanges();const Y=te.animationBuilder;return void 0===Dr&&"back"===Bn&&!ns&&void 0!==Y&&(Dr=Y),Br&&(Br.animationBuilder=Dr),this.zone.runOutsideAngular(()=>this.wait(()=>(Br&&Br.ref.changeDetectorRef.detach(),te.ref.changeDetectorRef.reattach(),this.transition(te,Br,rr,this.canGoBack(1),!1,Dr).then(()=>ni(te,lo,jr,this.location,this.zone)).then(()=>({enteringView:te,direction:Bn,animation:rr,tabSwitch:ns})))))}canGoBack(te,T=this.getActiveStackId()){return this.getStack(T).length>te}pop(te,T=this.getActiveStackId()){return this.zone.run(()=>{const Z=this.getStack(T);if(Z.length<=te)return Promise.resolve(!1);const Pe=Z[Z.length-te-1];let qt=Pe.url;const Bn=Pe.savedData;if(Bn){var rr,Dr;const ns=Bn.get("primary");null!=ns&&null!==(rr=ns.route)&&void 0!==rr&&null!==(Dr=rr._routerState)&&void 0!==Dr&&Dr.snapshot.url&&(qt=ns.route._routerState.snapshot.url)}const{animationBuilder:Br}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(qt,{...Pe.savedExtras,animation:Br}).then(()=>!0)})}startBackTransition(){const te=this.activeView;if(te){const T=this.getStack(te.stackId),Z=T[T.length-2],Pe=Z.animationBuilder;return this.wait(()=>this.transition(Z,te,"back",this.canGoBack(2),!0,Pe))}return Promise.resolve()}endBackTransition(te){te?(this.skipTransition=!0,this.pop(1)):this.activeView&&vo(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(te){const T=this.getStack(te);return T.length>0?T[T.length-1]:void 0}getRootUrl(te){const T=this.getStack(te);return T.length>0?T[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ti),this.activeView=void 0,this.views=[]}getStack(te){return this.views.filter(T=>T.stackId===te)}insertView(te,T){return this.activeView=te,this.views=((S,te,T)=>"root"===T?mr(S,te):"forward"===T?((S,te)=>(S.indexOf(te)>=0?S=S.filter(Z=>Z.stackId!==te.stackId||Z.id<=te.id):S.push(te),S))(S,te):((S,te)=>S.indexOf(te)>=0?S.filter(Z=>Z.stackId!==te.stackId||Z.id<=te.id):mr(S,te))(S,te))(this.views,te,T),this.views.slice()}transition(te,T,Z,Pe,qt,Bn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(T===te)return Promise.resolve(!1);const rr=te?te.element:void 0,Dr=T?T.element:void 0,Br=this.containerEl;return rr&&rr!==Dr&&(rr.classList.add("ion-page"),rr.classList.add("ion-page-invisible"),rr.parentElement!==Br&&Br.appendChild(rr),Br.commit)?Br.commit(rr,Dr,{duration:void 0===Z?0:void 0,direction:Z,showGoBack:Pe,progressAnimation:qt,animationBuilder:Bn}):Promise.resolve(!1)}wait(te){var T=this;return(0,y.Z)(function*(){void 0!==T.runningTask&&(yield T.runningTask,T.runningTask=void 0);const Z=T.runningTask=te();return Z.finally(()=>T.runningTask=void 0),Z})()}}const ni=(S,te,T,Z,Pe)=>"function"==typeof requestAnimationFrame?new Promise(qt=>{requestAnimationFrame(()=>{vo(S,te,T,Z,Pe),qt()})}):Promise.resolve(),vo=(S,te,T,Z,Pe)=>{Pe.run(()=>T.filter(qt=>!te.includes(qt)).forEach(ti)),te.forEach(qt=>{const rr=Z.path().split("?")[0].split("#")[0];if(qt!==S&&qt.url!==rr){const Dr=qt.element;Dr.setAttribute("aria-hidden","true"),Dr.classList.add("ion-page-hidden"),qt.ref.changeDetectorRef.detach()}})};let Oi=(()=>{class S{constructor(T,Z,Pe,qt,Bn,rr,Dr,Br){this.parentOutlet=Br,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new de.X(null),this.stackEvents=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Ce.y6),this.location=(0,g.f3M)(g.s_b),this.environmentInjector=(0,g.f3M)(g.lqb),this.config=(0,g.f3M)(an),this.navCtrl=(0,g.f3M)(Pi),this.nativeEl=qt.nativeElement,this.name=T||Ce.eC,this.tabsPrefix="true"===Z?ls(Bn,Dr):void 0,this.stackCtrl=new or(this.tabsPrefix,this.nativeEl,Bn,this.navCtrl,rr,Pe),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(T){this.nativeEl.animation=T}set animated(T){this.nativeEl.animated=T}set swipeGesture(T){this._swipeGesture=T,this.nativeEl.swipeHandler=T?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Z=>this.stackCtrl.endBackTransition(Z)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const T=this.getContext();null!=T&&T.route&&this.activateWith(T.route,T.injector)}new Promise(T=>(0,Ue.c)(this.nativeEl,T)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(T,Z){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Z=this.getContext();this.activatedView.savedData=new Map(Z.children.contexts);const Pe=this.activatedView.savedData.get("primary");if(Pe&&Z.route&&(Pe.route={...Z.route}),this.activatedView.savedExtras={},Z.route){const qt=Z.route.snapshot;this.activatedView.savedExtras.queryParams=qt.queryParams,this.activatedView.savedExtras.fragment=qt.fragment}}const T=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,Z){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;let Pe,qt=this.stackCtrl.getExistingView(T);if(qt){Pe=this.activated=qt.ref;const rr=qt.savedData;rr&&(this.getContext().children.contexts=rr),this.updateActivatedRouteProxy(Pe.instance,T)}else{var Bn;const rr=T._futureSnapshot,Dr=this.parentContexts.getOrCreateContext(this.name).children,Br=new de.X(null),ns=this.createActivatedRouteProxy(Br,T),jr=new _r(ns,Dr,this.location.injector),ds=null!==(Bn=rr.routeConfig.component)&&void 0!==Bn?Bn:rr.component;Pe=this.activated=this.location.createComponent(ds,{index:this.location.length,injector:jr,environmentInjector:null!=Z?Z:this.environmentInjector}),Br.next(Pe.instance),qt=this.stackCtrl.createView(this.activated,T),this.proxyMap.set(Pe.instance,ns),this.currentActivatedRoute$.next({component:Pe.instance,activatedRoute:T})}this.activatedView=qt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(qt).then(rr=>{this.activateEvents.emit(Pe.instance),this.stackEvents.emit(rr)})}canGoBack(T=1,Z){return this.stackCtrl.canGoBack(T,Z)}pop(T=1,Z){return this.stackCtrl.pop(T,Z)}getLastUrl(T){const Z=this.stackCtrl.getLastUrl(T);return Z?Z.url:void 0}getLastRouteView(T){return this.stackCtrl.getLastUrl(T)}getRootView(T){return this.stackCtrl.getRootUrl(T)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(T,Z){const Pe=new Ce.gz;return Pe._futureSnapshot=Z._futureSnapshot,Pe._routerState=Z._routerState,Pe.snapshot=Z.snapshot,Pe.outlet=Z.outlet,Pe.component=Z.component,Pe._paramMap=this.proxyObservable(T,"paramMap"),Pe._queryParamMap=this.proxyObservable(T,"queryParamMap"),Pe.url=this.proxyObservable(T,"url"),Pe.params=this.proxyObservable(T,"params"),Pe.queryParams=this.proxyObservable(T,"queryParams"),Pe.fragment=this.proxyObservable(T,"fragment"),Pe.data=this.proxyObservable(T,"data"),Pe}proxyObservable(T,Z){return T.pipe((0,gt.h)(Pe=>!!Pe),(0,_t.w)(Pe=>this.currentActivatedRoute$.pipe((0,gt.h)(qt=>null!==qt&&qt.component===Pe),(0,_t.w)(qt=>qt&&qt.activatedRoute[Z]),(0,Ye.x)())))}updateActivatedRouteProxy(T,Z){const Pe=this.proxyMap.get(T);if(!Pe)throw new Error("Could not find activated route proxy for view");Pe._futureSnapshot=Z._futureSnapshot,Pe._routerState=Z._routerState,Pe.snapshot=Z.snapshot,Pe.outlet=Z.outlet,Pe.component=Z.component,this.currentActivatedRoute$.next({component:T,activatedRoute:Z})}}return S.\u0275fac=function(T){return new(T||S)(g.$8M("name"),g.$8M("tabs"),g.Y36(Oe.Ye),g.Y36(g.SBq),g.Y36(Ce.F0),g.Y36(g.R0b),g.Y36(Ce.gz),g.Y36(S,12))},S.\u0275dir=g.lG2({type:S,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),S})();class _r{constructor(te,T,Z){this.route=te,this.childContexts=T,this.parent=Z}get(te,T){return te===Ce.gz?this.route:te===Ce.y6?this.childContexts:this.parent.get(te,T)}}class Ui{constructor(te){this.ctrl=te}create(te){return this.ctrl.create(te||{})}dismiss(te,T,Z){return this.ctrl.dismiss(te,T,Z)}getTop(){return this.ctrl.getTop()}}let us=(()=>{class S extends Ui{constructor(){super(we.a)}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Ss=(()=>{class S extends Ui{constructor(){super(we.m),this.angularDelegate=(0,g.f3M)(Li),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})(),br=(()=>{class S extends Ui{constructor(){super(we.c),this.angularDelegate=(0,g.f3M)(Li),this.injector=(0,g.f3M)(g.zs3),this.environmentInjector=(0,g.f3M)(g.lqb)}create(T){return super.create({...T,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})();class ri{shouldDetach(te){return!1}shouldAttach(te){return!1}store(te,T){}retrieve(te){return null}shouldReuseRoute(te,T){if(te.routeConfig!==T.routeConfig)return!1;const Z=te.params,Pe=T.params,qt=Object.keys(Z),Bn=Object.keys(Pe);if(qt.length!==Bn.length)return!1;for(const rr of qt)if(Pe[rr]!==Z[rr])return!1;return!0}}const Qs=(S,te,T)=>()=>{if(te.defaultView&&typeof window<"u"){(0,Ze.s)({...S,_zoneGate:qt=>T.run(qt)});const Pe="__zone_symbol__addEventListener"in te.body?"__zone_symbol__addEventListener":"addEventListener";return function St(){var S=[];if(typeof window<"u"){var te=window;(!te.customElements||te.Element&&(!te.Element.prototype.closest||!te.Element.prototype.matches||!te.Element.prototype.remove||!te.Element.prototype.getRootNode))&&S.push(L.e(6748).then(L.t.bind(L,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||te.NodeList&&!te.NodeList.prototype.forEach||!te.fetch||!function(){try{var Z=new URL("b","http://a");return Z.pathname="c%20d","http://a/c%20d"===Z.href&&Z.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&S.push(L.e(2214).then(L.t.bind(L,4144,23)))}return Promise.all(S)}().then(()=>((S,te)=>typeof window>"u"?Promise.resolve():(0,Ge.p)().then(()=>(nt(),(0,Ge.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),te))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:je,jmp:qt=>T.runOutsideAngular(qt),ael(qt,Bn,rr,Dr){qt[Pe](Bn,rr,Dr)},rel(qt,Bn,rr,Dr){qt.removeEventListener(Bn,rr,Dr)}}))}};let xo=(()=>{class S{static forRoot(T){return{ngModule:S,providers:[{provide:fn,useValue:T},{provide:g.ip1,useFactory:Qs,multi:!0,deps:[fn,Oe.K0,g.R0b]}]}}}return S.\u0275fac=function(T){return new(T||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({providers:[Li,Ss,br],imports:[Oe.ez]}),S})()},5132:(un,dt,L)=>{"use strict";L.d(dt,{Gb:()=>y.Gb});var y=L(579)},259:(un,dt,L)=>{"use strict";L.d(dt,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=L(6881);(0,y.registerVersion)("firebase","9.22.1","app")},9260:(un,dt,L)=>{"use strict";L.d(dt,{Z:()=>y.Z});var y=L(3942);y.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(un,dt,L)=>{"use strict";L.r(dt);var y=L(5861),g=L(3942),se=L(1389),ge=L(2090),de=(L(6881),L(1877),L(4859));function Ce(){return window}function be(){return be=(0,y.Z)(function*(W,H,K){var Fe;const{BuildInfo:at}=Ce();(0,se.as)(H.sessionId,"AuthEvent did not contain a session ID");const Be=yield function we(W){return ft.apply(this,arguments)}(H.sessionId),pt={};return(0,se.at)()?pt.ibi=at.packageName:(0,se.au)()?pt.apn=at.packageName:(0,se.av)(W,"operation-not-supported-in-this-environment"),at.displayName&&(pt.appDisplayName=at.displayName),pt.sessionId=Be,(0,se.aw)(W,K,H.type,void 0,null!==(Fe=H.eventId)&&void 0!==Fe?Fe:void 0,pt)}),be.apply(this,arguments)}function ve(){return(ve=(0,y.Z)(function*(W){const{BuildInfo:H}=Ce(),K={};(0,se.at)()?K.iosBundleId=H.packageName:(0,se.au)()?K.androidPackageName=H.packageName:(0,se.av)(W,"operation-not-supported-in-this-environment"),yield(0,se.ax)(W,K)})).apply(this,arguments)}function It(){return(It=(0,y.Z)(function*(W,H,K){const{cordova:Fe}=Ce();let at=()=>{};try{yield new Promise((Be,pt)=>{let Ct=null;function Kt(){var dn;Be();const Gn=null===(dn=Fe.plugins.browsertab)||void 0===dn?void 0:dn.close;"function"==typeof Gn&&Gn(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function Ht(){Ct||(Ct=window.setTimeout(()=>{pt((0,se.az)(W,"redirect-cancelled-by-user"))},2e3))}function sn(){"visible"===(null==document?void 0:document.visibilityState)&&Ht()}H.addPassiveListener(Kt),document.addEventListener("resume",Ht,!1),(0,se.au)()&&document.addEventListener("visibilitychange",sn,!1),at=()=>{H.removePassiveListener(Kt),document.removeEventListener("resume",Ht,!1),document.removeEventListener("visibilitychange",sn,!1),Ct&&window.clearTimeout(Ct)}})}finally{at()}})).apply(this,arguments)}function ft(){return(ft=(0,y.Z)(function*(W){const H=function ot(W){if((0,se.as)(/[0-9a-zA-Z]+/.test(W),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(W);const H=new ArrayBuffer(W.length),K=new Uint8Array(H);for(let Fe=0;Fe<W.length;Fe++)K[Fe]=W.charCodeAt(Fe);return K}(W),K=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(K)).map(at=>at.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class it extends se.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(H=>{this.resolveInialized=H})}addPassiveListener(H){this.passiveListeners.add(H)}removePassiveListener(H){this.passiveListeners.delete(H)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(H){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(H)),super.onEvent(H)}initialized(){var H=this;return(0,y.Z)(function*(){yield H.initPromise})()}}function Ye(W){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,y.Z)(function*(W){const H=yield mt()._get(vt(W));return H&&(yield mt()._remove(vt(W))),H})).apply(this,arguments)}function nt(){const W=[];for(let K=0;K<20;K++){const Fe=Math.floor(62*Math.random());W.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Fe))}return W.join("")}function mt(){return(0,se.aC)(se.b)}function vt(W){return(0,se.aD)("authEvent",W.config.apiKey,W.name)}function He(W){if(null==W||!W.includes("?"))return{};const[H,...K]=W.split("?");return(0,ge.zd)(K.join("?"))}const ke=class Ne{constructor(){this._redirectPersistence=se.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=se.aE,this._overrideRedirectResult=se.aF}_initialize(H){var K=this;return(0,y.Z)(function*(){const Fe=H._key();let at=K.eventManagers.get(Fe);return at||(at=new it(H),K.eventManagers.set(Fe,at),K.attachCallbackListeners(H,at)),at})()}_openPopup(H){(0,se.av)(H,"operation-not-supported-in-this-environment")}_openRedirect(H,K,Fe,at){var Be=this;return(0,y.Z)(function*(){!function Me(W){var H,K,Fe,at,Be,pt,Ct,Kt,Ht,sn;const dn=Ce();(0,se.aA)("function"==typeof(null===(H=null==dn?void 0:dn.universalLinks)||void 0===H?void 0:H.subscribe),W,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,se.aA)(typeof(null===(K=null==dn?void 0:dn.BuildInfo)||void 0===K?void 0:K.packageName)<"u",W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,se.aA)("function"==typeof(null===(Be=null===(at=null===(Fe=null==dn?void 0:dn.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===at?void 0:at.browsertab)||void 0===Be?void 0:Be.openUrl),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,se.aA)("function"==typeof(null===(Kt=null===(Ct=null===(pt=null==dn?void 0:dn.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===Kt?void 0:Kt.isAvailable),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,se.aA)("function"==typeof(null===(sn=null===(Ht=null==dn?void 0:dn.cordova)||void 0===Ht?void 0:Ht.InAppBrowser)||void 0===sn?void 0:sn.open),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(H);const pt=yield Be._initialize(H);yield pt.initialized(),pt.resetRedirect(),(0,se.aG)(),yield Be._originValidation(H);const Ct=function gt(W,H,K=null){return{type:H,eventId:K,urlResponse:null,sessionId:nt(),postBody:null,tenantId:W.tenantId,error:(0,se.az)(W,"no-auth-event")}}(H,Fe,at);yield function _t(W,H){return mt()._set(vt(W),H)}(H,Ct);const Kt=yield function Te(W,H,K){return be.apply(this,arguments)}(H,Ct,K),Ht=yield function Ue(W){const{cordova:H}=Ce();return new Promise(K=>{H.plugins.browsertab.isAvailable(Fe=>{let at=null;Fe?H.plugins.browsertab.openUrl(W):at=H.InAppBrowser.open(W,(0,se.ay)()?"_blank":"_system","location=yes"),K(at)})})}(Kt);return function Ze(W,H,K){return It.apply(this,arguments)}(H,pt,Ht)})()}_isIframeWebStorageSupported(H,K){throw new Error("Method not implemented.")}_originValidation(H){const K=H._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function ze(W){return ve.apply(this,arguments)}(H)),this.originValidationPromises[K]}attachCallbackListeners(H,K){const{universalLinks:Fe,handleOpenURL:at,BuildInfo:Be}=Ce(),pt=setTimeout((0,y.Z)(function*(){yield Ye(H),K.onEvent(je())}),500),Ct=function(){var sn=(0,y.Z)(function*(dn){clearTimeout(pt);const Gn=yield Ye(H);let Un=null;Gn&&null!=dn&&dn.url&&(Un=function St(W,H){var K,Fe;const at=function De(W){const H=He(W),K=H.link?decodeURIComponent(H.link):void 0,Fe=He(K).link,at=H.deep_link_id?decodeURIComponent(H.deep_link_id):void 0;return He(at).link||at||Fe||K||W}(H);if(at.includes("/__/auth/callback")){const Be=He(at),pt=Be.firebaseError?function ce(W){try{return JSON.parse(W)}catch{return null}}(decodeURIComponent(Be.firebaseError)):null,Ct=null===(Fe=null===(K=null==pt?void 0:pt.code)||void 0===K?void 0:K.split("auth/"))||void 0===Fe?void 0:Fe[1],Kt=Ct?(0,se.az)(Ct):null;return Kt?{type:W.type,eventId:W.eventId,tenantId:W.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:W.type,eventId:W.eventId,tenantId:W.tenantId,sessionId:W.sessionId,urlResponse:at,postBody:null}}return null}(Gn,dn.url)),K.onEvent(Un||je())});return function(Gn){return sn.apply(this,arguments)}}();typeof Fe<"u"&&"function"==typeof Fe.subscribe&&Fe.subscribe(null,Ct);const Kt=at,Ht=`${Be.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var sn=(0,y.Z)(function*(dn){if(dn.toLowerCase().startsWith(Ht)&&Ct({url:dn}),"function"==typeof Kt)try{Kt(dn)}catch(Gn){console.error(Gn)}});return function(dn){return sn.apply(this,arguments)}}()}};function je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,se.az)("no-auth-event")}}function rn(){var W;return(null===(W=null==self?void 0:self.location)||void 0===W?void 0:W.protocol)||null}function tt(W=(0,ge.z$)()){return!("file:"!==rn()&&"ionic:"!==rn()&&"capacitor:"!==rn()||!W.toLowerCase().match(/iphone|ipad|ipod|android/))}function _n(){try{const W=self.localStorage,H=se.aL();if(W)return W.setItem(H,"1"),W.removeItem(H),!function Mn(W=(0,ge.z$)()){return function Jt(){return(0,ge.w1)()&&11===(null==document?void 0:document.documentMode)}()||function cn(W=(0,ge.z$)()){return/Edge\/\d+/.test(W)}(W)}()||(0,ge.hl)()}catch{return Nt()&&(0,ge.hl)()}return!1}function Nt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function In(){return(function At(){return"http:"===rn()||"https:"===rn()}()||(0,ge.ru)()||tt())&&!function kt(){return(0,ge.b$)()||(0,ge.UG)()}()&&_n()&&!Nt()}function Ft(){return tt()&&typeof document<"u"}function hr(){return(hr=(0,y.Z)(function*(){return!!Ft()&&new Promise(W=>{const H=setTimeout(()=>{W(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(H),W(!0)})})})).apply(this,arguments)}const Yt={LOCAL:"local",NONE:"none",SESSION:"session"},Pr=se.aA,er="persistence";function tr(W){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,y.Z)(function*(W){yield W._initializationPromise;const H=En(),K=se.aD(er,W.config.apiKey,W.name);H&&H.setItem(K,W._getPersistence())})).apply(this,arguments)}function En(){var W;try{return(null===(W=function yr(){return typeof window<"u"?window:null}())||void 0===W?void 0:W.sessionStorage)||null}catch{return null}}const xn=se.aA;class fr{constructor(){this.browserResolver=se.aC(se.k),this.cordovaResolver=se.aC(ke),this.underlyingResolver=null,this._redirectPersistence=se.a,this._completeRedirectFn=se.aE,this._overrideRedirectResult=se.aF}_initialize(H){var K=this;return(0,y.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(H)})()}_openPopup(H,K,Fe,at){var Be=this;return(0,y.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openPopup(H,K,Fe,at)})()}_openRedirect(H,K,Fe,at){var Be=this;return(0,y.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openRedirect(H,K,Fe,at)})()}_isIframeWebStorageSupported(H,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(H,K)}_originValidation(H){return this.assertedUnderlyingResolver._originValidation(H)}get _shouldInitProactively(){return Ft()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var H=this;return(0,y.Z)(function*(){if(H.underlyingResolver)return;const K=yield function Kn(){return hr.apply(this,arguments)}();H.underlyingResolver=K?H.cordovaResolver:H.browserResolver})()}}function ur(W){return W.unwrap()}function Rr(W){return Wn(W)}function Wn(W){const{_tokenResponse:H}=W instanceof ge.ZR?W.customData:W;if(!H)return null;if(!(W instanceof ge.ZR)&&"temporaryProof"in H&&"phoneNumber"in H)return se.P.credentialFromResult(W);const K=H.providerId;if(!K||K===se.p.PASSWORD)return null;let Fe;switch(K){case se.p.GOOGLE:Fe=se.V;break;case se.p.FACEBOOK:Fe=se.U;break;case se.p.GITHUB:Fe=se.W;break;case se.p.TWITTER:Fe=se.Z;break;default:const{oauthIdToken:at,oauthAccessToken:Be,oauthTokenSecret:pt,pendingToken:Ct,nonce:Kt}=H;return Be||pt||at||Ct?Ct?K.startsWith("saml.")?se.aO._create(K,Ct):se.L._fromParams({providerId:K,signInMethod:K,pendingToken:Ct,idToken:at,accessToken:Be}):new se.X(K).credential({idToken:at,accessToken:Be,rawNonce:Kt}):null}return W instanceof ge.ZR?Fe.credentialFromError(W):Fe.credentialFromResult(W)}function gn(W,H){return H.catch(K=>{throw K instanceof ge.ZR&&function Tr(W,H){var K;const Fe=null===(K=H.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===(null==H?void 0:H.code))H.resolver=new Ut(W,se.aq(W,H));else if(Fe){const at=Wn(H),Be=H;at&&(Be.credential=at,Be.tenantId=Fe.tenantId||void 0,Be.email=Fe.email||void 0,Be.phoneNumber=Fe.phoneNumber||void 0)}}(W,K),K}).then(K=>{const at=K.user;return{operationType:K.operationType,credential:Rr(K),additionalUserInfo:se.ao(K),user:fe.getOrCreate(at)}})}function ei(W,H){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,y.Z)(function*(W,H){const K=yield H;return{verificationId:K.verificationId,confirm:Fe=>gn(W,K.confirm(Fe))}})).apply(this,arguments)}class Ut{constructor(H,K){this.resolver=K,this.auth=function cr(W){return W.wrapped()}(H)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(H){return gn(ur(this.auth),this.resolver.resolveSignIn(H))}}class fe{constructor(H){this._delegate=H,this.multiFactor=se.ar(H)}static getOrCreate(H){return fe.USER_MAP.has(H)||fe.USER_MAP.set(H,new fe(H)),fe.USER_MAP.get(H)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(H){return this._delegate.getIdTokenResult(H)}getIdToken(H){return this._delegate.getIdToken(H)}linkAndRetrieveDataWithCredential(H){return this.linkWithCredential(H)}linkWithCredential(H){var K=this;return(0,y.Z)(function*(){return gn(K.auth,se.a0(K._delegate,H))})()}linkWithPhoneNumber(H,K){var Fe=this;return(0,y.Z)(function*(){return ei(Fe.auth,se.l(Fe._delegate,H,K))})()}linkWithPopup(H){var K=this;return(0,y.Z)(function*(){return gn(K.auth,se.d(K._delegate,H,fr))})()}linkWithRedirect(H){var K=this;return(0,y.Z)(function*(){return yield tr(se.aH(K.auth)),se.g(K._delegate,H,fr)})()}reauthenticateAndRetrieveDataWithCredential(H){return this.reauthenticateWithCredential(H)}reauthenticateWithCredential(H){var K=this;return(0,y.Z)(function*(){return gn(K.auth,se.a1(K._delegate,H))})()}reauthenticateWithPhoneNumber(H,K){return ei(this.auth,se.r(this._delegate,H,K))}reauthenticateWithPopup(H){return gn(this.auth,se.e(this._delegate,H,fr))}reauthenticateWithRedirect(H){var K=this;return(0,y.Z)(function*(){return yield tr(se.aH(K.auth)),se.h(K._delegate,H,fr)})()}sendEmailVerification(H){return se.ae(this._delegate,H)}unlink(H){var K=this;return(0,y.Z)(function*(){return yield se.an(K._delegate,H),K})()}updateEmail(H){return se.aj(this._delegate,H)}updatePassword(H){return se.ak(this._delegate,H)}updatePhoneNumber(H){return se.u(this._delegate,H)}updateProfile(H){return se.ai(this._delegate,H)}verifyBeforeUpdateEmail(H,K){return se.af(this._delegate,H,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fe.USER_MAP=new WeakMap;const Ke=se.aA;let Mt=(()=>{class W{constructor(K,Fe){if(this.app=K,Fe.isInitialized())return this._delegate=Fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:at}=K.options;Ke(at,"invalid-api-key",{appName:K.name}),Ke(at,"invalid-api-key",{appName:K.name});const Be=typeof window<"u"?fr:void 0;this._delegate=Fe.initialize({options:{persistence:wn(at,K.name),popupRedirectResolver:Be}}),this._delegate._updateErrorMap(se.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Fe){se.I(this._delegate,K,Fe)}applyActionCode(K){return se.a5(this._delegate,K)}checkActionCode(K){return se.a6(this._delegate,K)}confirmPasswordReset(K,Fe){return se.a4(this._delegate,K,Fe)}createUserWithEmailAndPassword(K,Fe){var at=this;return(0,y.Z)(function*(){return gn(at._delegate,se.a8(at._delegate,K,Fe))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return se.ad(this._delegate,K)}isSignInWithEmailLink(K){return se.ab(this._delegate,K)}getRedirectResult(){var K=this;return(0,y.Z)(function*(){Ke(In(),K._delegate,"operation-not-supported-in-this-environment");const Fe=yield se.j(K._delegate,fr);return Fe?gn(K._delegate,Promise.resolve(Fe)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function ne(W,H){(0,se.aH)(W)._logFramework(H)}(this._delegate,K)}onAuthStateChanged(K,Fe,at){const{next:Be,error:pt,complete:Ct}=ln(K,Fe,at);return this._delegate.onAuthStateChanged(Be,pt,Ct)}onIdTokenChanged(K,Fe,at){const{next:Be,error:pt,complete:Ct}=ln(K,Fe,at);return this._delegate.onIdTokenChanged(Be,pt,Ct)}sendSignInLinkToEmail(K,Fe){return se.aa(this._delegate,K,Fe)}sendPasswordResetEmail(K,Fe){return se.a3(this._delegate,K,Fe||void 0)}setPersistence(K){var Fe=this;return(0,y.Z)(function*(){let at;switch(function zn(W,H){Pr(Object.values(Yt).includes(H),W,"invalid-persistence-type"),(0,ge.b$)()?Pr(H!==Yt.SESSION,W,"unsupported-persistence-type"):(0,ge.UG)()?Pr(H===Yt.NONE,W,"unsupported-persistence-type"):Nt()?Pr(H===Yt.NONE||H===Yt.LOCAL&&(0,ge.hl)(),W,"unsupported-persistence-type"):Pr(H===Yt.NONE||_n(),W,"unsupported-persistence-type")}(Fe._delegate,K),K){case Yt.SESSION:at=se.a;break;case Yt.LOCAL:at=(yield se.aC(se.i)._isAvailable())?se.i:se.b;break;case Yt.NONE:at=se.N;break;default:return se.av("argument-error",{appName:Fe._delegate.name})}return Fe._delegate.setPersistence(at)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return gn(this._delegate,se._(this._delegate))}signInWithCredential(K){return gn(this._delegate,se.$(this._delegate,K))}signInWithCustomToken(K){return gn(this._delegate,se.a2(this._delegate,K))}signInWithEmailAndPassword(K,Fe){return gn(this._delegate,se.a9(this._delegate,K,Fe))}signInWithEmailLink(K,Fe){return gn(this._delegate,se.ac(this._delegate,K,Fe))}signInWithPhoneNumber(K,Fe){return ei(this._delegate,se.s(this._delegate,K,Fe))}signInWithPopup(K){var Fe=this;return(0,y.Z)(function*(){return Ke(In(),Fe._delegate,"operation-not-supported-in-this-environment"),gn(Fe._delegate,se.c(Fe._delegate,K,fr))})()}signInWithRedirect(K){var Fe=this;return(0,y.Z)(function*(){return Ke(In(),Fe._delegate,"operation-not-supported-in-this-environment"),yield tr(Fe._delegate),se.f(Fe._delegate,K,fr)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return se.a7(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return W.Persistence=Yt,W})();function ln(W,H,K){let Fe=W;"function"!=typeof W&&({next:Fe,error:H,complete:K}=W);const at=Fe;return{next:pt=>at(pt&&fe.getOrCreate(pt)),error:H,complete:K}}function wn(W,H){const K=function Cn(W,H){const K=En();if(!K)return[];const Fe=se.aD(er,W,H);switch(K.getItem(Fe)){case Yt.NONE:return[se.N];case Yt.LOCAL:return[se.i,se.a];case Yt.SESSION:return[se.a];default:return[]}}(W,H);if(typeof self<"u"&&!K.includes(se.i)&&K.push(se.i),typeof window<"u")for(const Fe of[se.b,se.a])K.includes(Fe)||K.push(Fe);return K.includes(se.N)||K.push(se.N),K}class pr{constructor(){this.providerId="phone",this._delegate=new se.P(ur(g.Z.auth()))}static credential(H,K){return se.P.credential(H,K)}verifyPhoneNumber(H,K){return this._delegate.verifyPhoneNumber(H,K)}unwrap(){return this._delegate}}pr.PHONE_SIGN_IN_METHOD=se.P.PHONE_SIGN_IN_METHOD,pr.PROVIDER_ID=se.P.PROVIDER_ID;const Xn=se.aA;class gr{constructor(H,K,Fe=g.Z.app()){var at;Xn(null===(at=Fe.options)||void 0===at?void 0:at.apiKey,"invalid-api-key",{appName:Fe.name}),this._delegate=new se.R(H,K,Fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(W){W.INTERNAL.registerComponent(new de.wA("auth-compat",H=>{const K=H.getProvider("app-compat").getImmediate(),Fe=H.getProvider("auth");return new Mt(K,Fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:se.A.EMAIL_SIGNIN,PASSWORD_RESET:se.A.PASSWORD_RESET,RECOVER_EMAIL:se.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:se.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:se.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:se.A.VERIFY_EMAIL}},EmailAuthProvider:se.Q,FacebookAuthProvider:se.U,GithubAuthProvider:se.W,GoogleAuthProvider:se.V,OAuthProvider:se.X,SAMLAuthProvider:se.Y,PhoneAuthProvider:pr,PhoneMultiFactorGenerator:se.m,RecaptchaVerifier:gr,TwitterAuthProvider:se.Z,Auth:Mt,AuthCredential:se.J,Error:ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),W.registerVersion("@firebase/auth-compat","0.4.2")}(g.Z)},5861:(un,dt,L)=>{"use strict";function y(se,ge,xe,Ee,de,Ce,Ve){try{var Te=se[Ce](Ve),be=Te.value}catch(ze){return void xe(ze)}Te.done?ge(be):Promise.resolve(be).then(Ee,de)}function g(se){return function(){var ge=this,xe=arguments;return new Promise(function(Ee,de){var Ce=se.apply(ge,xe);function Ve(be){y(Ce,Ee,de,Ve,Te,"next",be)}function Te(be){y(Ce,Ee,de,Ve,Te,"throw",be)}Ve(void 0)})}}L.d(dt,{Z:()=>g})}},un=>{un(un.s=7092)}]);